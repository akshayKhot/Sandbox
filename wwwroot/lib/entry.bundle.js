/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@aurelia/fetch-client/dist/esm/http-client-configuration.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@aurelia/fetch-client/dist/esm/http-client-configuration.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HttpClientConfiguration\": () => (/* binding */ HttpClientConfiguration)\n/* harmony export */ });\n/* harmony import */ var _retry_interceptor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./retry-interceptor.js */ \"./node_modules/@aurelia/fetch-client/dist/esm/retry-interceptor.js\");\n\n/**\n * A class for configuring HttpClients.\n */\nclass HttpClientConfiguration {\n    constructor() {\n        /**\n         * The base URL to be prepended to each Request's url before sending.\n         */\n        this.baseUrl = '';\n        /**\n         * Default values to apply to init objects when creating Requests. Note that\n         * defaults cannot be applied when Request objects are manually created because\n         * Request provides its own defaults and discards the original init object.\n         * See also https://developer.mozilla.org/en-US/docs/Web/API/Request/Request\n         */\n        this.defaults = {};\n        /**\n         * Interceptors to be added to the HttpClient.\n         */\n        this.interceptors = [];\n        this.dispatcher = null;\n    }\n    /**\n     * Sets the baseUrl.\n     *\n     * @param baseUrl - The base URL.\n     * @returns The chainable instance of this configuration object.\n     * @chainable\n     */\n    withBaseUrl(baseUrl) {\n        this.baseUrl = baseUrl;\n        return this;\n    }\n    /**\n     * Sets the defaults.\n     *\n     * @param defaults - The defaults.\n     * @returns The chainable instance of this configuration object.\n     * @chainable\n     */\n    withDefaults(defaults) {\n        this.defaults = defaults;\n        return this;\n    }\n    /**\n     * Adds an interceptor to be run on all requests or responses.\n     *\n     * @param interceptor - An object with request, requestError,\n     * response, or responseError methods. request and requestError act as\n     * resolve and reject handlers for the Request before it is sent.\n     * response and responseError act as resolve and reject handlers for\n     * the Response after it has been received.\n     * @returns The chainable instance of this configuration object.\n     * @chainable\n     */\n    withInterceptor(interceptor) {\n        this.interceptors.push(interceptor);\n        return this;\n    }\n    /**\n     * Applies a configuration that addresses common application needs, including\n     * configuring same-origin credentials, and using rejectErrorResponses.\n     *\n     * @returns The chainable instance of this configuration object.\n     * @chainable\n     */\n    useStandardConfiguration() {\n        const standardConfig = { credentials: 'same-origin' };\n        Object.assign(this.defaults, standardConfig, this.defaults);\n        return this.rejectErrorResponses();\n    }\n    /**\n     * Causes Responses whose status codes fall outside the range 200-299 to reject.\n     * The fetch API only rejects on network errors or other conditions that prevent\n     * the request from completing, meaning consumers must inspect Response.ok in the\n     * Promise continuation to determine if the server responded with a success code.\n     * This method adds a response interceptor that causes Responses with error codes\n     * to be rejected, which is common behavior in HTTP client libraries.\n     *\n     * @returns The chainable instance of this configuration object.\n     * @chainable\n     */\n    rejectErrorResponses() {\n        return this.withInterceptor({ response: rejectOnError });\n    }\n    withRetry(config) {\n        const interceptor = new _retry_interceptor_js__WEBPACK_IMPORTED_MODULE_0__.RetryInterceptor(config);\n        return this.withInterceptor(interceptor);\n    }\n    withDispatcher(dispatcher) {\n        this.dispatcher = dispatcher;\n        return this;\n    }\n}\nfunction rejectOnError(response) {\n    if (!response.ok) {\n        throw response;\n    }\n    return response;\n}\n//# sourceMappingURL=http-client-configuration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvZmV0Y2gtY2xpZW50L2Rpc3QvZXNtL2h0dHAtY2xpZW50LWNvbmZpZ3VyYXRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvZmV0Y2gtY2xpZW50L2Rpc3QvZXNtL2h0dHAtY2xpZW50LWNvbmZpZ3VyYXRpb24uanM/NGExYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXRyeUludGVyY2VwdG9yIH0gZnJvbSAnLi9yZXRyeS1pbnRlcmNlcHRvci5qcyc7XG4vKipcbiAqIEEgY2xhc3MgZm9yIGNvbmZpZ3VyaW5nIEh0dHBDbGllbnRzLlxuICovXG5leHBvcnQgY2xhc3MgSHR0cENsaWVudENvbmZpZ3VyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgVVJMIHRvIGJlIHByZXBlbmRlZCB0byBlYWNoIFJlcXVlc3QncyB1cmwgYmVmb3JlIHNlbmRpbmcuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgdmFsdWVzIHRvIGFwcGx5IHRvIGluaXQgb2JqZWN0cyB3aGVuIGNyZWF0aW5nIFJlcXVlc3RzLiBOb3RlIHRoYXRcbiAgICAgICAgICogZGVmYXVsdHMgY2Fubm90IGJlIGFwcGxpZWQgd2hlbiBSZXF1ZXN0IG9iamVjdHMgYXJlIG1hbnVhbGx5IGNyZWF0ZWQgYmVjYXVzZVxuICAgICAgICAgKiBSZXF1ZXN0IHByb3ZpZGVzIGl0cyBvd24gZGVmYXVsdHMgYW5kIGRpc2NhcmRzIHRoZSBvcmlnaW5hbCBpbml0IG9iamVjdC5cbiAgICAgICAgICogU2VlIGFsc28gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JlcXVlc3QvUmVxdWVzdFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0cyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJjZXB0b3JzIHRvIGJlIGFkZGVkIHRvIHRoZSBIdHRwQ2xpZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmNlcHRvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmFzZVVybC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiYXNlVXJsIC0gVGhlIGJhc2UgVVJMLlxuICAgICAqIEByZXR1cm5zIFRoZSBjaGFpbmFibGUgaW5zdGFuY2Ugb2YgdGhpcyBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgd2l0aEJhc2VVcmwoYmFzZVVybCkge1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZGVmYXVsdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGVmYXVsdHMgLSBUaGUgZGVmYXVsdHMuXG4gICAgICogQHJldHVybnMgVGhlIGNoYWluYWJsZSBpbnN0YW5jZSBvZiB0aGlzIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICB3aXRoRGVmYXVsdHMoZGVmYXVsdHMpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBpbnRlcmNlcHRvciB0byBiZSBydW4gb24gYWxsIHJlcXVlc3RzIG9yIHJlc3BvbnNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbnRlcmNlcHRvciAtIEFuIG9iamVjdCB3aXRoIHJlcXVlc3QsIHJlcXVlc3RFcnJvcixcbiAgICAgKiByZXNwb25zZSwgb3IgcmVzcG9uc2VFcnJvciBtZXRob2RzLiByZXF1ZXN0IGFuZCByZXF1ZXN0RXJyb3IgYWN0IGFzXG4gICAgICogcmVzb2x2ZSBhbmQgcmVqZWN0IGhhbmRsZXJzIGZvciB0aGUgUmVxdWVzdCBiZWZvcmUgaXQgaXMgc2VudC5cbiAgICAgKiByZXNwb25zZSBhbmQgcmVzcG9uc2VFcnJvciBhY3QgYXMgcmVzb2x2ZSBhbmQgcmVqZWN0IGhhbmRsZXJzIGZvclxuICAgICAqIHRoZSBSZXNwb25zZSBhZnRlciBpdCBoYXMgYmVlbiByZWNlaXZlZC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2hhaW5hYmxlIGluc3RhbmNlIG9mIHRoaXMgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHdpdGhJbnRlcmNlcHRvcihpbnRlcmNlcHRvcikge1xuICAgICAgICB0aGlzLmludGVyY2VwdG9ycy5wdXNoKGludGVyY2VwdG9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBjb25maWd1cmF0aW9uIHRoYXQgYWRkcmVzc2VzIGNvbW1vbiBhcHBsaWNhdGlvbiBuZWVkcywgaW5jbHVkaW5nXG4gICAgICogY29uZmlndXJpbmcgc2FtZS1vcmlnaW4gY3JlZGVudGlhbHMsIGFuZCB1c2luZyByZWplY3RFcnJvclJlc3BvbnNlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBjaGFpbmFibGUgaW5zdGFuY2Ugb2YgdGhpcyBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgdXNlU3RhbmRhcmRDb25maWd1cmF0aW9uKCkge1xuICAgICAgICBjb25zdCBzdGFuZGFyZENvbmZpZyA9IHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmRlZmF1bHRzLCBzdGFuZGFyZENvbmZpZywgdGhpcy5kZWZhdWx0cyk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlamVjdEVycm9yUmVzcG9uc2VzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhdXNlcyBSZXNwb25zZXMgd2hvc2Ugc3RhdHVzIGNvZGVzIGZhbGwgb3V0c2lkZSB0aGUgcmFuZ2UgMjAwLTI5OSB0byByZWplY3QuXG4gICAgICogVGhlIGZldGNoIEFQSSBvbmx5IHJlamVjdHMgb24gbmV0d29yayBlcnJvcnMgb3Igb3RoZXIgY29uZGl0aW9ucyB0aGF0IHByZXZlbnRcbiAgICAgKiB0aGUgcmVxdWVzdCBmcm9tIGNvbXBsZXRpbmcsIG1lYW5pbmcgY29uc3VtZXJzIG11c3QgaW5zcGVjdCBSZXNwb25zZS5vayBpbiB0aGVcbiAgICAgKiBQcm9taXNlIGNvbnRpbnVhdGlvbiB0byBkZXRlcm1pbmUgaWYgdGhlIHNlcnZlciByZXNwb25kZWQgd2l0aCBhIHN1Y2Nlc3MgY29kZS5cbiAgICAgKiBUaGlzIG1ldGhvZCBhZGRzIGEgcmVzcG9uc2UgaW50ZXJjZXB0b3IgdGhhdCBjYXVzZXMgUmVzcG9uc2VzIHdpdGggZXJyb3IgY29kZXNcbiAgICAgKiB0byBiZSByZWplY3RlZCwgd2hpY2ggaXMgY29tbW9uIGJlaGF2aW9yIGluIEhUVFAgY2xpZW50IGxpYnJhcmllcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBjaGFpbmFibGUgaW5zdGFuY2Ugb2YgdGhpcyBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgcmVqZWN0RXJyb3JSZXNwb25zZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhJbnRlcmNlcHRvcih7IHJlc3BvbnNlOiByZWplY3RPbkVycm9yIH0pO1xuICAgIH1cbiAgICB3aXRoUmV0cnkoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGludGVyY2VwdG9yID0gbmV3IFJldHJ5SW50ZXJjZXB0b3IoY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aEludGVyY2VwdG9yKGludGVyY2VwdG9yKTtcbiAgICB9XG4gICAgd2l0aERpc3BhdGNoZXIoZGlzcGF0Y2hlcikge1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5mdW5jdGlvbiByZWplY3RPbkVycm9yKHJlc3BvbnNlKSB7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyByZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cC1jbGllbnQtY29uZmlndXJhdGlvbi5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/fetch-client/dist/esm/http-client-configuration.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/fetch-client/dist/esm/http-client.js":
/*!********************************************************************!*\
  !*** ./node_modules/@aurelia/fetch-client/dist/esm/http-client.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IHttpClient\": () => (/* binding */ IHttpClient),\n/* harmony export */   \"HttpClient\": () => (/* binding */ HttpClient)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _http_client_configuration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http-client-configuration.js */ \"./node_modules/@aurelia/fetch-client/dist/esm/http-client-configuration.js\");\n/* harmony import */ var _retry_interceptor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./retry-interceptor.js */ \"./node_modules/@aurelia/fetch-client/dist/esm/retry-interceptor.js\");\n\n\n\nconst absoluteUrlRegexp = /^([a-z][a-z0-9+\\-.]*:)?\\/\\//i;\nconst IHttpClient = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IHttpClient', x => x.singleton(HttpClient));\n/**\n * An HTTP client based on the Fetch API.\n */\nclass HttpClient {\n    /**\n     * Creates an instance of HttpClient.\n     */\n    constructor() {\n        this.dispatcher = null;\n        this.activeRequestCount = 0;\n        this.isRequesting = false;\n        this.isConfigured = false;\n        this.baseUrl = '';\n        this.defaults = null;\n        this.interceptors = [];\n    }\n    /**\n     * Configure this client with default settings to be used by all requests.\n     *\n     * @param config - A configuration object, or a function that takes a config\n     * object and configures it.\n     * @returns The chainable instance of this HttpClient.\n     * @chainable\n     */\n    configure(config) {\n        let normalizedConfig;\n        if (typeof config === 'object') {\n            const requestInitConfiguration = { defaults: config };\n            normalizedConfig = requestInitConfiguration;\n        }\n        else if (typeof config === 'function') {\n            normalizedConfig = new _http_client_configuration_js__WEBPACK_IMPORTED_MODULE_1__.HttpClientConfiguration();\n            normalizedConfig.baseUrl = this.baseUrl;\n            normalizedConfig.defaults = { ...this.defaults };\n            normalizedConfig.interceptors = this.interceptors;\n            normalizedConfig.dispatcher = this.dispatcher;\n            const c = config(normalizedConfig);\n            if (Object.prototype.isPrototypeOf.call(_http_client_configuration_js__WEBPACK_IMPORTED_MODULE_1__.HttpClientConfiguration.prototype, c)) {\n                normalizedConfig = c;\n            }\n        }\n        else {\n            throw new Error('invalid config');\n        }\n        const defaults = normalizedConfig.defaults;\n        if (defaults !== undefined && Object.prototype.isPrototypeOf.call(Headers.prototype, defaults.headers)) {\n            // Headers instances are not iterable in all browsers. Require a plain\n            // object here to allow default headers to be merged into request headers.\n            throw new Error('Default headers must be a plain object.');\n        }\n        const interceptors = normalizedConfig.interceptors;\n        if (interceptors !== undefined && interceptors.length) {\n            // find if there is a RetryInterceptor\n            if (interceptors.filter(x => Object.prototype.isPrototypeOf.call(_retry_interceptor_js__WEBPACK_IMPORTED_MODULE_2__.RetryInterceptor.prototype, x)).length > 1) {\n                throw new Error('Only one RetryInterceptor is allowed.');\n            }\n            const retryInterceptorIndex = interceptors.findIndex(x => Object.prototype.isPrototypeOf.call(_retry_interceptor_js__WEBPACK_IMPORTED_MODULE_2__.RetryInterceptor.prototype, x));\n            if (retryInterceptorIndex >= 0 && retryInterceptorIndex !== interceptors.length - 1) {\n                throw new Error('The retry interceptor must be the last interceptor defined.');\n            }\n        }\n        this.baseUrl = normalizedConfig.baseUrl;\n        this.defaults = defaults;\n        this.interceptors = normalizedConfig.interceptors !== undefined ? normalizedConfig.interceptors : [];\n        this.dispatcher = normalizedConfig.dispatcher;\n        this.isConfigured = true;\n        return this;\n    }\n    /**\n     * Starts the process of fetching a resource. Default configuration parameters\n     * will be applied to the Request. The constructed Request will be passed to\n     * registered request interceptors before being sent. The Response will be passed\n     * to registered Response interceptors before it is returned.\n     *\n     * See also https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\n     *\n     * @param input - The resource that you wish to fetch. Either a\n     * Request object, or a string containing the URL of the resource.\n     * @param init - An options object containing settings to be applied to\n     * the Request.\n     * @returns A Promise for the Response from the fetch request.\n     */\n    fetch(input, init) {\n        this.trackRequestStart();\n        let request = this.buildRequest(input, init);\n        return this.processRequest(request, this.interceptors).then(result => {\n            let response;\n            if (Object.prototype.isPrototypeOf.call(Response.prototype, result)) {\n                response = Promise.resolve(result);\n            }\n            else if (Object.prototype.isPrototypeOf.call(Request.prototype, result)) {\n                request = result;\n                response = fetch(request);\n            }\n            else {\n                throw new Error(`An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got [${result}]`);\n            }\n            return this.processResponse(response, this.interceptors, request);\n        })\n            .then(result => {\n            if (Object.prototype.isPrototypeOf.call(Request.prototype, result)) {\n                return this.fetch(result);\n            }\n            return result;\n        })\n            .then(result => {\n            this.trackRequestEnd();\n            return result;\n        }, error => {\n            this.trackRequestEnd();\n            throw error;\n        });\n    }\n    buildRequest(input, init) {\n        const defaults = this.defaults !== null ? this.defaults : {};\n        let request;\n        let body;\n        let requestContentType;\n        const parsedDefaultHeaders = parseHeaderValues(defaults.headers);\n        if (Object.prototype.isPrototypeOf.call(Request.prototype, input)) {\n            request = input;\n            requestContentType = new Headers(request.headers).get('Content-Type');\n        }\n        else {\n            if (!init) {\n                init = {};\n            }\n            body = init.body;\n            const bodyObj = body !== undefined ? { body: body } : null;\n            const requestInit = { ...defaults, headers: {}, ...init, ...bodyObj };\n            requestContentType = new Headers(requestInit.headers).get('Content-Type');\n            request = new Request(getRequestUrl(this.baseUrl, input), requestInit);\n        }\n        if (!requestContentType) {\n            if (new Headers(parsedDefaultHeaders).has('content-type')) {\n                request.headers.set('Content-Type', new Headers(parsedDefaultHeaders).get('content-type'));\n            }\n            else if (body !== undefined && isJSON(body)) {\n                request.headers.set('Content-Type', 'application/json');\n            }\n        }\n        setDefaultHeaders(request.headers, parsedDefaultHeaders);\n        if (body !== undefined && Object.prototype.isPrototypeOf.call(Blob.prototype, body) && body.type) {\n            // work around bug in IE & Edge where the Blob type is ignored in the request\n            // https://connect.microsoft.com/IE/feedback/details/2136163\n            request.headers.set('Content-Type', body.type);\n        }\n        return request;\n    }\n    /**\n     * Calls fetch as a GET request.\n     *\n     * @param input - The resource that you wish to fetch. Either a\n     * Request object, or a string containing the URL of the resource.\n     * @param init - An options object containing settings to be applied to\n     * the Request.\n     * @returns A Promise for the Response from the fetch request.\n     */\n    get(input, init) {\n        return this.fetch(input, init);\n    }\n    /**\n     * Calls fetch with request method set to POST.\n     *\n     * @param input - The resource that you wish to fetch. Either a\n     * Request object, or a string containing the URL of the resource.\n     * @param body - The body of the request.\n     * @param init - An options object containing settings to be applied to\n     * the Request.\n     * @returns A Promise for the Response from the fetch request.\n     */\n    post(input, body, init) {\n        return this.callFetch(input, body, init, 'POST');\n    }\n    /**\n     * Calls fetch with request method set to PUT.\n     *\n     * @param input - The resource that you wish to fetch. Either a\n     * Request object, or a string containing the URL of the resource.\n     * @param body - The body of the request.\n     * @param init - An options object containing settings to be applied to\n     * the Request.\n     * @returns A Promise for the Response from the fetch request.\n     */\n    put(input, body, init) {\n        return this.callFetch(input, body, init, 'PUT');\n    }\n    /**\n     * Calls fetch with request method set to PATCH.\n     *\n     * @param input - The resource that you wish to fetch. Either a\n     * Request object, or a string containing the URL of the resource.\n     * @param body - The body of the request.\n     * @param init - An options object containing settings to be applied to\n     * the Request.\n     * @returns A Promise for the Response from the fetch request.\n     */\n    patch(input, body, init) {\n        return this.callFetch(input, body, init, 'PATCH');\n    }\n    /**\n     * Calls fetch with request method set to DELETE.\n     *\n     * @param input - The resource that you wish to fetch. Either a\n     * Request object, or a string containing the URL of the resource.\n     * @param body - The body of the request.\n     * @param init - An options object containing settings to be applied to\n     * the Request.\n     * @returns A Promise for the Response from the fetch request.\n     */\n    delete(input, body, init) {\n        return this.callFetch(input, body, init, 'DELETE');\n    }\n    trackRequestStart() {\n        this.isRequesting = !!(++this.activeRequestCount);\n        if (this.isRequesting && this.dispatcher !== null) {\n            const evt = new this.dispatcher.ownerDocument.defaultView.CustomEvent('aurelia-fetch-client-request-started', { bubbles: true, cancelable: true });\n            setTimeout(() => { this.dispatcher.dispatchEvent(evt); }, 1);\n        }\n    }\n    trackRequestEnd() {\n        this.isRequesting = !!(--this.activeRequestCount);\n        if (!this.isRequesting && this.dispatcher !== null) {\n            const evt = new this.dispatcher.ownerDocument.defaultView.CustomEvent('aurelia-fetch-client-requests-drained', { bubbles: true, cancelable: true });\n            setTimeout(() => { this.dispatcher.dispatchEvent(evt); }, 1);\n        }\n    }\n    processRequest(request, interceptors) {\n        return this.applyInterceptors(request, interceptors, 'request', 'requestError', this);\n    }\n    processResponse(response, interceptors, request) {\n        return this.applyInterceptors(response, interceptors, 'response', 'responseError', request, this);\n    }\n    applyInterceptors(input, interceptors, successName, errorName, ...interceptorArgs) {\n        return (interceptors !== undefined ? interceptors : [])\n            .reduce((chain, interceptor) => {\n            const successHandler = interceptor[successName];\n            const errorHandler = interceptor[errorName];\n            // TODO: Fix this, as it violates `strictBindCallApply`.\n            return chain.then(successHandler ? (value => successHandler.call(interceptor, value, ...interceptorArgs)) : identity, errorHandler ? (reason => errorHandler.call(interceptor, reason, ...interceptorArgs)) : thrower);\n        }, Promise.resolve(input));\n    }\n    callFetch(input, body, init, method) {\n        if (!init) {\n            init = {};\n        }\n        init.method = method;\n        if (body) {\n            init.body = body;\n        }\n        return this.fetch(input, init);\n    }\n}\nfunction parseHeaderValues(headers) {\n    const parsedHeaders = {};\n    const $headers = headers !== undefined ? headers : {};\n    for (const name in $headers) {\n        if (Object.prototype.hasOwnProperty.call($headers, name)) {\n            parsedHeaders[name] = (typeof $headers[name] === 'function')\n                ? $headers[name]()\n                : $headers[name];\n        }\n    }\n    return parsedHeaders;\n}\nfunction getRequestUrl(baseUrl, url) {\n    if (absoluteUrlRegexp.test(url)) {\n        return url;\n    }\n    return (baseUrl !== undefined ? baseUrl : '') + url;\n}\nfunction setDefaultHeaders(headers, defaultHeaders) {\n    const $defaultHeaders = defaultHeaders !== undefined ? defaultHeaders : {};\n    for (const name in $defaultHeaders) {\n        if (Object.prototype.hasOwnProperty.call($defaultHeaders, name) && !headers.has(name)) {\n            headers.set(name, $defaultHeaders[name]);\n        }\n    }\n}\nfunction isJSON(str) {\n    try {\n        JSON.parse(str);\n    }\n    catch (err) {\n        return false;\n    }\n    return true;\n}\nfunction identity(x) {\n    return x;\n}\nfunction thrower(x) {\n    throw x;\n}\n//# sourceMappingURL=http-client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvZmV0Y2gtY2xpZW50L2Rpc3QvZXNtL2h0dHAtY2xpZW50LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL2ZldGNoLWNsaWVudC9kaXN0L2VzbS9odHRwLWNsaWVudC5qcz80MTU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERJIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IEh0dHBDbGllbnRDb25maWd1cmF0aW9uIH0gZnJvbSAnLi9odHRwLWNsaWVudC1jb25maWd1cmF0aW9uLmpzJztcbmltcG9ydCB7IFJldHJ5SW50ZXJjZXB0b3IgfSBmcm9tICcuL3JldHJ5LWludGVyY2VwdG9yLmpzJztcbmNvbnN0IGFic29sdXRlVXJsUmVnZXhwID0gL14oW2Etel1bYS16MC05K1xcLS5dKjopP1xcL1xcLy9pO1xuZXhwb3J0IGNvbnN0IElIdHRwQ2xpZW50ID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJSHR0cENsaWVudCcsIHggPT4geC5zaW5nbGV0b24oSHR0cENsaWVudCkpO1xuLyoqXG4gKiBBbiBIVFRQIGNsaWVudCBiYXNlZCBvbiB0aGUgRmV0Y2ggQVBJLlxuICovXG5leHBvcnQgY2xhc3MgSHR0cENsaWVudCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBIdHRwQ2xpZW50LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmFjdGl2ZVJlcXVlc3RDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuaXNSZXF1ZXN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNDb25maWd1cmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICcnO1xuICAgICAgICB0aGlzLmRlZmF1bHRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnRlcmNlcHRvcnMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIHRoaXMgY2xpZW50IHdpdGggZGVmYXVsdCBzZXR0aW5ncyB0byBiZSB1c2VkIGJ5IGFsbCByZXF1ZXN0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25maWcgLSBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0LCBvciBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBjb25maWdcbiAgICAgKiBvYmplY3QgYW5kIGNvbmZpZ3VyZXMgaXQuXG4gICAgICogQHJldHVybnMgVGhlIGNoYWluYWJsZSBpbnN0YW5jZSBvZiB0aGlzIEh0dHBDbGllbnQuXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNvbmZpZ3VyZShjb25maWcpIHtcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRDb25maWc7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdEluaXRDb25maWd1cmF0aW9uID0geyBkZWZhdWx0czogY29uZmlnIH07XG4gICAgICAgICAgICBub3JtYWxpemVkQ29uZmlnID0gcmVxdWVzdEluaXRDb25maWd1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb25maWcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRDb25maWcgPSBuZXcgSHR0cENsaWVudENvbmZpZ3VyYXRpb24oKTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRDb25maWcuYmFzZVVybCA9IHRoaXMuYmFzZVVybDtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRDb25maWcuZGVmYXVsdHMgPSB7IC4uLnRoaXMuZGVmYXVsdHMgfTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRDb25maWcuaW50ZXJjZXB0b3JzID0gdGhpcy5pbnRlcmNlcHRvcnM7XG4gICAgICAgICAgICBub3JtYWxpemVkQ29uZmlnLmRpc3BhdGNoZXIgPSB0aGlzLmRpc3BhdGNoZXI7XG4gICAgICAgICAgICBjb25zdCBjID0gY29uZmlnKG5vcm1hbGl6ZWRDb25maWcpO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZi5jYWxsKEh0dHBDbGllbnRDb25maWd1cmF0aW9uLnByb3RvdHlwZSwgYykpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkQ29uZmlnID0gYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBjb25maWcnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IG5vcm1hbGl6ZWRDb25maWcuZGVmYXVsdHM7XG4gICAgICAgIGlmIChkZWZhdWx0cyAhPT0gdW5kZWZpbmVkICYmIE9iamVjdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZi5jYWxsKEhlYWRlcnMucHJvdG90eXBlLCBkZWZhdWx0cy5oZWFkZXJzKSkge1xuICAgICAgICAgICAgLy8gSGVhZGVycyBpbnN0YW5jZXMgYXJlIG5vdCBpdGVyYWJsZSBpbiBhbGwgYnJvd3NlcnMuIFJlcXVpcmUgYSBwbGFpblxuICAgICAgICAgICAgLy8gb2JqZWN0IGhlcmUgdG8gYWxsb3cgZGVmYXVsdCBoZWFkZXJzIHRvIGJlIG1lcmdlZCBpbnRvIHJlcXVlc3QgaGVhZGVycy5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGVmYXVsdCBoZWFkZXJzIG11c3QgYmUgYSBwbGFpbiBvYmplY3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW50ZXJjZXB0b3JzID0gbm9ybWFsaXplZENvbmZpZy5pbnRlcmNlcHRvcnM7XG4gICAgICAgIGlmIChpbnRlcmNlcHRvcnMgIT09IHVuZGVmaW5lZCAmJiBpbnRlcmNlcHRvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBmaW5kIGlmIHRoZXJlIGlzIGEgUmV0cnlJbnRlcmNlcHRvclxuICAgICAgICAgICAgaWYgKGludGVyY2VwdG9ycy5maWx0ZXIoeCA9PiBPYmplY3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YuY2FsbChSZXRyeUludGVyY2VwdG9yLnByb3RvdHlwZSwgeCkpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgb25lIFJldHJ5SW50ZXJjZXB0b3IgaXMgYWxsb3dlZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJldHJ5SW50ZXJjZXB0b3JJbmRleCA9IGludGVyY2VwdG9ycy5maW5kSW5kZXgoeCA9PiBPYmplY3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YuY2FsbChSZXRyeUludGVyY2VwdG9yLnByb3RvdHlwZSwgeCkpO1xuICAgICAgICAgICAgaWYgKHJldHJ5SW50ZXJjZXB0b3JJbmRleCA+PSAwICYmIHJldHJ5SW50ZXJjZXB0b3JJbmRleCAhPT0gaW50ZXJjZXB0b3JzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSByZXRyeSBpbnRlcmNlcHRvciBtdXN0IGJlIHRoZSBsYXN0IGludGVyY2VwdG9yIGRlZmluZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYXNlVXJsID0gbm9ybWFsaXplZENvbmZpZy5iYXNlVXJsO1xuICAgICAgICB0aGlzLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0b3JzID0gbm9ybWFsaXplZENvbmZpZy5pbnRlcmNlcHRvcnMgIT09IHVuZGVmaW5lZCA/IG5vcm1hbGl6ZWRDb25maWcuaW50ZXJjZXB0b3JzIDogW107XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IG5vcm1hbGl6ZWRDb25maWcuZGlzcGF0Y2hlcjtcbiAgICAgICAgdGhpcy5pc0NvbmZpZ3VyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSBwcm9jZXNzIG9mIGZldGNoaW5nIGEgcmVzb3VyY2UuIERlZmF1bHQgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gICAgICogd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBSZXF1ZXN0LiBUaGUgY29uc3RydWN0ZWQgUmVxdWVzdCB3aWxsIGJlIHBhc3NlZCB0b1xuICAgICAqIHJlZ2lzdGVyZWQgcmVxdWVzdCBpbnRlcmNlcHRvcnMgYmVmb3JlIGJlaW5nIHNlbnQuIFRoZSBSZXNwb25zZSB3aWxsIGJlIHBhc3NlZFxuICAgICAqIHRvIHJlZ2lzdGVyZWQgUmVzcG9uc2UgaW50ZXJjZXB0b3JzIGJlZm9yZSBpdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIFNlZSBhbHNvIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9GZXRjaF9BUElcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbnB1dCAtIFRoZSByZXNvdXJjZSB0aGF0IHlvdSB3aXNoIHRvIGZldGNoLiBFaXRoZXIgYVxuICAgICAqIFJlcXVlc3Qgb2JqZWN0LCBvciBhIHN0cmluZyBjb250YWluaW5nIHRoZSBVUkwgb2YgdGhlIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBpbml0IC0gQW4gb3B0aW9ucyBvYmplY3QgY29udGFpbmluZyBzZXR0aW5ncyB0byBiZSBhcHBsaWVkIHRvXG4gICAgICogdGhlIFJlcXVlc3QuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIGZvciB0aGUgUmVzcG9uc2UgZnJvbSB0aGUgZmV0Y2ggcmVxdWVzdC5cbiAgICAgKi9cbiAgICBmZXRjaChpbnB1dCwgaW5pdCkge1xuICAgICAgICB0aGlzLnRyYWNrUmVxdWVzdFN0YXJ0KCk7XG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy5idWlsZFJlcXVlc3QoaW5wdXQsIGluaXQpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChyZXF1ZXN0LCB0aGlzLmludGVyY2VwdG9ycykudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZi5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSwgcmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSwgcmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBmZXRjaChyZXF1ZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQW4gaW52YWxpZCByZXN1bHQgd2FzIHJldHVybmVkIGJ5IHRoZSBpbnRlcmNlcHRvciBjaGFpbi4gRXhwZWN0ZWQgYSBSZXF1ZXN0IG9yIFJlc3BvbnNlIGluc3RhbmNlLCBidXQgZ290IFske3Jlc3VsdH1dYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UsIHRoaXMuaW50ZXJjZXB0b3JzLCByZXF1ZXN0KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mLmNhbGwoUmVxdWVzdC5wcm90b3R5cGUsIHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrUmVxdWVzdEVuZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFja1JlcXVlc3RFbmQoKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYnVpbGRSZXF1ZXN0KGlucHV0LCBpbml0KSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0gdGhpcy5kZWZhdWx0cyAhPT0gbnVsbCA/IHRoaXMuZGVmYXVsdHMgOiB7fTtcbiAgICAgICAgbGV0IHJlcXVlc3Q7XG4gICAgICAgIGxldCBib2R5O1xuICAgICAgICBsZXQgcmVxdWVzdENvbnRlbnRUeXBlO1xuICAgICAgICBjb25zdCBwYXJzZWREZWZhdWx0SGVhZGVycyA9IHBhcnNlSGVhZGVyVmFsdWVzKGRlZmF1bHRzLmhlYWRlcnMpO1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mLmNhbGwoUmVxdWVzdC5wcm90b3R5cGUsIGlucHV0KSkge1xuICAgICAgICAgICAgcmVxdWVzdCA9IGlucHV0O1xuICAgICAgICAgICAgcmVxdWVzdENvbnRlbnRUeXBlID0gbmV3IEhlYWRlcnMocmVxdWVzdC5oZWFkZXJzKS5nZXQoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpbml0KSB7XG4gICAgICAgICAgICAgICAgaW5pdCA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm9keSA9IGluaXQuYm9keTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlPYmogPSBib2R5ICE9PSB1bmRlZmluZWQgPyB7IGJvZHk6IGJvZHkgfSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0SW5pdCA9IHsgLi4uZGVmYXVsdHMsIGhlYWRlcnM6IHt9LCAuLi5pbml0LCAuLi5ib2R5T2JqIH07XG4gICAgICAgICAgICByZXF1ZXN0Q29udGVudFR5cGUgPSBuZXcgSGVhZGVycyhyZXF1ZXN0SW5pdC5oZWFkZXJzKS5nZXQoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgICAgICAgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGdldFJlcXVlc3RVcmwodGhpcy5iYXNlVXJsLCBpbnB1dCksIHJlcXVlc3RJbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlcXVlc3RDb250ZW50VHlwZSkge1xuICAgICAgICAgICAgaWYgKG5ldyBIZWFkZXJzKHBhcnNlZERlZmF1bHRIZWFkZXJzKS5oYXMoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgbmV3IEhlYWRlcnMocGFyc2VkRGVmYXVsdEhlYWRlcnMpLmdldCgnY29udGVudC10eXBlJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYm9keSAhPT0gdW5kZWZpbmVkICYmIGlzSlNPTihib2R5KSkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0RGVmYXVsdEhlYWRlcnMocmVxdWVzdC5oZWFkZXJzLCBwYXJzZWREZWZhdWx0SGVhZGVycyk7XG4gICAgICAgIGlmIChib2R5ICE9PSB1bmRlZmluZWQgJiYgT2JqZWN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mLmNhbGwoQmxvYi5wcm90b3R5cGUsIGJvZHkpICYmIGJvZHkudHlwZSkge1xuICAgICAgICAgICAgLy8gd29yayBhcm91bmQgYnVnIGluIElFICYgRWRnZSB3aGVyZSB0aGUgQmxvYiB0eXBlIGlzIGlnbm9yZWQgaW4gdGhlIHJlcXVlc3RcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvMjEzNjE2M1xuICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgYm9keS50eXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbHMgZmV0Y2ggYXMgYSBHRVQgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbnB1dCAtIFRoZSByZXNvdXJjZSB0aGF0IHlvdSB3aXNoIHRvIGZldGNoLiBFaXRoZXIgYVxuICAgICAqIFJlcXVlc3Qgb2JqZWN0LCBvciBhIHN0cmluZyBjb250YWluaW5nIHRoZSBVUkwgb2YgdGhlIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBpbml0IC0gQW4gb3B0aW9ucyBvYmplY3QgY29udGFpbmluZyBzZXR0aW5ncyB0byBiZSBhcHBsaWVkIHRvXG4gICAgICogdGhlIFJlcXVlc3QuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIGZvciB0aGUgUmVzcG9uc2UgZnJvbSB0aGUgZmV0Y2ggcmVxdWVzdC5cbiAgICAgKi9cbiAgICBnZXQoaW5wdXQsIGluaXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goaW5wdXQsIGluaXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxscyBmZXRjaCB3aXRoIHJlcXVlc3QgbWV0aG9kIHNldCB0byBQT1NULlxuICAgICAqXG4gICAgICogQHBhcmFtIGlucHV0IC0gVGhlIHJlc291cmNlIHRoYXQgeW91IHdpc2ggdG8gZmV0Y2guIEVpdGhlciBhXG4gICAgICogUmVxdWVzdCBvYmplY3QsIG9yIGEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIFVSTCBvZiB0aGUgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIGJvZHkgLSBUaGUgYm9keSBvZiB0aGUgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gaW5pdCAtIEFuIG9wdGlvbnMgb2JqZWN0IGNvbnRhaW5pbmcgc2V0dGluZ3MgdG8gYmUgYXBwbGllZCB0b1xuICAgICAqIHRoZSBSZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSBmb3IgdGhlIFJlc3BvbnNlIGZyb20gdGhlIGZldGNoIHJlcXVlc3QuXG4gICAgICovXG4gICAgcG9zdChpbnB1dCwgYm9keSwgaW5pdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsRmV0Y2goaW5wdXQsIGJvZHksIGluaXQsICdQT1NUJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIGZldGNoIHdpdGggcmVxdWVzdCBtZXRob2Qgc2V0IHRvIFBVVC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbnB1dCAtIFRoZSByZXNvdXJjZSB0aGF0IHlvdSB3aXNoIHRvIGZldGNoLiBFaXRoZXIgYVxuICAgICAqIFJlcXVlc3Qgb2JqZWN0LCBvciBhIHN0cmluZyBjb250YWluaW5nIHRoZSBVUkwgb2YgdGhlIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBib2R5IC0gVGhlIGJvZHkgb2YgdGhlIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIGluaXQgLSBBbiBvcHRpb25zIG9iamVjdCBjb250YWluaW5nIHNldHRpbmdzIHRvIGJlIGFwcGxpZWQgdG9cbiAgICAgKiB0aGUgUmVxdWVzdC5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgZm9yIHRoZSBSZXNwb25zZSBmcm9tIHRoZSBmZXRjaCByZXF1ZXN0LlxuICAgICAqL1xuICAgIHB1dChpbnB1dCwgYm9keSwgaW5pdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsRmV0Y2goaW5wdXQsIGJvZHksIGluaXQsICdQVVQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbHMgZmV0Y2ggd2l0aCByZXF1ZXN0IG1ldGhvZCBzZXQgdG8gUEFUQ0guXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5wdXQgLSBUaGUgcmVzb3VyY2UgdGhhdCB5b3Ugd2lzaCB0byBmZXRjaC4gRWl0aGVyIGFcbiAgICAgKiBSZXF1ZXN0IG9iamVjdCwgb3IgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgVVJMIG9mIHRoZSByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gYm9keSAtIFRoZSBib2R5IG9mIHRoZSByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBpbml0IC0gQW4gb3B0aW9ucyBvYmplY3QgY29udGFpbmluZyBzZXR0aW5ncyB0byBiZSBhcHBsaWVkIHRvXG4gICAgICogdGhlIFJlcXVlc3QuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIGZvciB0aGUgUmVzcG9uc2UgZnJvbSB0aGUgZmV0Y2ggcmVxdWVzdC5cbiAgICAgKi9cbiAgICBwYXRjaChpbnB1dCwgYm9keSwgaW5pdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsRmV0Y2goaW5wdXQsIGJvZHksIGluaXQsICdQQVRDSCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxscyBmZXRjaCB3aXRoIHJlcXVlc3QgbWV0aG9kIHNldCB0byBERUxFVEUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5wdXQgLSBUaGUgcmVzb3VyY2UgdGhhdCB5b3Ugd2lzaCB0byBmZXRjaC4gRWl0aGVyIGFcbiAgICAgKiBSZXF1ZXN0IG9iamVjdCwgb3IgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgVVJMIG9mIHRoZSByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gYm9keSAtIFRoZSBib2R5IG9mIHRoZSByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBpbml0IC0gQW4gb3B0aW9ucyBvYmplY3QgY29udGFpbmluZyBzZXR0aW5ncyB0byBiZSBhcHBsaWVkIHRvXG4gICAgICogdGhlIFJlcXVlc3QuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIGZvciB0aGUgUmVzcG9uc2UgZnJvbSB0aGUgZmV0Y2ggcmVxdWVzdC5cbiAgICAgKi9cbiAgICBkZWxldGUoaW5wdXQsIGJvZHksIGluaXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbEZldGNoKGlucHV0LCBib2R5LCBpbml0LCAnREVMRVRFJyk7XG4gICAgfVxuICAgIHRyYWNrUmVxdWVzdFN0YXJ0KCkge1xuICAgICAgICB0aGlzLmlzUmVxdWVzdGluZyA9ICEhKCsrdGhpcy5hY3RpdmVSZXF1ZXN0Q291bnQpO1xuICAgICAgICBpZiAodGhpcy5pc1JlcXVlc3RpbmcgJiYgdGhpcy5kaXNwYXRjaGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBldnQgPSBuZXcgdGhpcy5kaXNwYXRjaGVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuQ3VzdG9tRXZlbnQoJ2F1cmVsaWEtZmV0Y2gtY2xpZW50LXJlcXVlc3Qtc3RhcnRlZCcsIHsgYnViYmxlczogdHJ1ZSwgY2FuY2VsYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLmRpc3BhdGNoZXIuZGlzcGF0Y2hFdmVudChldnQpOyB9LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0cmFja1JlcXVlc3RFbmQoKSB7XG4gICAgICAgIHRoaXMuaXNSZXF1ZXN0aW5nID0gISEoLS10aGlzLmFjdGl2ZVJlcXVlc3RDb3VudCk7XG4gICAgICAgIGlmICghdGhpcy5pc1JlcXVlc3RpbmcgJiYgdGhpcy5kaXNwYXRjaGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBldnQgPSBuZXcgdGhpcy5kaXNwYXRjaGVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuQ3VzdG9tRXZlbnQoJ2F1cmVsaWEtZmV0Y2gtY2xpZW50LXJlcXVlc3RzLWRyYWluZWQnLCB7IGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUgfSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5kaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoZXZ0KTsgfSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc1JlcXVlc3QocmVxdWVzdCwgaW50ZXJjZXB0b3JzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGx5SW50ZXJjZXB0b3JzKHJlcXVlc3QsIGludGVyY2VwdG9ycywgJ3JlcXVlc3QnLCAncmVxdWVzdEVycm9yJywgdGhpcyk7XG4gICAgfVxuICAgIHByb2Nlc3NSZXNwb25zZShyZXNwb25zZSwgaW50ZXJjZXB0b3JzLCByZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGx5SW50ZXJjZXB0b3JzKHJlc3BvbnNlLCBpbnRlcmNlcHRvcnMsICdyZXNwb25zZScsICdyZXNwb25zZUVycm9yJywgcmVxdWVzdCwgdGhpcyk7XG4gICAgfVxuICAgIGFwcGx5SW50ZXJjZXB0b3JzKGlucHV0LCBpbnRlcmNlcHRvcnMsIHN1Y2Nlc3NOYW1lLCBlcnJvck5hbWUsIC4uLmludGVyY2VwdG9yQXJncykge1xuICAgICAgICByZXR1cm4gKGludGVyY2VwdG9ycyAhPT0gdW5kZWZpbmVkID8gaW50ZXJjZXB0b3JzIDogW10pXG4gICAgICAgICAgICAucmVkdWNlKChjaGFpbiwgaW50ZXJjZXB0b3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NIYW5kbGVyID0gaW50ZXJjZXB0b3Jbc3VjY2Vzc05hbWVdO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JIYW5kbGVyID0gaW50ZXJjZXB0b3JbZXJyb3JOYW1lXTtcbiAgICAgICAgICAgIC8vIFRPRE86IEZpeCB0aGlzLCBhcyBpdCB2aW9sYXRlcyBgc3RyaWN0QmluZENhbGxBcHBseWAuXG4gICAgICAgICAgICByZXR1cm4gY2hhaW4udGhlbihzdWNjZXNzSGFuZGxlciA/ICh2YWx1ZSA9PiBzdWNjZXNzSGFuZGxlci5jYWxsKGludGVyY2VwdG9yLCB2YWx1ZSwgLi4uaW50ZXJjZXB0b3JBcmdzKSkgOiBpZGVudGl0eSwgZXJyb3JIYW5kbGVyID8gKHJlYXNvbiA9PiBlcnJvckhhbmRsZXIuY2FsbChpbnRlcmNlcHRvciwgcmVhc29uLCAuLi5pbnRlcmNlcHRvckFyZ3MpKSA6IHRocm93ZXIpO1xuICAgICAgICB9LCBQcm9taXNlLnJlc29sdmUoaW5wdXQpKTtcbiAgICB9XG4gICAgY2FsbEZldGNoKGlucHV0LCBib2R5LCBpbml0LCBtZXRob2QpIHtcbiAgICAgICAgaWYgKCFpbml0KSB7XG4gICAgICAgICAgICBpbml0ID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaW5pdC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIGlmIChib2R5KSB7XG4gICAgICAgICAgICBpbml0LmJvZHkgPSBib2R5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKGlucHV0LCBpbml0KTtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXJzZUhlYWRlclZhbHVlcyhoZWFkZXJzKSB7XG4gICAgY29uc3QgcGFyc2VkSGVhZGVycyA9IHt9O1xuICAgIGNvbnN0ICRoZWFkZXJzID0gaGVhZGVycyAhPT0gdW5kZWZpbmVkID8gaGVhZGVycyA6IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiAkaGVhZGVycykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCRoZWFkZXJzLCBuYW1lKSkge1xuICAgICAgICAgICAgcGFyc2VkSGVhZGVyc1tuYW1lXSA9ICh0eXBlb2YgJGhlYWRlcnNbbmFtZV0gPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgPyAkaGVhZGVyc1tuYW1lXSgpXG4gICAgICAgICAgICAgICAgOiAkaGVhZGVyc1tuYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkSGVhZGVycztcbn1cbmZ1bmN0aW9uIGdldFJlcXVlc3RVcmwoYmFzZVVybCwgdXJsKSB7XG4gICAgaWYgKGFic29sdXRlVXJsUmVnZXhwLnRlc3QodXJsKSkge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICByZXR1cm4gKGJhc2VVcmwgIT09IHVuZGVmaW5lZCA/IGJhc2VVcmwgOiAnJykgKyB1cmw7XG59XG5mdW5jdGlvbiBzZXREZWZhdWx0SGVhZGVycyhoZWFkZXJzLCBkZWZhdWx0SGVhZGVycykge1xuICAgIGNvbnN0ICRkZWZhdWx0SGVhZGVycyA9IGRlZmF1bHRIZWFkZXJzICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0SGVhZGVycyA6IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiAkZGVmYXVsdEhlYWRlcnMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgkZGVmYXVsdEhlYWRlcnMsIG5hbWUpICYmICFoZWFkZXJzLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQobmFtZSwgJGRlZmF1bHRIZWFkZXJzW25hbWVdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzSlNPTihzdHIpIHtcbiAgICB0cnkge1xuICAgICAgICBKU09OLnBhcnNlKHN0cik7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbmZ1bmN0aW9uIHRocm93ZXIoeCkge1xuICAgIHRocm93IHg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwLWNsaWVudC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/fetch-client/dist/esm/http-client.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/fetch-client/dist/esm/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@aurelia/fetch-client/dist/esm/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"json\": () => (/* reexport safe */ _util_js__WEBPACK_IMPORTED_MODULE_0__.json),\n/* harmony export */   \"retryStrategy\": () => (/* reexport safe */ _retry_interceptor_js__WEBPACK_IMPORTED_MODULE_1__.retryStrategy),\n/* harmony export */   \"RetryInterceptor\": () => (/* reexport safe */ _retry_interceptor_js__WEBPACK_IMPORTED_MODULE_1__.RetryInterceptor),\n/* harmony export */   \"HttpClientConfiguration\": () => (/* reexport safe */ _http_client_configuration_js__WEBPACK_IMPORTED_MODULE_2__.HttpClientConfiguration),\n/* harmony export */   \"HttpClient\": () => (/* reexport safe */ _http_client_js__WEBPACK_IMPORTED_MODULE_3__.HttpClient),\n/* harmony export */   \"IHttpClient\": () => (/* reexport safe */ _http_client_js__WEBPACK_IMPORTED_MODULE_3__.IHttpClient)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"./node_modules/@aurelia/fetch-client/dist/esm/util.js\");\n/* harmony import */ var _retry_interceptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./retry-interceptor.js */ \"./node_modules/@aurelia/fetch-client/dist/esm/retry-interceptor.js\");\n/* harmony import */ var _http_client_configuration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http-client-configuration.js */ \"./node_modules/@aurelia/fetch-client/dist/esm/http-client-configuration.js\");\n/* harmony import */ var _http_client_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http-client.js */ \"./node_modules/@aurelia/fetch-client/dist/esm/http-client.js\");\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvZmV0Y2gtY2xpZW50L2Rpc3QvZXNtL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL2ZldGNoLWNsaWVudC9kaXN0L2VzbS9pbmRleC5qcz80NjI4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGpzb24gfSBmcm9tICcuL3V0aWwuanMnO1xuZXhwb3J0IHsgcmV0cnlTdHJhdGVneSwgUmV0cnlJbnRlcmNlcHRvciB9IGZyb20gJy4vcmV0cnktaW50ZXJjZXB0b3IuanMnO1xuZXhwb3J0IHsgSHR0cENsaWVudENvbmZpZ3VyYXRpb24gfSBmcm9tICcuL2h0dHAtY2xpZW50LWNvbmZpZ3VyYXRpb24uanMnO1xuZXhwb3J0IHsgSHR0cENsaWVudCwgSUh0dHBDbGllbnQgfSBmcm9tICcuL2h0dHAtY2xpZW50LmpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/fetch-client/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/fetch-client/dist/esm/retry-interceptor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@aurelia/fetch-client/dist/esm/retry-interceptor.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"retryStrategy\": () => (/* binding */ retryStrategy),\n/* harmony export */   \"RetryInterceptor\": () => (/* binding */ RetryInterceptor)\n/* harmony export */ });\nconst retryStrategy = {\n    fixed: 0,\n    incremental: 1,\n    exponential: 2,\n    random: 3\n};\nconst defaultRetryConfig = {\n    maxRetries: 3,\n    interval: 1000,\n    strategy: retryStrategy.fixed\n};\n/**\n * Interceptor that retries requests on error, based on a given RetryConfiguration.\n */\nclass RetryInterceptor {\n    /**\n     * Creates an instance of RetryInterceptor.\n     */\n    constructor(retryConfig) {\n        this.retryConfig = { ...defaultRetryConfig, ...(retryConfig !== undefined ? retryConfig : {}) };\n        if (this.retryConfig.strategy === retryStrategy.exponential &&\n            this.retryConfig.interval <= 1000) {\n            throw new Error('An interval less than or equal to 1 second is not allowed when using the exponential retry strategy');\n        }\n    }\n    /**\n     * Called with the request before it is sent. It remembers the request so it can be retried on error.\n     *\n     * @param request - The request to be sent.\n     * @returns The existing request, a new request or a response; or a Promise for any of these.\n     */\n    request(request) {\n        if (!request.retryConfig) {\n            request.retryConfig = { ...this.retryConfig };\n            request.retryConfig.counter = 0;\n        }\n        // do this on every request\n        request.retryConfig.requestClone = request.clone();\n        return request;\n    }\n    /**\n     * Called with the response after it is received. Clears the remembered request, as it was succesfull.\n     *\n     * @param response - The response.\n     * @returns The response; or a Promise for one.\n     */\n    response(response, request) {\n        // retry was successful, so clean up after ourselves\n        Reflect.deleteProperty(request, 'retryConfig');\n        return response;\n    }\n    /**\n     * Handles fetch errors and errors generated by previous interceptors. This\n     * function acts as a Promise rejection handler. It wil retry the remembered request based on the\n     * configured RetryConfiguration.\n     *\n     * @param error - The rejection value from the fetch request or from a\n     * previous interceptor.\n     * @returns The response of the retry; or a Promise for one.\n     */\n    responseError(error, request, httpClient) {\n        const { retryConfig } = request;\n        const { requestClone } = retryConfig;\n        return Promise.resolve().then(() => {\n            if (retryConfig.counter < retryConfig.maxRetries) {\n                const result = retryConfig.doRetry !== undefined ? retryConfig.doRetry(error, request) : true;\n                return Promise.resolve(result).then(doRetry => {\n                    if (doRetry) {\n                        retryConfig.counter++;\n                        const delay = calculateDelay(retryConfig);\n                        return new Promise(resolve => setTimeout(resolve, !isNaN(delay) ? delay : 0))\n                            .then(() => {\n                            const newRequest = requestClone.clone();\n                            if (typeof (retryConfig.beforeRetry) === 'function') {\n                                return retryConfig.beforeRetry(newRequest, httpClient);\n                            }\n                            return newRequest;\n                        })\n                            .then(newRequest => {\n                            const retryableRequest = { ...newRequest, retryConfig };\n                            return httpClient.fetch(retryableRequest);\n                        });\n                    }\n                    // no more retries, so clean up\n                    Reflect.deleteProperty(request, 'retryConfig');\n                    throw error;\n                });\n            }\n            // no more retries, so clean up\n            Reflect.deleteProperty(request, 'retryConfig');\n            throw error;\n        });\n    }\n}\nfunction calculateDelay(retryConfig) {\n    const { interval, strategy, minRandomInterval, maxRandomInterval, counter } = retryConfig;\n    if (typeof (strategy) === 'function') {\n        return retryConfig.strategy(counter);\n    }\n    switch (strategy) {\n        case (retryStrategy.fixed):\n            return retryStrategies[retryStrategy.fixed](interval);\n        case (retryStrategy.incremental):\n            return retryStrategies[retryStrategy.incremental](counter, interval);\n        case (retryStrategy.exponential):\n            return retryStrategies[retryStrategy.exponential](counter, interval);\n        case (retryStrategy.random):\n            return retryStrategies[retryStrategy.random](counter, interval, minRandomInterval, maxRandomInterval);\n        default:\n            throw new Error('Unrecognized retry strategy');\n    }\n}\nconst retryStrategies = [\n    // fixed\n    interval => interval,\n    // incremental\n    (retryCount, interval) => interval * retryCount,\n    // exponential\n    (retryCount, interval) => retryCount === 1 ? interval : interval ** retryCount / 1000,\n    // random\n    (retryCount, interval, minRandomInterval = 0, maxRandomInterval = 60000) => {\n        return Math.random() * (maxRandomInterval - minRandomInterval) + minRandomInterval;\n    }\n];\n//# sourceMappingURL=retry-interceptor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvZmV0Y2gtY2xpZW50L2Rpc3QvZXNtL3JldHJ5LWludGVyY2VwdG9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL2ZldGNoLWNsaWVudC9kaXN0L2VzbS9yZXRyeS1pbnRlcmNlcHRvci5qcz8wNWNhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCByZXRyeVN0cmF0ZWd5ID0ge1xuICAgIGZpeGVkOiAwLFxuICAgIGluY3JlbWVudGFsOiAxLFxuICAgIGV4cG9uZW50aWFsOiAyLFxuICAgIHJhbmRvbTogM1xufTtcbmNvbnN0IGRlZmF1bHRSZXRyeUNvbmZpZyA9IHtcbiAgICBtYXhSZXRyaWVzOiAzLFxuICAgIGludGVydmFsOiAxMDAwLFxuICAgIHN0cmF0ZWd5OiByZXRyeVN0cmF0ZWd5LmZpeGVkXG59O1xuLyoqXG4gKiBJbnRlcmNlcHRvciB0aGF0IHJldHJpZXMgcmVxdWVzdHMgb24gZXJyb3IsIGJhc2VkIG9uIGEgZ2l2ZW4gUmV0cnlDb25maWd1cmF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgUmV0cnlJbnRlcmNlcHRvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBSZXRyeUludGVyY2VwdG9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJldHJ5Q29uZmlnKSB7XG4gICAgICAgIHRoaXMucmV0cnlDb25maWcgPSB7IC4uLmRlZmF1bHRSZXRyeUNvbmZpZywgLi4uKHJldHJ5Q29uZmlnICE9PSB1bmRlZmluZWQgPyByZXRyeUNvbmZpZyA6IHt9KSB9O1xuICAgICAgICBpZiAodGhpcy5yZXRyeUNvbmZpZy5zdHJhdGVneSA9PT0gcmV0cnlTdHJhdGVneS5leHBvbmVudGlhbCAmJlxuICAgICAgICAgICAgdGhpcy5yZXRyeUNvbmZpZy5pbnRlcnZhbCA8PSAxMDAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIGludGVydmFsIGxlc3MgdGhhbiBvciBlcXVhbCB0byAxIHNlY29uZCBpcyBub3QgYWxsb3dlZCB3aGVuIHVzaW5nIHRoZSBleHBvbmVudGlhbCByZXRyeSBzdHJhdGVneScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIHRoZSByZXF1ZXN0IGJlZm9yZSBpdCBpcyBzZW50LiBJdCByZW1lbWJlcnMgdGhlIHJlcXVlc3Qgc28gaXQgY2FuIGJlIHJldHJpZWQgb24gZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0IHRvIGJlIHNlbnQuXG4gICAgICogQHJldHVybnMgVGhlIGV4aXN0aW5nIHJlcXVlc3QsIGEgbmV3IHJlcXVlc3Qgb3IgYSByZXNwb25zZTsgb3IgYSBQcm9taXNlIGZvciBhbnkgb2YgdGhlc2UuXG4gICAgICovXG4gICAgcmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghcmVxdWVzdC5yZXRyeUNvbmZpZykge1xuICAgICAgICAgICAgcmVxdWVzdC5yZXRyeUNvbmZpZyA9IHsgLi4udGhpcy5yZXRyeUNvbmZpZyB9O1xuICAgICAgICAgICAgcmVxdWVzdC5yZXRyeUNvbmZpZy5jb3VudGVyID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkbyB0aGlzIG9uIGV2ZXJ5IHJlcXVlc3RcbiAgICAgICAgcmVxdWVzdC5yZXRyeUNvbmZpZy5yZXF1ZXN0Q2xvbmUgPSByZXF1ZXN0LmNsb25lKCk7XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2l0aCB0aGUgcmVzcG9uc2UgYWZ0ZXIgaXQgaXMgcmVjZWl2ZWQuIENsZWFycyB0aGUgcmVtZW1iZXJlZCByZXF1ZXN0LCBhcyBpdCB3YXMgc3VjY2VzZnVsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXNwb25zZSAtIFRoZSByZXNwb25zZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzcG9uc2U7IG9yIGEgUHJvbWlzZSBmb3Igb25lLlxuICAgICAqL1xuICAgIHJlc3BvbnNlKHJlc3BvbnNlLCByZXF1ZXN0KSB7XG4gICAgICAgIC8vIHJldHJ5IHdhcyBzdWNjZXNzZnVsLCBzbyBjbGVhbiB1cCBhZnRlciBvdXJzZWx2ZXNcbiAgICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShyZXF1ZXN0LCAncmV0cnlDb25maWcnKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGZldGNoIGVycm9ycyBhbmQgZXJyb3JzIGdlbmVyYXRlZCBieSBwcmV2aW91cyBpbnRlcmNlcHRvcnMuIFRoaXNcbiAgICAgKiBmdW5jdGlvbiBhY3RzIGFzIGEgUHJvbWlzZSByZWplY3Rpb24gaGFuZGxlci4gSXQgd2lsIHJldHJ5IHRoZSByZW1lbWJlcmVkIHJlcXVlc3QgYmFzZWQgb24gdGhlXG4gICAgICogY29uZmlndXJlZCBSZXRyeUNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBUaGUgcmVqZWN0aW9uIHZhbHVlIGZyb20gdGhlIGZldGNoIHJlcXVlc3Qgb3IgZnJvbSBhXG4gICAgICogcHJldmlvdXMgaW50ZXJjZXB0b3IuXG4gICAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlIG9mIHRoZSByZXRyeTsgb3IgYSBQcm9taXNlIGZvciBvbmUuXG4gICAgICovXG4gICAgcmVzcG9uc2VFcnJvcihlcnJvciwgcmVxdWVzdCwgaHR0cENsaWVudCkge1xuICAgICAgICBjb25zdCB7IHJldHJ5Q29uZmlnIH0gPSByZXF1ZXN0O1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RDbG9uZSB9ID0gcmV0cnlDb25maWc7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXRyeUNvbmZpZy5jb3VudGVyIDwgcmV0cnlDb25maWcubWF4UmV0cmllcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJldHJ5Q29uZmlnLmRvUmV0cnkgIT09IHVuZGVmaW5lZCA/IHJldHJ5Q29uZmlnLmRvUmV0cnkoZXJyb3IsIHJlcXVlc3QpIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihkb1JldHJ5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvUmV0cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5Q29uZmlnLmNvdW50ZXIrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gY2FsY3VsYXRlRGVsYXkocmV0cnlDb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAhaXNOYU4oZGVsYXkpID8gZGVsYXkgOiAwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UmVxdWVzdCA9IHJlcXVlc3RDbG9uZS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHJldHJ5Q29uZmlnLmJlZm9yZVJldHJ5KSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0cnlDb25maWcuYmVmb3JlUmV0cnkobmV3UmVxdWVzdCwgaHR0cENsaWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdSZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihuZXdSZXF1ZXN0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRyeWFibGVSZXF1ZXN0ID0geyAuLi5uZXdSZXF1ZXN0LCByZXRyeUNvbmZpZyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBodHRwQ2xpZW50LmZldGNoKHJldHJ5YWJsZVJlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbW9yZSByZXRyaWVzLCBzbyBjbGVhbiB1cFxuICAgICAgICAgICAgICAgICAgICBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHJlcXVlc3QsICdyZXRyeUNvbmZpZycpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vIG1vcmUgcmV0cmllcywgc28gY2xlYW4gdXBcbiAgICAgICAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkocmVxdWVzdCwgJ3JldHJ5Q29uZmlnJyk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2FsY3VsYXRlRGVsYXkocmV0cnlDb25maWcpIHtcbiAgICBjb25zdCB7IGludGVydmFsLCBzdHJhdGVneSwgbWluUmFuZG9tSW50ZXJ2YWwsIG1heFJhbmRvbUludGVydmFsLCBjb3VudGVyIH0gPSByZXRyeUNvbmZpZztcbiAgICBpZiAodHlwZW9mIChzdHJhdGVneSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHJldHJ5Q29uZmlnLnN0cmF0ZWd5KGNvdW50ZXIpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgICAgIGNhc2UgKHJldHJ5U3RyYXRlZ3kuZml4ZWQpOlxuICAgICAgICAgICAgcmV0dXJuIHJldHJ5U3RyYXRlZ2llc1tyZXRyeVN0cmF0ZWd5LmZpeGVkXShpbnRlcnZhbCk7XG4gICAgICAgIGNhc2UgKHJldHJ5U3RyYXRlZ3kuaW5jcmVtZW50YWwpOlxuICAgICAgICAgICAgcmV0dXJuIHJldHJ5U3RyYXRlZ2llc1tyZXRyeVN0cmF0ZWd5LmluY3JlbWVudGFsXShjb3VudGVyLCBpbnRlcnZhbCk7XG4gICAgICAgIGNhc2UgKHJldHJ5U3RyYXRlZ3kuZXhwb25lbnRpYWwpOlxuICAgICAgICAgICAgcmV0dXJuIHJldHJ5U3RyYXRlZ2llc1tyZXRyeVN0cmF0ZWd5LmV4cG9uZW50aWFsXShjb3VudGVyLCBpbnRlcnZhbCk7XG4gICAgICAgIGNhc2UgKHJldHJ5U3RyYXRlZ3kucmFuZG9tKTpcbiAgICAgICAgICAgIHJldHVybiByZXRyeVN0cmF0ZWdpZXNbcmV0cnlTdHJhdGVneS5yYW5kb21dKGNvdW50ZXIsIGludGVydmFsLCBtaW5SYW5kb21JbnRlcnZhbCwgbWF4UmFuZG9tSW50ZXJ2YWwpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgcmV0cnkgc3RyYXRlZ3knKTtcbiAgICB9XG59XG5jb25zdCByZXRyeVN0cmF0ZWdpZXMgPSBbXG4gICAgLy8gZml4ZWRcbiAgICBpbnRlcnZhbCA9PiBpbnRlcnZhbCxcbiAgICAvLyBpbmNyZW1lbnRhbFxuICAgIChyZXRyeUNvdW50LCBpbnRlcnZhbCkgPT4gaW50ZXJ2YWwgKiByZXRyeUNvdW50LFxuICAgIC8vIGV4cG9uZW50aWFsXG4gICAgKHJldHJ5Q291bnQsIGludGVydmFsKSA9PiByZXRyeUNvdW50ID09PSAxID8gaW50ZXJ2YWwgOiBpbnRlcnZhbCAqKiByZXRyeUNvdW50IC8gMTAwMCxcbiAgICAvLyByYW5kb21cbiAgICAocmV0cnlDb3VudCwgaW50ZXJ2YWwsIG1pblJhbmRvbUludGVydmFsID0gMCwgbWF4UmFuZG9tSW50ZXJ2YWwgPSA2MDAwMCkgPT4ge1xuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXhSYW5kb21JbnRlcnZhbCAtIG1pblJhbmRvbUludGVydmFsKSArIG1pblJhbmRvbUludGVydmFsO1xuICAgIH1cbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyeS1pbnRlcmNlcHRvci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/fetch-client/dist/esm/retry-interceptor.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/fetch-client/dist/esm/util.js":
/*!*************************************************************!*\
  !*** ./node_modules/@aurelia/fetch-client/dist/esm/util.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"json\": () => (/* binding */ json)\n/* harmony export */ });\n/**\n * Serialize an object to JSON. Useful for easily creating JSON fetch request bodies.\n *\n * @param body - The object to be serialized to JSON.\n * @param replacer - The JSON.stringify replacer used when serializing.\n * @returns A JSON string.\n */\nfunction json(body, replacer) {\n    return JSON.stringify((body !== undefined ? body : {}), replacer);\n}\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvZmV0Y2gtY2xpZW50L2Rpc3QvZXNtL3V0aWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvZmV0Y2gtY2xpZW50L2Rpc3QvZXNtL3V0aWwuanM/NmI4OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNlcmlhbGl6ZSBhbiBvYmplY3QgdG8gSlNPTi4gVXNlZnVsIGZvciBlYXNpbHkgY3JlYXRpbmcgSlNPTiBmZXRjaCByZXF1ZXN0IGJvZGllcy5cbiAqXG4gKiBAcGFyYW0gYm9keSAtIFRoZSBvYmplY3QgdG8gYmUgc2VyaWFsaXplZCB0byBKU09OLlxuICogQHBhcmFtIHJlcGxhY2VyIC0gVGhlIEpTT04uc3RyaW5naWZ5IHJlcGxhY2VyIHVzZWQgd2hlbiBzZXJpYWxpemluZy5cbiAqIEByZXR1cm5zIEEgSlNPTiBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqc29uKGJvZHksIHJlcGxhY2VyKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KChib2R5ICE9PSB1bmRlZmluZWQgPyBib2R5IDoge30pLCByZXBsYWNlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/fetch-client/dist/esm/util.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/kernel/dist/esm/di.js":
/*!*****************************************************!*\
  !*** ./node_modules/@aurelia/kernel/dist/esm/di.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResolverBuilder\": () => (/* binding */ ResolverBuilder),\n/* harmony export */   \"DefaultResolver\": () => (/* binding */ DefaultResolver),\n/* harmony export */   \"ContainerConfiguration\": () => (/* binding */ ContainerConfiguration),\n/* harmony export */   \"DI\": () => (/* binding */ DI),\n/* harmony export */   \"IContainer\": () => (/* binding */ IContainer),\n/* harmony export */   \"IServiceLocator\": () => (/* binding */ IServiceLocator),\n/* harmony export */   \"inject\": () => (/* binding */ inject),\n/* harmony export */   \"transient\": () => (/* binding */ transient),\n/* harmony export */   \"singleton\": () => (/* binding */ singleton),\n/* harmony export */   \"all\": () => (/* binding */ all),\n/* harmony export */   \"lazy\": () => (/* binding */ lazy),\n/* harmony export */   \"optional\": () => (/* binding */ optional),\n/* harmony export */   \"ignore\": () => (/* binding */ ignore),\n/* harmony export */   \"newInstanceForScope\": () => (/* binding */ newInstanceForScope),\n/* harmony export */   \"newInstanceOf\": () => (/* binding */ newInstanceOf),\n/* harmony export */   \"ResolverStrategy\": () => (/* binding */ ResolverStrategy),\n/* harmony export */   \"Resolver\": () => (/* binding */ Resolver),\n/* harmony export */   \"Factory\": () => (/* binding */ Factory),\n/* harmony export */   \"Container\": () => (/* binding */ Container),\n/* harmony export */   \"ParameterizedRegistry\": () => (/* binding */ ParameterizedRegistry),\n/* harmony export */   \"Registration\": () => (/* binding */ Registration),\n/* harmony export */   \"InstanceProvider\": () => (/* binding */ InstanceProvider),\n/* harmony export */   \"validateKey\": () => (/* binding */ validateKey)\n/* harmony export */ });\n/* harmony import */ var _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/metadata */ \"./node_modules/@aurelia/metadata/dist/esm/index.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./functions.js */ \"./node_modules/@aurelia/kernel/dist/esm/functions.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/kernel/dist/esm/platform.js\");\n/* harmony import */ var _resource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resource.js */ \"./node_modules/@aurelia/kernel/dist/esm/resource.js\");\n\n(0,_aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.applyMetadataPolyfill)(Reflect);\n\n\n\nclass ResolverBuilder {\n    constructor(container, key) {\n        this.container = container;\n        this.key = key;\n    }\n    instance(value) {\n        return this.registerResolver(0 /* instance */, value);\n    }\n    singleton(value) {\n        return this.registerResolver(1 /* singleton */, value);\n    }\n    transient(value) {\n        return this.registerResolver(2 /* transient */, value);\n    }\n    callback(value) {\n        return this.registerResolver(3 /* callback */, value);\n    }\n    cachedCallback(value) {\n        return this.registerResolver(3 /* callback */, cacheCallbackResult(value));\n    }\n    aliasTo(destinationKey) {\n        return this.registerResolver(5 /* alias */, destinationKey);\n    }\n    registerResolver(strategy, state) {\n        const { container, key } = this;\n        this.container = this.key = (void 0);\n        return container.registerResolver(key, new Resolver(key, strategy, state));\n    }\n}\nfunction cloneArrayWithPossibleProps(source) {\n    const clone = source.slice();\n    const keys = Object.keys(source);\n    const len = keys.length;\n    let key;\n    for (let i = 0; i < len; ++i) {\n        key = keys[i];\n        if (!(0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.isArrayIndex)(key)) {\n            clone[key] = source[key];\n        }\n    }\n    return clone;\n}\nconst DefaultResolver = {\n    none(key) { throw Error(`${key.toString()} not registered, did you forget to add @singleton()?`); },\n    singleton(key) { return new Resolver(key, 1 /* singleton */, key); },\n    transient(key) { return new Resolver(key, 2 /* transient */, key); },\n};\nclass ContainerConfiguration {\n    constructor(inheritParentResources, defaultResolver) {\n        this.inheritParentResources = inheritParentResources;\n        this.defaultResolver = defaultResolver;\n    }\n    static from(config) {\n        var _a, _b;\n        if (config === void 0 ||\n            config === ContainerConfiguration.DEFAULT) {\n            return ContainerConfiguration.DEFAULT;\n        }\n        return new ContainerConfiguration((_a = config.inheritParentResources) !== null && _a !== void 0 ? _a : false, (_b = config.defaultResolver) !== null && _b !== void 0 ? _b : DefaultResolver.singleton);\n    }\n}\nContainerConfiguration.DEFAULT = ContainerConfiguration.from({});\nconst DI = {\n    createContainer(config) {\n        return new Container(null, ContainerConfiguration.from(config));\n    },\n    getDesignParamtypes(Type) {\n        return _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn('design:paramtypes', Type);\n    },\n    getAnnotationParamtypes(Type) {\n        const key = _resource_js__WEBPACK_IMPORTED_MODULE_3__.Protocol.annotation.keyFor('di:paramtypes');\n        return _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(key, Type);\n    },\n    getOrCreateAnnotationParamTypes(Type) {\n        const key = _resource_js__WEBPACK_IMPORTED_MODULE_3__.Protocol.annotation.keyFor('di:paramtypes');\n        let annotationParamtypes = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(key, Type);\n        if (annotationParamtypes === void 0) {\n            _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(key, annotationParamtypes = [], Type);\n            _resource_js__WEBPACK_IMPORTED_MODULE_3__.Protocol.annotation.appendTo(Type, key);\n        }\n        return annotationParamtypes;\n    },\n    getDependencies(Type) {\n        // Note: Every detail of this getDependencies method is pretty deliberate at the moment, and probably not yet 100% tested from every possible angle,\n        // so be careful with making changes here as it can have a huge impact on complex end user apps.\n        // Preferably, only make changes to the dependency resolution process via a RFC.\n        const key = _resource_js__WEBPACK_IMPORTED_MODULE_3__.Protocol.annotation.keyFor('di:dependencies');\n        let dependencies = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(key, Type);\n        if (dependencies === void 0) {\n            // Type.length is the number of constructor parameters. If this is 0, it could mean the class has an empty constructor\n            // but it could also mean the class has no constructor at all (in which case it inherits the constructor from the prototype).\n            // Non-zero constructor length + no paramtypes means emitDecoratorMetadata is off, or the class has no decorator.\n            // We're not doing anything with the above right now, but it's good to keep in mind for any future issues.\n            const inject = Type.inject;\n            if (inject === void 0) {\n                // design:paramtypes is set by tsc when emitDecoratorMetadata is enabled.\n                const designParamtypes = DI.getDesignParamtypes(Type);\n                // au:annotation:di:paramtypes is set by the parameter decorator from DI.createInterface or by @inject\n                const annotationParamtypes = DI.getAnnotationParamtypes(Type);\n                if (designParamtypes === void 0) {\n                    if (annotationParamtypes === void 0) {\n                        // Only go up the prototype if neither static inject nor any of the paramtypes is defined, as\n                        // there is no sound way to merge a type's deps with its prototype's deps\n                        const Proto = Object.getPrototypeOf(Type);\n                        if (typeof Proto === 'function' && Proto !== Function.prototype) {\n                            dependencies = cloneArrayWithPossibleProps(DI.getDependencies(Proto));\n                        }\n                        else {\n                            dependencies = [];\n                        }\n                    }\n                    else {\n                        // No design:paramtypes so just use the au:annotation:di:paramtypes\n                        dependencies = cloneArrayWithPossibleProps(annotationParamtypes);\n                    }\n                }\n                else if (annotationParamtypes === void 0) {\n                    // No au:annotation:di:paramtypes so just use the design:paramtypes\n                    dependencies = cloneArrayWithPossibleProps(designParamtypes);\n                }\n                else {\n                    // We've got both, so merge them (in case of conflict on same index, au:annotation:di:paramtypes take precedence)\n                    dependencies = cloneArrayWithPossibleProps(designParamtypes);\n                    let len = annotationParamtypes.length;\n                    let auAnnotationParamtype;\n                    for (let i = 0; i < len; ++i) {\n                        auAnnotationParamtype = annotationParamtypes[i];\n                        if (auAnnotationParamtype !== void 0) {\n                            dependencies[i] = auAnnotationParamtype;\n                        }\n                    }\n                    const keys = Object.keys(annotationParamtypes);\n                    len = keys.length;\n                    let key;\n                    for (let i = 0; i < len; ++i) {\n                        key = keys[i];\n                        if (!(0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.isArrayIndex)(key)) {\n                            dependencies[key] = annotationParamtypes[key];\n                        }\n                    }\n                }\n            }\n            else {\n                // Ignore paramtypes if we have static inject\n                dependencies = cloneArrayWithPossibleProps(inject);\n            }\n            _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(key, dependencies, Type);\n            _resource_js__WEBPACK_IMPORTED_MODULE_3__.Protocol.annotation.appendTo(Type, key);\n        }\n        return dependencies;\n    },\n    /**\n     * creates a decorator that also matches an interface and can be used as a {@linkcode Key}.\n     * ```ts\n     * const ILogger = DI.createInterface<Logger>('Logger');\n     * container.register(Registration.singleton(ILogger, getSomeLogger()));\n     * const log = container.get(ILogger);\n     * log.info('hello world');\n     * class Foo {\n     *   constructor( @ILogger log: ILogger ) {\n     *     log.info('hello world');\n     *   }\n     * }\n     * ```\n     * you can also build default registrations into your interface.\n     * ```ts\n     * export const ILogger = DI.createInterface<Logger>('Logger', builder => builder.cachedCallback(LoggerDefault));\n     * const log = container.get(ILogger);\n     * log.info('hello world');\n     * class Foo {\n     *   constructor( @ILogger log: ILogger ) {\n     *     log.info('hello world');\n     *   }\n     * }\n     * ```\n     * but these default registrations won't work the same with other decorators that take keys, for example\n     * ```ts\n     * export const MyStr = DI.createInterface<string>('MyStr', builder => builder.instance('somestring'));\n     * class Foo {\n     *   constructor( @optional(MyStr) public readonly str: string ) {\n     *   }\n     * }\n     * container.get(Foo).str; // returns undefined\n     * ```\n     * to fix this add this line somewhere before you do a `get`\n     * ```ts\n     * container.register(MyStr);\n     * container.get(Foo).str; // returns 'somestring'\n     * ```\n     *\n     * - @param friendlyName used to improve error messaging\n     */\n    createInterface(configureOrName, configuror) {\n        const configure = typeof configureOrName === 'function' ? configureOrName : configuror;\n        const friendlyName = typeof configureOrName === 'string' ? configureOrName : undefined;\n        const Interface = function (target, property, index) {\n            if (target == null || new.target !== undefined) {\n                throw new Error(`No registration for interface: '${Interface.friendlyName}'`); // TODO: add error (trying to resolve an InterfaceSymbol that has no registrations)\n            }\n            const annotationParamtypes = DI.getOrCreateAnnotationParamTypes(target);\n            annotationParamtypes[index] = Interface;\n        };\n        Interface.$isInterface = true;\n        Interface.friendlyName = friendlyName == null ? '(anonymous)' : friendlyName;\n        if (configure != null) {\n            Interface.register = function (container, key) {\n                return configure(new ResolverBuilder(container, key !== null && key !== void 0 ? key : Interface));\n            };\n        }\n        Interface.toString = function toString() {\n            return `InterfaceSymbol<${Interface.friendlyName}>`;\n        };\n        return Interface;\n    },\n    inject(...dependencies) {\n        return function (target, key, descriptor) {\n            if (typeof descriptor === 'number') { // It's a parameter decorator.\n                const annotationParamtypes = DI.getOrCreateAnnotationParamTypes(target);\n                const dep = dependencies[0];\n                if (dep !== void 0) {\n                    annotationParamtypes[descriptor] = dep;\n                }\n            }\n            else if (key) { // It's a property decorator. Not supported by the container without plugins.\n                const annotationParamtypes = DI.getOrCreateAnnotationParamTypes(target.constructor);\n                const dep = dependencies[0];\n                if (dep !== void 0) {\n                    annotationParamtypes[key] = dep;\n                }\n            }\n            else if (descriptor) { // It's a function decorator (not a Class constructor)\n                const fn = descriptor.value;\n                const annotationParamtypes = DI.getOrCreateAnnotationParamTypes(fn);\n                let dep;\n                for (let i = 0; i < dependencies.length; ++i) {\n                    dep = dependencies[i];\n                    if (dep !== void 0) {\n                        annotationParamtypes[i] = dep;\n                    }\n                }\n            }\n            else { // It's a class decorator.\n                const annotationParamtypes = DI.getOrCreateAnnotationParamTypes(target);\n                let dep;\n                for (let i = 0; i < dependencies.length; ++i) {\n                    dep = dependencies[i];\n                    if (dep !== void 0) {\n                        annotationParamtypes[i] = dep;\n                    }\n                }\n            }\n        };\n    },\n    /**\n     * Registers the `target` class as a transient dependency; each time the dependency is resolved\n     * a new instance will be created.\n     *\n     * @param target - The class / constructor function to register as transient.\n     * @returns The same class, with a static `register` method that takes a container and returns the appropriate resolver.\n     *\n     * @example ```ts\n     * // On an existing class\n     * class Foo { }\n     * DI.transient(Foo);\n     *\n     * // Inline declaration\n     * const Foo = DI.transient(class { });\n     * // Foo is now strongly typed with register\n     * Foo.register(container);\n     * ```\n     */\n    transient(target) {\n        target.register = function register(container) {\n            const registration = Registration.transient(target, target);\n            return registration.register(container, target);\n        };\n        target.registerInRequestor = false;\n        return target;\n    },\n    /**\n     * Registers the `target` class as a singleton dependency; the class will only be created once. Each\n     * consecutive time the dependency is resolved, the same instance will be returned.\n     *\n     * @param target - The class / constructor function to register as a singleton.\n     * @returns The same class, with a static `register` method that takes a container and returns the appropriate resolver.\n     * @example ```ts\n     * // On an existing class\n     * class Foo { }\n     * DI.singleton(Foo);\n     *\n     * // Inline declaration\n     * const Foo = DI.singleton(class { });\n     * // Foo is now strongly typed with register\n     * Foo.register(container);\n     * ```\n     */\n    singleton(target, options = defaultSingletonOptions) {\n        target.register = function register(container) {\n            const registration = Registration.singleton(target, target);\n            return registration.register(container, target);\n        };\n        target.registerInRequestor = options.scoped;\n        return target;\n    },\n};\nconst IContainer = DI.createInterface('IContainer');\nconst IServiceLocator = IContainer;\nfunction createResolver(getter) {\n    return function (key) {\n        const resolver = function (target, property, descriptor) {\n            DI.inject(resolver)(target, property, descriptor);\n        };\n        resolver.$isResolver = true;\n        resolver.resolve = function (handler, requestor) {\n            return getter(key, handler, requestor);\n        };\n        return resolver;\n    };\n}\nconst inject = DI.inject;\nfunction transientDecorator(target) {\n    return DI.transient(target);\n}\nfunction transient(target) {\n    return target == null ? transientDecorator : transientDecorator(target);\n}\nconst defaultSingletonOptions = { scoped: false };\nfunction singletonDecorator(target) {\n    return DI.singleton(target);\n}\nfunction singleton(targetOrOptions) {\n    if (typeof targetOrOptions === 'function') {\n        return DI.singleton(targetOrOptions);\n    }\n    return function ($target) {\n        return DI.singleton($target, targetOrOptions);\n    };\n}\nfunction createAllResolver(getter) {\n    return function (key, searchAncestors) {\n        searchAncestors = !!searchAncestors;\n        const resolver = function (target, property, descriptor) {\n            DI.inject(resolver)(target, property, descriptor);\n        };\n        resolver.$isResolver = true;\n        resolver.resolve = function (handler, requestor) {\n            return getter(key, handler, requestor, searchAncestors);\n        };\n        return resolver;\n    };\n}\nconst all = createAllResolver((key, handler, requestor, searchAncestors) => requestor.getAll(key, searchAncestors));\n/**\n * Lazily inject a dependency depending on whether the [[`Key`]] is present at the time of function call.\n *\n * You need to make your argument a function that returns the type, for example\n * ```ts\n * class Foo {\n *   constructor( @lazy('random') public random: () => number )\n * }\n * const foo = container.get(Foo); // instanceof Foo\n * foo.random(); // throws\n * ```\n * would throw an exception because you haven't registered `'random'` before calling the method. This, would give you a\n * new [['Math.random()']] number each time.\n * ```ts\n * class Foo {\n *   constructor( @lazy('random') public random: () => random )\n * }\n * container.register(Registration.callback('random', Math.random ));\n * container.get(Foo).random(); // some random number\n * container.get(Foo).random(); // another random number\n * ```\n * `@lazy` does not manage the lifecycle of the underlying key. If you want a singleton, you have to register as a\n * `singleton`, `transient` would also behave as you would expect, providing you a new instance each time.\n *\n * - @param key [[`Key`]]\n * see { @link DI.createInterface } on interactions with interfaces\n */\nconst lazy = createResolver((key, handler, requestor) => {\n    return () => requestor.get(key);\n});\n/**\n * Allows you to optionally inject a dependency depending on whether the [[`Key`]] is present, for example\n * ```ts\n * class Foo {\n *   constructor( @inject('mystring') public str: string = 'somestring' )\n * }\n * container.get(Foo); // throws\n * ```\n * would fail\n * ```ts\n * class Foo {\n *   constructor( @optional('mystring') public str: string = 'somestring' )\n * }\n * container.get(Foo).str // somestring\n * ```\n * if you use it without a default it will inject `undefined`, so rember to mark your input type as\n * possibly `undefined`!\n *\n * - @param key: [[`Key`]]\n *\n * see { @link DI.createInterface } on interactions with interfaces\n */\nconst optional = createResolver((key, handler, requestor) => {\n    if (requestor.has(key, true)) {\n        return requestor.get(key);\n    }\n    else {\n        return undefined;\n    }\n});\n/**\n * ignore tells the container not to try to inject a dependency\n */\nfunction ignore(target, property, descriptor) {\n    DI.inject(ignore)(target, property, descriptor);\n}\nignore.$isResolver = true;\nignore.resolve = () => undefined;\nconst newInstanceForScope = createResolver((key, handler, requestor) => {\n    const instance = createNewInstance(key, handler);\n    const instanceProvider = new InstanceProvider(String(key));\n    instanceProvider.prepare(instance);\n    requestor.registerResolver(key, instanceProvider, true);\n    return instance;\n});\nconst newInstanceOf = createResolver((key, handler, _requestor) => createNewInstance(key, handler));\nfunction createNewInstance(key, handler) {\n    return handler.getFactory(key).construct(handler);\n}\n/** @internal */\nvar ResolverStrategy;\n(function (ResolverStrategy) {\n    ResolverStrategy[ResolverStrategy[\"instance\"] = 0] = \"instance\";\n    ResolverStrategy[ResolverStrategy[\"singleton\"] = 1] = \"singleton\";\n    ResolverStrategy[ResolverStrategy[\"transient\"] = 2] = \"transient\";\n    ResolverStrategy[ResolverStrategy[\"callback\"] = 3] = \"callback\";\n    ResolverStrategy[ResolverStrategy[\"array\"] = 4] = \"array\";\n    ResolverStrategy[ResolverStrategy[\"alias\"] = 5] = \"alias\";\n})(ResolverStrategy || (ResolverStrategy = {}));\n/** @internal */\nclass Resolver {\n    constructor(key, strategy, state) {\n        this.key = key;\n        this.strategy = strategy;\n        this.state = state;\n        this.resolving = false;\n    }\n    get $isResolver() { return true; }\n    register(container, key) {\n        return container.registerResolver(key || this.key, this);\n    }\n    resolve(handler, requestor) {\n        switch (this.strategy) {\n            case 0 /* instance */:\n                return this.state;\n            case 1 /* singleton */: {\n                if (this.resolving) {\n                    throw new Error(`Cyclic dependency found: ${this.state.name}`);\n                }\n                this.resolving = true;\n                this.state = handler.getFactory(this.state).construct(requestor);\n                this.strategy = 0 /* instance */;\n                this.resolving = false;\n                return this.state;\n            }\n            case 2 /* transient */: {\n                // Always create transients from the requesting container\n                const factory = handler.getFactory(this.state);\n                if (factory === null) {\n                    throw new Error(`Resolver for ${String(this.key)} returned a null factory`);\n                }\n                return factory.construct(requestor);\n            }\n            case 3 /* callback */:\n                return this.state(handler, requestor, this);\n            case 4 /* array */:\n                return this.state[0].resolve(handler, requestor);\n            case 5 /* alias */:\n                return requestor.get(this.state);\n            default:\n                throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`);\n        }\n    }\n    getFactory(container) {\n        var _a, _b, _c;\n        switch (this.strategy) {\n            case 1 /* singleton */:\n            case 2 /* transient */:\n                return container.getFactory(this.state);\n            case 5 /* alias */:\n                return (_c = (_b = (_a = container.getResolver(this.state)) === null || _a === void 0 ? void 0 : _a.getFactory) === null || _b === void 0 ? void 0 : _b.call(_a, container)) !== null && _c !== void 0 ? _c : null;\n            default:\n                return null;\n        }\n    }\n}\nfunction containerGetKey(d) {\n    return this.get(d);\n}\nfunction transformInstance(inst, transform) {\n    return transform(inst);\n}\n/** @internal */\nclass Factory {\n    constructor(Type, dependencies) {\n        this.Type = Type;\n        this.dependencies = dependencies;\n        this.transformers = null;\n    }\n    construct(container, dynamicDependencies) {\n        let instance;\n        if (dynamicDependencies === void 0) {\n            instance = new this.Type(...this.dependencies.map(containerGetKey, container));\n        }\n        else {\n            instance = new this.Type(...this.dependencies.map(containerGetKey, container), ...dynamicDependencies);\n        }\n        if (this.transformers == null) {\n            return instance;\n        }\n        return this.transformers.reduce(transformInstance, instance);\n    }\n    registerTransformer(transformer) {\n        var _a;\n        ((_a = this.transformers) !== null && _a !== void 0 ? _a : (this.transformers = [])).push(transformer);\n    }\n}\nconst containerResolver = {\n    $isResolver: true,\n    resolve(handler, requestor) {\n        return requestor;\n    }\n};\nfunction isRegistry(obj) {\n    return typeof obj.register === 'function';\n}\nfunction isSelfRegistry(obj) {\n    return isRegistry(obj) && typeof obj.registerInRequestor === 'boolean';\n}\nfunction isRegisterInRequester(obj) {\n    return isSelfRegistry(obj) && obj.registerInRequestor;\n}\nfunction isClass(obj) {\n    return obj.prototype !== void 0;\n}\nfunction isResourceKey(key) {\n    return typeof key === 'string' && key.indexOf(':') > 0;\n}\nconst InstrinsicTypeNames = new Set([\n    'Array',\n    'ArrayBuffer',\n    'Boolean',\n    'DataView',\n    'Date',\n    'Error',\n    'EvalError',\n    'Float32Array',\n    'Float64Array',\n    'Function',\n    'Int8Array',\n    'Int16Array',\n    'Int32Array',\n    'Map',\n    'Number',\n    'Object',\n    'Promise',\n    'RangeError',\n    'ReferenceError',\n    'RegExp',\n    'Set',\n    'SharedArrayBuffer',\n    'String',\n    'SyntaxError',\n    'TypeError',\n    'Uint8Array',\n    'Uint8ClampedArray',\n    'Uint16Array',\n    'Uint32Array',\n    'URIError',\n    'WeakMap',\n    'WeakSet',\n]);\nconst factoryKey = 'di:factory';\nconst factoryAnnotationKey = _resource_js__WEBPACK_IMPORTED_MODULE_3__.Protocol.annotation.keyFor(factoryKey);\nlet containerId = 0;\n/** @internal */\nclass Container {\n    constructor(parent, config) {\n        this.parent = parent;\n        this.config = config;\n        this.id = ++containerId;\n        this.registerDepth = 0;\n        this.disposableResolvers = new Set();\n        if (parent === null) {\n            this.root = this;\n            this.resolvers = new Map();\n            this.factories = new Map();\n            this.resourceResolvers = Object.create(null);\n        }\n        else {\n            this.root = parent.root;\n            this.resolvers = new Map();\n            this.factories = parent.factories;\n            if (config.inheritParentResources) {\n                this.resourceResolvers = Object.assign(Object.create(null), parent.resourceResolvers, this.root.resourceResolvers);\n            }\n            else {\n                this.resourceResolvers = Object.assign(Object.create(null), this.root.resourceResolvers);\n            }\n        }\n        this.resolvers.set(IContainer, containerResolver);\n    }\n    get depth() {\n        return this.parent === null ? 0 : this.parent.depth + 1;\n    }\n    register(...params) {\n        if (++this.registerDepth === 100) {\n            throw new Error(`Unable to autoregister dependency: [${params.map(String)}]`);\n            // TODO: change to reporter.error and add various possible causes in description.\n            // Most likely cause is trying to register a plain object that does not have a\n            // register method and is not a class constructor\n        }\n        let current;\n        let keys;\n        let value;\n        let j;\n        let jj;\n        for (let i = 0, ii = params.length; i < ii; ++i) {\n            current = params[i];\n            if (!(0,_aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.isObject)(current)) {\n                continue;\n            }\n            if (isRegistry(current)) {\n                current.register(this);\n            }\n            else if (_resource_js__WEBPACK_IMPORTED_MODULE_3__.Protocol.resource.has(current)) {\n                const defs = _resource_js__WEBPACK_IMPORTED_MODULE_3__.Protocol.resource.getAll(current);\n                if (defs.length === 1) {\n                    // Fast path for the very common case\n                    defs[0].register(this);\n                }\n                else {\n                    const len = defs.length;\n                    for (let d = 0; d < len; ++d) {\n                        defs[d].register(this);\n                    }\n                }\n            }\n            else if (isClass(current)) {\n                Registration.singleton(current, current).register(this);\n            }\n            else {\n                keys = Object.keys(current);\n                j = 0;\n                jj = keys.length;\n                for (; j < jj; ++j) {\n                    value = current[keys[j]];\n                    if (!(0,_aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.isObject)(value)) {\n                        continue;\n                    }\n                    // note: we could remove this if-branch and call this.register directly\n                    // - the extra check is just a perf tweak to create fewer unnecessary arrays by the spread operator\n                    if (isRegistry(value)) {\n                        value.register(this);\n                    }\n                    else {\n                        this.register(value);\n                    }\n                }\n            }\n        }\n        --this.registerDepth;\n        return this;\n    }\n    registerResolver(key, resolver, isDisposable = false) {\n        validateKey(key);\n        const resolvers = this.resolvers;\n        const result = resolvers.get(key);\n        if (result == null) {\n            resolvers.set(key, resolver);\n            if (isResourceKey(key)) {\n                this.resourceResolvers[key] = resolver;\n            }\n        }\n        else if (result instanceof Resolver && result.strategy === 4 /* array */) {\n            result.state.push(resolver);\n        }\n        else {\n            resolvers.set(key, new Resolver(key, 4 /* array */, [result, resolver]));\n        }\n        if (isDisposable) {\n            this.disposableResolvers.add(resolver);\n        }\n        return resolver;\n    }\n    // public deregisterResolverFor<K extends Key, T = K>(key: K): void {\n    //   // const console =  (globalThis as any).console;\n    //   // console.group(\"deregisterResolverFor\");\n    //   validateKey(key);\n    //   let current: Container = this;\n    //   let resolver: IResolver | undefined;\n    //   while (current != null) {\n    //     resolver = current.resolvers.get(key);\n    //     if (resolver != null) { break; }\n    //     if (current.parent == null) { return; }\n    //     current = current.parent;\n    //   }\n    //   if (resolver === void 0) { return; }\n    //   if (resolver instanceof Resolver && resolver.strategy === ResolverStrategy.array) {\n    //     throw new Error('Cannot deregister a resolver with array strategy');\n    //   }\n    //   if (this.disposableResolvers.has(resolver as IDisposableResolver<T>)) {\n    //     (resolver as IDisposableResolver<T>).dispose();\n    //   }\n    //   if (isResourceKey(key)) {\n    //     // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n    //     delete this.resourceResolvers[key];\n    //   }\n    //   // console.log(`BEFORE delete ${Array.from(current.resolvers.keys()).map((k) => k.toString())}`);\n    //   current.resolvers.delete(key);\n    //   // console.log(`AFTER delete ${Array.from(current.resolvers.keys()).map((k) => k.toString())}`);\n    //   // console.groupEnd();\n    // }\n    registerTransformer(key, transformer) {\n        const resolver = this.getResolver(key);\n        if (resolver == null) {\n            return false;\n        }\n        if (resolver.getFactory) {\n            const factory = resolver.getFactory(this);\n            if (factory == null) {\n                return false;\n            }\n            // This type cast is a bit of a hacky one, necessary due to the duplicity of IResolverLike.\n            // Problem is that that interface's type arg can be of type Key, but the getFactory method only works on\n            // type Constructable. So the return type of that optional method has this additional constraint, which\n            // seems to confuse the type checker.\n            factory.registerTransformer(transformer);\n            return true;\n        }\n        return false;\n    }\n    getResolver(key, autoRegister = true) {\n        validateKey(key);\n        if (key.resolve !== void 0) {\n            return key;\n        }\n        let current = this;\n        let resolver;\n        while (current != null) {\n            resolver = current.resolvers.get(key);\n            if (resolver == null) {\n                if (current.parent == null) {\n                    const handler = (isRegisterInRequester(key)) ? this : current;\n                    return autoRegister ? this.jitRegister(key, handler) : null;\n                }\n                current = current.parent;\n            }\n            else {\n                return resolver;\n            }\n        }\n        return null;\n    }\n    has(key, searchAncestors = false) {\n        return this.resolvers.has(key)\n            ? true\n            : searchAncestors && this.parent != null\n                ? this.parent.has(key, true)\n                : false;\n    }\n    get(key) {\n        validateKey(key);\n        if (key.$isResolver) {\n            return key.resolve(this, this);\n        }\n        let current = this;\n        let resolver;\n        while (current != null) {\n            resolver = current.resolvers.get(key);\n            if (resolver == null) {\n                if (current.parent == null) {\n                    const handler = (isRegisterInRequester(key)) ? this : current;\n                    resolver = this.jitRegister(key, handler);\n                    return resolver.resolve(current, this);\n                }\n                current = current.parent;\n            }\n            else {\n                return resolver.resolve(current, this);\n            }\n        }\n        throw new Error(`Unable to resolve key: ${key}`);\n    }\n    getAll(key, searchAncestors = false) {\n        validateKey(key);\n        const requestor = this;\n        let current = requestor;\n        let resolver;\n        if (searchAncestors) {\n            let resolutions = _platform_js__WEBPACK_IMPORTED_MODULE_2__.emptyArray;\n            while (current != null) {\n                resolver = current.resolvers.get(key);\n                if (resolver != null) {\n                    resolutions = resolutions.concat(buildAllResponse(resolver, current, requestor));\n                }\n                current = current.parent;\n            }\n            return resolutions;\n        }\n        else {\n            while (current != null) {\n                resolver = current.resolvers.get(key);\n                if (resolver == null) {\n                    current = current.parent;\n                    if (current == null) {\n                        return _platform_js__WEBPACK_IMPORTED_MODULE_2__.emptyArray;\n                    }\n                }\n                else {\n                    return buildAllResponse(resolver, current, requestor);\n                }\n            }\n        }\n        return _platform_js__WEBPACK_IMPORTED_MODULE_2__.emptyArray;\n    }\n    invoke(Type, dynamicDependencies) {\n        if ((0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.isNativeFunction)(Type)) {\n            throw createNativeInvocationError(Type);\n        }\n        return new Factory(Type, DI.getDependencies(Type)).construct(this, dynamicDependencies);\n    }\n    getFactory(Type) {\n        let factory = this.factories.get(Type);\n        if (factory === void 0) {\n            if ((0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.isNativeFunction)(Type)) {\n                throw createNativeInvocationError(Type);\n            }\n            this.factories.set(Type, factory = new Factory(Type, DI.getDependencies(Type)));\n        }\n        return factory;\n    }\n    registerFactory(key, factory) {\n        this.factories.set(key, factory);\n    }\n    createChild(config) {\n        if (config === void 0 && this.config.inheritParentResources) {\n            if (this.config === ContainerConfiguration.DEFAULT) {\n                return new Container(this, this.config);\n            }\n            return new Container(this, ContainerConfiguration.from({\n                ...this.config,\n                inheritParentResources: false,\n            }));\n        }\n        return new Container(this, ContainerConfiguration.from(config !== null && config !== void 0 ? config : this.config));\n    }\n    disposeResolvers() {\n        var _a;\n        const disposables = Array.from(this.disposableResolvers);\n        while (disposables.length > 0) {\n            (_a = disposables.pop()) === null || _a === void 0 ? void 0 : _a.dispose();\n        }\n    }\n    find(kind, name) {\n        const key = kind.keyFrom(name);\n        let resolver = this.resourceResolvers[key];\n        if (resolver === void 0) {\n            resolver = this.root.resourceResolvers[key];\n            if (resolver === void 0) {\n                return null;\n            }\n        }\n        if (resolver === null) {\n            return null;\n        }\n        if (typeof resolver.getFactory === 'function') {\n            const factory = resolver.getFactory(this);\n            if (factory === null || factory === void 0) {\n                return null;\n            }\n            const definition = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(kind.name, factory.Type);\n            if (definition === void 0) {\n                // TODO: we may want to log a warning here, or even throw. This would happen if a dependency is registered with a resource-like key\n                // but does not actually have a definition associated via the type's metadata. That *should* generally not happen.\n                return null;\n            }\n            return definition;\n        }\n        return null;\n    }\n    create(kind, name) {\n        var _a, _b;\n        const key = kind.keyFrom(name);\n        let resolver = this.resourceResolvers[key];\n        if (resolver === void 0) {\n            resolver = this.root.resourceResolvers[key];\n            if (resolver === void 0) {\n                return null;\n            }\n            return (_a = resolver.resolve(this.root, this)) !== null && _a !== void 0 ? _a : null;\n        }\n        return (_b = resolver.resolve(this, this)) !== null && _b !== void 0 ? _b : null;\n    }\n    dispose() {\n        this.disposeResolvers();\n        this.resolvers.clear();\n    }\n    jitRegister(keyAsValue, handler) {\n        if (typeof keyAsValue !== 'function') {\n            throw new Error(`Attempted to jitRegister something that is not a constructor: '${keyAsValue}'. Did you forget to register this resource?`);\n        }\n        if (InstrinsicTypeNames.has(keyAsValue.name)) {\n            throw new Error(`Attempted to jitRegister an intrinsic type: ${keyAsValue.name}. Did you forget to add @inject(Key)`);\n        }\n        if (isRegistry(keyAsValue)) {\n            const registrationResolver = keyAsValue.register(handler, keyAsValue);\n            if (!(registrationResolver instanceof Object) || registrationResolver.resolve == null) {\n                const newResolver = handler.resolvers.get(keyAsValue);\n                if (newResolver != void 0) {\n                    return newResolver;\n                }\n                throw new Error(`Invalid resolver returned from the static register method`);\n            }\n            return registrationResolver;\n        }\n        else if (_resource_js__WEBPACK_IMPORTED_MODULE_3__.Protocol.resource.has(keyAsValue)) {\n            const defs = _resource_js__WEBPACK_IMPORTED_MODULE_3__.Protocol.resource.getAll(keyAsValue);\n            if (defs.length === 1) {\n                // Fast path for the very common case\n                defs[0].register(handler);\n            }\n            else {\n                const len = defs.length;\n                for (let d = 0; d < len; ++d) {\n                    defs[d].register(handler);\n                }\n            }\n            const newResolver = handler.resolvers.get(keyAsValue);\n            if (newResolver != void 0) {\n                return newResolver;\n            }\n            throw new Error(`Invalid resolver returned from the static register method`);\n        }\n        else if (keyAsValue.$isInterface) {\n            throw new Error(`Attempted to jitRegister an interface: ${keyAsValue.friendlyName}`);\n        }\n        else {\n            const resolver = this.config.defaultResolver(keyAsValue, handler);\n            handler.resolvers.set(keyAsValue, resolver);\n            return resolver;\n        }\n    }\n}\n/**\n * An implementation of IRegistry that delegates registration to a\n * separately registered class. The ParameterizedRegistry facilitates the\n * passing of parameters to the final registry.\n */\nclass ParameterizedRegistry {\n    constructor(key, params) {\n        this.key = key;\n        this.params = params;\n    }\n    register(container) {\n        if (container.has(this.key, true)) {\n            const registry = container.get(this.key);\n            registry.register(container, ...this.params);\n        }\n        else {\n            container.register(...this.params.filter(x => typeof x === 'object'));\n        }\n    }\n}\nconst containerLookup = new WeakMap();\nfunction cacheCallbackResult(fun) {\n    return function (handler, requestor, resolver) {\n        let resolverLookup = containerLookup.get(handler);\n        if (resolverLookup === void 0) {\n            containerLookup.set(handler, resolverLookup = new WeakMap());\n        }\n        if (resolverLookup.has(resolver)) {\n            return resolverLookup.get(resolver);\n        }\n        const t = fun(handler, requestor, resolver);\n        resolverLookup.set(resolver, t);\n        return t;\n    };\n}\n/**\n * you can use the resulting {@linkcode IRegistration} of any of the factory methods\n * to register with the container, e.g.\n * ```\n * class Foo {}\n * const container = DI.createContainer();\n * container.register(Registration.instance(Foo, new Foo()));\n * container.get(Foo);\n * ```\n */\nconst Registration = {\n    /**\n     * allows you to pass an instance.\n     * Every time you request this {@linkcode Key} you will get this instance back.\n     * ```\n     * Registration.instance(Foo, new Foo()));\n     * ```\n     *\n     * @param key\n     * @param value\n     */\n    instance(key, value) {\n        return new Resolver(key, 0 /* instance */, value);\n    },\n    /**\n     * Creates an instance from the class.\n     * Every time you request this {@linkcode Key} you will get the same one back.\n     * ```\n     * Registration.singleton(Foo, Foo);\n     * ```\n     *\n     * @param key\n     * @param value\n     */\n    singleton(key, value) {\n        return new Resolver(key, 1 /* singleton */, value);\n    },\n    /**\n     * Creates an instance from a class.\n     * Every time you request this {@linkcode Key} you will get a new instance.\n     * ```\n     * Registration.instance(Foo, Foo);\n     * ```\n     *\n     * @param key\n     * @param value\n     */\n    transient(key, value) {\n        return new Resolver(key, 2 /* transient */, value);\n    },\n    /**\n     * Creates an instance from the method passed.\n     * Every time you request this {@linkcode Key} you will get a new instance.\n     * ```\n     * Registration.callback(Foo, () => new Foo());\n     * Registration.callback(Bar, (c: IContainer) => new Bar(c.get(Foo)));\n     * ```\n     *\n     * @param key\n     * @param callback\n     */\n    callback(key, callback) {\n        return new Resolver(key, 3 /* callback */, callback);\n    },\n    /**\n     * Creates an instance from the method passed.\n     * On the first request for the {@linkcode Key} your callback is called and returns an instance.\n     * subsequent requests for the {@linkcode Key}, the initial instance returned will be returned.\n     * If you pass the same {@linkcode Registration} to another container the same cached value will be used.\n     * Should all references to the resolver returned be removed, the cache will expire.\n     * ```\n     * Registration.cachedCallback(Foo, () => new Foo());\n     * Registration.cachedCallback(Bar, (c: IContainer) => new Bar(c.get(Foo)));\n     * ```\n     *\n     * @param key\n     * @param callback\n     */\n    cachedCallback(key, callback) {\n        return new Resolver(key, 3 /* callback */, cacheCallbackResult(callback));\n    },\n    /**\n     * creates an alternate {@linkcode Key} to retrieve an instance by.\n     * Returns the same scope as the original {@linkcode Key}.\n     * ```\n     * Register.singleton(Foo, Foo)\n     * Register.aliasTo(Foo, MyFoos);\n     *\n     * container.getAll(MyFoos) // contains an instance of Foo\n     * ```\n     *\n     * @param originalKey\n     * @param aliasKey\n     */\n    aliasTo(originalKey, aliasKey) {\n        return new Resolver(aliasKey, 5 /* alias */, originalKey);\n    },\n    /**\n     * @internal\n     * @param key\n     * @param params\n     */\n    defer(key, ...params) {\n        return new ParameterizedRegistry(key, params);\n    }\n};\nclass InstanceProvider {\n    constructor(friendlyName) {\n        this.friendlyName = friendlyName;\n        this.instance = null;\n    }\n    prepare(instance) {\n        this.instance = instance;\n    }\n    get $isResolver() { return true; }\n    resolve() {\n        if (this.instance == null) {\n            throw new Error(`Cannot call resolve ${this.friendlyName} before calling prepare or after calling dispose.`);\n        }\n        return this.instance;\n    }\n    dispose() {\n        this.instance = null;\n    }\n}\n/** @internal */\nfunction validateKey(key) {\n    if (key === null || key === void 0) {\n        throw new Error('key/value cannot be null or undefined. Are you trying to inject/register something that doesn\\'t exist with DI?');\n    }\n}\nfunction buildAllResponse(resolver, handler, requestor) {\n    if (resolver instanceof Resolver && resolver.strategy === 4 /* array */) {\n        const state = resolver.state;\n        let i = state.length;\n        const results = new Array(i);\n        while (i--) {\n            results[i] = state[i].resolve(handler, requestor);\n        }\n        return results;\n    }\n    return [resolver.resolve(handler, requestor)];\n}\nfunction createNativeInvocationError(Type) {\n    return new Error(`${Type.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`);\n}\n//# sourceMappingURL=di.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEva2VybmVsL2Rpc3QvZXNtL2RpLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL2tlcm5lbC9kaXN0L2VzbS9kaS5qcz82OWIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1ldGFkYXRhLCBpc09iamVjdCwgYXBwbHlNZXRhZGF0YVBvbHlmaWxsIH0gZnJvbSAnQGF1cmVsaWEvbWV0YWRhdGEnO1xuYXBwbHlNZXRhZGF0YVBvbHlmaWxsKFJlZmxlY3QpO1xuaW1wb3J0IHsgaXNBcnJheUluZGV4LCBpc05hdGl2ZUZ1bmN0aW9uIH0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgZW1wdHlBcnJheSB9IGZyb20gJy4vcGxhdGZvcm0uanMnO1xuaW1wb3J0IHsgUHJvdG9jb2wgfSBmcm9tICcuL3Jlc291cmNlLmpzJztcbmV4cG9ydCBjbGFzcyBSZXNvbHZlckJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwga2V5KSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICB9XG4gICAgaW5zdGFuY2UodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJSZXNvbHZlcigwIC8qIGluc3RhbmNlICovLCB2YWx1ZSk7XG4gICAgfVxuICAgIHNpbmdsZXRvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclJlc29sdmVyKDEgLyogc2luZ2xldG9uICovLCB2YWx1ZSk7XG4gICAgfVxuICAgIHRyYW5zaWVudCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclJlc29sdmVyKDIgLyogdHJhbnNpZW50ICovLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNhbGxiYWNrKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyUmVzb2x2ZXIoMyAvKiBjYWxsYmFjayAqLywgdmFsdWUpO1xuICAgIH1cbiAgICBjYWNoZWRDYWxsYmFjayh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclJlc29sdmVyKDMgLyogY2FsbGJhY2sgKi8sIGNhY2hlQ2FsbGJhY2tSZXN1bHQodmFsdWUpKTtcbiAgICB9XG4gICAgYWxpYXNUbyhkZXN0aW5hdGlvbktleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclJlc29sdmVyKDUgLyogYWxpYXMgKi8sIGRlc3RpbmF0aW9uS2V5KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJSZXNvbHZlcihzdHJhdGVneSwgc3RhdGUpIHtcbiAgICAgICAgY29uc3QgeyBjb250YWluZXIsIGtleSB9ID0gdGhpcztcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSB0aGlzLmtleSA9ICh2b2lkIDApO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyLnJlZ2lzdGVyUmVzb2x2ZXIoa2V5LCBuZXcgUmVzb2x2ZXIoa2V5LCBzdHJhdGVneSwgc3RhdGUpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbG9uZUFycmF5V2l0aFBvc3NpYmxlUHJvcHMoc291cmNlKSB7XG4gICAgY29uc3QgY2xvbmUgPSBzb3VyY2Uuc2xpY2UoKTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQga2V5O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgaWYgKCFpc0FycmF5SW5kZXgoa2V5KSkge1xuICAgICAgICAgICAgY2xvbmVba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbG9uZTtcbn1cbmV4cG9ydCBjb25zdCBEZWZhdWx0UmVzb2x2ZXIgPSB7XG4gICAgbm9uZShrZXkpIHsgdGhyb3cgRXJyb3IoYCR7a2V5LnRvU3RyaW5nKCl9IG5vdCByZWdpc3RlcmVkLCBkaWQgeW91IGZvcmdldCB0byBhZGQgQHNpbmdsZXRvbigpP2ApOyB9LFxuICAgIHNpbmdsZXRvbihrZXkpIHsgcmV0dXJuIG5ldyBSZXNvbHZlcihrZXksIDEgLyogc2luZ2xldG9uICovLCBrZXkpOyB9LFxuICAgIHRyYW5zaWVudChrZXkpIHsgcmV0dXJuIG5ldyBSZXNvbHZlcihrZXksIDIgLyogdHJhbnNpZW50ICovLCBrZXkpOyB9LFxufTtcbmV4cG9ydCBjbGFzcyBDb250YWluZXJDb25maWd1cmF0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihpbmhlcml0UGFyZW50UmVzb3VyY2VzLCBkZWZhdWx0UmVzb2x2ZXIpIHtcbiAgICAgICAgdGhpcy5pbmhlcml0UGFyZW50UmVzb3VyY2VzID0gaW5oZXJpdFBhcmVudFJlc291cmNlcztcbiAgICAgICAgdGhpcy5kZWZhdWx0UmVzb2x2ZXIgPSBkZWZhdWx0UmVzb2x2ZXI7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKGNvbmZpZykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDAgfHxcbiAgICAgICAgICAgIGNvbmZpZyA9PT0gQ29udGFpbmVyQ29uZmlndXJhdGlvbi5ERUZBVUxUKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29udGFpbmVyQ29uZmlndXJhdGlvbi5ERUZBVUxUO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29udGFpbmVyQ29uZmlndXJhdGlvbigoX2EgPSBjb25maWcuaW5oZXJpdFBhcmVudFJlc291cmNlcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsIChfYiA9IGNvbmZpZy5kZWZhdWx0UmVzb2x2ZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IERlZmF1bHRSZXNvbHZlci5zaW5nbGV0b24pO1xuICAgIH1cbn1cbkNvbnRhaW5lckNvbmZpZ3VyYXRpb24uREVGQVVMVCA9IENvbnRhaW5lckNvbmZpZ3VyYXRpb24uZnJvbSh7fSk7XG5leHBvcnQgY29uc3QgREkgPSB7XG4gICAgY3JlYXRlQ29udGFpbmVyKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IENvbnRhaW5lcihudWxsLCBDb250YWluZXJDb25maWd1cmF0aW9uLmZyb20oY29uZmlnKSk7XG4gICAgfSxcbiAgICBnZXREZXNpZ25QYXJhbXR5cGVzKFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIE1ldGFkYXRhLmdldE93bignZGVzaWduOnBhcmFtdHlwZXMnLCBUeXBlKTtcbiAgICB9LFxuICAgIGdldEFubm90YXRpb25QYXJhbXR5cGVzKFR5cGUpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IoJ2RpOnBhcmFtdHlwZXMnKTtcbiAgICAgICAgcmV0dXJuIE1ldGFkYXRhLmdldE93bihrZXksIFR5cGUpO1xuICAgIH0sXG4gICAgZ2V0T3JDcmVhdGVBbm5vdGF0aW9uUGFyYW1UeXBlcyhUeXBlKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IFByb3RvY29sLmFubm90YXRpb24ua2V5Rm9yKCdkaTpwYXJhbXR5cGVzJyk7XG4gICAgICAgIGxldCBhbm5vdGF0aW9uUGFyYW10eXBlcyA9IE1ldGFkYXRhLmdldE93bihrZXksIFR5cGUpO1xuICAgICAgICBpZiAoYW5ub3RhdGlvblBhcmFtdHlwZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgTWV0YWRhdGEuZGVmaW5lKGtleSwgYW5ub3RhdGlvblBhcmFtdHlwZXMgPSBbXSwgVHlwZSk7XG4gICAgICAgICAgICBQcm90b2NvbC5hbm5vdGF0aW9uLmFwcGVuZFRvKFR5cGUsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFubm90YXRpb25QYXJhbXR5cGVzO1xuICAgIH0sXG4gICAgZ2V0RGVwZW5kZW5jaWVzKFR5cGUpIHtcbiAgICAgICAgLy8gTm90ZTogRXZlcnkgZGV0YWlsIG9mIHRoaXMgZ2V0RGVwZW5kZW5jaWVzIG1ldGhvZCBpcyBwcmV0dHkgZGVsaWJlcmF0ZSBhdCB0aGUgbW9tZW50LCBhbmQgcHJvYmFibHkgbm90IHlldCAxMDAlIHRlc3RlZCBmcm9tIGV2ZXJ5IHBvc3NpYmxlIGFuZ2xlLFxuICAgICAgICAvLyBzbyBiZSBjYXJlZnVsIHdpdGggbWFraW5nIGNoYW5nZXMgaGVyZSBhcyBpdCBjYW4gaGF2ZSBhIGh1Z2UgaW1wYWN0IG9uIGNvbXBsZXggZW5kIHVzZXIgYXBwcy5cbiAgICAgICAgLy8gUHJlZmVyYWJseSwgb25seSBtYWtlIGNoYW5nZXMgdG8gdGhlIGRlcGVuZGVuY3kgcmVzb2x1dGlvbiBwcm9jZXNzIHZpYSBhIFJGQy5cbiAgICAgICAgY29uc3Qga2V5ID0gUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IoJ2RpOmRlcGVuZGVuY2llcycpO1xuICAgICAgICBsZXQgZGVwZW5kZW5jaWVzID0gTWV0YWRhdGEuZ2V0T3duKGtleSwgVHlwZSk7XG4gICAgICAgIGlmIChkZXBlbmRlbmNpZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgLy8gVHlwZS5sZW5ndGggaXMgdGhlIG51bWJlciBvZiBjb25zdHJ1Y3RvciBwYXJhbWV0ZXJzLiBJZiB0aGlzIGlzIDAsIGl0IGNvdWxkIG1lYW4gdGhlIGNsYXNzIGhhcyBhbiBlbXB0eSBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgLy8gYnV0IGl0IGNvdWxkIGFsc28gbWVhbiB0aGUgY2xhc3MgaGFzIG5vIGNvbnN0cnVjdG9yIGF0IGFsbCAoaW4gd2hpY2ggY2FzZSBpdCBpbmhlcml0cyB0aGUgY29uc3RydWN0b3IgZnJvbSB0aGUgcHJvdG90eXBlKS5cbiAgICAgICAgICAgIC8vIE5vbi16ZXJvIGNvbnN0cnVjdG9yIGxlbmd0aCArIG5vIHBhcmFtdHlwZXMgbWVhbnMgZW1pdERlY29yYXRvck1ldGFkYXRhIGlzIG9mZiwgb3IgdGhlIGNsYXNzIGhhcyBubyBkZWNvcmF0b3IuXG4gICAgICAgICAgICAvLyBXZSdyZSBub3QgZG9pbmcgYW55dGhpbmcgd2l0aCB0aGUgYWJvdmUgcmlnaHQgbm93LCBidXQgaXQncyBnb29kIHRvIGtlZXAgaW4gbWluZCBmb3IgYW55IGZ1dHVyZSBpc3N1ZXMuXG4gICAgICAgICAgICBjb25zdCBpbmplY3QgPSBUeXBlLmluamVjdDtcbiAgICAgICAgICAgIGlmIChpbmplY3QgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIC8vIGRlc2lnbjpwYXJhbXR5cGVzIGlzIHNldCBieSB0c2Mgd2hlbiBlbWl0RGVjb3JhdG9yTWV0YWRhdGEgaXMgZW5hYmxlZC5cbiAgICAgICAgICAgICAgICBjb25zdCBkZXNpZ25QYXJhbXR5cGVzID0gREkuZ2V0RGVzaWduUGFyYW10eXBlcyhUeXBlKTtcbiAgICAgICAgICAgICAgICAvLyBhdTphbm5vdGF0aW9uOmRpOnBhcmFtdHlwZXMgaXMgc2V0IGJ5IHRoZSBwYXJhbWV0ZXIgZGVjb3JhdG9yIGZyb20gREkuY3JlYXRlSW50ZXJmYWNlIG9yIGJ5IEBpbmplY3RcbiAgICAgICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uUGFyYW10eXBlcyA9IERJLmdldEFubm90YXRpb25QYXJhbXR5cGVzKFR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChkZXNpZ25QYXJhbXR5cGVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFubm90YXRpb25QYXJhbXR5cGVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgZ28gdXAgdGhlIHByb3RvdHlwZSBpZiBuZWl0aGVyIHN0YXRpYyBpbmplY3Qgbm9yIGFueSBvZiB0aGUgcGFyYW10eXBlcyBpcyBkZWZpbmVkLCBhc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gc291bmQgd2F5IHRvIG1lcmdlIGEgdHlwZSdzIGRlcHMgd2l0aCBpdHMgcHJvdG90eXBlJ3MgZGVwc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgUHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFByb3RvID09PSAnZnVuY3Rpb24nICYmIFByb3RvICE9PSBGdW5jdGlvbi5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBjbG9uZUFycmF5V2l0aFBvc3NpYmxlUHJvcHMoREkuZ2V0RGVwZW5kZW5jaWVzKFByb3RvKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIGRlc2lnbjpwYXJhbXR5cGVzIHNvIGp1c3QgdXNlIHRoZSBhdTphbm5vdGF0aW9uOmRpOnBhcmFtdHlwZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IGNsb25lQXJyYXlXaXRoUG9zc2libGVQcm9wcyhhbm5vdGF0aW9uUGFyYW10eXBlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYW5ub3RhdGlvblBhcmFtdHlwZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyBhdTphbm5vdGF0aW9uOmRpOnBhcmFtdHlwZXMgc28ganVzdCB1c2UgdGhlIGRlc2lnbjpwYXJhbXR5cGVzXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IGNsb25lQXJyYXlXaXRoUG9zc2libGVQcm9wcyhkZXNpZ25QYXJhbXR5cGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlJ3ZlIGdvdCBib3RoLCBzbyBtZXJnZSB0aGVtIChpbiBjYXNlIG9mIGNvbmZsaWN0IG9uIHNhbWUgaW5kZXgsIGF1OmFubm90YXRpb246ZGk6cGFyYW10eXBlcyB0YWtlIHByZWNlZGVuY2UpXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IGNsb25lQXJyYXlXaXRoUG9zc2libGVQcm9wcyhkZXNpZ25QYXJhbXR5cGVzKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlbiA9IGFubm90YXRpb25QYXJhbXR5cGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF1QW5ub3RhdGlvblBhcmFtdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVBbm5vdGF0aW9uUGFyYW10eXBlID0gYW5ub3RhdGlvblBhcmFtdHlwZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXVBbm5vdGF0aW9uUGFyYW10eXBlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXNbaV0gPSBhdUFubm90YXRpb25QYXJhbXR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGFubm90YXRpb25QYXJhbXR5cGVzKTtcbiAgICAgICAgICAgICAgICAgICAgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGxldCBrZXk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXlJbmRleChrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzW2tleV0gPSBhbm5vdGF0aW9uUGFyYW10eXBlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHBhcmFtdHlwZXMgaWYgd2UgaGF2ZSBzdGF0aWMgaW5qZWN0XG4gICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gY2xvbmVBcnJheVdpdGhQb3NzaWJsZVByb3BzKGluamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNZXRhZGF0YS5kZWZpbmUoa2V5LCBkZXBlbmRlbmNpZXMsIFR5cGUpO1xuICAgICAgICAgICAgUHJvdG9jb2wuYW5ub3RhdGlvbi5hcHBlbmRUbyhUeXBlLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXBlbmRlbmNpZXM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBjcmVhdGVzIGEgZGVjb3JhdG9yIHRoYXQgYWxzbyBtYXRjaGVzIGFuIGludGVyZmFjZSBhbmQgY2FuIGJlIHVzZWQgYXMgYSB7QGxpbmtjb2RlIEtleX0uXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCBJTG9nZ2VyID0gREkuY3JlYXRlSW50ZXJmYWNlPExvZ2dlcj4oJ0xvZ2dlcicpO1xuICAgICAqIGNvbnRhaW5lci5yZWdpc3RlcihSZWdpc3RyYXRpb24uc2luZ2xldG9uKElMb2dnZXIsIGdldFNvbWVMb2dnZXIoKSkpO1xuICAgICAqIGNvbnN0IGxvZyA9IGNvbnRhaW5lci5nZXQoSUxvZ2dlcik7XG4gICAgICogbG9nLmluZm8oJ2hlbGxvIHdvcmxkJyk7XG4gICAgICogY2xhc3MgRm9vIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKCBASUxvZ2dlciBsb2c6IElMb2dnZXIgKSB7XG4gICAgICogICAgIGxvZy5pbmZvKCdoZWxsbyB3b3JsZCcpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiB5b3UgY2FuIGFsc28gYnVpbGQgZGVmYXVsdCByZWdpc3RyYXRpb25zIGludG8geW91ciBpbnRlcmZhY2UuXG4gICAgICogYGBgdHNcbiAgICAgKiBleHBvcnQgY29uc3QgSUxvZ2dlciA9IERJLmNyZWF0ZUludGVyZmFjZTxMb2dnZXI+KCdMb2dnZXInLCBidWlsZGVyID0+IGJ1aWxkZXIuY2FjaGVkQ2FsbGJhY2soTG9nZ2VyRGVmYXVsdCkpO1xuICAgICAqIGNvbnN0IGxvZyA9IGNvbnRhaW5lci5nZXQoSUxvZ2dlcik7XG4gICAgICogbG9nLmluZm8oJ2hlbGxvIHdvcmxkJyk7XG4gICAgICogY2xhc3MgRm9vIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKCBASUxvZ2dlciBsb2c6IElMb2dnZXIgKSB7XG4gICAgICogICAgIGxvZy5pbmZvKCdoZWxsbyB3b3JsZCcpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBidXQgdGhlc2UgZGVmYXVsdCByZWdpc3RyYXRpb25zIHdvbid0IHdvcmsgdGhlIHNhbWUgd2l0aCBvdGhlciBkZWNvcmF0b3JzIHRoYXQgdGFrZSBrZXlzLCBmb3IgZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogZXhwb3J0IGNvbnN0IE15U3RyID0gREkuY3JlYXRlSW50ZXJmYWNlPHN0cmluZz4oJ015U3RyJywgYnVpbGRlciA9PiBidWlsZGVyLmluc3RhbmNlKCdzb21lc3RyaW5nJykpO1xuICAgICAqIGNsYXNzIEZvbyB7XG4gICAgICogICBjb25zdHJ1Y3RvciggQG9wdGlvbmFsKE15U3RyKSBwdWJsaWMgcmVhZG9ubHkgc3RyOiBzdHJpbmcgKSB7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGNvbnRhaW5lci5nZXQoRm9vKS5zdHI7IC8vIHJldHVybnMgdW5kZWZpbmVkXG4gICAgICogYGBgXG4gICAgICogdG8gZml4IHRoaXMgYWRkIHRoaXMgbGluZSBzb21ld2hlcmUgYmVmb3JlIHlvdSBkbyBhIGBnZXRgXG4gICAgICogYGBgdHNcbiAgICAgKiBjb250YWluZXIucmVnaXN0ZXIoTXlTdHIpO1xuICAgICAqIGNvbnRhaW5lci5nZXQoRm9vKS5zdHI7IC8vIHJldHVybnMgJ3NvbWVzdHJpbmcnXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAtIEBwYXJhbSBmcmllbmRseU5hbWUgdXNlZCB0byBpbXByb3ZlIGVycm9yIG1lc3NhZ2luZ1xuICAgICAqL1xuICAgIGNyZWF0ZUludGVyZmFjZShjb25maWd1cmVPck5hbWUsIGNvbmZpZ3Vyb3IpIHtcbiAgICAgICAgY29uc3QgY29uZmlndXJlID0gdHlwZW9mIGNvbmZpZ3VyZU9yTmFtZSA9PT0gJ2Z1bmN0aW9uJyA/IGNvbmZpZ3VyZU9yTmFtZSA6IGNvbmZpZ3Vyb3I7XG4gICAgICAgIGNvbnN0IGZyaWVuZGx5TmFtZSA9IHR5cGVvZiBjb25maWd1cmVPck5hbWUgPT09ICdzdHJpbmcnID8gY29uZmlndXJlT3JOYW1lIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBJbnRlcmZhY2UgPSBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eSwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCB8fCBuZXcudGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHJlZ2lzdHJhdGlvbiBmb3IgaW50ZXJmYWNlOiAnJHtJbnRlcmZhY2UuZnJpZW5kbHlOYW1lfSdgKTsgLy8gVE9ETzogYWRkIGVycm9yICh0cnlpbmcgdG8gcmVzb2x2ZSBhbiBJbnRlcmZhY2VTeW1ib2wgdGhhdCBoYXMgbm8gcmVnaXN0cmF0aW9ucylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25QYXJhbXR5cGVzID0gREkuZ2V0T3JDcmVhdGVBbm5vdGF0aW9uUGFyYW1UeXBlcyh0YXJnZXQpO1xuICAgICAgICAgICAgYW5ub3RhdGlvblBhcmFtdHlwZXNbaW5kZXhdID0gSW50ZXJmYWNlO1xuICAgICAgICB9O1xuICAgICAgICBJbnRlcmZhY2UuJGlzSW50ZXJmYWNlID0gdHJ1ZTtcbiAgICAgICAgSW50ZXJmYWNlLmZyaWVuZGx5TmFtZSA9IGZyaWVuZGx5TmFtZSA9PSBudWxsID8gJyhhbm9ueW1vdXMpJyA6IGZyaWVuZGx5TmFtZTtcbiAgICAgICAgaWYgKGNvbmZpZ3VyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBJbnRlcmZhY2UucmVnaXN0ZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlndXJlKG5ldyBSZXNvbHZlckJ1aWxkZXIoY29udGFpbmVyLCBrZXkgIT09IG51bGwgJiYga2V5ICE9PSB2b2lkIDAgPyBrZXkgOiBJbnRlcmZhY2UpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgSW50ZXJmYWNlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gYEludGVyZmFjZVN5bWJvbDwke0ludGVyZmFjZS5mcmllbmRseU5hbWV9PmA7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBJbnRlcmZhY2U7XG4gICAgfSxcbiAgICBpbmplY3QoLi4uZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzY3JpcHRvciA9PT0gJ251bWJlcicpIHsgLy8gSXQncyBhIHBhcmFtZXRlciBkZWNvcmF0b3IuXG4gICAgICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvblBhcmFtdHlwZXMgPSBESS5nZXRPckNyZWF0ZUFubm90YXRpb25QYXJhbVR5cGVzKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVwID0gZGVwZW5kZW5jaWVzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChkZXAgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uUGFyYW10eXBlc1tkZXNjcmlwdG9yXSA9IGRlcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkpIHsgLy8gSXQncyBhIHByb3BlcnR5IGRlY29yYXRvci4gTm90IHN1cHBvcnRlZCBieSB0aGUgY29udGFpbmVyIHdpdGhvdXQgcGx1Z2lucy5cbiAgICAgICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uUGFyYW10eXBlcyA9IERJLmdldE9yQ3JlYXRlQW5ub3RhdGlvblBhcmFtVHlwZXModGFyZ2V0LmNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXAgPSBkZXBlbmRlbmNpZXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKGRlcCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb25QYXJhbXR5cGVzW2tleV0gPSBkZXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGVzY3JpcHRvcikgeyAvLyBJdCdzIGEgZnVuY3Rpb24gZGVjb3JhdG9yIChub3QgYSBDbGFzcyBjb25zdHJ1Y3RvcilcbiAgICAgICAgICAgICAgICBjb25zdCBmbiA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvblBhcmFtdHlwZXMgPSBESS5nZXRPckNyZWF0ZUFubm90YXRpb25QYXJhbVR5cGVzKGZuKTtcbiAgICAgICAgICAgICAgICBsZXQgZGVwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcCA9IGRlcGVuZGVuY2llc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uUGFyYW10eXBlc1tpXSA9IGRlcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgeyAvLyBJdCdzIGEgY2xhc3MgZGVjb3JhdG9yLlxuICAgICAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25QYXJhbXR5cGVzID0gREkuZ2V0T3JDcmVhdGVBbm5vdGF0aW9uUGFyYW1UeXBlcyh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGxldCBkZXA7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVwID0gZGVwZW5kZW5jaWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRpb25QYXJhbXR5cGVzW2ldID0gZGVwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIHRoZSBgdGFyZ2V0YCBjbGFzcyBhcyBhIHRyYW5zaWVudCBkZXBlbmRlbmN5OyBlYWNoIHRpbWUgdGhlIGRlcGVuZGVuY3kgaXMgcmVzb2x2ZWRcbiAgICAgKiBhIG5ldyBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGNsYXNzIC8gY29uc3RydWN0b3IgZnVuY3Rpb24gdG8gcmVnaXN0ZXIgYXMgdHJhbnNpZW50LlxuICAgICAqIEByZXR1cm5zIFRoZSBzYW1lIGNsYXNzLCB3aXRoIGEgc3RhdGljIGByZWdpc3RlcmAgbWV0aG9kIHRoYXQgdGFrZXMgYSBjb250YWluZXIgYW5kIHJldHVybnMgdGhlIGFwcHJvcHJpYXRlIHJlc29sdmVyLlxuICAgICAqXG4gICAgICogQGV4YW1wbGUgYGBgdHNcbiAgICAgKiAvLyBPbiBhbiBleGlzdGluZyBjbGFzc1xuICAgICAqIGNsYXNzIEZvbyB7IH1cbiAgICAgKiBESS50cmFuc2llbnQoRm9vKTtcbiAgICAgKlxuICAgICAqIC8vIElubGluZSBkZWNsYXJhdGlvblxuICAgICAqIGNvbnN0IEZvbyA9IERJLnRyYW5zaWVudChjbGFzcyB7IH0pO1xuICAgICAqIC8vIEZvbyBpcyBub3cgc3Ryb25nbHkgdHlwZWQgd2l0aCByZWdpc3RlclxuICAgICAqIEZvby5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHRyYW5zaWVudCh0YXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0LnJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIoY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb24gPSBSZWdpc3RyYXRpb24udHJhbnNpZW50KHRhcmdldCwgdGFyZ2V0KTtcbiAgICAgICAgICAgIHJldHVybiByZWdpc3RyYXRpb24ucmVnaXN0ZXIoY29udGFpbmVyLCB0YXJnZXQpO1xuICAgICAgICB9O1xuICAgICAgICB0YXJnZXQucmVnaXN0ZXJJblJlcXVlc3RvciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIHRoZSBgdGFyZ2V0YCBjbGFzcyBhcyBhIHNpbmdsZXRvbiBkZXBlbmRlbmN5OyB0aGUgY2xhc3Mgd2lsbCBvbmx5IGJlIGNyZWF0ZWQgb25jZS4gRWFjaFxuICAgICAqIGNvbnNlY3V0aXZlIHRpbWUgdGhlIGRlcGVuZGVuY3kgaXMgcmVzb2x2ZWQsIHRoZSBzYW1lIGluc3RhbmNlIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGNsYXNzIC8gY29uc3RydWN0b3IgZnVuY3Rpb24gdG8gcmVnaXN0ZXIgYXMgYSBzaW5nbGV0b24uXG4gICAgICogQHJldHVybnMgVGhlIHNhbWUgY2xhc3MsIHdpdGggYSBzdGF0aWMgYHJlZ2lzdGVyYCBtZXRob2QgdGhhdCB0YWtlcyBhIGNvbnRhaW5lciBhbmQgcmV0dXJucyB0aGUgYXBwcm9wcmlhdGUgcmVzb2x2ZXIuXG4gICAgICogQGV4YW1wbGUgYGBgdHNcbiAgICAgKiAvLyBPbiBhbiBleGlzdGluZyBjbGFzc1xuICAgICAqIGNsYXNzIEZvbyB7IH1cbiAgICAgKiBESS5zaW5nbGV0b24oRm9vKTtcbiAgICAgKlxuICAgICAqIC8vIElubGluZSBkZWNsYXJhdGlvblxuICAgICAqIGNvbnN0IEZvbyA9IERJLnNpbmdsZXRvbihjbGFzcyB7IH0pO1xuICAgICAqIC8vIEZvbyBpcyBub3cgc3Ryb25nbHkgdHlwZWQgd2l0aCByZWdpc3RlclxuICAgICAqIEZvby5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHNpbmdsZXRvbih0YXJnZXQsIG9wdGlvbnMgPSBkZWZhdWx0U2luZ2xldG9uT3B0aW9ucykge1xuICAgICAgICB0YXJnZXQucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvbiA9IFJlZ2lzdHJhdGlvbi5zaW5nbGV0b24odGFyZ2V0LCB0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5yZWdpc3Rlcihjb250YWluZXIsIHRhcmdldCk7XG4gICAgICAgIH07XG4gICAgICAgIHRhcmdldC5yZWdpc3RlckluUmVxdWVzdG9yID0gb3B0aW9ucy5zY29wZWQ7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgSUNvbnRhaW5lciA9IERJLmNyZWF0ZUludGVyZmFjZSgnSUNvbnRhaW5lcicpO1xuZXhwb3J0IGNvbnN0IElTZXJ2aWNlTG9jYXRvciA9IElDb250YWluZXI7XG5mdW5jdGlvbiBjcmVhdGVSZXNvbHZlcihnZXR0ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBjb25zdCByZXNvbHZlciA9IGZ1bmN0aW9uICh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICBESS5pbmplY3QocmVzb2x2ZXIpKHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9O1xuICAgICAgICByZXNvbHZlci4kaXNSZXNvbHZlciA9IHRydWU7XG4gICAgICAgIHJlc29sdmVyLnJlc29sdmUgPSBmdW5jdGlvbiAoaGFuZGxlciwgcmVxdWVzdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0dGVyKGtleSwgaGFuZGxlciwgcmVxdWVzdG9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVyO1xuICAgIH07XG59XG5leHBvcnQgY29uc3QgaW5qZWN0ID0gREkuaW5qZWN0O1xuZnVuY3Rpb24gdHJhbnNpZW50RGVjb3JhdG9yKHRhcmdldCkge1xuICAgIHJldHVybiBESS50cmFuc2llbnQodGFyZ2V0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2llbnQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRhcmdldCA9PSBudWxsID8gdHJhbnNpZW50RGVjb3JhdG9yIDogdHJhbnNpZW50RGVjb3JhdG9yKHRhcmdldCk7XG59XG5jb25zdCBkZWZhdWx0U2luZ2xldG9uT3B0aW9ucyA9IHsgc2NvcGVkOiBmYWxzZSB9O1xuZnVuY3Rpb24gc2luZ2xldG9uRGVjb3JhdG9yKHRhcmdldCkge1xuICAgIHJldHVybiBESS5zaW5nbGV0b24odGFyZ2V0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaW5nbGV0b24odGFyZ2V0T3JPcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiB0YXJnZXRPck9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIERJLnNpbmdsZXRvbih0YXJnZXRPck9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIERJLnNpbmdsZXRvbigkdGFyZ2V0LCB0YXJnZXRPck9wdGlvbnMpO1xuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVBbGxSZXNvbHZlcihnZXR0ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGtleSwgc2VhcmNoQW5jZXN0b3JzKSB7XG4gICAgICAgIHNlYXJjaEFuY2VzdG9ycyA9ICEhc2VhcmNoQW5jZXN0b3JzO1xuICAgICAgICBjb25zdCByZXNvbHZlciA9IGZ1bmN0aW9uICh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICBESS5pbmplY3QocmVzb2x2ZXIpKHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9O1xuICAgICAgICByZXNvbHZlci4kaXNSZXNvbHZlciA9IHRydWU7XG4gICAgICAgIHJlc29sdmVyLnJlc29sdmUgPSBmdW5jdGlvbiAoaGFuZGxlciwgcmVxdWVzdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0dGVyKGtleSwgaGFuZGxlciwgcmVxdWVzdG9yLCBzZWFyY2hBbmNlc3RvcnMpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVzb2x2ZXI7XG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBhbGwgPSBjcmVhdGVBbGxSZXNvbHZlcigoa2V5LCBoYW5kbGVyLCByZXF1ZXN0b3IsIHNlYXJjaEFuY2VzdG9ycykgPT4gcmVxdWVzdG9yLmdldEFsbChrZXksIHNlYXJjaEFuY2VzdG9ycykpO1xuLyoqXG4gKiBMYXppbHkgaW5qZWN0IGEgZGVwZW5kZW5jeSBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgW1tgS2V5YF1dIGlzIHByZXNlbnQgYXQgdGhlIHRpbWUgb2YgZnVuY3Rpb24gY2FsbC5cbiAqXG4gKiBZb3UgbmVlZCB0byBtYWtlIHlvdXIgYXJndW1lbnQgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHR5cGUsIGZvciBleGFtcGxlXG4gKiBgYGB0c1xuICogY2xhc3MgRm9vIHtcbiAqICAgY29uc3RydWN0b3IoIEBsYXp5KCdyYW5kb20nKSBwdWJsaWMgcmFuZG9tOiAoKSA9PiBudW1iZXIgKVxuICogfVxuICogY29uc3QgZm9vID0gY29udGFpbmVyLmdldChGb28pOyAvLyBpbnN0YW5jZW9mIEZvb1xuICogZm9vLnJhbmRvbSgpOyAvLyB0aHJvd3NcbiAqIGBgYFxuICogd291bGQgdGhyb3cgYW4gZXhjZXB0aW9uIGJlY2F1c2UgeW91IGhhdmVuJ3QgcmVnaXN0ZXJlZCBgJ3JhbmRvbSdgIGJlZm9yZSBjYWxsaW5nIHRoZSBtZXRob2QuIFRoaXMsIHdvdWxkIGdpdmUgeW91IGFcbiAqIG5ldyBbWydNYXRoLnJhbmRvbSgpJ11dIG51bWJlciBlYWNoIHRpbWUuXG4gKiBgYGB0c1xuICogY2xhc3MgRm9vIHtcbiAqICAgY29uc3RydWN0b3IoIEBsYXp5KCdyYW5kb20nKSBwdWJsaWMgcmFuZG9tOiAoKSA9PiByYW5kb20gKVxuICogfVxuICogY29udGFpbmVyLnJlZ2lzdGVyKFJlZ2lzdHJhdGlvbi5jYWxsYmFjaygncmFuZG9tJywgTWF0aC5yYW5kb20gKSk7XG4gKiBjb250YWluZXIuZ2V0KEZvbykucmFuZG9tKCk7IC8vIHNvbWUgcmFuZG9tIG51bWJlclxuICogY29udGFpbmVyLmdldChGb28pLnJhbmRvbSgpOyAvLyBhbm90aGVyIHJhbmRvbSBudW1iZXJcbiAqIGBgYFxuICogYEBsYXp5YCBkb2VzIG5vdCBtYW5hZ2UgdGhlIGxpZmVjeWNsZSBvZiB0aGUgdW5kZXJseWluZyBrZXkuIElmIHlvdSB3YW50IGEgc2luZ2xldG9uLCB5b3UgaGF2ZSB0byByZWdpc3RlciBhcyBhXG4gKiBgc2luZ2xldG9uYCwgYHRyYW5zaWVudGAgd291bGQgYWxzbyBiZWhhdmUgYXMgeW91IHdvdWxkIGV4cGVjdCwgcHJvdmlkaW5nIHlvdSBhIG5ldyBpbnN0YW5jZSBlYWNoIHRpbWUuXG4gKlxuICogLSBAcGFyYW0ga2V5IFtbYEtleWBdXVxuICogc2VlIHsgQGxpbmsgREkuY3JlYXRlSW50ZXJmYWNlIH0gb24gaW50ZXJhY3Rpb25zIHdpdGggaW50ZXJmYWNlc1xuICovXG5leHBvcnQgY29uc3QgbGF6eSA9IGNyZWF0ZVJlc29sdmVyKChrZXksIGhhbmRsZXIsIHJlcXVlc3RvcikgPT4ge1xuICAgIHJldHVybiAoKSA9PiByZXF1ZXN0b3IuZ2V0KGtleSk7XG59KTtcbi8qKlxuICogQWxsb3dzIHlvdSB0byBvcHRpb25hbGx5IGluamVjdCBhIGRlcGVuZGVuY3kgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIFtbYEtleWBdXSBpcyBwcmVzZW50LCBmb3IgZXhhbXBsZVxuICogYGBgdHNcbiAqIGNsYXNzIEZvbyB7XG4gKiAgIGNvbnN0cnVjdG9yKCBAaW5qZWN0KCdteXN0cmluZycpIHB1YmxpYyBzdHI6IHN0cmluZyA9ICdzb21lc3RyaW5nJyApXG4gKiB9XG4gKiBjb250YWluZXIuZ2V0KEZvbyk7IC8vIHRocm93c1xuICogYGBgXG4gKiB3b3VsZCBmYWlsXG4gKiBgYGB0c1xuICogY2xhc3MgRm9vIHtcbiAqICAgY29uc3RydWN0b3IoIEBvcHRpb25hbCgnbXlzdHJpbmcnKSBwdWJsaWMgc3RyOiBzdHJpbmcgPSAnc29tZXN0cmluZycgKVxuICogfVxuICogY29udGFpbmVyLmdldChGb28pLnN0ciAvLyBzb21lc3RyaW5nXG4gKiBgYGBcbiAqIGlmIHlvdSB1c2UgaXQgd2l0aG91dCBhIGRlZmF1bHQgaXQgd2lsbCBpbmplY3QgYHVuZGVmaW5lZGAsIHNvIHJlbWJlciB0byBtYXJrIHlvdXIgaW5wdXQgdHlwZSBhc1xuICogcG9zc2libHkgYHVuZGVmaW5lZGAhXG4gKlxuICogLSBAcGFyYW0ga2V5OiBbW2BLZXlgXV1cbiAqXG4gKiBzZWUgeyBAbGluayBESS5jcmVhdGVJbnRlcmZhY2UgfSBvbiBpbnRlcmFjdGlvbnMgd2l0aCBpbnRlcmZhY2VzXG4gKi9cbmV4cG9ydCBjb25zdCBvcHRpb25hbCA9IGNyZWF0ZVJlc29sdmVyKChrZXksIGhhbmRsZXIsIHJlcXVlc3RvcikgPT4ge1xuICAgIGlmIChyZXF1ZXN0b3IuaGFzKGtleSwgdHJ1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Rvci5nZXQoa2V5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufSk7XG4vKipcbiAqIGlnbm9yZSB0ZWxscyB0aGUgY29udGFpbmVyIG5vdCB0byB0cnkgdG8gaW5qZWN0IGEgZGVwZW5kZW5jeVxuICovXG5leHBvcnQgZnVuY3Rpb24gaWdub3JlKHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IpIHtcbiAgICBESS5pbmplY3QoaWdub3JlKSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcbn1cbmlnbm9yZS4kaXNSZXNvbHZlciA9IHRydWU7XG5pZ25vcmUucmVzb2x2ZSA9ICgpID0+IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBuZXdJbnN0YW5jZUZvclNjb3BlID0gY3JlYXRlUmVzb2x2ZXIoKGtleSwgaGFuZGxlciwgcmVxdWVzdG9yKSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBjcmVhdGVOZXdJbnN0YW5jZShrZXksIGhhbmRsZXIpO1xuICAgIGNvbnN0IGluc3RhbmNlUHJvdmlkZXIgPSBuZXcgSW5zdGFuY2VQcm92aWRlcihTdHJpbmcoa2V5KSk7XG4gICAgaW5zdGFuY2VQcm92aWRlci5wcmVwYXJlKGluc3RhbmNlKTtcbiAgICByZXF1ZXN0b3IucmVnaXN0ZXJSZXNvbHZlcihrZXksIGluc3RhbmNlUHJvdmlkZXIsIHRydWUpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbn0pO1xuZXhwb3J0IGNvbnN0IG5ld0luc3RhbmNlT2YgPSBjcmVhdGVSZXNvbHZlcigoa2V5LCBoYW5kbGVyLCBfcmVxdWVzdG9yKSA9PiBjcmVhdGVOZXdJbnN0YW5jZShrZXksIGhhbmRsZXIpKTtcbmZ1bmN0aW9uIGNyZWF0ZU5ld0luc3RhbmNlKGtleSwgaGFuZGxlcikge1xuICAgIHJldHVybiBoYW5kbGVyLmdldEZhY3Rvcnkoa2V5KS5jb25zdHJ1Y3QoaGFuZGxlcik7XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgdmFyIFJlc29sdmVyU3RyYXRlZ3k7XG4oZnVuY3Rpb24gKFJlc29sdmVyU3RyYXRlZ3kpIHtcbiAgICBSZXNvbHZlclN0cmF0ZWd5W1Jlc29sdmVyU3RyYXRlZ3lbXCJpbnN0YW5jZVwiXSA9IDBdID0gXCJpbnN0YW5jZVwiO1xuICAgIFJlc29sdmVyU3RyYXRlZ3lbUmVzb2x2ZXJTdHJhdGVneVtcInNpbmdsZXRvblwiXSA9IDFdID0gXCJzaW5nbGV0b25cIjtcbiAgICBSZXNvbHZlclN0cmF0ZWd5W1Jlc29sdmVyU3RyYXRlZ3lbXCJ0cmFuc2llbnRcIl0gPSAyXSA9IFwidHJhbnNpZW50XCI7XG4gICAgUmVzb2x2ZXJTdHJhdGVneVtSZXNvbHZlclN0cmF0ZWd5W1wiY2FsbGJhY2tcIl0gPSAzXSA9IFwiY2FsbGJhY2tcIjtcbiAgICBSZXNvbHZlclN0cmF0ZWd5W1Jlc29sdmVyU3RyYXRlZ3lbXCJhcnJheVwiXSA9IDRdID0gXCJhcnJheVwiO1xuICAgIFJlc29sdmVyU3RyYXRlZ3lbUmVzb2x2ZXJTdHJhdGVneVtcImFsaWFzXCJdID0gNV0gPSBcImFsaWFzXCI7XG59KShSZXNvbHZlclN0cmF0ZWd5IHx8IChSZXNvbHZlclN0cmF0ZWd5ID0ge30pKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBSZXNvbHZlciB7XG4gICAgY29uc3RydWN0b3Ioa2V5LCBzdHJhdGVneSwgc3RhdGUpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuc3RyYXRlZ3kgPSBzdHJhdGVneTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLnJlc29sdmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgJGlzUmVzb2x2ZXIoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgcmVnaXN0ZXIoY29udGFpbmVyLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5yZWdpc3RlclJlc29sdmVyKGtleSB8fCB0aGlzLmtleSwgdGhpcyk7XG4gICAgfVxuICAgIHJlc29sdmUoaGFuZGxlciwgcmVxdWVzdG9yKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIGluc3RhbmNlICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgY2FzZSAxIC8qIHNpbmdsZXRvbiAqLzoge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdmluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEN5Y2xpYyBkZXBlbmRlbmN5IGZvdW5kOiAke3RoaXMuc3RhdGUubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBoYW5kbGVyLmdldEZhY3RvcnkodGhpcy5zdGF0ZSkuY29uc3RydWN0KHJlcXVlc3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJhdGVneSA9IDAgLyogaW5zdGFuY2UgKi87XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMiAvKiB0cmFuc2llbnQgKi86IHtcbiAgICAgICAgICAgICAgICAvLyBBbHdheXMgY3JlYXRlIHRyYW5zaWVudHMgZnJvbSB0aGUgcmVxdWVzdGluZyBjb250YWluZXJcbiAgICAgICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gaGFuZGxlci5nZXRGYWN0b3J5KHRoaXMuc3RhdGUpO1xuICAgICAgICAgICAgICAgIGlmIChmYWN0b3J5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVzb2x2ZXIgZm9yICR7U3RyaW5nKHRoaXMua2V5KX0gcmV0dXJuZWQgYSBudWxsIGZhY3RvcnlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkuY29uc3RydWN0KHJlcXVlc3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDMgLyogY2FsbGJhY2sgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUoaGFuZGxlciwgcmVxdWVzdG9yLCB0aGlzKTtcbiAgICAgICAgICAgIGNhc2UgNCAvKiBhcnJheSAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZVswXS5yZXNvbHZlKGhhbmRsZXIsIHJlcXVlc3Rvcik7XG4gICAgICAgICAgICBjYXNlIDUgLyogYWxpYXMgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Rvci5nZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZXNvbHZlciBzdHJhdGVneSBzcGVjaWZpZWQ6ICR7dGhpcy5zdHJhdGVneX0uYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0RmFjdG9yeShjb250YWluZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSAxIC8qIHNpbmdsZXRvbiAqLzpcbiAgICAgICAgICAgIGNhc2UgMiAvKiB0cmFuc2llbnQgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5nZXRGYWN0b3J5KHRoaXMuc3RhdGUpO1xuICAgICAgICAgICAgY2FzZSA1IC8qIGFsaWFzICovOlxuICAgICAgICAgICAgICAgIHJldHVybiAoX2MgPSAoX2IgPSAoX2EgPSBjb250YWluZXIuZ2V0UmVzb2x2ZXIodGhpcy5zdGF0ZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRGYWN0b3J5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgY29udGFpbmVyKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogbnVsbDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb250YWluZXJHZXRLZXkoZCkge1xuICAgIHJldHVybiB0aGlzLmdldChkKTtcbn1cbmZ1bmN0aW9uIHRyYW5zZm9ybUluc3RhbmNlKGluc3QsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiB0cmFuc2Zvcm0oaW5zdCk7XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoVHlwZSwgZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHRoaXMuVHlwZSA9IFR5cGU7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVycyA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0cnVjdChjb250YWluZXIsIGR5bmFtaWNEZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgbGV0IGluc3RhbmNlO1xuICAgICAgICBpZiAoZHluYW1pY0RlcGVuZGVuY2llcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyB0aGlzLlR5cGUoLi4udGhpcy5kZXBlbmRlbmNpZXMubWFwKGNvbnRhaW5lckdldEtleSwgY29udGFpbmVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyB0aGlzLlR5cGUoLi4udGhpcy5kZXBlbmRlbmNpZXMubWFwKGNvbnRhaW5lckdldEtleSwgY29udGFpbmVyKSwgLi4uZHluYW1pY0RlcGVuZGVuY2llcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtZXJzID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1lcnMucmVkdWNlKHRyYW5zZm9ybUluc3RhbmNlLCBpbnN0YW5jZSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyVHJhbnNmb3JtZXIodHJhbnNmb3JtZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoKF9hID0gdGhpcy50cmFuc2Zvcm1lcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICh0aGlzLnRyYW5zZm9ybWVycyA9IFtdKSkucHVzaCh0cmFuc2Zvcm1lcik7XG4gICAgfVxufVxuY29uc3QgY29udGFpbmVyUmVzb2x2ZXIgPSB7XG4gICAgJGlzUmVzb2x2ZXI6IHRydWUsXG4gICAgcmVzb2x2ZShoYW5kbGVyLCByZXF1ZXN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3RvcjtcbiAgICB9XG59O1xuZnVuY3Rpb24gaXNSZWdpc3RyeShvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iai5yZWdpc3RlciA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzU2VsZlJlZ2lzdHJ5KG9iaikge1xuICAgIHJldHVybiBpc1JlZ2lzdHJ5KG9iaikgJiYgdHlwZW9mIG9iai5yZWdpc3RlckluUmVxdWVzdG9yID09PSAnYm9vbGVhbic7XG59XG5mdW5jdGlvbiBpc1JlZ2lzdGVySW5SZXF1ZXN0ZXIob2JqKSB7XG4gICAgcmV0dXJuIGlzU2VsZlJlZ2lzdHJ5KG9iaikgJiYgb2JqLnJlZ2lzdGVySW5SZXF1ZXN0b3I7XG59XG5mdW5jdGlvbiBpc0NsYXNzKG9iaikge1xuICAgIHJldHVybiBvYmoucHJvdG90eXBlICE9PSB2b2lkIDA7XG59XG5mdW5jdGlvbiBpc1Jlc291cmNlS2V5KGtleSkge1xuICAgIHJldHVybiB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBrZXkuaW5kZXhPZignOicpID4gMDtcbn1cbmNvbnN0IEluc3RyaW5zaWNUeXBlTmFtZXMgPSBuZXcgU2V0KFtcbiAgICAnQXJyYXknLFxuICAgICdBcnJheUJ1ZmZlcicsXG4gICAgJ0Jvb2xlYW4nLFxuICAgICdEYXRhVmlldycsXG4gICAgJ0RhdGUnLFxuICAgICdFcnJvcicsXG4gICAgJ0V2YWxFcnJvcicsXG4gICAgJ0Zsb2F0MzJBcnJheScsXG4gICAgJ0Zsb2F0NjRBcnJheScsXG4gICAgJ0Z1bmN0aW9uJyxcbiAgICAnSW50OEFycmF5JyxcbiAgICAnSW50MTZBcnJheScsXG4gICAgJ0ludDMyQXJyYXknLFxuICAgICdNYXAnLFxuICAgICdOdW1iZXInLFxuICAgICdPYmplY3QnLFxuICAgICdQcm9taXNlJyxcbiAgICAnUmFuZ2VFcnJvcicsXG4gICAgJ1JlZmVyZW5jZUVycm9yJyxcbiAgICAnUmVnRXhwJyxcbiAgICAnU2V0JyxcbiAgICAnU2hhcmVkQXJyYXlCdWZmZXInLFxuICAgICdTdHJpbmcnLFxuICAgICdTeW50YXhFcnJvcicsXG4gICAgJ1R5cGVFcnJvcicsXG4gICAgJ1VpbnQ4QXJyYXknLFxuICAgICdVaW50OENsYW1wZWRBcnJheScsXG4gICAgJ1VpbnQxNkFycmF5JyxcbiAgICAnVWludDMyQXJyYXknLFxuICAgICdVUklFcnJvcicsXG4gICAgJ1dlYWtNYXAnLFxuICAgICdXZWFrU2V0Jyxcbl0pO1xuY29uc3QgZmFjdG9yeUtleSA9ICdkaTpmYWN0b3J5JztcbmNvbnN0IGZhY3RvcnlBbm5vdGF0aW9uS2V5ID0gUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IoZmFjdG9yeUtleSk7XG5sZXQgY29udGFpbmVySWQgPSAwO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIENvbnRhaW5lciB7XG4gICAgY29uc3RydWN0b3IocGFyZW50LCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmlkID0gKytjb250YWluZXJJZDtcbiAgICAgICAgdGhpcy5yZWdpc3RlckRlcHRoID0gMDtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlUmVzb2x2ZXJzID0gbmV3IFNldCgpO1xuICAgICAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLmZhY3RvcmllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VSZXNvbHZlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yb290ID0gcGFyZW50LnJvb3Q7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuZmFjdG9yaWVzID0gcGFyZW50LmZhY3RvcmllcztcbiAgICAgICAgICAgIGlmIChjb25maWcuaW5oZXJpdFBhcmVudFJlc291cmNlcykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2VSZXNvbHZlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIHBhcmVudC5yZXNvdXJjZVJlc29sdmVycywgdGhpcy5yb290LnJlc291cmNlUmVzb2x2ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2VSZXNvbHZlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIHRoaXMucm9vdC5yZXNvdXJjZVJlc29sdmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNvbHZlcnMuc2V0KElDb250YWluZXIsIGNvbnRhaW5lclJlc29sdmVyKTtcbiAgICB9XG4gICAgZ2V0IGRlcHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQgPT09IG51bGwgPyAwIDogdGhpcy5wYXJlbnQuZGVwdGggKyAxO1xuICAgIH1cbiAgICByZWdpc3RlciguLi5wYXJhbXMpIHtcbiAgICAgICAgaWYgKCsrdGhpcy5yZWdpc3RlckRlcHRoID09PSAxMDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGF1dG9yZWdpc3RlciBkZXBlbmRlbmN5OiBbJHtwYXJhbXMubWFwKFN0cmluZyl9XWApO1xuICAgICAgICAgICAgLy8gVE9ETzogY2hhbmdlIHRvIHJlcG9ydGVyLmVycm9yIGFuZCBhZGQgdmFyaW91cyBwb3NzaWJsZSBjYXVzZXMgaW4gZGVzY3JpcHRpb24uXG4gICAgICAgICAgICAvLyBNb3N0IGxpa2VseSBjYXVzZSBpcyB0cnlpbmcgdG8gcmVnaXN0ZXIgYSBwbGFpbiBvYmplY3QgdGhhdCBkb2VzIG5vdCBoYXZlIGFcbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyIG1ldGhvZCBhbmQgaXMgbm90IGEgY2xhc3MgY29uc3RydWN0b3JcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VycmVudDtcbiAgICAgICAgbGV0IGtleXM7XG4gICAgICAgIGxldCB2YWx1ZTtcbiAgICAgICAgbGV0IGo7XG4gICAgICAgIGxldCBqajtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gcGFyYW1zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBwYXJhbXNbaV07XG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KGN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNSZWdpc3RyeShjdXJyZW50KSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChQcm90b2NvbC5yZXNvdXJjZS5oYXMoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZzID0gUHJvdG9jb2wucmVzb3VyY2UuZ2V0QWxsKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChkZWZzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGYXN0IHBhdGggZm9yIHRoZSB2ZXJ5IGNvbW1vbiBjYXNlXG4gICAgICAgICAgICAgICAgICAgIGRlZnNbMF0ucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSBkZWZzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCBsZW47ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmc1tkXS5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQ2xhc3MoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICBSZWdpc3RyYXRpb24uc2luZ2xldG9uKGN1cnJlbnQsIGN1cnJlbnQpLnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgICAgICAgIGpqID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY3VycmVudFtrZXlzW2pdXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGU6IHdlIGNvdWxkIHJlbW92ZSB0aGlzIGlmLWJyYW5jaCBhbmQgY2FsbCB0aGlzLnJlZ2lzdGVyIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIC0gdGhlIGV4dHJhIGNoZWNrIGlzIGp1c3QgYSBwZXJmIHR3ZWFrIHRvIGNyZWF0ZSBmZXdlciB1bm5lY2Vzc2FyeSBhcnJheXMgYnkgdGhlIHNwcmVhZCBvcGVyYXRvclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZWdpc3RyeSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLS10aGlzLnJlZ2lzdGVyRGVwdGg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWdpc3RlclJlc29sdmVyKGtleSwgcmVzb2x2ZXIsIGlzRGlzcG9zYWJsZSA9IGZhbHNlKSB7XG4gICAgICAgIHZhbGlkYXRlS2V5KGtleSk7XG4gICAgICAgIGNvbnN0IHJlc29sdmVycyA9IHRoaXMucmVzb2x2ZXJzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSByZXNvbHZlcnMuZ2V0KGtleSk7XG4gICAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzb2x2ZXJzLnNldChrZXksIHJlc29sdmVyKTtcbiAgICAgICAgICAgIGlmIChpc1Jlc291cmNlS2V5KGtleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlUmVzb2x2ZXJzW2tleV0gPSByZXNvbHZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBSZXNvbHZlciAmJiByZXN1bHQuc3RyYXRlZ3kgPT09IDQgLyogYXJyYXkgKi8pIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5wdXNoKHJlc29sdmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmVycy5zZXQoa2V5LCBuZXcgUmVzb2x2ZXIoa2V5LCA0IC8qIGFycmF5ICovLCBbcmVzdWx0LCByZXNvbHZlcl0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNEaXNwb3NhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2FibGVSZXNvbHZlcnMuYWRkKHJlc29sdmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZXI7XG4gICAgfVxuICAgIC8vIHB1YmxpYyBkZXJlZ2lzdGVyUmVzb2x2ZXJGb3I8SyBleHRlbmRzIEtleSwgVCA9IEs+KGtleTogSyk6IHZvaWQge1xuICAgIC8vICAgLy8gY29uc3QgY29uc29sZSA9ICAoZ2xvYmFsVGhpcyBhcyBhbnkpLmNvbnNvbGU7XG4gICAgLy8gICAvLyBjb25zb2xlLmdyb3VwKFwiZGVyZWdpc3RlclJlc29sdmVyRm9yXCIpO1xuICAgIC8vICAgdmFsaWRhdGVLZXkoa2V5KTtcbiAgICAvLyAgIGxldCBjdXJyZW50OiBDb250YWluZXIgPSB0aGlzO1xuICAgIC8vICAgbGV0IHJlc29sdmVyOiBJUmVzb2x2ZXIgfCB1bmRlZmluZWQ7XG4gICAgLy8gICB3aGlsZSAoY3VycmVudCAhPSBudWxsKSB7XG4gICAgLy8gICAgIHJlc29sdmVyID0gY3VycmVudC5yZXNvbHZlcnMuZ2V0KGtleSk7XG4gICAgLy8gICAgIGlmIChyZXNvbHZlciAhPSBudWxsKSB7IGJyZWFrOyB9XG4gICAgLy8gICAgIGlmIChjdXJyZW50LnBhcmVudCA9PSBudWxsKSB7IHJldHVybjsgfVxuICAgIC8vICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgLy8gICB9XG4gICAgLy8gICBpZiAocmVzb2x2ZXIgPT09IHZvaWQgMCkgeyByZXR1cm47IH1cbiAgICAvLyAgIGlmIChyZXNvbHZlciBpbnN0YW5jZW9mIFJlc29sdmVyICYmIHJlc29sdmVyLnN0cmF0ZWd5ID09PSBSZXNvbHZlclN0cmF0ZWd5LmFycmF5KSB7XG4gICAgLy8gICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGRlcmVnaXN0ZXIgYSByZXNvbHZlciB3aXRoIGFycmF5IHN0cmF0ZWd5Jyk7XG4gICAgLy8gICB9XG4gICAgLy8gICBpZiAodGhpcy5kaXNwb3NhYmxlUmVzb2x2ZXJzLmhhcyhyZXNvbHZlciBhcyBJRGlzcG9zYWJsZVJlc29sdmVyPFQ+KSkge1xuICAgIC8vICAgICAocmVzb2x2ZXIgYXMgSURpc3Bvc2FibGVSZXNvbHZlcjxUPikuZGlzcG9zZSgpO1xuICAgIC8vICAgfVxuICAgIC8vICAgaWYgKGlzUmVzb3VyY2VLZXkoa2V5KSkge1xuICAgIC8vICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWR5bmFtaWMtZGVsZXRlXG4gICAgLy8gICAgIGRlbGV0ZSB0aGlzLnJlc291cmNlUmVzb2x2ZXJzW2tleV07XG4gICAgLy8gICB9XG4gICAgLy8gICAvLyBjb25zb2xlLmxvZyhgQkVGT1JFIGRlbGV0ZSAke0FycmF5LmZyb20oY3VycmVudC5yZXNvbHZlcnMua2V5cygpKS5tYXAoKGspID0+IGsudG9TdHJpbmcoKSl9YCk7XG4gICAgLy8gICBjdXJyZW50LnJlc29sdmVycy5kZWxldGUoa2V5KTtcbiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKGBBRlRFUiBkZWxldGUgJHtBcnJheS5mcm9tKGN1cnJlbnQucmVzb2x2ZXJzLmtleXMoKSkubWFwKChrKSA9PiBrLnRvU3RyaW5nKCkpfWApO1xuICAgIC8vICAgLy8gY29uc29sZS5ncm91cEVuZCgpO1xuICAgIC8vIH1cbiAgICByZWdpc3RlclRyYW5zZm9ybWVyKGtleSwgdHJhbnNmb3JtZXIpIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSB0aGlzLmdldFJlc29sdmVyKGtleSk7XG4gICAgICAgIGlmIChyZXNvbHZlciA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc29sdmVyLmdldEZhY3RvcnkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSByZXNvbHZlci5nZXRGYWN0b3J5KHRoaXMpO1xuICAgICAgICAgICAgaWYgKGZhY3RvcnkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoaXMgdHlwZSBjYXN0IGlzIGEgYml0IG9mIGEgaGFja3kgb25lLCBuZWNlc3NhcnkgZHVlIHRvIHRoZSBkdXBsaWNpdHkgb2YgSVJlc29sdmVyTGlrZS5cbiAgICAgICAgICAgIC8vIFByb2JsZW0gaXMgdGhhdCB0aGF0IGludGVyZmFjZSdzIHR5cGUgYXJnIGNhbiBiZSBvZiB0eXBlIEtleSwgYnV0IHRoZSBnZXRGYWN0b3J5IG1ldGhvZCBvbmx5IHdvcmtzIG9uXG4gICAgICAgICAgICAvLyB0eXBlIENvbnN0cnVjdGFibGUuIFNvIHRoZSByZXR1cm4gdHlwZSBvZiB0aGF0IG9wdGlvbmFsIG1ldGhvZCBoYXMgdGhpcyBhZGRpdGlvbmFsIGNvbnN0cmFpbnQsIHdoaWNoXG4gICAgICAgICAgICAvLyBzZWVtcyB0byBjb25mdXNlIHRoZSB0eXBlIGNoZWNrZXIuXG4gICAgICAgICAgICBmYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtZXIodHJhbnNmb3JtZXIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBnZXRSZXNvbHZlcihrZXksIGF1dG9SZWdpc3RlciA9IHRydWUpIHtcbiAgICAgICAgdmFsaWRhdGVLZXkoa2V5KTtcbiAgICAgICAgaWYgKGtleS5yZXNvbHZlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzO1xuICAgICAgICBsZXQgcmVzb2x2ZXI7XG4gICAgICAgIHdoaWxlIChjdXJyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlc29sdmVyID0gY3VycmVudC5yZXNvbHZlcnMuZ2V0KGtleSk7XG4gICAgICAgICAgICBpZiAocmVzb2x2ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LnBhcmVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSAoaXNSZWdpc3RlckluUmVxdWVzdGVyKGtleSkpID8gdGhpcyA6IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhdXRvUmVnaXN0ZXIgPyB0aGlzLmppdFJlZ2lzdGVyKGtleSwgaGFuZGxlcikgOiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGhhcyhrZXksIHNlYXJjaEFuY2VzdG9ycyA9IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVycy5oYXMoa2V5KVxuICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICA6IHNlYXJjaEFuY2VzdG9ycyAmJiB0aGlzLnBhcmVudCAhPSBudWxsXG4gICAgICAgICAgICAgICAgPyB0aGlzLnBhcmVudC5oYXMoa2V5LCB0cnVlKVxuICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgICAgdmFsaWRhdGVLZXkoa2V5KTtcbiAgICAgICAgaWYgKGtleS4kaXNSZXNvbHZlcikge1xuICAgICAgICAgICAgcmV0dXJuIGtleS5yZXNvbHZlKHRoaXMsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcztcbiAgICAgICAgbGV0IHJlc29sdmVyO1xuICAgICAgICB3aGlsZSAoY3VycmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXNvbHZlciA9IGN1cnJlbnQucmVzb2x2ZXJzLmdldChrZXkpO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5wYXJlbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gKGlzUmVnaXN0ZXJJblJlcXVlc3RlcihrZXkpKSA/IHRoaXMgOiBjdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlciA9IHRoaXMuaml0UmVnaXN0ZXIoa2V5LCBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVyLnJlc29sdmUoY3VycmVudCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlci5yZXNvbHZlKGN1cnJlbnQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHJlc29sdmUga2V5OiAke2tleX1gKTtcbiAgICB9XG4gICAgZ2V0QWxsKGtleSwgc2VhcmNoQW5jZXN0b3JzID0gZmFsc2UpIHtcbiAgICAgICAgdmFsaWRhdGVLZXkoa2V5KTtcbiAgICAgICAgY29uc3QgcmVxdWVzdG9yID0gdGhpcztcbiAgICAgICAgbGV0IGN1cnJlbnQgPSByZXF1ZXN0b3I7XG4gICAgICAgIGxldCByZXNvbHZlcjtcbiAgICAgICAgaWYgKHNlYXJjaEFuY2VzdG9ycykge1xuICAgICAgICAgICAgbGV0IHJlc29sdXRpb25zID0gZW1wdHlBcnJheTtcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlciA9IGN1cnJlbnQucmVzb2x2ZXJzLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb25zID0gcmVzb2x1dGlvbnMuY29uY2F0KGJ1aWxkQWxsUmVzcG9uc2UocmVzb2x2ZXIsIGN1cnJlbnQsIHJlcXVlc3RvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x1dGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZXIgPSBjdXJyZW50LnJlc29sdmVycy5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUFycmF5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnVpbGRBbGxSZXNwb25zZShyZXNvbHZlciwgY3VycmVudCwgcmVxdWVzdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVtcHR5QXJyYXk7XG4gICAgfVxuICAgIGludm9rZShUeXBlLCBkeW5hbWljRGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIGlmIChpc05hdGl2ZUZ1bmN0aW9uKFR5cGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOYXRpdmVJbnZvY2F0aW9uRXJyb3IoVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBGYWN0b3J5KFR5cGUsIERJLmdldERlcGVuZGVuY2llcyhUeXBlKSkuY29uc3RydWN0KHRoaXMsIGR5bmFtaWNEZXBlbmRlbmNpZXMpO1xuICAgIH1cbiAgICBnZXRGYWN0b3J5KFR5cGUpIHtcbiAgICAgICAgbGV0IGZhY3RvcnkgPSB0aGlzLmZhY3Rvcmllcy5nZXQoVHlwZSk7XG4gICAgICAgIGlmIChmYWN0b3J5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGlmIChpc05hdGl2ZUZ1bmN0aW9uKFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTmF0aXZlSW52b2NhdGlvbkVycm9yKFR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mYWN0b3JpZXMuc2V0KFR5cGUsIGZhY3RvcnkgPSBuZXcgRmFjdG9yeShUeXBlLCBESS5nZXREZXBlbmRlbmNpZXMoVHlwZSkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICB9XG4gICAgcmVnaXN0ZXJGYWN0b3J5KGtleSwgZmFjdG9yeSkge1xuICAgICAgICB0aGlzLmZhY3Rvcmllcy5zZXQoa2V5LCBmYWN0b3J5KTtcbiAgICB9XG4gICAgY3JlYXRlQ2hpbGQoY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCAmJiB0aGlzLmNvbmZpZy5pbmhlcml0UGFyZW50UmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcgPT09IENvbnRhaW5lckNvbmZpZ3VyYXRpb24uREVGQVVMVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29udGFpbmVyKHRoaXMsIHRoaXMuY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29udGFpbmVyKHRoaXMsIENvbnRhaW5lckNvbmZpZ3VyYXRpb24uZnJvbSh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5jb25maWcsXG4gICAgICAgICAgICAgICAgaW5oZXJpdFBhcmVudFJlc291cmNlczogZmFsc2UsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb250YWluZXIodGhpcywgQ29udGFpbmVyQ29uZmlndXJhdGlvbi5mcm9tKGNvbmZpZyAhPT0gbnVsbCAmJiBjb25maWcgIT09IHZvaWQgMCA/IGNvbmZpZyA6IHRoaXMuY29uZmlnKSk7XG4gICAgfVxuICAgIGRpc3Bvc2VSZXNvbHZlcnMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZGlzcG9zYWJsZXMgPSBBcnJheS5mcm9tKHRoaXMuZGlzcG9zYWJsZVJlc29sdmVycyk7XG4gICAgICAgIHdoaWxlIChkaXNwb3NhYmxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAoX2EgPSBkaXNwb3NhYmxlcy5wb3AoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5kKGtpbmQsIG5hbWUpIHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2luZC5rZXlGcm9tKG5hbWUpO1xuICAgICAgICBsZXQgcmVzb2x2ZXIgPSB0aGlzLnJlc291cmNlUmVzb2x2ZXJzW2tleV07XG4gICAgICAgIGlmIChyZXNvbHZlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXNvbHZlciA9IHRoaXMucm9vdC5yZXNvdXJjZVJlc29sdmVyc1trZXldO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzb2x2ZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZXIuZ2V0RmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IHJlc29sdmVyLmdldEZhY3RvcnkodGhpcyk7XG4gICAgICAgICAgICBpZiAoZmFjdG9yeSA9PT0gbnVsbCB8fCBmYWN0b3J5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBNZXRhZGF0YS5nZXRPd24oa2luZC5uYW1lLCBmYWN0b3J5LlR5cGUpO1xuICAgICAgICAgICAgaWYgKGRlZmluaXRpb24gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHdlIG1heSB3YW50IHRvIGxvZyBhIHdhcm5pbmcgaGVyZSwgb3IgZXZlbiB0aHJvdy4gVGhpcyB3b3VsZCBoYXBwZW4gaWYgYSBkZXBlbmRlbmN5IGlzIHJlZ2lzdGVyZWQgd2l0aCBhIHJlc291cmNlLWxpa2Uga2V5XG4gICAgICAgICAgICAgICAgLy8gYnV0IGRvZXMgbm90IGFjdHVhbGx5IGhhdmUgYSBkZWZpbml0aW9uIGFzc29jaWF0ZWQgdmlhIHRoZSB0eXBlJ3MgbWV0YWRhdGEuIFRoYXQgKnNob3VsZCogZ2VuZXJhbGx5IG5vdCBoYXBwZW4uXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5pdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY3JlYXRlKGtpbmQsIG5hbWUpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3Qga2V5ID0ga2luZC5rZXlGcm9tKG5hbWUpO1xuICAgICAgICBsZXQgcmVzb2x2ZXIgPSB0aGlzLnJlc291cmNlUmVzb2x2ZXJzW2tleV07XG4gICAgICAgIGlmIChyZXNvbHZlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXNvbHZlciA9IHRoaXMucm9vdC5yZXNvdXJjZVJlc29sdmVyc1trZXldO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoX2EgPSByZXNvbHZlci5yZXNvbHZlKHRoaXMucm9vdCwgdGhpcykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfYiA9IHJlc29sdmVyLnJlc29sdmUodGhpcywgdGhpcykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGw7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJlc29sdmVycygpO1xuICAgICAgICB0aGlzLnJlc29sdmVycy5jbGVhcigpO1xuICAgIH1cbiAgICBqaXRSZWdpc3RlcihrZXlBc1ZhbHVlLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5QXNWYWx1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0ZWQgdG8gaml0UmVnaXN0ZXIgc29tZXRoaW5nIHRoYXQgaXMgbm90IGEgY29uc3RydWN0b3I6ICcke2tleUFzVmFsdWV9Jy4gRGlkIHlvdSBmb3JnZXQgdG8gcmVnaXN0ZXIgdGhpcyByZXNvdXJjZT9gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSW5zdHJpbnNpY1R5cGVOYW1lcy5oYXMoa2V5QXNWYWx1ZS5uYW1lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0ZWQgdG8gaml0UmVnaXN0ZXIgYW4gaW50cmluc2ljIHR5cGU6ICR7a2V5QXNWYWx1ZS5uYW1lfS4gRGlkIHlvdSBmb3JnZXQgdG8gYWRkIEBpbmplY3QoS2V5KWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlZ2lzdHJ5KGtleUFzVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb25SZXNvbHZlciA9IGtleUFzVmFsdWUucmVnaXN0ZXIoaGFuZGxlciwga2V5QXNWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoIShyZWdpc3RyYXRpb25SZXNvbHZlciBpbnN0YW5jZW9mIE9iamVjdCkgfHwgcmVnaXN0cmF0aW9uUmVzb2x2ZXIucmVzb2x2ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UmVzb2x2ZXIgPSBoYW5kbGVyLnJlc29sdmVycy5nZXQoa2V5QXNWYWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1Jlc29sdmVyICE9IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3UmVzb2x2ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZXNvbHZlciByZXR1cm5lZCBmcm9tIHRoZSBzdGF0aWMgcmVnaXN0ZXIgbWV0aG9kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uUmVzb2x2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoUHJvdG9jb2wucmVzb3VyY2UuaGFzKGtleUFzVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZzID0gUHJvdG9jb2wucmVzb3VyY2UuZ2V0QWxsKGtleUFzVmFsdWUpO1xuICAgICAgICAgICAgaWYgKGRlZnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoIGZvciB0aGUgdmVyeSBjb21tb24gY2FzZVxuICAgICAgICAgICAgICAgIGRlZnNbMF0ucmVnaXN0ZXIoaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSBkZWZzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBkID0gMDsgZCA8IGxlbjsgKytkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZnNbZF0ucmVnaXN0ZXIoaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3UmVzb2x2ZXIgPSBoYW5kbGVyLnJlc29sdmVycy5nZXQoa2V5QXNWYWx1ZSk7XG4gICAgICAgICAgICBpZiAobmV3UmVzb2x2ZXIgIT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc29sdmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc29sdmVyIHJldHVybmVkIGZyb20gdGhlIHN0YXRpYyByZWdpc3RlciBtZXRob2RgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXlBc1ZhbHVlLiRpc0ludGVyZmFjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0ZWQgdG8gaml0UmVnaXN0ZXIgYW4gaW50ZXJmYWNlOiAke2tleUFzVmFsdWUuZnJpZW5kbHlOYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSB0aGlzLmNvbmZpZy5kZWZhdWx0UmVzb2x2ZXIoa2V5QXNWYWx1ZSwgaGFuZGxlcik7XG4gICAgICAgICAgICBoYW5kbGVyLnJlc29sdmVycy5zZXQoa2V5QXNWYWx1ZSwgcmVzb2x2ZXIpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVyO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiBJUmVnaXN0cnkgdGhhdCBkZWxlZ2F0ZXMgcmVnaXN0cmF0aW9uIHRvIGFcbiAqIHNlcGFyYXRlbHkgcmVnaXN0ZXJlZCBjbGFzcy4gVGhlIFBhcmFtZXRlcml6ZWRSZWdpc3RyeSBmYWNpbGl0YXRlcyB0aGVcbiAqIHBhc3Npbmcgb2YgcGFyYW1ldGVycyB0byB0aGUgZmluYWwgcmVnaXN0cnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJhbWV0ZXJpemVkUmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKGtleSwgcGFyYW1zKSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICB9XG4gICAgcmVnaXN0ZXIoY29udGFpbmVyKSB7XG4gICAgICAgIGlmIChjb250YWluZXIuaGFzKHRoaXMua2V5LCB0cnVlKSkge1xuICAgICAgICAgICAgY29uc3QgcmVnaXN0cnkgPSBjb250YWluZXIuZ2V0KHRoaXMua2V5KTtcbiAgICAgICAgICAgIHJlZ2lzdHJ5LnJlZ2lzdGVyKGNvbnRhaW5lciwgLi4udGhpcy5wYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGFpbmVyLnJlZ2lzdGVyKC4uLnRoaXMucGFyYW1zLmZpbHRlcih4ID0+IHR5cGVvZiB4ID09PSAnb2JqZWN0JykpO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgY29udGFpbmVyTG9va3VwID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGNhY2hlQ2FsbGJhY2tSZXN1bHQoZnVuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChoYW5kbGVyLCByZXF1ZXN0b3IsIHJlc29sdmVyKSB7XG4gICAgICAgIGxldCByZXNvbHZlckxvb2t1cCA9IGNvbnRhaW5lckxvb2t1cC5nZXQoaGFuZGxlcik7XG4gICAgICAgIGlmIChyZXNvbHZlckxvb2t1cCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb250YWluZXJMb29rdXAuc2V0KGhhbmRsZXIsIHJlc29sdmVyTG9va3VwID0gbmV3IFdlYWtNYXAoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc29sdmVyTG9va3VwLmhhcyhyZXNvbHZlcikpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlckxvb2t1cC5nZXQocmVzb2x2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHQgPSBmdW4oaGFuZGxlciwgcmVxdWVzdG9yLCByZXNvbHZlcik7XG4gICAgICAgIHJlc29sdmVyTG9va3VwLnNldChyZXNvbHZlciwgdCk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG59XG4vKipcbiAqIHlvdSBjYW4gdXNlIHRoZSByZXN1bHRpbmcge0BsaW5rY29kZSBJUmVnaXN0cmF0aW9ufSBvZiBhbnkgb2YgdGhlIGZhY3RvcnkgbWV0aG9kc1xuICogdG8gcmVnaXN0ZXIgd2l0aCB0aGUgY29udGFpbmVyLCBlLmcuXG4gKiBgYGBcbiAqIGNsYXNzIEZvbyB7fVxuICogY29uc3QgY29udGFpbmVyID0gREkuY3JlYXRlQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIucmVnaXN0ZXIoUmVnaXN0cmF0aW9uLmluc3RhbmNlKEZvbywgbmV3IEZvbygpKSk7XG4gKiBjb250YWluZXIuZ2V0KEZvbyk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IFJlZ2lzdHJhdGlvbiA9IHtcbiAgICAvKipcbiAgICAgKiBhbGxvd3MgeW91IHRvIHBhc3MgYW4gaW5zdGFuY2UuXG4gICAgICogRXZlcnkgdGltZSB5b3UgcmVxdWVzdCB0aGlzIHtAbGlua2NvZGUgS2V5fSB5b3Ugd2lsbCBnZXQgdGhpcyBpbnN0YW5jZSBiYWNrLlxuICAgICAqIGBgYFxuICAgICAqIFJlZ2lzdHJhdGlvbi5pbnN0YW5jZShGb28sIG5ldyBGb28oKSkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGtleVxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIGluc3RhbmNlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlcihrZXksIDAgLyogaW5zdGFuY2UgKi8sIHZhbHVlKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2UgZnJvbSB0aGUgY2xhc3MuXG4gICAgICogRXZlcnkgdGltZSB5b3UgcmVxdWVzdCB0aGlzIHtAbGlua2NvZGUgS2V5fSB5b3Ugd2lsbCBnZXQgdGhlIHNhbWUgb25lIGJhY2suXG4gICAgICogYGBgXG4gICAgICogUmVnaXN0cmF0aW9uLnNpbmdsZXRvbihGb28sIEZvbyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgc2luZ2xldG9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlcihrZXksIDEgLyogc2luZ2xldG9uICovLCB2YWx1ZSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIGZyb20gYSBjbGFzcy5cbiAgICAgKiBFdmVyeSB0aW1lIHlvdSByZXF1ZXN0IHRoaXMge0BsaW5rY29kZSBLZXl9IHlvdSB3aWxsIGdldCBhIG5ldyBpbnN0YW5jZS5cbiAgICAgKiBgYGBcbiAgICAgKiBSZWdpc3RyYXRpb24uaW5zdGFuY2UoRm9vLCBGb28pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGtleVxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHRyYW5zaWVudChrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZXIoa2V5LCAyIC8qIHRyYW5zaWVudCAqLywgdmFsdWUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBmcm9tIHRoZSBtZXRob2QgcGFzc2VkLlxuICAgICAqIEV2ZXJ5IHRpbWUgeW91IHJlcXVlc3QgdGhpcyB7QGxpbmtjb2RlIEtleX0geW91IHdpbGwgZ2V0IGEgbmV3IGluc3RhbmNlLlxuICAgICAqIGBgYFxuICAgICAqIFJlZ2lzdHJhdGlvbi5jYWxsYmFjayhGb28sICgpID0+IG5ldyBGb28oKSk7XG4gICAgICogUmVnaXN0cmF0aW9uLmNhbGxiYWNrKEJhciwgKGM6IElDb250YWluZXIpID0+IG5ldyBCYXIoYy5nZXQoRm9vKSkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGtleVxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIGNhbGxiYWNrKGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlcihrZXksIDMgLyogY2FsbGJhY2sgKi8sIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2UgZnJvbSB0aGUgbWV0aG9kIHBhc3NlZC5cbiAgICAgKiBPbiB0aGUgZmlyc3QgcmVxdWVzdCBmb3IgdGhlIHtAbGlua2NvZGUgS2V5fSB5b3VyIGNhbGxiYWNrIGlzIGNhbGxlZCBhbmQgcmV0dXJucyBhbiBpbnN0YW5jZS5cbiAgICAgKiBzdWJzZXF1ZW50IHJlcXVlc3RzIGZvciB0aGUge0BsaW5rY29kZSBLZXl9LCB0aGUgaW5pdGlhbCBpbnN0YW5jZSByZXR1cm5lZCB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqIElmIHlvdSBwYXNzIHRoZSBzYW1lIHtAbGlua2NvZGUgUmVnaXN0cmF0aW9ufSB0byBhbm90aGVyIGNvbnRhaW5lciB0aGUgc2FtZSBjYWNoZWQgdmFsdWUgd2lsbCBiZSB1c2VkLlxuICAgICAqIFNob3VsZCBhbGwgcmVmZXJlbmNlcyB0byB0aGUgcmVzb2x2ZXIgcmV0dXJuZWQgYmUgcmVtb3ZlZCwgdGhlIGNhY2hlIHdpbGwgZXhwaXJlLlxuICAgICAqIGBgYFxuICAgICAqIFJlZ2lzdHJhdGlvbi5jYWNoZWRDYWxsYmFjayhGb28sICgpID0+IG5ldyBGb28oKSk7XG4gICAgICogUmVnaXN0cmF0aW9uLmNhY2hlZENhbGxiYWNrKEJhciwgKGM6IElDb250YWluZXIpID0+IG5ldyBCYXIoYy5nZXQoRm9vKSkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGtleVxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIGNhY2hlZENhbGxiYWNrKGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlcihrZXksIDMgLyogY2FsbGJhY2sgKi8sIGNhY2hlQ2FsbGJhY2tSZXN1bHQoY2FsbGJhY2spKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIGNyZWF0ZXMgYW4gYWx0ZXJuYXRlIHtAbGlua2NvZGUgS2V5fSB0byByZXRyaWV2ZSBhbiBpbnN0YW5jZSBieS5cbiAgICAgKiBSZXR1cm5zIHRoZSBzYW1lIHNjb3BlIGFzIHRoZSBvcmlnaW5hbCB7QGxpbmtjb2RlIEtleX0uXG4gICAgICogYGBgXG4gICAgICogUmVnaXN0ZXIuc2luZ2xldG9uKEZvbywgRm9vKVxuICAgICAqIFJlZ2lzdGVyLmFsaWFzVG8oRm9vLCBNeUZvb3MpO1xuICAgICAqXG4gICAgICogY29udGFpbmVyLmdldEFsbChNeUZvb3MpIC8vIGNvbnRhaW5zIGFuIGluc3RhbmNlIG9mIEZvb1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIG9yaWdpbmFsS2V5XG4gICAgICogQHBhcmFtIGFsaWFzS2V5XG4gICAgICovXG4gICAgYWxpYXNUbyhvcmlnaW5hbEtleSwgYWxpYXNLZXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlcihhbGlhc0tleSwgNSAvKiBhbGlhcyAqLywgb3JpZ2luYWxLZXkpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogQHBhcmFtIGtleVxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKi9cbiAgICBkZWZlcihrZXksIC4uLnBhcmFtcykge1xuICAgICAgICByZXR1cm4gbmV3IFBhcmFtZXRlcml6ZWRSZWdpc3RyeShrZXksIHBhcmFtcyk7XG4gICAgfVxufTtcbmV4cG9ydCBjbGFzcyBJbnN0YW5jZVByb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihmcmllbmRseU5hbWUpIHtcbiAgICAgICAgdGhpcy5mcmllbmRseU5hbWUgPSBmcmllbmRseU5hbWU7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBudWxsO1xuICAgIH1cbiAgICBwcmVwYXJlKGluc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICB9XG4gICAgZ2V0ICRpc1Jlc29sdmVyKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIHJlc29sdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNhbGwgcmVzb2x2ZSAke3RoaXMuZnJpZW5kbHlOYW1lfSBiZWZvcmUgY2FsbGluZyBwcmVwYXJlIG9yIGFmdGVyIGNhbGxpbmcgZGlzcG9zZS5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XG4gICAgfVxufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlS2V5KGtleSkge1xuICAgIGlmIChrZXkgPT09IG51bGwgfHwga2V5ID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdrZXkvdmFsdWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLiBBcmUgeW91IHRyeWluZyB0byBpbmplY3QvcmVnaXN0ZXIgc29tZXRoaW5nIHRoYXQgZG9lc25cXCd0IGV4aXN0IHdpdGggREk/Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYnVpbGRBbGxSZXNwb25zZShyZXNvbHZlciwgaGFuZGxlciwgcmVxdWVzdG9yKSB7XG4gICAgaWYgKHJlc29sdmVyIGluc3RhbmNlb2YgUmVzb2x2ZXIgJiYgcmVzb2x2ZXIuc3RyYXRlZ3kgPT09IDQgLyogYXJyYXkgKi8pIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSByZXNvbHZlci5zdGF0ZTtcbiAgICAgICAgbGV0IGkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBuZXcgQXJyYXkoaSk7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHJlc3VsdHNbaV0gPSBzdGF0ZVtpXS5yZXNvbHZlKGhhbmRsZXIsIHJlcXVlc3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICAgIHJldHVybiBbcmVzb2x2ZXIucmVzb2x2ZShoYW5kbGVyLCByZXF1ZXN0b3IpXTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU5hdGl2ZUludm9jYXRpb25FcnJvcihUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgJHtUeXBlLm5hbWV9IGlzIGEgbmF0aXZlIGZ1bmN0aW9uIGFuZCB0aGVyZWZvcmUgY2Fubm90IGJlIHNhZmVseSBjb25zdHJ1Y3RlZCBieSBESS4gSWYgdGhpcyBpcyBpbnRlbnRpb25hbCwgcGxlYXNlIHVzZSBhIGNhbGxiYWNrIG9yIGNhY2hlZENhbGxiYWNrIHJlc29sdmVyLmApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGkuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/kernel/dist/esm/di.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/kernel/dist/esm/eventaggregator.js":
/*!******************************************************************!*\
  !*** ./node_modules/@aurelia/kernel/dist/esm/eventaggregator.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IEventAggregator\": () => (/* binding */ IEventAggregator),\n/* harmony export */   \"EventAggregator\": () => (/* binding */ EventAggregator)\n/* harmony export */ });\n/* harmony import */ var _di_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./di.js */ \"./node_modules/@aurelia/kernel/dist/esm/di.js\");\n/* eslint-disable @typescript-eslint/restrict-template-expressions */\n\n/**\n * Represents a handler for an EventAggregator event.\n */\nclass Handler {\n    constructor(messageType, callback) {\n        this.messageType = messageType;\n        this.callback = callback;\n    }\n    handle(message) {\n        if (message instanceof this.messageType) {\n            this.callback.call(null, message);\n        }\n    }\n}\nconst IEventAggregator = _di_js__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IEventAggregator', x => x.singleton(EventAggregator));\n/**\n * Enables loosely coupled publish/subscribe messaging.\n */\nclass EventAggregator {\n    constructor() {\n        /** @internal */\n        this.eventLookup = {};\n        /** @internal */\n        this.messageHandlers = [];\n    }\n    publish(channelOrInstance, message) {\n        if (!channelOrInstance) {\n            throw new Error(`Invalid channel name or instance: ${channelOrInstance}.`);\n        }\n        if (typeof channelOrInstance === 'string') {\n            let subscribers = this.eventLookup[channelOrInstance];\n            if (subscribers !== void 0) {\n                subscribers = subscribers.slice();\n                let i = subscribers.length;\n                while (i-- > 0) {\n                    subscribers[i](message, channelOrInstance);\n                }\n            }\n        }\n        else {\n            const subscribers = this.messageHandlers.slice();\n            let i = subscribers.length;\n            while (i-- > 0) {\n                subscribers[i].handle(channelOrInstance);\n            }\n        }\n    }\n    subscribe(channelOrType, callback) {\n        if (!channelOrType) {\n            throw new Error(`Invalid channel name or type: ${channelOrType}.`);\n        }\n        let handler;\n        let subscribers;\n        if (typeof channelOrType === 'string') {\n            if (this.eventLookup[channelOrType] === void 0) {\n                this.eventLookup[channelOrType] = [];\n            }\n            handler = callback;\n            subscribers = this.eventLookup[channelOrType];\n        }\n        else {\n            handler = new Handler(channelOrType, callback);\n            subscribers = this.messageHandlers;\n        }\n        subscribers.push(handler);\n        return {\n            dispose() {\n                const idx = subscribers.indexOf(handler);\n                if (idx !== -1) {\n                    subscribers.splice(idx, 1);\n                }\n            }\n        };\n    }\n    subscribeOnce(channelOrType, callback) {\n        const sub = this.subscribe(channelOrType, function (message, event) {\n            sub.dispose();\n            callback(message, event);\n        });\n        return sub;\n    }\n}\n//# sourceMappingURL=eventaggregator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEva2VybmVsL2Rpc3QvZXNtL2V2ZW50YWdncmVnYXRvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9rZXJuZWwvZGlzdC9lc20vZXZlbnRhZ2dyZWdhdG9yLmpzPzQ0MDMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXRlbXBsYXRlLWV4cHJlc3Npb25zICovXG5pbXBvcnQgeyBESSB9IGZyb20gJy4vZGkuanMnO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgaGFuZGxlciBmb3IgYW4gRXZlbnRBZ2dyZWdhdG9yIGV2ZW50LlxuICovXG5jbGFzcyBIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlVHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlVHlwZSA9IG1lc3NhZ2VUeXBlO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIGhhbmRsZShtZXNzYWdlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgdGhpcy5tZXNzYWdlVHlwZSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjay5jYWxsKG51bGwsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IElFdmVudEFnZ3JlZ2F0b3IgPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lFdmVudEFnZ3JlZ2F0b3InLCB4ID0+IHguc2luZ2xldG9uKEV2ZW50QWdncmVnYXRvcikpO1xuLyoqXG4gKiBFbmFibGVzIGxvb3NlbHkgY291cGxlZCBwdWJsaXNoL3N1YnNjcmliZSBtZXNzYWdpbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBFdmVudEFnZ3JlZ2F0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuZXZlbnRMb29rdXAgPSB7fTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgICBwdWJsaXNoKGNoYW5uZWxPckluc3RhbmNlLCBtZXNzYWdlKSB7XG4gICAgICAgIGlmICghY2hhbm5lbE9ySW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjaGFubmVsIG5hbWUgb3IgaW5zdGFuY2U6ICR7Y2hhbm5lbE9ySW5zdGFuY2V9LmApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2hhbm5lbE9ySW5zdGFuY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBsZXQgc3Vic2NyaWJlcnMgPSB0aGlzLmV2ZW50TG9va3VwW2NoYW5uZWxPckluc3RhbmNlXTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVycyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlcnMgPSBzdWJzY3JpYmVycy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIGxldCBpID0gc3Vic2NyaWJlcnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJzW2ldKG1lc3NhZ2UsIGNoYW5uZWxPckluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpYmVycyA9IHRoaXMubWVzc2FnZUhhbmRsZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBsZXQgaSA9IHN1YnNjcmliZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlcnNbaV0uaGFuZGxlKGNoYW5uZWxPckluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdWJzY3JpYmUoY2hhbm5lbE9yVHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCFjaGFubmVsT3JUeXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY2hhbm5lbCBuYW1lIG9yIHR5cGU6ICR7Y2hhbm5lbE9yVHlwZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGhhbmRsZXI7XG4gICAgICAgIGxldCBzdWJzY3JpYmVycztcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFubmVsT3JUeXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRMb29rdXBbY2hhbm5lbE9yVHlwZV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRMb29rdXBbY2hhbm5lbE9yVHlwZV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhbmRsZXIgPSBjYWxsYmFjaztcbiAgICAgICAgICAgIHN1YnNjcmliZXJzID0gdGhpcy5ldmVudExvb2t1cFtjaGFubmVsT3JUeXBlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZXIgPSBuZXcgSGFuZGxlcihjaGFubmVsT3JUeXBlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICBzdWJzY3JpYmVycyA9IHRoaXMubWVzc2FnZUhhbmRsZXJzO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkaXNwb3NlKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IHN1YnNjcmliZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdWJzY3JpYmVPbmNlKGNoYW5uZWxPclR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHN1YiA9IHRoaXMuc3Vic2NyaWJlKGNoYW5uZWxPclR5cGUsIGZ1bmN0aW9uIChtZXNzYWdlLCBldmVudCkge1xuICAgICAgICAgICAgc3ViLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UsIGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRhZ2dyZWdhdG9yLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/kernel/dist/esm/eventaggregator.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/kernel/dist/esm/functions.js":
/*!************************************************************!*\
  !*** ./node_modules/@aurelia/kernel/dist/esm/functions.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isArrayIndex\": () => (/* binding */ isArrayIndex),\n/* harmony export */   \"isNumberOrBigInt\": () => (/* binding */ isNumberOrBigInt),\n/* harmony export */   \"isStringOrDate\": () => (/* binding */ isStringOrDate),\n/* harmony export */   \"camelCase\": () => (/* binding */ camelCase),\n/* harmony export */   \"pascalCase\": () => (/* binding */ pascalCase),\n/* harmony export */   \"kebabCase\": () => (/* binding */ kebabCase),\n/* harmony export */   \"toArray\": () => (/* binding */ toArray),\n/* harmony export */   \"nextId\": () => (/* binding */ nextId),\n/* harmony export */   \"resetId\": () => (/* binding */ resetId),\n/* harmony export */   \"compareNumber\": () => (/* binding */ compareNumber),\n/* harmony export */   \"mergeDistinct\": () => (/* binding */ mergeDistinct),\n/* harmony export */   \"bound\": () => (/* binding */ bound),\n/* harmony export */   \"mergeArrays\": () => (/* binding */ mergeArrays),\n/* harmony export */   \"mergeObjects\": () => (/* binding */ mergeObjects),\n/* harmony export */   \"firstDefined\": () => (/* binding */ firstDefined),\n/* harmony export */   \"getPrototypeChain\": () => (/* binding */ getPrototypeChain),\n/* harmony export */   \"toLookup\": () => (/* binding */ toLookup),\n/* harmony export */   \"isNativeFunction\": () => (/* binding */ isNativeFunction),\n/* harmony export */   \"onResolve\": () => (/* binding */ onResolve),\n/* harmony export */   \"resolveAll\": () => (/* binding */ resolveAll)\n/* harmony export */ });\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/kernel/dist/esm/platform.js\");\n\nconst isNumericLookup = {};\n/**\n * Efficiently determine whether the provided property key is numeric\n * (and thus could be an array indexer) or not.\n *\n * Always returns true for values of type `'number'`.\n *\n * Otherwise, only returns true for strings that consist only of positive integers.\n *\n * Results are cached.\n */\nfunction isArrayIndex(value) {\n    switch (typeof value) {\n        case 'number':\n            return value >= 0 && (value | 0) === value;\n        case 'string': {\n            const result = isNumericLookup[value];\n            if (result !== void 0) {\n                return result;\n            }\n            const length = value.length;\n            if (length === 0) {\n                return isNumericLookup[value] = false;\n            }\n            let ch = 0;\n            for (let i = 0; i < length; ++i) {\n                ch = value.charCodeAt(i);\n                if (i === 0 && ch === 0x30 && length > 1 /* must not start with 0 */ || ch < 0x30 /* 0 */ || ch > 0x39 /* 9 */) {\n                    return isNumericLookup[value] = false;\n                }\n            }\n            return isNumericLookup[value] = true;\n        }\n        default:\n            return false;\n    }\n}\n/**\n * Determines if the value passed is a number or bigint for parsing purposes\n *\n * @param value - Value to evaluate\n */\nfunction isNumberOrBigInt(value) {\n    switch (typeof value) {\n        case 'number':\n        case 'bigint':\n            return true;\n        default:\n            return false;\n    }\n}\n/**\n * Determines if the value passed is a number or bigint for parsing purposes\n *\n * @param value - Value to evaluate\n */\nfunction isStringOrDate(value) {\n    switch (typeof value) {\n        case 'string':\n            return true;\n        case 'object':\n            return value instanceof Date;\n        default:\n            return false;\n    }\n}\n/**\n * Base implementation of camel and kebab cases\n */\nconst baseCase = (function () {\n    let CharKind;\n    (function (CharKind) {\n        CharKind[CharKind[\"none\"] = 0] = \"none\";\n        CharKind[CharKind[\"digit\"] = 1] = \"digit\";\n        CharKind[CharKind[\"upper\"] = 2] = \"upper\";\n        CharKind[CharKind[\"lower\"] = 3] = \"lower\";\n    })(CharKind || (CharKind = {}));\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    const isDigit = Object.assign(Object.create(null), {\n        '0': true,\n        '1': true,\n        '2': true,\n        '3': true,\n        '4': true,\n        '5': true,\n        '6': true,\n        '7': true,\n        '8': true,\n        '9': true,\n    });\n    function charToKind(char) {\n        if (char === '') {\n            // We get this if we do charAt() with an index out of range\n            return 0 /* none */;\n        }\n        if (char !== char.toUpperCase()) {\n            return 3 /* lower */;\n        }\n        if (char !== char.toLowerCase()) {\n            return 2 /* upper */;\n        }\n        if (isDigit[char] === true) {\n            return 1 /* digit */;\n        }\n        return 0 /* none */;\n    }\n    return function (input, cb) {\n        const len = input.length;\n        if (len === 0) {\n            return input;\n        }\n        let sep = false;\n        let output = '';\n        let prevKind;\n        let curChar = '';\n        let curKind = 0 /* none */;\n        let nextChar = input.charAt(0);\n        let nextKind = charToKind(nextChar);\n        for (let i = 0; i < len; ++i) {\n            prevKind = curKind;\n            curChar = nextChar;\n            curKind = nextKind;\n            nextChar = input.charAt(i + 1);\n            nextKind = charToKind(nextChar);\n            if (curKind === 0 /* none */) {\n                if (output.length > 0) {\n                    // Only set sep to true if it's not at the beginning of output.\n                    sep = true;\n                }\n            }\n            else {\n                if (!sep && output.length > 0 && curKind === 2 /* upper */) {\n                    // Separate UAFoo into UA Foo.\n                    // Separate uaFOO into ua FOO.\n                    sep = prevKind === 3 /* lower */ || nextKind === 3 /* lower */;\n                }\n                output += cb(curChar, sep);\n                sep = false;\n            }\n        }\n        return output;\n    };\n})();\n/**\n * Efficiently convert a string to camelCase.\n *\n * Non-alphanumeric characters are treated as separators.\n *\n * Primarily used by Aurelia to convert DOM attribute names to ViewModel property names.\n *\n * Results are cached.\n */\nconst camelCase = (function () {\n    const cache = Object.create(null);\n    function callback(char, sep) {\n        return sep ? char.toUpperCase() : char.toLowerCase();\n    }\n    return function (input) {\n        let output = cache[input];\n        if (output === void 0) {\n            output = cache[input] = baseCase(input, callback);\n        }\n        return output;\n    };\n})();\n/**\n * Efficiently convert a string to PascalCase.\n *\n * Non-alphanumeric characters are treated as separators.\n *\n * Primarily used by Aurelia to convert element names to class names for synthetic types.\n *\n * Results are cached.\n */\nconst pascalCase = (function () {\n    const cache = Object.create(null);\n    return function (input) {\n        let output = cache[input];\n        if (output === void 0) {\n            output = camelCase(input);\n            if (output.length > 0) {\n                output = output[0].toUpperCase() + output.slice(1);\n            }\n            cache[input] = output;\n        }\n        return output;\n    };\n})();\n/**\n * Efficiently convert a string to kebab-case.\n *\n * Non-alphanumeric characters are treated as separators.\n *\n * Primarily used by Aurelia to convert ViewModel property names to DOM attribute names.\n *\n * Results are cached.\n */\nconst kebabCase = (function () {\n    const cache = Object.create(null);\n    function callback(char, sep) {\n        return sep ? `-${char.toLowerCase()}` : char.toLowerCase();\n    }\n    return function (input) {\n        let output = cache[input];\n        if (output === void 0) {\n            output = cache[input] = baseCase(input, callback);\n        }\n        return output;\n    };\n})();\n/**\n * Efficiently (up to 10x faster than `Array.from`) convert an `ArrayLike` to a real array.\n *\n * Primarily used by Aurelia to convert DOM node lists to arrays.\n */\nfunction toArray(input) {\n    // benchmark: http://jsben.ch/xjsyF\n    const { length } = input;\n    const arr = Array(length);\n    for (let i = 0; i < length; ++i) {\n        arr[i] = input[i];\n    }\n    return arr;\n}\nconst ids = {};\n/**\n * Retrieve the next ID in a sequence for a given string, starting with `1`.\n *\n * Used by Aurelia to assign unique ID's to controllers and resources.\n *\n * Aurelia will always prepend the context name with `au$`, so as long as you avoid\n * using that convention you should be safe from collisions.\n */\nfunction nextId(context) {\n    if (ids[context] === void 0) {\n        ids[context] = 0;\n    }\n    return ++ids[context];\n}\n/**\n * Reset the ID for the given string, so that `nextId` will return `1` again for the next call.\n *\n * Used by Aurelia to reset ID's in between unit tests.\n */\nfunction resetId(context) {\n    ids[context] = 0;\n}\n/**\n * A compare function to pass to `Array.prototype.sort` for sorting numbers.\n * This is needed for numeric sort, since the default sorts them as strings.\n */\nfunction compareNumber(a, b) {\n    return a - b;\n}\n/**\n * Efficiently merge and deduplicate the (primitive) values in two arrays.\n *\n * Does not deduplicate existing values in the first array.\n *\n * Guards against null or undefined arrays.\n *\n * Returns `emptyArray` if both arrays are either `null`, `undefined` or `emptyArray`\n *\n * @param slice - If `true`, always returns a new array copy (unless neither array is/has a value)\n */\nfunction mergeDistinct(arr1, arr2, slice) {\n    if (arr1 === void 0 || arr1 === null || arr1 === _platform_js__WEBPACK_IMPORTED_MODULE_0__.emptyArray) {\n        if (arr2 === void 0 || arr2 === null || arr2 === _platform_js__WEBPACK_IMPORTED_MODULE_0__.emptyArray) {\n            return _platform_js__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n        }\n        else {\n            return slice ? arr2.slice(0) : arr2;\n        }\n    }\n    else if (arr2 === void 0 || arr2 === null || arr2 === _platform_js__WEBPACK_IMPORTED_MODULE_0__.emptyArray) {\n        return slice ? arr1.slice(0) : arr1;\n    }\n    const lookup = {};\n    const arr3 = slice ? arr1.slice(0) : arr1;\n    let len1 = arr1.length;\n    let len2 = arr2.length;\n    while (len1-- > 0) {\n        lookup[arr1[len1]] = true;\n    }\n    let item;\n    while (len2-- > 0) {\n        item = arr2[len2];\n        if (lookup[item] === void 0) {\n            arr3.push(item);\n            lookup[item] = true;\n        }\n    }\n    return arr3;\n}\n/**\n * Decorator. (lazily) bind the method to the class instance on first call.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction bound(target, key, descriptor) {\n    return {\n        configurable: true,\n        enumerable: descriptor.enumerable,\n        get() {\n            const boundFn = descriptor.value.bind(this);\n            Reflect.defineProperty(this, key, {\n                value: boundFn,\n                writable: true,\n                configurable: true,\n                enumerable: descriptor.enumerable,\n            });\n            return boundFn;\n        },\n    };\n}\nfunction mergeArrays(...arrays) {\n    const result = [];\n    let k = 0;\n    const arraysLen = arrays.length;\n    let arrayLen = 0;\n    let array;\n    for (let i = 0; i < arraysLen; ++i) {\n        array = arrays[i];\n        if (array !== void 0) {\n            arrayLen = array.length;\n            for (let j = 0; j < arrayLen; ++j) {\n                result[k++] = array[j];\n            }\n        }\n    }\n    return result;\n}\nfunction mergeObjects(...objects) {\n    const result = {};\n    const objectsLen = objects.length;\n    let object;\n    let key;\n    for (let i = 0; i < objectsLen; ++i) {\n        object = objects[i];\n        if (object !== void 0) {\n            for (key in object) {\n                result[key] = object[key];\n            }\n        }\n    }\n    return result;\n}\nfunction firstDefined(...values) {\n    const len = values.length;\n    let value;\n    for (let i = 0; i < len; ++i) {\n        value = values[i];\n        if (value !== void 0) {\n            return value;\n        }\n    }\n    throw new Error(`No default value found`);\n}\nconst getPrototypeChain = (function () {\n    const functionPrototype = Function.prototype;\n    const getPrototypeOf = Object.getPrototypeOf;\n    const cache = new WeakMap();\n    let proto = functionPrototype;\n    let i = 0;\n    let chain = void 0;\n    return function (Type) {\n        chain = cache.get(Type);\n        if (chain === void 0) {\n            cache.set(Type, chain = [proto = Type]);\n            i = 0;\n            while ((proto = getPrototypeOf(proto)) !== functionPrototype) {\n                chain[++i] = proto;\n            }\n        }\n        return chain;\n    };\n})();\nfunction toLookup(...objs) {\n    return Object.assign(Object.create(null), ...objs);\n}\n/**\n * Determine whether the value is a native function.\n *\n * @param fn - The function to check.\n * @returns `true` is the function is a native function, otherwise `false`\n */\nconst isNativeFunction = (function () {\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    const lookup = new WeakMap();\n    let isNative = false;\n    let sourceText = '';\n    let i = 0;\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    return function (fn) {\n        isNative = lookup.get(fn);\n        if (isNative === void 0) {\n            sourceText = fn.toString();\n            i = sourceText.length;\n            // http://www.ecma-international.org/ecma-262/#prod-NativeFunction\n            isNative = (\n            // 29 is the length of 'function () { [native code] }' which is the smallest length of a native function string\n            i >= 29 &&\n                // 100 seems to be a safe upper bound of the max length of a native function. In Chrome and FF it's 56, in Edge it's 61.\n                i <= 100 &&\n                // This whole heuristic *could* be tricked by a comment. Do we need to care about that?\n                sourceText.charCodeAt(i - 1) === 0x7D && // }\n                // TODO: the spec is a little vague about the precise constraints, so we do need to test this across various browsers to make sure just one whitespace is a safe assumption.\n                sourceText.charCodeAt(i - 2) <= 0x20 && // whitespace\n                sourceText.charCodeAt(i - 3) === 0x5D && // ]\n                sourceText.charCodeAt(i - 4) === 0x65 && // e\n                sourceText.charCodeAt(i - 5) === 0x64 && // d\n                sourceText.charCodeAt(i - 6) === 0x6F && // o\n                sourceText.charCodeAt(i - 7) === 0x63 && // c\n                sourceText.charCodeAt(i - 8) === 0x20 && //\n                sourceText.charCodeAt(i - 9) === 0x65 && // e\n                sourceText.charCodeAt(i - 10) === 0x76 && // v\n                sourceText.charCodeAt(i - 11) === 0x69 && // i\n                sourceText.charCodeAt(i - 12) === 0x74 && // t\n                sourceText.charCodeAt(i - 13) === 0x61 && // a\n                sourceText.charCodeAt(i - 14) === 0x6E && // n\n                sourceText.charCodeAt(i - 15) === 0x58 // [\n            );\n            lookup.set(fn, isNative);\n        }\n        return isNative;\n    };\n})();\n/**\n * Normalize a potential promise via a callback, to ensure things stay synchronous when they can.\n *\n * If the value is a promise, it is `then`ed before the callback is invoked. Otherwise the callback is invoked synchronously.\n */\nfunction onResolve(maybePromise, resolveCallback) {\n    if (maybePromise instanceof Promise) {\n        return maybePromise.then(resolveCallback);\n    }\n    return resolveCallback(maybePromise);\n}\n/**\n * Normalize an array of potential promises, to ensure things stay synchronous when they can.\n *\n * If exactly one value is a promise, then that promise is returned.\n *\n * If more than one value is a promise, a new `Promise.all` is returned.\n *\n * If none of the values is a promise, nothing is returned, to indicate that things can stay synchronous.\n */\nfunction resolveAll(...maybePromises) {\n    let maybePromise = void 0;\n    let firstPromise = void 0;\n    let promises = void 0;\n    for (let i = 0, ii = maybePromises.length; i < ii; ++i) {\n        maybePromise = maybePromises[i];\n        if ((maybePromise = maybePromises[i]) instanceof Promise) {\n            if (firstPromise === void 0) {\n                firstPromise = maybePromise;\n            }\n            else if (promises === void 0) {\n                promises = [firstPromise, maybePromise];\n            }\n            else {\n                promises.push(maybePromise);\n            }\n        }\n    }\n    if (promises === void 0) {\n        return firstPromise;\n    }\n    return Promise.all(promises);\n}\n//# sourceMappingURL=functions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEva2VybmVsL2Rpc3QvZXNtL2Z1bmN0aW9ucy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9rZXJuZWwvZGlzdC9lc20vZnVuY3Rpb25zLmpzP2Q0M2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW1wdHlBcnJheSB9IGZyb20gJy4vcGxhdGZvcm0uanMnO1xuY29uc3QgaXNOdW1lcmljTG9va3VwID0ge307XG4vKipcbiAqIEVmZmljaWVudGx5IGRldGVybWluZSB3aGV0aGVyIHRoZSBwcm92aWRlZCBwcm9wZXJ0eSBrZXkgaXMgbnVtZXJpY1xuICogKGFuZCB0aHVzIGNvdWxkIGJlIGFuIGFycmF5IGluZGV4ZXIpIG9yIG5vdC5cbiAqXG4gKiBBbHdheXMgcmV0dXJucyB0cnVlIGZvciB2YWx1ZXMgb2YgdHlwZSBgJ251bWJlcidgLlxuICpcbiAqIE90aGVyd2lzZSwgb25seSByZXR1cm5zIHRydWUgZm9yIHN0cmluZ3MgdGhhdCBjb25zaXN0IG9ubHkgb2YgcG9zaXRpdmUgaW50ZWdlcnMuXG4gKlxuICogUmVzdWx0cyBhcmUgY2FjaGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheUluZGV4KHZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+PSAwICYmICh2YWx1ZSB8IDApID09PSB2YWx1ZTtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzoge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gaXNOdW1lcmljTG9va3VwW3ZhbHVlXTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTnVtZXJpY0xvb2t1cFt2YWx1ZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjaCA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY2ggPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAwICYmIGNoID09PSAweDMwICYmIGxlbmd0aCA+IDEgLyogbXVzdCBub3Qgc3RhcnQgd2l0aCAwICovIHx8IGNoIDwgMHgzMCAvKiAwICovIHx8IGNoID4gMHgzOSAvKiA5ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc051bWVyaWNMb29rdXBbdmFsdWVdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlzTnVtZXJpY0xvb2t1cFt2YWx1ZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgYSBudW1iZXIgb3IgYmlnaW50IGZvciBwYXJzaW5nIHB1cnBvc2VzXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVmFsdWUgdG8gZXZhbHVhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyT3JCaWdJbnQodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICBjYXNlICdiaWdpbnQnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgYSBudW1iZXIgb3IgYmlnaW50IGZvciBwYXJzaW5nIHB1cnBvc2VzXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVmFsdWUgdG8gZXZhbHVhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nT3JEYXRlKHZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRGF0ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIEJhc2UgaW1wbGVtZW50YXRpb24gb2YgY2FtZWwgYW5kIGtlYmFiIGNhc2VzXG4gKi9cbmNvbnN0IGJhc2VDYXNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgQ2hhcktpbmQ7XG4gICAgKGZ1bmN0aW9uIChDaGFyS2luZCkge1xuICAgICAgICBDaGFyS2luZFtDaGFyS2luZFtcIm5vbmVcIl0gPSAwXSA9IFwibm9uZVwiO1xuICAgICAgICBDaGFyS2luZFtDaGFyS2luZFtcImRpZ2l0XCJdID0gMV0gPSBcImRpZ2l0XCI7XG4gICAgICAgIENoYXJLaW5kW0NoYXJLaW5kW1widXBwZXJcIl0gPSAyXSA9IFwidXBwZXJcIjtcbiAgICAgICAgQ2hhcktpbmRbQ2hhcktpbmRbXCJsb3dlclwiXSA9IDNdID0gXCJsb3dlclwiO1xuICAgIH0pKENoYXJLaW5kIHx8IChDaGFyS2luZCA9IHt9KSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgIGNvbnN0IGlzRGlnaXQgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIHtcbiAgICAgICAgJzAnOiB0cnVlLFxuICAgICAgICAnMSc6IHRydWUsXG4gICAgICAgICcyJzogdHJ1ZSxcbiAgICAgICAgJzMnOiB0cnVlLFxuICAgICAgICAnNCc6IHRydWUsXG4gICAgICAgICc1JzogdHJ1ZSxcbiAgICAgICAgJzYnOiB0cnVlLFxuICAgICAgICAnNyc6IHRydWUsXG4gICAgICAgICc4JzogdHJ1ZSxcbiAgICAgICAgJzknOiB0cnVlLFxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGNoYXJUb0tpbmQoY2hhcikge1xuICAgICAgICBpZiAoY2hhciA9PT0gJycpIHtcbiAgICAgICAgICAgIC8vIFdlIGdldCB0aGlzIGlmIHdlIGRvIGNoYXJBdCgpIHdpdGggYW4gaW5kZXggb3V0IG9mIHJhbmdlXG4gICAgICAgICAgICByZXR1cm4gMCAvKiBub25lICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyICE9PSBjaGFyLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAzIC8qIGxvd2VyICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyICE9PSBjaGFyLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAyIC8qIHVwcGVyICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RpZ2l0W2NoYXJdID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gMSAvKiBkaWdpdCAqLztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMCAvKiBub25lICovO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0LCBjYikge1xuICAgICAgICBjb25zdCBsZW4gPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VwID0gZmFsc2U7XG4gICAgICAgIGxldCBvdXRwdXQgPSAnJztcbiAgICAgICAgbGV0IHByZXZLaW5kO1xuICAgICAgICBsZXQgY3VyQ2hhciA9ICcnO1xuICAgICAgICBsZXQgY3VyS2luZCA9IDAgLyogbm9uZSAqLztcbiAgICAgICAgbGV0IG5leHRDaGFyID0gaW5wdXQuY2hhckF0KDApO1xuICAgICAgICBsZXQgbmV4dEtpbmQgPSBjaGFyVG9LaW5kKG5leHRDaGFyKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgcHJldktpbmQgPSBjdXJLaW5kO1xuICAgICAgICAgICAgY3VyQ2hhciA9IG5leHRDaGFyO1xuICAgICAgICAgICAgY3VyS2luZCA9IG5leHRLaW5kO1xuICAgICAgICAgICAgbmV4dENoYXIgPSBpbnB1dC5jaGFyQXQoaSArIDEpO1xuICAgICAgICAgICAgbmV4dEtpbmQgPSBjaGFyVG9LaW5kKG5leHRDaGFyKTtcbiAgICAgICAgICAgIGlmIChjdXJLaW5kID09PSAwIC8qIG5vbmUgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSBzZXQgc2VwIHRvIHRydWUgaWYgaXQncyBub3QgYXQgdGhlIGJlZ2lubmluZyBvZiBvdXRwdXQuXG4gICAgICAgICAgICAgICAgICAgIHNlcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXAgJiYgb3V0cHV0Lmxlbmd0aCA+IDAgJiYgY3VyS2luZCA9PT0gMiAvKiB1cHBlciAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXBhcmF0ZSBVQUZvbyBpbnRvIFVBIEZvby5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2VwYXJhdGUgdWFGT08gaW50byB1YSBGT08uXG4gICAgICAgICAgICAgICAgICAgIHNlcCA9IHByZXZLaW5kID09PSAzIC8qIGxvd2VyICovIHx8IG5leHRLaW5kID09PSAzIC8qIGxvd2VyICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gY2IoY3VyQ2hhciwgc2VwKTtcbiAgICAgICAgICAgICAgICBzZXAgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBFZmZpY2llbnRseSBjb252ZXJ0IGEgc3RyaW5nIHRvIGNhbWVsQ2FzZS5cbiAqXG4gKiBOb24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYXJlIHRyZWF0ZWQgYXMgc2VwYXJhdG9ycy5cbiAqXG4gKiBQcmltYXJpbHkgdXNlZCBieSBBdXJlbGlhIHRvIGNvbnZlcnQgRE9NIGF0dHJpYnV0ZSBuYW1lcyB0byBWaWV3TW9kZWwgcHJvcGVydHkgbmFtZXMuXG4gKlxuICogUmVzdWx0cyBhcmUgY2FjaGVkLlxuICovXG5leHBvcnQgY29uc3QgY2FtZWxDYXNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZnVuY3Rpb24gY2FsbGJhY2soY2hhciwgc2VwKSB7XG4gICAgICAgIHJldHVybiBzZXAgPyBjaGFyLnRvVXBwZXJDYXNlKCkgOiBjaGFyLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgbGV0IG91dHB1dCA9IGNhY2hlW2lucHV0XTtcbiAgICAgICAgaWYgKG91dHB1dCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBjYWNoZVtpbnB1dF0gPSBiYXNlQ2FzZShpbnB1dCwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEVmZmljaWVudGx5IGNvbnZlcnQgYSBzdHJpbmcgdG8gUGFzY2FsQ2FzZS5cbiAqXG4gKiBOb24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYXJlIHRyZWF0ZWQgYXMgc2VwYXJhdG9ycy5cbiAqXG4gKiBQcmltYXJpbHkgdXNlZCBieSBBdXJlbGlhIHRvIGNvbnZlcnQgZWxlbWVudCBuYW1lcyB0byBjbGFzcyBuYW1lcyBmb3Igc3ludGhldGljIHR5cGVzLlxuICpcbiAqIFJlc3VsdHMgYXJlIGNhY2hlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhc2NhbENhc2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIGxldCBvdXRwdXQgPSBjYWNoZVtpbnB1dF07XG4gICAgICAgIGlmIChvdXRwdXQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgb3V0cHV0ID0gY2FtZWxDYXNlKGlucHV0KTtcbiAgICAgICAgICAgIGlmIChvdXRwdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dFswXS50b1VwcGVyQ2FzZSgpICsgb3V0cHV0LnNsaWNlKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FjaGVbaW5wdXRdID0gb3V0cHV0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEVmZmljaWVudGx5IGNvbnZlcnQgYSBzdHJpbmcgdG8ga2ViYWItY2FzZS5cbiAqXG4gKiBOb24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYXJlIHRyZWF0ZWQgYXMgc2VwYXJhdG9ycy5cbiAqXG4gKiBQcmltYXJpbHkgdXNlZCBieSBBdXJlbGlhIHRvIGNvbnZlcnQgVmlld01vZGVsIHByb3BlcnR5IG5hbWVzIHRvIERPTSBhdHRyaWJ1dGUgbmFtZXMuXG4gKlxuICogUmVzdWx0cyBhcmUgY2FjaGVkLlxuICovXG5leHBvcnQgY29uc3Qga2ViYWJDYXNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZnVuY3Rpb24gY2FsbGJhY2soY2hhciwgc2VwKSB7XG4gICAgICAgIHJldHVybiBzZXAgPyBgLSR7Y2hhci50b0xvd2VyQ2FzZSgpfWAgOiBjaGFyLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgbGV0IG91dHB1dCA9IGNhY2hlW2lucHV0XTtcbiAgICAgICAgaWYgKG91dHB1dCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBjYWNoZVtpbnB1dF0gPSBiYXNlQ2FzZShpbnB1dCwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEVmZmljaWVudGx5ICh1cCB0byAxMHggZmFzdGVyIHRoYW4gYEFycmF5LmZyb21gKSBjb252ZXJ0IGFuIGBBcnJheUxpa2VgIHRvIGEgcmVhbCBhcnJheS5cbiAqXG4gKiBQcmltYXJpbHkgdXNlZCBieSBBdXJlbGlhIHRvIGNvbnZlcnQgRE9NIG5vZGUgbGlzdHMgdG8gYXJyYXlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheShpbnB1dCkge1xuICAgIC8vIGJlbmNobWFyazogaHR0cDovL2pzYmVuLmNoL3hqc3lGXG4gICAgY29uc3QgeyBsZW5ndGggfSA9IGlucHV0O1xuICAgIGNvbnN0IGFyciA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICBhcnJbaV0gPSBpbnB1dFtpXTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cbmNvbnN0IGlkcyA9IHt9O1xuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgbmV4dCBJRCBpbiBhIHNlcXVlbmNlIGZvciBhIGdpdmVuIHN0cmluZywgc3RhcnRpbmcgd2l0aCBgMWAuXG4gKlxuICogVXNlZCBieSBBdXJlbGlhIHRvIGFzc2lnbiB1bmlxdWUgSUQncyB0byBjb250cm9sbGVycyBhbmQgcmVzb3VyY2VzLlxuICpcbiAqIEF1cmVsaWEgd2lsbCBhbHdheXMgcHJlcGVuZCB0aGUgY29udGV4dCBuYW1lIHdpdGggYGF1JGAsIHNvIGFzIGxvbmcgYXMgeW91IGF2b2lkXG4gKiB1c2luZyB0aGF0IGNvbnZlbnRpb24geW91IHNob3VsZCBiZSBzYWZlIGZyb20gY29sbGlzaW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5leHRJZChjb250ZXh0KSB7XG4gICAgaWYgKGlkc1tjb250ZXh0XSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlkc1tjb250ZXh0XSA9IDA7XG4gICAgfVxuICAgIHJldHVybiArK2lkc1tjb250ZXh0XTtcbn1cbi8qKlxuICogUmVzZXQgdGhlIElEIGZvciB0aGUgZ2l2ZW4gc3RyaW5nLCBzbyB0aGF0IGBuZXh0SWRgIHdpbGwgcmV0dXJuIGAxYCBhZ2FpbiBmb3IgdGhlIG5leHQgY2FsbC5cbiAqXG4gKiBVc2VkIGJ5IEF1cmVsaWEgdG8gcmVzZXQgSUQncyBpbiBiZXR3ZWVuIHVuaXQgdGVzdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldElkKGNvbnRleHQpIHtcbiAgICBpZHNbY29udGV4dF0gPSAwO1xufVxuLyoqXG4gKiBBIGNvbXBhcmUgZnVuY3Rpb24gdG8gcGFzcyB0byBgQXJyYXkucHJvdG90eXBlLnNvcnRgIGZvciBzb3J0aW5nIG51bWJlcnMuXG4gKiBUaGlzIGlzIG5lZWRlZCBmb3IgbnVtZXJpYyBzb3J0LCBzaW5jZSB0aGUgZGVmYXVsdCBzb3J0cyB0aGVtIGFzIHN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlTnVtYmVyKGEsIGIpIHtcbiAgICByZXR1cm4gYSAtIGI7XG59XG4vKipcbiAqIEVmZmljaWVudGx5IG1lcmdlIGFuZCBkZWR1cGxpY2F0ZSB0aGUgKHByaW1pdGl2ZSkgdmFsdWVzIGluIHR3byBhcnJheXMuXG4gKlxuICogRG9lcyBub3QgZGVkdXBsaWNhdGUgZXhpc3RpbmcgdmFsdWVzIGluIHRoZSBmaXJzdCBhcnJheS5cbiAqXG4gKiBHdWFyZHMgYWdhaW5zdCBudWxsIG9yIHVuZGVmaW5lZCBhcnJheXMuXG4gKlxuICogUmV0dXJucyBgZW1wdHlBcnJheWAgaWYgYm90aCBhcnJheXMgYXJlIGVpdGhlciBgbnVsbGAsIGB1bmRlZmluZWRgIG9yIGBlbXB0eUFycmF5YFxuICpcbiAqIEBwYXJhbSBzbGljZSAtIElmIGB0cnVlYCwgYWx3YXlzIHJldHVybnMgYSBuZXcgYXJyYXkgY29weSAodW5sZXNzIG5laXRoZXIgYXJyYXkgaXMvaGFzIGEgdmFsdWUpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZURpc3RpbmN0KGFycjEsIGFycjIsIHNsaWNlKSB7XG4gICAgaWYgKGFycjEgPT09IHZvaWQgMCB8fCBhcnIxID09PSBudWxsIHx8IGFycjEgPT09IGVtcHR5QXJyYXkpIHtcbiAgICAgICAgaWYgKGFycjIgPT09IHZvaWQgMCB8fCBhcnIyID09PSBudWxsIHx8IGFycjIgPT09IGVtcHR5QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbXB0eUFycmF5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNsaWNlID8gYXJyMi5zbGljZSgwKSA6IGFycjI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyMiA9PT0gdm9pZCAwIHx8IGFycjIgPT09IG51bGwgfHwgYXJyMiA9PT0gZW1wdHlBcnJheSkge1xuICAgICAgICByZXR1cm4gc2xpY2UgPyBhcnIxLnNsaWNlKDApIDogYXJyMTtcbiAgICB9XG4gICAgY29uc3QgbG9va3VwID0ge307XG4gICAgY29uc3QgYXJyMyA9IHNsaWNlID8gYXJyMS5zbGljZSgwKSA6IGFycjE7XG4gICAgbGV0IGxlbjEgPSBhcnIxLmxlbmd0aDtcbiAgICBsZXQgbGVuMiA9IGFycjIubGVuZ3RoO1xuICAgIHdoaWxlIChsZW4xLS0gPiAwKSB7XG4gICAgICAgIGxvb2t1cFthcnIxW2xlbjFdXSA9IHRydWU7XG4gICAgfVxuICAgIGxldCBpdGVtO1xuICAgIHdoaWxlIChsZW4yLS0gPiAwKSB7XG4gICAgICAgIGl0ZW0gPSBhcnIyW2xlbjJdO1xuICAgICAgICBpZiAobG9va3VwW2l0ZW1dID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGFycjMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIGxvb2t1cFtpdGVtXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjM7XG59XG4vKipcbiAqIERlY29yYXRvci4gKGxhemlseSkgYmluZCB0aGUgbWV0aG9kIHRvIHRoZSBjbGFzcyBpbnN0YW5jZSBvbiBmaXJzdCBjYWxsLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kRm4gPSBkZXNjcmlwdG9yLnZhbHVlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGtleSwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBib3VuZEZuLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBib3VuZEZuO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VBcnJheXMoLi4uYXJyYXlzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IGsgPSAwO1xuICAgIGNvbnN0IGFycmF5c0xlbiA9IGFycmF5cy5sZW5ndGg7XG4gICAgbGV0IGFycmF5TGVuID0gMDtcbiAgICBsZXQgYXJyYXk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheXNMZW47ICsraSkge1xuICAgICAgICBhcnJheSA9IGFycmF5c1tpXTtcbiAgICAgICAgaWYgKGFycmF5ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGFycmF5TGVuID0gYXJyYXkubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcnJheUxlbjsgKytqKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2srK10gPSBhcnJheVtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlT2JqZWN0cyguLi5vYmplY3RzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgY29uc3Qgb2JqZWN0c0xlbiA9IG9iamVjdHMubGVuZ3RoO1xuICAgIGxldCBvYmplY3Q7XG4gICAgbGV0IGtleTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iamVjdHNMZW47ICsraSkge1xuICAgICAgICBvYmplY3QgPSBvYmplY3RzW2ldO1xuICAgICAgICBpZiAob2JqZWN0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdERlZmluZWQoLi4udmFsdWVzKSB7XG4gICAgY29uc3QgbGVuID0gdmFsdWVzLmxlbmd0aDtcbiAgICBsZXQgdmFsdWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGRlZmF1bHQgdmFsdWUgZm91bmRgKTtcbn1cbmV4cG9ydCBjb25zdCBnZXRQcm90b3R5cGVDaGFpbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZnVuY3Rpb25Qcm90b3R5cGUgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gICAgY29uc3QgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gICAgY29uc3QgY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuICAgIGxldCBwcm90byA9IGZ1bmN0aW9uUHJvdG90eXBlO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgY2hhaW4gPSB2b2lkIDA7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChUeXBlKSB7XG4gICAgICAgIGNoYWluID0gY2FjaGUuZ2V0KFR5cGUpO1xuICAgICAgICBpZiAoY2hhaW4gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY2FjaGUuc2V0KFR5cGUsIGNoYWluID0gW3Byb3RvID0gVHlwZV0pO1xuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoKHByb3RvID0gZ2V0UHJvdG90eXBlT2YocHJvdG8pKSAhPT0gZnVuY3Rpb25Qcm90b3R5cGUpIHtcbiAgICAgICAgICAgICAgICBjaGFpblsrK2ldID0gcHJvdG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYWluO1xuICAgIH07XG59KSgpO1xuZXhwb3J0IGZ1bmN0aW9uIHRvTG9va3VwKC4uLm9ianMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCAuLi5vYmpzKTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHZhbHVlIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpcyB0aGUgZnVuY3Rpb24gaXMgYSBuYXRpdmUgZnVuY3Rpb24sIG90aGVyd2lzZSBgZmFsc2VgXG4gKi9cbmV4cG9ydCBjb25zdCBpc05hdGl2ZUZ1bmN0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuICAgIGNvbnN0IGxvb2t1cCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgbGV0IGlzTmF0aXZlID0gZmFsc2U7XG4gICAgbGV0IHNvdXJjZVRleHQgPSAnJztcbiAgICBsZXQgaSA9IDA7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIGlzTmF0aXZlID0gbG9va3VwLmdldChmbik7XG4gICAgICAgIGlmIChpc05hdGl2ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzb3VyY2VUZXh0ID0gZm4udG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGkgPSBzb3VyY2VUZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi8jcHJvZC1OYXRpdmVGdW5jdGlvblxuICAgICAgICAgICAgaXNOYXRpdmUgPSAoXG4gICAgICAgICAgICAvLyAyOSBpcyB0aGUgbGVuZ3RoIG9mICdmdW5jdGlvbiAoKSB7IFtuYXRpdmUgY29kZV0gfScgd2hpY2ggaXMgdGhlIHNtYWxsZXN0IGxlbmd0aCBvZiBhIG5hdGl2ZSBmdW5jdGlvbiBzdHJpbmdcbiAgICAgICAgICAgIGkgPj0gMjkgJiZcbiAgICAgICAgICAgICAgICAvLyAxMDAgc2VlbXMgdG8gYmUgYSBzYWZlIHVwcGVyIGJvdW5kIG9mIHRoZSBtYXggbGVuZ3RoIG9mIGEgbmF0aXZlIGZ1bmN0aW9uLiBJbiBDaHJvbWUgYW5kIEZGIGl0J3MgNTYsIGluIEVkZ2UgaXQncyA2MS5cbiAgICAgICAgICAgICAgICBpIDw9IDEwMCAmJlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgd2hvbGUgaGV1cmlzdGljICpjb3VsZCogYmUgdHJpY2tlZCBieSBhIGNvbW1lbnQuIERvIHdlIG5lZWQgdG8gY2FyZSBhYm91dCB0aGF0P1xuICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gMSkgPT09IDB4N0QgJiYgLy8gfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IHRoZSBzcGVjIGlzIGEgbGl0dGxlIHZhZ3VlIGFib3V0IHRoZSBwcmVjaXNlIGNvbnN0cmFpbnRzLCBzbyB3ZSBkbyBuZWVkIHRvIHRlc3QgdGhpcyBhY3Jvc3MgdmFyaW91cyBicm93c2VycyB0byBtYWtlIHN1cmUganVzdCBvbmUgd2hpdGVzcGFjZSBpcyBhIHNhZmUgYXNzdW1wdGlvbi5cbiAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDIpIDw9IDB4MjAgJiYgLy8gd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gMykgPT09IDB4NUQgJiYgLy8gXVxuICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gNCkgPT09IDB4NjUgJiYgLy8gZVxuICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gNSkgPT09IDB4NjQgJiYgLy8gZFxuICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gNikgPT09IDB4NkYgJiYgLy8gb1xuICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gNykgPT09IDB4NjMgJiYgLy8gY1xuICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gOCkgPT09IDB4MjAgJiYgLy9cbiAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDkpID09PSAweDY1ICYmIC8vIGVcbiAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDEwKSA9PT0gMHg3NiAmJiAvLyB2XG4gICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSAxMSkgPT09IDB4NjkgJiYgLy8gaVxuICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gMTIpID09PSAweDc0ICYmIC8vIHRcbiAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDEzKSA9PT0gMHg2MSAmJiAvLyBhXG4gICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSAxNCkgPT09IDB4NkUgJiYgLy8gblxuICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gMTUpID09PSAweDU4IC8vIFtcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsb29rdXAuc2V0KGZuLCBpc05hdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzTmF0aXZlO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBOb3JtYWxpemUgYSBwb3RlbnRpYWwgcHJvbWlzZSB2aWEgYSBjYWxsYmFjaywgdG8gZW5zdXJlIHRoaW5ncyBzdGF5IHN5bmNocm9ub3VzIHdoZW4gdGhleSBjYW4uXG4gKlxuICogSWYgdGhlIHZhbHVlIGlzIGEgcHJvbWlzZSwgaXQgaXMgYHRoZW5gZWQgYmVmb3JlIHRoZSBjYWxsYmFjayBpcyBpbnZva2VkLiBPdGhlcndpc2UgdGhlIGNhbGxiYWNrIGlzIGludm9rZWQgc3luY2hyb25vdXNseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uUmVzb2x2ZShtYXliZVByb21pc2UsIHJlc29sdmVDYWxsYmFjaykge1xuICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiBtYXliZVByb21pc2UudGhlbihyZXNvbHZlQ2FsbGJhY2spO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x2ZUNhbGxiYWNrKG1heWJlUHJvbWlzZSk7XG59XG4vKipcbiAqIE5vcm1hbGl6ZSBhbiBhcnJheSBvZiBwb3RlbnRpYWwgcHJvbWlzZXMsIHRvIGVuc3VyZSB0aGluZ3Mgc3RheSBzeW5jaHJvbm91cyB3aGVuIHRoZXkgY2FuLlxuICpcbiAqIElmIGV4YWN0bHkgb25lIHZhbHVlIGlzIGEgcHJvbWlzZSwgdGhlbiB0aGF0IHByb21pc2UgaXMgcmV0dXJuZWQuXG4gKlxuICogSWYgbW9yZSB0aGFuIG9uZSB2YWx1ZSBpcyBhIHByb21pc2UsIGEgbmV3IGBQcm9taXNlLmFsbGAgaXMgcmV0dXJuZWQuXG4gKlxuICogSWYgbm9uZSBvZiB0aGUgdmFsdWVzIGlzIGEgcHJvbWlzZSwgbm90aGluZyBpcyByZXR1cm5lZCwgdG8gaW5kaWNhdGUgdGhhdCB0aGluZ3MgY2FuIHN0YXkgc3luY2hyb25vdXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQWxsKC4uLm1heWJlUHJvbWlzZXMpIHtcbiAgICBsZXQgbWF5YmVQcm9taXNlID0gdm9pZCAwO1xuICAgIGxldCBmaXJzdFByb21pc2UgPSB2b2lkIDA7XG4gICAgbGV0IHByb21pc2VzID0gdm9pZCAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IG1heWJlUHJvbWlzZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBtYXliZVByb21pc2UgPSBtYXliZVByb21pc2VzW2ldO1xuICAgICAgICBpZiAoKG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZXNbaV0pIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgaWYgKGZpcnN0UHJvbWlzZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RQcm9taXNlID0gbWF5YmVQcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJvbWlzZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHByb21pc2VzID0gW2ZpcnN0UHJvbWlzZSwgbWF5YmVQcm9taXNlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gobWF5YmVQcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvbWlzZXMgPT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gZmlyc3RQcm9taXNlO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnVuY3Rpb25zLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/kernel/dist/esm/functions.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/kernel/dist/esm/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@aurelia/kernel/dist/esm/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IPlatform\": () => (/* reexport safe */ _platform_js__WEBPACK_IMPORTED_MODULE_0__.IPlatform),\n/* harmony export */   \"Platform\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.Platform),\n/* harmony export */   \"TaskQueue\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.TaskQueue),\n/* harmony export */   \"Task\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.Task),\n/* harmony export */   \"TaskAbortError\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.TaskAbortError),\n/* harmony export */   \"TaskQueuePriority\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.TaskQueuePriority),\n/* harmony export */   \"TaskStatus\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.TaskStatus),\n/* harmony export */   \"all\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.all),\n/* harmony export */   \"DI\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.DI),\n/* harmony export */   \"IContainer\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.IContainer),\n/* harmony export */   \"inject\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.inject),\n/* harmony export */   \"IServiceLocator\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.IServiceLocator),\n/* harmony export */   \"lazy\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.lazy),\n/* harmony export */   \"optional\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.optional),\n/* harmony export */   \"ignore\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.ignore),\n/* harmony export */   \"Registration\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.Registration),\n/* harmony export */   \"singleton\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.singleton),\n/* harmony export */   \"transient\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.transient),\n/* harmony export */   \"InstanceProvider\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.InstanceProvider),\n/* harmony export */   \"newInstanceForScope\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.newInstanceForScope),\n/* harmony export */   \"newInstanceOf\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.newInstanceOf),\n/* harmony export */   \"ContainerConfiguration\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.ContainerConfiguration),\n/* harmony export */   \"DefaultResolver\": () => (/* reexport safe */ _di_js__WEBPACK_IMPORTED_MODULE_2__.DefaultResolver),\n/* harmony export */   \"metadata\": () => (/* reexport safe */ _aurelia_metadata__WEBPACK_IMPORTED_MODULE_3__.metadata),\n/* harmony export */   \"Metadata\": () => (/* reexport safe */ _aurelia_metadata__WEBPACK_IMPORTED_MODULE_3__.Metadata),\n/* harmony export */   \"isNullOrUndefined\": () => (/* reexport safe */ _aurelia_metadata__WEBPACK_IMPORTED_MODULE_3__.isNullOrUndefined),\n/* harmony export */   \"isObject\": () => (/* reexport safe */ _aurelia_metadata__WEBPACK_IMPORTED_MODULE_3__.isObject),\n/* harmony export */   \"applyMetadataPolyfill\": () => (/* reexport safe */ _aurelia_metadata__WEBPACK_IMPORTED_MODULE_3__.applyMetadataPolyfill),\n/* harmony export */   \"LogLevel\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.LogLevel),\n/* harmony export */   \"ColorOptions\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.ColorOptions),\n/* harmony export */   \"ILogConfig\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.ILogConfig),\n/* harmony export */   \"ILogEventFactory\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.ILogEventFactory),\n/* harmony export */   \"ISink\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.ISink),\n/* harmony export */   \"ILogger\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.ILogger),\n/* harmony export */   \"LogConfig\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.LogConfig),\n/* harmony export */   \"DefaultLogEvent\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.DefaultLogEvent),\n/* harmony export */   \"DefaultLogEventFactory\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.DefaultLogEventFactory),\n/* harmony export */   \"DefaultLogger\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.DefaultLogger),\n/* harmony export */   \"ConsoleSink\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.ConsoleSink),\n/* harmony export */   \"LoggerConfiguration\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.LoggerConfiguration),\n/* harmony export */   \"format\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.format),\n/* harmony export */   \"sink\": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_4__.sink),\n/* harmony export */   \"IModuleLoader\": () => (/* reexport safe */ _module_loader_js__WEBPACK_IMPORTED_MODULE_5__.IModuleLoader),\n/* harmony export */   \"AnalyzedModule\": () => (/* reexport safe */ _module_loader_js__WEBPACK_IMPORTED_MODULE_5__.AnalyzedModule),\n/* harmony export */   \"ModuleItem\": () => (/* reexport safe */ _module_loader_js__WEBPACK_IMPORTED_MODULE_5__.ModuleItem),\n/* harmony export */   \"noop\": () => (/* reexport safe */ _platform_js__WEBPACK_IMPORTED_MODULE_0__.noop),\n/* harmony export */   \"emptyArray\": () => (/* reexport safe */ _platform_js__WEBPACK_IMPORTED_MODULE_0__.emptyArray),\n/* harmony export */   \"emptyObject\": () => (/* reexport safe */ _platform_js__WEBPACK_IMPORTED_MODULE_0__.emptyObject),\n/* harmony export */   \"Protocol\": () => (/* reexport safe */ _resource_js__WEBPACK_IMPORTED_MODULE_6__.Protocol),\n/* harmony export */   \"fromAnnotationOrDefinitionOrTypeOrDefault\": () => (/* reexport safe */ _resource_js__WEBPACK_IMPORTED_MODULE_6__.fromAnnotationOrDefinitionOrTypeOrDefault),\n/* harmony export */   \"fromAnnotationOrTypeOrDefault\": () => (/* reexport safe */ _resource_js__WEBPACK_IMPORTED_MODULE_6__.fromAnnotationOrTypeOrDefault),\n/* harmony export */   \"fromDefinitionOrDefault\": () => (/* reexport safe */ _resource_js__WEBPACK_IMPORTED_MODULE_6__.fromDefinitionOrDefault),\n/* harmony export */   \"EventAggregator\": () => (/* reexport safe */ _eventaggregator_js__WEBPACK_IMPORTED_MODULE_7__.EventAggregator),\n/* harmony export */   \"IEventAggregator\": () => (/* reexport safe */ _eventaggregator_js__WEBPACK_IMPORTED_MODULE_7__.IEventAggregator),\n/* harmony export */   \"isArrayIndex\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.isArrayIndex),\n/* harmony export */   \"camelCase\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.camelCase),\n/* harmony export */   \"kebabCase\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.kebabCase),\n/* harmony export */   \"pascalCase\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.pascalCase),\n/* harmony export */   \"toArray\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.toArray),\n/* harmony export */   \"nextId\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.nextId),\n/* harmony export */   \"resetId\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.resetId),\n/* harmony export */   \"compareNumber\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.compareNumber),\n/* harmony export */   \"mergeDistinct\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.mergeDistinct),\n/* harmony export */   \"isNumberOrBigInt\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.isNumberOrBigInt),\n/* harmony export */   \"isStringOrDate\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.isStringOrDate),\n/* harmony export */   \"bound\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.bound),\n/* harmony export */   \"mergeArrays\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.mergeArrays),\n/* harmony export */   \"mergeObjects\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.mergeObjects),\n/* harmony export */   \"firstDefined\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.firstDefined),\n/* harmony export */   \"getPrototypeChain\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.getPrototypeChain),\n/* harmony export */   \"isNativeFunction\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.isNativeFunction),\n/* harmony export */   \"onResolve\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.onResolve),\n/* harmony export */   \"resolveAll\": () => (/* reexport safe */ _functions_js__WEBPACK_IMPORTED_MODULE_8__.resolveAll)\n/* harmony export */ });\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/kernel/dist/esm/platform.js\");\n/* harmony import */ var _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/platform */ \"./node_modules/@aurelia/platform/dist/esm/index.js\");\n/* harmony import */ var _di_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./di.js */ \"./node_modules/@aurelia/kernel/dist/esm/di.js\");\n/* harmony import */ var _aurelia_metadata__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @aurelia/metadata */ \"./node_modules/@aurelia/metadata/dist/esm/index.js\");\n/* harmony import */ var _logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./logger.js */ \"./node_modules/@aurelia/kernel/dist/esm/logger.js\");\n/* harmony import */ var _module_loader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./module-loader.js */ \"./node_modules/@aurelia/kernel/dist/esm/module-loader.js\");\n/* harmony import */ var _resource_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./resource.js */ \"./node_modules/@aurelia/kernel/dist/esm/resource.js\");\n/* harmony import */ var _eventaggregator_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./eventaggregator.js */ \"./node_modules/@aurelia/kernel/dist/esm/eventaggregator.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./functions.js */ \"./node_modules/@aurelia/kernel/dist/esm/functions.js\");\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEva2VybmVsL2Rpc3QvZXNtL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL2tlcm5lbC9kaXN0L2VzbS9pbmRleC5qcz84OTY2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IElQbGF0Zm9ybSwgfSBmcm9tICcuL3BsYXRmb3JtLmpzJztcbmV4cG9ydCB7IFBsYXRmb3JtLCBUYXNrUXVldWUsIFRhc2ssIFRhc2tBYm9ydEVycm9yLCBUYXNrUXVldWVQcmlvcml0eSwgVGFza1N0YXR1cywgfSBmcm9tICdAYXVyZWxpYS9wbGF0Zm9ybSc7XG5leHBvcnQgeyBhbGwsIERJLCBJQ29udGFpbmVyLCBpbmplY3QsIElTZXJ2aWNlTG9jYXRvciwgbGF6eSwgb3B0aW9uYWwsIGlnbm9yZSwgUmVnaXN0cmF0aW9uLCBzaW5nbGV0b24sIHRyYW5zaWVudCwgSW5zdGFuY2VQcm92aWRlciwgbmV3SW5zdGFuY2VGb3JTY29wZSwgbmV3SW5zdGFuY2VPZiwgQ29udGFpbmVyQ29uZmlndXJhdGlvbiwgRGVmYXVsdFJlc29sdmVyLCB9IGZyb20gJy4vZGkuanMnO1xuZXhwb3J0IHsgbWV0YWRhdGEsIE1ldGFkYXRhLCBpc051bGxPclVuZGVmaW5lZCwgaXNPYmplY3QsIGFwcGx5TWV0YWRhdGFQb2x5ZmlsbCwgfSBmcm9tICdAYXVyZWxpYS9tZXRhZGF0YSc7XG5leHBvcnQgeyBMb2dMZXZlbCwgQ29sb3JPcHRpb25zLCBJTG9nQ29uZmlnLCBJTG9nRXZlbnRGYWN0b3J5LCBJU2luaywgSUxvZ2dlciwgTG9nQ29uZmlnLCBEZWZhdWx0TG9nRXZlbnQsIERlZmF1bHRMb2dFdmVudEZhY3RvcnksIERlZmF1bHRMb2dnZXIsIENvbnNvbGVTaW5rLCBMb2dnZXJDb25maWd1cmF0aW9uLCBmb3JtYXQsIHNpbmssIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuZXhwb3J0IHsgSU1vZHVsZUxvYWRlciwgQW5hbHl6ZWRNb2R1bGUsIE1vZHVsZUl0ZW0sIH0gZnJvbSAnLi9tb2R1bGUtbG9hZGVyLmpzJztcbmV4cG9ydCB7IG5vb3AsIGVtcHR5QXJyYXksIGVtcHR5T2JqZWN0LCB9IGZyb20gJy4vcGxhdGZvcm0uanMnO1xuZXhwb3J0IHsgUHJvdG9jb2wsIGZyb21Bbm5vdGF0aW9uT3JEZWZpbml0aW9uT3JUeXBlT3JEZWZhdWx0LCBmcm9tQW5ub3RhdGlvbk9yVHlwZU9yRGVmYXVsdCwgZnJvbURlZmluaXRpb25PckRlZmF1bHQsIH0gZnJvbSAnLi9yZXNvdXJjZS5qcyc7XG5leHBvcnQgeyBFdmVudEFnZ3JlZ2F0b3IsIElFdmVudEFnZ3JlZ2F0b3IsIH0gZnJvbSAnLi9ldmVudGFnZ3JlZ2F0b3IuanMnO1xuZXhwb3J0IHsgaXNBcnJheUluZGV4LCBjYW1lbENhc2UsIGtlYmFiQ2FzZSwgcGFzY2FsQ2FzZSwgdG9BcnJheSwgbmV4dElkLCByZXNldElkLCBjb21wYXJlTnVtYmVyLCBtZXJnZURpc3RpbmN0LCBpc051bWJlck9yQmlnSW50LCBpc1N0cmluZ09yRGF0ZSwgYm91bmQsIG1lcmdlQXJyYXlzLCBtZXJnZU9iamVjdHMsIGZpcnN0RGVmaW5lZCwgZ2V0UHJvdG90eXBlQ2hhaW4sIGlzTmF0aXZlRnVuY3Rpb24sIG9uUmVzb2x2ZSwgcmVzb2x2ZUFsbCwgfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/kernel/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/kernel/dist/esm/logger.js":
/*!*********************************************************!*\
  !*** ./node_modules/@aurelia/kernel/dist/esm/logger.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LogLevel\": () => (/* binding */ LogLevel),\n/* harmony export */   \"ColorOptions\": () => (/* binding */ ColorOptions),\n/* harmony export */   \"ILogConfig\": () => (/* binding */ ILogConfig),\n/* harmony export */   \"ISink\": () => (/* binding */ ISink),\n/* harmony export */   \"ILogEventFactory\": () => (/* binding */ ILogEventFactory),\n/* harmony export */   \"ILogger\": () => (/* binding */ ILogger),\n/* harmony export */   \"ILogScopes\": () => (/* binding */ ILogScopes),\n/* harmony export */   \"LoggerSink\": () => (/* binding */ LoggerSink),\n/* harmony export */   \"sink\": () => (/* binding */ sink),\n/* harmony export */   \"format\": () => (/* binding */ format),\n/* harmony export */   \"LogConfig\": () => (/* binding */ LogConfig),\n/* harmony export */   \"DefaultLogEvent\": () => (/* binding */ DefaultLogEvent),\n/* harmony export */   \"DefaultLogEventFactory\": () => (/* binding */ DefaultLogEventFactory),\n/* harmony export */   \"ConsoleSink\": () => (/* binding */ ConsoleSink),\n/* harmony export */   \"DefaultLogger\": () => (/* binding */ DefaultLogger),\n/* harmony export */   \"LoggerConfiguration\": () => (/* binding */ LoggerConfiguration)\n/* harmony export */ });\n/* harmony import */ var _di_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./di.js */ \"./node_modules/@aurelia/kernel/dist/esm/di.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./functions.js */ \"./node_modules/@aurelia/kernel/dist/esm/functions.js\");\n/* harmony import */ var _resource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resource.js */ \"./node_modules/@aurelia/kernel/dist/esm/resource.js\");\n/* harmony import */ var _aurelia_metadata__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @aurelia/metadata */ \"./node_modules/@aurelia/metadata/dist/esm/index.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/kernel/dist/esm/platform.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\nvar LogLevel;\n(function (LogLevel) {\n    /**\n     * The most detailed information about internal app state.\n     *\n     * Disabled by default and should never be enabled in a production environment.\n     */\n    LogLevel[LogLevel[\"trace\"] = 0] = \"trace\";\n    /**\n     * Information that is useful for debugging during development and has no long-term value.\n     */\n    LogLevel[LogLevel[\"debug\"] = 1] = \"debug\";\n    /**\n     * Information about the general flow of the application that has long-term value.\n     */\n    LogLevel[LogLevel[\"info\"] = 2] = \"info\";\n    /**\n     * Unexpected circumstances that require attention but do not otherwise cause the current flow of execution to stop.\n     */\n    LogLevel[LogLevel[\"warn\"] = 3] = \"warn\";\n    /**\n     * Unexpected circumstances that cause the flow of execution in the current activity to stop but do not cause an app-wide failure.\n     */\n    LogLevel[LogLevel[\"error\"] = 4] = \"error\";\n    /**\n     * Unexpected circumstances that cause an app-wide failure or otherwise require immediate attention.\n     */\n    LogLevel[LogLevel[\"fatal\"] = 5] = \"fatal\";\n    /**\n     * No messages should be written.\n     */\n    LogLevel[LogLevel[\"none\"] = 6] = \"none\";\n})(LogLevel || (LogLevel = {}));\n/**\n * Flags to enable/disable color usage in the logging output.\n */\nvar ColorOptions;\n(function (ColorOptions) {\n    /**\n     * Do not use ASCII color codes in logging output.\n     */\n    ColorOptions[ColorOptions[\"noColors\"] = 0] = \"noColors\";\n    /**\n     * Use ASCII color codes in logging output. By default, timestamps and the TRC and DBG prefix are colored grey. INF white, WRN yellow, and ERR and FTL red.\n     */\n    ColorOptions[ColorOptions[\"colors\"] = 1] = \"colors\";\n})(ColorOptions || (ColorOptions = {}));\nconst ILogConfig = _di_js__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ILogConfig', x => x.instance(new LogConfig(0 /* noColors */, 3 /* warn */)));\nconst ISink = _di_js__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ISink');\nconst ILogEventFactory = _di_js__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ILogEventFactory', x => x.singleton(DefaultLogEventFactory));\nconst ILogger = _di_js__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ILogger', x => x.singleton(DefaultLogger));\nconst ILogScopes = _di_js__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ILogScope');\nconst LoggerSink = Object.freeze({\n    key: _resource_js__WEBPACK_IMPORTED_MODULE_2__.Protocol.annotation.keyFor('logger-sink-handles'),\n    define(target, definition) {\n        _aurelia_metadata__WEBPACK_IMPORTED_MODULE_3__.Metadata.define(this.key, definition.handles, target.prototype);\n        return target;\n    },\n    getHandles(target) {\n        return _aurelia_metadata__WEBPACK_IMPORTED_MODULE_3__.Metadata.get(this.key, target);\n    },\n});\nfunction sink(definition) {\n    return function (target) {\n        return LoggerSink.define(target, definition);\n    };\n}\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\nconst format = (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.toLookup)({\n    red(str) {\n        return `\\u001b[31m${str}\\u001b[39m`;\n    },\n    green(str) {\n        return `\\u001b[32m${str}\\u001b[39m`;\n    },\n    yellow(str) {\n        return `\\u001b[33m${str}\\u001b[39m`;\n    },\n    blue(str) {\n        return `\\u001b[34m${str}\\u001b[39m`;\n    },\n    magenta(str) {\n        return `\\u001b[35m${str}\\u001b[39m`;\n    },\n    cyan(str) {\n        return `\\u001b[36m${str}\\u001b[39m`;\n    },\n    white(str) {\n        return `\\u001b[37m${str}\\u001b[39m`;\n    },\n    grey(str) {\n        return `\\u001b[90m${str}\\u001b[39m`;\n    },\n});\nclass LogConfig {\n    constructor(colorOptions, level) {\n        this.colorOptions = colorOptions;\n        this.level = level;\n    }\n}\nconst getLogLevelString = (function () {\n    const logLevelString = [\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.toLookup)({\n            TRC: 'TRC',\n            DBG: 'DBG',\n            INF: 'INF',\n            WRN: 'WRN',\n            ERR: 'ERR',\n            FTL: 'FTL',\n            QQQ: '???',\n        }),\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.toLookup)({\n            TRC: format.grey('TRC'),\n            DBG: format.grey('DBG'),\n            INF: format.white('INF'),\n            WRN: format.yellow('WRN'),\n            ERR: format.red('ERR'),\n            FTL: format.red('FTL'),\n            QQQ: format.grey('???'),\n        }),\n    ];\n    return function (level, colorOptions) {\n        if (level <= 0 /* trace */) {\n            return logLevelString[colorOptions].TRC;\n        }\n        if (level <= 1 /* debug */) {\n            return logLevelString[colorOptions].DBG;\n        }\n        if (level <= 2 /* info */) {\n            return logLevelString[colorOptions].INF;\n        }\n        if (level <= 3 /* warn */) {\n            return logLevelString[colorOptions].WRN;\n        }\n        if (level <= 4 /* error */) {\n            return logLevelString[colorOptions].ERR;\n        }\n        if (level <= 5 /* fatal */) {\n            return logLevelString[colorOptions].FTL;\n        }\n        return logLevelString[colorOptions].QQQ;\n    };\n})();\nfunction getScopeString(scope, colorOptions) {\n    if (colorOptions === 0 /* noColors */) {\n        return scope.join('.');\n    }\n    return scope.map(format.cyan).join('.');\n}\nfunction getIsoString(timestamp, colorOptions) {\n    if (colorOptions === 0 /* noColors */) {\n        return new Date(timestamp).toISOString();\n    }\n    return format.grey(new Date(timestamp).toISOString());\n}\nclass DefaultLogEvent {\n    constructor(severity, message, optionalParams, scope, colorOptions, timestamp) {\n        this.severity = severity;\n        this.message = message;\n        this.optionalParams = optionalParams;\n        this.scope = scope;\n        this.colorOptions = colorOptions;\n        this.timestamp = timestamp;\n    }\n    toString() {\n        const { severity, message, scope, colorOptions, timestamp } = this;\n        if (scope.length === 0) {\n            return `${getIsoString(timestamp, colorOptions)} [${getLogLevelString(severity, colorOptions)}] ${message}`;\n        }\n        return `${getIsoString(timestamp, colorOptions)} [${getLogLevelString(severity, colorOptions)} ${getScopeString(scope, colorOptions)}] ${message}`;\n    }\n}\nlet DefaultLogEventFactory = class DefaultLogEventFactory {\n    constructor(config) {\n        this.config = config;\n    }\n    createLogEvent(logger, level, message, optionalParams) {\n        return new DefaultLogEvent(level, message, optionalParams, logger.scope, this.config.colorOptions, Date.now());\n    }\n};\nDefaultLogEventFactory = __decorate([\n    __param(0, ILogConfig)\n], DefaultLogEventFactory);\n\nlet ConsoleSink = class ConsoleSink {\n    constructor(p) {\n        const $console = p.console;\n        this.handleEvent = function emit(event) {\n            const optionalParams = event.optionalParams;\n            if (optionalParams === void 0 || optionalParams.length === 0) {\n                const msg = event.toString();\n                switch (event.severity) {\n                    case 0 /* trace */:\n                    case 1 /* debug */:\n                        return $console.debug(msg);\n                    case 2 /* info */:\n                        return $console.info(msg);\n                    case 3 /* warn */:\n                        return $console.warn(msg);\n                    case 4 /* error */:\n                    case 5 /* fatal */:\n                        return $console.error(msg);\n                }\n            }\n            else {\n                let msg = event.toString();\n                let offset = 0;\n                // console.log in chrome doesn't call .toString() on object inputs (https://bugs.chromium.org/p/chromium/issues/detail?id=1146817)\n                while (msg.includes('%s')) {\n                    msg = msg.replace('%s', String(optionalParams[offset++]));\n                }\n                switch (event.severity) {\n                    case 0 /* trace */:\n                    case 1 /* debug */:\n                        return $console.debug(msg, ...optionalParams.slice(offset));\n                    case 2 /* info */:\n                        return $console.info(msg, ...optionalParams.slice(offset));\n                    case 3 /* warn */:\n                        return $console.warn(msg, ...optionalParams.slice(offset));\n                    case 4 /* error */:\n                    case 5 /* fatal */:\n                        return $console.error(msg, ...optionalParams.slice(offset));\n                }\n            }\n        };\n    }\n    static register(container) {\n        _di_js__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(ISink, ConsoleSink).register(container);\n    }\n};\nConsoleSink = __decorate([\n    __param(0, _platform_js__WEBPACK_IMPORTED_MODULE_4__.IPlatform)\n], ConsoleSink);\n\nlet DefaultLogger = class DefaultLogger {\n    constructor(\n    /**\n     * The global logger configuration.\n     */\n    config, factory, sinks, \n    /**\n     * The scopes that this logger was created for, if any.\n     */\n    scope = [], parent = null) {\n        var _a, _b, _c, _d, _e, _f;\n        this.config = config;\n        this.factory = factory;\n        this.scope = scope;\n        this.scopedLoggers = Object.create(null);\n        let traceSinks;\n        let debugSinks;\n        let infoSinks;\n        let warnSinks;\n        let errorSinks;\n        let fatalSinks;\n        if (parent === null) {\n            this.root = this;\n            this.parent = this;\n            traceSinks = this.traceSinks = [];\n            debugSinks = this.debugSinks = [];\n            infoSinks = this.infoSinks = [];\n            warnSinks = this.warnSinks = [];\n            errorSinks = this.errorSinks = [];\n            fatalSinks = this.fatalSinks = [];\n            for (const $sink of sinks) {\n                const handles = LoggerSink.getHandles($sink);\n                if ((_a = handles === null || handles === void 0 ? void 0 : handles.includes(0 /* trace */)) !== null && _a !== void 0 ? _a : true) {\n                    traceSinks.push($sink);\n                }\n                if ((_b = handles === null || handles === void 0 ? void 0 : handles.includes(1 /* debug */)) !== null && _b !== void 0 ? _b : true) {\n                    debugSinks.push($sink);\n                }\n                if ((_c = handles === null || handles === void 0 ? void 0 : handles.includes(2 /* info */)) !== null && _c !== void 0 ? _c : true) {\n                    infoSinks.push($sink);\n                }\n                if ((_d = handles === null || handles === void 0 ? void 0 : handles.includes(3 /* warn */)) !== null && _d !== void 0 ? _d : true) {\n                    warnSinks.push($sink);\n                }\n                if ((_e = handles === null || handles === void 0 ? void 0 : handles.includes(4 /* error */)) !== null && _e !== void 0 ? _e : true) {\n                    errorSinks.push($sink);\n                }\n                if ((_f = handles === null || handles === void 0 ? void 0 : handles.includes(5 /* fatal */)) !== null && _f !== void 0 ? _f : true) {\n                    fatalSinks.push($sink);\n                }\n            }\n        }\n        else {\n            this.root = parent.root;\n            this.parent = parent;\n            traceSinks = this.traceSinks = parent.traceSinks;\n            debugSinks = this.debugSinks = parent.debugSinks;\n            infoSinks = this.infoSinks = parent.infoSinks;\n            warnSinks = this.warnSinks = parent.warnSinks;\n            errorSinks = this.errorSinks = parent.errorSinks;\n            fatalSinks = this.fatalSinks = parent.fatalSinks;\n        }\n    }\n    trace(messageOrGetMessage, ...optionalParams) {\n        if (this.config.level <= 0 /* trace */) {\n            this.emit(this.traceSinks, 0 /* trace */, messageOrGetMessage, optionalParams);\n        }\n    }\n    debug(messageOrGetMessage, ...optionalParams) {\n        if (this.config.level <= 1 /* debug */) {\n            this.emit(this.debugSinks, 1 /* debug */, messageOrGetMessage, optionalParams);\n        }\n    }\n    info(messageOrGetMessage, ...optionalParams) {\n        if (this.config.level <= 2 /* info */) {\n            this.emit(this.infoSinks, 2 /* info */, messageOrGetMessage, optionalParams);\n        }\n    }\n    warn(messageOrGetMessage, ...optionalParams) {\n        if (this.config.level <= 3 /* warn */) {\n            this.emit(this.warnSinks, 3 /* warn */, messageOrGetMessage, optionalParams);\n        }\n    }\n    error(messageOrGetMessage, ...optionalParams) {\n        if (this.config.level <= 4 /* error */) {\n            this.emit(this.errorSinks, 4 /* error */, messageOrGetMessage, optionalParams);\n        }\n    }\n    fatal(messageOrGetMessage, ...optionalParams) {\n        if (this.config.level <= 5 /* fatal */) {\n            this.emit(this.fatalSinks, 5 /* fatal */, messageOrGetMessage, optionalParams);\n        }\n    }\n    /**\n     * Create a new logger with an additional permanent prefix added to the logging outputs.\n     * When chained, multiple scopes are separated by a dot.\n     *\n     * This is preliminary API and subject to change before alpha release.\n     *\n     * @example\n     *\n     * ```ts\n     * export class MyComponent {\n     *   constructor(@ILogger private logger: ILogger) {\n     *     this.logger.debug('before scoping');\n     *     // console output: '[DBG] before scoping'\n     *     this.logger = logger.scopeTo('MyComponent');\n     *     this.logger.debug('after scoping');\n     *     // console output: '[DBG MyComponent] after scoping'\n     *   }\n     *\n     *   public doStuff(): void {\n     *     const logger = this.logger.scopeTo('doStuff()');\n     *     logger.debug('doing stuff');\n     *     // console output: '[DBG MyComponent.doStuff()] doing stuff'\n     *   }\n     * }\n     * ```\n     */\n    scopeTo(name) {\n        const scopedLoggers = this.scopedLoggers;\n        let scopedLogger = scopedLoggers[name];\n        if (scopedLogger === void 0) {\n            scopedLogger = scopedLoggers[name] = new DefaultLogger(this.config, this.factory, (void 0), this.scope.concat(name), this);\n        }\n        return scopedLogger;\n    }\n    emit(sinks, level, msgOrGetMsg, optionalParams) {\n        const message = typeof msgOrGetMsg === 'function' ? msgOrGetMsg() : msgOrGetMsg;\n        const event = this.factory.createLogEvent(this, level, message, optionalParams);\n        for (let i = 0, ii = sinks.length; i < ii; ++i) {\n            sinks[i].handleEvent(event);\n        }\n    }\n};\n__decorate([\n    _functions_js__WEBPACK_IMPORTED_MODULE_1__.bound\n], DefaultLogger.prototype, \"trace\", null);\n__decorate([\n    _functions_js__WEBPACK_IMPORTED_MODULE_1__.bound\n], DefaultLogger.prototype, \"debug\", null);\n__decorate([\n    _functions_js__WEBPACK_IMPORTED_MODULE_1__.bound\n], DefaultLogger.prototype, \"info\", null);\n__decorate([\n    _functions_js__WEBPACK_IMPORTED_MODULE_1__.bound\n], DefaultLogger.prototype, \"warn\", null);\n__decorate([\n    _functions_js__WEBPACK_IMPORTED_MODULE_1__.bound\n], DefaultLogger.prototype, \"error\", null);\n__decorate([\n    _functions_js__WEBPACK_IMPORTED_MODULE_1__.bound\n], DefaultLogger.prototype, \"fatal\", null);\nDefaultLogger = __decorate([\n    __param(0, ILogConfig),\n    __param(1, ILogEventFactory),\n    __param(2, (0,_di_js__WEBPACK_IMPORTED_MODULE_0__.all)(ISink)),\n    __param(3, (0,_di_js__WEBPACK_IMPORTED_MODULE_0__.optional)(ILogScopes)),\n    __param(4, _di_js__WEBPACK_IMPORTED_MODULE_0__.ignore)\n], DefaultLogger);\n\n/**\n * A basic `ILogger` configuration that configures a single `console` sink based on provided options.\n *\n * NOTE: You *must* register the return value of `.create` with the container / au instance, not this `LoggerConfiguration` object itself.\n *\n * @example\n * ```ts\n * container.register(LoggerConfiguration.create());\n *\n * container.register(LoggerConfiguration.create({sinks: [ConsoleSink]}))\n *\n * container.register(LoggerConfiguration.create({sinks: [ConsoleSink], level: LogLevel.debug}))\n *\n * ```\n */\nconst LoggerConfiguration = (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.toLookup)({\n    /**\n     * @param $console - The `console` object to use. Can be the native `window.console` / `global.console`, but can also be a wrapper or mock that implements the same interface.\n     * @param level - The global `LogLevel` to configure. Defaults to `warn` or higher.\n     * @param colorOptions - Whether to use colors or not. Defaults to `noColors`. Colors are especially nice in nodejs environments but don't necessarily work (well) in all environments, such as browsers.\n     */\n    create({ level = 3 /* warn */, colorOptions = 0 /* noColors */, sinks = [], } = {}) {\n        return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.toLookup)({\n            register(container) {\n                container.register(_di_js__WEBPACK_IMPORTED_MODULE_0__.Registration.instance(ILogConfig, new LogConfig(colorOptions, level)));\n                for (const $sink of sinks) {\n                    if (typeof $sink === 'function') {\n                        container.register(_di_js__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(ISink, $sink));\n                    }\n                    else {\n                        container.register($sink);\n                    }\n                }\n                return container;\n            },\n        });\n    },\n});\n//# sourceMappingURL=logger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEva2VybmVsL2Rpc3QvZXNtL2xvZ2dlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9rZXJuZWwvZGlzdC9lc20vbG9nZ2VyLmpzPzY4YmUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG5pbXBvcnQgeyBhbGwsIERJLCBpZ25vcmUsIG9wdGlvbmFsLCBSZWdpc3RyYXRpb24gfSBmcm9tICcuL2RpLmpzJztcbmltcG9ydCB7IGJvdW5kLCB0b0xvb2t1cCB9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IFByb3RvY29sIH0gZnJvbSAnLi9yZXNvdXJjZS5qcyc7XG5pbXBvcnQgeyBNZXRhZGF0YSB9IGZyb20gJ0BhdXJlbGlhL21ldGFkYXRhJztcbmltcG9ydCB7IElQbGF0Zm9ybSB9IGZyb20gJy4vcGxhdGZvcm0uanMnO1xuZXhwb3J0IHZhciBMb2dMZXZlbDtcbihmdW5jdGlvbiAoTG9nTGV2ZWwpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbW9zdCBkZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCBpbnRlcm5hbCBhcHAgc3RhdGUuXG4gICAgICpcbiAgICAgKiBEaXNhYmxlZCBieSBkZWZhdWx0IGFuZCBzaG91bGQgbmV2ZXIgYmUgZW5hYmxlZCBpbiBhIHByb2R1Y3Rpb24gZW52aXJvbm1lbnQuXG4gICAgICovXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJ0cmFjZVwiXSA9IDBdID0gXCJ0cmFjZVwiO1xuICAgIC8qKlxuICAgICAqIEluZm9ybWF0aW9uIHRoYXQgaXMgdXNlZnVsIGZvciBkZWJ1Z2dpbmcgZHVyaW5nIGRldmVsb3BtZW50IGFuZCBoYXMgbm8gbG9uZy10ZXJtIHZhbHVlLlxuICAgICAqL1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiZGVidWdcIl0gPSAxXSA9IFwiZGVidWdcIjtcbiAgICAvKipcbiAgICAgKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZ2VuZXJhbCBmbG93IG9mIHRoZSBhcHBsaWNhdGlvbiB0aGF0IGhhcyBsb25nLXRlcm0gdmFsdWUuXG4gICAgICovXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJpbmZvXCJdID0gMl0gPSBcImluZm9cIjtcbiAgICAvKipcbiAgICAgKiBVbmV4cGVjdGVkIGNpcmN1bXN0YW5jZXMgdGhhdCByZXF1aXJlIGF0dGVudGlvbiBidXQgZG8gbm90IG90aGVyd2lzZSBjYXVzZSB0aGUgY3VycmVudCBmbG93IG9mIGV4ZWN1dGlvbiB0byBzdG9wLlxuICAgICAqL1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wid2FyblwiXSA9IDNdID0gXCJ3YXJuXCI7XG4gICAgLyoqXG4gICAgICogVW5leHBlY3RlZCBjaXJjdW1zdGFuY2VzIHRoYXQgY2F1c2UgdGhlIGZsb3cgb2YgZXhlY3V0aW9uIGluIHRoZSBjdXJyZW50IGFjdGl2aXR5IHRvIHN0b3AgYnV0IGRvIG5vdCBjYXVzZSBhbiBhcHAtd2lkZSBmYWlsdXJlLlxuICAgICAqL1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiZXJyb3JcIl0gPSA0XSA9IFwiZXJyb3JcIjtcbiAgICAvKipcbiAgICAgKiBVbmV4cGVjdGVkIGNpcmN1bXN0YW5jZXMgdGhhdCBjYXVzZSBhbiBhcHAtd2lkZSBmYWlsdXJlIG9yIG90aGVyd2lzZSByZXF1aXJlIGltbWVkaWF0ZSBhdHRlbnRpb24uXG4gICAgICovXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJmYXRhbFwiXSA9IDVdID0gXCJmYXRhbFwiO1xuICAgIC8qKlxuICAgICAqIE5vIG1lc3NhZ2VzIHNob3VsZCBiZSB3cml0dGVuLlxuICAgICAqL1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wibm9uZVwiXSA9IDZdID0gXCJub25lXCI7XG59KShMb2dMZXZlbCB8fCAoTG9nTGV2ZWwgPSB7fSkpO1xuLyoqXG4gKiBGbGFncyB0byBlbmFibGUvZGlzYWJsZSBjb2xvciB1c2FnZSBpbiB0aGUgbG9nZ2luZyBvdXRwdXQuXG4gKi9cbmV4cG9ydCB2YXIgQ29sb3JPcHRpb25zO1xuKGZ1bmN0aW9uIChDb2xvck9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBEbyBub3QgdXNlIEFTQ0lJIGNvbG9yIGNvZGVzIGluIGxvZ2dpbmcgb3V0cHV0LlxuICAgICAqL1xuICAgIENvbG9yT3B0aW9uc1tDb2xvck9wdGlvbnNbXCJub0NvbG9yc1wiXSA9IDBdID0gXCJub0NvbG9yc1wiO1xuICAgIC8qKlxuICAgICAqIFVzZSBBU0NJSSBjb2xvciBjb2RlcyBpbiBsb2dnaW5nIG91dHB1dC4gQnkgZGVmYXVsdCwgdGltZXN0YW1wcyBhbmQgdGhlIFRSQyBhbmQgREJHIHByZWZpeCBhcmUgY29sb3JlZCBncmV5LiBJTkYgd2hpdGUsIFdSTiB5ZWxsb3csIGFuZCBFUlIgYW5kIEZUTCByZWQuXG4gICAgICovXG4gICAgQ29sb3JPcHRpb25zW0NvbG9yT3B0aW9uc1tcImNvbG9yc1wiXSA9IDFdID0gXCJjb2xvcnNcIjtcbn0pKENvbG9yT3B0aW9ucyB8fCAoQ29sb3JPcHRpb25zID0ge30pKTtcbmV4cG9ydCBjb25zdCBJTG9nQ29uZmlnID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJTG9nQ29uZmlnJywgeCA9PiB4Lmluc3RhbmNlKG5ldyBMb2dDb25maWcoMCAvKiBub0NvbG9ycyAqLywgMyAvKiB3YXJuICovKSkpO1xuZXhwb3J0IGNvbnN0IElTaW5rID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJU2luaycpO1xuZXhwb3J0IGNvbnN0IElMb2dFdmVudEZhY3RvcnkgPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lMb2dFdmVudEZhY3RvcnknLCB4ID0+IHguc2luZ2xldG9uKERlZmF1bHRMb2dFdmVudEZhY3RvcnkpKTtcbmV4cG9ydCBjb25zdCBJTG9nZ2VyID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJTG9nZ2VyJywgeCA9PiB4LnNpbmdsZXRvbihEZWZhdWx0TG9nZ2VyKSk7XG5leHBvcnQgY29uc3QgSUxvZ1Njb3BlcyA9IERJLmNyZWF0ZUludGVyZmFjZSgnSUxvZ1Njb3BlJyk7XG5leHBvcnQgY29uc3QgTG9nZ2VyU2luayA9IE9iamVjdC5mcmVlemUoe1xuICAgIGtleTogUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IoJ2xvZ2dlci1zaW5rLWhhbmRsZXMnKSxcbiAgICBkZWZpbmUodGFyZ2V0LCBkZWZpbml0aW9uKSB7XG4gICAgICAgIE1ldGFkYXRhLmRlZmluZSh0aGlzLmtleSwgZGVmaW5pdGlvbi5oYW5kbGVzLCB0YXJnZXQucHJvdG90eXBlKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9LFxuICAgIGdldEhhbmRsZXModGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBNZXRhZGF0YS5nZXQodGhpcy5rZXksIHRhcmdldCk7XG4gICAgfSxcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHNpbmsoZGVmaW5pdGlvbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBMb2dnZXJTaW5rLmRlZmluZSh0YXJnZXQsIGRlZmluaXRpb24pO1xuICAgIH07XG59XG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3NcbmV4cG9ydCBjb25zdCBmb3JtYXQgPSB0b0xvb2t1cCh7XG4gICAgcmVkKHN0cikge1xuICAgICAgICByZXR1cm4gYFxcdTAwMWJbMzFtJHtzdHJ9XFx1MDAxYlszOW1gO1xuICAgIH0sXG4gICAgZ3JlZW4oc3RyKSB7XG4gICAgICAgIHJldHVybiBgXFx1MDAxYlszMm0ke3N0cn1cXHUwMDFiWzM5bWA7XG4gICAgfSxcbiAgICB5ZWxsb3coc3RyKSB7XG4gICAgICAgIHJldHVybiBgXFx1MDAxYlszM20ke3N0cn1cXHUwMDFiWzM5bWA7XG4gICAgfSxcbiAgICBibHVlKHN0cikge1xuICAgICAgICByZXR1cm4gYFxcdTAwMWJbMzRtJHtzdHJ9XFx1MDAxYlszOW1gO1xuICAgIH0sXG4gICAgbWFnZW50YShzdHIpIHtcbiAgICAgICAgcmV0dXJuIGBcXHUwMDFiWzM1bSR7c3RyfVxcdTAwMWJbMzltYDtcbiAgICB9LFxuICAgIGN5YW4oc3RyKSB7XG4gICAgICAgIHJldHVybiBgXFx1MDAxYlszNm0ke3N0cn1cXHUwMDFiWzM5bWA7XG4gICAgfSxcbiAgICB3aGl0ZShzdHIpIHtcbiAgICAgICAgcmV0dXJuIGBcXHUwMDFiWzM3bSR7c3RyfVxcdTAwMWJbMzltYDtcbiAgICB9LFxuICAgIGdyZXkoc3RyKSB7XG4gICAgICAgIHJldHVybiBgXFx1MDAxYls5MG0ke3N0cn1cXHUwMDFiWzM5bWA7XG4gICAgfSxcbn0pO1xuZXhwb3J0IGNsYXNzIExvZ0NvbmZpZyB7XG4gICAgY29uc3RydWN0b3IoY29sb3JPcHRpb25zLCBsZXZlbCkge1xuICAgICAgICB0aGlzLmNvbG9yT3B0aW9ucyA9IGNvbG9yT3B0aW9ucztcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgIH1cbn1cbmNvbnN0IGdldExvZ0xldmVsU3RyaW5nID0gKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBsb2dMZXZlbFN0cmluZyA9IFtcbiAgICAgICAgdG9Mb29rdXAoe1xuICAgICAgICAgICAgVFJDOiAnVFJDJyxcbiAgICAgICAgICAgIERCRzogJ0RCRycsXG4gICAgICAgICAgICBJTkY6ICdJTkYnLFxuICAgICAgICAgICAgV1JOOiAnV1JOJyxcbiAgICAgICAgICAgIEVSUjogJ0VSUicsXG4gICAgICAgICAgICBGVEw6ICdGVEwnLFxuICAgICAgICAgICAgUVFROiAnPz8/JyxcbiAgICAgICAgfSksXG4gICAgICAgIHRvTG9va3VwKHtcbiAgICAgICAgICAgIFRSQzogZm9ybWF0LmdyZXkoJ1RSQycpLFxuICAgICAgICAgICAgREJHOiBmb3JtYXQuZ3JleSgnREJHJyksXG4gICAgICAgICAgICBJTkY6IGZvcm1hdC53aGl0ZSgnSU5GJyksXG4gICAgICAgICAgICBXUk46IGZvcm1hdC55ZWxsb3coJ1dSTicpLFxuICAgICAgICAgICAgRVJSOiBmb3JtYXQucmVkKCdFUlInKSxcbiAgICAgICAgICAgIEZUTDogZm9ybWF0LnJlZCgnRlRMJyksXG4gICAgICAgICAgICBRUVE6IGZvcm1hdC5ncmV5KCc/Pz8nKSxcbiAgICAgICAgfSksXG4gICAgXTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGxldmVsLCBjb2xvck9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGxldmVsIDw9IDAgLyogdHJhY2UgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBsb2dMZXZlbFN0cmluZ1tjb2xvck9wdGlvbnNdLlRSQztcbiAgICAgICAgfVxuICAgICAgICBpZiAobGV2ZWwgPD0gMSAvKiBkZWJ1ZyAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGxvZ0xldmVsU3RyaW5nW2NvbG9yT3B0aW9uc10uREJHO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZXZlbCA8PSAyIC8qIGluZm8gKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBsb2dMZXZlbFN0cmluZ1tjb2xvck9wdGlvbnNdLklORjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGV2ZWwgPD0gMyAvKiB3YXJuICovKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9nTGV2ZWxTdHJpbmdbY29sb3JPcHRpb25zXS5XUk47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxldmVsIDw9IDQgLyogZXJyb3IgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBsb2dMZXZlbFN0cmluZ1tjb2xvck9wdGlvbnNdLkVSUjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGV2ZWwgPD0gNSAvKiBmYXRhbCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGxvZ0xldmVsU3RyaW5nW2NvbG9yT3B0aW9uc10uRlRMO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2dMZXZlbFN0cmluZ1tjb2xvck9wdGlvbnNdLlFRUTtcbiAgICB9O1xufSkoKTtcbmZ1bmN0aW9uIGdldFNjb3BlU3RyaW5nKHNjb3BlLCBjb2xvck9wdGlvbnMpIHtcbiAgICBpZiAoY29sb3JPcHRpb25zID09PSAwIC8qIG5vQ29sb3JzICovKSB7XG4gICAgICAgIHJldHVybiBzY29wZS5qb2luKCcuJyk7XG4gICAgfVxuICAgIHJldHVybiBzY29wZS5tYXAoZm9ybWF0LmN5YW4pLmpvaW4oJy4nKTtcbn1cbmZ1bmN0aW9uIGdldElzb1N0cmluZyh0aW1lc3RhbXAsIGNvbG9yT3B0aW9ucykge1xuICAgIGlmIChjb2xvck9wdGlvbnMgPT09IDAgLyogbm9Db2xvcnMgKi8pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRpbWVzdGFtcCkudG9JU09TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdC5ncmV5KG5ldyBEYXRlKHRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSk7XG59XG5leHBvcnQgY2xhc3MgRGVmYXVsdExvZ0V2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihzZXZlcml0eSwgbWVzc2FnZSwgb3B0aW9uYWxQYXJhbXMsIHNjb3BlLCBjb2xvck9wdGlvbnMsIHRpbWVzdGFtcCkge1xuICAgICAgICB0aGlzLnNldmVyaXR5ID0gc2V2ZXJpdHk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMub3B0aW9uYWxQYXJhbXMgPSBvcHRpb25hbFBhcmFtcztcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgICAgICB0aGlzLmNvbG9yT3B0aW9ucyA9IGNvbG9yT3B0aW9ucztcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCB7IHNldmVyaXR5LCBtZXNzYWdlLCBzY29wZSwgY29sb3JPcHRpb25zLCB0aW1lc3RhbXAgfSA9IHRoaXM7XG4gICAgICAgIGlmIChzY29wZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtnZXRJc29TdHJpbmcodGltZXN0YW1wLCBjb2xvck9wdGlvbnMpfSBbJHtnZXRMb2dMZXZlbFN0cmluZyhzZXZlcml0eSwgY29sb3JPcHRpb25zKX1dICR7bWVzc2FnZX1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHtnZXRJc29TdHJpbmcodGltZXN0YW1wLCBjb2xvck9wdGlvbnMpfSBbJHtnZXRMb2dMZXZlbFN0cmluZyhzZXZlcml0eSwgY29sb3JPcHRpb25zKX0gJHtnZXRTY29wZVN0cmluZyhzY29wZSwgY29sb3JPcHRpb25zKX1dICR7bWVzc2FnZX1gO1xuICAgIH1cbn1cbmxldCBEZWZhdWx0TG9nRXZlbnRGYWN0b3J5ID0gY2xhc3MgRGVmYXVsdExvZ0V2ZW50RmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIH1cbiAgICBjcmVhdGVMb2dFdmVudChsb2dnZXIsIGxldmVsLCBtZXNzYWdlLCBvcHRpb25hbFBhcmFtcykge1xuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRMb2dFdmVudChsZXZlbCwgbWVzc2FnZSwgb3B0aW9uYWxQYXJhbXMsIGxvZ2dlci5zY29wZSwgdGhpcy5jb25maWcuY29sb3JPcHRpb25zLCBEYXRlLm5vdygpKTtcbiAgICB9XG59O1xuRGVmYXVsdExvZ0V2ZW50RmFjdG9yeSA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oMCwgSUxvZ0NvbmZpZylcbl0sIERlZmF1bHRMb2dFdmVudEZhY3RvcnkpO1xuZXhwb3J0IHsgRGVmYXVsdExvZ0V2ZW50RmFjdG9yeSB9O1xubGV0IENvbnNvbGVTaW5rID0gY2xhc3MgQ29uc29sZVNpbmsge1xuICAgIGNvbnN0cnVjdG9yKHApIHtcbiAgICAgICAgY29uc3QgJGNvbnNvbGUgPSBwLmNvbnNvbGU7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25hbFBhcmFtcyA9IGV2ZW50Lm9wdGlvbmFsUGFyYW1zO1xuICAgICAgICAgICAgaWYgKG9wdGlvbmFsUGFyYW1zID09PSB2b2lkIDAgfHwgb3B0aW9uYWxQYXJhbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0gZXZlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LnNldmVyaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMCAvKiB0cmFjZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxIC8qIGRlYnVnICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRjb25zb2xlLmRlYnVnKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBpbmZvICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRjb25zb2xlLmluZm8obXNnKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzIC8qIHdhcm4gKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGNvbnNvbGUud2Fybihtc2cpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQgLyogZXJyb3IgKi86XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNSAvKiBmYXRhbCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBtc2cgPSBldmVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nIGluIGNocm9tZSBkb2Vzbid0IGNhbGwgLnRvU3RyaW5nKCkgb24gb2JqZWN0IGlucHV0cyAoaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTE0NjgxNylcbiAgICAgICAgICAgICAgICB3aGlsZSAobXNnLmluY2x1ZGVzKCclcycpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCclcycsIFN0cmluZyhvcHRpb25hbFBhcmFtc1tvZmZzZXQrK10pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudC5zZXZlcml0eSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDAgLyogdHJhY2UgKi86XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBkZWJ1ZyAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkY29uc29sZS5kZWJ1Zyhtc2csIC4uLm9wdGlvbmFsUGFyYW1zLnNsaWNlKG9mZnNldCkpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIgLyogaW5mbyAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkY29uc29sZS5pbmZvKG1zZywgLi4ub3B0aW9uYWxQYXJhbXMuc2xpY2Uob2Zmc2V0KSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiB3YXJuICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRjb25zb2xlLndhcm4obXNnLCAuLi5vcHRpb25hbFBhcmFtcy5zbGljZShvZmZzZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0IC8qIGVycm9yICovOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDUgLyogZmF0YWwgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGNvbnNvbGUuZXJyb3IobXNnLCAuLi5vcHRpb25hbFBhcmFtcy5zbGljZShvZmZzZXQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgICAgICAgUmVnaXN0cmF0aW9uLnNpbmdsZXRvbihJU2luaywgQ29uc29sZVNpbmspLnJlZ2lzdGVyKGNvbnRhaW5lcik7XG4gICAgfVxufTtcbkNvbnNvbGVTaW5rID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgwLCBJUGxhdGZvcm0pXG5dLCBDb25zb2xlU2luayk7XG5leHBvcnQgeyBDb25zb2xlU2luayB9O1xubGV0IERlZmF1bHRMb2dnZXIgPSBjbGFzcyBEZWZhdWx0TG9nZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgZ2xvYmFsIGxvZ2dlciBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIGNvbmZpZywgZmFjdG9yeSwgc2lua3MsIFxuICAgIC8qKlxuICAgICAqIFRoZSBzY29wZXMgdGhhdCB0aGlzIGxvZ2dlciB3YXMgY3JlYXRlZCBmb3IsIGlmIGFueS5cbiAgICAgKi9cbiAgICBzY29wZSA9IFtdLCBwYXJlbnQgPSBudWxsKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgICAgICB0aGlzLnNjb3BlZExvZ2dlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgdHJhY2VTaW5rcztcbiAgICAgICAgbGV0IGRlYnVnU2lua3M7XG4gICAgICAgIGxldCBpbmZvU2lua3M7XG4gICAgICAgIGxldCB3YXJuU2lua3M7XG4gICAgICAgIGxldCBlcnJvclNpbmtzO1xuICAgICAgICBsZXQgZmF0YWxTaW5rcztcbiAgICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yb290ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIHRyYWNlU2lua3MgPSB0aGlzLnRyYWNlU2lua3MgPSBbXTtcbiAgICAgICAgICAgIGRlYnVnU2lua3MgPSB0aGlzLmRlYnVnU2lua3MgPSBbXTtcbiAgICAgICAgICAgIGluZm9TaW5rcyA9IHRoaXMuaW5mb1NpbmtzID0gW107XG4gICAgICAgICAgICB3YXJuU2lua3MgPSB0aGlzLndhcm5TaW5rcyA9IFtdO1xuICAgICAgICAgICAgZXJyb3JTaW5rcyA9IHRoaXMuZXJyb3JTaW5rcyA9IFtdO1xuICAgICAgICAgICAgZmF0YWxTaW5rcyA9IHRoaXMuZmF0YWxTaW5rcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCAkc2luayBvZiBzaW5rcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXMgPSBMb2dnZXJTaW5rLmdldEhhbmRsZXMoJHNpbmspO1xuICAgICAgICAgICAgICAgIGlmICgoX2EgPSBoYW5kbGVzID09PSBudWxsIHx8IGhhbmRsZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhhbmRsZXMuaW5jbHVkZXMoMCAvKiB0cmFjZSAqLykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2VTaW5rcy5wdXNoKCRzaW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChfYiA9IGhhbmRsZXMgPT09IG51bGwgfHwgaGFuZGxlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaGFuZGxlcy5pbmNsdWRlcygxIC8qIGRlYnVnICovKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z1NpbmtzLnB1c2goJHNpbmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKF9jID0gaGFuZGxlcyA9PT0gbnVsbCB8fCBoYW5kbGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBoYW5kbGVzLmluY2x1ZGVzKDIgLyogaW5mbyAqLykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5mb1NpbmtzLnB1c2goJHNpbmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKF9kID0gaGFuZGxlcyA9PT0gbnVsbCB8fCBoYW5kbGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBoYW5kbGVzLmluY2x1ZGVzKDMgLyogd2FybiAqLykpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FyblNpbmtzLnB1c2goJHNpbmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKF9lID0gaGFuZGxlcyA9PT0gbnVsbCB8fCBoYW5kbGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBoYW5kbGVzLmluY2x1ZGVzKDQgLyogZXJyb3IgKi8pKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yU2lua3MucHVzaCgkc2luayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoX2YgPSBoYW5kbGVzID09PSBudWxsIHx8IGhhbmRsZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhhbmRsZXMuaW5jbHVkZXMoNSAvKiBmYXRhbCAqLykpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmF0YWxTaW5rcy5wdXNoKCRzaW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBwYXJlbnQucm9vdDtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgdHJhY2VTaW5rcyA9IHRoaXMudHJhY2VTaW5rcyA9IHBhcmVudC50cmFjZVNpbmtzO1xuICAgICAgICAgICAgZGVidWdTaW5rcyA9IHRoaXMuZGVidWdTaW5rcyA9IHBhcmVudC5kZWJ1Z1NpbmtzO1xuICAgICAgICAgICAgaW5mb1NpbmtzID0gdGhpcy5pbmZvU2lua3MgPSBwYXJlbnQuaW5mb1NpbmtzO1xuICAgICAgICAgICAgd2FyblNpbmtzID0gdGhpcy53YXJuU2lua3MgPSBwYXJlbnQud2FyblNpbmtzO1xuICAgICAgICAgICAgZXJyb3JTaW5rcyA9IHRoaXMuZXJyb3JTaW5rcyA9IHBhcmVudC5lcnJvclNpbmtzO1xuICAgICAgICAgICAgZmF0YWxTaW5rcyA9IHRoaXMuZmF0YWxTaW5rcyA9IHBhcmVudC5mYXRhbFNpbmtzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyYWNlKG1lc3NhZ2VPckdldE1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sZXZlbCA8PSAwIC8qIHRyYWNlICovKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQodGhpcy50cmFjZVNpbmtzLCAwIC8qIHRyYWNlICovLCBtZXNzYWdlT3JHZXRNZXNzYWdlLCBvcHRpb25hbFBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVidWcobWVzc2FnZU9yR2V0TWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxldmVsIDw9IDEgLyogZGVidWcgKi8pIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCh0aGlzLmRlYnVnU2lua3MsIDEgLyogZGVidWcgKi8sIG1lc3NhZ2VPckdldE1lc3NhZ2UsIG9wdGlvbmFsUGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbmZvKG1lc3NhZ2VPckdldE1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sZXZlbCA8PSAyIC8qIGluZm8gKi8pIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCh0aGlzLmluZm9TaW5rcywgMiAvKiBpbmZvICovLCBtZXNzYWdlT3JHZXRNZXNzYWdlLCBvcHRpb25hbFBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2FybihtZXNzYWdlT3JHZXRNZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcykge1xuICAgICAgICBpZiAodGhpcy5jb25maWcubGV2ZWwgPD0gMyAvKiB3YXJuICovKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQodGhpcy53YXJuU2lua3MsIDMgLyogd2FybiAqLywgbWVzc2FnZU9yR2V0TWVzc2FnZSwgb3B0aW9uYWxQYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVycm9yKG1lc3NhZ2VPckdldE1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sZXZlbCA8PSA0IC8qIGVycm9yICovKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQodGhpcy5lcnJvclNpbmtzLCA0IC8qIGVycm9yICovLCBtZXNzYWdlT3JHZXRNZXNzYWdlLCBvcHRpb25hbFBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmF0YWwobWVzc2FnZU9yR2V0TWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxldmVsIDw9IDUgLyogZmF0YWwgKi8pIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCh0aGlzLmZhdGFsU2lua3MsIDUgLyogZmF0YWwgKi8sIG1lc3NhZ2VPckdldE1lc3NhZ2UsIG9wdGlvbmFsUGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgbG9nZ2VyIHdpdGggYW4gYWRkaXRpb25hbCBwZXJtYW5lbnQgcHJlZml4IGFkZGVkIHRvIHRoZSBsb2dnaW5nIG91dHB1dHMuXG4gICAgICogV2hlbiBjaGFpbmVkLCBtdWx0aXBsZSBzY29wZXMgYXJlIHNlcGFyYXRlZCBieSBhIGRvdC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgcHJlbGltaW5hcnkgQVBJIGFuZCBzdWJqZWN0IHRvIGNoYW5nZSBiZWZvcmUgYWxwaGEgcmVsZWFzZS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCB7XG4gICAgICogICBjb25zdHJ1Y3RvcihASUxvZ2dlciBwcml2YXRlIGxvZ2dlcjogSUxvZ2dlcikge1xuICAgICAqICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnYmVmb3JlIHNjb3BpbmcnKTtcbiAgICAgKiAgICAgLy8gY29uc29sZSBvdXRwdXQ6ICdbREJHXSBiZWZvcmUgc2NvcGluZydcbiAgICAgKiAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXIuc2NvcGVUbygnTXlDb21wb25lbnQnKTtcbiAgICAgKiAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ2FmdGVyIHNjb3BpbmcnKTtcbiAgICAgKiAgICAgLy8gY29uc29sZSBvdXRwdXQ6ICdbREJHIE15Q29tcG9uZW50XSBhZnRlciBzY29waW5nJ1xuICAgICAqICAgfVxuICAgICAqXG4gICAgICogICBwdWJsaWMgZG9TdHVmZigpOiB2b2lkIHtcbiAgICAgKiAgICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuc2NvcGVUbygnZG9TdHVmZigpJyk7XG4gICAgICogICAgIGxvZ2dlci5kZWJ1ZygnZG9pbmcgc3R1ZmYnKTtcbiAgICAgKiAgICAgLy8gY29uc29sZSBvdXRwdXQ6ICdbREJHIE15Q29tcG9uZW50LmRvU3R1ZmYoKV0gZG9pbmcgc3R1ZmYnXG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHNjb3BlVG8obmFtZSkge1xuICAgICAgICBjb25zdCBzY29wZWRMb2dnZXJzID0gdGhpcy5zY29wZWRMb2dnZXJzO1xuICAgICAgICBsZXQgc2NvcGVkTG9nZ2VyID0gc2NvcGVkTG9nZ2Vyc1tuYW1lXTtcbiAgICAgICAgaWYgKHNjb3BlZExvZ2dlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzY29wZWRMb2dnZXIgPSBzY29wZWRMb2dnZXJzW25hbWVdID0gbmV3IERlZmF1bHRMb2dnZXIodGhpcy5jb25maWcsIHRoaXMuZmFjdG9yeSwgKHZvaWQgMCksIHRoaXMuc2NvcGUuY29uY2F0KG5hbWUpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NvcGVkTG9nZ2VyO1xuICAgIH1cbiAgICBlbWl0KHNpbmtzLCBsZXZlbCwgbXNnT3JHZXRNc2csIG9wdGlvbmFsUGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0eXBlb2YgbXNnT3JHZXRNc2cgPT09ICdmdW5jdGlvbicgPyBtc2dPckdldE1zZygpIDogbXNnT3JHZXRNc2c7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5mYWN0b3J5LmNyZWF0ZUxvZ0V2ZW50KHRoaXMsIGxldmVsLCBtZXNzYWdlLCBvcHRpb25hbFBhcmFtcyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHNpbmtzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHNpbmtzW2ldLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5fX2RlY29yYXRlKFtcbiAgICBib3VuZFxuXSwgRGVmYXVsdExvZ2dlci5wcm90b3R5cGUsIFwidHJhY2VcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBib3VuZFxuXSwgRGVmYXVsdExvZ2dlci5wcm90b3R5cGUsIFwiZGVidWdcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBib3VuZFxuXSwgRGVmYXVsdExvZ2dlci5wcm90b3R5cGUsIFwiaW5mb1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGJvdW5kXG5dLCBEZWZhdWx0TG9nZ2VyLnByb3RvdHlwZSwgXCJ3YXJuXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgYm91bmRcbl0sIERlZmF1bHRMb2dnZXIucHJvdG90eXBlLCBcImVycm9yXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgYm91bmRcbl0sIERlZmF1bHRMb2dnZXIucHJvdG90eXBlLCBcImZhdGFsXCIsIG51bGwpO1xuRGVmYXVsdExvZ2dlciA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oMCwgSUxvZ0NvbmZpZyksXG4gICAgX19wYXJhbSgxLCBJTG9nRXZlbnRGYWN0b3J5KSxcbiAgICBfX3BhcmFtKDIsIGFsbChJU2luaykpLFxuICAgIF9fcGFyYW0oMywgb3B0aW9uYWwoSUxvZ1Njb3BlcykpLFxuICAgIF9fcGFyYW0oNCwgaWdub3JlKVxuXSwgRGVmYXVsdExvZ2dlcik7XG5leHBvcnQgeyBEZWZhdWx0TG9nZ2VyIH07XG4vKipcbiAqIEEgYmFzaWMgYElMb2dnZXJgIGNvbmZpZ3VyYXRpb24gdGhhdCBjb25maWd1cmVzIGEgc2luZ2xlIGBjb25zb2xlYCBzaW5rIGJhc2VkIG9uIHByb3ZpZGVkIG9wdGlvbnMuXG4gKlxuICogTk9URTogWW91ICptdXN0KiByZWdpc3RlciB0aGUgcmV0dXJuIHZhbHVlIG9mIGAuY3JlYXRlYCB3aXRoIHRoZSBjb250YWluZXIgLyBhdSBpbnN0YW5jZSwgbm90IHRoaXMgYExvZ2dlckNvbmZpZ3VyYXRpb25gIG9iamVjdCBpdHNlbGYuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBjb250YWluZXIucmVnaXN0ZXIoTG9nZ2VyQ29uZmlndXJhdGlvbi5jcmVhdGUoKSk7XG4gKlxuICogY29udGFpbmVyLnJlZ2lzdGVyKExvZ2dlckNvbmZpZ3VyYXRpb24uY3JlYXRlKHtzaW5rczogW0NvbnNvbGVTaW5rXX0pKVxuICpcbiAqIGNvbnRhaW5lci5yZWdpc3RlcihMb2dnZXJDb25maWd1cmF0aW9uLmNyZWF0ZSh7c2lua3M6IFtDb25zb2xlU2lua10sIGxldmVsOiBMb2dMZXZlbC5kZWJ1Z30pKVxuICpcbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgTG9nZ2VyQ29uZmlndXJhdGlvbiA9IHRvTG9va3VwKHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gJGNvbnNvbGUgLSBUaGUgYGNvbnNvbGVgIG9iamVjdCB0byB1c2UuIENhbiBiZSB0aGUgbmF0aXZlIGB3aW5kb3cuY29uc29sZWAgLyBgZ2xvYmFsLmNvbnNvbGVgLCBidXQgY2FuIGFsc28gYmUgYSB3cmFwcGVyIG9yIG1vY2sgdGhhdCBpbXBsZW1lbnRzIHRoZSBzYW1lIGludGVyZmFjZS5cbiAgICAgKiBAcGFyYW0gbGV2ZWwgLSBUaGUgZ2xvYmFsIGBMb2dMZXZlbGAgdG8gY29uZmlndXJlLiBEZWZhdWx0cyB0byBgd2FybmAgb3IgaGlnaGVyLlxuICAgICAqIEBwYXJhbSBjb2xvck9wdGlvbnMgLSBXaGV0aGVyIHRvIHVzZSBjb2xvcnMgb3Igbm90LiBEZWZhdWx0cyB0byBgbm9Db2xvcnNgLiBDb2xvcnMgYXJlIGVzcGVjaWFsbHkgbmljZSBpbiBub2RlanMgZW52aXJvbm1lbnRzIGJ1dCBkb24ndCBuZWNlc3NhcmlseSB3b3JrICh3ZWxsKSBpbiBhbGwgZW52aXJvbm1lbnRzLCBzdWNoIGFzIGJyb3dzZXJzLlxuICAgICAqL1xuICAgIGNyZWF0ZSh7IGxldmVsID0gMyAvKiB3YXJuICovLCBjb2xvck9wdGlvbnMgPSAwIC8qIG5vQ29sb3JzICovLCBzaW5rcyA9IFtdLCB9ID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRvTG9va3VwKHtcbiAgICAgICAgICAgIHJlZ2lzdGVyKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZWdpc3RlcihSZWdpc3RyYXRpb24uaW5zdGFuY2UoSUxvZ0NvbmZpZywgbmV3IExvZ0NvbmZpZyhjb2xvck9wdGlvbnMsIGxldmVsKSkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgJHNpbmsgb2Ygc2lua3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAkc2luayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnJlZ2lzdGVyKFJlZ2lzdHJhdGlvbi5zaW5nbGV0b24oSVNpbmssICRzaW5rKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucmVnaXN0ZXIoJHNpbmspO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9LFxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/kernel/dist/esm/logger.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/kernel/dist/esm/module-loader.js":
/*!****************************************************************!*\
  !*** ./node_modules/@aurelia/kernel/dist/esm/module-loader.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IModuleLoader\": () => (/* binding */ IModuleLoader),\n/* harmony export */   \"ModuleLoader\": () => (/* binding */ ModuleLoader),\n/* harmony export */   \"AnalyzedModule\": () => (/* binding */ AnalyzedModule),\n/* harmony export */   \"ModuleItem\": () => (/* binding */ ModuleItem)\n/* harmony export */ });\n/* harmony import */ var _di_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./di.js */ \"./node_modules/@aurelia/kernel/dist/esm/di.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/kernel/dist/esm/platform.js\");\n/* harmony import */ var _resource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resource.js */ \"./node_modules/@aurelia/kernel/dist/esm/resource.js\");\n\n\n\nconst IModuleLoader = _di_js__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface(x => x.singleton(ModuleLoader));\nfunction noTransform(m) {\n    return m;\n}\nclass ModuleTransformer {\n    constructor($transform) {\n        this.$transform = $transform;\n        this.promiseCache = new Map();\n        this.objectCache = new Map();\n    }\n    transform(objOrPromise) {\n        if (objOrPromise instanceof Promise) {\n            return this.transformPromise(objOrPromise);\n        }\n        else if (typeof objOrPromise === 'object' && objOrPromise !== null) {\n            return this.transformObject(objOrPromise);\n        }\n        else {\n            throw new Error(`Invalid input: ${String(objOrPromise)}. Expected Promise or Object.`);\n        }\n    }\n    transformPromise(promise) {\n        if (this.promiseCache.has(promise)) {\n            return this.promiseCache.get(promise);\n        }\n        const ret = promise.then(obj => {\n            return this.transformObject(obj);\n        });\n        this.promiseCache.set(promise, ret);\n        void ret.then(value => {\n            // make it synchronous for future requests\n            this.promiseCache.set(promise, value);\n        });\n        return ret;\n    }\n    transformObject(obj) {\n        if (this.objectCache.has(obj)) {\n            return this.objectCache.get(obj);\n        }\n        const ret = this.$transform(this.analyze(obj));\n        this.objectCache.set(obj, ret);\n        if (ret instanceof Promise) {\n            void ret.then(value => {\n                // make it synchronous for future requests\n                this.objectCache.set(obj, value);\n            });\n        }\n        return ret;\n    }\n    analyze(m) {\n        let value;\n        let isRegistry;\n        let isConstructable;\n        let definitions;\n        const items = [];\n        for (const key in m) {\n            switch (typeof (value = m[key])) {\n                case 'object':\n                    if (value === null) {\n                        continue;\n                    }\n                    isRegistry = typeof value.register === 'function';\n                    isConstructable = false;\n                    definitions = _platform_js__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n                    break;\n                case 'function':\n                    isRegistry = typeof value.register === 'function';\n                    isConstructable = value.prototype !== void 0;\n                    definitions = _resource_js__WEBPACK_IMPORTED_MODULE_2__.Protocol.resource.getAll(value);\n                    break;\n                default:\n                    continue;\n            }\n            items.push(new ModuleItem(key, value, isRegistry, isConstructable, definitions));\n        }\n        return new AnalyzedModule(m, items);\n    }\n}\nclass ModuleLoader {\n    constructor() {\n        this.transformers = new Map();\n    }\n    load(objOrPromise, transform = noTransform) {\n        const transformers = this.transformers;\n        let transformer = transformers.get(transform);\n        if (transformer === void 0) {\n            transformers.set(transform, transformer = new ModuleTransformer(transform));\n        }\n        return transformer.transform(objOrPromise);\n    }\n    dispose() {\n        this.transformers.clear();\n    }\n}\nclass AnalyzedModule {\n    constructor(raw, items) {\n        this.raw = raw;\n        this.items = items;\n    }\n}\nclass ModuleItem {\n    constructor(key, value, isRegistry, isConstructable, definitions) {\n        this.key = key;\n        this.value = value;\n        this.isRegistry = isRegistry;\n        this.isConstructable = isConstructable;\n        this.definitions = definitions;\n    }\n}\n//# sourceMappingURL=module-loader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEva2VybmVsL2Rpc3QvZXNtL21vZHVsZS1sb2FkZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEva2VybmVsL2Rpc3QvZXNtL21vZHVsZS1sb2FkZXIuanM/YjhiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBESSB9IGZyb20gJy4vZGkuanMnO1xuaW1wb3J0IHsgZW1wdHlBcnJheSB9IGZyb20gJy4vcGxhdGZvcm0uanMnO1xuaW1wb3J0IHsgUHJvdG9jb2wgfSBmcm9tICcuL3Jlc291cmNlLmpzJztcbmV4cG9ydCBjb25zdCBJTW9kdWxlTG9hZGVyID0gREkuY3JlYXRlSW50ZXJmYWNlKHggPT4geC5zaW5nbGV0b24oTW9kdWxlTG9hZGVyKSk7XG5mdW5jdGlvbiBub1RyYW5zZm9ybShtKSB7XG4gICAgcmV0dXJuIG07XG59XG5jbGFzcyBNb2R1bGVUcmFuc2Zvcm1lciB7XG4gICAgY29uc3RydWN0b3IoJHRyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLiR0cmFuc2Zvcm0gPSAkdHJhbnNmb3JtO1xuICAgICAgICB0aGlzLnByb21pc2VDYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5vYmplY3RDYWNoZSA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgdHJhbnNmb3JtKG9iak9yUHJvbWlzZSkge1xuICAgICAgICBpZiAob2JqT3JQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtUHJvbWlzZShvYmpPclByb21pc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmpPclByb21pc2UgPT09ICdvYmplY3QnICYmIG9iak9yUHJvbWlzZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtT2JqZWN0KG9iak9yUHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaW5wdXQ6ICR7U3RyaW5nKG9iak9yUHJvbWlzZSl9LiBFeHBlY3RlZCBQcm9taXNlIG9yIE9iamVjdC5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0cmFuc2Zvcm1Qcm9taXNlKHByb21pc2UpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvbWlzZUNhY2hlLmhhcyhwcm9taXNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZUNhY2hlLmdldChwcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXQgPSBwcm9taXNlLnRoZW4ob2JqID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybU9iamVjdChvYmopO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wcm9taXNlQ2FjaGUuc2V0KHByb21pc2UsIHJldCk7XG4gICAgICAgIHZvaWQgcmV0LnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAgICAgLy8gbWFrZSBpdCBzeW5jaHJvbm91cyBmb3IgZnV0dXJlIHJlcXVlc3RzXG4gICAgICAgICAgICB0aGlzLnByb21pc2VDYWNoZS5zZXQocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgdHJhbnNmb3JtT2JqZWN0KG9iaikge1xuICAgICAgICBpZiAodGhpcy5vYmplY3RDYWNoZS5oYXMob2JqKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JqZWN0Q2FjaGUuZ2V0KG9iaik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmV0ID0gdGhpcy4kdHJhbnNmb3JtKHRoaXMuYW5hbHl6ZShvYmopKTtcbiAgICAgICAgdGhpcy5vYmplY3RDYWNoZS5zZXQob2JqLCByZXQpO1xuICAgICAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgdm9pZCByZXQudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBpdCBzeW5jaHJvbm91cyBmb3IgZnV0dXJlIHJlcXVlc3RzXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3RDYWNoZS5zZXQob2JqLCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBhbmFseXplKG0pIHtcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBsZXQgaXNSZWdpc3RyeTtcbiAgICAgICAgbGV0IGlzQ29uc3RydWN0YWJsZTtcbiAgICAgICAgbGV0IGRlZmluaXRpb25zO1xuICAgICAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiAodmFsdWUgPSBtW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc1JlZ2lzdHJ5ID0gdHlwZW9mIHZhbHVlLnJlZ2lzdGVyID09PSAnZnVuY3Rpb24nO1xuICAgICAgICAgICAgICAgICAgICBpc0NvbnN0cnVjdGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbnMgPSBlbXB0eUFycmF5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIGlzUmVnaXN0cnkgPSB0eXBlb2YgdmFsdWUucmVnaXN0ZXIgPT09ICdmdW5jdGlvbic7XG4gICAgICAgICAgICAgICAgICAgIGlzQ29uc3RydWN0YWJsZSA9IHZhbHVlLnByb3RvdHlwZSAhPT0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9ucyA9IFByb3RvY29sLnJlc291cmNlLmdldEFsbCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbXMucHVzaChuZXcgTW9kdWxlSXRlbShrZXksIHZhbHVlLCBpc1JlZ2lzdHJ5LCBpc0NvbnN0cnVjdGFibGUsIGRlZmluaXRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBbmFseXplZE1vZHVsZShtLCBpdGVtcyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1vZHVsZUxvYWRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtZXJzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBsb2FkKG9iak9yUHJvbWlzZSwgdHJhbnNmb3JtID0gbm9UcmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZXJzID0gdGhpcy50cmFuc2Zvcm1lcnM7XG4gICAgICAgIGxldCB0cmFuc2Zvcm1lciA9IHRyYW5zZm9ybWVycy5nZXQodHJhbnNmb3JtKTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybWVyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVycy5zZXQodHJhbnNmb3JtLCB0cmFuc2Zvcm1lciA9IG5ldyBNb2R1bGVUcmFuc2Zvcm1lcih0cmFuc2Zvcm0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZXIudHJhbnNmb3JtKG9iak9yUHJvbWlzZSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtZXJzLmNsZWFyKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFuYWx5emVkTW9kdWxlIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcsIGl0ZW1zKSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3O1xuICAgICAgICB0aGlzLml0ZW1zID0gaXRlbXM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1vZHVsZUl0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKGtleSwgdmFsdWUsIGlzUmVnaXN0cnksIGlzQ29uc3RydWN0YWJsZSwgZGVmaW5pdGlvbnMpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5pc1JlZ2lzdHJ5ID0gaXNSZWdpc3RyeTtcbiAgICAgICAgdGhpcy5pc0NvbnN0cnVjdGFibGUgPSBpc0NvbnN0cnVjdGFibGU7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnMgPSBkZWZpbml0aW9ucztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2R1bGUtbG9hZGVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/kernel/dist/esm/module-loader.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/kernel/dist/esm/platform.js":
/*!***********************************************************!*\
  !*** ./node_modules/@aurelia/kernel/dist/esm/platform.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"emptyArray\": () => (/* binding */ emptyArray),\n/* harmony export */   \"emptyObject\": () => (/* binding */ emptyObject),\n/* harmony export */   \"noop\": () => (/* binding */ noop),\n/* harmony export */   \"IPlatform\": () => (/* binding */ IPlatform)\n/* harmony export */ });\n/* harmony import */ var _di_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./di.js */ \"./node_modules/@aurelia/kernel/dist/esm/di.js\");\n\n/* eslint-disable @typescript-eslint/no-unsafe-assignment,@typescript-eslint/no-explicit-any */\nconst emptyArray = Object.freeze([]);\nconst emptyObject = Object.freeze({});\n/* eslint-enable @typescript-eslint/no-unsafe-assignment,@typescript-eslint/no-explicit-any */\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction noop() { }\nconst IPlatform = _di_js__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IPlatform');\n//# sourceMappingURL=platform.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEva2VybmVsL2Rpc3QvZXNtL3BsYXRmb3JtLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL2tlcm5lbC9kaXN0L2VzbS9wbGF0Zm9ybS5qcz84YzZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERJIH0gZnJvbSAnLi9kaS5qcyc7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnQsQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuZXhwb3J0IGNvbnN0IGVtcHR5QXJyYXkgPSBPYmplY3QuZnJlZXplKFtdKTtcbmV4cG9ydCBjb25zdCBlbXB0eU9iamVjdCA9IE9iamVjdC5mcmVlemUoe30pO1xuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnQsQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7IH1cbmV4cG9ydCBjb25zdCBJUGxhdGZvcm0gPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lQbGF0Zm9ybScpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxhdGZvcm0uanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/kernel/dist/esm/platform.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/kernel/dist/esm/resource.js":
/*!***********************************************************!*\
  !*** ./node_modules/@aurelia/kernel/dist/esm/resource.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Protocol\": () => (/* binding */ Protocol),\n/* harmony export */   \"fromAnnotationOrDefinitionOrTypeOrDefault\": () => (/* binding */ fromAnnotationOrDefinitionOrTypeOrDefault),\n/* harmony export */   \"fromAnnotationOrTypeOrDefault\": () => (/* binding */ fromAnnotationOrTypeOrDefault),\n/* harmony export */   \"fromDefinitionOrDefault\": () => (/* binding */ fromDefinitionOrDefault)\n/* harmony export */ });\n/* harmony import */ var _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/metadata */ \"./node_modules/@aurelia/metadata/dist/esm/index.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/kernel/dist/esm/platform.js\");\n\n\nconst annotation = {\n    name: 'au:annotation',\n    appendTo(target, key) {\n        const keys = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(annotation.name, target);\n        if (keys === void 0) {\n            _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(annotation.name, [key], target);\n        }\n        else {\n            keys.push(key);\n        }\n    },\n    set(target, prop, value) {\n        _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(annotation.keyFor(prop), value, target);\n    },\n    get(target, prop) {\n        return _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(annotation.keyFor(prop), target);\n    },\n    getKeys(target) {\n        let keys = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(annotation.name, target);\n        if (keys === void 0) {\n            _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(annotation.name, keys = [], target);\n        }\n        return keys;\n    },\n    isKey(key) {\n        return key.startsWith(annotation.name);\n    },\n    keyFor(name, context) {\n        if (context === void 0) {\n            return `${annotation.name}:${name}`;\n        }\n        return `${annotation.name}:${name}:${context}`;\n    },\n};\nconst resource = {\n    name: 'au:resource',\n    appendTo(target, key) {\n        const keys = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(resource.name, target);\n        if (keys === void 0) {\n            _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(resource.name, [key], target);\n        }\n        else {\n            keys.push(key);\n        }\n    },\n    has(target) {\n        return _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.hasOwn(resource.name, target);\n    },\n    getAll(target) {\n        const keys = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(resource.name, target);\n        if (keys === void 0) {\n            return _platform_js__WEBPACK_IMPORTED_MODULE_1__.emptyArray;\n        }\n        else {\n            return keys.map(k => _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(k, target));\n        }\n    },\n    getKeys(target) {\n        let keys = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(resource.name, target);\n        if (keys === void 0) {\n            _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(resource.name, keys = [], target);\n        }\n        return keys;\n    },\n    isKey(key) {\n        return key.startsWith(resource.name);\n    },\n    keyFor(name, context) {\n        if (context === void 0) {\n            return `${resource.name}:${name}`;\n        }\n        return `${resource.name}:${name}:${context}`;\n    },\n};\nconst Protocol = {\n    annotation,\n    resource,\n};\nconst hasOwn = Object.prototype.hasOwnProperty;\n/**\n * The order in which the values are checked:\n * 1. Annotations (usually set by decorators) have the highest priority; they override the definition as well as static properties on the type.\n * 2. Definition properties (usually set by the customElement decorator object literal) come next. They override static properties on the type.\n * 3. Static properties on the type come last. Note that this does not look up the prototype chain (bindables are an exception here, but we do that differently anyway)\n * 4. The default property that is provided last. The function is only called if the default property is needed\n */\nfunction fromAnnotationOrDefinitionOrTypeOrDefault(name, def, Type, getDefault) {\n    let value = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(Protocol.annotation.keyFor(name), Type);\n    if (value === void 0) {\n        value = def[name];\n        if (value === void 0) {\n            value = Type[name];\n            if (value === void 0 || !hasOwn.call(Type, name)) { // First just check the value (common case is faster), but do make sure it doesn't come from the proto chain\n                return getDefault();\n            }\n            return value;\n        }\n        return value;\n    }\n    return value;\n}\n/**\n * The order in which the values are checked:\n * 1. Annotations (usually set by decorators) have the highest priority; they override static properties on the type.\n * 2. Static properties on the typ. Note that this does not look up the prototype chain (bindables are an exception here, but we do that differently anyway)\n * 3. The default property that is provided last. The function is only called if the default property is needed\n */\nfunction fromAnnotationOrTypeOrDefault(name, Type, getDefault) {\n    let value = _aurelia_metadata__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(Protocol.annotation.keyFor(name), Type);\n    if (value === void 0) {\n        value = Type[name];\n        if (value === void 0 || !hasOwn.call(Type, name)) { // First just check the value (common case is faster), but do make sure it doesn't come from the proto chain\n            return getDefault();\n        }\n        return value;\n    }\n    return value;\n}\n/**\n * The order in which the values are checked:\n * 1. Definition properties.\n * 2. The default property that is provided last. The function is only called if the default property is needed\n */\nfunction fromDefinitionOrDefault(name, def, getDefault) {\n    const value = def[name];\n    if (value === void 0) {\n        return getDefault();\n    }\n    return value;\n}\n//# sourceMappingURL=resource.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEva2VybmVsL2Rpc3QvZXNtL3Jlc291cmNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL2tlcm5lbC9kaXN0L2VzbS9yZXNvdXJjZS5qcz84NjkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1ldGFkYXRhIH0gZnJvbSAnQGF1cmVsaWEvbWV0YWRhdGEnO1xuaW1wb3J0IHsgZW1wdHlBcnJheSB9IGZyb20gJy4vcGxhdGZvcm0uanMnO1xuY29uc3QgYW5ub3RhdGlvbiA9IHtcbiAgICBuYW1lOiAnYXU6YW5ub3RhdGlvbicsXG4gICAgYXBwZW5kVG8odGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE1ldGFkYXRhLmdldE93bihhbm5vdGF0aW9uLm5hbWUsIHRhcmdldCk7XG4gICAgICAgIGlmIChrZXlzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlZmluZShhbm5vdGF0aW9uLm5hbWUsIFtrZXldLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgIE1ldGFkYXRhLmRlZmluZShhbm5vdGF0aW9uLmtleUZvcihwcm9wKSwgdmFsdWUsIHRhcmdldCk7XG4gICAgfSxcbiAgICBnZXQodGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgIHJldHVybiBNZXRhZGF0YS5nZXRPd24oYW5ub3RhdGlvbi5rZXlGb3IocHJvcCksIHRhcmdldCk7XG4gICAgfSxcbiAgICBnZXRLZXlzKHRhcmdldCkge1xuICAgICAgICBsZXQga2V5cyA9IE1ldGFkYXRhLmdldE93bihhbm5vdGF0aW9uLm5hbWUsIHRhcmdldCk7XG4gICAgICAgIGlmIChrZXlzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlZmluZShhbm5vdGF0aW9uLm5hbWUsIGtleXMgPSBbXSwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9LFxuICAgIGlzS2V5KGtleSkge1xuICAgICAgICByZXR1cm4ga2V5LnN0YXJ0c1dpdGgoYW5ub3RhdGlvbi5uYW1lKTtcbiAgICB9LFxuICAgIGtleUZvcihuYW1lLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBgJHthbm5vdGF0aW9uLm5hbWV9OiR7bmFtZX1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHthbm5vdGF0aW9uLm5hbWV9OiR7bmFtZX06JHtjb250ZXh0fWA7XG4gICAgfSxcbn07XG5jb25zdCByZXNvdXJjZSA9IHtcbiAgICBuYW1lOiAnYXU6cmVzb3VyY2UnLFxuICAgIGFwcGVuZFRvKHRhcmdldCwga2V5KSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBNZXRhZGF0YS5nZXRPd24ocmVzb3VyY2UubmFtZSwgdGFyZ2V0KTtcbiAgICAgICAgaWYgKGtleXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgTWV0YWRhdGEuZGVmaW5lKHJlc291cmNlLm5hbWUsIFtrZXldLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhhcyh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIE1ldGFkYXRhLmhhc093bihyZXNvdXJjZS5uYW1lLCB0YXJnZXQpO1xuICAgIH0sXG4gICAgZ2V0QWxsKHRhcmdldCkge1xuICAgICAgICBjb25zdCBrZXlzID0gTWV0YWRhdGEuZ2V0T3duKHJlc291cmNlLm5hbWUsIHRhcmdldCk7XG4gICAgICAgIGlmIChrZXlzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBlbXB0eUFycmF5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGtleXMubWFwKGsgPT4gTWV0YWRhdGEuZ2V0T3duKGssIHRhcmdldCkpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRLZXlzKHRhcmdldCkge1xuICAgICAgICBsZXQga2V5cyA9IE1ldGFkYXRhLmdldE93bihyZXNvdXJjZS5uYW1lLCB0YXJnZXQpO1xuICAgICAgICBpZiAoa2V5cyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBNZXRhZGF0YS5kZWZpbmUocmVzb3VyY2UubmFtZSwga2V5cyA9IFtdLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH0sXG4gICAgaXNLZXkoa2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkuc3RhcnRzV2l0aChyZXNvdXJjZS5uYW1lKTtcbiAgICB9LFxuICAgIGtleUZvcihuYW1lLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtyZXNvdXJjZS5uYW1lfToke25hbWV9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7cmVzb3VyY2UubmFtZX06JHtuYW1lfToke2NvbnRleHR9YDtcbiAgICB9LFxufTtcbmV4cG9ydCBjb25zdCBQcm90b2NvbCA9IHtcbiAgICBhbm5vdGF0aW9uLFxuICAgIHJlc291cmNlLFxufTtcbmNvbnN0IGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4vKipcbiAqIFRoZSBvcmRlciBpbiB3aGljaCB0aGUgdmFsdWVzIGFyZSBjaGVja2VkOlxuICogMS4gQW5ub3RhdGlvbnMgKHVzdWFsbHkgc2V0IGJ5IGRlY29yYXRvcnMpIGhhdmUgdGhlIGhpZ2hlc3QgcHJpb3JpdHk7IHRoZXkgb3ZlcnJpZGUgdGhlIGRlZmluaXRpb24gYXMgd2VsbCBhcyBzdGF0aWMgcHJvcGVydGllcyBvbiB0aGUgdHlwZS5cbiAqIDIuIERlZmluaXRpb24gcHJvcGVydGllcyAodXN1YWxseSBzZXQgYnkgdGhlIGN1c3RvbUVsZW1lbnQgZGVjb3JhdG9yIG9iamVjdCBsaXRlcmFsKSBjb21lIG5leHQuIFRoZXkgb3ZlcnJpZGUgc3RhdGljIHByb3BlcnRpZXMgb24gdGhlIHR5cGUuXG4gKiAzLiBTdGF0aWMgcHJvcGVydGllcyBvbiB0aGUgdHlwZSBjb21lIGxhc3QuIE5vdGUgdGhhdCB0aGlzIGRvZXMgbm90IGxvb2sgdXAgdGhlIHByb3RvdHlwZSBjaGFpbiAoYmluZGFibGVzIGFyZSBhbiBleGNlcHRpb24gaGVyZSwgYnV0IHdlIGRvIHRoYXQgZGlmZmVyZW50bHkgYW55d2F5KVxuICogNC4gVGhlIGRlZmF1bHQgcHJvcGVydHkgdGhhdCBpcyBwcm92aWRlZCBsYXN0LiBUaGUgZnVuY3Rpb24gaXMgb25seSBjYWxsZWQgaWYgdGhlIGRlZmF1bHQgcHJvcGVydHkgaXMgbmVlZGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQW5ub3RhdGlvbk9yRGVmaW5pdGlvbk9yVHlwZU9yRGVmYXVsdChuYW1lLCBkZWYsIFR5cGUsIGdldERlZmF1bHQpIHtcbiAgICBsZXQgdmFsdWUgPSBNZXRhZGF0YS5nZXRPd24oUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IobmFtZSksIFR5cGUpO1xuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHZhbHVlID0gZGVmW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdmFsdWUgPSBUeXBlW25hbWVdO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDAgfHwgIWhhc093bi5jYWxsKFR5cGUsIG5hbWUpKSB7IC8vIEZpcnN0IGp1c3QgY2hlY2sgdGhlIHZhbHVlIChjb21tb24gY2FzZSBpcyBmYXN0ZXIpLCBidXQgZG8gbWFrZSBzdXJlIGl0IGRvZXNuJ3QgY29tZSBmcm9tIHRoZSBwcm90byBjaGFpblxuICAgICAgICAgICAgICAgIHJldHVybiBnZXREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIFRoZSBvcmRlciBpbiB3aGljaCB0aGUgdmFsdWVzIGFyZSBjaGVja2VkOlxuICogMS4gQW5ub3RhdGlvbnMgKHVzdWFsbHkgc2V0IGJ5IGRlY29yYXRvcnMpIGhhdmUgdGhlIGhpZ2hlc3QgcHJpb3JpdHk7IHRoZXkgb3ZlcnJpZGUgc3RhdGljIHByb3BlcnRpZXMgb24gdGhlIHR5cGUuXG4gKiAyLiBTdGF0aWMgcHJvcGVydGllcyBvbiB0aGUgdHlwLiBOb3RlIHRoYXQgdGhpcyBkb2VzIG5vdCBsb29rIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4gKGJpbmRhYmxlcyBhcmUgYW4gZXhjZXB0aW9uIGhlcmUsIGJ1dCB3ZSBkbyB0aGF0IGRpZmZlcmVudGx5IGFueXdheSlcbiAqIDMuIFRoZSBkZWZhdWx0IHByb3BlcnR5IHRoYXQgaXMgcHJvdmlkZWQgbGFzdC4gVGhlIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIGlmIHRoZSBkZWZhdWx0IHByb3BlcnR5IGlzIG5lZWRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUFubm90YXRpb25PclR5cGVPckRlZmF1bHQobmFtZSwgVHlwZSwgZ2V0RGVmYXVsdCkge1xuICAgIGxldCB2YWx1ZSA9IE1ldGFkYXRhLmdldE93bihQcm90b2NvbC5hbm5vdGF0aW9uLmtleUZvcihuYW1lKSwgVHlwZSk7XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgdmFsdWUgPSBUeXBlW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCB8fCAhaGFzT3duLmNhbGwoVHlwZSwgbmFtZSkpIHsgLy8gRmlyc3QganVzdCBjaGVjayB0aGUgdmFsdWUgKGNvbW1vbiBjYXNlIGlzIGZhc3RlciksIGJ1dCBkbyBtYWtlIHN1cmUgaXQgZG9lc24ndCBjb21lIGZyb20gdGhlIHByb3RvIGNoYWluXG4gICAgICAgICAgICByZXR1cm4gZ2V0RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBUaGUgb3JkZXIgaW4gd2hpY2ggdGhlIHZhbHVlcyBhcmUgY2hlY2tlZDpcbiAqIDEuIERlZmluaXRpb24gcHJvcGVydGllcy5cbiAqIDIuIFRoZSBkZWZhdWx0IHByb3BlcnR5IHRoYXQgaXMgcHJvdmlkZWQgbGFzdC4gVGhlIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIGlmIHRoZSBkZWZhdWx0IHByb3BlcnR5IGlzIG5lZWRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbURlZmluaXRpb25PckRlZmF1bHQobmFtZSwgZGVmLCBnZXREZWZhdWx0KSB7XG4gICAgY29uc3QgdmFsdWUgPSBkZWZbbmFtZV07XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIGdldERlZmF1bHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2UuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/kernel/dist/esm/resource.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/metadata/dist/esm/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@aurelia/metadata/dist/esm/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isObject\": () => (/* binding */ isObject),\n/* harmony export */   \"isNullOrUndefined\": () => (/* binding */ isNullOrUndefined),\n/* harmony export */   \"metadata\": () => (/* binding */ metadata),\n/* harmony export */   \"Metadata\": () => (/* binding */ Metadata),\n/* harmony export */   \"applyMetadataPolyfill\": () => (/* binding */ applyMetadataPolyfill)\n/* harmony export */ });\n/**\n * Determine whether a value is an object.\n *\n * Uses `typeof` to guarantee this works cross-realm, which is where `instanceof Object` might fail.\n *\n * Some environments where these issues are known to arise:\n * - same-origin iframes (accessing the other realm via `window.top`)\n * - `jest`.\n *\n * The exact test is:\n * ```ts\n * typeof value === 'object' && value !== null || typeof value === 'function'\n * ```\n *\n * @param value - The value to test.\n * @returns `true` if the value is an object, otherwise `false`.\n * Also performs a type assertion that defaults to `value is Object | Function` which, if the input type is a union with an object type, will infer the correct type.\n * This can be overridden with the generic type argument.\n *\n * @example\n *\n * ```ts\n * class Foo {\n *   bar = 42;\n * }\n *\n * function doStuff(input?: Foo | null) {\n *   input.bar; // Object is possibly 'null' or 'undefined'\n *\n *   // input has an object type in its union (Foo) so that type will be extracted for the 'true' condition\n *   if (isObject(input)) {\n *     input.bar; // OK (input is now typed as Foo)\n *   }\n * }\n *\n * function doOtherStuff(input: unknown) {\n *   input.bar; // Object is of type 'unknown'\n *\n *   // input is 'unknown' so there is no union type to match and it will default to 'Object | Function'\n *   if (isObject(input)) {\n *     input.bar; // Property 'bar' does not exist on type 'Object | Function'\n *   }\n *\n *   // if we know for sure that, if input is an object, it must be a specific type, we can explicitly tell the function to assert that for us\n *   if (isObject<Foo>(input)) {\n *    input.bar; // OK (input is now typed as Foo)\n *   }\n * }\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isObject(value) {\n    return typeof value === 'object' && value !== null || typeof value === 'function';\n}\n/**\n * Determine whether a value is `null` or `undefined`.\n *\n * @param value - The value to test.\n * @returns `true` if the value is `null` or `undefined`, otherwise `false`.\n * Also performs a type assertion that ensures TypeScript treats the value appropriately in the `if` and `else` branches after this check.\n */\nfunction isNullOrUndefined(value) {\n    return value === null || value === void 0;\n}\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/ban-types */\nconst metadataInternalSlot = new WeakMap();\nfunction $typeError(operation, args, paramName, actualValue, expectedType) {\n    return new TypeError(`${operation}(${args.map(String).join(',')}) - Expected '${paramName}' to be of type ${expectedType}, but got: ${Object.prototype.toString.call(actualValue)} (${String(actualValue)})`);\n}\nfunction toPropertyKeyOrUndefined(propertyKey) {\n    switch (typeof propertyKey) {\n        case 'undefined':\n        case 'string':\n        case 'symbol':\n            return propertyKey;\n        default:\n            return `${propertyKey}`;\n    }\n}\nfunction toPropertyKey(propertyKey) {\n    switch (typeof propertyKey) {\n        case 'string':\n        case 'symbol':\n            return propertyKey;\n        default:\n            return `${propertyKey}`;\n    }\n}\nfunction ensurePropertyKeyOrUndefined(propertyKey) {\n    switch (typeof propertyKey) {\n        case 'undefined':\n        case 'string':\n        case 'symbol':\n            return propertyKey;\n        default:\n            throw new TypeError(`Invalid metadata propertyKey: ${propertyKey}.`);\n    }\n}\nfunction GetOrCreateMetadataMap(O, P, Create) {\n    // 1. Assert: P is undefined or IsPropertyKey(P) is true.\n    // 2. Let targetMetadata be the value of O's [[Metadata]] internal slot.\n    let targetMetadata = metadataInternalSlot.get(O);\n    // 3. If targetMetadata is undefined, then\n    if (targetMetadata === void 0) {\n        // 3. a. If Create is false, return undefined.\n        if (!Create) {\n            return void 0;\n        }\n        // 3. b. Set targetMetadata to be a newly created Map object.\n        targetMetadata = new Map();\n        // 3. c. Set the [[Metadata]] internal slot of O to targetMetadata.\n        metadataInternalSlot.set(O, targetMetadata);\n    }\n    // 4. Let metadataMap be ? Invoke(targetMetadata, \"get\", P).\n    let metadataMap = targetMetadata.get(P);\n    // 5. If metadataMap is undefined, then\n    if (metadataMap === void 0) {\n        // 5. a. If Create is false, return undefined.\n        if (!Create) {\n            return void 0;\n        }\n        // 5. b. Set metadataMap to be a newly created Map object.\n        metadataMap = new Map();\n        // 5. c. Perform ? Invoke(targetMetadata, \"set\", P, metadataMap).\n        targetMetadata.set(P, metadataMap);\n    }\n    // 6. Return metadataMap.\n    return metadataMap;\n}\n// 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n// https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\nfunction OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n    // 1. Assert: P is undefined or IsPropertyKey(P) is true.\n    // 2. Let metadataMap be ? GetOrCreateMetadataMap(O, P, false).\n    const metadataMap = GetOrCreateMetadataMap(O, P, /* Create */ false);\n    // 3. If metadataMap is undefined, return false.\n    if (metadataMap === void 0) {\n        return false;\n    }\n    // 4. Return ? ToBoolean(? Invoke(metadataMap, \"has\", MetadataKey)).\n    return metadataMap.has(MetadataKey);\n}\n// 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n// https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\nfunction OrdinaryHasMetadata(MetadataKey, O, P) {\n    // 1. Assert: P is undefined or IsPropertyKey(P) is true.\n    // 2. Let hasOwn be ? OrdinaryHasOwnMetadata(MetadataKey, O, P).\n    // 3. If hasOwn is true, return true.\n    if (OrdinaryHasOwnMetadata(MetadataKey, O, P)) {\n        return true;\n    }\n    // 4. Let parent be ? O.[[GetPrototypeOf]]().\n    const parent = Object.getPrototypeOf(O);\n    // 5. If parent is not null, Return ? parent.[[HasMetadata]](MetadataKey, P).\n    if (parent !== null) {\n        return OrdinaryHasMetadata(MetadataKey, parent, P);\n    }\n    // 6. Return false.\n    return false;\n}\n// 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n// https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\nfunction OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n    // 1. Assert: P is undefined or IsPropertyKey(P) is true.\n    // 2. Let metadataMap be ? GetOrCreateMetadataMap(O, P, false).\n    const metadataMap = GetOrCreateMetadataMap(O, P, /* Create */ false);\n    // 3. If metadataMap is undefined, return undefined.\n    if (metadataMap === void 0) {\n        return void 0;\n    }\n    // 4. Return ? Invoke(metadataMap, \"get\", MetadataKey).\n    return metadataMap.get(MetadataKey);\n}\n// 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n// https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\nfunction OrdinaryGetMetadata(MetadataKey, O, P) {\n    // 1. Assert: P is undefined or IsPropertyKey(P) is true.\n    // 2. Let hasOwn be ? OrdinaryHasOwnMetadata(MetadataKey, O, P).\n    // 3. If hasOwn is true, return ? OrdinaryGetOwnMetadata(MetadataKey, O, P).\n    if (OrdinaryHasOwnMetadata(MetadataKey, O, P)) {\n        return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n    }\n    // 4. Let parent be ? O.[[GetPrototypeOf]]().\n    const parent = Object.getPrototypeOf(O);\n    // 5. If parent is not null, return ? parent.[[GetMetadata]](MetadataKey, P).\n    if (parent !== null) {\n        return OrdinaryGetMetadata(MetadataKey, parent, P);\n    }\n    // 6. Return undefined.\n    return void 0;\n}\n// 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n// https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\nfunction OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n    // 1. Assert: P is undefined or IsPropertyKey(P) is true.\n    // 2. Let metadataMap be ? GetOrCreateMetadataMap(O, P, true).\n    const metadataMap = GetOrCreateMetadataMap(O, P, /* Create */ true);\n    // 3. Return ? Invoke(metadataMap, \"set\", MetadataKey, MetadataValue).\n    metadataMap.set(MetadataKey, MetadataValue);\n}\n// 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n// https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\nfunction OrdinaryOwnMetadataKeys(O, P) {\n    // 1. Assert: P is undefined or IsPropertyKey(P) is true.\n    // 2. Let keys be ? ArrayCreate(0).\n    const keys = [];\n    // 3. Let metadataMap be ? GetOrCreateMetadataMap(O, P, false).\n    const metadataMap = GetOrCreateMetadataMap(O, P, /* Create */ false);\n    // 4. If metadataMap is undefined, return keys.\n    if (metadataMap === void 0) {\n        return keys;\n    }\n    // 5. Let keysObj be ? Invoke(metadataMap, \"keys\").\n    const keysObj = metadataMap.keys();\n    // 6. Let iterator be ? GetIterator(keysObj).\n    // 7. Let k be 0.\n    let k = 0;\n    // 8. Repeat\n    for (const key of keysObj) {\n        // 8. a. Let Pk be ! ToString(k).\n        // 8. b. Let next be ? IteratorStep(iterator).\n        // 8. c. If next is false, then\n        // 8. c. i. Let setStatus be ? Set(keys, \"length\", k, true).\n        // 8. c. ii. Assert: setStatus is true.\n        // 8. c. iii. Return keys.\n        // 8. d. Let nextValue be ? IteratorValue(next).\n        // 8. e. Let defineStatus be CreateDataPropertyOrThrow(keys, Pk, nextValue).\n        keys[k] = key;\n        // 8. f. If defineStatus is an abrupt completion, return ? IteratorClose(iterator, defineStatus).\n        // 8. g. Increase k by 1.\n        ++k;\n    }\n    return keys;\n}\n// 3.1.6.1 OrdinaryMetadataKeys(O, P)\n// https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\nfunction OrdinaryMetadataKeys(O, P) {\n    // 1. Assert: P is undefined or IsPropertyKey(P) is true.\n    // 2. Let ownKeys be ? OrdinaryOwnMetadataKeys(O, P).\n    const ownKeys = OrdinaryOwnMetadataKeys(O, P);\n    // 3. Let parent be ? O.[[GetPrototypeOf]]().\n    const parent = Object.getPrototypeOf(O);\n    // 4. If parent is null, then return ownKeys.\n    if (parent === null) {\n        return ownKeys;\n    }\n    // 5. Let parentKeys be ? O.[[OrdinaryMetadataKeys]](P).\n    const parentKeys = OrdinaryMetadataKeys(parent, P);\n    // 6. Let ownKeysLen = ? Get(ownKeys, \"length\").\n    const ownKeysLen = ownKeys.length;\n    // 7. If ownKeysLen is 0, return parentKeys.\n    if (ownKeysLen === 0) {\n        return parentKeys;\n    }\n    // 8. Let parentKeysLen = ? Get(parentKeys, \"length\").\n    const parentKeysLen = parentKeys.length;\n    // 9. If parentKeysLen is 0, return ownKeys.\n    if (parentKeysLen === 0) {\n        return ownKeys;\n    }\n    // 10. Let set be a newly created Set object.\n    const set = new Set();\n    // 11. Let keys be ? ArrayCreate(0).\n    const keys = [];\n    // 12. Let k be 0.\n    let k = 0;\n    // 13. For each element key of ownKeys\n    let key;\n    for (let i = 0; i < ownKeysLen; ++i) {\n        key = ownKeys[i];\n        // 13. a. Let hasKey be ? Invoke(set, \"has\", key).\n        // 13. b. If hasKey is false, then\n        if (!set.has(key)) {\n            // 13. b. i. Let Pk be ! ToString(k).\n            // 13. b. ii. Perform ? Invoke(set, \"add\", key).\n            set.add(key);\n            // 13. b. iii. Let defineStatus be CreateDataProperty(keys, Pk, key).\n            // 13. b. iv. Assert: defineStatus is true.\n            keys[k] = key;\n            // 13. b. v. Increase k by 1.\n            ++k;\n        }\n    }\n    // 14. For each element key of parentKeys\n    for (let i = 0; i < parentKeysLen; ++i) {\n        key = parentKeys[i];\n        // 14. a. Let hasKey be ? Invoke(set, \"has\", key).\n        // 14. b. If hasKey is false, then\n        if (!set.has(key)) {\n            // 14. b. i. Let Pk be ! ToString(k).\n            // 14. b. ii. Perform ? Invoke(set, \"add\", key).\n            set.add(key);\n            // 14. b. iii. Let defineStatus be CreateDataProperty(keys, Pk, key).\n            // 14. b. iv. Assert: defineStatus is true.\n            keys[k] = key;\n            // 14. b. v. Increase k by 1.\n            ++k;\n        }\n    }\n    // 15. Perform ? Set(keys, \"length\", k).\n    // 16. return keys.\n    return keys;\n}\n// 3.1.8 DeleteMetadata(MetadataKey, P)\n// https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots-deletemetadata\nfunction OrdinaryDeleteMetadata(O, MetadataKey, P) {\n    // 1. Assert: P is undefined or IsPropertyKey(P) is true.\n    // 2. Let metadataMap be ? GetOrCreateMetadataMap(O, P, false).\n    const metadataMap = GetOrCreateMetadataMap(O, P, false);\n    // 3. If metadataMap is undefined, return false.\n    if (metadataMap === void 0) {\n        return false;\n    }\n    // 4. Return ? Invoke(metadataMap, \"delete\", MetadataKey).\n    return metadataMap.delete(MetadataKey);\n}\n// 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n// https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n/**\n * A default metadata decorator factory that can be used on a class, class member, or parameter.\n *\n * @param metadataKey - The key for the metadata entry.\n * If `metadataKey` is already defined for the target and target key, the\n * metadataValue for that key will be overwritten.\n * @param metadataValue - The value for the metadata entry.\n * @returns A decorator function.\n */\nfunction metadata(metadataKey, metadataValue) {\n    function decorator(target, propertyKey) {\n        // 1. Assert: F has a [[MetadataKey]] internal slot whose value is an ECMAScript language value, or undefined.\n        // 2. Assert: F has a [[MetadataValue]] internal slot whose value is an ECMAScript language value, or undefined.\n        // 3. If Type(target) is not Object, throw a TypeError exception.\n        if (!isObject(target)) {\n            throw $typeError('@metadata', [metadataKey, metadataValue, target, propertyKey], 'target', target, 'Object or Function');\n        }\n        // 4. If key is not undefined and IsPropertyKey(key) is false, throw a TypeError exception.\n        // 5. Let metadataKey be the value of F's [[MetadataKey]] internal slot.\n        // 6. Let metadataValue be the value of F's [[MetadataValue]] internal slot.\n        // 7. Perform ? target.[[DefineMetadata]](metadataKey, metadataValue, target, key).\n        OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, ensurePropertyKeyOrUndefined(propertyKey));\n        // 8. Return undefined.\n    }\n    return decorator;\n}\nfunction decorate(decorators, target, propertyKey, attributes) {\n    if (propertyKey !== void 0) {\n        if (!Array.isArray(decorators)) {\n            throw $typeError('Metadata.decorate', [decorators, target, propertyKey, attributes], 'decorators', decorators, 'Array');\n        }\n        if (!isObject(target)) {\n            throw $typeError('Metadata.decorate', [decorators, target, propertyKey, attributes], 'target', target, 'Object or Function');\n        }\n        if (!isObject(attributes) && !isNullOrUndefined(attributes)) {\n            throw $typeError('Metadata.decorate', [decorators, target, propertyKey, attributes], 'attributes', attributes, 'Object, Function, null, or undefined');\n        }\n        if (attributes === null) {\n            attributes = void 0;\n        }\n        propertyKey = toPropertyKey(propertyKey);\n        return DecorateProperty(decorators, target, propertyKey, attributes);\n    }\n    else {\n        if (!Array.isArray(decorators)) {\n            throw $typeError('Metadata.decorate', [decorators, target, propertyKey, attributes], 'decorators', decorators, 'Array');\n        }\n        if (typeof target !== 'function') {\n            throw $typeError('Metadata.decorate', [decorators, target, propertyKey, attributes], 'target', target, 'Function');\n        }\n        return DecorateConstructor(decorators, target);\n    }\n}\nfunction DecorateConstructor(decorators, target) {\n    for (let i = decorators.length - 1; i >= 0; --i) {\n        const decorator = decorators[i];\n        const decorated = decorator(target);\n        if (!isNullOrUndefined(decorated)) {\n            if (typeof decorated !== 'function') {\n                throw $typeError('DecorateConstructor', [decorators, target], 'decorated', decorated, 'Function, null, or undefined');\n            }\n            target = decorated;\n        }\n    }\n    return target;\n}\nfunction DecorateProperty(decorators, target, propertyKey, descriptor) {\n    for (let i = decorators.length - 1; i >= 0; --i) {\n        const decorator = decorators[i];\n        const decorated = decorator(target, propertyKey, descriptor);\n        if (!isNullOrUndefined(decorated)) {\n            if (!isObject(decorated)) {\n                throw $typeError('DecorateProperty', [decorators, target, propertyKey, descriptor], 'decorated', decorated, 'Object, Function, null, or undefined');\n            }\n            descriptor = decorated;\n        }\n    }\n    return descriptor;\n}\nfunction $define(metadataKey, metadataValue, target, propertyKey) {\n    // 1. If Type(target) is not Object, throw a TypeError exception.\n    if (!isObject(target)) {\n        throw $typeError('Metadata.define', [metadataKey, metadataValue, target, propertyKey], 'target', target, 'Object or Function');\n    }\n    // 2. Return ? target.[[DefineMetadata]](metadataKey, metadataValue, propertyKey).\n    return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, toPropertyKeyOrUndefined(propertyKey));\n}\nfunction $has(metadataKey, target, propertyKey) {\n    // 1. If Type(target) is not Object, throw a TypeError exception.\n    if (!isObject(target)) {\n        throw $typeError('Metadata.has', [metadataKey, target, propertyKey], 'target', target, 'Object or Function');\n    }\n    // 2. Return ? target.[[HasMetadata]](metadataKey, propertyKey).\n    return OrdinaryHasMetadata(metadataKey, target, toPropertyKeyOrUndefined(propertyKey));\n}\nfunction $hasOwn(metadataKey, target, propertyKey) {\n    // 1. If Type(target) is not Object, throw a TypeError exception.\n    if (!isObject(target)) {\n        throw $typeError('Metadata.hasOwn', [metadataKey, target, propertyKey], 'target', target, 'Object or Function');\n    }\n    // 2. Return ? target.[[HasOwn]](metadataKey, propertyKey).\n    return OrdinaryHasOwnMetadata(metadataKey, target, toPropertyKeyOrUndefined(propertyKey));\n}\nfunction $get(metadataKey, target, propertyKey) {\n    // 1. If Type(target) is not Object, throw a TypeError exception.\n    if (!isObject(target)) {\n        throw $typeError('Metadata.get', [metadataKey, target, propertyKey], 'target', target, 'Object or Function');\n    }\n    // 2. Return ? target.[[GetMetadata]](metadataKey, propertyKey).\n    return OrdinaryGetMetadata(metadataKey, target, toPropertyKeyOrUndefined(propertyKey));\n}\nfunction $getOwn(metadataKey, target, propertyKey) {\n    // 1. If Type(target) is not Object, throw a TypeError exception.\n    if (!isObject(target)) {\n        throw $typeError('Metadata.getOwn', [metadataKey, target, propertyKey], 'target', target, 'Object or Function');\n    }\n    // 2. Return ? target.[[GetOwnMetadata]](metadataKey, propertyKey).\n    return OrdinaryGetOwnMetadata(metadataKey, target, toPropertyKeyOrUndefined(propertyKey));\n}\nfunction $getKeys(target, propertyKey) {\n    // 1. If Type(target) is not Object, throw a TypeError exception.\n    if (!isObject(target)) {\n        throw $typeError('Metadata.getKeys', [target, propertyKey], 'target', target, 'Object or Function');\n    }\n    // 2. Return ? target.[[GetMetadataKeys]](propertyKey).\n    return OrdinaryMetadataKeys(target, toPropertyKeyOrUndefined(propertyKey));\n}\nfunction $getOwnKeys(target, propertyKey) {\n    // 1. If Type(target) is not Object, throw a TypeError exception.\n    if (!isObject(target)) {\n        throw $typeError('Metadata.getOwnKeys', [target, propertyKey], 'target', target, 'Object or Function');\n    }\n    // 2. Return ? target.[[GetOwnMetadataKeys]](propertyKey).\n    return OrdinaryOwnMetadataKeys(target, toPropertyKeyOrUndefined(propertyKey));\n}\nfunction $delete(metadataKey, target, propertyKey) {\n    // 1. If Type(target) is not Object, throw a TypeError exception.\n    if (!isObject(target)) {\n        throw $typeError('Metadata.delete', [metadataKey, target, propertyKey], 'target', target, 'Object or Function');\n    }\n    // 2. Return ? target.[[DeleteMetadata]](metadataKey, propertyKey).\n    return OrdinaryDeleteMetadata(target, metadataKey, toPropertyKeyOrUndefined(propertyKey));\n}\nconst Metadata = {\n    define: $define,\n    has: $has,\n    hasOwn: $hasOwn,\n    get: $get,\n    getOwn: $getOwn,\n    getKeys: $getKeys,\n    getOwnKeys: $getOwnKeys,\n    delete: $delete,\n};\nfunction def(obj, key, value, writable, configurable) {\n    if (!Reflect.defineProperty(obj, key, {\n        writable,\n        enumerable: false,\n        configurable,\n        value,\n    })) {\n        throw new Error(`Unable to apply metadata polyfill: could not add property '${key}' to the global Reflect object`);\n    }\n}\nconst internalSlotName = '[[$au]]';\nfunction hasInternalSlot(reflect) {\n    return internalSlotName in reflect;\n}\nfunction $applyMetadataPolyfill(reflect, writable, configurable) {\n    def(reflect, internalSlotName, metadataInternalSlot, writable, configurable);\n    def(reflect, 'metadata', metadata, writable, configurable);\n    def(reflect, 'decorate', decorate, writable, configurable);\n    def(reflect, 'defineMetadata', $define, writable, configurable);\n    def(reflect, 'hasMetadata', $has, writable, configurable);\n    def(reflect, 'hasOwnMetadata', $hasOwn, writable, configurable);\n    def(reflect, 'getMetadata', $get, writable, configurable);\n    def(reflect, 'getOwnMetadata', $getOwn, writable, configurable);\n    def(reflect, 'getMetadataKeys', $getKeys, writable, configurable);\n    def(reflect, 'getOwnMetadataKeys', $getOwnKeys, writable, configurable);\n    def(reflect, 'deleteMetadata', $delete, writable, configurable);\n}\nfunction applyMetadataPolyfill(reflect, throwIfConflict = true, forceOverwrite = false, writable = true, configurable = true) {\n    if (hasInternalSlot(reflect)) {\n        if (reflect[internalSlotName] === metadataInternalSlot) {\n            return;\n        }\n        throw new Error(`Conflicting @aurelia/metadata module import detected. Please make sure you have the same version of all Aurelia packages in your dependency tree.`);\n    }\n    const presentProps = [\n        'metadata',\n        'decorate',\n        'defineMetadata',\n        'hasMetadata',\n        'hasOwnMetadata',\n        'getMetadata',\n        'getOwnMetadata',\n        'getMetadataKeys',\n        'getOwnMetadataKeys',\n        'deleteMetadata',\n    ].filter(function (p) {\n        return p in Reflect;\n    });\n    if (presentProps.length > 0) {\n        if (throwIfConflict) {\n            const implementationSummary = presentProps.map(function (p) {\n                const impl = `${Reflect[p].toString().slice(0, 100)}...`;\n                return `${p}:\\n${impl}`;\n            }).join('\\n\\n');\n            throw new Error(`Conflicting reflect.metadata polyfill found. If you have 'reflect-metadata' or any other reflect polyfill imported, please remove it, if not (or if you must use a specific polyfill) please file an issue at https://github.com/aurelia/aurelia/issues so that we can look into compatibility options for this scenario. Implementation summary:\\n\\n${implementationSummary}`);\n        }\n        else if (forceOverwrite) {\n            $applyMetadataPolyfill(reflect, writable, configurable);\n        }\n    }\n    else {\n        $applyMetadataPolyfill(reflect, writable, configurable);\n    }\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvbWV0YWRhdGEvZGlzdC9lc20vaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvbWV0YWRhdGEvZGlzdC9lc20vaW5kZXguanM/NTFlYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIERldGVybWluZSB3aGV0aGVyIGEgdmFsdWUgaXMgYW4gb2JqZWN0LlxuICpcbiAqIFVzZXMgYHR5cGVvZmAgdG8gZ3VhcmFudGVlIHRoaXMgd29ya3MgY3Jvc3MtcmVhbG0sIHdoaWNoIGlzIHdoZXJlIGBpbnN0YW5jZW9mIE9iamVjdGAgbWlnaHQgZmFpbC5cbiAqXG4gKiBTb21lIGVudmlyb25tZW50cyB3aGVyZSB0aGVzZSBpc3N1ZXMgYXJlIGtub3duIHRvIGFyaXNlOlxuICogLSBzYW1lLW9yaWdpbiBpZnJhbWVzIChhY2Nlc3NpbmcgdGhlIG90aGVyIHJlYWxtIHZpYSBgd2luZG93LnRvcGApXG4gKiAtIGBqZXN0YC5cbiAqXG4gKiBUaGUgZXhhY3QgdGVzdCBpczpcbiAqIGBgYHRzXG4gKiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJ1xuICogYGBgXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIHRlc3QuXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlIGlzIGFuIG9iamVjdCwgb3RoZXJ3aXNlIGBmYWxzZWAuXG4gKiBBbHNvIHBlcmZvcm1zIGEgdHlwZSBhc3NlcnRpb24gdGhhdCBkZWZhdWx0cyB0byBgdmFsdWUgaXMgT2JqZWN0IHwgRnVuY3Rpb25gIHdoaWNoLCBpZiB0aGUgaW5wdXQgdHlwZSBpcyBhIHVuaW9uIHdpdGggYW4gb2JqZWN0IHR5cGUsIHdpbGwgaW5mZXIgdGhlIGNvcnJlY3QgdHlwZS5cbiAqIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gd2l0aCB0aGUgZ2VuZXJpYyB0eXBlIGFyZ3VtZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIEZvbyB7XG4gKiAgIGJhciA9IDQyO1xuICogfVxuICpcbiAqIGZ1bmN0aW9uIGRvU3R1ZmYoaW5wdXQ/OiBGb28gfCBudWxsKSB7XG4gKiAgIGlucHV0LmJhcjsgLy8gT2JqZWN0IGlzIHBvc3NpYmx5ICdudWxsJyBvciAndW5kZWZpbmVkJ1xuICpcbiAqICAgLy8gaW5wdXQgaGFzIGFuIG9iamVjdCB0eXBlIGluIGl0cyB1bmlvbiAoRm9vKSBzbyB0aGF0IHR5cGUgd2lsbCBiZSBleHRyYWN0ZWQgZm9yIHRoZSAndHJ1ZScgY29uZGl0aW9uXG4gKiAgIGlmIChpc09iamVjdChpbnB1dCkpIHtcbiAqICAgICBpbnB1dC5iYXI7IC8vIE9LIChpbnB1dCBpcyBub3cgdHlwZWQgYXMgRm9vKVxuICogICB9XG4gKiB9XG4gKlxuICogZnVuY3Rpb24gZG9PdGhlclN0dWZmKGlucHV0OiB1bmtub3duKSB7XG4gKiAgIGlucHV0LmJhcjsgLy8gT2JqZWN0IGlzIG9mIHR5cGUgJ3Vua25vd24nXG4gKlxuICogICAvLyBpbnB1dCBpcyAndW5rbm93bicgc28gdGhlcmUgaXMgbm8gdW5pb24gdHlwZSB0byBtYXRjaCBhbmQgaXQgd2lsbCBkZWZhdWx0IHRvICdPYmplY3QgfCBGdW5jdGlvbidcbiAqICAgaWYgKGlzT2JqZWN0KGlucHV0KSkge1xuICogICAgIGlucHV0LmJhcjsgLy8gUHJvcGVydHkgJ2JhcicgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAnT2JqZWN0IHwgRnVuY3Rpb24nXG4gKiAgIH1cbiAqXG4gKiAgIC8vIGlmIHdlIGtub3cgZm9yIHN1cmUgdGhhdCwgaWYgaW5wdXQgaXMgYW4gb2JqZWN0LCBpdCBtdXN0IGJlIGEgc3BlY2lmaWMgdHlwZSwgd2UgY2FuIGV4cGxpY2l0bHkgdGVsbCB0aGUgZnVuY3Rpb24gdG8gYXNzZXJ0IHRoYXQgZm9yIHVzXG4gKiAgIGlmIChpc09iamVjdDxGb28+KGlucHV0KSkge1xuICogICAgaW5wdXQuYmFyOyAvLyBPSyAoaW5wdXQgaXMgbm93IHR5cGVkIGFzIEZvbylcbiAqICAgfVxuICogfVxuICogYGBgXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIGEgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byB0ZXN0LlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIG90aGVyd2lzZSBgZmFsc2VgLlxuICogQWxzbyBwZXJmb3JtcyBhIHR5cGUgYXNzZXJ0aW9uIHRoYXQgZW5zdXJlcyBUeXBlU2NyaXB0IHRyZWF0cyB0aGUgdmFsdWUgYXBwcm9wcmlhdGVseSBpbiB0aGUgYGlmYCBhbmQgYGVsc2VgIGJyYW5jaGVzIGFmdGVyIHRoaXMgY2hlY2suXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwO1xufVxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xuY29uc3QgbWV0YWRhdGFJbnRlcm5hbFNsb3QgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gJHR5cGVFcnJvcihvcGVyYXRpb24sIGFyZ3MsIHBhcmFtTmFtZSwgYWN0dWFsVmFsdWUsIGV4cGVjdGVkVHlwZSkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKGAke29wZXJhdGlvbn0oJHthcmdzLm1hcChTdHJpbmcpLmpvaW4oJywnKX0pIC0gRXhwZWN0ZWQgJyR7cGFyYW1OYW1lfScgdG8gYmUgb2YgdHlwZSAke2V4cGVjdGVkVHlwZX0sIGJ1dCBnb3Q6ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFjdHVhbFZhbHVlKX0gKCR7U3RyaW5nKGFjdHVhbFZhbHVlKX0pYCk7XG59XG5mdW5jdGlvbiB0b1Byb3BlcnR5S2V5T3JVbmRlZmluZWQocHJvcGVydHlLZXkpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wZXJ0eUtleSkge1xuICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICBjYXNlICdzeW1ib2wnOlxuICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5S2V5O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGAke3Byb3BlcnR5S2V5fWA7XG4gICAgfVxufVxuZnVuY3Rpb24gdG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHByb3BlcnR5S2V5KSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICAgICAgICByZXR1cm4gcHJvcGVydHlLZXk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gYCR7cHJvcGVydHlLZXl9YDtcbiAgICB9XG59XG5mdW5jdGlvbiBlbnN1cmVQcm9wZXJ0eUtleU9yVW5kZWZpbmVkKHByb3BlcnR5S2V5KSB7XG4gICAgc3dpdGNoICh0eXBlb2YgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eUtleTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgbWV0YWRhdGEgcHJvcGVydHlLZXk6ICR7cHJvcGVydHlLZXl9LmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgQ3JlYXRlKSB7XG4gICAgLy8gMS4gQXNzZXJ0OiBQIGlzIHVuZGVmaW5lZCBvciBJc1Byb3BlcnR5S2V5KFApIGlzIHRydWUuXG4gICAgLy8gMi4gTGV0IHRhcmdldE1ldGFkYXRhIGJlIHRoZSB2YWx1ZSBvZiBPJ3MgW1tNZXRhZGF0YV1dIGludGVybmFsIHNsb3QuXG4gICAgbGV0IHRhcmdldE1ldGFkYXRhID0gbWV0YWRhdGFJbnRlcm5hbFNsb3QuZ2V0KE8pO1xuICAgIC8vIDMuIElmIHRhcmdldE1ldGFkYXRhIGlzIHVuZGVmaW5lZCwgdGhlblxuICAgIGlmICh0YXJnZXRNZXRhZGF0YSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIC8vIDMuIGEuIElmIENyZWF0ZSBpcyBmYWxzZSwgcmV0dXJuIHVuZGVmaW5lZC5cbiAgICAgICAgaWYgKCFDcmVhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4gYi4gU2V0IHRhcmdldE1ldGFkYXRhIHRvIGJlIGEgbmV3bHkgY3JlYXRlZCBNYXAgb2JqZWN0LlxuICAgICAgICB0YXJnZXRNZXRhZGF0YSA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gMy4gYy4gU2V0IHRoZSBbW01ldGFkYXRhXV0gaW50ZXJuYWwgc2xvdCBvZiBPIHRvIHRhcmdldE1ldGFkYXRhLlxuICAgICAgICBtZXRhZGF0YUludGVybmFsU2xvdC5zZXQoTywgdGFyZ2V0TWV0YWRhdGEpO1xuICAgIH1cbiAgICAvLyA0LiBMZXQgbWV0YWRhdGFNYXAgYmUgPyBJbnZva2UodGFyZ2V0TWV0YWRhdGEsIFwiZ2V0XCIsIFApLlxuICAgIGxldCBtZXRhZGF0YU1hcCA9IHRhcmdldE1ldGFkYXRhLmdldChQKTtcbiAgICAvLyA1LiBJZiBtZXRhZGF0YU1hcCBpcyB1bmRlZmluZWQsIHRoZW5cbiAgICBpZiAobWV0YWRhdGFNYXAgPT09IHZvaWQgMCkge1xuICAgICAgICAvLyA1LiBhLiBJZiBDcmVhdGUgaXMgZmFsc2UsIHJldHVybiB1bmRlZmluZWQuXG4gICAgICAgIGlmICghQ3JlYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIDUuIGIuIFNldCBtZXRhZGF0YU1hcCB0byBiZSBhIG5ld2x5IGNyZWF0ZWQgTWFwIG9iamVjdC5cbiAgICAgICAgbWV0YWRhdGFNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIDUuIGMuIFBlcmZvcm0gPyBJbnZva2UodGFyZ2V0TWV0YWRhdGEsIFwic2V0XCIsIFAsIG1ldGFkYXRhTWFwKS5cbiAgICAgICAgdGFyZ2V0TWV0YWRhdGEuc2V0KFAsIG1ldGFkYXRhTWFwKTtcbiAgICB9XG4gICAgLy8gNi4gUmV0dXJuIG1ldGFkYXRhTWFwLlxuICAgIHJldHVybiBtZXRhZGF0YU1hcDtcbn1cbi8vIDMuMS4yLjEgT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbi8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5aGFzb3dubWV0YWRhdGFcbmZ1bmN0aW9uIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAvLyAxLiBBc3NlcnQ6IFAgaXMgdW5kZWZpbmVkIG9yIElzUHJvcGVydHlLZXkoUCkgaXMgdHJ1ZS5cbiAgICAvLyAyLiBMZXQgbWV0YWRhdGFNYXAgYmUgPyBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIGZhbHNlKS5cbiAgICBjb25zdCBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLyogQ3JlYXRlICovIGZhbHNlKTtcbiAgICAvLyAzLiBJZiBtZXRhZGF0YU1hcCBpcyB1bmRlZmluZWQsIHJldHVybiBmYWxzZS5cbiAgICBpZiAobWV0YWRhdGFNYXAgPT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIDQuIFJldHVybiA/IFRvQm9vbGVhbig/IEludm9rZShtZXRhZGF0YU1hcCwgXCJoYXNcIiwgTWV0YWRhdGFLZXkpKS5cbiAgICByZXR1cm4gbWV0YWRhdGFNYXAuaGFzKE1ldGFkYXRhS2V5KTtcbn1cbi8vIDMuMS4xLjEgT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbi8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5aGFzbWV0YWRhdGFcbmZ1bmN0aW9uIE9yZGluYXJ5SGFzTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAvLyAxLiBBc3NlcnQ6IFAgaXMgdW5kZWZpbmVkIG9yIElzUHJvcGVydHlLZXkoUCkgaXMgdHJ1ZS5cbiAgICAvLyAyLiBMZXQgaGFzT3duIGJlID8gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCkuXG4gICAgLy8gMy4gSWYgaGFzT3duIGlzIHRydWUsIHJldHVybiB0cnVlLlxuICAgIGlmIChPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gNC4gTGV0IHBhcmVudCBiZSA/IE8uW1tHZXRQcm90b3R5cGVPZl1dKCkuXG4gICAgY29uc3QgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pO1xuICAgIC8vIDUuIElmIHBhcmVudCBpcyBub3QgbnVsbCwgUmV0dXJuID8gcGFyZW50LltbSGFzTWV0YWRhdGFdXShNZXRhZGF0YUtleSwgUCkuXG4gICAgaWYgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgcGFyZW50LCBQKTtcbiAgICB9XG4gICAgLy8gNi4gUmV0dXJuIGZhbHNlLlxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIDMuMS40LjEgT3JkaW5hcnlHZXRPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbi8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5Z2V0b3dubWV0YWRhdGFcbmZ1bmN0aW9uIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAvLyAxLiBBc3NlcnQ6IFAgaXMgdW5kZWZpbmVkIG9yIElzUHJvcGVydHlLZXkoUCkgaXMgdHJ1ZS5cbiAgICAvLyAyLiBMZXQgbWV0YWRhdGFNYXAgYmUgPyBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIGZhbHNlKS5cbiAgICBjb25zdCBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLyogQ3JlYXRlICovIGZhbHNlKTtcbiAgICAvLyAzLiBJZiBtZXRhZGF0YU1hcCBpcyB1bmRlZmluZWQsIHJldHVybiB1bmRlZmluZWQuXG4gICAgaWYgKG1ldGFkYXRhTWFwID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgLy8gNC4gUmV0dXJuID8gSW52b2tlKG1ldGFkYXRhTWFwLCBcImdldFwiLCBNZXRhZGF0YUtleSkuXG4gICAgcmV0dXJuIG1ldGFkYXRhTWFwLmdldChNZXRhZGF0YUtleSk7XG59XG4vLyAzLjEuMy4xIE9yZGluYXJ5R2V0TWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApXG4vLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWdldG1ldGFkYXRhXG5mdW5jdGlvbiBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgLy8gMS4gQXNzZXJ0OiBQIGlzIHVuZGVmaW5lZCBvciBJc1Byb3BlcnR5S2V5KFApIGlzIHRydWUuXG4gICAgLy8gMi4gTGV0IGhhc093biBiZSA/IE9yZGluYXJ5SGFzT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApLlxuICAgIC8vIDMuIElmIGhhc093biBpcyB0cnVlLCByZXR1cm4gPyBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKS5cbiAgICBpZiAoT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCkpIHtcbiAgICAgICAgcmV0dXJuIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApO1xuICAgIH1cbiAgICAvLyA0LiBMZXQgcGFyZW50IGJlID8gTy5bW0dldFByb3RvdHlwZU9mXV0oKS5cbiAgICBjb25zdCBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTyk7XG4gICAgLy8gNS4gSWYgcGFyZW50IGlzIG5vdCBudWxsLCByZXR1cm4gPyBwYXJlbnQuW1tHZXRNZXRhZGF0YV1dKE1ldGFkYXRhS2V5LCBQKS5cbiAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBwYXJlbnQsIFApO1xuICAgIH1cbiAgICAvLyA2LiBSZXR1cm4gdW5kZWZpbmVkLlxuICAgIHJldHVybiB2b2lkIDA7XG59XG4vLyAzLjEuNS4xIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUsIE8sIFApXG4vLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWRlZmluZW93bm1ldGFkYXRhXG5mdW5jdGlvbiBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlLCBPLCBQKSB7XG4gICAgLy8gMS4gQXNzZXJ0OiBQIGlzIHVuZGVmaW5lZCBvciBJc1Byb3BlcnR5S2V5KFApIGlzIHRydWUuXG4gICAgLy8gMi4gTGV0IG1ldGFkYXRhTWFwIGJlID8gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCB0cnVlKS5cbiAgICBjb25zdCBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLyogQ3JlYXRlICovIHRydWUpO1xuICAgIC8vIDMuIFJldHVybiA/IEludm9rZShtZXRhZGF0YU1hcCwgXCJzZXRcIiwgTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUpLlxuICAgIG1ldGFkYXRhTWFwLnNldChNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSk7XG59XG4vLyAzLjEuNy4xIE9yZGluYXJ5T3duTWV0YWRhdGFLZXlzKE8sIFApXG4vLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeW93bm1ldGFkYXRha2V5c1xuZnVuY3Rpb24gT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUCkge1xuICAgIC8vIDEuIEFzc2VydDogUCBpcyB1bmRlZmluZWQgb3IgSXNQcm9wZXJ0eUtleShQKSBpcyB0cnVlLlxuICAgIC8vIDIuIExldCBrZXlzIGJlID8gQXJyYXlDcmVhdGUoMCkuXG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIC8vIDMuIExldCBtZXRhZGF0YU1hcCBiZSA/IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgZmFsc2UpLlxuICAgIGNvbnN0IG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKiBDcmVhdGUgKi8gZmFsc2UpO1xuICAgIC8vIDQuIElmIG1ldGFkYXRhTWFwIGlzIHVuZGVmaW5lZCwgcmV0dXJuIGtleXMuXG4gICAgaWYgKG1ldGFkYXRhTWFwID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgfVxuICAgIC8vIDUuIExldCBrZXlzT2JqIGJlID8gSW52b2tlKG1ldGFkYXRhTWFwLCBcImtleXNcIikuXG4gICAgY29uc3Qga2V5c09iaiA9IG1ldGFkYXRhTWFwLmtleXMoKTtcbiAgICAvLyA2LiBMZXQgaXRlcmF0b3IgYmUgPyBHZXRJdGVyYXRvcihrZXlzT2JqKS5cbiAgICAvLyA3LiBMZXQgayBiZSAwLlxuICAgIGxldCBrID0gMDtcbiAgICAvLyA4LiBSZXBlYXRcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzT2JqKSB7XG4gICAgICAgIC8vIDguIGEuIExldCBQayBiZSAhIFRvU3RyaW5nKGspLlxuICAgICAgICAvLyA4LiBiLiBMZXQgbmV4dCBiZSA/IEl0ZXJhdG9yU3RlcChpdGVyYXRvcikuXG4gICAgICAgIC8vIDguIGMuIElmIG5leHQgaXMgZmFsc2UsIHRoZW5cbiAgICAgICAgLy8gOC4gYy4gaS4gTGV0IHNldFN0YXR1cyBiZSA/IFNldChrZXlzLCBcImxlbmd0aFwiLCBrLCB0cnVlKS5cbiAgICAgICAgLy8gOC4gYy4gaWkuIEFzc2VydDogc2V0U3RhdHVzIGlzIHRydWUuXG4gICAgICAgIC8vIDguIGMuIGlpaS4gUmV0dXJuIGtleXMuXG4gICAgICAgIC8vIDguIGQuIExldCBuZXh0VmFsdWUgYmUgPyBJdGVyYXRvclZhbHVlKG5leHQpLlxuICAgICAgICAvLyA4LiBlLiBMZXQgZGVmaW5lU3RhdHVzIGJlIENyZWF0ZURhdGFQcm9wZXJ0eU9yVGhyb3coa2V5cywgUGssIG5leHRWYWx1ZSkuXG4gICAgICAgIGtleXNba10gPSBrZXk7XG4gICAgICAgIC8vIDguIGYuIElmIGRlZmluZVN0YXR1cyBpcyBhbiBhYnJ1cHQgY29tcGxldGlvbiwgcmV0dXJuID8gSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgZGVmaW5lU3RhdHVzKS5cbiAgICAgICAgLy8gOC4gZy4gSW5jcmVhc2UgayBieSAxLlxuICAgICAgICArK2s7XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xufVxuLy8gMy4xLjYuMSBPcmRpbmFyeU1ldGFkYXRhS2V5cyhPLCBQKVxuLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnltZXRhZGF0YWtleXNcbmZ1bmN0aW9uIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApIHtcbiAgICAvLyAxLiBBc3NlcnQ6IFAgaXMgdW5kZWZpbmVkIG9yIElzUHJvcGVydHlLZXkoUCkgaXMgdHJ1ZS5cbiAgICAvLyAyLiBMZXQgb3duS2V5cyBiZSA/IE9yZGluYXJ5T3duTWV0YWRhdGFLZXlzKE8sIFApLlxuICAgIGNvbnN0IG93bktleXMgPSBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKTtcbiAgICAvLyAzLiBMZXQgcGFyZW50IGJlID8gTy5bW0dldFByb3RvdHlwZU9mXV0oKS5cbiAgICBjb25zdCBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTyk7XG4gICAgLy8gNC4gSWYgcGFyZW50IGlzIG51bGwsIHRoZW4gcmV0dXJuIG93bktleXMuXG4gICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gb3duS2V5cztcbiAgICB9XG4gICAgLy8gNS4gTGV0IHBhcmVudEtleXMgYmUgPyBPLltbT3JkaW5hcnlNZXRhZGF0YUtleXNdXShQKS5cbiAgICBjb25zdCBwYXJlbnRLZXlzID0gT3JkaW5hcnlNZXRhZGF0YUtleXMocGFyZW50LCBQKTtcbiAgICAvLyA2LiBMZXQgb3duS2V5c0xlbiA9ID8gR2V0KG93bktleXMsIFwibGVuZ3RoXCIpLlxuICAgIGNvbnN0IG93bktleXNMZW4gPSBvd25LZXlzLmxlbmd0aDtcbiAgICAvLyA3LiBJZiBvd25LZXlzTGVuIGlzIDAsIHJldHVybiBwYXJlbnRLZXlzLlxuICAgIGlmIChvd25LZXlzTGVuID09PSAwKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnRLZXlzO1xuICAgIH1cbiAgICAvLyA4LiBMZXQgcGFyZW50S2V5c0xlbiA9ID8gR2V0KHBhcmVudEtleXMsIFwibGVuZ3RoXCIpLlxuICAgIGNvbnN0IHBhcmVudEtleXNMZW4gPSBwYXJlbnRLZXlzLmxlbmd0aDtcbiAgICAvLyA5LiBJZiBwYXJlbnRLZXlzTGVuIGlzIDAsIHJldHVybiBvd25LZXlzLlxuICAgIGlmIChwYXJlbnRLZXlzTGVuID09PSAwKSB7XG4gICAgICAgIHJldHVybiBvd25LZXlzO1xuICAgIH1cbiAgICAvLyAxMC4gTGV0IHNldCBiZSBhIG5ld2x5IGNyZWF0ZWQgU2V0IG9iamVjdC5cbiAgICBjb25zdCBzZXQgPSBuZXcgU2V0KCk7XG4gICAgLy8gMTEuIExldCBrZXlzIGJlID8gQXJyYXlDcmVhdGUoMCkuXG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIC8vIDEyLiBMZXQgayBiZSAwLlxuICAgIGxldCBrID0gMDtcbiAgICAvLyAxMy4gRm9yIGVhY2ggZWxlbWVudCBrZXkgb2Ygb3duS2V5c1xuICAgIGxldCBrZXk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvd25LZXlzTGVuOyArK2kpIHtcbiAgICAgICAga2V5ID0gb3duS2V5c1tpXTtcbiAgICAgICAgLy8gMTMuIGEuIExldCBoYXNLZXkgYmUgPyBJbnZva2Uoc2V0LCBcImhhc1wiLCBrZXkpLlxuICAgICAgICAvLyAxMy4gYi4gSWYgaGFzS2V5IGlzIGZhbHNlLCB0aGVuXG4gICAgICAgIGlmICghc2V0LmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAvLyAxMy4gYi4gaS4gTGV0IFBrIGJlICEgVG9TdHJpbmcoaykuXG4gICAgICAgICAgICAvLyAxMy4gYi4gaWkuIFBlcmZvcm0gPyBJbnZva2Uoc2V0LCBcImFkZFwiLCBrZXkpLlxuICAgICAgICAgICAgc2V0LmFkZChrZXkpO1xuICAgICAgICAgICAgLy8gMTMuIGIuIGlpaS4gTGV0IGRlZmluZVN0YXR1cyBiZSBDcmVhdGVEYXRhUHJvcGVydHkoa2V5cywgUGssIGtleSkuXG4gICAgICAgICAgICAvLyAxMy4gYi4gaXYuIEFzc2VydDogZGVmaW5lU3RhdHVzIGlzIHRydWUuXG4gICAgICAgICAgICBrZXlzW2tdID0ga2V5O1xuICAgICAgICAgICAgLy8gMTMuIGIuIHYuIEluY3JlYXNlIGsgYnkgMS5cbiAgICAgICAgICAgICsraztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAxNC4gRm9yIGVhY2ggZWxlbWVudCBrZXkgb2YgcGFyZW50S2V5c1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyZW50S2V5c0xlbjsgKytpKSB7XG4gICAgICAgIGtleSA9IHBhcmVudEtleXNbaV07XG4gICAgICAgIC8vIDE0LiBhLiBMZXQgaGFzS2V5IGJlID8gSW52b2tlKHNldCwgXCJoYXNcIiwga2V5KS5cbiAgICAgICAgLy8gMTQuIGIuIElmIGhhc0tleSBpcyBmYWxzZSwgdGhlblxuICAgICAgICBpZiAoIXNldC5oYXMoa2V5KSkge1xuICAgICAgICAgICAgLy8gMTQuIGIuIGkuIExldCBQayBiZSAhIFRvU3RyaW5nKGspLlxuICAgICAgICAgICAgLy8gMTQuIGIuIGlpLiBQZXJmb3JtID8gSW52b2tlKHNldCwgXCJhZGRcIiwga2V5KS5cbiAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgIC8vIDE0LiBiLiBpaWkuIExldCBkZWZpbmVTdGF0dXMgYmUgQ3JlYXRlRGF0YVByb3BlcnR5KGtleXMsIFBrLCBrZXkpLlxuICAgICAgICAgICAgLy8gMTQuIGIuIGl2LiBBc3NlcnQ6IGRlZmluZVN0YXR1cyBpcyB0cnVlLlxuICAgICAgICAgICAga2V5c1trXSA9IGtleTtcbiAgICAgICAgICAgIC8vIDE0LiBiLiB2LiBJbmNyZWFzZSBrIGJ5IDEuXG4gICAgICAgICAgICArK2s7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gMTUuIFBlcmZvcm0gPyBTZXQoa2V5cywgXCJsZW5ndGhcIiwgaykuXG4gICAgLy8gMTYuIHJldHVybiBrZXlzLlxuICAgIHJldHVybiBrZXlzO1xufVxuLy8gMy4xLjggRGVsZXRlTWV0YWRhdGEoTWV0YWRhdGFLZXksIFApXG4vLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeS1vYmplY3QtaW50ZXJuYWwtbWV0aG9kcy1hbmQtaW50ZXJuYWwtc2xvdHMtZGVsZXRlbWV0YWRhdGFcbmZ1bmN0aW9uIE9yZGluYXJ5RGVsZXRlTWV0YWRhdGEoTywgTWV0YWRhdGFLZXksIFApIHtcbiAgICAvLyAxLiBBc3NlcnQ6IFAgaXMgdW5kZWZpbmVkIG9yIElzUHJvcGVydHlLZXkoUCkgaXMgdHJ1ZS5cbiAgICAvLyAyLiBMZXQgbWV0YWRhdGFNYXAgYmUgPyBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIGZhbHNlKS5cbiAgICBjb25zdCBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgZmFsc2UpO1xuICAgIC8vIDMuIElmIG1ldGFkYXRhTWFwIGlzIHVuZGVmaW5lZCwgcmV0dXJuIGZhbHNlLlxuICAgIGlmIChtZXRhZGF0YU1hcCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gNC4gUmV0dXJuID8gSW52b2tlKG1ldGFkYXRhTWFwLCBcImRlbGV0ZVwiLCBNZXRhZGF0YUtleSkuXG4gICAgcmV0dXJuIG1ldGFkYXRhTWFwLmRlbGV0ZShNZXRhZGF0YUtleSk7XG59XG4vLyA0LjEuMiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKVxuLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jcmVmbGVjdC5tZXRhZGF0YVxuLyoqXG4gKiBBIGRlZmF1bHQgbWV0YWRhdGEgZGVjb3JhdG9yIGZhY3RvcnkgdGhhdCBjYW4gYmUgdXNlZCBvbiBhIGNsYXNzLCBjbGFzcyBtZW1iZXIsIG9yIHBhcmFtZXRlci5cbiAqXG4gKiBAcGFyYW0gbWV0YWRhdGFLZXkgLSBUaGUga2V5IGZvciB0aGUgbWV0YWRhdGEgZW50cnkuXG4gKiBJZiBgbWV0YWRhdGFLZXlgIGlzIGFscmVhZHkgZGVmaW5lZCBmb3IgdGhlIHRhcmdldCBhbmQgdGFyZ2V0IGtleSwgdGhlXG4gKiBtZXRhZGF0YVZhbHVlIGZvciB0aGF0IGtleSB3aWxsIGJlIG92ZXJ3cml0dGVuLlxuICogQHBhcmFtIG1ldGFkYXRhVmFsdWUgLSBUaGUgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBlbnRyeS5cbiAqIEByZXR1cm5zIEEgZGVjb3JhdG9yIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgICBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAvLyAxLiBBc3NlcnQ6IEYgaGFzIGEgW1tNZXRhZGF0YUtleV1dIGludGVybmFsIHNsb3Qgd2hvc2UgdmFsdWUgaXMgYW4gRUNNQVNjcmlwdCBsYW5ndWFnZSB2YWx1ZSwgb3IgdW5kZWZpbmVkLlxuICAgICAgICAvLyAyLiBBc3NlcnQ6IEYgaGFzIGEgW1tNZXRhZGF0YVZhbHVlXV0gaW50ZXJuYWwgc2xvdCB3aG9zZSB2YWx1ZSBpcyBhbiBFQ01BU2NyaXB0IGxhbmd1YWdlIHZhbHVlLCBvciB1bmRlZmluZWQuXG4gICAgICAgIC8vIDMuIElmIFR5cGUodGFyZ2V0KSBpcyBub3QgT2JqZWN0LCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG4gICAgICAgIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgJHR5cGVFcnJvcignQG1ldGFkYXRhJywgW21ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5XSwgJ3RhcmdldCcsIHRhcmdldCwgJ09iamVjdCBvciBGdW5jdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDQuIElmIGtleSBpcyBub3QgdW5kZWZpbmVkIGFuZCBJc1Byb3BlcnR5S2V5KGtleSkgaXMgZmFsc2UsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cbiAgICAgICAgLy8gNS4gTGV0IG1ldGFkYXRhS2V5IGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tNZXRhZGF0YUtleV1dIGludGVybmFsIHNsb3QuXG4gICAgICAgIC8vIDYuIExldCBtZXRhZGF0YVZhbHVlIGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tNZXRhZGF0YVZhbHVlXV0gaW50ZXJuYWwgc2xvdC5cbiAgICAgICAgLy8gNy4gUGVyZm9ybSA/IHRhcmdldC5bW0RlZmluZU1ldGFkYXRhXV0obWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwga2V5KS5cbiAgICAgICAgT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgdGFyZ2V0LCBlbnN1cmVQcm9wZXJ0eUtleU9yVW5kZWZpbmVkKHByb3BlcnR5S2V5KSk7XG4gICAgICAgIC8vIDguIFJldHVybiB1bmRlZmluZWQuXG4gICAgfVxuICAgIHJldHVybiBkZWNvcmF0b3I7XG59XG5mdW5jdGlvbiBkZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKHByb3BlcnR5S2V5ICE9PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGRlY29yYXRvcnMpKSB7XG4gICAgICAgICAgICB0aHJvdyAkdHlwZUVycm9yKCdNZXRhZGF0YS5kZWNvcmF0ZScsIFtkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzXSwgJ2RlY29yYXRvcnMnLCBkZWNvcmF0b3JzLCAnQXJyYXknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93ICR0eXBlRXJyb3IoJ01ldGFkYXRhLmRlY29yYXRlJywgW2RlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGF0dHJpYnV0ZXNdLCAndGFyZ2V0JywgdGFyZ2V0LCAnT2JqZWN0IG9yIEZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc09iamVjdChhdHRyaWJ1dGVzKSAmJiAhaXNOdWxsT3JVbmRlZmluZWQoYXR0cmlidXRlcykpIHtcbiAgICAgICAgICAgIHRocm93ICR0eXBlRXJyb3IoJ01ldGFkYXRhLmRlY29yYXRlJywgW2RlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGF0dHJpYnV0ZXNdLCAnYXR0cmlidXRlcycsIGF0dHJpYnV0ZXMsICdPYmplY3QsIEZ1bmN0aW9uLCBudWxsLCBvciB1bmRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0cmlidXRlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgYXR0cmlidXRlcyA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0eUtleSA9IHRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICByZXR1cm4gRGVjb3JhdGVQcm9wZXJ0eShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkZWNvcmF0b3JzKSkge1xuICAgICAgICAgICAgdGhyb3cgJHR5cGVFcnJvcignTWV0YWRhdGEuZGVjb3JhdGUnLCBbZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlc10sICdkZWNvcmF0b3JzJywgZGVjb3JhdG9ycywgJ0FycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93ICR0eXBlRXJyb3IoJ01ldGFkYXRhLmRlY29yYXRlJywgW2RlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGF0dHJpYnV0ZXNdLCAndGFyZ2V0JywgdGFyZ2V0LCAnRnVuY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRGVjb3JhdGVDb25zdHJ1Y3RvcihkZWNvcmF0b3JzLCB0YXJnZXQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIERlY29yYXRlQ29uc3RydWN0b3IoZGVjb3JhdG9ycywgdGFyZ2V0KSB7XG4gICAgZm9yIChsZXQgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgY29uc3QgZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXTtcbiAgICAgICAgY29uc3QgZGVjb3JhdGVkID0gZGVjb3JhdG9yKHRhcmdldCk7XG4gICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoZGVjb3JhdGVkKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkZWNvcmF0ZWQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAkdHlwZUVycm9yKCdEZWNvcmF0ZUNvbnN0cnVjdG9yJywgW2RlY29yYXRvcnMsIHRhcmdldF0sICdkZWNvcmF0ZWQnLCBkZWNvcmF0ZWQsICdGdW5jdGlvbiwgbnVsbCwgb3IgdW5kZWZpbmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YXJnZXQgPSBkZWNvcmF0ZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIERlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuICAgIGZvciAobGV0IGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIGNvbnN0IGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV07XG4gICAgICAgIGNvbnN0IGRlY29yYXRlZCA9IGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KGRlY29yYXRlZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAkdHlwZUVycm9yKCdEZWNvcmF0ZVByb3BlcnR5JywgW2RlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3JdLCAnZGVjb3JhdGVkJywgZGVjb3JhdGVkLCAnT2JqZWN0LCBGdW5jdGlvbiwgbnVsbCwgb3IgdW5kZWZpbmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXNjcmlwdG9yID0gZGVjb3JhdGVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZXNjcmlwdG9yO1xufVxuZnVuY3Rpb24gJGRlZmluZShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgIC8vIDEuIElmIFR5cGUodGFyZ2V0KSBpcyBub3QgT2JqZWN0LCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG4gICAgaWYgKCFpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgICAgIHRocm93ICR0eXBlRXJyb3IoJ01ldGFkYXRhLmRlZmluZScsIFttZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgdGFyZ2V0LCBwcm9wZXJ0eUtleV0sICd0YXJnZXQnLCB0YXJnZXQsICdPYmplY3Qgb3IgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgLy8gMi4gUmV0dXJuID8gdGFyZ2V0LltbRGVmaW5lTWV0YWRhdGFdXShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgcHJvcGVydHlLZXkpLlxuICAgIHJldHVybiBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHRvUHJvcGVydHlLZXlPclVuZGVmaW5lZChwcm9wZXJ0eUtleSkpO1xufVxuZnVuY3Rpb24gJGhhcyhtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgIC8vIDEuIElmIFR5cGUodGFyZ2V0KSBpcyBub3QgT2JqZWN0LCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG4gICAgaWYgKCFpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgICAgIHRocm93ICR0eXBlRXJyb3IoJ01ldGFkYXRhLmhhcycsIFttZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleV0sICd0YXJnZXQnLCB0YXJnZXQsICdPYmplY3Qgb3IgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgLy8gMi4gUmV0dXJuID8gdGFyZ2V0LltbSGFzTWV0YWRhdGFdXShtZXRhZGF0YUtleSwgcHJvcGVydHlLZXkpLlxuICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHRvUHJvcGVydHlLZXlPclVuZGVmaW5lZChwcm9wZXJ0eUtleSkpO1xufVxuZnVuY3Rpb24gJGhhc093bihtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgIC8vIDEuIElmIFR5cGUodGFyZ2V0KSBpcyBub3QgT2JqZWN0LCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG4gICAgaWYgKCFpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgICAgIHRocm93ICR0eXBlRXJyb3IoJ01ldGFkYXRhLmhhc093bicsIFttZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleV0sICd0YXJnZXQnLCB0YXJnZXQsICdPYmplY3Qgb3IgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgLy8gMi4gUmV0dXJuID8gdGFyZ2V0LltbSGFzT3duXV0obWV0YWRhdGFLZXksIHByb3BlcnR5S2V5KS5cbiAgICByZXR1cm4gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCB0b1Byb3BlcnR5S2V5T3JVbmRlZmluZWQocHJvcGVydHlLZXkpKTtcbn1cbmZ1bmN0aW9uICRnZXQobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAvLyAxLiBJZiBUeXBlKHRhcmdldCkgaXMgbm90IE9iamVjdCwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuICAgIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICB0aHJvdyAkdHlwZUVycm9yKCdNZXRhZGF0YS5nZXQnLCBbbWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXldLCAndGFyZ2V0JywgdGFyZ2V0LCAnT2JqZWN0IG9yIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIC8vIDIuIFJldHVybiA/IHRhcmdldC5bW0dldE1ldGFkYXRhXV0obWV0YWRhdGFLZXksIHByb3BlcnR5S2V5KS5cbiAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCB0b1Byb3BlcnR5S2V5T3JVbmRlZmluZWQocHJvcGVydHlLZXkpKTtcbn1cbmZ1bmN0aW9uICRnZXRPd24obWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAvLyAxLiBJZiBUeXBlKHRhcmdldCkgaXMgbm90IE9iamVjdCwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuICAgIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICB0aHJvdyAkdHlwZUVycm9yKCdNZXRhZGF0YS5nZXRPd24nLCBbbWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXldLCAndGFyZ2V0JywgdGFyZ2V0LCAnT2JqZWN0IG9yIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIC8vIDIuIFJldHVybiA/IHRhcmdldC5bW0dldE93bk1ldGFkYXRhXV0obWV0YWRhdGFLZXksIHByb3BlcnR5S2V5KS5cbiAgICByZXR1cm4gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCB0b1Byb3BlcnR5S2V5T3JVbmRlZmluZWQocHJvcGVydHlLZXkpKTtcbn1cbmZ1bmN0aW9uICRnZXRLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAvLyAxLiBJZiBUeXBlKHRhcmdldCkgaXMgbm90IE9iamVjdCwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuICAgIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICB0aHJvdyAkdHlwZUVycm9yKCdNZXRhZGF0YS5nZXRLZXlzJywgW3RhcmdldCwgcHJvcGVydHlLZXldLCAndGFyZ2V0JywgdGFyZ2V0LCAnT2JqZWN0IG9yIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIC8vIDIuIFJldHVybiA/IHRhcmdldC5bW0dldE1ldGFkYXRhS2V5c11dKHByb3BlcnR5S2V5KS5cbiAgICByZXR1cm4gT3JkaW5hcnlNZXRhZGF0YUtleXModGFyZ2V0LCB0b1Byb3BlcnR5S2V5T3JVbmRlZmluZWQocHJvcGVydHlLZXkpKTtcbn1cbmZ1bmN0aW9uICRnZXRPd25LZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAvLyAxLiBJZiBUeXBlKHRhcmdldCkgaXMgbm90IE9iamVjdCwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuICAgIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICB0aHJvdyAkdHlwZUVycm9yKCdNZXRhZGF0YS5nZXRPd25LZXlzJywgW3RhcmdldCwgcHJvcGVydHlLZXldLCAndGFyZ2V0JywgdGFyZ2V0LCAnT2JqZWN0IG9yIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIC8vIDIuIFJldHVybiA/IHRhcmdldC5bW0dldE93bk1ldGFkYXRhS2V5c11dKHByb3BlcnR5S2V5KS5cbiAgICByZXR1cm4gT3JkaW5hcnlPd25NZXRhZGF0YUtleXModGFyZ2V0LCB0b1Byb3BlcnR5S2V5T3JVbmRlZmluZWQocHJvcGVydHlLZXkpKTtcbn1cbmZ1bmN0aW9uICRkZWxldGUobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAvLyAxLiBJZiBUeXBlKHRhcmdldCkgaXMgbm90IE9iamVjdCwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuICAgIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICB0aHJvdyAkdHlwZUVycm9yKCdNZXRhZGF0YS5kZWxldGUnLCBbbWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXldLCAndGFyZ2V0JywgdGFyZ2V0LCAnT2JqZWN0IG9yIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIC8vIDIuIFJldHVybiA/IHRhcmdldC5bW0RlbGV0ZU1ldGFkYXRhXV0obWV0YWRhdGFLZXksIHByb3BlcnR5S2V5KS5cbiAgICByZXR1cm4gT3JkaW5hcnlEZWxldGVNZXRhZGF0YSh0YXJnZXQsIG1ldGFkYXRhS2V5LCB0b1Byb3BlcnR5S2V5T3JVbmRlZmluZWQocHJvcGVydHlLZXkpKTtcbn1cbmV4cG9ydCBjb25zdCBNZXRhZGF0YSA9IHtcbiAgICBkZWZpbmU6ICRkZWZpbmUsXG4gICAgaGFzOiAkaGFzLFxuICAgIGhhc093bjogJGhhc093bixcbiAgICBnZXQ6ICRnZXQsXG4gICAgZ2V0T3duOiAkZ2V0T3duLFxuICAgIGdldEtleXM6ICRnZXRLZXlzLFxuICAgIGdldE93bktleXM6ICRnZXRPd25LZXlzLFxuICAgIGRlbGV0ZTogJGRlbGV0ZSxcbn07XG5mdW5jdGlvbiBkZWYob2JqLCBrZXksIHZhbHVlLCB3cml0YWJsZSwgY29uZmlndXJhYmxlKSB7XG4gICAgaWYgKCFSZWZsZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHdyaXRhYmxlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlLFxuICAgICAgICB2YWx1ZSxcbiAgICB9KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBhcHBseSBtZXRhZGF0YSBwb2x5ZmlsbDogY291bGQgbm90IGFkZCBwcm9wZXJ0eSAnJHtrZXl9JyB0byB0aGUgZ2xvYmFsIFJlZmxlY3Qgb2JqZWN0YCk7XG4gICAgfVxufVxuY29uc3QgaW50ZXJuYWxTbG90TmFtZSA9ICdbWyRhdV1dJztcbmZ1bmN0aW9uIGhhc0ludGVybmFsU2xvdChyZWZsZWN0KSB7XG4gICAgcmV0dXJuIGludGVybmFsU2xvdE5hbWUgaW4gcmVmbGVjdDtcbn1cbmZ1bmN0aW9uICRhcHBseU1ldGFkYXRhUG9seWZpbGwocmVmbGVjdCwgd3JpdGFibGUsIGNvbmZpZ3VyYWJsZSkge1xuICAgIGRlZihyZWZsZWN0LCBpbnRlcm5hbFNsb3ROYW1lLCBtZXRhZGF0YUludGVybmFsU2xvdCwgd3JpdGFibGUsIGNvbmZpZ3VyYWJsZSk7XG4gICAgZGVmKHJlZmxlY3QsICdtZXRhZGF0YScsIG1ldGFkYXRhLCB3cml0YWJsZSwgY29uZmlndXJhYmxlKTtcbiAgICBkZWYocmVmbGVjdCwgJ2RlY29yYXRlJywgZGVjb3JhdGUsIHdyaXRhYmxlLCBjb25maWd1cmFibGUpO1xuICAgIGRlZihyZWZsZWN0LCAnZGVmaW5lTWV0YWRhdGEnLCAkZGVmaW5lLCB3cml0YWJsZSwgY29uZmlndXJhYmxlKTtcbiAgICBkZWYocmVmbGVjdCwgJ2hhc01ldGFkYXRhJywgJGhhcywgd3JpdGFibGUsIGNvbmZpZ3VyYWJsZSk7XG4gICAgZGVmKHJlZmxlY3QsICdoYXNPd25NZXRhZGF0YScsICRoYXNPd24sIHdyaXRhYmxlLCBjb25maWd1cmFibGUpO1xuICAgIGRlZihyZWZsZWN0LCAnZ2V0TWV0YWRhdGEnLCAkZ2V0LCB3cml0YWJsZSwgY29uZmlndXJhYmxlKTtcbiAgICBkZWYocmVmbGVjdCwgJ2dldE93bk1ldGFkYXRhJywgJGdldE93biwgd3JpdGFibGUsIGNvbmZpZ3VyYWJsZSk7XG4gICAgZGVmKHJlZmxlY3QsICdnZXRNZXRhZGF0YUtleXMnLCAkZ2V0S2V5cywgd3JpdGFibGUsIGNvbmZpZ3VyYWJsZSk7XG4gICAgZGVmKHJlZmxlY3QsICdnZXRPd25NZXRhZGF0YUtleXMnLCAkZ2V0T3duS2V5cywgd3JpdGFibGUsIGNvbmZpZ3VyYWJsZSk7XG4gICAgZGVmKHJlZmxlY3QsICdkZWxldGVNZXRhZGF0YScsICRkZWxldGUsIHdyaXRhYmxlLCBjb25maWd1cmFibGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5TWV0YWRhdGFQb2x5ZmlsbChyZWZsZWN0LCB0aHJvd0lmQ29uZmxpY3QgPSB0cnVlLCBmb3JjZU92ZXJ3cml0ZSA9IGZhbHNlLCB3cml0YWJsZSA9IHRydWUsIGNvbmZpZ3VyYWJsZSA9IHRydWUpIHtcbiAgICBpZiAoaGFzSW50ZXJuYWxTbG90KHJlZmxlY3QpKSB7XG4gICAgICAgIGlmIChyZWZsZWN0W2ludGVybmFsU2xvdE5hbWVdID09PSBtZXRhZGF0YUludGVybmFsU2xvdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29uZmxpY3RpbmcgQGF1cmVsaWEvbWV0YWRhdGEgbW9kdWxlIGltcG9ydCBkZXRlY3RlZC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSB0aGUgc2FtZSB2ZXJzaW9uIG9mIGFsbCBBdXJlbGlhIHBhY2thZ2VzIGluIHlvdXIgZGVwZW5kZW5jeSB0cmVlLmApO1xuICAgIH1cbiAgICBjb25zdCBwcmVzZW50UHJvcHMgPSBbXG4gICAgICAgICdtZXRhZGF0YScsXG4gICAgICAgICdkZWNvcmF0ZScsXG4gICAgICAgICdkZWZpbmVNZXRhZGF0YScsXG4gICAgICAgICdoYXNNZXRhZGF0YScsXG4gICAgICAgICdoYXNPd25NZXRhZGF0YScsXG4gICAgICAgICdnZXRNZXRhZGF0YScsXG4gICAgICAgICdnZXRPd25NZXRhZGF0YScsXG4gICAgICAgICdnZXRNZXRhZGF0YUtleXMnLFxuICAgICAgICAnZ2V0T3duTWV0YWRhdGFLZXlzJyxcbiAgICAgICAgJ2RlbGV0ZU1ldGFkYXRhJyxcbiAgICBdLmZpbHRlcihmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gcCBpbiBSZWZsZWN0O1xuICAgIH0pO1xuICAgIGlmIChwcmVzZW50UHJvcHMubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAodGhyb3dJZkNvbmZsaWN0KSB7XG4gICAgICAgICAgICBjb25zdCBpbXBsZW1lbnRhdGlvblN1bW1hcnkgPSBwcmVzZW50UHJvcHMubWFwKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1wbCA9IGAke1JlZmxlY3RbcF0udG9TdHJpbmcoKS5zbGljZSgwLCAxMDApfS4uLmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke3B9OlxcbiR7aW1wbH1gO1xuICAgICAgICAgICAgfSkuam9pbignXFxuXFxuJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbmZsaWN0aW5nIHJlZmxlY3QubWV0YWRhdGEgcG9seWZpbGwgZm91bmQuIElmIHlvdSBoYXZlICdyZWZsZWN0LW1ldGFkYXRhJyBvciBhbnkgb3RoZXIgcmVmbGVjdCBwb2x5ZmlsbCBpbXBvcnRlZCwgcGxlYXNlIHJlbW92ZSBpdCwgaWYgbm90IChvciBpZiB5b3UgbXVzdCB1c2UgYSBzcGVjaWZpYyBwb2x5ZmlsbCkgcGxlYXNlIGZpbGUgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL2F1cmVsaWEvYXVyZWxpYS9pc3N1ZXMgc28gdGhhdCB3ZSBjYW4gbG9vayBpbnRvIGNvbXBhdGliaWxpdHkgb3B0aW9ucyBmb3IgdGhpcyBzY2VuYXJpby4gSW1wbGVtZW50YXRpb24gc3VtbWFyeTpcXG5cXG4ke2ltcGxlbWVudGF0aW9uU3VtbWFyeX1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3JjZU92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgJGFwcGx5TWV0YWRhdGFQb2x5ZmlsbChyZWZsZWN0LCB3cml0YWJsZSwgY29uZmlndXJhYmxlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgJGFwcGx5TWV0YWRhdGFQb2x5ZmlsbChyZWZsZWN0LCB3cml0YWJsZSwgY29uZmlndXJhYmxlKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/metadata/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/platform-browser/dist/esm/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@aurelia/platform-browser/dist/esm/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BrowserPlatform\": () => (/* binding */ BrowserPlatform)\n/* harmony export */ });\n/* harmony import */ var _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/platform */ \"./node_modules/@aurelia/platform/dist/esm/index.js\");\n\nconst lookup = new Map();\nfunction notImplemented(name) {\n    return function notImplemented() {\n        throw new Error(`The PLATFORM did not receive a valid reference to the global function '${name}'.`); // TODO: link to docs describing how to fix this issue\n    };\n}\nclass BrowserPlatform extends _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__.Platform {\n    constructor(g, overrides = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        super(g, overrides);\n        this.domReadRequested = false;\n        this.domReadHandle = -1;\n        this.domWriteRequested = false;\n        this.domWriteHandle = -1;\n        this.Node = 'Node' in overrides ? overrides.Node : g.Node;\n        this.Element = 'Element' in overrides ? overrides.Element : g.Element;\n        this.HTMLElement = 'HTMLElement' in overrides ? overrides.HTMLElement : g.HTMLElement;\n        this.CustomEvent = 'CustomEvent' in overrides ? overrides.CustomEvent : g.CustomEvent;\n        this.CSSStyleSheet = 'CSSStyleSheet' in overrides ? overrides.CSSStyleSheet : g.CSSStyleSheet;\n        this.ShadowRoot = 'ShadowRoot' in overrides ? overrides.ShadowRoot : g.ShadowRoot;\n        this.MutationObserver = 'MutationObserver' in overrides ? overrides.MutationObserver : g.MutationObserver;\n        this.window = 'window' in overrides ? overrides.window : g.window;\n        this.document = 'document' in overrides ? overrides.document : g.document;\n        this.location = 'location' in overrides ? overrides.location : g.location;\n        this.history = 'history' in overrides ? overrides.history : g.history;\n        this.navigator = 'navigator' in overrides ? overrides.navigator : g.navigator;\n        this.fetch = 'fetch' in overrides ? overrides.fetch : (_b = (_a = g.fetch) === null || _a === void 0 ? void 0 : _a.bind(g)) !== null && _b !== void 0 ? _b : notImplemented('fetch');\n        this.requestAnimationFrame = 'requestAnimationFrame' in overrides ? overrides.requestAnimationFrame : (_d = (_c = g.requestAnimationFrame) === null || _c === void 0 ? void 0 : _c.bind(g)) !== null && _d !== void 0 ? _d : notImplemented('requestAnimationFrame');\n        this.cancelAnimationFrame = 'cancelAnimationFrame' in overrides ? overrides.cancelAnimationFrame : (_f = (_e = g.cancelAnimationFrame) === null || _e === void 0 ? void 0 : _e.bind(g)) !== null && _f !== void 0 ? _f : notImplemented('cancelAnimationFrame');\n        this.customElements = 'customElements' in overrides ? overrides.customElements : g.customElements;\n        this.flushDomRead = this.flushDomRead.bind(this);\n        this.flushDomWrite = this.flushDomWrite.bind(this);\n        this.domReadQueue = new _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__.TaskQueue(this, this.requestDomRead.bind(this), this.cancelDomRead.bind(this));\n        this.domWriteQueue = new _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__.TaskQueue(this, this.requestDomWrite.bind(this), this.cancelDomWrite.bind(this));\n        /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n    }\n    static getOrCreate(g, overrides = {}) {\n        let platform = lookup.get(g);\n        if (platform === void 0) {\n            lookup.set(g, platform = new BrowserPlatform(g, overrides));\n        }\n        return platform;\n    }\n    static set(g, platform) {\n        lookup.set(g, platform);\n    }\n    requestDomRead() {\n        this.domReadRequested = true;\n        // Yes, this is intentional: the timing of the read can only be \"found\" by doing a write first.\n        // The flushDomWrite queues the read.\n        // If/when requestPostAnimationFrame is implemented in browsers, we can use that instead.\n        if (this.domWriteHandle === -1) {\n            this.domWriteHandle = this.requestAnimationFrame(this.flushDomWrite);\n        }\n    }\n    cancelDomRead() {\n        this.domReadRequested = false;\n        if (this.domReadHandle > -1) {\n            this.clearTimeout(this.domReadHandle);\n            this.domReadHandle = -1;\n        }\n        if (this.domWriteRequested === false && this.domWriteHandle > -1) {\n            this.cancelAnimationFrame(this.domWriteHandle);\n            this.domWriteHandle = -1;\n        }\n    }\n    flushDomRead() {\n        this.domReadHandle = -1;\n        if (this.domReadRequested === true) {\n            this.domReadRequested = false;\n            this.domReadQueue.flush();\n        }\n    }\n    requestDomWrite() {\n        this.domWriteRequested = true;\n        if (this.domWriteHandle === -1) {\n            this.domWriteHandle = this.requestAnimationFrame(this.flushDomWrite);\n        }\n    }\n    cancelDomWrite() {\n        this.domWriteRequested = false;\n        if (this.domWriteHandle > -1 &&\n            // if dom read is requested and there is no readHandle yet, we need the rAF to proceed regardless.\n            // The domWriteRequested=false will prevent the read flush from happening.\n            (this.domReadRequested === false || this.domReadHandle > -1)) {\n            this.cancelAnimationFrame(this.domWriteHandle);\n            this.domWriteHandle = -1;\n        }\n    }\n    flushDomWrite() {\n        this.domWriteHandle = -1;\n        if (this.domWriteRequested === true) {\n            this.domWriteRequested = false;\n            this.domWriteQueue.flush();\n        }\n        if (this.domReadRequested === true && this.domReadHandle === -1) {\n            this.domReadHandle = this.setTimeout(this.flushDomRead, 0);\n        }\n    }\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcGxhdGZvcm0tYnJvd3Nlci9kaXN0L2VzbS9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9wbGF0Zm9ybS1icm93c2VyL2Rpc3QvZXNtL2luZGV4LmpzP2QyZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGxhdGZvcm0sIFRhc2tRdWV1ZSB9IGZyb20gJ0BhdXJlbGlhL3BsYXRmb3JtJztcbmNvbnN0IGxvb2t1cCA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIG5vdEltcGxlbWVudGVkKG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbm90SW1wbGVtZW50ZWQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIFBMQVRGT1JNIGRpZCBub3QgcmVjZWl2ZSBhIHZhbGlkIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIGZ1bmN0aW9uICcke25hbWV9Jy5gKTsgLy8gVE9ETzogbGluayB0byBkb2NzIGRlc2NyaWJpbmcgaG93IHRvIGZpeCB0aGlzIGlzc3VlXG4gICAgfTtcbn1cbmV4cG9ydCBjbGFzcyBCcm93c2VyUGxhdGZvcm0gZXh0ZW5kcyBQbGF0Zm9ybSB7XG4gICAgY29uc3RydWN0b3IoZywgb3ZlcnJpZGVzID0ge30pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIHN1cGVyKGcsIG92ZXJyaWRlcyk7XG4gICAgICAgIHRoaXMuZG9tUmVhZFJlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbVJlYWRIYW5kbGUgPSAtMTtcbiAgICAgICAgdGhpcy5kb21Xcml0ZVJlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbVdyaXRlSGFuZGxlID0gLTE7XG4gICAgICAgIHRoaXMuTm9kZSA9ICdOb2RlJyBpbiBvdmVycmlkZXMgPyBvdmVycmlkZXMuTm9kZSA6IGcuTm9kZTtcbiAgICAgICAgdGhpcy5FbGVtZW50ID0gJ0VsZW1lbnQnIGluIG92ZXJyaWRlcyA/IG92ZXJyaWRlcy5FbGVtZW50IDogZy5FbGVtZW50O1xuICAgICAgICB0aGlzLkhUTUxFbGVtZW50ID0gJ0hUTUxFbGVtZW50JyBpbiBvdmVycmlkZXMgPyBvdmVycmlkZXMuSFRNTEVsZW1lbnQgOiBnLkhUTUxFbGVtZW50O1xuICAgICAgICB0aGlzLkN1c3RvbUV2ZW50ID0gJ0N1c3RvbUV2ZW50JyBpbiBvdmVycmlkZXMgPyBvdmVycmlkZXMuQ3VzdG9tRXZlbnQgOiBnLkN1c3RvbUV2ZW50O1xuICAgICAgICB0aGlzLkNTU1N0eWxlU2hlZXQgPSAnQ1NTU3R5bGVTaGVldCcgaW4gb3ZlcnJpZGVzID8gb3ZlcnJpZGVzLkNTU1N0eWxlU2hlZXQgOiBnLkNTU1N0eWxlU2hlZXQ7XG4gICAgICAgIHRoaXMuU2hhZG93Um9vdCA9ICdTaGFkb3dSb290JyBpbiBvdmVycmlkZXMgPyBvdmVycmlkZXMuU2hhZG93Um9vdCA6IGcuU2hhZG93Um9vdDtcbiAgICAgICAgdGhpcy5NdXRhdGlvbk9ic2VydmVyID0gJ011dGF0aW9uT2JzZXJ2ZXInIGluIG92ZXJyaWRlcyA/IG92ZXJyaWRlcy5NdXRhdGlvbk9ic2VydmVyIDogZy5NdXRhdGlvbk9ic2VydmVyO1xuICAgICAgICB0aGlzLndpbmRvdyA9ICd3aW5kb3cnIGluIG92ZXJyaWRlcyA/IG92ZXJyaWRlcy53aW5kb3cgOiBnLndpbmRvdztcbiAgICAgICAgdGhpcy5kb2N1bWVudCA9ICdkb2N1bWVudCcgaW4gb3ZlcnJpZGVzID8gb3ZlcnJpZGVzLmRvY3VtZW50IDogZy5kb2N1bWVudDtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9ICdsb2NhdGlvbicgaW4gb3ZlcnJpZGVzID8gb3ZlcnJpZGVzLmxvY2F0aW9uIDogZy5sb2NhdGlvbjtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gJ2hpc3RvcnknIGluIG92ZXJyaWRlcyA/IG92ZXJyaWRlcy5oaXN0b3J5IDogZy5oaXN0b3J5O1xuICAgICAgICB0aGlzLm5hdmlnYXRvciA9ICduYXZpZ2F0b3InIGluIG92ZXJyaWRlcyA/IG92ZXJyaWRlcy5uYXZpZ2F0b3IgOiBnLm5hdmlnYXRvcjtcbiAgICAgICAgdGhpcy5mZXRjaCA9ICdmZXRjaCcgaW4gb3ZlcnJpZGVzID8gb3ZlcnJpZGVzLmZldGNoIDogKF9iID0gKF9hID0gZy5mZXRjaCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJpbmQoZykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG5vdEltcGxlbWVudGVkKCdmZXRjaCcpO1xuICAgICAgICB0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9ICdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnIGluIG92ZXJyaWRlcyA/IG92ZXJyaWRlcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgOiAoX2QgPSAoX2MgPSBnLnJlcXVlc3RBbmltYXRpb25GcmFtZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmJpbmQoZykpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IG5vdEltcGxlbWVudGVkKCdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKTtcbiAgICAgICAgdGhpcy5jYW5jZWxBbmltYXRpb25GcmFtZSA9ICdjYW5jZWxBbmltYXRpb25GcmFtZScgaW4gb3ZlcnJpZGVzID8gb3ZlcnJpZGVzLmNhbmNlbEFuaW1hdGlvbkZyYW1lIDogKF9mID0gKF9lID0gZy5jYW5jZWxBbmltYXRpb25GcmFtZSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmJpbmQoZykpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IG5vdEltcGxlbWVudGVkKCdjYW5jZWxBbmltYXRpb25GcmFtZScpO1xuICAgICAgICB0aGlzLmN1c3RvbUVsZW1lbnRzID0gJ2N1c3RvbUVsZW1lbnRzJyBpbiBvdmVycmlkZXMgPyBvdmVycmlkZXMuY3VzdG9tRWxlbWVudHMgOiBnLmN1c3RvbUVsZW1lbnRzO1xuICAgICAgICB0aGlzLmZsdXNoRG9tUmVhZCA9IHRoaXMuZmx1c2hEb21SZWFkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZmx1c2hEb21Xcml0ZSA9IHRoaXMuZmx1c2hEb21Xcml0ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRvbVJlYWRRdWV1ZSA9IG5ldyBUYXNrUXVldWUodGhpcywgdGhpcy5yZXF1ZXN0RG9tUmVhZC5iaW5kKHRoaXMpLCB0aGlzLmNhbmNlbERvbVJlYWQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZG9tV3JpdGVRdWV1ZSA9IG5ldyBUYXNrUXVldWUodGhpcywgdGhpcy5yZXF1ZXN0RG9tV3JpdGUuYmluZCh0aGlzKSwgdGhpcy5jYW5jZWxEb21Xcml0ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb24gKi9cbiAgICB9XG4gICAgc3RhdGljIGdldE9yQ3JlYXRlKGcsIG92ZXJyaWRlcyA9IHt9KSB7XG4gICAgICAgIGxldCBwbGF0Zm9ybSA9IGxvb2t1cC5nZXQoZyk7XG4gICAgICAgIGlmIChwbGF0Zm9ybSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBsb29rdXAuc2V0KGcsIHBsYXRmb3JtID0gbmV3IEJyb3dzZXJQbGF0Zm9ybShnLCBvdmVycmlkZXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGxhdGZvcm07XG4gICAgfVxuICAgIHN0YXRpYyBzZXQoZywgcGxhdGZvcm0pIHtcbiAgICAgICAgbG9va3VwLnNldChnLCBwbGF0Zm9ybSk7XG4gICAgfVxuICAgIHJlcXVlc3REb21SZWFkKCkge1xuICAgICAgICB0aGlzLmRvbVJlYWRSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICAvLyBZZXMsIHRoaXMgaXMgaW50ZW50aW9uYWw6IHRoZSB0aW1pbmcgb2YgdGhlIHJlYWQgY2FuIG9ubHkgYmUgXCJmb3VuZFwiIGJ5IGRvaW5nIGEgd3JpdGUgZmlyc3QuXG4gICAgICAgIC8vIFRoZSBmbHVzaERvbVdyaXRlIHF1ZXVlcyB0aGUgcmVhZC5cbiAgICAgICAgLy8gSWYvd2hlbiByZXF1ZXN0UG9zdEFuaW1hdGlvbkZyYW1lIGlzIGltcGxlbWVudGVkIGluIGJyb3dzZXJzLCB3ZSBjYW4gdXNlIHRoYXQgaW5zdGVhZC5cbiAgICAgICAgaWYgKHRoaXMuZG9tV3JpdGVIYW5kbGUgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmRvbVdyaXRlSGFuZGxlID0gdGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5mbHVzaERvbVdyaXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxEb21SZWFkKCkge1xuICAgICAgICB0aGlzLmRvbVJlYWRSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuZG9tUmVhZEhhbmRsZSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyVGltZW91dCh0aGlzLmRvbVJlYWRIYW5kbGUpO1xuICAgICAgICAgICAgdGhpcy5kb21SZWFkSGFuZGxlID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZG9tV3JpdGVSZXF1ZXN0ZWQgPT09IGZhbHNlICYmIHRoaXMuZG9tV3JpdGVIYW5kbGUgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmRvbVdyaXRlSGFuZGxlKTtcbiAgICAgICAgICAgIHRoaXMuZG9tV3JpdGVIYW5kbGUgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmbHVzaERvbVJlYWQoKSB7XG4gICAgICAgIHRoaXMuZG9tUmVhZEhhbmRsZSA9IC0xO1xuICAgICAgICBpZiAodGhpcy5kb21SZWFkUmVxdWVzdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJlYWRSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZG9tUmVhZFF1ZXVlLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVxdWVzdERvbVdyaXRlKCkge1xuICAgICAgICB0aGlzLmRvbVdyaXRlUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuZG9tV3JpdGVIYW5kbGUgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmRvbVdyaXRlSGFuZGxlID0gdGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5mbHVzaERvbVdyaXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxEb21Xcml0ZSgpIHtcbiAgICAgICAgdGhpcy5kb21Xcml0ZVJlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5kb21Xcml0ZUhhbmRsZSA+IC0xICYmXG4gICAgICAgICAgICAvLyBpZiBkb20gcmVhZCBpcyByZXF1ZXN0ZWQgYW5kIHRoZXJlIGlzIG5vIHJlYWRIYW5kbGUgeWV0LCB3ZSBuZWVkIHRoZSByQUYgdG8gcHJvY2VlZCByZWdhcmRsZXNzLlxuICAgICAgICAgICAgLy8gVGhlIGRvbVdyaXRlUmVxdWVzdGVkPWZhbHNlIHdpbGwgcHJldmVudCB0aGUgcmVhZCBmbHVzaCBmcm9tIGhhcHBlbmluZy5cbiAgICAgICAgICAgICh0aGlzLmRvbVJlYWRSZXF1ZXN0ZWQgPT09IGZhbHNlIHx8IHRoaXMuZG9tUmVhZEhhbmRsZSA+IC0xKSkge1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmRvbVdyaXRlSGFuZGxlKTtcbiAgICAgICAgICAgIHRoaXMuZG9tV3JpdGVIYW5kbGUgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmbHVzaERvbVdyaXRlKCkge1xuICAgICAgICB0aGlzLmRvbVdyaXRlSGFuZGxlID0gLTE7XG4gICAgICAgIGlmICh0aGlzLmRvbVdyaXRlUmVxdWVzdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmRvbVdyaXRlUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRvbVdyaXRlUXVldWUuZmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kb21SZWFkUmVxdWVzdGVkID09PSB0cnVlICYmIHRoaXMuZG9tUmVhZEhhbmRsZSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tUmVhZEhhbmRsZSA9IHRoaXMuc2V0VGltZW91dCh0aGlzLmZsdXNoRG9tUmVhZCwgMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/platform-browser/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/platform/dist/esm/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@aurelia/platform/dist/esm/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Platform\": () => (/* binding */ Platform),\n/* harmony export */   \"TaskQueue\": () => (/* binding */ TaskQueue),\n/* harmony export */   \"TaskAbortError\": () => (/* binding */ TaskAbortError),\n/* harmony export */   \"TaskStatus\": () => (/* binding */ TaskStatus),\n/* harmony export */   \"Task\": () => (/* binding */ Task),\n/* harmony export */   \"TaskQueuePriority\": () => (/* binding */ TaskQueuePriority)\n/* harmony export */ });\nconst lookup = new Map();\nfunction notImplemented(name) {\n    return function notImplemented() {\n        throw new Error(`The PLATFORM did not receive a valid reference to the global function '${name}'.`); // TODO: link to docs describing how to fix this issue\n    };\n}\nclass Platform {\n    constructor(g, overrides = {}) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n        this.macroTaskRequested = false;\n        this.macroTaskHandle = -1;\n        this.globalThis = g;\n        this.decodeURI = 'decodeURI' in overrides ? overrides.decodeURI : g.decodeURI;\n        this.decodeURIComponent = 'decodeURIComponent' in overrides ? overrides.decodeURIComponent : g.decodeURIComponent;\n        this.encodeURI = 'encodeURI' in overrides ? overrides.encodeURI : g.encodeURI;\n        this.encodeURIComponent = 'encodeURIComponent' in overrides ? overrides.encodeURIComponent : g.encodeURIComponent;\n        this.Date = 'Date' in overrides ? overrides.Date : g.Date;\n        this.Reflect = 'Reflect' in overrides ? overrides.Reflect : g.Reflect;\n        this.clearInterval = 'clearInterval' in overrides ? overrides.clearInterval : (_b = (_a = g.clearInterval) === null || _a === void 0 ? void 0 : _a.bind(g)) !== null && _b !== void 0 ? _b : notImplemented('clearInterval');\n        this.clearTimeout = 'clearTimeout' in overrides ? overrides.clearTimeout : (_d = (_c = g.clearTimeout) === null || _c === void 0 ? void 0 : _c.bind(g)) !== null && _d !== void 0 ? _d : notImplemented('clearTimeout');\n        this.queueMicrotask = 'queueMicrotask' in overrides ? overrides.queueMicrotask : (_f = (_e = g.queueMicrotask) === null || _e === void 0 ? void 0 : _e.bind(g)) !== null && _f !== void 0 ? _f : notImplemented('queueMicrotask');\n        this.setInterval = 'setInterval' in overrides ? overrides.setInterval : (_h = (_g = g.setInterval) === null || _g === void 0 ? void 0 : _g.bind(g)) !== null && _h !== void 0 ? _h : notImplemented('setInterval');\n        this.setTimeout = 'setTimeout' in overrides ? overrides.setTimeout : (_k = (_j = g.setTimeout) === null || _j === void 0 ? void 0 : _j.bind(g)) !== null && _k !== void 0 ? _k : notImplemented('setTimeout');\n        this.console = 'console' in overrides ? overrides.console : g.console;\n        this.performanceNow = 'performanceNow' in overrides ? overrides.performanceNow : (_o = (_m = (_l = g.performance) === null || _l === void 0 ? void 0 : _l.now) === null || _m === void 0 ? void 0 : _m.bind(g.performance)) !== null && _o !== void 0 ? _o : notImplemented('performance.now');\n        this.flushMacroTask = this.flushMacroTask.bind(this);\n        this.taskQueue = new TaskQueue(this, this.requestMacroTask.bind(this), this.cancelMacroTask.bind(this));\n    }\n    static getOrCreate(g, overrides = {}) {\n        let platform = lookup.get(g);\n        if (platform === void 0) {\n            lookup.set(g, platform = new Platform(g, overrides));\n        }\n        return platform;\n    }\n    static set(g, platform) {\n        lookup.set(g, platform);\n    }\n    requestMacroTask() {\n        this.macroTaskRequested = true;\n        if (this.macroTaskHandle === -1) {\n            this.macroTaskHandle = this.setTimeout(this.flushMacroTask, 0);\n        }\n    }\n    cancelMacroTask() {\n        this.macroTaskRequested = false;\n        if (this.macroTaskHandle > -1) {\n            this.clearTimeout(this.macroTaskHandle);\n            this.macroTaskHandle = -1;\n        }\n    }\n    flushMacroTask() {\n        this.macroTaskHandle = -1;\n        if (this.macroTaskRequested === true) {\n            this.macroTaskRequested = false;\n            this.taskQueue.flush();\n        }\n    }\n}\nfunction isPersistent(task) {\n    return task.persistent;\n}\nclass TaskQueue {\n    constructor(platform, $request, $cancel) {\n        this.platform = platform;\n        this.$request = $request;\n        this.$cancel = $cancel;\n        this.processing = [];\n        this.suspenderTask = void 0;\n        this.pendingAsyncCount = 0;\n        this.pending = [];\n        this.delayed = [];\n        this.flushRequested = false;\n        this.yieldPromise = void 0;\n        this.taskPool = [];\n        this.taskPoolSize = 0;\n        this.lastRequest = 0;\n        this.lastFlush = 0;\n        this.requestFlush = () => {\n            if (this.tracer.enabled) {\n                this.tracer.enter(this, 'requestFlush');\n            }\n            if (!this.flushRequested) {\n                this.flushRequested = true;\n                this.lastRequest = this.platform.performanceNow();\n                this.$request();\n            }\n            if (this.tracer.enabled) {\n                this.tracer.leave(this, 'requestFlush');\n            }\n        };\n        this.tracer = new Tracer(platform.console);\n    }\n    get isEmpty() {\n        return (this.pendingAsyncCount === 0 &&\n            this.processing.length === 0 &&\n            this.pending.length === 0 &&\n            this.delayed.length === 0);\n    }\n    /**\n     * Persistent tasks will re-queue themselves indefinitely until they are explicitly canceled,\n     * so we consider them 'infinite work' whereas non-persistent (one-off) tasks are 'finite work'.\n     *\n     * This `hasNoMoreFiniteWork` getters returns true if either all remaining tasks are persistent, or if there are no more tasks.\n     *\n     * If that is the case, we can resolve the promise that was created when `yield()` is called.\n     */\n    get hasNoMoreFiniteWork() {\n        return (this.pendingAsyncCount === 0 &&\n            this.processing.every(isPersistent) &&\n            this.pending.every(isPersistent) &&\n            this.delayed.every(isPersistent));\n    }\n    flush(time = this.platform.performanceNow()) {\n        if (this.tracer.enabled) {\n            this.tracer.enter(this, 'flush');\n        }\n        this.flushRequested = false;\n        this.lastFlush = time;\n        // Only process normally if we are *not* currently waiting for an async task to finish\n        if (this.suspenderTask === void 0) {\n            if (this.pending.length > 0) {\n                this.processing.push(...this.pending);\n                this.pending.length = 0;\n            }\n            if (this.delayed.length > 0) {\n                let i = -1;\n                while (++i < this.delayed.length && this.delayed[i].queueTime <= time) { /* do nothing */ }\n                this.processing.push(...this.delayed.splice(0, i));\n            }\n            let cur;\n            while (this.processing.length > 0) {\n                (cur = this.processing.shift()).run();\n                // If it's still running, it can only be an async task\n                if (cur.status === 1 /* running */) {\n                    if (cur.suspend === true) {\n                        this.suspenderTask = cur;\n                        this.requestFlush();\n                        if (this.tracer.enabled) {\n                            this.tracer.leave(this, 'flush early async');\n                        }\n                        return;\n                    }\n                    else {\n                        ++this.pendingAsyncCount;\n                    }\n                }\n            }\n            if (this.pending.length > 0) {\n                this.processing.push(...this.pending);\n                this.pending.length = 0;\n            }\n            if (this.delayed.length > 0) {\n                let i = -1;\n                while (++i < this.delayed.length && this.delayed[i].queueTime <= time) { /* do nothing */ }\n                this.processing.push(...this.delayed.splice(0, i));\n            }\n            if (this.processing.length > 0 || this.delayed.length > 0 || this.pendingAsyncCount > 0) {\n                this.requestFlush();\n            }\n            if (this.yieldPromise !== void 0 &&\n                this.hasNoMoreFiniteWork) {\n                const p = this.yieldPromise;\n                this.yieldPromise = void 0;\n                p.resolve();\n            }\n        }\n        else {\n            // If we are still waiting for an async task to finish, just schedule the next flush and do nothing else.\n            // Should the task finish before the next flush is invoked,\n            // the callback to `completeAsyncTask` will have reset `this.suspenderTask` back to undefined so processing can return back to normal next flush.\n            this.requestFlush();\n        }\n        if (this.tracer.enabled) {\n            this.tracer.leave(this, 'flush full');\n        }\n    }\n    /**\n     * Cancel the next flush cycle (and/or the macrotask that schedules the next flush cycle, in case this is a microtask queue), if it was requested.\n     *\n     * This operation is idempotent and will do nothing if no flush is scheduled.\n     */\n    cancel() {\n        if (this.tracer.enabled) {\n            this.tracer.enter(this, 'cancel');\n        }\n        if (this.flushRequested) {\n            this.$cancel();\n            this.flushRequested = false;\n        }\n        if (this.tracer.enabled) {\n            this.tracer.leave(this, 'cancel');\n        }\n    }\n    /**\n     * Returns a promise that, when awaited, resolves when:\n     * - all *non*-persistent (including async) tasks have finished;\n     * - the last-added persistent task has run exactly once;\n     *\n     * This operation is idempotent: the same promise will be returned until it resolves.\n     *\n     * If `yield()` is called multiple times in a row when there are one or more persistent tasks in the queue, each call will await exactly one cycle of those tasks.\n     */\n    async yield() {\n        if (this.tracer.enabled) {\n            this.tracer.enter(this, 'yield');\n        }\n        if (this.isEmpty) {\n            if (this.tracer.enabled) {\n                this.tracer.leave(this, 'yield empty');\n            }\n        }\n        else {\n            if (this.yieldPromise === void 0) {\n                if (this.tracer.enabled) {\n                    this.tracer.trace(this, 'yield - creating promise');\n                }\n                this.yieldPromise = createExposedPromise();\n            }\n            await this.yieldPromise;\n            if (this.tracer.enabled) {\n                this.tracer.leave(this, 'yield task');\n            }\n        }\n    }\n    queueTask(callback, opts) {\n        if (this.tracer.enabled) {\n            this.tracer.enter(this, 'queueTask');\n        }\n        const { delay, preempt, persistent, reusable, suspend } = { ...defaultQueueTaskOptions, ...opts };\n        if (preempt) {\n            if (delay > 0) {\n                throw new Error(`Invalid arguments: preempt cannot be combined with a greater-than-zero delay`);\n            }\n            if (persistent) {\n                throw new Error(`Invalid arguments: preempt cannot be combined with persistent`);\n            }\n        }\n        if (this.processing.length === 0) {\n            this.requestFlush();\n        }\n        const time = this.platform.performanceNow();\n        let task;\n        if (reusable) {\n            const taskPool = this.taskPool;\n            const index = this.taskPoolSize - 1;\n            if (index >= 0) {\n                task = taskPool[index];\n                taskPool[index] = (void 0);\n                this.taskPoolSize = index;\n                task.reuse(time, delay, preempt, persistent, suspend, callback);\n            }\n            else {\n                task = new Task(this.tracer, this, time, time + delay, preempt, persistent, suspend, reusable, callback);\n            }\n        }\n        else {\n            task = new Task(this.tracer, this, time, time + delay, preempt, persistent, suspend, reusable, callback);\n        }\n        if (preempt) {\n            this.processing[this.processing.length] = task;\n        }\n        else if (delay === 0) {\n            this.pending[this.pending.length] = task;\n        }\n        else {\n            this.delayed[this.delayed.length] = task;\n        }\n        if (this.tracer.enabled) {\n            this.tracer.leave(this, 'queueTask');\n        }\n        return task;\n    }\n    /**\n     * Remove the task from this queue.\n     */\n    remove(task) {\n        if (this.tracer.enabled) {\n            this.tracer.enter(this, 'remove');\n        }\n        let idx = this.processing.indexOf(task);\n        if (idx > -1) {\n            this.processing.splice(idx, 1);\n            if (this.tracer.enabled) {\n                this.tracer.leave(this, 'remove processing');\n            }\n            return;\n        }\n        idx = this.pending.indexOf(task);\n        if (idx > -1) {\n            this.pending.splice(idx, 1);\n            if (this.tracer.enabled) {\n                this.tracer.leave(this, 'remove pending');\n            }\n            return;\n        }\n        idx = this.delayed.indexOf(task);\n        if (idx > -1) {\n            this.delayed.splice(idx, 1);\n            if (this.tracer.enabled) {\n                this.tracer.leave(this, 'remove delayed');\n            }\n            return;\n        }\n        if (this.tracer.enabled) {\n            this.tracer.leave(this, 'remove error');\n        }\n        throw new Error(`Task #${task.id} could not be found`);\n    }\n    /**\n     * Return a reusable task to the shared task pool.\n     * The next queued callback will reuse this task object instead of creating a new one, to save overhead of creating additional objects.\n     */\n    returnToPool(task) {\n        if (this.tracer.enabled) {\n            this.tracer.trace(this, 'returnToPool');\n        }\n        this.taskPool[this.taskPoolSize++] = task;\n    }\n    /**\n     * Reset the persistent task back to its pending state, preparing it for being invoked again on the next flush.\n     */\n    resetPersistentTask(task) {\n        if (this.tracer.enabled) {\n            this.tracer.enter(this, 'resetPersistentTask');\n        }\n        task.reset(this.platform.performanceNow());\n        if (task.createdTime === task.queueTime) {\n            this.pending[this.pending.length] = task;\n        }\n        else {\n            this.delayed[this.delayed.length] = task;\n        }\n        if (this.tracer.enabled) {\n            this.tracer.leave(this, 'resetPersistentTask');\n        }\n    }\n    /**\n     * Notify the queue that this async task has had its promise resolved, so that the queue can proceed with consecutive tasks on the next flush.\n     */\n    completeAsyncTask(task) {\n        var _a;\n        if (this.tracer.enabled) {\n            this.tracer.enter(this, 'completeAsyncTask');\n        }\n        if (task.suspend === true) {\n            if (this.suspenderTask !== task) {\n                if (this.tracer.enabled) {\n                    this.tracer.leave(this, 'completeAsyncTask error');\n                }\n                throw new Error(`Async task completion mismatch: suspenderTask=${(_a = this.suspenderTask) === null || _a === void 0 ? void 0 : _a.id}, task=${task.id}`);\n            }\n            this.suspenderTask = void 0;\n        }\n        else {\n            --this.pendingAsyncCount;\n        }\n        if (this.yieldPromise !== void 0 &&\n            this.hasNoMoreFiniteWork) {\n            const p = this.yieldPromise;\n            this.yieldPromise = void 0;\n            p.resolve();\n        }\n        if (this.isEmpty) {\n            this.cancel();\n        }\n        if (this.tracer.enabled) {\n            this.tracer.leave(this, 'completeAsyncTask');\n        }\n    }\n}\nclass TaskAbortError extends Error {\n    constructor(task) {\n        super('Task was canceled.');\n        this.task = task;\n    }\n}\nlet id = 0;\nvar TaskStatus;\n(function (TaskStatus) {\n    TaskStatus[TaskStatus[\"pending\"] = 0] = \"pending\";\n    TaskStatus[TaskStatus[\"running\"] = 1] = \"running\";\n    TaskStatus[TaskStatus[\"completed\"] = 2] = \"completed\";\n    TaskStatus[TaskStatus[\"canceled\"] = 3] = \"canceled\";\n})(TaskStatus || (TaskStatus = {}));\nclass Task {\n    constructor(tracer, taskQueue, createdTime, queueTime, preempt, persistent, suspend, reusable, callback) {\n        this.tracer = tracer;\n        this.taskQueue = taskQueue;\n        this.createdTime = createdTime;\n        this.queueTime = queueTime;\n        this.preempt = preempt;\n        this.persistent = persistent;\n        this.suspend = suspend;\n        this.reusable = reusable;\n        this.callback = callback;\n        this.id = ++id;\n        this.resolve = void 0;\n        this.reject = void 0;\n        this._result = void 0;\n        this._status = 0 /* pending */;\n    }\n    get result() {\n        const result = this._result;\n        if (result === void 0) {\n            switch (this._status) {\n                case 0 /* pending */: {\n                    const promise = this._result = createExposedPromise();\n                    this.resolve = promise.resolve;\n                    this.reject = promise.reject;\n                    return promise;\n                }\n                case 1 /* running */:\n                    throw new Error('Trying to await task from within task will cause a deadlock.');\n                case 2 /* completed */:\n                    return this._result = Promise.resolve();\n                case 3 /* canceled */:\n                    return this._result = Promise.reject(new TaskAbortError(this));\n            }\n        }\n        return result;\n    }\n    get status() {\n        return this._status;\n    }\n    run(time = this.taskQueue.platform.performanceNow()) {\n        if (this.tracer.enabled) {\n            this.tracer.enter(this, 'run');\n        }\n        if (this._status !== 0 /* pending */) {\n            if (this.tracer.enabled) {\n                this.tracer.leave(this, 'run error');\n            }\n            throw new Error(`Cannot run task in ${this._status} state`);\n        }\n        // this.persistent could be changed while the task is running (this can only be done by the task itself if canceled, and is a valid way of stopping a loop)\n        // so we deliberately reference this.persistent instead of the local variable, but we keep it around to know whether the task *was* persistent before running it,\n        // so we can set the correct cancelation state.\n        const { persistent, reusable, taskQueue, callback, resolve, reject, createdTime, } = this;\n        this._status = 1 /* running */;\n        try {\n            const ret = callback(time - createdTime);\n            if (ret instanceof Promise) {\n                ret.then($ret => {\n                    if (this.persistent) {\n                        taskQueue['resetPersistentTask'](this);\n                    }\n                    else {\n                        if (persistent) {\n                            // Persistent tasks never reach completed status. They're either pending, running, or canceled.\n                            this._status = 3 /* canceled */;\n                        }\n                        else {\n                            this._status = 2 /* completed */;\n                        }\n                        this.dispose();\n                    }\n                    taskQueue['completeAsyncTask'](this);\n                    if (this.tracer.enabled) {\n                        this.tracer.leave(this, 'run async then');\n                    }\n                    if (resolve !== void 0) {\n                        resolve($ret);\n                    }\n                    if (!this.persistent && reusable) {\n                        taskQueue['returnToPool'](this);\n                    }\n                })\n                    .catch(err => {\n                    if (!this.persistent) {\n                        this.dispose();\n                    }\n                    taskQueue['completeAsyncTask'](this);\n                    if (this.tracer.enabled) {\n                        this.tracer.leave(this, 'run async catch');\n                    }\n                    if (reject !== void 0) {\n                        reject(err);\n                    }\n                    else {\n                        throw err;\n                    }\n                });\n            }\n            else {\n                if (this.persistent) {\n                    taskQueue['resetPersistentTask'](this);\n                }\n                else {\n                    if (persistent) {\n                        // Persistent tasks never reach completed status. They're either pending, running, or canceled.\n                        this._status = 3 /* canceled */;\n                    }\n                    else {\n                        this._status = 2 /* completed */;\n                    }\n                    this.dispose();\n                }\n                if (this.tracer.enabled) {\n                    this.tracer.leave(this, 'run sync success');\n                }\n                if (resolve !== void 0) {\n                    resolve(ret);\n                }\n                if (!this.persistent && reusable) {\n                    taskQueue['returnToPool'](this);\n                }\n            }\n        }\n        catch (err) {\n            if (!this.persistent) {\n                this.dispose();\n            }\n            if (this.tracer.enabled) {\n                this.tracer.leave(this, 'run sync error');\n            }\n            if (reject !== void 0) {\n                reject(err);\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n    cancel() {\n        if (this.tracer.enabled) {\n            this.tracer.enter(this, 'cancel');\n        }\n        if (this._status === 0 /* pending */) {\n            const taskQueue = this.taskQueue;\n            const reusable = this.reusable;\n            const reject = this.reject;\n            taskQueue.remove(this);\n            if (taskQueue.isEmpty) {\n                taskQueue.cancel();\n            }\n            this._status = 3 /* canceled */;\n            this.dispose();\n            if (reusable) {\n                taskQueue['returnToPool'](this);\n            }\n            if (reject !== void 0) {\n                reject(new TaskAbortError(this));\n            }\n            if (this.tracer.enabled) {\n                this.tracer.leave(this, 'cancel true =pending');\n            }\n            return true;\n        }\n        else if (this._status === 1 /* running */ && this.persistent) {\n            this.persistent = false;\n            if (this.tracer.enabled) {\n                this.tracer.leave(this, 'cancel true =running+persistent');\n            }\n            return true;\n        }\n        if (this.tracer.enabled) {\n            this.tracer.leave(this, 'cancel false');\n        }\n        return false;\n    }\n    reset(time) {\n        if (this.tracer.enabled) {\n            this.tracer.enter(this, 'reset');\n        }\n        const delay = this.queueTime - this.createdTime;\n        this.createdTime = time;\n        this.queueTime = time + delay;\n        this._status = 0 /* pending */;\n        this.resolve = void 0;\n        this.reject = void 0;\n        this._result = void 0;\n        if (this.tracer.enabled) {\n            this.tracer.leave(this, 'reset');\n        }\n    }\n    reuse(time, delay, preempt, persistent, suspend, callback) {\n        if (this.tracer.enabled) {\n            this.tracer.enter(this, 'reuse');\n        }\n        this.createdTime = time;\n        this.queueTime = time + delay;\n        this.preempt = preempt;\n        this.persistent = persistent;\n        this.suspend = suspend;\n        this.callback = callback;\n        this._status = 0 /* pending */;\n        if (this.tracer.enabled) {\n            this.tracer.leave(this, 'reuse');\n        }\n    }\n    dispose() {\n        if (this.tracer.enabled) {\n            this.tracer.trace(this, 'dispose');\n        }\n        this.callback = (void 0);\n        this.resolve = void 0;\n        this.reject = void 0;\n        this._result = void 0;\n    }\n}\nfunction taskStatus(status) {\n    switch (status) {\n        case 0 /* pending */: return 'pending';\n        case 1 /* running */: return 'running';\n        case 3 /* canceled */: return 'canceled';\n        case 2 /* completed */: return 'completed';\n    }\n}\nclass Tracer {\n    constructor(console) {\n        this.console = console;\n        this.enabled = false;\n        this.depth = 0;\n    }\n    enter(obj, method) {\n        this.log(`${'  '.repeat(this.depth++)}> `, obj, method);\n    }\n    leave(obj, method) {\n        this.log(`${'  '.repeat(--this.depth)}< `, obj, method);\n    }\n    trace(obj, method) {\n        this.log(`${'  '.repeat(this.depth)}- `, obj, method);\n    }\n    log(prefix, obj, method) {\n        if (obj instanceof TaskQueue) {\n            const processing = obj['processing'].length;\n            const pending = obj['pending'].length;\n            const delayed = obj['delayed'].length;\n            const flushReq = obj['flushRequested'];\n            const susTask = !!obj['suspenderTask'];\n            const info = `processing=${processing} pending=${pending} delayed=${delayed} flushReq=${flushReq} susTask=${susTask}`;\n            this.console.log(`${prefix}[Q.${method}] ${info}`);\n        }\n        else {\n            const id = obj['id'];\n            const created = Math.round(obj['createdTime'] * 10) / 10;\n            const queue = Math.round(obj['queueTime'] * 10) / 10;\n            const preempt = obj['preempt'];\n            const reusable = obj['reusable'];\n            const persistent = obj['persistent'];\n            const suspend = obj['suspend'];\n            const status = taskStatus(obj['_status']);\n            const info = `id=${id} created=${created} queue=${queue} preempt=${preempt} persistent=${persistent} reusable=${reusable} status=${status} suspend=${suspend}`;\n            this.console.log(`${prefix}[T.${method}] ${info}`);\n        }\n    }\n}\nvar TaskQueuePriority;\n(function (TaskQueuePriority) {\n    TaskQueuePriority[TaskQueuePriority[\"render\"] = 0] = \"render\";\n    TaskQueuePriority[TaskQueuePriority[\"macroTask\"] = 1] = \"macroTask\";\n    TaskQueuePriority[TaskQueuePriority[\"postRender\"] = 2] = \"postRender\";\n})(TaskQueuePriority || (TaskQueuePriority = {}));\nconst defaultQueueTaskOptions = {\n    delay: 0,\n    preempt: false,\n    persistent: false,\n    reusable: true,\n    suspend: false,\n};\nlet $resolve;\nlet $reject;\nfunction executor(resolve, reject) {\n    $resolve = resolve;\n    $reject = reject;\n}\n/**\n * Efficiently create a promise where the `resolve` and `reject` functions are stored as properties on the prommise itself.\n */\nfunction createExposedPromise() {\n    const p = new Promise(executor);\n    p.resolve = $resolve;\n    p.reject = $reject;\n    return p;\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcGxhdGZvcm0vZGlzdC9lc20vaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcGxhdGZvcm0vZGlzdC9lc20vaW5kZXguanM/MzFmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBsb29rdXAgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiBub3RJbXBsZW1lbnRlZChuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5vdEltcGxlbWVudGVkKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBQTEFURk9STSBkaWQgbm90IHJlY2VpdmUgYSB2YWxpZCByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBmdW5jdGlvbiAnJHtuYW1lfScuYCk7IC8vIFRPRE86IGxpbmsgdG8gZG9jcyBkZXNjcmliaW5nIGhvdyB0byBmaXggdGhpcyBpc3N1ZVxuICAgIH07XG59XG5leHBvcnQgY2xhc3MgUGxhdGZvcm0ge1xuICAgIGNvbnN0cnVjdG9yKGcsIG92ZXJyaWRlcyA9IHt9KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbztcbiAgICAgICAgdGhpcy5tYWNyb1Rhc2tSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tYWNyb1Rhc2tIYW5kbGUgPSAtMTtcbiAgICAgICAgdGhpcy5nbG9iYWxUaGlzID0gZztcbiAgICAgICAgdGhpcy5kZWNvZGVVUkkgPSAnZGVjb2RlVVJJJyBpbiBvdmVycmlkZXMgPyBvdmVycmlkZXMuZGVjb2RlVVJJIDogZy5kZWNvZGVVUkk7XG4gICAgICAgIHRoaXMuZGVjb2RlVVJJQ29tcG9uZW50ID0gJ2RlY29kZVVSSUNvbXBvbmVudCcgaW4gb3ZlcnJpZGVzID8gb3ZlcnJpZGVzLmRlY29kZVVSSUNvbXBvbmVudCA6IGcuZGVjb2RlVVJJQ29tcG9uZW50O1xuICAgICAgICB0aGlzLmVuY29kZVVSSSA9ICdlbmNvZGVVUkknIGluIG92ZXJyaWRlcyA/IG92ZXJyaWRlcy5lbmNvZGVVUkkgOiBnLmVuY29kZVVSSTtcbiAgICAgICAgdGhpcy5lbmNvZGVVUklDb21wb25lbnQgPSAnZW5jb2RlVVJJQ29tcG9uZW50JyBpbiBvdmVycmlkZXMgPyBvdmVycmlkZXMuZW5jb2RlVVJJQ29tcG9uZW50IDogZy5lbmNvZGVVUklDb21wb25lbnQ7XG4gICAgICAgIHRoaXMuRGF0ZSA9ICdEYXRlJyBpbiBvdmVycmlkZXMgPyBvdmVycmlkZXMuRGF0ZSA6IGcuRGF0ZTtcbiAgICAgICAgdGhpcy5SZWZsZWN0ID0gJ1JlZmxlY3QnIGluIG92ZXJyaWRlcyA/IG92ZXJyaWRlcy5SZWZsZWN0IDogZy5SZWZsZWN0O1xuICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwgPSAnY2xlYXJJbnRlcnZhbCcgaW4gb3ZlcnJpZGVzID8gb3ZlcnJpZGVzLmNsZWFySW50ZXJ2YWwgOiAoX2IgPSAoX2EgPSBnLmNsZWFySW50ZXJ2YWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5iaW5kKGcpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBub3RJbXBsZW1lbnRlZCgnY2xlYXJJbnRlcnZhbCcpO1xuICAgICAgICB0aGlzLmNsZWFyVGltZW91dCA9ICdjbGVhclRpbWVvdXQnIGluIG92ZXJyaWRlcyA/IG92ZXJyaWRlcy5jbGVhclRpbWVvdXQgOiAoX2QgPSAoX2MgPSBnLmNsZWFyVGltZW91dCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmJpbmQoZykpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IG5vdEltcGxlbWVudGVkKCdjbGVhclRpbWVvdXQnKTtcbiAgICAgICAgdGhpcy5xdWV1ZU1pY3JvdGFzayA9ICdxdWV1ZU1pY3JvdGFzaycgaW4gb3ZlcnJpZGVzID8gb3ZlcnJpZGVzLnF1ZXVlTWljcm90YXNrIDogKF9mID0gKF9lID0gZy5xdWV1ZU1pY3JvdGFzaykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmJpbmQoZykpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IG5vdEltcGxlbWVudGVkKCdxdWV1ZU1pY3JvdGFzaycpO1xuICAgICAgICB0aGlzLnNldEludGVydmFsID0gJ3NldEludGVydmFsJyBpbiBvdmVycmlkZXMgPyBvdmVycmlkZXMuc2V0SW50ZXJ2YWwgOiAoX2ggPSAoX2cgPSBnLnNldEludGVydmFsKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuYmluZChnKSkgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogbm90SW1wbGVtZW50ZWQoJ3NldEludGVydmFsJyk7XG4gICAgICAgIHRoaXMuc2V0VGltZW91dCA9ICdzZXRUaW1lb3V0JyBpbiBvdmVycmlkZXMgPyBvdmVycmlkZXMuc2V0VGltZW91dCA6IChfayA9IChfaiA9IGcuc2V0VGltZW91dCkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmJpbmQoZykpICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6IG5vdEltcGxlbWVudGVkKCdzZXRUaW1lb3V0Jyk7XG4gICAgICAgIHRoaXMuY29uc29sZSA9ICdjb25zb2xlJyBpbiBvdmVycmlkZXMgPyBvdmVycmlkZXMuY29uc29sZSA6IGcuY29uc29sZTtcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZU5vdyA9ICdwZXJmb3JtYW5jZU5vdycgaW4gb3ZlcnJpZGVzID8gb3ZlcnJpZGVzLnBlcmZvcm1hbmNlTm93IDogKF9vID0gKF9tID0gKF9sID0gZy5wZXJmb3JtYW5jZSkgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLm5vdykgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLmJpbmQoZy5wZXJmb3JtYW5jZSkpICE9PSBudWxsICYmIF9vICE9PSB2b2lkIDAgPyBfbyA6IG5vdEltcGxlbWVudGVkKCdwZXJmb3JtYW5jZS5ub3cnKTtcbiAgICAgICAgdGhpcy5mbHVzaE1hY3JvVGFzayA9IHRoaXMuZmx1c2hNYWNyb1Rhc2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50YXNrUXVldWUgPSBuZXcgVGFza1F1ZXVlKHRoaXMsIHRoaXMucmVxdWVzdE1hY3JvVGFzay5iaW5kKHRoaXMpLCB0aGlzLmNhbmNlbE1hY3JvVGFzay5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgc3RhdGljIGdldE9yQ3JlYXRlKGcsIG92ZXJyaWRlcyA9IHt9KSB7XG4gICAgICAgIGxldCBwbGF0Zm9ybSA9IGxvb2t1cC5nZXQoZyk7XG4gICAgICAgIGlmIChwbGF0Zm9ybSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBsb29rdXAuc2V0KGcsIHBsYXRmb3JtID0gbmV3IFBsYXRmb3JtKGcsIG92ZXJyaWRlcykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwbGF0Zm9ybTtcbiAgICB9XG4gICAgc3RhdGljIHNldChnLCBwbGF0Zm9ybSkge1xuICAgICAgICBsb29rdXAuc2V0KGcsIHBsYXRmb3JtKTtcbiAgICB9XG4gICAgcmVxdWVzdE1hY3JvVGFzaygpIHtcbiAgICAgICAgdGhpcy5tYWNyb1Rhc2tSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5tYWNyb1Rhc2tIYW5kbGUgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm1hY3JvVGFza0hhbmRsZSA9IHRoaXMuc2V0VGltZW91dCh0aGlzLmZsdXNoTWFjcm9UYXNrLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxNYWNyb1Rhc2soKSB7XG4gICAgICAgIHRoaXMubWFjcm9UYXNrUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLm1hY3JvVGFza0hhbmRsZSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyVGltZW91dCh0aGlzLm1hY3JvVGFza0hhbmRsZSk7XG4gICAgICAgICAgICB0aGlzLm1hY3JvVGFza0hhbmRsZSA9IC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZsdXNoTWFjcm9UYXNrKCkge1xuICAgICAgICB0aGlzLm1hY3JvVGFza0hhbmRsZSA9IC0xO1xuICAgICAgICBpZiAodGhpcy5tYWNyb1Rhc2tSZXF1ZXN0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMubWFjcm9UYXNrUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRhc2tRdWV1ZS5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNQZXJzaXN0ZW50KHRhc2spIHtcbiAgICByZXR1cm4gdGFzay5wZXJzaXN0ZW50O1xufVxuZXhwb3J0IGNsYXNzIFRhc2tRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IocGxhdGZvcm0sICRyZXF1ZXN0LCAkY2FuY2VsKSB7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbiAgICAgICAgdGhpcy4kcmVxdWVzdCA9ICRyZXF1ZXN0O1xuICAgICAgICB0aGlzLiRjYW5jZWwgPSAkY2FuY2VsO1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmcgPSBbXTtcbiAgICAgICAgdGhpcy5zdXNwZW5kZXJUYXNrID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnBlbmRpbmdBc3luY0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5wZW5kaW5nID0gW107XG4gICAgICAgIHRoaXMuZGVsYXllZCA9IFtdO1xuICAgICAgICB0aGlzLmZsdXNoUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMueWllbGRQcm9taXNlID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnRhc2tQb29sID0gW107XG4gICAgICAgIHRoaXMudGFza1Bvb2xTaXplID0gMDtcbiAgICAgICAgdGhpcy5sYXN0UmVxdWVzdCA9IDA7XG4gICAgICAgIHRoaXMubGFzdEZsdXNoID0gMDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0Rmx1c2ggPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2VyLmVudGVyKHRoaXMsICdyZXF1ZXN0Rmx1c2gnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5mbHVzaFJlcXVlc3RlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlcXVlc3QgPSB0aGlzLnBsYXRmb3JtLnBlcmZvcm1hbmNlTm93KCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kcmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlci5sZWF2ZSh0aGlzLCAncmVxdWVzdEZsdXNoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHJhY2VyID0gbmV3IFRyYWNlcihwbGF0Zm9ybS5jb25zb2xlKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5wZW5kaW5nQXN5bmNDb3VudCA9PT0gMCAmJlxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgdGhpcy5kZWxheWVkLmxlbmd0aCA9PT0gMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcnNpc3RlbnQgdGFza3Mgd2lsbCByZS1xdWV1ZSB0aGVtc2VsdmVzIGluZGVmaW5pdGVseSB1bnRpbCB0aGV5IGFyZSBleHBsaWNpdGx5IGNhbmNlbGVkLFxuICAgICAqIHNvIHdlIGNvbnNpZGVyIHRoZW0gJ2luZmluaXRlIHdvcmsnIHdoZXJlYXMgbm9uLXBlcnNpc3RlbnQgKG9uZS1vZmYpIHRhc2tzIGFyZSAnZmluaXRlIHdvcmsnLlxuICAgICAqXG4gICAgICogVGhpcyBgaGFzTm9Nb3JlRmluaXRlV29ya2AgZ2V0dGVycyByZXR1cm5zIHRydWUgaWYgZWl0aGVyIGFsbCByZW1haW5pbmcgdGFza3MgYXJlIHBlcnNpc3RlbnQsIG9yIGlmIHRoZXJlIGFyZSBubyBtb3JlIHRhc2tzLlxuICAgICAqXG4gICAgICogSWYgdGhhdCBpcyB0aGUgY2FzZSwgd2UgY2FuIHJlc29sdmUgdGhlIHByb21pc2UgdGhhdCB3YXMgY3JlYXRlZCB3aGVuIGB5aWVsZCgpYCBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgZ2V0IGhhc05vTW9yZUZpbml0ZVdvcmsoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5wZW5kaW5nQXN5bmNDb3VudCA9PT0gMCAmJlxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nLmV2ZXJ5KGlzUGVyc2lzdGVudCkgJiZcbiAgICAgICAgICAgIHRoaXMucGVuZGluZy5ldmVyeShpc1BlcnNpc3RlbnQpICYmXG4gICAgICAgICAgICB0aGlzLmRlbGF5ZWQuZXZlcnkoaXNQZXJzaXN0ZW50KSk7XG4gICAgfVxuICAgIGZsdXNoKHRpbWUgPSB0aGlzLnBsYXRmb3JtLnBlcmZvcm1hbmNlTm93KCkpIHtcbiAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VyLmVudGVyKHRoaXMsICdmbHVzaCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmx1c2hSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0Rmx1c2ggPSB0aW1lO1xuICAgICAgICAvLyBPbmx5IHByb2Nlc3Mgbm9ybWFsbHkgaWYgd2UgYXJlICpub3QqIGN1cnJlbnRseSB3YWl0aW5nIGZvciBhbiBhc3luYyB0YXNrIHRvIGZpbmlzaFxuICAgICAgICBpZiAodGhpcy5zdXNwZW5kZXJUYXNrID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc2luZy5wdXNoKC4uLnRoaXMucGVuZGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kZWxheWVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgICAgICAgIHdoaWxlICgrK2kgPCB0aGlzLmRlbGF5ZWQubGVuZ3RoICYmIHRoaXMuZGVsYXllZFtpXS5xdWV1ZVRpbWUgPD0gdGltZSkgeyAvKiBkbyBub3RoaW5nICovIH1cbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmcucHVzaCguLi50aGlzLmRlbGF5ZWQuc3BsaWNlKDAsIGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjdXI7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5wcm9jZXNzaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAoY3VyID0gdGhpcy5wcm9jZXNzaW5nLnNoaWZ0KCkpLnJ1bigpO1xuICAgICAgICAgICAgICAgIC8vIElmIGl0J3Mgc3RpbGwgcnVubmluZywgaXQgY2FuIG9ubHkgYmUgYW4gYXN5bmMgdGFza1xuICAgICAgICAgICAgICAgIGlmIChjdXIuc3RhdHVzID09PSAxIC8qIHJ1bm5pbmcgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5zdXNwZW5kID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1c3BlbmRlclRhc2sgPSBjdXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RGbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlci5sZWF2ZSh0aGlzLCAnZmx1c2ggZWFybHkgYXN5bmMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdGhpcy5wZW5kaW5nQXN5bmNDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc2luZy5wdXNoKC4uLnRoaXMucGVuZGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kZWxheWVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgICAgICAgIHdoaWxlICgrK2kgPCB0aGlzLmRlbGF5ZWQubGVuZ3RoICYmIHRoaXMuZGVsYXllZFtpXS5xdWV1ZVRpbWUgPD0gdGltZSkgeyAvKiBkbyBub3RoaW5nICovIH1cbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmcucHVzaCguLi50aGlzLmRlbGF5ZWQuc3BsaWNlKDAsIGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NpbmcubGVuZ3RoID4gMCB8fCB0aGlzLmRlbGF5ZWQubGVuZ3RoID4gMCB8fCB0aGlzLnBlbmRpbmdBc3luY0NvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdEZsdXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy55aWVsZFByb21pc2UgIT09IHZvaWQgMCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuaGFzTm9Nb3JlRmluaXRlV29yaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnlpZWxkUHJvbWlzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnlpZWxkUHJvbWlzZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBwLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBzdGlsbCB3YWl0aW5nIGZvciBhbiBhc3luYyB0YXNrIHRvIGZpbmlzaCwganVzdCBzY2hlZHVsZSB0aGUgbmV4dCBmbHVzaCBhbmQgZG8gbm90aGluZyBlbHNlLlxuICAgICAgICAgICAgLy8gU2hvdWxkIHRoZSB0YXNrIGZpbmlzaCBiZWZvcmUgdGhlIG5leHQgZmx1c2ggaXMgaW52b2tlZCxcbiAgICAgICAgICAgIC8vIHRoZSBjYWxsYmFjayB0byBgY29tcGxldGVBc3luY1Rhc2tgIHdpbGwgaGF2ZSByZXNldCBgdGhpcy5zdXNwZW5kZXJUYXNrYCBiYWNrIHRvIHVuZGVmaW5lZCBzbyBwcm9jZXNzaW5nIGNhbiByZXR1cm4gYmFjayB0byBub3JtYWwgbmV4dCBmbHVzaC5cbiAgICAgICAgICAgIHRoaXMucmVxdWVzdEZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VyLmxlYXZlKHRoaXMsICdmbHVzaCBmdWxsJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VsIHRoZSBuZXh0IGZsdXNoIGN5Y2xlIChhbmQvb3IgdGhlIG1hY3JvdGFzayB0aGF0IHNjaGVkdWxlcyB0aGUgbmV4dCBmbHVzaCBjeWNsZSwgaW4gY2FzZSB0aGlzIGlzIGEgbWljcm90YXNrIHF1ZXVlKSwgaWYgaXQgd2FzIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgb3BlcmF0aW9uIGlzIGlkZW1wb3RlbnQgYW5kIHdpbGwgZG8gbm90aGluZyBpZiBubyBmbHVzaCBpcyBzY2hlZHVsZWQuXG4gICAgICovXG4gICAgY2FuY2VsKCkge1xuICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy50cmFjZXIuZW50ZXIodGhpcywgJ2NhbmNlbCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZsdXNoUmVxdWVzdGVkKSB7XG4gICAgICAgICAgICB0aGlzLiRjYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy50cmFjZXIubGVhdmUodGhpcywgJ2NhbmNlbCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQsIHdoZW4gYXdhaXRlZCwgcmVzb2x2ZXMgd2hlbjpcbiAgICAgKiAtIGFsbCAqbm9uKi1wZXJzaXN0ZW50IChpbmNsdWRpbmcgYXN5bmMpIHRhc2tzIGhhdmUgZmluaXNoZWQ7XG4gICAgICogLSB0aGUgbGFzdC1hZGRlZCBwZXJzaXN0ZW50IHRhc2sgaGFzIHJ1biBleGFjdGx5IG9uY2U7XG4gICAgICpcbiAgICAgKiBUaGlzIG9wZXJhdGlvbiBpcyBpZGVtcG90ZW50OiB0aGUgc2FtZSBwcm9taXNlIHdpbGwgYmUgcmV0dXJuZWQgdW50aWwgaXQgcmVzb2x2ZXMuXG4gICAgICpcbiAgICAgKiBJZiBgeWllbGQoKWAgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGluIGEgcm93IHdoZW4gdGhlcmUgYXJlIG9uZSBvciBtb3JlIHBlcnNpc3RlbnQgdGFza3MgaW4gdGhlIHF1ZXVlLCBlYWNoIGNhbGwgd2lsbCBhd2FpdCBleGFjdGx5IG9uZSBjeWNsZSBvZiB0aG9zZSB0YXNrcy5cbiAgICAgKi9cbiAgICBhc3luYyB5aWVsZCgpIHtcbiAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VyLmVudGVyKHRoaXMsICd5aWVsZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZXIubGVhdmUodGhpcywgJ3lpZWxkIGVtcHR5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy55aWVsZFByb21pc2UgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2VyLnRyYWNlKHRoaXMsICd5aWVsZCAtIGNyZWF0aW5nIHByb21pc2UnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy55aWVsZFByb21pc2UgPSBjcmVhdGVFeHBvc2VkUHJvbWlzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdGhpcy55aWVsZFByb21pc2U7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2VyLmxlYXZlKHRoaXMsICd5aWVsZCB0YXNrJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWVUYXNrKGNhbGxiYWNrLCBvcHRzKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlci5lbnRlcih0aGlzLCAncXVldWVUYXNrJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBkZWxheSwgcHJlZW1wdCwgcGVyc2lzdGVudCwgcmV1c2FibGUsIHN1c3BlbmQgfSA9IHsgLi4uZGVmYXVsdFF1ZXVlVGFza09wdGlvbnMsIC4uLm9wdHMgfTtcbiAgICAgICAgaWYgKHByZWVtcHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXJndW1lbnRzOiBwcmVlbXB0IGNhbm5vdCBiZSBjb21iaW5lZCB3aXRoIGEgZ3JlYXRlci10aGFuLXplcm8gZGVsYXlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwZXJzaXN0ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFyZ3VtZW50czogcHJlZW1wdCBjYW5ub3QgYmUgY29tYmluZWQgd2l0aCBwZXJzaXN0ZW50YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdEZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGltZSA9IHRoaXMucGxhdGZvcm0ucGVyZm9ybWFuY2VOb3coKTtcbiAgICAgICAgbGV0IHRhc2s7XG4gICAgICAgIGlmIChyZXVzYWJsZSkge1xuICAgICAgICAgICAgY29uc3QgdGFza1Bvb2wgPSB0aGlzLnRhc2tQb29sO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnRhc2tQb29sU2l6ZSAtIDE7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIHRhc2sgPSB0YXNrUG9vbFtpbmRleF07XG4gICAgICAgICAgICAgICAgdGFza1Bvb2xbaW5kZXhdID0gKHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy50YXNrUG9vbFNpemUgPSBpbmRleDtcbiAgICAgICAgICAgICAgICB0YXNrLnJldXNlKHRpbWUsIGRlbGF5LCBwcmVlbXB0LCBwZXJzaXN0ZW50LCBzdXNwZW5kLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXNrID0gbmV3IFRhc2sodGhpcy50cmFjZXIsIHRoaXMsIHRpbWUsIHRpbWUgKyBkZWxheSwgcHJlZW1wdCwgcGVyc2lzdGVudCwgc3VzcGVuZCwgcmV1c2FibGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhc2sgPSBuZXcgVGFzayh0aGlzLnRyYWNlciwgdGhpcywgdGltZSwgdGltZSArIGRlbGF5LCBwcmVlbXB0LCBwZXJzaXN0ZW50LCBzdXNwZW5kLCByZXVzYWJsZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVlbXB0KSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdbdGhpcy5wcm9jZXNzaW5nLmxlbmd0aF0gPSB0YXNrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlbGF5ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdbdGhpcy5wZW5kaW5nLmxlbmd0aF0gPSB0YXNrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWxheWVkW3RoaXMuZGVsYXllZC5sZW5ndGhdID0gdGFzaztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy50cmFjZXIubGVhdmUodGhpcywgJ3F1ZXVlVGFzaycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXNrO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIHRhc2sgZnJvbSB0aGlzIHF1ZXVlLlxuICAgICAqL1xuICAgIHJlbW92ZSh0YXNrKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlci5lbnRlcih0aGlzLCAncmVtb3ZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlkeCA9IHRoaXMucHJvY2Vzc2luZy5pbmRleE9mKHRhc2spO1xuICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2luZy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZXIubGVhdmUodGhpcywgJ3JlbW92ZSBwcm9jZXNzaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWR4ID0gdGhpcy5wZW5kaW5nLmluZGV4T2YodGFzayk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlci5sZWF2ZSh0aGlzLCAncmVtb3ZlIHBlbmRpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZHggPSB0aGlzLmRlbGF5ZWQuaW5kZXhPZih0YXNrKTtcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGF5ZWQuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2VyLmxlYXZlKHRoaXMsICdyZW1vdmUgZGVsYXllZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlci5sZWF2ZSh0aGlzLCAncmVtb3ZlIGVycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUYXNrICMke3Rhc2suaWR9IGNvdWxkIG5vdCBiZSBmb3VuZGApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSByZXVzYWJsZSB0YXNrIHRvIHRoZSBzaGFyZWQgdGFzayBwb29sLlxuICAgICAqIFRoZSBuZXh0IHF1ZXVlZCBjYWxsYmFjayB3aWxsIHJldXNlIHRoaXMgdGFzayBvYmplY3QgaW5zdGVhZCBvZiBjcmVhdGluZyBhIG5ldyBvbmUsIHRvIHNhdmUgb3ZlcmhlYWQgb2YgY3JlYXRpbmcgYWRkaXRpb25hbCBvYmplY3RzLlxuICAgICAqL1xuICAgIHJldHVyblRvUG9vbCh0YXNrKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlci50cmFjZSh0aGlzLCAncmV0dXJuVG9Qb29sJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50YXNrUG9vbFt0aGlzLnRhc2tQb29sU2l6ZSsrXSA9IHRhc2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBwZXJzaXN0ZW50IHRhc2sgYmFjayB0byBpdHMgcGVuZGluZyBzdGF0ZSwgcHJlcGFyaW5nIGl0IGZvciBiZWluZyBpbnZva2VkIGFnYWluIG9uIHRoZSBuZXh0IGZsdXNoLlxuICAgICAqL1xuICAgIHJlc2V0UGVyc2lzdGVudFRhc2sodGFzaykge1xuICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy50cmFjZXIuZW50ZXIodGhpcywgJ3Jlc2V0UGVyc2lzdGVudFRhc2snKTtcbiAgICAgICAgfVxuICAgICAgICB0YXNrLnJlc2V0KHRoaXMucGxhdGZvcm0ucGVyZm9ybWFuY2VOb3coKSk7XG4gICAgICAgIGlmICh0YXNrLmNyZWF0ZWRUaW1lID09PSB0YXNrLnF1ZXVlVGltZSkge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nW3RoaXMucGVuZGluZy5sZW5ndGhdID0gdGFzaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsYXllZFt0aGlzLmRlbGF5ZWQubGVuZ3RoXSA9IHRhc2s7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VyLmxlYXZlKHRoaXMsICdyZXNldFBlcnNpc3RlbnRUYXNrJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoZSBxdWV1ZSB0aGF0IHRoaXMgYXN5bmMgdGFzayBoYXMgaGFkIGl0cyBwcm9taXNlIHJlc29sdmVkLCBzbyB0aGF0IHRoZSBxdWV1ZSBjYW4gcHJvY2VlZCB3aXRoIGNvbnNlY3V0aXZlIHRhc2tzIG9uIHRoZSBuZXh0IGZsdXNoLlxuICAgICAqL1xuICAgIGNvbXBsZXRlQXN5bmNUYXNrKHRhc2spIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy50cmFjZXIuZW50ZXIodGhpcywgJ2NvbXBsZXRlQXN5bmNUYXNrJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhc2suc3VzcGVuZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3VzcGVuZGVyVGFzayAhPT0gdGFzaykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2VyLmxlYXZlKHRoaXMsICdjb21wbGV0ZUFzeW5jVGFzayBlcnJvcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzeW5jIHRhc2sgY29tcGxldGlvbiBtaXNtYXRjaDogc3VzcGVuZGVyVGFzaz0keyhfYSA9IHRoaXMuc3VzcGVuZGVyVGFzaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkfSwgdGFzaz0ke3Rhc2suaWR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN1c3BlbmRlclRhc2sgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAtLXRoaXMucGVuZGluZ0FzeW5jQ291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMueWllbGRQcm9taXNlICE9PSB2b2lkIDAgJiZcbiAgICAgICAgICAgIHRoaXMuaGFzTm9Nb3JlRmluaXRlV29yaykge1xuICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMueWllbGRQcm9taXNlO1xuICAgICAgICAgICAgdGhpcy55aWVsZFByb21pc2UgPSB2b2lkIDA7XG4gICAgICAgICAgICBwLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlci5sZWF2ZSh0aGlzLCAnY29tcGxldGVBc3luY1Rhc2snKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUYXNrQWJvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXNrKSB7XG4gICAgICAgIHN1cGVyKCdUYXNrIHdhcyBjYW5jZWxlZC4nKTtcbiAgICAgICAgdGhpcy50YXNrID0gdGFzaztcbiAgICB9XG59XG5sZXQgaWQgPSAwO1xuZXhwb3J0IHZhciBUYXNrU3RhdHVzO1xuKGZ1bmN0aW9uIChUYXNrU3RhdHVzKSB7XG4gICAgVGFza1N0YXR1c1tUYXNrU3RhdHVzW1wicGVuZGluZ1wiXSA9IDBdID0gXCJwZW5kaW5nXCI7XG4gICAgVGFza1N0YXR1c1tUYXNrU3RhdHVzW1wicnVubmluZ1wiXSA9IDFdID0gXCJydW5uaW5nXCI7XG4gICAgVGFza1N0YXR1c1tUYXNrU3RhdHVzW1wiY29tcGxldGVkXCJdID0gMl0gPSBcImNvbXBsZXRlZFwiO1xuICAgIFRhc2tTdGF0dXNbVGFza1N0YXR1c1tcImNhbmNlbGVkXCJdID0gM10gPSBcImNhbmNlbGVkXCI7XG59KShUYXNrU3RhdHVzIHx8IChUYXNrU3RhdHVzID0ge30pKTtcbmV4cG9ydCBjbGFzcyBUYXNrIHtcbiAgICBjb25zdHJ1Y3Rvcih0cmFjZXIsIHRhc2tRdWV1ZSwgY3JlYXRlZFRpbWUsIHF1ZXVlVGltZSwgcHJlZW1wdCwgcGVyc2lzdGVudCwgc3VzcGVuZCwgcmV1c2FibGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMudHJhY2VyID0gdHJhY2VyO1xuICAgICAgICB0aGlzLnRhc2tRdWV1ZSA9IHRhc2tRdWV1ZTtcbiAgICAgICAgdGhpcy5jcmVhdGVkVGltZSA9IGNyZWF0ZWRUaW1lO1xuICAgICAgICB0aGlzLnF1ZXVlVGltZSA9IHF1ZXVlVGltZTtcbiAgICAgICAgdGhpcy5wcmVlbXB0ID0gcHJlZW1wdDtcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW50ID0gcGVyc2lzdGVudDtcbiAgICAgICAgdGhpcy5zdXNwZW5kID0gc3VzcGVuZDtcbiAgICAgICAgdGhpcy5yZXVzYWJsZSA9IHJldXNhYmxlO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuaWQgPSArK2lkO1xuICAgICAgICB0aGlzLnJlc29sdmUgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMucmVqZWN0ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLl9yZXN1bHQgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IDAgLyogcGVuZGluZyAqLztcbiAgICB9XG4gICAgZ2V0IHJlc3VsdCgpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcmVzdWx0O1xuICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwIC8qIHBlbmRpbmcgKi86IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuX3Jlc3VsdCA9IGNyZWF0ZUV4cG9zZWRQcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IHByb21pc2UucmVzb2x2ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWplY3QgPSBwcm9taXNlLnJlamVjdDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBydW5uaW5nICovOlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyeWluZyB0byBhd2FpdCB0YXNrIGZyb20gd2l0aGluIHRhc2sgd2lsbCBjYXVzZSBhIGRlYWRsb2NrLicpO1xuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBjb21wbGV0ZWQgKi86XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHQgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBjYXNlIDMgLyogY2FuY2VsZWQgKi86XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHQgPSBQcm9taXNlLnJlamVjdChuZXcgVGFza0Fib3J0RXJyb3IodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGdldCBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gICAgfVxuICAgIHJ1bih0aW1lID0gdGhpcy50YXNrUXVldWUucGxhdGZvcm0ucGVyZm9ybWFuY2VOb3coKSkge1xuICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy50cmFjZXIuZW50ZXIodGhpcywgJ3J1bicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgIT09IDAgLyogcGVuZGluZyAqLykge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlci5sZWF2ZSh0aGlzLCAncnVuIGVycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBydW4gdGFzayBpbiAke3RoaXMuX3N0YXR1c30gc3RhdGVgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLnBlcnNpc3RlbnQgY291bGQgYmUgY2hhbmdlZCB3aGlsZSB0aGUgdGFzayBpcyBydW5uaW5nICh0aGlzIGNhbiBvbmx5IGJlIGRvbmUgYnkgdGhlIHRhc2sgaXRzZWxmIGlmIGNhbmNlbGVkLCBhbmQgaXMgYSB2YWxpZCB3YXkgb2Ygc3RvcHBpbmcgYSBsb29wKVxuICAgICAgICAvLyBzbyB3ZSBkZWxpYmVyYXRlbHkgcmVmZXJlbmNlIHRoaXMucGVyc2lzdGVudCBpbnN0ZWFkIG9mIHRoZSBsb2NhbCB2YXJpYWJsZSwgYnV0IHdlIGtlZXAgaXQgYXJvdW5kIHRvIGtub3cgd2hldGhlciB0aGUgdGFzayAqd2FzKiBwZXJzaXN0ZW50IGJlZm9yZSBydW5uaW5nIGl0LFxuICAgICAgICAvLyBzbyB3ZSBjYW4gc2V0IHRoZSBjb3JyZWN0IGNhbmNlbGF0aW9uIHN0YXRlLlxuICAgICAgICBjb25zdCB7IHBlcnNpc3RlbnQsIHJldXNhYmxlLCB0YXNrUXVldWUsIGNhbGxiYWNrLCByZXNvbHZlLCByZWplY3QsIGNyZWF0ZWRUaW1lLCB9ID0gdGhpcztcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gMSAvKiBydW5uaW5nICovO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0ID0gY2FsbGJhY2sodGltZSAtIGNyZWF0ZWRUaW1lKTtcbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0LnRoZW4oJHJldCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlcnNpc3RlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tRdWV1ZVsncmVzZXRQZXJzaXN0ZW50VGFzayddKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlcnNpc3RlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQZXJzaXN0ZW50IHRhc2tzIG5ldmVyIHJlYWNoIGNvbXBsZXRlZCBzdGF0dXMuIFRoZXkncmUgZWl0aGVyIHBlbmRpbmcsIHJ1bm5pbmcsIG9yIGNhbmNlbGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IDMgLyogY2FuY2VsZWQgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSAyIC8qIGNvbXBsZXRlZCAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRhc2tRdWV1ZVsnY29tcGxldGVBc3luY1Rhc2snXSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2VyLmxlYXZlKHRoaXMsICdydW4gYXN5bmMgdGhlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJHJldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBlcnNpc3RlbnQgJiYgcmV1c2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tRdWV1ZVsncmV0dXJuVG9Qb29sJ10odGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBlcnNpc3RlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRhc2tRdWV1ZVsnY29tcGxldGVBc3luY1Rhc2snXSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2VyLmxlYXZlKHRoaXMsICdydW4gYXN5bmMgY2F0Y2gnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVqZWN0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZXJzaXN0ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tRdWV1ZVsncmVzZXRQZXJzaXN0ZW50VGFzayddKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlcnNpc3RlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBlcnNpc3RlbnQgdGFza3MgbmV2ZXIgcmVhY2ggY29tcGxldGVkIHN0YXR1cy4gVGhleSdyZSBlaXRoZXIgcGVuZGluZywgcnVubmluZywgb3IgY2FuY2VsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSAzIC8qIGNhbmNlbGVkICovO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gMiAvKiBjb21wbGV0ZWQgKi87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2VyLmxlYXZlKHRoaXMsICdydW4gc3luYyBzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGVyc2lzdGVudCAmJiByZXVzYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0YXNrUXVldWVbJ3JldHVyblRvUG9vbCddKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGVyc2lzdGVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlci5sZWF2ZSh0aGlzLCAncnVuIHN5bmMgZXJyb3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWplY3QgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VyLmVudGVyKHRoaXMsICdjYW5jZWwnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc3RhdHVzID09PSAwIC8qIHBlbmRpbmcgKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tRdWV1ZSA9IHRoaXMudGFza1F1ZXVlO1xuICAgICAgICAgICAgY29uc3QgcmV1c2FibGUgPSB0aGlzLnJldXNhYmxlO1xuICAgICAgICAgICAgY29uc3QgcmVqZWN0ID0gdGhpcy5yZWplY3Q7XG4gICAgICAgICAgICB0YXNrUXVldWUucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgaWYgKHRhc2tRdWV1ZS5pc0VtcHR5KSB7XG4gICAgICAgICAgICAgICAgdGFza1F1ZXVlLmNhbmNlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gMyAvKiBjYW5jZWxlZCAqLztcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgaWYgKHJldXNhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGFza1F1ZXVlWydyZXR1cm5Ub1Bvb2wnXSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWplY3QgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgVGFza0Fib3J0RXJyb3IodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlci5sZWF2ZSh0aGlzLCAnY2FuY2VsIHRydWUgPXBlbmRpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3N0YXR1cyA9PT0gMSAvKiBydW5uaW5nICovICYmIHRoaXMucGVyc2lzdGVudCkge1xuICAgICAgICAgICAgdGhpcy5wZXJzaXN0ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2VyLmxlYXZlKHRoaXMsICdjYW5jZWwgdHJ1ZSA9cnVubmluZytwZXJzaXN0ZW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy50cmFjZXIubGVhdmUodGhpcywgJ2NhbmNlbCBmYWxzZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmVzZXQodGltZSkge1xuICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy50cmFjZXIuZW50ZXIodGhpcywgJ3Jlc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLnF1ZXVlVGltZSAtIHRoaXMuY3JlYXRlZFRpbWU7XG4gICAgICAgIHRoaXMuY3JlYXRlZFRpbWUgPSB0aW1lO1xuICAgICAgICB0aGlzLnF1ZXVlVGltZSA9IHRpbWUgKyBkZWxheTtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gMCAvKiBwZW5kaW5nICovO1xuICAgICAgICB0aGlzLnJlc29sdmUgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMucmVqZWN0ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLl9yZXN1bHQgPSB2b2lkIDA7XG4gICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlci5sZWF2ZSh0aGlzLCAncmVzZXQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXVzZSh0aW1lLCBkZWxheSwgcHJlZW1wdCwgcGVyc2lzdGVudCwgc3VzcGVuZCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMudHJhY2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VyLmVudGVyKHRoaXMsICdyZXVzZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3JlYXRlZFRpbWUgPSB0aW1lO1xuICAgICAgICB0aGlzLnF1ZXVlVGltZSA9IHRpbWUgKyBkZWxheTtcbiAgICAgICAgdGhpcy5wcmVlbXB0ID0gcHJlZW1wdDtcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW50ID0gcGVyc2lzdGVudDtcbiAgICAgICAgdGhpcy5zdXNwZW5kID0gc3VzcGVuZDtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSAwIC8qIHBlbmRpbmcgKi87XG4gICAgICAgIGlmICh0aGlzLnRyYWNlci5lbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlci5sZWF2ZSh0aGlzLCAncmV1c2UnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy50cmFjZXIuZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy50cmFjZXIudHJhY2UodGhpcywgJ2Rpc3Bvc2UnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gKHZvaWQgMCk7XG4gICAgICAgIHRoaXMucmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5yZWplY3QgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuX3Jlc3VsdCA9IHZvaWQgMDtcbiAgICB9XG59XG5mdW5jdGlvbiB0YXNrU3RhdHVzKHN0YXR1cykge1xuICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgMCAvKiBwZW5kaW5nICovOiByZXR1cm4gJ3BlbmRpbmcnO1xuICAgICAgICBjYXNlIDEgLyogcnVubmluZyAqLzogcmV0dXJuICdydW5uaW5nJztcbiAgICAgICAgY2FzZSAzIC8qIGNhbmNlbGVkICovOiByZXR1cm4gJ2NhbmNlbGVkJztcbiAgICAgICAgY2FzZSAyIC8qIGNvbXBsZXRlZCAqLzogcmV0dXJuICdjb21wbGV0ZWQnO1xuICAgIH1cbn1cbmNsYXNzIFRyYWNlciB7XG4gICAgY29uc3RydWN0b3IoY29uc29sZSkge1xuICAgICAgICB0aGlzLmNvbnNvbGUgPSBjb25zb2xlO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXB0aCA9IDA7XG4gICAgfVxuICAgIGVudGVyKG9iaiwgbWV0aG9kKSB7XG4gICAgICAgIHRoaXMubG9nKGAkeycgICcucmVwZWF0KHRoaXMuZGVwdGgrKyl9PiBgLCBvYmosIG1ldGhvZCk7XG4gICAgfVxuICAgIGxlYXZlKG9iaiwgbWV0aG9kKSB7XG4gICAgICAgIHRoaXMubG9nKGAkeycgICcucmVwZWF0KC0tdGhpcy5kZXB0aCl9PCBgLCBvYmosIG1ldGhvZCk7XG4gICAgfVxuICAgIHRyYWNlKG9iaiwgbWV0aG9kKSB7XG4gICAgICAgIHRoaXMubG9nKGAkeycgICcucmVwZWF0KHRoaXMuZGVwdGgpfS0gYCwgb2JqLCBtZXRob2QpO1xuICAgIH1cbiAgICBsb2cocHJlZml4LCBvYmosIG1ldGhvZCkge1xuICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgVGFza1F1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzaW5nID0gb2JqWydwcm9jZXNzaW5nJ10ubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgcGVuZGluZyA9IG9ialsncGVuZGluZyddLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ZWQgPSBvYmpbJ2RlbGF5ZWQnXS5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBmbHVzaFJlcSA9IG9ialsnZmx1c2hSZXF1ZXN0ZWQnXTtcbiAgICAgICAgICAgIGNvbnN0IHN1c1Rhc2sgPSAhIW9ialsnc3VzcGVuZGVyVGFzayddO1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGBwcm9jZXNzaW5nPSR7cHJvY2Vzc2luZ30gcGVuZGluZz0ke3BlbmRpbmd9IGRlbGF5ZWQ9JHtkZWxheWVkfSBmbHVzaFJlcT0ke2ZsdXNoUmVxfSBzdXNUYXNrPSR7c3VzVGFza31gO1xuICAgICAgICAgICAgdGhpcy5jb25zb2xlLmxvZyhgJHtwcmVmaXh9W1EuJHttZXRob2R9XSAke2luZm99YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IG9ialsnaWQnXTtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZWQgPSBNYXRoLnJvdW5kKG9ialsnY3JlYXRlZFRpbWUnXSAqIDEwKSAvIDEwO1xuICAgICAgICAgICAgY29uc3QgcXVldWUgPSBNYXRoLnJvdW5kKG9ialsncXVldWVUaW1lJ10gKiAxMCkgLyAxMDtcbiAgICAgICAgICAgIGNvbnN0IHByZWVtcHQgPSBvYmpbJ3ByZWVtcHQnXTtcbiAgICAgICAgICAgIGNvbnN0IHJldXNhYmxlID0gb2JqWydyZXVzYWJsZSddO1xuICAgICAgICAgICAgY29uc3QgcGVyc2lzdGVudCA9IG9ialsncGVyc2lzdGVudCddO1xuICAgICAgICAgICAgY29uc3Qgc3VzcGVuZCA9IG9ialsnc3VzcGVuZCddO1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gdGFza1N0YXR1cyhvYmpbJ19zdGF0dXMnXSk7XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gYGlkPSR7aWR9IGNyZWF0ZWQ9JHtjcmVhdGVkfSBxdWV1ZT0ke3F1ZXVlfSBwcmVlbXB0PSR7cHJlZW1wdH0gcGVyc2lzdGVudD0ke3BlcnNpc3RlbnR9IHJldXNhYmxlPSR7cmV1c2FibGV9IHN0YXR1cz0ke3N0YXR1c30gc3VzcGVuZD0ke3N1c3BlbmR9YDtcbiAgICAgICAgICAgIHRoaXMuY29uc29sZS5sb2coYCR7cHJlZml4fVtULiR7bWV0aG9kfV0gJHtpbmZvfWApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IHZhciBUYXNrUXVldWVQcmlvcml0eTtcbihmdW5jdGlvbiAoVGFza1F1ZXVlUHJpb3JpdHkpIHtcbiAgICBUYXNrUXVldWVQcmlvcml0eVtUYXNrUXVldWVQcmlvcml0eVtcInJlbmRlclwiXSA9IDBdID0gXCJyZW5kZXJcIjtcbiAgICBUYXNrUXVldWVQcmlvcml0eVtUYXNrUXVldWVQcmlvcml0eVtcIm1hY3JvVGFza1wiXSA9IDFdID0gXCJtYWNyb1Rhc2tcIjtcbiAgICBUYXNrUXVldWVQcmlvcml0eVtUYXNrUXVldWVQcmlvcml0eVtcInBvc3RSZW5kZXJcIl0gPSAyXSA9IFwicG9zdFJlbmRlclwiO1xufSkoVGFza1F1ZXVlUHJpb3JpdHkgfHwgKFRhc2tRdWV1ZVByaW9yaXR5ID0ge30pKTtcbmNvbnN0IGRlZmF1bHRRdWV1ZVRhc2tPcHRpb25zID0ge1xuICAgIGRlbGF5OiAwLFxuICAgIHByZWVtcHQ6IGZhbHNlLFxuICAgIHBlcnNpc3RlbnQ6IGZhbHNlLFxuICAgIHJldXNhYmxlOiB0cnVlLFxuICAgIHN1c3BlbmQ6IGZhbHNlLFxufTtcbmxldCAkcmVzb2x2ZTtcbmxldCAkcmVqZWN0O1xuZnVuY3Rpb24gZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgJHJlc29sdmUgPSByZXNvbHZlO1xuICAgICRyZWplY3QgPSByZWplY3Q7XG59XG4vKipcbiAqIEVmZmljaWVudGx5IGNyZWF0ZSBhIHByb21pc2Ugd2hlcmUgdGhlIGByZXNvbHZlYCBhbmQgYHJlamVjdGAgZnVuY3Rpb25zIGFyZSBzdG9yZWQgYXMgcHJvcGVydGllcyBvbiB0aGUgcHJvbW1pc2UgaXRzZWxmLlxuICovXG5mdW5jdGlvbiBjcmVhdGVFeHBvc2VkUHJvbWlzZSgpIHtcbiAgICBjb25zdCBwID0gbmV3IFByb21pc2UoZXhlY3V0b3IpO1xuICAgIHAucmVzb2x2ZSA9ICRyZXNvbHZlO1xuICAgIHAucmVqZWN0ID0gJHJlamVjdDtcbiAgICByZXR1cm4gcDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/platform/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/route-recognizer/dist/esm/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@aurelia/route-recognizer/dist/esm/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ConfigurableRoute\": () => (/* binding */ ConfigurableRoute),\n/* harmony export */   \"Endpoint\": () => (/* binding */ Endpoint),\n/* harmony export */   \"RecognizedRoute\": () => (/* binding */ RecognizedRoute),\n/* harmony export */   \"RouteRecognizer\": () => (/* binding */ RouteRecognizer)\n/* harmony export */ });\nclass ConfigurableRoute {\n    constructor(path, caseSensitive, handler) {\n        this.path = path;\n        this.caseSensitive = caseSensitive;\n        this.handler = handler;\n    }\n}\nclass Endpoint {\n    constructor(route, paramNames) {\n        this.route = route;\n        this.paramNames = paramNames;\n    }\n}\nclass RecognizedRoute {\n    constructor(endpoint, params) {\n        this.endpoint = endpoint;\n        this.params = params;\n    }\n}\nclass Candidate {\n    constructor(chars, states, skippedStates, result) {\n        var _a;\n        this.chars = chars;\n        this.states = states;\n        this.skippedStates = skippedStates;\n        this.result = result;\n        this.head = states[states.length - 1];\n        // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n        this.endpoint = (_a = this.head) === null || _a === void 0 ? void 0 : _a.endpoint;\n    }\n    advance(ch) {\n        const { chars, states, skippedStates, result } = this;\n        let stateToAdd = null;\n        let matchCount = 0;\n        const state = states[states.length - 1];\n        function $process(nextState, skippedState) {\n            if (nextState.isMatch(ch)) {\n                if (++matchCount === 1) {\n                    stateToAdd = nextState;\n                }\n                else {\n                    result.add(new Candidate(chars.concat(ch), states.concat(nextState), skippedState === null ? skippedStates : skippedStates.concat(skippedState), result));\n                }\n            }\n            if (state.segment === null && nextState.isOptional && nextState.nextStates !== null) {\n                if (nextState.nextStates.length > 1) {\n                    throw new Error(`${nextState.nextStates.length} nextStates`);\n                }\n                const separator = nextState.nextStates[0];\n                if (!separator.isSeparator) {\n                    throw new Error(`Not a separator`);\n                }\n                if (separator.nextStates !== null) {\n                    for (const $nextState of separator.nextStates) {\n                        $process($nextState, nextState);\n                    }\n                }\n            }\n        }\n        if (state.isDynamic) {\n            $process(state, null);\n        }\n        if (state.nextStates !== null) {\n            for (const nextState of state.nextStates) {\n                $process(nextState, null);\n            }\n        }\n        if (stateToAdd !== null) {\n            states.push(this.head = stateToAdd);\n            chars.push(ch);\n            if (stateToAdd.endpoint !== null) {\n                this.endpoint = stateToAdd.endpoint;\n            }\n        }\n        if (matchCount === 0) {\n            result.remove(this);\n        }\n    }\n    finalize() {\n        function collectSkippedStates(skippedStates, state) {\n            const nextStates = state.nextStates;\n            if (nextStates !== null) {\n                if (nextStates.length === 1 && nextStates[0].segment === null) {\n                    collectSkippedStates(skippedStates, nextStates[0]);\n                }\n                else {\n                    for (const nextState of nextStates) {\n                        if (nextState.isOptional && nextState.endpoint !== null) {\n                            skippedStates.push(nextState);\n                            if (nextState.nextStates !== null) {\n                                for (const $nextState of nextState.nextStates) {\n                                    collectSkippedStates(skippedStates, $nextState);\n                                }\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        collectSkippedStates(this.skippedStates, this.head);\n    }\n    getParams() {\n        const { states, chars, endpoint } = this;\n        const params = {};\n        // First initialize all properties with undefined so they all exist (even if they're not filled, e.g. non-matched optional params)\n        for (const name of endpoint.paramNames) {\n            params[name] = void 0;\n        }\n        for (let i = 0, ii = states.length; i < ii; ++i) {\n            const state = states[i];\n            if (state.isDynamic) {\n                const name = state.segment.name;\n                if (params[name] === void 0) {\n                    params[name] = chars[i];\n                }\n                else {\n                    params[name] += chars[i];\n                }\n            }\n        }\n        return params;\n    }\n    /**\n     * Compares this candidate to another candidate to determine the correct sorting order.\n     *\n     * This algorithm is different from `sortSolutions` in v1's route-recognizer in that it compares\n     * the candidates segment-by-segment, rather than merely comparing the cumulative of segment types\n     *\n     * This resolves v1's ambiguity in situations like `/foo/:id/bar` vs. `/foo/bar/:id`, which had the\n     * same sorting value because they both consist of two static segments and one dynamic segment.\n     *\n     * With this algorithm, `/foo/bar/:id` would always be sorted first because the second segment is different,\n     * and static wins over dynamic.\n     *\n     * ### NOTE\n     * This algorithm violates some of the invariants of v1's algorithm,\n     * but those invariants were arguably not very sound to begin with. Example:\n     *\n     * `/foo/*path/bar/baz` vs. `/foo/bar/*path1/*path2`\n     * - in v1, the first would win because that match has fewer stars\n     * - in v2, the second will win because there is a bigger static match at the start of the pattern\n     *\n     * The algorithm should be more logical and easier to reason about in v2, but it's important to be aware of\n     * subtle difference like this which might surprise some users who happened to rely on this behavior from v1,\n     * intentionally or unintentionally.\n     *\n     * @param b - The candidate to compare this to.\n     * Parameter name is `b` because the method should be used like so: `states.sort((a, b) => a.compareTo(b))`.\n     * This will bring the candidate with the highest score to the first position of the array.\n     */\n    compareTo(b) {\n        const statesA = this.states;\n        const statesB = b.states;\n        for (let iA = 0, iB = 0, ii = Math.max(statesA.length, statesB.length); iA < ii; ++iA) {\n            let stateA = statesA[iA];\n            if (stateA === void 0) {\n                return 1;\n            }\n            let stateB = statesB[iB];\n            if (stateB === void 0) {\n                return -1;\n            }\n            let segmentA = stateA.segment;\n            let segmentB = stateB.segment;\n            if (segmentA === null) {\n                if (segmentB === null) {\n                    ++iB;\n                    continue;\n                }\n                if ((stateA = statesA[++iA]) === void 0) {\n                    return 1;\n                }\n                segmentA = stateA.segment;\n            }\n            else if (segmentB === null) {\n                if ((stateB = statesB[++iB]) === void 0) {\n                    return -1;\n                }\n                segmentB = stateB.segment;\n            }\n            if (segmentA.kind < segmentB.kind) {\n                return 1;\n            }\n            if (segmentA.kind > segmentB.kind) {\n                return -1;\n            }\n            ++iB;\n        }\n        const skippedStatesA = this.skippedStates;\n        const skippedStatesB = b.skippedStates;\n        const skippedStatesALen = skippedStatesA.length;\n        const skippedStatesBLen = skippedStatesB.length;\n        if (skippedStatesALen < skippedStatesBLen) {\n            return 1;\n        }\n        if (skippedStatesALen > skippedStatesBLen) {\n            return -1;\n        }\n        for (let i = 0; i < skippedStatesALen; ++i) {\n            const skippedStateA = skippedStatesA[i];\n            const skippedStateB = skippedStatesB[i];\n            if (skippedStateA.length < skippedStateB.length) {\n                return 1;\n            }\n            if (skippedStateA.length > skippedStateB.length) {\n                return -1;\n            }\n        }\n        // This should only be possible with a single pattern with multiple consecutive star segments.\n        // TODO: probably want to warn or even throw here, but leave it be for now.\n        return 0;\n    }\n}\nfunction hasEndpoint(candidate) {\n    return candidate.head.endpoint !== null;\n}\nfunction compareChains(a, b) {\n    return a.compareTo(b);\n}\nclass RecognizeResult {\n    constructor(rootState) {\n        this.candidates = [];\n        this.candidates = [new Candidate([''], [rootState], [], this)];\n    }\n    get isEmpty() {\n        return this.candidates.length === 0;\n    }\n    getSolution() {\n        const candidates = this.candidates.filter(hasEndpoint);\n        if (candidates.length === 0) {\n            return null;\n        }\n        for (const candidate of candidates) {\n            candidate.finalize();\n        }\n        candidates.sort(compareChains);\n        return candidates[0];\n    }\n    add(candidate) {\n        this.candidates.push(candidate);\n    }\n    remove(candidate) {\n        this.candidates.splice(this.candidates.indexOf(candidate), 1);\n    }\n    advance(ch) {\n        const candidates = this.candidates.slice();\n        for (const candidate of candidates) {\n            candidate.advance(ch);\n        }\n    }\n}\nclass RouteRecognizer {\n    constructor() {\n        this.rootState = new State(null, null, '');\n        this.cache = new Map();\n    }\n    add(routeOrRoutes) {\n        if (routeOrRoutes instanceof Array) {\n            for (const route of routeOrRoutes) {\n                this.$add(route);\n            }\n        }\n        else {\n            this.$add(routeOrRoutes);\n        }\n        // Clear the cache whenever there are state changes, because the recognizeResults could be arbitrarily different as a result\n        this.cache.clear();\n    }\n    $add(route) {\n        const path = route.path;\n        const $route = new ConfigurableRoute(route.path, route.caseSensitive === true, route.handler);\n        // Normalize leading, trailing and double slashes by ignoring empty segments\n        const parts = path === '' ? [''] : path.split('/').filter(isNotEmpty);\n        const paramNames = [];\n        let state = this.rootState;\n        for (const part of parts) {\n            // Each segment always begins with a slash, so we represent this with a non-segment state\n            state = state.append(null, '/');\n            switch (part.charAt(0)) {\n                case ':': { // route parameter\n                    const isOptional = part.endsWith('?');\n                    const name = isOptional ? part.slice(1, -1) : part.slice(1);\n                    paramNames.push(name);\n                    state = new DynamicSegment(name, isOptional).appendTo(state);\n                    break;\n                }\n                case '*': { // dynamic route\n                    const name = part.slice(1);\n                    paramNames.push(name);\n                    state = new StarSegment(name).appendTo(state);\n                    break;\n                }\n                default: { // standard path route\n                    state = new StaticSegment(part, $route.caseSensitive).appendTo(state);\n                    break;\n                }\n            }\n        }\n        const endpoint = new Endpoint($route, paramNames);\n        state.setEndpoint(endpoint);\n    }\n    recognize(path) {\n        let result = this.cache.get(path);\n        if (result === void 0) {\n            this.cache.set(path, result = this.$recognize(path));\n        }\n        return result;\n    }\n    $recognize(path) {\n        path = decodeURI(path);\n        if (!path.startsWith('/')) {\n            path = `/${path}`;\n        }\n        if (path.length > 1 && path.endsWith('/')) {\n            path = path.slice(0, -1);\n        }\n        const result = new RecognizeResult(this.rootState);\n        for (let i = 0, ii = path.length; i < ii; ++i) {\n            const ch = path.charAt(i);\n            result.advance(ch);\n            if (result.isEmpty) {\n                return null;\n            }\n        }\n        const candidate = result.getSolution();\n        if (candidate === null) {\n            return null;\n        }\n        const { endpoint } = candidate;\n        const params = candidate.getParams();\n        return new RecognizedRoute(endpoint, params);\n    }\n}\nclass State {\n    constructor(prevState, segment, value) {\n        this.prevState = prevState;\n        this.segment = segment;\n        this.value = value;\n        this.nextStates = null;\n        this.endpoint = null;\n        switch (segment === null || segment === void 0 ? void 0 : segment.kind) {\n            case 2 /* dynamic */:\n                this.length = prevState.length + 1;\n                this.isSeparator = false;\n                this.isDynamic = true;\n                this.isOptional = segment.optional;\n                break;\n            case 1 /* star */:\n                this.length = prevState.length + 1;\n                this.isSeparator = false;\n                this.isDynamic = true;\n                this.isOptional = false;\n                break;\n            case 3 /* static */:\n                this.length = prevState.length + 1;\n                this.isSeparator = false;\n                this.isDynamic = false;\n                this.isOptional = false;\n                break;\n            case undefined:\n                this.length = prevState === null ? 0 : prevState.length;\n                this.isSeparator = true;\n                this.isDynamic = false;\n                this.isOptional = false;\n                break;\n        }\n    }\n    append(segment, value) {\n        let state;\n        let nextStates = this.nextStates;\n        if (nextStates === null) {\n            state = void 0;\n            nextStates = this.nextStates = [];\n        }\n        else if (segment === null) {\n            state = nextStates.find(s => s.value === value);\n        }\n        else {\n            state = nextStates.find(s => { var _a; return (_a = s.segment) === null || _a === void 0 ? void 0 : _a.equals(segment); });\n        }\n        if (state === void 0) {\n            nextStates.push(state = new State(this, segment, value));\n        }\n        return state;\n    }\n    setEndpoint(endpoint) {\n        if (this.endpoint !== null) {\n            throw new Error(`Cannot add ambiguous route. The pattern '${endpoint.route.path}' clashes with '${this.endpoint.route.path}'`);\n        }\n        this.endpoint = endpoint;\n        if (this.isOptional) {\n            this.prevState.setEndpoint(endpoint);\n            if (this.prevState.isSeparator && this.prevState.prevState !== null) {\n                this.prevState.prevState.setEndpoint(endpoint);\n            }\n        }\n    }\n    isMatch(ch) {\n        const segment = this.segment;\n        switch (segment === null || segment === void 0 ? void 0 : segment.kind) {\n            case 2 /* dynamic */:\n                return !this.value.includes(ch);\n            case 1 /* star */:\n                return true;\n            case 3 /* static */:\n            case undefined:\n                // segment separators (slashes) are non-segments. We could say return ch === '/' as well, technically.\n                return this.value.includes(ch);\n        }\n    }\n}\nfunction isNotEmpty(segment) {\n    return segment.length > 0;\n}\nvar SegmentKind;\n(function (SegmentKind) {\n    SegmentKind[SegmentKind[\"star\"] = 1] = \"star\";\n    SegmentKind[SegmentKind[\"dynamic\"] = 2] = \"dynamic\";\n    SegmentKind[SegmentKind[\"static\"] = 3] = \"static\";\n})(SegmentKind || (SegmentKind = {}));\nclass StaticSegment {\n    constructor(value, caseSensitive) {\n        this.value = value;\n        this.caseSensitive = caseSensitive;\n    }\n    get kind() { return 3 /* static */; }\n    appendTo(state) {\n        const { value, value: { length } } = this;\n        if (this.caseSensitive) {\n            for (let i = 0; i < length; ++i) {\n                state = state.append(\n                /* segment */ this, \n                /* value   */ value.charAt(i));\n            }\n        }\n        else {\n            for (let i = 0; i < length; ++i) {\n                const ch = value.charAt(i);\n                state = state.append(\n                /* segment */ this, \n                /* value   */ ch.toUpperCase() + ch.toLowerCase());\n            }\n        }\n        return state;\n    }\n    equals(b) {\n        return (b.kind === 3 /* static */ &&\n            b.caseSensitive === this.caseSensitive &&\n            b.value === this.value);\n    }\n}\nclass DynamicSegment {\n    constructor(name, optional) {\n        this.name = name;\n        this.optional = optional;\n    }\n    get kind() { return 2 /* dynamic */; }\n    appendTo(state) {\n        state = state.append(\n        /* segment */ this, \n        /* value   */ '/');\n        return state;\n    }\n    equals(b) {\n        return (b.kind === 2 /* dynamic */ &&\n            b.optional === this.optional &&\n            b.name === this.name);\n    }\n}\nclass StarSegment {\n    constructor(name) {\n        this.name = name;\n    }\n    get kind() { return 1 /* star */; }\n    appendTo(state) {\n        state = state.append(\n        /* segment */ this, \n        /* value   */ '');\n        return state;\n    }\n    equals(b) {\n        return (b.kind === 1 /* star */ &&\n            b.name === this.name);\n    }\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGUtcmVjb2duaXplci9kaXN0L2VzbS9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9yb3V0ZS1yZWNvZ25pemVyL2Rpc3QvZXNtL2luZGV4LmpzPzgzYjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENvbmZpZ3VyYWJsZVJvdXRlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXRoLCBjYXNlU2Vuc2l0aXZlLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuY2FzZVNlbnNpdGl2ZSA9IGNhc2VTZW5zaXRpdmU7XG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEVuZHBvaW50IHtcbiAgICBjb25zdHJ1Y3Rvcihyb3V0ZSwgcGFyYW1OYW1lcykge1xuICAgICAgICB0aGlzLnJvdXRlID0gcm91dGU7XG4gICAgICAgIHRoaXMucGFyYW1OYW1lcyA9IHBhcmFtTmFtZXM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlY29nbml6ZWRSb3V0ZSB7XG4gICAgY29uc3RydWN0b3IoZW5kcG9pbnQsIHBhcmFtcykge1xuICAgICAgICB0aGlzLmVuZHBvaW50ID0gZW5kcG9pbnQ7XG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgIH1cbn1cbmNsYXNzIENhbmRpZGF0ZSB7XG4gICAgY29uc3RydWN0b3IoY2hhcnMsIHN0YXRlcywgc2tpcHBlZFN0YXRlcywgcmVzdWx0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5jaGFycyA9IGNoYXJzO1xuICAgICAgICB0aGlzLnN0YXRlcyA9IHN0YXRlcztcbiAgICAgICAgdGhpcy5za2lwcGVkU3RhdGVzID0gc2tpcHBlZFN0YXRlcztcbiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIHRoaXMuaGVhZCA9IHN0YXRlc1tzdGF0ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0ZWQtb3B0aW9uYWwtY2hhaW5cbiAgICAgICAgdGhpcy5lbmRwb2ludCA9IChfYSA9IHRoaXMuaGVhZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVuZHBvaW50O1xuICAgIH1cbiAgICBhZHZhbmNlKGNoKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhcnMsIHN0YXRlcywgc2tpcHBlZFN0YXRlcywgcmVzdWx0IH0gPSB0aGlzO1xuICAgICAgICBsZXQgc3RhdGVUb0FkZCA9IG51bGw7XG4gICAgICAgIGxldCBtYXRjaENvdW50ID0gMDtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGF0ZXNbc3RhdGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBmdW5jdGlvbiAkcHJvY2VzcyhuZXh0U3RhdGUsIHNraXBwZWRTdGF0ZSkge1xuICAgICAgICAgICAgaWYgKG5leHRTdGF0ZS5pc01hdGNoKGNoKSkge1xuICAgICAgICAgICAgICAgIGlmICgrK21hdGNoQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVUb0FkZCA9IG5leHRTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQobmV3IENhbmRpZGF0ZShjaGFycy5jb25jYXQoY2gpLCBzdGF0ZXMuY29uY2F0KG5leHRTdGF0ZSksIHNraXBwZWRTdGF0ZSA9PT0gbnVsbCA/IHNraXBwZWRTdGF0ZXMgOiBza2lwcGVkU3RhdGVzLmNvbmNhdChza2lwcGVkU3RhdGUpLCByZXN1bHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGUuc2VnbWVudCA9PT0gbnVsbCAmJiBuZXh0U3RhdGUuaXNPcHRpb25hbCAmJiBuZXh0U3RhdGUubmV4dFN0YXRlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0U3RhdGUubmV4dFN0YXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtuZXh0U3RhdGUubmV4dFN0YXRlcy5sZW5ndGh9IG5leHRTdGF0ZXNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VwYXJhdG9yID0gbmV4dFN0YXRlLm5leHRTdGF0ZXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKCFzZXBhcmF0b3IuaXNTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb3QgYSBzZXBhcmF0b3JgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlcGFyYXRvci5uZXh0U3RhdGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgJG5leHRTdGF0ZSBvZiBzZXBhcmF0b3IubmV4dFN0YXRlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHByb2Nlc3MoJG5leHRTdGF0ZSwgbmV4dFN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuaXNEeW5hbWljKSB7XG4gICAgICAgICAgICAkcHJvY2VzcyhzdGF0ZSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLm5leHRTdGF0ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmV4dFN0YXRlIG9mIHN0YXRlLm5leHRTdGF0ZXMpIHtcbiAgICAgICAgICAgICAgICAkcHJvY2VzcyhuZXh0U3RhdGUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZVRvQWRkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh0aGlzLmhlYWQgPSBzdGF0ZVRvQWRkKTtcbiAgICAgICAgICAgIGNoYXJzLnB1c2goY2gpO1xuICAgICAgICAgICAgaWYgKHN0YXRlVG9BZGQuZW5kcG9pbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZHBvaW50ID0gc3RhdGVUb0FkZC5lbmRwb2ludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnJlbW92ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbGl6ZSgpIHtcbiAgICAgICAgZnVuY3Rpb24gY29sbGVjdFNraXBwZWRTdGF0ZXMoc2tpcHBlZFN0YXRlcywgc3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRTdGF0ZXMgPSBzdGF0ZS5uZXh0U3RhdGVzO1xuICAgICAgICAgICAgaWYgKG5leHRTdGF0ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV4dFN0YXRlcy5sZW5ndGggPT09IDEgJiYgbmV4dFN0YXRlc1swXS5zZWdtZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3RTa2lwcGVkU3RhdGVzKHNraXBwZWRTdGF0ZXMsIG5leHRTdGF0ZXNbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBuZXh0U3RhdGUgb2YgbmV4dFN0YXRlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRTdGF0ZS5pc09wdGlvbmFsICYmIG5leHRTdGF0ZS5lbmRwb2ludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBwZWRTdGF0ZXMucHVzaChuZXh0U3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0U3RhdGUubmV4dFN0YXRlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0ICRuZXh0U3RhdGUgb2YgbmV4dFN0YXRlLm5leHRTdGF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RTa2lwcGVkU3RhdGVzKHNraXBwZWRTdGF0ZXMsICRuZXh0U3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbGxlY3RTa2lwcGVkU3RhdGVzKHRoaXMuc2tpcHBlZFN0YXRlcywgdGhpcy5oZWFkKTtcbiAgICB9XG4gICAgZ2V0UGFyYW1zKCkge1xuICAgICAgICBjb25zdCB7IHN0YXRlcywgY2hhcnMsIGVuZHBvaW50IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICAgICAgLy8gRmlyc3QgaW5pdGlhbGl6ZSBhbGwgcHJvcGVydGllcyB3aXRoIHVuZGVmaW5lZCBzbyB0aGV5IGFsbCBleGlzdCAoZXZlbiBpZiB0aGV5J3JlIG5vdCBmaWxsZWQsIGUuZy4gbm9uLW1hdGNoZWQgb3B0aW9uYWwgcGFyYW1zKVxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgZW5kcG9pbnQucGFyYW1OYW1lcykge1xuICAgICAgICAgICAgcGFyYW1zW25hbWVdID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHN0YXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YXRlc1tpXTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5pc0R5bmFtaWMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gc3RhdGUuc2VnbWVudC5uYW1lO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXNbbmFtZV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXNbbmFtZV0gPSBjaGFyc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1tuYW1lXSArPSBjaGFyc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdGhpcyBjYW5kaWRhdGUgdG8gYW5vdGhlciBjYW5kaWRhdGUgdG8gZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IHNvcnRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIGFsZ29yaXRobSBpcyBkaWZmZXJlbnQgZnJvbSBgc29ydFNvbHV0aW9uc2AgaW4gdjEncyByb3V0ZS1yZWNvZ25pemVyIGluIHRoYXQgaXQgY29tcGFyZXNcbiAgICAgKiB0aGUgY2FuZGlkYXRlcyBzZWdtZW50LWJ5LXNlZ21lbnQsIHJhdGhlciB0aGFuIG1lcmVseSBjb21wYXJpbmcgdGhlIGN1bXVsYXRpdmUgb2Ygc2VnbWVudCB0eXBlc1xuICAgICAqXG4gICAgICogVGhpcyByZXNvbHZlcyB2MSdzIGFtYmlndWl0eSBpbiBzaXR1YXRpb25zIGxpa2UgYC9mb28vOmlkL2JhcmAgdnMuIGAvZm9vL2Jhci86aWRgLCB3aGljaCBoYWQgdGhlXG4gICAgICogc2FtZSBzb3J0aW5nIHZhbHVlIGJlY2F1c2UgdGhleSBib3RoIGNvbnNpc3Qgb2YgdHdvIHN0YXRpYyBzZWdtZW50cyBhbmQgb25lIGR5bmFtaWMgc2VnbWVudC5cbiAgICAgKlxuICAgICAqIFdpdGggdGhpcyBhbGdvcml0aG0sIGAvZm9vL2Jhci86aWRgIHdvdWxkIGFsd2F5cyBiZSBzb3J0ZWQgZmlyc3QgYmVjYXVzZSB0aGUgc2Vjb25kIHNlZ21lbnQgaXMgZGlmZmVyZW50LFxuICAgICAqIGFuZCBzdGF0aWMgd2lucyBvdmVyIGR5bmFtaWMuXG4gICAgICpcbiAgICAgKiAjIyMgTk9URVxuICAgICAqIFRoaXMgYWxnb3JpdGhtIHZpb2xhdGVzIHNvbWUgb2YgdGhlIGludmFyaWFudHMgb2YgdjEncyBhbGdvcml0aG0sXG4gICAgICogYnV0IHRob3NlIGludmFyaWFudHMgd2VyZSBhcmd1YWJseSBub3QgdmVyeSBzb3VuZCB0byBiZWdpbiB3aXRoLiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogYC9mb28vKnBhdGgvYmFyL2JhemAgdnMuIGAvZm9vL2Jhci8qcGF0aDEvKnBhdGgyYFxuICAgICAqIC0gaW4gdjEsIHRoZSBmaXJzdCB3b3VsZCB3aW4gYmVjYXVzZSB0aGF0IG1hdGNoIGhhcyBmZXdlciBzdGFyc1xuICAgICAqIC0gaW4gdjIsIHRoZSBzZWNvbmQgd2lsbCB3aW4gYmVjYXVzZSB0aGVyZSBpcyBhIGJpZ2dlciBzdGF0aWMgbWF0Y2ggYXQgdGhlIHN0YXJ0IG9mIHRoZSBwYXR0ZXJuXG4gICAgICpcbiAgICAgKiBUaGUgYWxnb3JpdGhtIHNob3VsZCBiZSBtb3JlIGxvZ2ljYWwgYW5kIGVhc2llciB0byByZWFzb24gYWJvdXQgaW4gdjIsIGJ1dCBpdCdzIGltcG9ydGFudCB0byBiZSBhd2FyZSBvZlxuICAgICAqIHN1YnRsZSBkaWZmZXJlbmNlIGxpa2UgdGhpcyB3aGljaCBtaWdodCBzdXJwcmlzZSBzb21lIHVzZXJzIHdobyBoYXBwZW5lZCB0byByZWx5IG9uIHRoaXMgYmVoYXZpb3IgZnJvbSB2MSxcbiAgICAgKiBpbnRlbnRpb25hbGx5IG9yIHVuaW50ZW50aW9uYWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiIC0gVGhlIGNhbmRpZGF0ZSB0byBjb21wYXJlIHRoaXMgdG8uXG4gICAgICogUGFyYW1ldGVyIG5hbWUgaXMgYGJgIGJlY2F1c2UgdGhlIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBsaWtlIHNvOiBgc3RhdGVzLnNvcnQoKGEsIGIpID0+IGEuY29tcGFyZVRvKGIpKWAuXG4gICAgICogVGhpcyB3aWxsIGJyaW5nIHRoZSBjYW5kaWRhdGUgd2l0aCB0aGUgaGlnaGVzdCBzY29yZSB0byB0aGUgZmlyc3QgcG9zaXRpb24gb2YgdGhlIGFycmF5LlxuICAgICAqL1xuICAgIGNvbXBhcmVUbyhiKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlc0EgPSB0aGlzLnN0YXRlcztcbiAgICAgICAgY29uc3Qgc3RhdGVzQiA9IGIuc3RhdGVzO1xuICAgICAgICBmb3IgKGxldCBpQSA9IDAsIGlCID0gMCwgaWkgPSBNYXRoLm1heChzdGF0ZXNBLmxlbmd0aCwgc3RhdGVzQi5sZW5ndGgpOyBpQSA8IGlpOyArK2lBKSB7XG4gICAgICAgICAgICBsZXQgc3RhdGVBID0gc3RhdGVzQVtpQV07XG4gICAgICAgICAgICBpZiAoc3RhdGVBID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzdGF0ZUIgPSBzdGF0ZXNCW2lCXTtcbiAgICAgICAgICAgIGlmIChzdGF0ZUIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzZWdtZW50QSA9IHN0YXRlQS5zZWdtZW50O1xuICAgICAgICAgICAgbGV0IHNlZ21lbnRCID0gc3RhdGVCLnNlZ21lbnQ7XG4gICAgICAgICAgICBpZiAoc2VnbWVudEEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VnbWVudEIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgKytpQjtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoc3RhdGVBID0gc3RhdGVzQVsrK2lBXSkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VnbWVudEEgPSBzdGF0ZUEuc2VnbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNlZ21lbnRCID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKChzdGF0ZUIgPSBzdGF0ZXNCWysraUJdKSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VnbWVudEIgPSBzdGF0ZUIuc2VnbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWdtZW50QS5raW5kIDwgc2VnbWVudEIua2luZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlZ21lbnRBLmtpbmQgPiBzZWdtZW50Qi5raW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKytpQjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBza2lwcGVkU3RhdGVzQSA9IHRoaXMuc2tpcHBlZFN0YXRlcztcbiAgICAgICAgY29uc3Qgc2tpcHBlZFN0YXRlc0IgPSBiLnNraXBwZWRTdGF0ZXM7XG4gICAgICAgIGNvbnN0IHNraXBwZWRTdGF0ZXNBTGVuID0gc2tpcHBlZFN0YXRlc0EubGVuZ3RoO1xuICAgICAgICBjb25zdCBza2lwcGVkU3RhdGVzQkxlbiA9IHNraXBwZWRTdGF0ZXNCLmxlbmd0aDtcbiAgICAgICAgaWYgKHNraXBwZWRTdGF0ZXNBTGVuIDwgc2tpcHBlZFN0YXRlc0JMZW4pIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwcGVkU3RhdGVzQUxlbiA+IHNraXBwZWRTdGF0ZXNCTGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBza2lwcGVkU3RhdGVzQUxlbjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBza2lwcGVkU3RhdGVBID0gc2tpcHBlZFN0YXRlc0FbaV07XG4gICAgICAgICAgICBjb25zdCBza2lwcGVkU3RhdGVCID0gc2tpcHBlZFN0YXRlc0JbaV07XG4gICAgICAgICAgICBpZiAoc2tpcHBlZFN0YXRlQS5sZW5ndGggPCBza2lwcGVkU3RhdGVCLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNraXBwZWRTdGF0ZUEubGVuZ3RoID4gc2tpcHBlZFN0YXRlQi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgb25seSBiZSBwb3NzaWJsZSB3aXRoIGEgc2luZ2xlIHBhdHRlcm4gd2l0aCBtdWx0aXBsZSBjb25zZWN1dGl2ZSBzdGFyIHNlZ21lbnRzLlxuICAgICAgICAvLyBUT0RPOiBwcm9iYWJseSB3YW50IHRvIHdhcm4gb3IgZXZlbiB0aHJvdyBoZXJlLCBidXQgbGVhdmUgaXQgYmUgZm9yIG5vdy5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFzRW5kcG9pbnQoY2FuZGlkYXRlKSB7XG4gICAgcmV0dXJuIGNhbmRpZGF0ZS5oZWFkLmVuZHBvaW50ICE9PSBudWxsO1xufVxuZnVuY3Rpb24gY29tcGFyZUNoYWlucyhhLCBiKSB7XG4gICAgcmV0dXJuIGEuY29tcGFyZVRvKGIpO1xufVxuY2xhc3MgUmVjb2duaXplUmVzdWx0IHtcbiAgICBjb25zdHJ1Y3Rvcihyb290U3RhdGUpIHtcbiAgICAgICAgdGhpcy5jYW5kaWRhdGVzID0gW107XG4gICAgICAgIHRoaXMuY2FuZGlkYXRlcyA9IFtuZXcgQ2FuZGlkYXRlKFsnJ10sIFtyb290U3RhdGVdLCBbXSwgdGhpcyldO1xuICAgIH1cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FuZGlkYXRlcy5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIGdldFNvbHV0aW9uKCkge1xuICAgICAgICBjb25zdCBjYW5kaWRhdGVzID0gdGhpcy5jYW5kaWRhdGVzLmZpbHRlcihoYXNFbmRwb2ludCk7XG4gICAgICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgY2FuZGlkYXRlcykge1xuICAgICAgICAgICAgY2FuZGlkYXRlLmZpbmFsaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FuZGlkYXRlcy5zb3J0KGNvbXBhcmVDaGFpbnMpO1xuICAgICAgICByZXR1cm4gY2FuZGlkYXRlc1swXTtcbiAgICB9XG4gICAgYWRkKGNhbmRpZGF0ZSkge1xuICAgICAgICB0aGlzLmNhbmRpZGF0ZXMucHVzaChjYW5kaWRhdGUpO1xuICAgIH1cbiAgICByZW1vdmUoY2FuZGlkYXRlKSB7XG4gICAgICAgIHRoaXMuY2FuZGlkYXRlcy5zcGxpY2UodGhpcy5jYW5kaWRhdGVzLmluZGV4T2YoY2FuZGlkYXRlKSwgMSk7XG4gICAgfVxuICAgIGFkdmFuY2UoY2gpIHtcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlcyA9IHRoaXMuY2FuZGlkYXRlcy5zbGljZSgpO1xuICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBjYW5kaWRhdGVzKSB7XG4gICAgICAgICAgICBjYW5kaWRhdGUuYWR2YW5jZShjaCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUm91dGVSZWNvZ25pemVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5yb290U3RhdGUgPSBuZXcgU3RhdGUobnVsbCwgbnVsbCwgJycpO1xuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBhZGQocm91dGVPclJvdXRlcykge1xuICAgICAgICBpZiAocm91dGVPclJvdXRlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJvdXRlIG9mIHJvdXRlT3JSb3V0ZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRhZGQocm91dGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kYWRkKHJvdXRlT3JSb3V0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFyIHRoZSBjYWNoZSB3aGVuZXZlciB0aGVyZSBhcmUgc3RhdGUgY2hhbmdlcywgYmVjYXVzZSB0aGUgcmVjb2duaXplUmVzdWx0cyBjb3VsZCBiZSBhcmJpdHJhcmlseSBkaWZmZXJlbnQgYXMgYSByZXN1bHRcbiAgICAgICAgdGhpcy5jYWNoZS5jbGVhcigpO1xuICAgIH1cbiAgICAkYWRkKHJvdXRlKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSByb3V0ZS5wYXRoO1xuICAgICAgICBjb25zdCAkcm91dGUgPSBuZXcgQ29uZmlndXJhYmxlUm91dGUocm91dGUucGF0aCwgcm91dGUuY2FzZVNlbnNpdGl2ZSA9PT0gdHJ1ZSwgcm91dGUuaGFuZGxlcik7XG4gICAgICAgIC8vIE5vcm1hbGl6ZSBsZWFkaW5nLCB0cmFpbGluZyBhbmQgZG91YmxlIHNsYXNoZXMgYnkgaWdub3JpbmcgZW1wdHkgc2VnbWVudHNcbiAgICAgICAgY29uc3QgcGFydHMgPSBwYXRoID09PSAnJyA/IFsnJ10gOiBwYXRoLnNwbGl0KCcvJykuZmlsdGVyKGlzTm90RW1wdHkpO1xuICAgICAgICBjb25zdCBwYXJhbU5hbWVzID0gW107XG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMucm9vdFN0YXRlO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgICAgIC8vIEVhY2ggc2VnbWVudCBhbHdheXMgYmVnaW5zIHdpdGggYSBzbGFzaCwgc28gd2UgcmVwcmVzZW50IHRoaXMgd2l0aCBhIG5vbi1zZWdtZW50IHN0YXRlXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLmFwcGVuZChudWxsLCAnLycpO1xuICAgICAgICAgICAgc3dpdGNoIChwYXJ0LmNoYXJBdCgwKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJzonOiB7IC8vIHJvdXRlIHBhcmFtZXRlclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc09wdGlvbmFsID0gcGFydC5lbmRzV2l0aCgnPycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gaXNPcHRpb25hbCA/IHBhcnQuc2xpY2UoMSwgLTEpIDogcGFydC5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IG5ldyBEeW5hbWljU2VnbWVudChuYW1lLCBpc09wdGlvbmFsKS5hcHBlbmRUbyhzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICcqJzogeyAvLyBkeW5hbWljIHJvdXRlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBwYXJ0LnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbU5hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gbmV3IFN0YXJTZWdtZW50KG5hbWUpLmFwcGVuZFRvKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHsgLy8gc3RhbmRhcmQgcGF0aCByb3V0ZVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IG5ldyBTdGF0aWNTZWdtZW50KHBhcnQsICRyb3V0ZS5jYXNlU2Vuc2l0aXZlKS5hcHBlbmRUbyhzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmRwb2ludCA9IG5ldyBFbmRwb2ludCgkcm91dGUsIHBhcmFtTmFtZXMpO1xuICAgICAgICBzdGF0ZS5zZXRFbmRwb2ludChlbmRwb2ludCk7XG4gICAgfVxuICAgIHJlY29nbml6ZShwYXRoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmNhY2hlLmdldChwYXRoKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlLnNldChwYXRoLCByZXN1bHQgPSB0aGlzLiRyZWNvZ25pemUocGF0aCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgICRyZWNvZ25pemUocGF0aCkge1xuICAgICAgICBwYXRoID0gZGVjb2RlVVJJKHBhdGgpO1xuICAgICAgICBpZiAoIXBhdGguc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBwYXRoID0gYC8ke3BhdGh9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAxICYmIHBhdGguZW5kc1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgcGF0aCA9IHBhdGguc2xpY2UoMCwgLTEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBSZWNvZ25pemVSZXN1bHQodGhpcy5yb290U3RhdGUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBwYXRoLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoID0gcGF0aC5jaGFyQXQoaSk7XG4gICAgICAgICAgICByZXN1bHQuYWR2YW5jZShjaCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmlzRW1wdHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSByZXN1bHQuZ2V0U29sdXRpb24oKTtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBlbmRwb2ludCB9ID0gY2FuZGlkYXRlO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBjYW5kaWRhdGUuZ2V0UGFyYW1zKCk7XG4gICAgICAgIHJldHVybiBuZXcgUmVjb2duaXplZFJvdXRlKGVuZHBvaW50LCBwYXJhbXMpO1xuICAgIH1cbn1cbmNsYXNzIFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihwcmV2U3RhdGUsIHNlZ21lbnQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMucHJldlN0YXRlID0gcHJldlN0YXRlO1xuICAgICAgICB0aGlzLnNlZ21lbnQgPSBzZWdtZW50O1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMubmV4dFN0YXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZW5kcG9pbnQgPSBudWxsO1xuICAgICAgICBzd2l0Y2ggKHNlZ21lbnQgPT09IG51bGwgfHwgc2VnbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VnbWVudC5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIDIgLyogZHluYW1pYyAqLzpcbiAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCA9IHByZXZTdGF0ZS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTZXBhcmF0b3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRHluYW1pYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5pc09wdGlvbmFsID0gc2VnbWVudC5vcHRpb25hbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMSAvKiBzdGFyICovOlxuICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gcHJldlN0YXRlLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1NlcGFyYXRvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNEeW5hbWljID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMyAvKiBzdGF0aWMgKi86XG4gICAgICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBwcmV2U3RhdGUubGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU2VwYXJhdG9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0R5bmFtaWMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gcHJldlN0YXRlID09PSBudWxsID8gMCA6IHByZXZTdGF0ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1NlcGFyYXRvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0R5bmFtaWMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBhcHBlbmQoc2VnbWVudCwgdmFsdWUpIHtcbiAgICAgICAgbGV0IHN0YXRlO1xuICAgICAgICBsZXQgbmV4dFN0YXRlcyA9IHRoaXMubmV4dFN0YXRlcztcbiAgICAgICAgaWYgKG5leHRTdGF0ZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXRlID0gdm9pZCAwO1xuICAgICAgICAgICAgbmV4dFN0YXRlcyA9IHRoaXMubmV4dFN0YXRlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNlZ21lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXRlID0gbmV4dFN0YXRlcy5maW5kKHMgPT4gcy52YWx1ZSA9PT0gdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBuZXh0U3RhdGVzLmZpbmQocyA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHMuc2VnbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVxdWFscyhzZWdtZW50KTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG5leHRTdGF0ZXMucHVzaChzdGF0ZSA9IG5ldyBTdGF0ZSh0aGlzLCBzZWdtZW50LCB2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgc2V0RW5kcG9pbnQoZW5kcG9pbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kcG9pbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGFkZCBhbWJpZ3VvdXMgcm91dGUuIFRoZSBwYXR0ZXJuICcke2VuZHBvaW50LnJvdXRlLnBhdGh9JyBjbGFzaGVzIHdpdGggJyR7dGhpcy5lbmRwb2ludC5yb3V0ZS5wYXRofSdgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZHBvaW50ID0gZW5kcG9pbnQ7XG4gICAgICAgIGlmICh0aGlzLmlzT3B0aW9uYWwpIHtcbiAgICAgICAgICAgIHRoaXMucHJldlN0YXRlLnNldEVuZHBvaW50KGVuZHBvaW50KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZTdGF0ZS5pc1NlcGFyYXRvciAmJiB0aGlzLnByZXZTdGF0ZS5wcmV2U3RhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZTdGF0ZS5wcmV2U3RhdGUuc2V0RW5kcG9pbnQoZW5kcG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlzTWF0Y2goY2gpIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudCA9IHRoaXMuc2VnbWVudDtcbiAgICAgICAgc3dpdGNoIChzZWdtZW50ID09PSBudWxsIHx8IHNlZ21lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlZ21lbnQua2luZCkge1xuICAgICAgICAgICAgY2FzZSAyIC8qIGR5bmFtaWMgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLnZhbHVlLmluY2x1ZGVzKGNoKTtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBzdGFyICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSAzIC8qIHN0YXRpYyAqLzpcbiAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgICAgIC8vIHNlZ21lbnQgc2VwYXJhdG9ycyAoc2xhc2hlcykgYXJlIG5vbi1zZWdtZW50cy4gV2UgY291bGQgc2F5IHJldHVybiBjaCA9PT0gJy8nIGFzIHdlbGwsIHRlY2huaWNhbGx5LlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmluY2x1ZGVzKGNoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzTm90RW1wdHkoc2VnbWVudCkge1xuICAgIHJldHVybiBzZWdtZW50Lmxlbmd0aCA+IDA7XG59XG52YXIgU2VnbWVudEtpbmQ7XG4oZnVuY3Rpb24gKFNlZ21lbnRLaW5kKSB7XG4gICAgU2VnbWVudEtpbmRbU2VnbWVudEtpbmRbXCJzdGFyXCJdID0gMV0gPSBcInN0YXJcIjtcbiAgICBTZWdtZW50S2luZFtTZWdtZW50S2luZFtcImR5bmFtaWNcIl0gPSAyXSA9IFwiZHluYW1pY1wiO1xuICAgIFNlZ21lbnRLaW5kW1NlZ21lbnRLaW5kW1wic3RhdGljXCJdID0gM10gPSBcInN0YXRpY1wiO1xufSkoU2VnbWVudEtpbmQgfHwgKFNlZ21lbnRLaW5kID0ge30pKTtcbmNsYXNzIFN0YXRpY1NlZ21lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBjYXNlU2Vuc2l0aXZlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5jYXNlU2Vuc2l0aXZlID0gY2FzZVNlbnNpdGl2ZTtcbiAgICB9XG4gICAgZ2V0IGtpbmQoKSB7IHJldHVybiAzIC8qIHN0YXRpYyAqLzsgfVxuICAgIGFwcGVuZFRvKHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIHZhbHVlOiB7IGxlbmd0aCB9IH0gPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5jYXNlU2Vuc2l0aXZlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZS5hcHBlbmQoXG4gICAgICAgICAgICAgICAgLyogc2VnbWVudCAqLyB0aGlzLCBcbiAgICAgICAgICAgICAgICAvKiB2YWx1ZSAgICovIHZhbHVlLmNoYXJBdChpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2ggPSB2YWx1ZS5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZS5hcHBlbmQoXG4gICAgICAgICAgICAgICAgLyogc2VnbWVudCAqLyB0aGlzLCBcbiAgICAgICAgICAgICAgICAvKiB2YWx1ZSAgICovIGNoLnRvVXBwZXJDYXNlKCkgKyBjaC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGVxdWFscyhiKSB7XG4gICAgICAgIHJldHVybiAoYi5raW5kID09PSAzIC8qIHN0YXRpYyAqLyAmJlxuICAgICAgICAgICAgYi5jYXNlU2Vuc2l0aXZlID09PSB0aGlzLmNhc2VTZW5zaXRpdmUgJiZcbiAgICAgICAgICAgIGIudmFsdWUgPT09IHRoaXMudmFsdWUpO1xuICAgIH1cbn1cbmNsYXNzIER5bmFtaWNTZWdtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBvcHRpb25hbCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gb3B0aW9uYWw7XG4gICAgfVxuICAgIGdldCBraW5kKCkgeyByZXR1cm4gMiAvKiBkeW5hbWljICovOyB9XG4gICAgYXBwZW5kVG8oc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZS5hcHBlbmQoXG4gICAgICAgIC8qIHNlZ21lbnQgKi8gdGhpcywgXG4gICAgICAgIC8qIHZhbHVlICAgKi8gJy8nKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICBlcXVhbHMoYikge1xuICAgICAgICByZXR1cm4gKGIua2luZCA9PT0gMiAvKiBkeW5hbWljICovICYmXG4gICAgICAgICAgICBiLm9wdGlvbmFsID09PSB0aGlzLm9wdGlvbmFsICYmXG4gICAgICAgICAgICBiLm5hbWUgPT09IHRoaXMubmFtZSk7XG4gICAgfVxufVxuY2xhc3MgU3RhclNlZ21lbnQge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgZ2V0IGtpbmQoKSB7IHJldHVybiAxIC8qIHN0YXIgKi87IH1cbiAgICBhcHBlbmRUbyhzdGF0ZSkge1xuICAgICAgICBzdGF0ZSA9IHN0YXRlLmFwcGVuZChcbiAgICAgICAgLyogc2VnbWVudCAqLyB0aGlzLCBcbiAgICAgICAgLyogdmFsdWUgICAqLyAnJyk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgZXF1YWxzKGIpIHtcbiAgICAgICAgcmV0dXJuIChiLmtpbmQgPT09IDEgLyogc3RhciAqLyAmJlxuICAgICAgICAgICAgYi5uYW1lID09PSB0aGlzLm5hbWUpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/route-recognizer/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/component-agent.js":
/*!******************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/component-agent.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ComponentAgent\": () => (/* binding */ ComponentAgent)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _route_definition_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./route-definition.js */ \"./node_modules/@aurelia/router/dist/esm/route-definition.js\");\n/* harmony import */ var _instructions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./instructions.js */ \"./node_modules/@aurelia/router/dist/esm/instructions.js\");\n\n\n\n\nconst componentAgentLookup = new WeakMap();\nclass ComponentAgent {\n    constructor(instance, controller, definition, routeNode, ctx) {\n        var _a, _b, _c, _d;\n        this.instance = instance;\n        this.controller = controller;\n        this.definition = definition;\n        this.routeNode = routeNode;\n        this.ctx = ctx;\n        this.logger = ctx.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.ILogger).scopeTo(`ComponentAgent<${ctx.friendlyPath}>`);\n        this.logger.trace(`constructor()`);\n        const lifecycleHooks = controller.lifecycleHooks;\n        this.canLoadHooks = ((_a = lifecycleHooks.canLoad) !== null && _a !== void 0 ? _a : []).map(x => x.instance);\n        this.loadHooks = ((_b = lifecycleHooks.load) !== null && _b !== void 0 ? _b : []).map(x => x.instance);\n        this.canUnloadHooks = ((_c = lifecycleHooks.canUnload) !== null && _c !== void 0 ? _c : []).map(x => x.instance);\n        this.unloadHooks = ((_d = lifecycleHooks.unload) !== null && _d !== void 0 ? _d : []).map(x => x.instance);\n        this.hasCanLoad = 'canLoad' in instance;\n        this.hasLoad = 'load' in instance;\n        this.hasCanUnload = 'canUnload' in instance;\n        this.hasUnload = 'unload' in instance;\n    }\n    static for(componentInstance, hostController, routeNode, ctx) {\n        let componentAgent = componentAgentLookup.get(componentInstance);\n        if (componentAgent === void 0) {\n            const definition = _route_definition_js__WEBPACK_IMPORTED_MODULE_2__.RouteDefinition.resolve(componentInstance.constructor);\n            const controller = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.Controller.forCustomElement(ctx.get(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.IAppRoot), ctx, componentInstance, hostController.host, null);\n            componentAgentLookup.set(componentInstance, componentAgent = new ComponentAgent(componentInstance, controller, definition, routeNode, ctx));\n        }\n        return componentAgent;\n    }\n    activate(initiator, parent, flags) {\n        if (initiator === null) {\n            this.logger.trace(`activate() - initial`);\n            return this.controller.activate(this.controller, parent, flags);\n        }\n        this.logger.trace(`activate()`);\n        // Promise return values from user VM hooks are awaited by the initiator\n        void this.controller.activate(initiator, parent, flags);\n    }\n    deactivate(initiator, parent, flags) {\n        if (initiator === null) {\n            this.logger.trace(`deactivate() - initial`);\n            return this.controller.deactivate(this.controller, parent, flags);\n        }\n        this.logger.trace(`deactivate()`);\n        // Promise return values from user VM hooks are awaited by the initiator\n        void this.controller.deactivate(initiator, parent, flags);\n    }\n    dispose() {\n        this.logger.trace(`dispose()`);\n        this.controller.dispose();\n    }\n    canUnload(tr, next, b) {\n        this.logger.trace(`canUnload(next:%s) - invoking ${this.canUnloadHooks.length} hooks`, next);\n        b.push();\n        for (const hook of this.canUnloadHooks) {\n            tr.run(() => {\n                b.push();\n                return hook.canUnload(this.instance, next, this.routeNode);\n            }, ret => {\n                if (tr.guardsResult === true && ret !== true) {\n                    tr.guardsResult = false;\n                }\n                b.pop();\n            });\n        }\n        if (this.hasCanUnload) {\n            tr.run(() => {\n                b.push();\n                return this.instance.canUnload(next, this.routeNode);\n            }, ret => {\n                if (tr.guardsResult === true && ret !== true) {\n                    tr.guardsResult = false;\n                }\n                b.pop();\n            });\n        }\n        b.pop();\n    }\n    canLoad(tr, next, b) {\n        this.logger.trace(`canLoad(next:%s) - invoking ${this.canLoadHooks.length} hooks`, next);\n        b.push();\n        for (const hook of this.canLoadHooks) {\n            tr.run(() => {\n                b.push();\n                return hook.canLoad(this.instance, next.params, next, this.routeNode);\n            }, ret => {\n                if (tr.guardsResult === true && ret !== true) {\n                    tr.guardsResult = ret === false ? false : _instructions_js__WEBPACK_IMPORTED_MODULE_3__.ViewportInstructionTree.create(ret);\n                }\n                b.pop();\n            });\n        }\n        if (this.hasCanLoad) {\n            tr.run(() => {\n                b.push();\n                return this.instance.canLoad(next.params, next, this.routeNode);\n            }, ret => {\n                if (tr.guardsResult === true && ret !== true) {\n                    tr.guardsResult = ret === false ? false : _instructions_js__WEBPACK_IMPORTED_MODULE_3__.ViewportInstructionTree.create(ret);\n                }\n                b.pop();\n            });\n        }\n        b.pop();\n    }\n    unload(tr, next, b) {\n        this.logger.trace(`unload(next:%s) - invoking ${this.unloadHooks.length} hooks`, next);\n        b.push();\n        for (const hook of this.unloadHooks) {\n            tr.run(() => {\n                b.push();\n                return hook.unload(this.instance, next, this.routeNode);\n            }, () => {\n                b.pop();\n            });\n        }\n        if (this.hasUnload) {\n            tr.run(() => {\n                b.push();\n                return this.instance.unload(next, this.routeNode);\n            }, () => {\n                b.pop();\n            });\n        }\n        b.pop();\n    }\n    load(tr, next, b) {\n        this.logger.trace(`load(next:%s) - invoking ${this.loadHooks.length} hooks`, next);\n        b.push();\n        for (const hook of this.loadHooks) {\n            tr.run(() => {\n                b.push();\n                return hook.load(this.instance, next.params, next, this.routeNode);\n            }, () => {\n                b.pop();\n            });\n        }\n        if (this.hasLoad) {\n            tr.run(() => {\n                b.push();\n                return this.instance.load(next.params, next, this.routeNode);\n            }, () => {\n                b.pop();\n            });\n        }\n        b.pop();\n    }\n    toString() {\n        return `CA(ctx:'${this.ctx.friendlyPath}',c:'${this.definition.component.name}')`;\n    }\n}\n//# sourceMappingURL=component-agent.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL2NvbXBvbmVudC1hZ2VudC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9yb3V0ZXIvZGlzdC9lc20vY29tcG9uZW50LWFnZW50LmpzP2ZhZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udHJvbGxlciwgSUFwcFJvb3QgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lLWh0bWwnO1xuaW1wb3J0IHsgSUxvZ2dlciB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBSb3V0ZURlZmluaXRpb24gfSBmcm9tICcuL3JvdXRlLWRlZmluaXRpb24uanMnO1xuaW1wb3J0IHsgVmlld3BvcnRJbnN0cnVjdGlvblRyZWUgfSBmcm9tICcuL2luc3RydWN0aW9ucy5qcyc7XG5jb25zdCBjb21wb25lbnRBZ2VudExvb2t1cCA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgY2xhc3MgQ29tcG9uZW50QWdlbnQge1xuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlLCBjb250cm9sbGVyLCBkZWZpbml0aW9uLCByb3V0ZU5vZGUsIGN0eCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcbiAgICAgICAgdGhpcy5yb3V0ZU5vZGUgPSByb3V0ZU5vZGU7XG4gICAgICAgIHRoaXMuY3R4ID0gY3R4O1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGN0eC5nZXQoSUxvZ2dlcikuc2NvcGVUbyhgQ29tcG9uZW50QWdlbnQ8JHtjdHguZnJpZW5kbHlQYXRofT5gKTtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGNvbnN0cnVjdG9yKClgKTtcbiAgICAgICAgY29uc3QgbGlmZWN5Y2xlSG9va3MgPSBjb250cm9sbGVyLmxpZmVjeWNsZUhvb2tzO1xuICAgICAgICB0aGlzLmNhbkxvYWRIb29rcyA9ICgoX2EgPSBsaWZlY3ljbGVIb29rcy5jYW5Mb2FkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkubWFwKHggPT4geC5pbnN0YW5jZSk7XG4gICAgICAgIHRoaXMubG9hZEhvb2tzID0gKChfYiA9IGxpZmVjeWNsZUhvb2tzLmxvYWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdKS5tYXAoeCA9PiB4Lmluc3RhbmNlKTtcbiAgICAgICAgdGhpcy5jYW5VbmxvYWRIb29rcyA9ICgoX2MgPSBsaWZlY3ljbGVIb29rcy5jYW5VbmxvYWQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFtdKS5tYXAoeCA9PiB4Lmluc3RhbmNlKTtcbiAgICAgICAgdGhpcy51bmxvYWRIb29rcyA9ICgoX2QgPSBsaWZlY3ljbGVIb29rcy51bmxvYWQpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IFtdKS5tYXAoeCA9PiB4Lmluc3RhbmNlKTtcbiAgICAgICAgdGhpcy5oYXNDYW5Mb2FkID0gJ2NhbkxvYWQnIGluIGluc3RhbmNlO1xuICAgICAgICB0aGlzLmhhc0xvYWQgPSAnbG9hZCcgaW4gaW5zdGFuY2U7XG4gICAgICAgIHRoaXMuaGFzQ2FuVW5sb2FkID0gJ2NhblVubG9hZCcgaW4gaW5zdGFuY2U7XG4gICAgICAgIHRoaXMuaGFzVW5sb2FkID0gJ3VubG9hZCcgaW4gaW5zdGFuY2U7XG4gICAgfVxuICAgIHN0YXRpYyBmb3IoY29tcG9uZW50SW5zdGFuY2UsIGhvc3RDb250cm9sbGVyLCByb3V0ZU5vZGUsIGN0eCkge1xuICAgICAgICBsZXQgY29tcG9uZW50QWdlbnQgPSBjb21wb25lbnRBZ2VudExvb2t1cC5nZXQoY29tcG9uZW50SW5zdGFuY2UpO1xuICAgICAgICBpZiAoY29tcG9uZW50QWdlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IFJvdXRlRGVmaW5pdGlvbi5yZXNvbHZlKGNvbXBvbmVudEluc3RhbmNlLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBDb250cm9sbGVyLmZvckN1c3RvbUVsZW1lbnQoY3R4LmdldChJQXBwUm9vdCksIGN0eCwgY29tcG9uZW50SW5zdGFuY2UsIGhvc3RDb250cm9sbGVyLmhvc3QsIG51bGwpO1xuICAgICAgICAgICAgY29tcG9uZW50QWdlbnRMb29rdXAuc2V0KGNvbXBvbmVudEluc3RhbmNlLCBjb21wb25lbnRBZ2VudCA9IG5ldyBDb21wb25lbnRBZ2VudChjb21wb25lbnRJbnN0YW5jZSwgY29udHJvbGxlciwgZGVmaW5pdGlvbiwgcm91dGVOb2RlLCBjdHgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9uZW50QWdlbnQ7XG4gICAgfVxuICAgIGFjdGl2YXRlKGluaXRpYXRvciwgcGFyZW50LCBmbGFncykge1xuICAgICAgICBpZiAoaW5pdGlhdG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgYWN0aXZhdGUoKSAtIGluaXRpYWxgKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuYWN0aXZhdGUodGhpcy5jb250cm9sbGVyLCBwYXJlbnQsIGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgYWN0aXZhdGUoKWApO1xuICAgICAgICAvLyBQcm9taXNlIHJldHVybiB2YWx1ZXMgZnJvbSB1c2VyIFZNIGhvb2tzIGFyZSBhd2FpdGVkIGJ5IHRoZSBpbml0aWF0b3JcbiAgICAgICAgdm9pZCB0aGlzLmNvbnRyb2xsZXIuYWN0aXZhdGUoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKTtcbiAgICB9XG4gICAgZGVhY3RpdmF0ZShpbml0aWF0b3IsIHBhcmVudCwgZmxhZ3MpIHtcbiAgICAgICAgaWYgKGluaXRpYXRvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGRlYWN0aXZhdGUoKSAtIGluaXRpYWxgKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuZGVhY3RpdmF0ZSh0aGlzLmNvbnRyb2xsZXIsIHBhcmVudCwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBkZWFjdGl2YXRlKClgKTtcbiAgICAgICAgLy8gUHJvbWlzZSByZXR1cm4gdmFsdWVzIGZyb20gdXNlciBWTSBob29rcyBhcmUgYXdhaXRlZCBieSB0aGUgaW5pdGlhdG9yXG4gICAgICAgIHZvaWQgdGhpcy5jb250cm9sbGVyLmRlYWN0aXZhdGUoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGRpc3Bvc2UoKWApO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICBjYW5VbmxvYWQodHIsIG5leHQsIGIpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGNhblVubG9hZChuZXh0OiVzKSAtIGludm9raW5nICR7dGhpcy5jYW5VbmxvYWRIb29rcy5sZW5ndGh9IGhvb2tzYCwgbmV4dCk7XG4gICAgICAgIGIucHVzaCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGhvb2sgb2YgdGhpcy5jYW5VbmxvYWRIb29rcykge1xuICAgICAgICAgICAgdHIucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBiLnB1c2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaG9vay5jYW5VbmxvYWQodGhpcy5pbnN0YW5jZSwgbmV4dCwgdGhpcy5yb3V0ZU5vZGUpO1xuICAgICAgICAgICAgfSwgcmV0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHIuZ3VhcmRzUmVzdWx0ID09PSB0cnVlICYmIHJldCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ci5ndWFyZHNSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYi5wb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc0NhblVubG9hZCkge1xuICAgICAgICAgICAgdHIucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBiLnB1c2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZS5jYW5VbmxvYWQobmV4dCwgdGhpcy5yb3V0ZU5vZGUpO1xuICAgICAgICAgICAgfSwgcmV0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHIuZ3VhcmRzUmVzdWx0ID09PSB0cnVlICYmIHJldCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ci5ndWFyZHNSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYi5wb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGIucG9wKCk7XG4gICAgfVxuICAgIGNhbkxvYWQodHIsIG5leHQsIGIpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGNhbkxvYWQobmV4dDolcykgLSBpbnZva2luZyAke3RoaXMuY2FuTG9hZEhvb2tzLmxlbmd0aH0gaG9va3NgLCBuZXh0KTtcbiAgICAgICAgYi5wdXNoKCk7XG4gICAgICAgIGZvciAoY29uc3QgaG9vayBvZiB0aGlzLmNhbkxvYWRIb29rcykge1xuICAgICAgICAgICAgdHIucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBiLnB1c2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaG9vay5jYW5Mb2FkKHRoaXMuaW5zdGFuY2UsIG5leHQucGFyYW1zLCBuZXh0LCB0aGlzLnJvdXRlTm9kZSk7XG4gICAgICAgICAgICB9LCByZXQgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0ci5ndWFyZHNSZXN1bHQgPT09IHRydWUgJiYgcmV0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyLmd1YXJkc1Jlc3VsdCA9IHJldCA9PT0gZmFsc2UgPyBmYWxzZSA6IFZpZXdwb3J0SW5zdHJ1Y3Rpb25UcmVlLmNyZWF0ZShyZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiLnBvcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzQ2FuTG9hZCkge1xuICAgICAgICAgICAgdHIucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBiLnB1c2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZS5jYW5Mb2FkKG5leHQucGFyYW1zLCBuZXh0LCB0aGlzLnJvdXRlTm9kZSk7XG4gICAgICAgICAgICB9LCByZXQgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0ci5ndWFyZHNSZXN1bHQgPT09IHRydWUgJiYgcmV0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyLmd1YXJkc1Jlc3VsdCA9IHJldCA9PT0gZmFsc2UgPyBmYWxzZSA6IFZpZXdwb3J0SW5zdHJ1Y3Rpb25UcmVlLmNyZWF0ZShyZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiLnBvcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYi5wb3AoKTtcbiAgICB9XG4gICAgdW5sb2FkKHRyLCBuZXh0LCBiKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGB1bmxvYWQobmV4dDolcykgLSBpbnZva2luZyAke3RoaXMudW5sb2FkSG9va3MubGVuZ3RofSBob29rc2AsIG5leHQpO1xuICAgICAgICBiLnB1c2goKTtcbiAgICAgICAgZm9yIChjb25zdCBob29rIG9mIHRoaXMudW5sb2FkSG9va3MpIHtcbiAgICAgICAgICAgIHRyLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgYi5wdXNoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhvb2sudW5sb2FkKHRoaXMuaW5zdGFuY2UsIG5leHQsIHRoaXMucm91dGVOb2RlKTtcbiAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICBiLnBvcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzVW5sb2FkKSB7XG4gICAgICAgICAgICB0ci5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGIucHVzaCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlLnVubG9hZChuZXh0LCB0aGlzLnJvdXRlTm9kZSk7XG4gICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYi5wb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGIucG9wKCk7XG4gICAgfVxuICAgIGxvYWQodHIsIG5leHQsIGIpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGxvYWQobmV4dDolcykgLSBpbnZva2luZyAke3RoaXMubG9hZEhvb2tzLmxlbmd0aH0gaG9va3NgLCBuZXh0KTtcbiAgICAgICAgYi5wdXNoKCk7XG4gICAgICAgIGZvciAoY29uc3QgaG9vayBvZiB0aGlzLmxvYWRIb29rcykge1xuICAgICAgICAgICAgdHIucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBiLnB1c2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaG9vay5sb2FkKHRoaXMuaW5zdGFuY2UsIG5leHQucGFyYW1zLCBuZXh0LCB0aGlzLnJvdXRlTm9kZSk7XG4gICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYi5wb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc0xvYWQpIHtcbiAgICAgICAgICAgIHRyLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgYi5wdXNoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UubG9hZChuZXh0LnBhcmFtcywgbmV4dCwgdGhpcy5yb3V0ZU5vZGUpO1xuICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGIucG9wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBiLnBvcCgpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBDQShjdHg6JyR7dGhpcy5jdHguZnJpZW5kbHlQYXRofScsYzonJHt0aGlzLmRlZmluaXRpb24uY29tcG9uZW50Lm5hbWV9JylgO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC1hZ2VudC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/component-agent.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/configuration.js":
/*!****************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/configuration.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RouterRegistration\": () => (/* binding */ RouterRegistration),\n/* harmony export */   \"DefaultComponents\": () => (/* binding */ DefaultComponents),\n/* harmony export */   \"ViewportCustomElement\": () => (/* reexport safe */ _resources_viewport_js__WEBPACK_IMPORTED_MODULE_4__.ViewportCustomElement),\n/* harmony export */   \"LoadCustomAttribute\": () => (/* reexport safe */ _resources_load_js__WEBPACK_IMPORTED_MODULE_5__.LoadCustomAttribute),\n/* harmony export */   \"HrefCustomAttribute\": () => (/* reexport safe */ _resources_href_js__WEBPACK_IMPORTED_MODULE_6__.HrefCustomAttribute),\n/* harmony export */   \"ViewportCustomElementRegistration\": () => (/* binding */ ViewportCustomElementRegistration),\n/* harmony export */   \"LoadCustomAttributeRegistration\": () => (/* binding */ LoadCustomAttributeRegistration),\n/* harmony export */   \"HrefCustomAttributeRegistration\": () => (/* binding */ HrefCustomAttributeRegistration),\n/* harmony export */   \"DefaultResources\": () => (/* binding */ DefaultResources),\n/* harmony export */   \"RouterConfiguration\": () => (/* binding */ RouterConfiguration)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _route_context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./route-context.js */ \"./node_modules/@aurelia/router/dist/esm/route-context.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./router.js */ \"./node_modules/@aurelia/router/dist/esm/router.js\");\n/* harmony import */ var _resources_viewport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resources/viewport.js */ \"./node_modules/@aurelia/router/dist/esm/resources/viewport.js\");\n/* harmony import */ var _resources_load_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./resources/load.js */ \"./node_modules/@aurelia/router/dist/esm/resources/load.js\");\n/* harmony import */ var _resources_href_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./resources/href.js */ \"./node_modules/@aurelia/router/dist/esm/resources/href.js\");\n\n\n\n\n\n\n\nconst RouterRegistration = _router_js__WEBPACK_IMPORTED_MODULE_3__.IRouter;\n/**\n * Default runtime/environment-agnostic implementations for the following interfaces:\n * - `IRouter`\n */\nconst DefaultComponents = [\n    RouterRegistration,\n];\n\nconst ViewportCustomElementRegistration = _resources_viewport_js__WEBPACK_IMPORTED_MODULE_4__.ViewportCustomElement;\nconst LoadCustomAttributeRegistration = _resources_load_js__WEBPACK_IMPORTED_MODULE_5__.LoadCustomAttribute;\nconst HrefCustomAttributeRegistration = _resources_href_js__WEBPACK_IMPORTED_MODULE_6__.HrefCustomAttribute;\n/**\n * Default router resources:\n * - Custom Elements: `au-viewport`\n * - Custom Attributes: `load`, `href`\n */\nconst DefaultResources = [\n    _resources_viewport_js__WEBPACK_IMPORTED_MODULE_4__.ViewportCustomElement,\n    _resources_load_js__WEBPACK_IMPORTED_MODULE_5__.LoadCustomAttribute,\n    _resources_href_js__WEBPACK_IMPORTED_MODULE_6__.HrefCustomAttribute,\n];\nfunction configure(container, config) {\n    return container.register(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.AppTask.with(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IContainer).hydrated().call(_route_context_js__WEBPACK_IMPORTED_MODULE_2__.RouteContext.setRoot), _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.AppTask.with(_router_js__WEBPACK_IMPORTED_MODULE_3__.IRouter).afterActivate().call(router => {\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isObject)(config)) {\n            if (typeof config === 'function') {\n                return config(router);\n            }\n            else {\n                return router.start(config, true);\n            }\n        }\n        return router.start({}, true);\n    }), _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.AppTask.with(_router_js__WEBPACK_IMPORTED_MODULE_3__.IRouter).afterDeactivate().call(router => {\n        router.stop();\n    }), ...DefaultComponents, ...DefaultResources);\n}\nconst RouterConfiguration = {\n    register(container) {\n        return configure(container);\n    },\n    /**\n     * Make it possible to specify options to Router activation.\n     * Parameter is either a config object that's passed to Router's activate\n     * or a config function that's called instead of Router's activate.\n     */\n    customize(config) {\n        return {\n            register(container) {\n                return configure(container, config);\n            },\n        };\n    },\n};\n//# sourceMappingURL=configuration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL2NvbmZpZ3VyYXRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL2NvbmZpZ3VyYXRpb24uanM/Nzg1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJQ29udGFpbmVyLCBpc09iamVjdCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBBcHBUYXNrIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZS1odG1sJztcbmltcG9ydCB7IFJvdXRlQ29udGV4dCB9IGZyb20gJy4vcm91dGUtY29udGV4dC5qcyc7XG5pbXBvcnQgeyBJUm91dGVyIH0gZnJvbSAnLi9yb3V0ZXIuanMnO1xuaW1wb3J0IHsgVmlld3BvcnRDdXN0b21FbGVtZW50IH0gZnJvbSAnLi9yZXNvdXJjZXMvdmlld3BvcnQuanMnO1xuaW1wb3J0IHsgTG9hZEN1c3RvbUF0dHJpYnV0ZSB9IGZyb20gJy4vcmVzb3VyY2VzL2xvYWQuanMnO1xuaW1wb3J0IHsgSHJlZkN1c3RvbUF0dHJpYnV0ZSB9IGZyb20gJy4vcmVzb3VyY2VzL2hyZWYuanMnO1xuZXhwb3J0IGNvbnN0IFJvdXRlclJlZ2lzdHJhdGlvbiA9IElSb3V0ZXI7XG4vKipcbiAqIERlZmF1bHQgcnVudGltZS9lbnZpcm9ubWVudC1hZ25vc3RpYyBpbXBsZW1lbnRhdGlvbnMgZm9yIHRoZSBmb2xsb3dpbmcgaW50ZXJmYWNlczpcbiAqIC0gYElSb3V0ZXJgXG4gKi9cbmV4cG9ydCBjb25zdCBEZWZhdWx0Q29tcG9uZW50cyA9IFtcbiAgICBSb3V0ZXJSZWdpc3RyYXRpb24sXG5dO1xuZXhwb3J0IHsgVmlld3BvcnRDdXN0b21FbGVtZW50LCBMb2FkQ3VzdG9tQXR0cmlidXRlLCBIcmVmQ3VzdG9tQXR0cmlidXRlLCB9O1xuZXhwb3J0IGNvbnN0IFZpZXdwb3J0Q3VzdG9tRWxlbWVudFJlZ2lzdHJhdGlvbiA9IFZpZXdwb3J0Q3VzdG9tRWxlbWVudDtcbmV4cG9ydCBjb25zdCBMb2FkQ3VzdG9tQXR0cmlidXRlUmVnaXN0cmF0aW9uID0gTG9hZEN1c3RvbUF0dHJpYnV0ZTtcbmV4cG9ydCBjb25zdCBIcmVmQ3VzdG9tQXR0cmlidXRlUmVnaXN0cmF0aW9uID0gSHJlZkN1c3RvbUF0dHJpYnV0ZTtcbi8qKlxuICogRGVmYXVsdCByb3V0ZXIgcmVzb3VyY2VzOlxuICogLSBDdXN0b20gRWxlbWVudHM6IGBhdS12aWV3cG9ydGBcbiAqIC0gQ3VzdG9tIEF0dHJpYnV0ZXM6IGBsb2FkYCwgYGhyZWZgXG4gKi9cbmV4cG9ydCBjb25zdCBEZWZhdWx0UmVzb3VyY2VzID0gW1xuICAgIFZpZXdwb3J0Q3VzdG9tRWxlbWVudCxcbiAgICBMb2FkQ3VzdG9tQXR0cmlidXRlLFxuICAgIEhyZWZDdXN0b21BdHRyaWJ1dGUsXG5dO1xuZnVuY3Rpb24gY29uZmlndXJlKGNvbnRhaW5lciwgY29uZmlnKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5yZWdpc3RlcihBcHBUYXNrLndpdGgoSUNvbnRhaW5lcikuaHlkcmF0ZWQoKS5jYWxsKFJvdXRlQ29udGV4dC5zZXRSb290KSwgQXBwVGFzay53aXRoKElSb3V0ZXIpLmFmdGVyQWN0aXZhdGUoKS5jYWxsKHJvdXRlciA9PiB7XG4gICAgICAgIGlmIChpc09iamVjdChjb25maWcpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWcocm91dGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByb3V0ZXIuc3RhcnQoY29uZmlnLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm91dGVyLnN0YXJ0KHt9LCB0cnVlKTtcbiAgICB9KSwgQXBwVGFzay53aXRoKElSb3V0ZXIpLmFmdGVyRGVhY3RpdmF0ZSgpLmNhbGwocm91dGVyID0+IHtcbiAgICAgICAgcm91dGVyLnN0b3AoKTtcbiAgICB9KSwgLi4uRGVmYXVsdENvbXBvbmVudHMsIC4uLkRlZmF1bHRSZXNvdXJjZXMpO1xufVxuZXhwb3J0IGNvbnN0IFJvdXRlckNvbmZpZ3VyYXRpb24gPSB7XG4gICAgcmVnaXN0ZXIoY29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiBjb25maWd1cmUoY29udGFpbmVyKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIE1ha2UgaXQgcG9zc2libGUgdG8gc3BlY2lmeSBvcHRpb25zIHRvIFJvdXRlciBhY3RpdmF0aW9uLlxuICAgICAqIFBhcmFtZXRlciBpcyBlaXRoZXIgYSBjb25maWcgb2JqZWN0IHRoYXQncyBwYXNzZWQgdG8gUm91dGVyJ3MgYWN0aXZhdGVcbiAgICAgKiBvciBhIGNvbmZpZyBmdW5jdGlvbiB0aGF0J3MgY2FsbGVkIGluc3RlYWQgb2YgUm91dGVyJ3MgYWN0aXZhdGUuXG4gICAgICovXG4gICAgY3VzdG9taXplKGNvbmZpZykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVnaXN0ZXIoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ3VyZShjb250YWluZXIsIGNvbmZpZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlndXJhdGlvbi5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/configuration.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RouterConfiguration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_0__.RouterConfiguration),\n/* harmony export */   \"RouterRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_0__.RouterRegistration),\n/* harmony export */   \"DefaultComponents\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_0__.DefaultComponents),\n/* harmony export */   \"DefaultResources\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_0__.DefaultResources),\n/* harmony export */   \"ViewportCustomElement\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_0__.ViewportCustomElement),\n/* harmony export */   \"ViewportCustomElementRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_0__.ViewportCustomElementRegistration),\n/* harmony export */   \"LoadCustomAttribute\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_0__.LoadCustomAttribute),\n/* harmony export */   \"LoadCustomAttributeRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_0__.LoadCustomAttributeRegistration),\n/* harmony export */   \"HrefCustomAttribute\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_0__.HrefCustomAttribute),\n/* harmony export */   \"HrefCustomAttributeRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_0__.HrefCustomAttributeRegistration),\n/* harmony export */   \"ComponentAgent\": () => (/* reexport safe */ _component_agent_js__WEBPACK_IMPORTED_MODULE_1__.ComponentAgent),\n/* harmony export */   \"IViewportInstruction\": () => (/* reexport safe */ _instructions_js__WEBPACK_IMPORTED_MODULE_2__.IViewportInstruction),\n/* harmony export */   \"ILocationManager\": () => (/* reexport safe */ _location_manager_js__WEBPACK_IMPORTED_MODULE_3__.ILocationManager),\n/* harmony export */   \"IBaseHrefProvider\": () => (/* reexport safe */ _location_manager_js__WEBPACK_IMPORTED_MODULE_3__.IBaseHrefProvider),\n/* harmony export */   \"RouteConfig\": () => (/* reexport safe */ _route_js__WEBPACK_IMPORTED_MODULE_4__.RouteConfig),\n/* harmony export */   \"ChildRouteConfig\": () => (/* reexport safe */ _route_js__WEBPACK_IMPORTED_MODULE_4__.ChildRouteConfig),\n/* harmony export */   \"Route\": () => (/* reexport safe */ _route_js__WEBPACK_IMPORTED_MODULE_4__.Route),\n/* harmony export */   \"route\": () => (/* reexport safe */ _route_js__WEBPACK_IMPORTED_MODULE_4__.route),\n/* harmony export */   \"IRouteContext\": () => (/* reexport safe */ _route_context_js__WEBPACK_IMPORTED_MODULE_5__.IRouteContext),\n/* harmony export */   \"RouteContext\": () => (/* reexport safe */ _route_context_js__WEBPACK_IMPORTED_MODULE_5__.RouteContext),\n/* harmony export */   \"RouteDefinition\": () => (/* reexport safe */ _route_definition_js__WEBPACK_IMPORTED_MODULE_6__.RouteDefinition),\n/* harmony export */   \"AST\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.AST),\n/* harmony export */   \"RouteExpression\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.RouteExpression),\n/* harmony export */   \"CompositeSegmentExpression\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.CompositeSegmentExpression),\n/* harmony export */   \"ScopedSegmentExpression\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.ScopedSegmentExpression),\n/* harmony export */   \"SegmentGroupExpression\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.SegmentGroupExpression),\n/* harmony export */   \"SegmentExpression\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.SegmentExpression),\n/* harmony export */   \"ComponentExpression\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.ComponentExpression),\n/* harmony export */   \"ActionExpression\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.ActionExpression),\n/* harmony export */   \"ViewportExpression\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.ViewportExpression),\n/* harmony export */   \"ParameterListExpression\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.ParameterListExpression),\n/* harmony export */   \"ParameterExpression\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.ParameterExpression),\n/* harmony export */   \"ExpressionKind\": () => (/* reexport safe */ _route_expression_js__WEBPACK_IMPORTED_MODULE_7__.ExpressionKind),\n/* harmony export */   \"RouteNode\": () => (/* reexport safe */ _route_tree_js__WEBPACK_IMPORTED_MODULE_8__.RouteNode),\n/* harmony export */   \"RouteTree\": () => (/* reexport safe */ _route_tree_js__WEBPACK_IMPORTED_MODULE_8__.RouteTree),\n/* harmony export */   \"AuNavId\": () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_9__.AuNavId),\n/* harmony export */   \"isManagedState\": () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_9__.isManagedState),\n/* harmony export */   \"toManagedState\": () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_9__.toManagedState),\n/* harmony export */   \"IRouter\": () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_9__.IRouter),\n/* harmony export */   \"Router\": () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_9__.Router),\n/* harmony export */   \"RouterOptions\": () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_9__.RouterOptions),\n/* harmony export */   \"NavigationOptions\": () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_9__.NavigationOptions),\n/* harmony export */   \"Transition\": () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_9__.Transition),\n/* harmony export */   \"Navigation\": () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_9__.Navigation),\n/* harmony export */   \"IRouterEvents\": () => (/* reexport safe */ _router_events_js__WEBPACK_IMPORTED_MODULE_10__.IRouterEvents),\n/* harmony export */   \"LocationChangeEvent\": () => (/* reexport safe */ _router_events_js__WEBPACK_IMPORTED_MODULE_10__.LocationChangeEvent),\n/* harmony export */   \"NavigationStartEvent\": () => (/* reexport safe */ _router_events_js__WEBPACK_IMPORTED_MODULE_10__.NavigationStartEvent),\n/* harmony export */   \"NavigationEndEvent\": () => (/* reexport safe */ _router_events_js__WEBPACK_IMPORTED_MODULE_10__.NavigationEndEvent),\n/* harmony export */   \"NavigationCancelEvent\": () => (/* reexport safe */ _router_events_js__WEBPACK_IMPORTED_MODULE_10__.NavigationCancelEvent),\n/* harmony export */   \"NavigationErrorEvent\": () => (/* reexport safe */ _router_events_js__WEBPACK_IMPORTED_MODULE_10__.NavigationErrorEvent),\n/* harmony export */   \"IStateManager\": () => (/* reexport safe */ _state_manager_js__WEBPACK_IMPORTED_MODULE_11__.IStateManager),\n/* harmony export */   \"ViewportAgent\": () => (/* reexport safe */ _viewport_agent_js__WEBPACK_IMPORTED_MODULE_12__.ViewportAgent)\n/* harmony export */ });\n/* harmony import */ var _configuration_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configuration.js */ \"./node_modules/@aurelia/router/dist/esm/configuration.js\");\n/* harmony import */ var _component_agent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./component-agent.js */ \"./node_modules/@aurelia/router/dist/esm/component-agent.js\");\n/* harmony import */ var _instructions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./instructions.js */ \"./node_modules/@aurelia/router/dist/esm/instructions.js\");\n/* harmony import */ var _location_manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./location-manager.js */ \"./node_modules/@aurelia/router/dist/esm/location-manager.js\");\n/* harmony import */ var _route_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./route.js */ \"./node_modules/@aurelia/router/dist/esm/route.js\");\n/* harmony import */ var _route_context_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./route-context.js */ \"./node_modules/@aurelia/router/dist/esm/route-context.js\");\n/* harmony import */ var _route_definition_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./route-definition.js */ \"./node_modules/@aurelia/router/dist/esm/route-definition.js\");\n/* harmony import */ var _route_expression_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./route-expression.js */ \"./node_modules/@aurelia/router/dist/esm/route-expression.js\");\n/* harmony import */ var _route_tree_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./route-tree.js */ \"./node_modules/@aurelia/router/dist/esm/route-tree.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./router.js */ \"./node_modules/@aurelia/router/dist/esm/router.js\");\n/* harmony import */ var _router_events_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./router-events.js */ \"./node_modules/@aurelia/router/dist/esm/router-events.js\");\n/* harmony import */ var _state_manager_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./state-manager.js */ \"./node_modules/@aurelia/router/dist/esm/state-manager.js\");\n/* harmony import */ var _viewport_agent_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./viewport-agent.js */ \"./node_modules/@aurelia/router/dist/esm/viewport-agent.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3JvdXRlci9kaXN0L2VzbS9pbmRleC5qcz81MDIwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IFJvdXRlckNvbmZpZ3VyYXRpb24sIFJvdXRlclJlZ2lzdHJhdGlvbiwgRGVmYXVsdENvbXBvbmVudHMsIERlZmF1bHRSZXNvdXJjZXMsIFZpZXdwb3J0Q3VzdG9tRWxlbWVudCwgVmlld3BvcnRDdXN0b21FbGVtZW50UmVnaXN0cmF0aW9uLCBMb2FkQ3VzdG9tQXR0cmlidXRlLCBMb2FkQ3VzdG9tQXR0cmlidXRlUmVnaXN0cmF0aW9uLCBIcmVmQ3VzdG9tQXR0cmlidXRlLCBIcmVmQ3VzdG9tQXR0cmlidXRlUmVnaXN0cmF0aW9uLCB9IGZyb20gJy4vY29uZmlndXJhdGlvbi5qcyc7XG5leHBvcnQgeyBDb21wb25lbnRBZ2VudCwgfSBmcm9tICcuL2NvbXBvbmVudC1hZ2VudC5qcyc7XG5leHBvcnQgeyBJVmlld3BvcnRJbnN0cnVjdGlvbiwgfSBmcm9tICcuL2luc3RydWN0aW9ucy5qcyc7XG5leHBvcnQgeyBJTG9jYXRpb25NYW5hZ2VyLCBJQmFzZUhyZWZQcm92aWRlciwgfSBmcm9tICcuL2xvY2F0aW9uLW1hbmFnZXIuanMnO1xuZXhwb3J0IHsgUm91dGVDb25maWcsIENoaWxkUm91dGVDb25maWcsIFJvdXRlLCByb3V0ZSwgfSBmcm9tICcuL3JvdXRlLmpzJztcbmV4cG9ydCB7IElSb3V0ZUNvbnRleHQsIFJvdXRlQ29udGV4dCwgfSBmcm9tICcuL3JvdXRlLWNvbnRleHQuanMnO1xuZXhwb3J0IHsgUm91dGVEZWZpbml0aW9uLCB9IGZyb20gJy4vcm91dGUtZGVmaW5pdGlvbi5qcyc7XG5leHBvcnQgeyBBU1QsIFJvdXRlRXhwcmVzc2lvbiwgQ29tcG9zaXRlU2VnbWVudEV4cHJlc3Npb24sIFNjb3BlZFNlZ21lbnRFeHByZXNzaW9uLCBTZWdtZW50R3JvdXBFeHByZXNzaW9uLCBTZWdtZW50RXhwcmVzc2lvbiwgQ29tcG9uZW50RXhwcmVzc2lvbiwgQWN0aW9uRXhwcmVzc2lvbiwgVmlld3BvcnRFeHByZXNzaW9uLCBQYXJhbWV0ZXJMaXN0RXhwcmVzc2lvbiwgUGFyYW1ldGVyRXhwcmVzc2lvbiwgRXhwcmVzc2lvbktpbmQsIH0gZnJvbSAnLi9yb3V0ZS1leHByZXNzaW9uLmpzJztcbmV4cG9ydCB7IFJvdXRlTm9kZSwgUm91dGVUcmVlLCB9IGZyb20gJy4vcm91dGUtdHJlZS5qcyc7XG5leHBvcnQgeyBBdU5hdklkLCBpc01hbmFnZWRTdGF0ZSwgdG9NYW5hZ2VkU3RhdGUsIElSb3V0ZXIsIFJvdXRlciwgUm91dGVyT3B0aW9ucywgTmF2aWdhdGlvbk9wdGlvbnMsIFRyYW5zaXRpb24sIE5hdmlnYXRpb24sIH0gZnJvbSAnLi9yb3V0ZXIuanMnO1xuZXhwb3J0IHsgSVJvdXRlckV2ZW50cywgTG9jYXRpb25DaGFuZ2VFdmVudCwgTmF2aWdhdGlvblN0YXJ0RXZlbnQsIE5hdmlnYXRpb25FbmRFdmVudCwgTmF2aWdhdGlvbkNhbmNlbEV2ZW50LCBOYXZpZ2F0aW9uRXJyb3JFdmVudCwgfSBmcm9tICcuL3JvdXRlci1ldmVudHMuanMnO1xuZXhwb3J0IHsgSVN0YXRlTWFuYWdlciwgfSBmcm9tICcuL3N0YXRlLW1hbmFnZXIuanMnO1xuZXhwb3J0IHsgVmlld3BvcnRBZ2VudCwgfSBmcm9tICcuL3ZpZXdwb3J0LWFnZW50LmpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/instructions.js":
/*!***************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/instructions.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IViewportInstruction\": () => (/* binding */ IViewportInstruction),\n/* harmony export */   \"ViewportInstruction\": () => (/* binding */ ViewportInstruction),\n/* harmony export */   \"RedirectInstruction\": () => (/* binding */ RedirectInstruction),\n/* harmony export */   \"ViewportInstructionTree\": () => (/* binding */ ViewportInstructionTree),\n/* harmony export */   \"NavigationInstructionType\": () => (/* binding */ NavigationInstructionType),\n/* harmony export */   \"TypedNavigationInstruction\": () => (/* binding */ TypedNavigationInstruction)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validation.js */ \"./node_modules/@aurelia/router/dist/esm/validation.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./router.js */ \"./node_modules/@aurelia/router/dist/esm/router.js\");\n/* harmony import */ var _route_expression_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./route-expression.js */ \"./node_modules/@aurelia/router/dist/esm/route-expression.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util.js */ \"./node_modules/@aurelia/router/dist/esm/util.js\");\n/* eslint-disable @typescript-eslint/restrict-template-expressions */\n\n\n\n\n\n\nconst IViewportInstruction = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IViewportInstruction');\nclass ViewportInstruction {\n    constructor(context, append, open, close, component, viewport, params, children) {\n        this.context = context;\n        this.append = append;\n        this.open = open;\n        this.close = close;\n        this.component = component;\n        this.viewport = viewport;\n        this.params = params;\n        this.children = children;\n    }\n    static create(instruction, context) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        if (instruction instanceof ViewportInstruction) {\n            return instruction;\n        }\n        if ((0,_validation_js__WEBPACK_IMPORTED_MODULE_2__.isPartialViewportInstruction)(instruction)) {\n            const component = TypedNavigationInstruction.create(instruction.component);\n            const children = (_b = (_a = instruction.children) === null || _a === void 0 ? void 0 : _a.map(ViewportInstruction.create)) !== null && _b !== void 0 ? _b : [];\n            return new ViewportInstruction((_d = (_c = instruction.context) !== null && _c !== void 0 ? _c : context) !== null && _d !== void 0 ? _d : null, (_e = instruction.append) !== null && _e !== void 0 ? _e : false, (_f = instruction.open) !== null && _f !== void 0 ? _f : 0, (_g = instruction.close) !== null && _g !== void 0 ? _g : 0, component, (_h = instruction.viewport) !== null && _h !== void 0 ? _h : null, (_j = instruction.params) !== null && _j !== void 0 ? _j : null, children);\n        }\n        const typedInstruction = TypedNavigationInstruction.create(instruction);\n        return new ViewportInstruction(context !== null && context !== void 0 ? context : null, false, 0, 0, typedInstruction, null, null, []);\n    }\n    contains(other) {\n        const thisChildren = this.children;\n        const otherChildren = other.children;\n        if (thisChildren.length < otherChildren.length) {\n            return false;\n        }\n        // TODO(fkleuver): incorporate viewports when null / '' descrepancies are fixed,\n        // as well as params when inheritance is fully fixed\n        if (!this.component.equals(other.component)) {\n            return false;\n        }\n        for (let i = 0, ii = otherChildren.length; i < ii; ++i) {\n            if (!thisChildren[i].contains(otherChildren[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    equals(other) {\n        const thisChildren = this.children;\n        const otherChildren = other.children;\n        if (thisChildren.length !== otherChildren.length) {\n            return false;\n        }\n        if (\n        // TODO(fkleuver): decide if we really need to include `context` in this comparison\n        !this.component.equals(other.component) ||\n            this.viewport !== other.viewport ||\n            !(0,_validation_js__WEBPACK_IMPORTED_MODULE_2__.shallowEquals)(this.params, other.params)) {\n            return false;\n        }\n        for (let i = 0, ii = thisChildren.length; i < ii; ++i) {\n            if (!thisChildren[i].equals(otherChildren[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    clone() {\n        return new ViewportInstruction(this.context, this.append, this.open, this.close, this.component.clone(), this.viewport, this.params === null ? null : { ...this.params }, [...this.children]);\n    }\n    toUrlComponent(recursive = true) {\n        // TODO(fkleuver): use the context to determine create full tree\n        const component = this.component.toUrlComponent();\n        const params = this.params === null || Object.keys(this.params).length === 0 ? '' : `(${stringifyParams(this.params)})`;\n        const viewport = this.viewport === null || this.viewport.length === 0 ? '' : `@${this.viewport}`;\n        const thisPart = `${'('.repeat(this.open)}${component}${params}${viewport}${')'.repeat(this.close)}`;\n        const childPart = recursive ? this.children.map(x => x.toUrlComponent()).join('+') : '';\n        if (thisPart.length > 0) {\n            if (childPart.length > 0) {\n                return [thisPart, childPart].join('/');\n            }\n            return thisPart;\n        }\n        return childPart;\n    }\n    toString() {\n        const component = `c:${this.component}`;\n        const viewport = this.viewport === null || this.viewport.length === 0 ? '' : `viewport:${this.viewport}`;\n        const children = this.children.length === 0 ? '' : `children:[${this.children.map(String).join(',')}]`;\n        const props = [component, viewport, children].filter(Boolean).join(',');\n        return `VPI(${props})`;\n    }\n}\nfunction stringifyParams(params) {\n    const keys = Object.keys(params);\n    const values = Array(keys.length);\n    const indexKeys = [];\n    const namedKeys = [];\n    for (const key of keys) {\n        if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArrayIndex)(key)) {\n            indexKeys.push(Number(key));\n        }\n        else {\n            namedKeys.push(key);\n        }\n    }\n    for (let i = 0; i < keys.length; ++i) {\n        const indexKeyIdx = indexKeys.indexOf(i);\n        if (indexKeyIdx > -1) {\n            values[i] = params[i];\n            indexKeys.splice(indexKeyIdx, 1);\n        }\n        else {\n            const namedKey = namedKeys.shift();\n            values[i] = `${namedKey}=${params[namedKey]}`;\n        }\n    }\n    return values.join(',');\n}\nclass RedirectInstruction {\n    constructor(path, redirectTo) {\n        this.path = path;\n        this.redirectTo = redirectTo;\n    }\n    static create(instruction) {\n        if (instruction instanceof RedirectInstruction) {\n            return instruction;\n        }\n        return new RedirectInstruction(instruction.path, instruction.redirectTo);\n    }\n    equals(other) {\n        return this.path === other.path && this.redirectTo === other.redirectTo;\n    }\n    toUrlComponent() {\n        return this.path;\n    }\n    toString() {\n        return `RI(path:'${this.path}',redirectTo:'${this.redirectTo}')`;\n    }\n}\n/**\n * Associate the object with an id so it can be stored in history as a serialized url segment.\n *\n * WARNING: As the implementation is right now, this is a memory leak disaster.\n * This is really a placeholder implementation at the moment and should NOT be used / advertised for production until a leak-free solution is made.\n */\nconst getObjectId = (function () {\n    let lastId = 0;\n    const objectIdMap = new Map();\n    return function (obj) {\n        let id = objectIdMap.get(obj);\n        if (id === void 0) {\n            objectIdMap.set(obj, id = ++lastId);\n        }\n        return id;\n    };\n})();\nclass ViewportInstructionTree {\n    constructor(options, isAbsolute, children, queryParams, fragment) {\n        this.options = options;\n        this.isAbsolute = isAbsolute;\n        this.children = children;\n        this.queryParams = queryParams;\n        this.fragment = fragment;\n    }\n    static create(instructionOrInstructions, options) {\n        const $options = _router_js__WEBPACK_IMPORTED_MODULE_3__.NavigationOptions.create({ ...options });\n        if (instructionOrInstructions instanceof ViewportInstructionTree) {\n            return new ViewportInstructionTree($options, instructionOrInstructions.isAbsolute, instructionOrInstructions.children.map(x => ViewportInstruction.create(x, $options.context)), instructionOrInstructions.queryParams, instructionOrInstructions.fragment);\n        }\n        if (instructionOrInstructions instanceof Array) {\n            return new ViewportInstructionTree($options, false, instructionOrInstructions.map(x => ViewportInstruction.create(x, $options.context)), Object.freeze(new URLSearchParams()), null);\n        }\n        if (typeof instructionOrInstructions === 'string') {\n            const expr = _route_expression_js__WEBPACK_IMPORTED_MODULE_4__.RouteExpression.parse(instructionOrInstructions, $options.useUrlFragmentHash);\n            return expr.toInstructionTree($options);\n        }\n        return new ViewportInstructionTree($options, false, [ViewportInstruction.create(instructionOrInstructions, $options.context)], Object.freeze(new URLSearchParams()), null);\n    }\n    equals(other) {\n        const thisChildren = this.children;\n        const otherChildren = other.children;\n        if (thisChildren.length !== otherChildren.length) {\n            return false;\n        }\n        for (let i = 0, ii = thisChildren.length; i < ii; ++i) {\n            if (!thisChildren[i].equals(otherChildren[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    toUrl() {\n        const path = this.children.map(x => x.toUrlComponent()).join('+');\n        const query = this.queryParams.toString();\n        return query !== '' ? `${path}?${query}` : path;\n    }\n    toString() {\n        return `[${this.children.map(String).join(',')}]`;\n    }\n}\nvar NavigationInstructionType;\n(function (NavigationInstructionType) {\n    NavigationInstructionType[NavigationInstructionType[\"string\"] = 0] = \"string\";\n    NavigationInstructionType[NavigationInstructionType[\"ViewportInstruction\"] = 1] = \"ViewportInstruction\";\n    NavigationInstructionType[NavigationInstructionType[\"CustomElementDefinition\"] = 2] = \"CustomElementDefinition\";\n    NavigationInstructionType[NavigationInstructionType[\"Promise\"] = 3] = \"Promise\";\n    NavigationInstructionType[NavigationInstructionType[\"IRouteViewModel\"] = 4] = \"IRouteViewModel\";\n})(NavigationInstructionType || (NavigationInstructionType = {}));\nclass TypedNavigationInstruction {\n    constructor(type, value) {\n        this.type = type;\n        this.value = value;\n    }\n    static create(instruction) {\n        if (instruction instanceof TypedNavigationInstruction) {\n            return instruction;\n        }\n        if (typeof instruction === 'string') {\n            return new TypedNavigationInstruction(0 /* string */, instruction);\n        }\n        else if (!(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isObject)(instruction)) {\n            // Typings prevent this from happening, but guard it anyway due to `as any` and the sorts being a thing in userland code and tests.\n            (0,_validation_js__WEBPACK_IMPORTED_MODULE_2__.expectType)('function/class or object', '', instruction);\n        }\n        else if (typeof instruction === 'function') {\n            // This is the class itself\n            // CustomElement.getDefinition will throw if the type is not a custom element\n            const definition = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement.getDefinition(instruction);\n            return new TypedNavigationInstruction(2 /* CustomElementDefinition */, definition);\n        }\n        else if (instruction instanceof Promise) {\n            return new TypedNavigationInstruction(3 /* Promise */, instruction);\n        }\n        else if ((0,_validation_js__WEBPACK_IMPORTED_MODULE_2__.isPartialViewportInstruction)(instruction)) {\n            const viewportInstruction = ViewportInstruction.create(instruction);\n            return new TypedNavigationInstruction(1 /* ViewportInstruction */, viewportInstruction);\n        }\n        else if ((0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.isCustomElementViewModel)(instruction)) {\n            return new TypedNavigationInstruction(4 /* IRouteViewModel */, instruction);\n        }\n        else if (instruction instanceof _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElementDefinition) {\n            // We might have gotten a complete definition. In that case use it as-is.\n            return new TypedNavigationInstruction(2 /* CustomElementDefinition */, instruction);\n        }\n        else if ((0,_validation_js__WEBPACK_IMPORTED_MODULE_2__.isPartialCustomElementDefinition)(instruction)) {\n            // If we just got a partial definition, define a new anonymous class\n            const Type = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement.define(instruction);\n            const definition = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement.getDefinition(Type);\n            return new TypedNavigationInstruction(2 /* CustomElementDefinition */, definition);\n        }\n        else {\n            throw new Error(`Invalid component ${(0,_util_js__WEBPACK_IMPORTED_MODULE_5__.tryStringify)(instruction)}: must be either a class, a custom element ViewModel, or a (partial) custom element definition`);\n        }\n    }\n    equals(other) {\n        switch (this.type) {\n            case 2 /* CustomElementDefinition */:\n            case 4 /* IRouteViewModel */:\n            case 3 /* Promise */:\n            case 0 /* string */:\n                return this.type === other.type && this.value === other.value;\n            case 1 /* ViewportInstruction */:\n                return this.type === other.type && this.value.equals(other.value);\n        }\n    }\n    clone() {\n        return new TypedNavigationInstruction(this.type, this.value);\n    }\n    toUrlComponent() {\n        switch (this.type) {\n            case 2 /* CustomElementDefinition */:\n                return this.value.name;\n            case 4 /* IRouteViewModel */:\n            case 3 /* Promise */:\n                return `au$obj${getObjectId(this.value)}`;\n            case 1 /* ViewportInstruction */:\n                return this.value.toUrlComponent();\n            case 0 /* string */:\n                return this.value;\n        }\n    }\n    toString() {\n        switch (this.type) {\n            case 2 /* CustomElementDefinition */:\n                return `CEDef(name:'${this.value.name}')`;\n            case 3 /* Promise */:\n                return `Promise`;\n            case 4 /* IRouteViewModel */:\n                return `VM(name:'${_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement.getDefinition(this.value.constructor).name}')`;\n            case 1 /* ViewportInstruction */:\n                return this.value.toString();\n            case 0 /* string */:\n                return `'${this.value}'`;\n        }\n    }\n}\n//# sourceMappingURL=instructions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL2luc3RydWN0aW9ucy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9yb3V0ZXIvZGlzdC9lc20vaW5zdHJ1Y3Rpb25zLmpzPzU2ZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXRlbXBsYXRlLWV4cHJlc3Npb25zICovXG5pbXBvcnQgeyBESSwgaXNPYmplY3QsIGlzQXJyYXlJbmRleCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBpc0N1c3RvbUVsZW1lbnRWaWV3TW9kZWwsIEN1c3RvbUVsZW1lbnQsIEN1c3RvbUVsZW1lbnREZWZpbml0aW9uIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZS1odG1sJztcbmltcG9ydCB7IGV4cGVjdFR5cGUsIGlzUGFydGlhbEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLCBpc1BhcnRpYWxWaWV3cG9ydEluc3RydWN0aW9uLCBzaGFsbG93RXF1YWxzIH0gZnJvbSAnLi92YWxpZGF0aW9uLmpzJztcbmltcG9ydCB7IE5hdmlnYXRpb25PcHRpb25zIH0gZnJvbSAnLi9yb3V0ZXIuanMnO1xuaW1wb3J0IHsgUm91dGVFeHByZXNzaW9uIH0gZnJvbSAnLi9yb3V0ZS1leHByZXNzaW9uLmpzJztcbmltcG9ydCB7IHRyeVN0cmluZ2lmeSB9IGZyb20gJy4vdXRpbC5qcyc7XG5leHBvcnQgY29uc3QgSVZpZXdwb3J0SW5zdHJ1Y3Rpb24gPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lWaWV3cG9ydEluc3RydWN0aW9uJyk7XG5leHBvcnQgY2xhc3MgVmlld3BvcnRJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgYXBwZW5kLCBvcGVuLCBjbG9zZSwgY29tcG9uZW50LCB2aWV3cG9ydCwgcGFyYW1zLCBjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmFwcGVuZCA9IGFwcGVuZDtcbiAgICAgICAgdGhpcy5vcGVuID0gb3BlbjtcbiAgICAgICAgdGhpcy5jbG9zZSA9IGNsb3NlO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0O1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGluc3RydWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qO1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gaW5zdGFuY2VvZiBWaWV3cG9ydEluc3RydWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUGFydGlhbFZpZXdwb3J0SW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBUeXBlZE5hdmlnYXRpb25JbnN0cnVjdGlvbi5jcmVhdGUoaW5zdHJ1Y3Rpb24uY29tcG9uZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gKF9iID0gKF9hID0gaW5zdHJ1Y3Rpb24uY2hpbGRyZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAoVmlld3BvcnRJbnN0cnVjdGlvbi5jcmVhdGUpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmlld3BvcnRJbnN0cnVjdGlvbigoX2QgPSAoX2MgPSBpbnN0cnVjdGlvbi5jb250ZXh0KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBjb250ZXh0KSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBudWxsLCAoX2UgPSBpbnN0cnVjdGlvbi5hcHBlbmQpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IGZhbHNlLCAoX2YgPSBpbnN0cnVjdGlvbi5vcGVuKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAwLCAoX2cgPSBpbnN0cnVjdGlvbi5jbG9zZSkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogMCwgY29tcG9uZW50LCAoX2ggPSBpbnN0cnVjdGlvbi52aWV3cG9ydCkgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogbnVsbCwgKF9qID0gaW5zdHJ1Y3Rpb24ucGFyYW1zKSAhPT0gbnVsbCAmJiBfaiAhPT0gdm9pZCAwID8gX2ogOiBudWxsLCBjaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHlwZWRJbnN0cnVjdGlvbiA9IFR5cGVkTmF2aWdhdGlvbkluc3RydWN0aW9uLmNyZWF0ZShpbnN0cnVjdGlvbik7XG4gICAgICAgIHJldHVybiBuZXcgVmlld3BvcnRJbnN0cnVjdGlvbihjb250ZXh0ICE9PSBudWxsICYmIGNvbnRleHQgIT09IHZvaWQgMCA/IGNvbnRleHQgOiBudWxsLCBmYWxzZSwgMCwgMCwgdHlwZWRJbnN0cnVjdGlvbiwgbnVsbCwgbnVsbCwgW10pO1xuICAgIH1cbiAgICBjb250YWlucyhvdGhlcikge1xuICAgICAgICBjb25zdCB0aGlzQ2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBvdGhlckNoaWxkcmVuID0gb3RoZXIuY2hpbGRyZW47XG4gICAgICAgIGlmICh0aGlzQ2hpbGRyZW4ubGVuZ3RoIDwgb3RoZXJDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPKGZrbGV1dmVyKTogaW5jb3Jwb3JhdGUgdmlld3BvcnRzIHdoZW4gbnVsbCAvICcnIGRlc2NyZXBhbmNpZXMgYXJlIGZpeGVkLFxuICAgICAgICAvLyBhcyB3ZWxsIGFzIHBhcmFtcyB3aGVuIGluaGVyaXRhbmNlIGlzIGZ1bGx5IGZpeGVkXG4gICAgICAgIGlmICghdGhpcy5jb21wb25lbnQuZXF1YWxzKG90aGVyLmNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBvdGhlckNoaWxkcmVuLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghdGhpc0NoaWxkcmVuW2ldLmNvbnRhaW5zKG90aGVyQ2hpbGRyZW5baV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgY29uc3QgdGhpc0NoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgY29uc3Qgb3RoZXJDaGlsZHJlbiA9IG90aGVyLmNoaWxkcmVuO1xuICAgICAgICBpZiAodGhpc0NoaWxkcmVuLmxlbmd0aCAhPT0gb3RoZXJDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgIC8vIFRPRE8oZmtsZXV2ZXIpOiBkZWNpZGUgaWYgd2UgcmVhbGx5IG5lZWQgdG8gaW5jbHVkZSBgY29udGV4dGAgaW4gdGhpcyBjb21wYXJpc29uXG4gICAgICAgICF0aGlzLmNvbXBvbmVudC5lcXVhbHMob3RoZXIuY29tcG9uZW50KSB8fFxuICAgICAgICAgICAgdGhpcy52aWV3cG9ydCAhPT0gb3RoZXIudmlld3BvcnQgfHxcbiAgICAgICAgICAgICFzaGFsbG93RXF1YWxzKHRoaXMucGFyYW1zLCBvdGhlci5wYXJhbXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGhpc0NoaWxkcmVuLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghdGhpc0NoaWxkcmVuW2ldLmVxdWFscyhvdGhlckNoaWxkcmVuW2ldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmlld3BvcnRJbnN0cnVjdGlvbih0aGlzLmNvbnRleHQsIHRoaXMuYXBwZW5kLCB0aGlzLm9wZW4sIHRoaXMuY2xvc2UsIHRoaXMuY29tcG9uZW50LmNsb25lKCksIHRoaXMudmlld3BvcnQsIHRoaXMucGFyYW1zID09PSBudWxsID8gbnVsbCA6IHsgLi4udGhpcy5wYXJhbXMgfSwgWy4uLnRoaXMuY2hpbGRyZW5dKTtcbiAgICB9XG4gICAgdG9VcmxDb21wb25lbnQocmVjdXJzaXZlID0gdHJ1ZSkge1xuICAgICAgICAvLyBUT0RPKGZrbGV1dmVyKTogdXNlIHRoZSBjb250ZXh0IHRvIGRldGVybWluZSBjcmVhdGUgZnVsbCB0cmVlXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50LnRvVXJsQ29tcG9uZW50KCk7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMucGFyYW1zID09PSBudWxsIHx8IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKS5sZW5ndGggPT09IDAgPyAnJyA6IGAoJHtzdHJpbmdpZnlQYXJhbXModGhpcy5wYXJhbXMpfSlgO1xuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMudmlld3BvcnQgPT09IG51bGwgfHwgdGhpcy52aWV3cG9ydC5sZW5ndGggPT09IDAgPyAnJyA6IGBAJHt0aGlzLnZpZXdwb3J0fWA7XG4gICAgICAgIGNvbnN0IHRoaXNQYXJ0ID0gYCR7JygnLnJlcGVhdCh0aGlzLm9wZW4pfSR7Y29tcG9uZW50fSR7cGFyYW1zfSR7dmlld3BvcnR9JHsnKScucmVwZWF0KHRoaXMuY2xvc2UpfWA7XG4gICAgICAgIGNvbnN0IGNoaWxkUGFydCA9IHJlY3Vyc2l2ZSA/IHRoaXMuY2hpbGRyZW4ubWFwKHggPT4geC50b1VybENvbXBvbmVudCgpKS5qb2luKCcrJykgOiAnJztcbiAgICAgICAgaWYgKHRoaXNQYXJ0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChjaGlsZFBhcnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpc1BhcnQsIGNoaWxkUGFydF0uam9pbignLycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNQYXJ0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZFBhcnQ7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBgYzoke3RoaXMuY29tcG9uZW50fWA7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy52aWV3cG9ydCA9PT0gbnVsbCB8fCB0aGlzLnZpZXdwb3J0Lmxlbmd0aCA9PT0gMCA/ICcnIDogYHZpZXdwb3J0OiR7dGhpcy52aWV3cG9ydH1gO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwID8gJycgOiBgY2hpbGRyZW46WyR7dGhpcy5jaGlsZHJlbi5tYXAoU3RyaW5nKS5qb2luKCcsJyl9XWA7XG4gICAgICAgIGNvbnN0IHByb3BzID0gW2NvbXBvbmVudCwgdmlld3BvcnQsIGNoaWxkcmVuXS5maWx0ZXIoQm9vbGVhbikuam9pbignLCcpO1xuICAgICAgICByZXR1cm4gYFZQSSgke3Byb3BzfSlgO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVBhcmFtcyhwYXJhbXMpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocGFyYW1zKTtcbiAgICBjb25zdCB2YWx1ZXMgPSBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgY29uc3QgaW5kZXhLZXlzID0gW107XG4gICAgY29uc3QgbmFtZWRLZXlzID0gW107XG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICBpZiAoaXNBcnJheUluZGV4KGtleSkpIHtcbiAgICAgICAgICAgIGluZGV4S2V5cy5wdXNoKE51bWJlcihrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5hbWVkS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4S2V5SWR4ID0gaW5kZXhLZXlzLmluZGV4T2YoaSk7XG4gICAgICAgIGlmIChpbmRleEtleUlkeCA+IC0xKSB7XG4gICAgICAgICAgICB2YWx1ZXNbaV0gPSBwYXJhbXNbaV07XG4gICAgICAgICAgICBpbmRleEtleXMuc3BsaWNlKGluZGV4S2V5SWR4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVkS2V5ID0gbmFtZWRLZXlzLnNoaWZ0KCk7XG4gICAgICAgICAgICB2YWx1ZXNbaV0gPSBgJHtuYW1lZEtleX09JHtwYXJhbXNbbmFtZWRLZXldfWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcy5qb2luKCcsJyk7XG59XG5leHBvcnQgY2xhc3MgUmVkaXJlY3RJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IocGF0aCwgcmVkaXJlY3RUbykge1xuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLnJlZGlyZWN0VG8gPSByZWRpcmVjdFRvO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGluc3RydWN0aW9uKSB7XG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiBpbnN0YW5jZW9mIFJlZGlyZWN0SW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0cnVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlZGlyZWN0SW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24ucGF0aCwgaW5zdHJ1Y3Rpb24ucmVkaXJlY3RUbyk7XG4gICAgfVxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoID09PSBvdGhlci5wYXRoICYmIHRoaXMucmVkaXJlY3RUbyA9PT0gb3RoZXIucmVkaXJlY3RUbztcbiAgICB9XG4gICAgdG9VcmxDb21wb25lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGg7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYFJJKHBhdGg6JyR7dGhpcy5wYXRofScscmVkaXJlY3RUbzonJHt0aGlzLnJlZGlyZWN0VG99JylgO1xuICAgIH1cbn1cbi8qKlxuICogQXNzb2NpYXRlIHRoZSBvYmplY3Qgd2l0aCBhbiBpZCBzbyBpdCBjYW4gYmUgc3RvcmVkIGluIGhpc3RvcnkgYXMgYSBzZXJpYWxpemVkIHVybCBzZWdtZW50LlxuICpcbiAqIFdBUk5JTkc6IEFzIHRoZSBpbXBsZW1lbnRhdGlvbiBpcyByaWdodCBub3csIHRoaXMgaXMgYSBtZW1vcnkgbGVhayBkaXNhc3Rlci5cbiAqIFRoaXMgaXMgcmVhbGx5IGEgcGxhY2Vob2xkZXIgaW1wbGVtZW50YXRpb24gYXQgdGhlIG1vbWVudCBhbmQgc2hvdWxkIE5PVCBiZSB1c2VkIC8gYWR2ZXJ0aXNlZCBmb3IgcHJvZHVjdGlvbiB1bnRpbCBhIGxlYWstZnJlZSBzb2x1dGlvbiBpcyBtYWRlLlxuICovXG5jb25zdCBnZXRPYmplY3RJZCA9IChmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGxhc3RJZCA9IDA7XG4gICAgY29uc3Qgb2JqZWN0SWRNYXAgPSBuZXcgTWFwKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgbGV0IGlkID0gb2JqZWN0SWRNYXAuZ2V0KG9iaik7XG4gICAgICAgIGlmIChpZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBvYmplY3RJZE1hcC5zZXQob2JqLCBpZCA9ICsrbGFzdElkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfTtcbn0pKCk7XG5leHBvcnQgY2xhc3MgVmlld3BvcnRJbnN0cnVjdGlvblRyZWUge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGlzQWJzb2x1dGUsIGNoaWxkcmVuLCBxdWVyeVBhcmFtcywgZnJhZ21lbnQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5pc0Fic29sdXRlID0gaXNBYnNvbHV0ZTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gcXVlcnlQYXJhbXM7XG4gICAgICAgIHRoaXMuZnJhZ21lbnQgPSBmcmFnbWVudDtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShpbnN0cnVjdGlvbk9ySW5zdHJ1Y3Rpb25zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0ICRvcHRpb25zID0gTmF2aWdhdGlvbk9wdGlvbnMuY3JlYXRlKHsgLi4ub3B0aW9ucyB9KTtcbiAgICAgICAgaWYgKGluc3RydWN0aW9uT3JJbnN0cnVjdGlvbnMgaW5zdGFuY2VvZiBWaWV3cG9ydEluc3RydWN0aW9uVHJlZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBWaWV3cG9ydEluc3RydWN0aW9uVHJlZSgkb3B0aW9ucywgaW5zdHJ1Y3Rpb25Pckluc3RydWN0aW9ucy5pc0Fic29sdXRlLCBpbnN0cnVjdGlvbk9ySW5zdHJ1Y3Rpb25zLmNoaWxkcmVuLm1hcCh4ID0+IFZpZXdwb3J0SW5zdHJ1Y3Rpb24uY3JlYXRlKHgsICRvcHRpb25zLmNvbnRleHQpKSwgaW5zdHJ1Y3Rpb25Pckluc3RydWN0aW9ucy5xdWVyeVBhcmFtcywgaW5zdHJ1Y3Rpb25Pckluc3RydWN0aW9ucy5mcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc3RydWN0aW9uT3JJbnN0cnVjdGlvbnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBWaWV3cG9ydEluc3RydWN0aW9uVHJlZSgkb3B0aW9ucywgZmFsc2UsIGluc3RydWN0aW9uT3JJbnN0cnVjdGlvbnMubWFwKHggPT4gVmlld3BvcnRJbnN0cnVjdGlvbi5jcmVhdGUoeCwgJG9wdGlvbnMuY29udGV4dCkpLCBPYmplY3QuZnJlZXplKG5ldyBVUkxTZWFyY2hQYXJhbXMoKSksIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdHJ1Y3Rpb25Pckluc3RydWN0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cHIgPSBSb3V0ZUV4cHJlc3Npb24ucGFyc2UoaW5zdHJ1Y3Rpb25Pckluc3RydWN0aW9ucywgJG9wdGlvbnMudXNlVXJsRnJhZ21lbnRIYXNoKTtcbiAgICAgICAgICAgIHJldHVybiBleHByLnRvSW5zdHJ1Y3Rpb25UcmVlKCRvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFZpZXdwb3J0SW5zdHJ1Y3Rpb25UcmVlKCRvcHRpb25zLCBmYWxzZSwgW1ZpZXdwb3J0SW5zdHJ1Y3Rpb24uY3JlYXRlKGluc3RydWN0aW9uT3JJbnN0cnVjdGlvbnMsICRvcHRpb25zLmNvbnRleHQpXSwgT2JqZWN0LmZyZWV6ZShuZXcgVVJMU2VhcmNoUGFyYW1zKCkpLCBudWxsKTtcbiAgICB9XG4gICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGNvbnN0IHRoaXNDaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IG90aGVyQ2hpbGRyZW4gPSBvdGhlci5jaGlsZHJlbjtcbiAgICAgICAgaWYgKHRoaXNDaGlsZHJlbi5sZW5ndGggIT09IG90aGVyQ2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGhpc0NoaWxkcmVuLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghdGhpc0NoaWxkcmVuW2ldLmVxdWFscyhvdGhlckNoaWxkcmVuW2ldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdG9VcmwoKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNoaWxkcmVuLm1hcCh4ID0+IHgudG9VcmxDb21wb25lbnQoKSkuam9pbignKycpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHRoaXMucXVlcnlQYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHF1ZXJ5ICE9PSAnJyA/IGAke3BhdGh9PyR7cXVlcnl9YCA6IHBhdGg7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYFske3RoaXMuY2hpbGRyZW4ubWFwKFN0cmluZykuam9pbignLCcpfV1gO1xuICAgIH1cbn1cbmV4cG9ydCB2YXIgTmF2aWdhdGlvbkluc3RydWN0aW9uVHlwZTtcbihmdW5jdGlvbiAoTmF2aWdhdGlvbkluc3RydWN0aW9uVHlwZSkge1xuICAgIE5hdmlnYXRpb25JbnN0cnVjdGlvblR5cGVbTmF2aWdhdGlvbkluc3RydWN0aW9uVHlwZVtcInN0cmluZ1wiXSA9IDBdID0gXCJzdHJpbmdcIjtcbiAgICBOYXZpZ2F0aW9uSW5zdHJ1Y3Rpb25UeXBlW05hdmlnYXRpb25JbnN0cnVjdGlvblR5cGVbXCJWaWV3cG9ydEluc3RydWN0aW9uXCJdID0gMV0gPSBcIlZpZXdwb3J0SW5zdHJ1Y3Rpb25cIjtcbiAgICBOYXZpZ2F0aW9uSW5zdHJ1Y3Rpb25UeXBlW05hdmlnYXRpb25JbnN0cnVjdGlvblR5cGVbXCJDdXN0b21FbGVtZW50RGVmaW5pdGlvblwiXSA9IDJdID0gXCJDdXN0b21FbGVtZW50RGVmaW5pdGlvblwiO1xuICAgIE5hdmlnYXRpb25JbnN0cnVjdGlvblR5cGVbTmF2aWdhdGlvbkluc3RydWN0aW9uVHlwZVtcIlByb21pc2VcIl0gPSAzXSA9IFwiUHJvbWlzZVwiO1xuICAgIE5hdmlnYXRpb25JbnN0cnVjdGlvblR5cGVbTmF2aWdhdGlvbkluc3RydWN0aW9uVHlwZVtcIklSb3V0ZVZpZXdNb2RlbFwiXSA9IDRdID0gXCJJUm91dGVWaWV3TW9kZWxcIjtcbn0pKE5hdmlnYXRpb25JbnN0cnVjdGlvblR5cGUgfHwgKE5hdmlnYXRpb25JbnN0cnVjdGlvblR5cGUgPSB7fSkpO1xuZXhwb3J0IGNsYXNzIFR5cGVkTmF2aWdhdGlvbkluc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgaWYgKGluc3RydWN0aW9uIGluc3RhbmNlb2YgVHlwZWROYXZpZ2F0aW9uSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0cnVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGluc3RydWN0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUeXBlZE5hdmlnYXRpb25JbnN0cnVjdGlvbigwIC8qIHN0cmluZyAqLywgaW5zdHJ1Y3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc09iamVjdChpbnN0cnVjdGlvbikpIHtcbiAgICAgICAgICAgIC8vIFR5cGluZ3MgcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nLCBidXQgZ3VhcmQgaXQgYW55d2F5IGR1ZSB0byBgYXMgYW55YCBhbmQgdGhlIHNvcnRzIGJlaW5nIGEgdGhpbmcgaW4gdXNlcmxhbmQgY29kZSBhbmQgdGVzdHMuXG4gICAgICAgICAgICBleHBlY3RUeXBlKCdmdW5jdGlvbi9jbGFzcyBvciBvYmplY3QnLCAnJywgaW5zdHJ1Y3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBpbnN0cnVjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgY2xhc3MgaXRzZWxmXG4gICAgICAgICAgICAvLyBDdXN0b21FbGVtZW50LmdldERlZmluaXRpb24gd2lsbCB0aHJvdyBpZiB0aGUgdHlwZSBpcyBub3QgYSBjdXN0b20gZWxlbWVudFxuICAgICAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IEN1c3RvbUVsZW1lbnQuZ2V0RGVmaW5pdGlvbihpbnN0cnVjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFR5cGVkTmF2aWdhdGlvbkluc3RydWN0aW9uKDIgLyogQ3VzdG9tRWxlbWVudERlZmluaXRpb24gKi8sIGRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluc3RydWN0aW9uIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUeXBlZE5hdmlnYXRpb25JbnN0cnVjdGlvbigzIC8qIFByb21pc2UgKi8sIGluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1BhcnRpYWxWaWV3cG9ydEluc3RydWN0aW9uKGluc3RydWN0aW9uKSkge1xuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRJbnN0cnVjdGlvbiA9IFZpZXdwb3J0SW5zdHJ1Y3Rpb24uY3JlYXRlKGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVHlwZWROYXZpZ2F0aW9uSW5zdHJ1Y3Rpb24oMSAvKiBWaWV3cG9ydEluc3RydWN0aW9uICovLCB2aWV3cG9ydEluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0N1c3RvbUVsZW1lbnRWaWV3TW9kZWwoaW5zdHJ1Y3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFR5cGVkTmF2aWdhdGlvbkluc3RydWN0aW9uKDQgLyogSVJvdXRlVmlld01vZGVsICovLCBpbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gaW5zdGFuY2VvZiBDdXN0b21FbGVtZW50RGVmaW5pdGlvbikge1xuICAgICAgICAgICAgLy8gV2UgbWlnaHQgaGF2ZSBnb3R0ZW4gYSBjb21wbGV0ZSBkZWZpbml0aW9uLiBJbiB0aGF0IGNhc2UgdXNlIGl0IGFzLWlzLlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUeXBlZE5hdmlnYXRpb25JbnN0cnVjdGlvbigyIC8qIEN1c3RvbUVsZW1lbnREZWZpbml0aW9uICovLCBpbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQYXJ0aWFsQ3VzdG9tRWxlbWVudERlZmluaXRpb24oaW5zdHJ1Y3Rpb24pKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBqdXN0IGdvdCBhIHBhcnRpYWwgZGVmaW5pdGlvbiwgZGVmaW5lIGEgbmV3IGFub255bW91cyBjbGFzc1xuICAgICAgICAgICAgY29uc3QgVHlwZSA9IEN1c3RvbUVsZW1lbnQuZGVmaW5lKGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBDdXN0b21FbGVtZW50LmdldERlZmluaXRpb24oVHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFR5cGVkTmF2aWdhdGlvbkluc3RydWN0aW9uKDIgLyogQ3VzdG9tRWxlbWVudERlZmluaXRpb24gKi8sIGRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNvbXBvbmVudCAke3RyeVN0cmluZ2lmeShpbnN0cnVjdGlvbil9OiBtdXN0IGJlIGVpdGhlciBhIGNsYXNzLCBhIGN1c3RvbSBlbGVtZW50IFZpZXdNb2RlbCwgb3IgYSAocGFydGlhbCkgY3VzdG9tIGVsZW1lbnQgZGVmaW5pdGlvbmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAyIC8qIEN1c3RvbUVsZW1lbnREZWZpbml0aW9uICovOlxuICAgICAgICAgICAgY2FzZSA0IC8qIElSb3V0ZVZpZXdNb2RlbCAqLzpcbiAgICAgICAgICAgIGNhc2UgMyAvKiBQcm9taXNlICovOlxuICAgICAgICAgICAgY2FzZSAwIC8qIHN0cmluZyAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBvdGhlci50eXBlICYmIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlO1xuICAgICAgICAgICAgY2FzZSAxIC8qIFZpZXdwb3J0SW5zdHJ1Y3Rpb24gKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gb3RoZXIudHlwZSAmJiB0aGlzLnZhbHVlLmVxdWFscyhvdGhlci52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHlwZWROYXZpZ2F0aW9uSW5zdHJ1Y3Rpb24odGhpcy50eXBlLCB0aGlzLnZhbHVlKTtcbiAgICB9XG4gICAgdG9VcmxDb21wb25lbnQoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDIgLyogQ3VzdG9tRWxlbWVudERlZmluaXRpb24gKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUubmFtZTtcbiAgICAgICAgICAgIGNhc2UgNCAvKiBJUm91dGVWaWV3TW9kZWwgKi86XG4gICAgICAgICAgICBjYXNlIDMgLyogUHJvbWlzZSAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYGF1JG9iaiR7Z2V0T2JqZWN0SWQodGhpcy52YWx1ZSl9YDtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBWaWV3cG9ydEluc3RydWN0aW9uICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnRvVXJsQ29tcG9uZW50KCk7XG4gICAgICAgICAgICBjYXNlIDAgLyogc3RyaW5nICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAyIC8qIEN1c3RvbUVsZW1lbnREZWZpbml0aW9uICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ0VEZWYobmFtZTonJHt0aGlzLnZhbHVlLm5hbWV9JylgO1xuICAgICAgICAgICAgY2FzZSAzIC8qIFByb21pc2UgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBQcm9taXNlYDtcbiAgICAgICAgICAgIGNhc2UgNCAvKiBJUm91dGVWaWV3TW9kZWwgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWTShuYW1lOicke0N1c3RvbUVsZW1lbnQuZ2V0RGVmaW5pdGlvbih0aGlzLnZhbHVlLmNvbnN0cnVjdG9yKS5uYW1lfScpYDtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBWaWV3cG9ydEluc3RydWN0aW9uICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjYXNlIDAgLyogc3RyaW5nICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJyR7dGhpcy52YWx1ZX0nYDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluc3RydWN0aW9ucy5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/instructions.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/location-manager.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/location-manager.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IBaseHrefProvider\": () => (/* binding */ IBaseHrefProvider),\n/* harmony export */   \"BrowserBaseHrefProvider\": () => (/* binding */ BrowserBaseHrefProvider),\n/* harmony export */   \"ILocationManager\": () => (/* binding */ ILocationManager),\n/* harmony export */   \"BrowserLocationManager\": () => (/* binding */ BrowserLocationManager)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _router_events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./router-events.js */ \"./node_modules/@aurelia/router/dist/esm/router-events.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\nconst IBaseHrefProvider = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IBaseHrefProvider', x => x.singleton(BrowserBaseHrefProvider));\n/**\n * Default browser base href provider.\n *\n * Retrieves the base href based on the `<base>` element from `window.document.head`\n *\n * This is internal API for the moment. The shape of this API (as well as in which package it resides) is also likely temporary.\n */\nlet BrowserBaseHrefProvider = class BrowserBaseHrefProvider {\n    constructor(window) {\n        this.window = window;\n    }\n    getBaseHref() {\n        const base = this.window.document.head.querySelector('base');\n        if (base === null) {\n            return null;\n        }\n        return normalizePath(base.href);\n    }\n};\nBrowserBaseHrefProvider = __decorate([\n    __param(0, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IWindow)\n], BrowserBaseHrefProvider);\n\nconst ILocationManager = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ILocationManager', x => x.singleton(BrowserLocationManager));\n/**\n * Default browser location manager.\n *\n * Encapsulates all DOM interactions (`window`, `location` and `history` apis) and exposes them in an environment-agnostic manner.\n *\n * This is internal API for the moment. The shape of this API (as well as in which package it resides) is also likely temporary.\n */\nlet BrowserLocationManager = class BrowserLocationManager {\n    constructor(logger, events, history, location, window, baseHrefProvider) {\n        var _a;\n        this.logger = logger;\n        this.events = events;\n        this.history = history;\n        this.location = location;\n        this.window = window;\n        this.baseHrefProvider = baseHrefProvider;\n        this.eventId = 0;\n        this.logger = logger.root.scopeTo('LocationManager');\n        const baseHref = baseHrefProvider.getBaseHref();\n        if (baseHref === null) {\n            const origin = (_a = location.origin) !== null && _a !== void 0 ? _a : '';\n            const normalized = this.baseHref = normalizePath(origin);\n            this.logger.warn(`no baseHref provided, defaulting to origin '${normalized}' (normalized from '${origin}')`);\n        }\n        else {\n            const normalized = this.baseHref = normalizePath(baseHref);\n            this.logger.debug(`baseHref set to '${normalized}' (normalized from '${baseHref}')`);\n        }\n    }\n    startListening() {\n        this.logger.trace(`startListening()`);\n        this.window.addEventListener('popstate', this.onPopState, false);\n        this.window.addEventListener('hashchange', this.onHashChange, false);\n    }\n    stopListening() {\n        this.logger.trace(`stopListening()`);\n        this.window.removeEventListener('popstate', this.onPopState, false);\n        this.window.removeEventListener('hashchange', this.onHashChange, false);\n    }\n    onPopState(event) {\n        this.logger.trace(`onPopState()`);\n        this.events.publish(new _router_events_js__WEBPACK_IMPORTED_MODULE_2__.LocationChangeEvent(++this.eventId, this.getPath(), 'popstate', event.state));\n    }\n    onHashChange(_event) {\n        this.logger.trace(`onHashChange()`);\n        this.events.publish(new _router_events_js__WEBPACK_IMPORTED_MODULE_2__.LocationChangeEvent(++this.eventId, this.getPath(), 'hashchange', null));\n    }\n    pushState(state, title, url) {\n        try {\n            const stateString = JSON.stringify(state);\n            this.logger.trace(`pushState(state:${stateString},title:'${title}',url:'${url}')`);\n        }\n        catch (err) {\n            this.logger.warn(`pushState(state:NOT_SERIALIZABLE,title:'${title}',url:'${url}')`);\n        }\n        this.history.pushState(state, title, url);\n    }\n    replaceState(state, title, url) {\n        try {\n            const stateString = JSON.stringify(state);\n            this.logger.trace(`replaceState(state:${stateString},title:'${title}',url:'${url}')`);\n        }\n        catch (err) {\n            this.logger.warn(`replaceState(state:NOT_SERIALIZABLE,title:'${title}',url:'${url}')`);\n        }\n        this.history.replaceState(state, title, url);\n    }\n    getPath() {\n        const { pathname, search, hash } = this.location;\n        const path = this.normalize(`${pathname}${normalizeQuery(search)}${hash}`);\n        this.logger.trace(`getPath() -> '${path}'`);\n        return path;\n    }\n    currentPathEquals(path) {\n        const equals = this.getPath() === this.normalize(path);\n        this.logger.trace(`currentPathEquals(path:'${path}') -> ${equals}`);\n        return equals;\n    }\n    getExternalURL(path) {\n        const $path = path;\n        let base = this.baseHref;\n        if (base.endsWith('/')) {\n            base = base.slice(0, -1);\n        }\n        if (path.startsWith('/')) {\n            path = path.slice(1);\n        }\n        const url = `${base}/${path}`;\n        this.logger.trace(`getExternalURL(path:'${$path}') -> '${url}'`);\n        return url;\n    }\n    normalize(path) {\n        const $path = path;\n        if (path.startsWith(this.baseHref)) {\n            path = path.slice(this.baseHref.length);\n        }\n        path = normalizePath(path);\n        this.logger.trace(`normalize(path:'${$path}') -> '${path}'`);\n        return path;\n    }\n};\n__decorate([\n    _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.bound\n], BrowserLocationManager.prototype, \"onPopState\", null);\n__decorate([\n    _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.bound\n], BrowserLocationManager.prototype, \"onHashChange\", null);\nBrowserLocationManager = __decorate([\n    __param(0, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger),\n    __param(1, _router_events_js__WEBPACK_IMPORTED_MODULE_2__.IRouterEvents),\n    __param(2, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IHistory),\n    __param(3, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ILocation),\n    __param(4, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IWindow),\n    __param(5, IBaseHrefProvider)\n], BrowserLocationManager);\n\n/**\n * Strip trailing `/index.html` and trailing `/` from the path, if present.\n */\nfunction normalizePath(path) {\n    let start;\n    let end;\n    let index;\n    if ((index = path.indexOf('?')) >= 0 || (index = path.indexOf('#')) >= 0) {\n        start = path.slice(0, index);\n        end = path.slice(index);\n    }\n    else {\n        start = path;\n        end = '';\n    }\n    if (start.endsWith('/')) {\n        start = start.slice(0, -1);\n    }\n    else if (start.endsWith('/index.html')) {\n        start = start.slice(0, -11 /* '/index.html'.length */);\n    }\n    return `${start}${end}`;\n}\nfunction normalizeQuery(query) {\n    return query.length > 0 && !query.startsWith('?') ? `?${query}` : query;\n}\n//# sourceMappingURL=location-manager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL2xvY2F0aW9uLW1hbmFnZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL2xvY2F0aW9uLW1hbmFnZXIuanM/NGFlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19wYXJhbSA9ICh0aGlzICYmIHRoaXMuX19wYXJhbSkgfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufTtcbmltcG9ydCB7IElMb2dnZXIsIERJLCBib3VuZCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBJSGlzdG9yeSwgSUxvY2F0aW9uLCBJV2luZG93IH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZS1odG1sJztcbmltcG9ydCB7IElSb3V0ZXJFdmVudHMsIExvY2F0aW9uQ2hhbmdlRXZlbnQgfSBmcm9tICcuL3JvdXRlci1ldmVudHMuanMnO1xuZXhwb3J0IGNvbnN0IElCYXNlSHJlZlByb3ZpZGVyID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJQmFzZUhyZWZQcm92aWRlcicsIHggPT4geC5zaW5nbGV0b24oQnJvd3NlckJhc2VIcmVmUHJvdmlkZXIpKTtcbi8qKlxuICogRGVmYXVsdCBicm93c2VyIGJhc2UgaHJlZiBwcm92aWRlci5cbiAqXG4gKiBSZXRyaWV2ZXMgdGhlIGJhc2UgaHJlZiBiYXNlZCBvbiB0aGUgYDxiYXNlPmAgZWxlbWVudCBmcm9tIGB3aW5kb3cuZG9jdW1lbnQuaGVhZGBcbiAqXG4gKiBUaGlzIGlzIGludGVybmFsIEFQSSBmb3IgdGhlIG1vbWVudC4gVGhlIHNoYXBlIG9mIHRoaXMgQVBJIChhcyB3ZWxsIGFzIGluIHdoaWNoIHBhY2thZ2UgaXQgcmVzaWRlcykgaXMgYWxzbyBsaWtlbHkgdGVtcG9yYXJ5LlxuICovXG5sZXQgQnJvd3NlckJhc2VIcmVmUHJvdmlkZXIgPSBjbGFzcyBCcm93c2VyQmFzZUhyZWZQcm92aWRlciB7XG4gICAgY29uc3RydWN0b3Iod2luZG93KSB7XG4gICAgICAgIHRoaXMud2luZG93ID0gd2luZG93O1xuICAgIH1cbiAgICBnZXRCYXNlSHJlZigpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMud2luZG93LmRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignYmFzZScpO1xuICAgICAgICBpZiAoYmFzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVBhdGgoYmFzZS5ocmVmKTtcbiAgICB9XG59O1xuQnJvd3NlckJhc2VIcmVmUHJvdmlkZXIgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDAsIElXaW5kb3cpXG5dLCBCcm93c2VyQmFzZUhyZWZQcm92aWRlcik7XG5leHBvcnQgeyBCcm93c2VyQmFzZUhyZWZQcm92aWRlciB9O1xuZXhwb3J0IGNvbnN0IElMb2NhdGlvbk1hbmFnZXIgPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lMb2NhdGlvbk1hbmFnZXInLCB4ID0+IHguc2luZ2xldG9uKEJyb3dzZXJMb2NhdGlvbk1hbmFnZXIpKTtcbi8qKlxuICogRGVmYXVsdCBicm93c2VyIGxvY2F0aW9uIG1hbmFnZXIuXG4gKlxuICogRW5jYXBzdWxhdGVzIGFsbCBET00gaW50ZXJhY3Rpb25zIChgd2luZG93YCwgYGxvY2F0aW9uYCBhbmQgYGhpc3RvcnlgIGFwaXMpIGFuZCBleHBvc2VzIHRoZW0gaW4gYW4gZW52aXJvbm1lbnQtYWdub3N0aWMgbWFubmVyLlxuICpcbiAqIFRoaXMgaXMgaW50ZXJuYWwgQVBJIGZvciB0aGUgbW9tZW50LiBUaGUgc2hhcGUgb2YgdGhpcyBBUEkgKGFzIHdlbGwgYXMgaW4gd2hpY2ggcGFja2FnZSBpdCByZXNpZGVzKSBpcyBhbHNvIGxpa2VseSB0ZW1wb3JhcnkuXG4gKi9cbmxldCBCcm93c2VyTG9jYXRpb25NYW5hZ2VyID0gY2xhc3MgQnJvd3NlckxvY2F0aW9uTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IobG9nZ2VyLCBldmVudHMsIGhpc3RvcnksIGxvY2F0aW9uLCB3aW5kb3csIGJhc2VIcmVmUHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMuaGlzdG9yeSA9IGhpc3Rvcnk7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy53aW5kb3cgPSB3aW5kb3c7XG4gICAgICAgIHRoaXMuYmFzZUhyZWZQcm92aWRlciA9IGJhc2VIcmVmUHJvdmlkZXI7XG4gICAgICAgIHRoaXMuZXZlbnRJZCA9IDA7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyLnJvb3Quc2NvcGVUbygnTG9jYXRpb25NYW5hZ2VyJyk7XG4gICAgICAgIGNvbnN0IGJhc2VIcmVmID0gYmFzZUhyZWZQcm92aWRlci5nZXRCYXNlSHJlZigpO1xuICAgICAgICBpZiAoYmFzZUhyZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IChfYSA9IGxvY2F0aW9uLm9yaWdpbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyc7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gdGhpcy5iYXNlSHJlZiA9IG5vcm1hbGl6ZVBhdGgob3JpZ2luKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYG5vIGJhc2VIcmVmIHByb3ZpZGVkLCBkZWZhdWx0aW5nIHRvIG9yaWdpbiAnJHtub3JtYWxpemVkfScgKG5vcm1hbGl6ZWQgZnJvbSAnJHtvcmlnaW59JylgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB0aGlzLmJhc2VIcmVmID0gbm9ybWFsaXplUGF0aChiYXNlSHJlZik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgYmFzZUhyZWYgc2V0IHRvICcke25vcm1hbGl6ZWR9JyAobm9ybWFsaXplZCBmcm9tICcke2Jhc2VIcmVmfScpYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnRMaXN0ZW5pbmcoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBzdGFydExpc3RlbmluZygpYCk7XG4gICAgICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5vblBvcFN0YXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aGlzLm9uSGFzaENoYW5nZSwgZmFsc2UpO1xuICAgIH1cbiAgICBzdG9wTGlzdGVuaW5nKCkge1xuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgc3RvcExpc3RlbmluZygpYCk7XG4gICAgICAgIHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5vblBvcFN0YXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aGlzLm9uSGFzaENoYW5nZSwgZmFsc2UpO1xuICAgIH1cbiAgICBvblBvcFN0YXRlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBvblBvcFN0YXRlKClgKTtcbiAgICAgICAgdGhpcy5ldmVudHMucHVibGlzaChuZXcgTG9jYXRpb25DaGFuZ2VFdmVudCgrK3RoaXMuZXZlbnRJZCwgdGhpcy5nZXRQYXRoKCksICdwb3BzdGF0ZScsIGV2ZW50LnN0YXRlKSk7XG4gICAgfVxuICAgIG9uSGFzaENoYW5nZShfZXZlbnQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYG9uSGFzaENoYW5nZSgpYCk7XG4gICAgICAgIHRoaXMuZXZlbnRzLnB1Ymxpc2gobmV3IExvY2F0aW9uQ2hhbmdlRXZlbnQoKyt0aGlzLmV2ZW50SWQsIHRoaXMuZ2V0UGF0aCgpLCAnaGFzaGNoYW5nZScsIG51bGwpKTtcbiAgICB9XG4gICAgcHVzaFN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZVN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBwdXNoU3RhdGUoc3RhdGU6JHtzdGF0ZVN0cmluZ30sdGl0bGU6JyR7dGl0bGV9Jyx1cmw6JyR7dXJsfScpYCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgcHVzaFN0YXRlKHN0YXRlOk5PVF9TRVJJQUxJWkFCTEUsdGl0bGU6JyR7dGl0bGV9Jyx1cmw6JyR7dXJsfScpYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCk7XG4gICAgfVxuICAgIHJlcGxhY2VTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShzdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgcmVwbGFjZVN0YXRlKHN0YXRlOiR7c3RhdGVTdHJpbmd9LHRpdGxlOicke3RpdGxlfScsdXJsOicke3VybH0nKWApO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYHJlcGxhY2VTdGF0ZShzdGF0ZTpOT1RfU0VSSUFMSVpBQkxFLHRpdGxlOicke3RpdGxlfScsdXJsOicke3VybH0nKWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsIHRpdGxlLCB1cmwpO1xuICAgIH1cbiAgICBnZXRQYXRoKCkge1xuICAgICAgICBjb25zdCB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSA9IHRoaXMubG9jYXRpb247XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLm5vcm1hbGl6ZShgJHtwYXRobmFtZX0ke25vcm1hbGl6ZVF1ZXJ5KHNlYXJjaCl9JHtoYXNofWApO1xuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgZ2V0UGF0aCgpIC0+ICcke3BhdGh9J2ApO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgY3VycmVudFBhdGhFcXVhbHMocGF0aCkge1xuICAgICAgICBjb25zdCBlcXVhbHMgPSB0aGlzLmdldFBhdGgoKSA9PT0gdGhpcy5ub3JtYWxpemUocGF0aCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBjdXJyZW50UGF0aEVxdWFscyhwYXRoOicke3BhdGh9JykgLT4gJHtlcXVhbHN9YCk7XG4gICAgICAgIHJldHVybiBlcXVhbHM7XG4gICAgfVxuICAgIGdldEV4dGVybmFsVVJMKHBhdGgpIHtcbiAgICAgICAgY29uc3QgJHBhdGggPSBwYXRoO1xuICAgICAgICBsZXQgYmFzZSA9IHRoaXMuYmFzZUhyZWY7XG4gICAgICAgIGlmIChiYXNlLmVuZHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgIGJhc2UgPSBiYXNlLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aC5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVybCA9IGAke2Jhc2V9LyR7cGF0aH1gO1xuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgZ2V0RXh0ZXJuYWxVUkwocGF0aDonJHskcGF0aH0nKSAtPiAnJHt1cmx9J2ApO1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICBub3JtYWxpemUocGF0aCkge1xuICAgICAgICBjb25zdCAkcGF0aCA9IHBhdGg7XG4gICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgodGhpcy5iYXNlSHJlZikpIHtcbiAgICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKHRoaXMuYmFzZUhyZWYubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBwYXRoID0gbm9ybWFsaXplUGF0aChwYXRoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYG5vcm1hbGl6ZShwYXRoOickeyRwYXRofScpIC0+ICcke3BhdGh9J2ApO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG59O1xuX19kZWNvcmF0ZShbXG4gICAgYm91bmRcbl0sIEJyb3dzZXJMb2NhdGlvbk1hbmFnZXIucHJvdG90eXBlLCBcIm9uUG9wU3RhdGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBib3VuZFxuXSwgQnJvd3NlckxvY2F0aW9uTWFuYWdlci5wcm90b3R5cGUsIFwib25IYXNoQ2hhbmdlXCIsIG51bGwpO1xuQnJvd3NlckxvY2F0aW9uTWFuYWdlciA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oMCwgSUxvZ2dlciksXG4gICAgX19wYXJhbSgxLCBJUm91dGVyRXZlbnRzKSxcbiAgICBfX3BhcmFtKDIsIElIaXN0b3J5KSxcbiAgICBfX3BhcmFtKDMsIElMb2NhdGlvbiksXG4gICAgX19wYXJhbSg0LCBJV2luZG93KSxcbiAgICBfX3BhcmFtKDUsIElCYXNlSHJlZlByb3ZpZGVyKVxuXSwgQnJvd3NlckxvY2F0aW9uTWFuYWdlcik7XG5leHBvcnQgeyBCcm93c2VyTG9jYXRpb25NYW5hZ2VyIH07XG4vKipcbiAqIFN0cmlwIHRyYWlsaW5nIGAvaW5kZXguaHRtbGAgYW5kIHRyYWlsaW5nIGAvYCBmcm9tIHRoZSBwYXRoLCBpZiBwcmVzZW50LlxuICovXG5mdW5jdGlvbiBub3JtYWxpemVQYXRoKHBhdGgpIHtcbiAgICBsZXQgc3RhcnQ7XG4gICAgbGV0IGVuZDtcbiAgICBsZXQgaW5kZXg7XG4gICAgaWYgKChpbmRleCA9IHBhdGguaW5kZXhPZignPycpKSA+PSAwIHx8IChpbmRleCA9IHBhdGguaW5kZXhPZignIycpKSA+PSAwKSB7XG4gICAgICAgIHN0YXJ0ID0gcGF0aC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIGVuZCA9IHBhdGguc2xpY2UoaW5kZXgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBwYXRoO1xuICAgICAgICBlbmQgPSAnJztcbiAgICB9XG4gICAgaWYgKHN0YXJ0LmVuZHNXaXRoKCcvJykpIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydC5zbGljZSgwLCAtMSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0YXJ0LmVuZHNXaXRoKCcvaW5kZXguaHRtbCcpKSB7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQuc2xpY2UoMCwgLTExIC8qICcvaW5kZXguaHRtbCcubGVuZ3RoICovKTtcbiAgICB9XG4gICAgcmV0dXJuIGAke3N0YXJ0fSR7ZW5kfWA7XG59XG5mdW5jdGlvbiBub3JtYWxpemVRdWVyeShxdWVyeSkge1xuICAgIHJldHVybiBxdWVyeS5sZW5ndGggPiAwICYmICFxdWVyeS5zdGFydHNXaXRoKCc/JykgPyBgPyR7cXVlcnl9YCA6IHF1ZXJ5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9jYXRpb24tbWFuYWdlci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/location-manager.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/resources/href.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/resources/href.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HrefCustomAttribute\": () => (/* binding */ HrefCustomAttribute)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../router.js */ \"./node_modules/@aurelia/router/dist/esm/router.js\");\n/* harmony import */ var _configuration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../configuration.js */ \"./node_modules/@aurelia/router/dist/esm/configuration.js\");\n/* harmony import */ var _route_context_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../route-context.js */ \"./node_modules/@aurelia/router/dist/esm/route-context.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\nlet HrefCustomAttribute = class HrefCustomAttribute {\n    constructor(target, el, router, delegator, ctx, w) {\n        this.target = target;\n        this.el = el;\n        this.router = router;\n        this.delegator = delegator;\n        this.ctx = ctx;\n        this.eventListener = null;\n        this.isInitialized = false;\n        this.onClick = (e) => {\n            // Ensure this is an ordinary left-button click.\n            if (e.altKey || e.ctrlKey || e.shiftKey || e.metaKey || e.button !== 0) {\n                return;\n            }\n            // Use the normalized attribute instead of this.value to ensure consistency.\n            const href = this.el.getAttribute('href');\n            if (href !== null) {\n                e.preventDefault();\n                // Floating promises from `Router#load` are ok because the router keeps track of state and handles the errors, etc.\n                void this.router.load(href, { context: this.ctx });\n            }\n        };\n        if (router.options.useHref &&\n            // Ensure the element is an anchor\n            el.nodeName === 'A' &&\n            // Ensure the anchor is not explicitly marked as external.\n            !el.hasAttribute('external') &&\n            !el.hasAttribute('data-external')) {\n            // Ensure the anchor targets the current window.\n            switch (el.getAttribute('target')) {\n                case null:\n                case w.name:\n                case '_self':\n                    this.isEnabled = true;\n                    break;\n                default:\n                    this.isEnabled = false;\n                    break;\n            }\n        }\n        else {\n            this.isEnabled = false;\n        }\n    }\n    binding() {\n        if (!this.isInitialized) {\n            this.isInitialized = true;\n            this.isEnabled = this.isEnabled && (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.getRef)(this.el, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.CustomAttribute.getDefinition(_configuration_js__WEBPACK_IMPORTED_MODULE_2__.LoadCustomAttribute).key) === null;\n        }\n        if (this.isEnabled) {\n            this.el.setAttribute('href', this.value);\n            this.eventListener = this.delegator.addEventListener(this.target, this.el, 'click', this.onClick);\n        }\n    }\n    unbinding() {\n        if (this.isEnabled) {\n            this.eventListener.dispose();\n        }\n    }\n    valueChanged(newValue) {\n        this.el.setAttribute('href', newValue);\n    }\n};\n__decorate([\n    (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.bindable)({ mode: _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.BindingMode.toView })\n], HrefCustomAttribute.prototype, \"value\", void 0);\nHrefCustomAttribute = __decorate([\n    (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.customAttribute)({ name: 'href', noMultiBindings: true }),\n    __param(0, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.IEventTarget),\n    __param(1, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.INode),\n    __param(2, _router_js__WEBPACK_IMPORTED_MODULE_1__.IRouter),\n    __param(3, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.IEventDelegator),\n    __param(4, _route_context_js__WEBPACK_IMPORTED_MODULE_3__.IRouteContext),\n    __param(5, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.IWindow)\n], HrefCustomAttribute);\n\n//# sourceMappingURL=href.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3Jlc291cmNlcy9ocmVmLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3JvdXRlci9kaXN0L2VzbS9yZXNvdXJjZXMvaHJlZi5qcz83NmU3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xuaW1wb3J0IHsgY3VzdG9tQXR0cmlidXRlLCBiaW5kYWJsZSwgQmluZGluZ01vZGUsIElFdmVudERlbGVnYXRvciwgSUV2ZW50VGFyZ2V0LCBJTm9kZSwgSVdpbmRvdywgZ2V0UmVmLCBDdXN0b21BdHRyaWJ1dGUgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lLWh0bWwnO1xuaW1wb3J0IHsgSVJvdXRlciB9IGZyb20gJy4uL3JvdXRlci5qcyc7XG5pbXBvcnQgeyBMb2FkQ3VzdG9tQXR0cmlidXRlIH0gZnJvbSAnLi4vY29uZmlndXJhdGlvbi5qcyc7XG5pbXBvcnQgeyBJUm91dGVDb250ZXh0IH0gZnJvbSAnLi4vcm91dGUtY29udGV4dC5qcyc7XG5sZXQgSHJlZkN1c3RvbUF0dHJpYnV0ZSA9IGNsYXNzIEhyZWZDdXN0b21BdHRyaWJ1dGUge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgZWwsIHJvdXRlciwgZGVsZWdhdG9yLCBjdHgsIHcpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMuZGVsZWdhdG9yID0gZGVsZWdhdG9yO1xuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25DbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhpcyBpcyBhbiBvcmRpbmFyeSBsZWZ0LWJ1dHRvbiBjbGljay5cbiAgICAgICAgICAgIGlmIChlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5zaGlmdEtleSB8fCBlLm1ldGFLZXkgfHwgZS5idXR0b24gIT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVc2UgdGhlIG5vcm1hbGl6ZWQgYXR0cmlidXRlIGluc3RlYWQgb2YgdGhpcy52YWx1ZSB0byBlbnN1cmUgY29uc2lzdGVuY3kuXG4gICAgICAgICAgICBjb25zdCBocmVmID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgICAgICAgIGlmIChocmVmICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIC8vIEZsb2F0aW5nIHByb21pc2VzIGZyb20gYFJvdXRlciNsb2FkYCBhcmUgb2sgYmVjYXVzZSB0aGUgcm91dGVyIGtlZXBzIHRyYWNrIG9mIHN0YXRlIGFuZCBoYW5kbGVzIHRoZSBlcnJvcnMsIGV0Yy5cbiAgICAgICAgICAgICAgICB2b2lkIHRoaXMucm91dGVyLmxvYWQoaHJlZiwgeyBjb250ZXh0OiB0aGlzLmN0eCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHJvdXRlci5vcHRpb25zLnVzZUhyZWYgJiZcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgZWxlbWVudCBpcyBhbiBhbmNob3JcbiAgICAgICAgICAgIGVsLm5vZGVOYW1lID09PSAnQScgJiZcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgYW5jaG9yIGlzIG5vdCBleHBsaWNpdGx5IG1hcmtlZCBhcyBleHRlcm5hbC5cbiAgICAgICAgICAgICFlbC5oYXNBdHRyaWJ1dGUoJ2V4dGVybmFsJykgJiZcbiAgICAgICAgICAgICFlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtZXh0ZXJuYWwnKSkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBhbmNob3IgdGFyZ2V0cyB0aGUgY3VycmVudCB3aW5kb3cuXG4gICAgICAgICAgICBzd2l0Y2ggKGVsLmdldEF0dHJpYnV0ZSgndGFyZ2V0JykpIHtcbiAgICAgICAgICAgICAgICBjYXNlIG51bGw6XG4gICAgICAgICAgICAgICAgY2FzZSB3Lm5hbWU6XG4gICAgICAgICAgICAgICAgY2FzZSAnX3NlbGYnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBiaW5kaW5nKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaXNFbmFibGVkID0gdGhpcy5pc0VuYWJsZWQgJiYgZ2V0UmVmKHRoaXMuZWwsIEN1c3RvbUF0dHJpYnV0ZS5nZXREZWZpbml0aW9uKExvYWRDdXN0b21BdHRyaWJ1dGUpLmtleSkgPT09IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnaHJlZicsIHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyID0gdGhpcy5kZWxlZ2F0b3IuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnRhcmdldCwgdGhpcy5lbCwgJ2NsaWNrJywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bmJpbmRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YWx1ZUNoYW5nZWQobmV3VmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBuZXdWYWx1ZSk7XG4gICAgfVxufTtcbl9fZGVjb3JhdGUoW1xuICAgIGJpbmRhYmxlKHsgbW9kZTogQmluZGluZ01vZGUudG9WaWV3IH0pXG5dLCBIcmVmQ3VzdG9tQXR0cmlidXRlLnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB2b2lkIDApO1xuSHJlZkN1c3RvbUF0dHJpYnV0ZSA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUF0dHJpYnV0ZSh7IG5hbWU6ICdocmVmJywgbm9NdWx0aUJpbmRpbmdzOiB0cnVlIH0pLFxuICAgIF9fcGFyYW0oMCwgSUV2ZW50VGFyZ2V0KSxcbiAgICBfX3BhcmFtKDEsIElOb2RlKSxcbiAgICBfX3BhcmFtKDIsIElSb3V0ZXIpLFxuICAgIF9fcGFyYW0oMywgSUV2ZW50RGVsZWdhdG9yKSxcbiAgICBfX3BhcmFtKDQsIElSb3V0ZUNvbnRleHQpLFxuICAgIF9fcGFyYW0oNSwgSVdpbmRvdylcbl0sIEhyZWZDdXN0b21BdHRyaWJ1dGUpO1xuZXhwb3J0IHsgSHJlZkN1c3RvbUF0dHJpYnV0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHJlZi5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/resources/href.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/resources/load.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/resources/load.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LoadCustomAttribute\": () => (/* binding */ LoadCustomAttribute)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../router.js */ \"./node_modules/@aurelia/router/dist/esm/router.js\");\n/* harmony import */ var _route_context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../route-context.js */ \"./node_modules/@aurelia/router/dist/esm/route-context.js\");\n/* harmony import */ var _router_events_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../router-events.js */ \"./node_modules/@aurelia/router/dist/esm/router-events.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\nlet LoadCustomAttribute = class LoadCustomAttribute {\n    constructor(target, el, router, events, delegator, ctx) {\n        this.target = target;\n        this.el = el;\n        this.router = router;\n        this.events = events;\n        this.delegator = delegator;\n        this.ctx = ctx;\n        this.attribute = 'href';\n        this.active = false;\n        this.href = null;\n        this.instructions = null;\n        this.eventListener = null;\n        this.navigationEndListener = null;\n        this.onClick = (e) => {\n            if (this.instructions === null) {\n                return;\n            }\n            // Ensure this is an ordinary left-button click.\n            if (e.altKey || e.ctrlKey || e.shiftKey || e.metaKey || e.button !== 0) {\n                return;\n            }\n            e.preventDefault();\n            // Floating promises from `Router#load` are ok because the router keeps track of state and handles the errors, etc.\n            void this.router.load(this.instructions, { context: this.ctx });\n        };\n        // Ensure the element is not explicitly marked as external.\n        this.isEnabled = !el.hasAttribute('external') && !el.hasAttribute('data-external');\n    }\n    binding() {\n        if (this.isEnabled) {\n            this.eventListener = this.delegator.addEventListener(this.target, this.el, 'click', this.onClick);\n        }\n        this.valueChanged();\n        this.navigationEndListener = this.events.subscribe('au:router:navigation-end', _e => {\n            this.valueChanged();\n            this.active = this.instructions !== null && this.router.isActive(this.instructions, this.ctx);\n        });\n    }\n    attaching() {\n        if (this.ctx.allResolved !== null) {\n            return this.ctx.allResolved.then(() => {\n                this.valueChanged();\n            });\n        }\n    }\n    unbinding() {\n        if (this.isEnabled) {\n            this.eventListener.dispose();\n        }\n        this.navigationEndListener.dispose();\n    }\n    valueChanged() {\n        if (this.route !== null && this.route !== void 0 && this.ctx.allResolved === null) {\n            const def = this.ctx.childRoutes.find(x => x.id === this.route);\n            if (def !== void 0) {\n                // TODO(fkleuver): massive temporary hack. Will not work for siblings etc. Need to fix.\n                const parentPath = this.ctx.node.computeAbsolutePath();\n                // Note: This is very much preliminary just to fill the feature gap of v1's `generate`. It probably misses a few edge cases.\n                // TODO(fkleuver): move this logic to RouteExpression and expose via public api, add tests etc\n                let path = def.path[0];\n                if (typeof this.params === 'object' && this.params !== null) {\n                    const keys = Object.keys(this.params);\n                    for (const key of keys) {\n                        const value = this.params[key];\n                        if (value != null && String(value).length > 0) {\n                            path = path.replace(new RegExp(`[*:]${key}[?]?`), value);\n                        }\n                    }\n                }\n                // Remove leading and trailing optional param parts\n                path = path.replace(/\\/[*:][^/]+[?]/g, '').replace(/[*:][^/]+[?]\\//g, '');\n                if (parentPath) {\n                    if (path) {\n                        this.href = [parentPath, path].join('/');\n                    }\n                    else {\n                        this.href = parentPath;\n                    }\n                }\n                else {\n                    this.href = path;\n                }\n                this.instructions = this.router.createViewportInstructions(path, { context: this.ctx });\n            }\n            else {\n                if (typeof this.params === 'object' && this.params !== null) {\n                    this.instructions = this.router.createViewportInstructions({ component: this.route, params: this.params }, { context: this.ctx });\n                }\n                else {\n                    this.instructions = this.router.createViewportInstructions(this.route, { context: this.ctx });\n                }\n                this.href = this.instructions.toUrl();\n            }\n        }\n        else {\n            this.instructions = null;\n            this.href = null;\n        }\n        const controller = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.CustomElement.for(this.el, { optional: true });\n        if (controller !== null) {\n            controller.viewModel[this.attribute] = this.instructions;\n        }\n        else {\n            if (this.href === null) {\n                this.el.removeAttribute(this.attribute);\n            }\n            else {\n                this.el.setAttribute(this.attribute, this.href);\n            }\n        }\n    }\n};\n__decorate([\n    (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.bindable)({ mode: _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.BindingMode.toView, primary: true, callback: 'valueChanged' })\n], LoadCustomAttribute.prototype, \"route\", void 0);\n__decorate([\n    (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.bindable)({ mode: _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.BindingMode.toView, callback: 'valueChanged' })\n], LoadCustomAttribute.prototype, \"params\", void 0);\n__decorate([\n    (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.bindable)({ mode: _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.BindingMode.toView })\n], LoadCustomAttribute.prototype, \"attribute\", void 0);\n__decorate([\n    (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.bindable)({ mode: _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.BindingMode.fromView })\n], LoadCustomAttribute.prototype, \"active\", void 0);\nLoadCustomAttribute = __decorate([\n    (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.customAttribute)('load'),\n    __param(0, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.IEventTarget),\n    __param(1, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.INode),\n    __param(2, _router_js__WEBPACK_IMPORTED_MODULE_1__.IRouter),\n    __param(3, _router_events_js__WEBPACK_IMPORTED_MODULE_3__.IRouterEvents),\n    __param(4, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.IEventDelegator),\n    __param(5, _route_context_js__WEBPACK_IMPORTED_MODULE_2__.IRouteContext)\n], LoadCustomAttribute);\n\n//# sourceMappingURL=load.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3Jlc291cmNlcy9sb2FkLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3JvdXRlci9kaXN0L2VzbS9yZXNvdXJjZXMvbG9hZC5qcz9jZWZlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xuaW1wb3J0IHsgY3VzdG9tQXR0cmlidXRlLCBiaW5kYWJsZSwgQmluZGluZ01vZGUsIElFdmVudERlbGVnYXRvciwgSUV2ZW50VGFyZ2V0LCBJTm9kZSwgQ3VzdG9tRWxlbWVudCB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUtaHRtbCc7XG5pbXBvcnQgeyBJUm91dGVyIH0gZnJvbSAnLi4vcm91dGVyLmpzJztcbmltcG9ydCB7IElSb3V0ZUNvbnRleHQgfSBmcm9tICcuLi9yb3V0ZS1jb250ZXh0LmpzJztcbmltcG9ydCB7IElSb3V0ZXJFdmVudHMgfSBmcm9tICcuLi9yb3V0ZXItZXZlbnRzLmpzJztcbmxldCBMb2FkQ3VzdG9tQXR0cmlidXRlID0gY2xhc3MgTG9hZEN1c3RvbUF0dHJpYnV0ZSB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBlbCwgcm91dGVyLCBldmVudHMsIGRlbGVnYXRvciwgY3R4KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgdGhpcy5kZWxlZ2F0b3IgPSBkZWxlZ2F0b3I7XG4gICAgICAgIHRoaXMuY3R4ID0gY3R4O1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZSA9ICdocmVmJztcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ocmVmID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBudWxsO1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm5hdmlnYXRpb25FbmRMaXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMub25DbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0cnVjdGlvbnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhpcyBpcyBhbiBvcmRpbmFyeSBsZWZ0LWJ1dHRvbiBjbGljay5cbiAgICAgICAgICAgIGlmIChlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5zaGlmdEtleSB8fCBlLm1ldGFLZXkgfHwgZS5idXR0b24gIT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAvLyBGbG9hdGluZyBwcm9taXNlcyBmcm9tIGBSb3V0ZXIjbG9hZGAgYXJlIG9rIGJlY2F1c2UgdGhlIHJvdXRlciBrZWVwcyB0cmFjayBvZiBzdGF0ZSBhbmQgaGFuZGxlcyB0aGUgZXJyb3JzLCBldGMuXG4gICAgICAgICAgICB2b2lkIHRoaXMucm91dGVyLmxvYWQodGhpcy5pbnN0cnVjdGlvbnMsIHsgY29udGV4dDogdGhpcy5jdHggfSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgZWxlbWVudCBpcyBub3QgZXhwbGljaXRseSBtYXJrZWQgYXMgZXh0ZXJuYWwuXG4gICAgICAgIHRoaXMuaXNFbmFibGVkID0gIWVsLmhhc0F0dHJpYnV0ZSgnZXh0ZXJuYWwnKSAmJiAhZWwuaGFzQXR0cmlidXRlKCdkYXRhLWV4dGVybmFsJyk7XG4gICAgfVxuICAgIGJpbmRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyID0gdGhpcy5kZWxlZ2F0b3IuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnRhcmdldCwgdGhpcy5lbCwgJ2NsaWNrJywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlZCgpO1xuICAgICAgICB0aGlzLm5hdmlnYXRpb25FbmRMaXN0ZW5lciA9IHRoaXMuZXZlbnRzLnN1YnNjcmliZSgnYXU6cm91dGVyOm5hdmlnYXRpb24tZW5kJywgX2UgPT4ge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUNoYW5nZWQoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gdGhpcy5pbnN0cnVjdGlvbnMgIT09IG51bGwgJiYgdGhpcy5yb3V0ZXIuaXNBY3RpdmUodGhpcy5pbnN0cnVjdGlvbnMsIHRoaXMuY3R4KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGF0dGFjaGluZygpIHtcbiAgICAgICAgaWYgKHRoaXMuY3R4LmFsbFJlc29sdmVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdHguYWxsUmVzb2x2ZWQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZUNoYW5nZWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuYmluZGluZygpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXIuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmF2aWdhdGlvbkVuZExpc3RlbmVyLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgdmFsdWVDaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy5yb3V0ZSAhPT0gbnVsbCAmJiB0aGlzLnJvdXRlICE9PSB2b2lkIDAgJiYgdGhpcy5jdHguYWxsUmVzb2x2ZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuY3R4LmNoaWxkUm91dGVzLmZpbmQoeCA9PiB4LmlkID09PSB0aGlzLnJvdXRlKTtcbiAgICAgICAgICAgIGlmIChkZWYgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8oZmtsZXV2ZXIpOiBtYXNzaXZlIHRlbXBvcmFyeSBoYWNrLiBXaWxsIG5vdCB3b3JrIGZvciBzaWJsaW5ncyBldGMuIE5lZWQgdG8gZml4LlxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFBhdGggPSB0aGlzLmN0eC5ub2RlLmNvbXB1dGVBYnNvbHV0ZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBUaGlzIGlzIHZlcnkgbXVjaCBwcmVsaW1pbmFyeSBqdXN0IHRvIGZpbGwgdGhlIGZlYXR1cmUgZ2FwIG9mIHYxJ3MgYGdlbmVyYXRlYC4gSXQgcHJvYmFibHkgbWlzc2VzIGEgZmV3IGVkZ2UgY2FzZXMuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyhma2xldXZlcik6IG1vdmUgdGhpcyBsb2dpYyB0byBSb3V0ZUV4cHJlc3Npb24gYW5kIGV4cG9zZSB2aWEgcHVibGljIGFwaSwgYWRkIHRlc3RzIGV0Y1xuICAgICAgICAgICAgICAgIGxldCBwYXRoID0gZGVmLnBhdGhbMF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBhcmFtcyA9PT0gJ29iamVjdCcgJiYgdGhpcy5wYXJhbXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnBhcmFtc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgU3RyaW5nKHZhbHVlKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZShuZXcgUmVnRXhwKGBbKjpdJHtrZXl9Wz9dP2ApLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIG9wdGlvbmFsIHBhcmFtIHBhcnRzXG4gICAgICAgICAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFwvWyo6XVteL10rWz9dL2csICcnKS5yZXBsYWNlKC9bKjpdW14vXStbP11cXC8vZywgJycpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhyZWYgPSBbcGFyZW50UGF0aCwgcGF0aF0uam9pbignLycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ocmVmID0gcGFyZW50UGF0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ocmVmID0gcGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSB0aGlzLnJvdXRlci5jcmVhdGVWaWV3cG9ydEluc3RydWN0aW9ucyhwYXRoLCB7IGNvbnRleHQ6IHRoaXMuY3R4IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBhcmFtcyA9PT0gJ29iamVjdCcgJiYgdGhpcy5wYXJhbXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSB0aGlzLnJvdXRlci5jcmVhdGVWaWV3cG9ydEluc3RydWN0aW9ucyh7IGNvbXBvbmVudDogdGhpcy5yb3V0ZSwgcGFyYW1zOiB0aGlzLnBhcmFtcyB9LCB7IGNvbnRleHQ6IHRoaXMuY3R4IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSB0aGlzLnJvdXRlci5jcmVhdGVWaWV3cG9ydEluc3RydWN0aW9ucyh0aGlzLnJvdXRlLCB7IGNvbnRleHQ6IHRoaXMuY3R4IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmhyZWYgPSB0aGlzLmluc3RydWN0aW9ucy50b1VybCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ocmVmID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gQ3VzdG9tRWxlbWVudC5mb3IodGhpcy5lbCwgeyBvcHRpb25hbDogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIudmlld01vZGVsW3RoaXMuYXR0cmlidXRlXSA9IHRoaXMuaW5zdHJ1Y3Rpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuaHJlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWwucmVtb3ZlQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlLCB0aGlzLmhyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbl9fZGVjb3JhdGUoW1xuICAgIGJpbmRhYmxlKHsgbW9kZTogQmluZGluZ01vZGUudG9WaWV3LCBwcmltYXJ5OiB0cnVlLCBjYWxsYmFjazogJ3ZhbHVlQ2hhbmdlZCcgfSlcbl0sIExvYWRDdXN0b21BdHRyaWJ1dGUucHJvdG90eXBlLCBcInJvdXRlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZSh7IG1vZGU6IEJpbmRpbmdNb2RlLnRvVmlldywgY2FsbGJhY2s6ICd2YWx1ZUNoYW5nZWQnIH0pXG5dLCBMb2FkQ3VzdG9tQXR0cmlidXRlLnByb3RvdHlwZSwgXCJwYXJhbXNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGJpbmRhYmxlKHsgbW9kZTogQmluZGluZ01vZGUudG9WaWV3IH0pXG5dLCBMb2FkQ3VzdG9tQXR0cmlidXRlLnByb3RvdHlwZSwgXCJhdHRyaWJ1dGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGJpbmRhYmxlKHsgbW9kZTogQmluZGluZ01vZGUuZnJvbVZpZXcgfSlcbl0sIExvYWRDdXN0b21BdHRyaWJ1dGUucHJvdG90eXBlLCBcImFjdGl2ZVwiLCB2b2lkIDApO1xuTG9hZEN1c3RvbUF0dHJpYnV0ZSA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUF0dHJpYnV0ZSgnbG9hZCcpLFxuICAgIF9fcGFyYW0oMCwgSUV2ZW50VGFyZ2V0KSxcbiAgICBfX3BhcmFtKDEsIElOb2RlKSxcbiAgICBfX3BhcmFtKDIsIElSb3V0ZXIpLFxuICAgIF9fcGFyYW0oMywgSVJvdXRlckV2ZW50cyksXG4gICAgX19wYXJhbSg0LCBJRXZlbnREZWxlZ2F0b3IpLFxuICAgIF9fcGFyYW0oNSwgSVJvdXRlQ29udGV4dClcbl0sIExvYWRDdXN0b21BdHRyaWJ1dGUpO1xuZXhwb3J0IHsgTG9hZEN1c3RvbUF0dHJpYnV0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/resources/load.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/resources/viewport.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/resources/viewport.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ViewportCustomElement\": () => (/* binding */ ViewportCustomElement)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _route_context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../route-context.js */ \"./node_modules/@aurelia/router/dist/esm/route-context.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\nlet ViewportCustomElement = class ViewportCustomElement {\n    constructor(logger, ctx) {\n        this.logger = logger;\n        this.ctx = ctx;\n        this.name = 'default';\n        this.usedBy = '';\n        this.default = '';\n        this.fallback = '';\n        this.noScope = false;\n        this.noLink = false;\n        this.noHistory = false;\n        this.stateful = false;\n        this.agent = (void 0);\n        this.controller = (void 0);\n        this.logger = logger.scopeTo(`au-viewport<${ctx.friendlyPath}>`);\n        this.logger.trace('constructor()');\n    }\n    hydrated(controller) {\n        this.logger.trace('hydrated()');\n        this.controller = controller;\n        this.agent = this.ctx.registerViewport(this);\n    }\n    attaching(initiator, parent, flags) {\n        this.logger.trace('attaching()');\n        return this.agent.activateFromViewport(initiator, this.controller, flags);\n    }\n    detaching(initiator, parent, flags) {\n        this.logger.trace('detaching()');\n        return this.agent.deactivateFromViewport(initiator, this.controller, flags);\n    }\n    dispose() {\n        this.logger.trace('dispose()');\n        this.ctx.unregisterViewport(this);\n        this.agent.dispose();\n        this.agent = (void 0);\n    }\n    toString() {\n        const propStrings = [];\n        for (const prop of props) {\n            const value = this[prop];\n            // Only report props that don't have default values (but always report name)\n            // This is a bit naive and dirty right now, but it's mostly for debugging purposes anyway. Can clean up later. Maybe put it in a serializer\n            switch (typeof value) {\n                case 'string':\n                    if (value !== '') {\n                        propStrings.push(`${prop}:'${value}'`);\n                    }\n                    break;\n                case 'boolean':\n                    if (value) {\n                        propStrings.push(`${prop}:${value}`);\n                    }\n                    break;\n                default: {\n                    propStrings.push(`${prop}:${String(value)}`);\n                }\n            }\n        }\n        return `VP(ctx:'${this.ctx.friendlyPath}',${propStrings.join(',')})`;\n    }\n};\n__decorate([\n    _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindable\n], ViewportCustomElement.prototype, \"name\", void 0);\n__decorate([\n    _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindable\n], ViewportCustomElement.prototype, \"usedBy\", void 0);\n__decorate([\n    _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindable\n], ViewportCustomElement.prototype, \"default\", void 0);\n__decorate([\n    _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindable\n], ViewportCustomElement.prototype, \"fallback\", void 0);\n__decorate([\n    _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindable\n], ViewportCustomElement.prototype, \"noScope\", void 0);\n__decorate([\n    _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindable\n], ViewportCustomElement.prototype, \"noLink\", void 0);\n__decorate([\n    _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindable\n], ViewportCustomElement.prototype, \"noHistory\", void 0);\n__decorate([\n    _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindable\n], ViewportCustomElement.prototype, \"stateful\", void 0);\nViewportCustomElement = __decorate([\n    (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.customElement)({ name: 'au-viewport' }),\n    __param(0, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger),\n    __param(1, _route_context_js__WEBPACK_IMPORTED_MODULE_2__.IRouteContext)\n], ViewportCustomElement);\n\nconst props = [\n    'name',\n    'usedBy',\n    'default',\n    'fallback',\n    'noScope',\n    'noLink',\n    'noHistory',\n    'stateful',\n];\n//# sourceMappingURL=viewport.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3Jlc291cmNlcy92aWV3cG9ydC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9yb3V0ZXIvZGlzdC9lc20vcmVzb3VyY2VzL3ZpZXdwb3J0LmpzP2E2MmYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG5pbXBvcnQgeyBJTG9nZ2VyIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IGJpbmRhYmxlLCBjdXN0b21FbGVtZW50IH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZS1odG1sJztcbmltcG9ydCB7IElSb3V0ZUNvbnRleHQgfSBmcm9tICcuLi9yb3V0ZS1jb250ZXh0LmpzJztcbmxldCBWaWV3cG9ydEN1c3RvbUVsZW1lbnQgPSBjbGFzcyBWaWV3cG9ydEN1c3RvbUVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGxvZ2dlciwgY3R4KSB7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICAgICAgdGhpcy5uYW1lID0gJ2RlZmF1bHQnO1xuICAgICAgICB0aGlzLnVzZWRCeSA9ICcnO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSAnJztcbiAgICAgICAgdGhpcy5mYWxsYmFjayA9ICcnO1xuICAgICAgICB0aGlzLm5vU2NvcGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ub0xpbmsgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ub0hpc3RvcnkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGF0ZWZ1bCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFnZW50ID0gKHZvaWQgMCk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9ICh2b2lkIDApO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlci5zY29wZVRvKGBhdS12aWV3cG9ydDwke2N0eC5mcmllbmRseVBhdGh9PmApO1xuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZSgnY29uc3RydWN0b3IoKScpO1xuICAgIH1cbiAgICBoeWRyYXRlZChjb250cm9sbGVyKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKCdoeWRyYXRlZCgpJyk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICAgIHRoaXMuYWdlbnQgPSB0aGlzLmN0eC5yZWdpc3RlclZpZXdwb3J0KHRoaXMpO1xuICAgIH1cbiAgICBhdHRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKCdhdHRhY2hpbmcoKScpO1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2VudC5hY3RpdmF0ZUZyb21WaWV3cG9ydChpbml0aWF0b3IsIHRoaXMuY29udHJvbGxlciwgZmxhZ3MpO1xuICAgIH1cbiAgICBkZXRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKCdkZXRhY2hpbmcoKScpO1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2VudC5kZWFjdGl2YXRlRnJvbVZpZXdwb3J0KGluaXRpYXRvciwgdGhpcy5jb250cm9sbGVyLCBmbGFncyk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKCdkaXNwb3NlKCknKTtcbiAgICAgICAgdGhpcy5jdHgudW5yZWdpc3RlclZpZXdwb3J0KHRoaXMpO1xuICAgICAgICB0aGlzLmFnZW50LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5hZ2VudCA9ICh2b2lkIDApO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgcHJvcFN0cmluZ3MgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BzKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXNbcHJvcF07XG4gICAgICAgICAgICAvLyBPbmx5IHJlcG9ydCBwcm9wcyB0aGF0IGRvbid0IGhhdmUgZGVmYXVsdCB2YWx1ZXMgKGJ1dCBhbHdheXMgcmVwb3J0IG5hbWUpXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgYml0IG5haXZlIGFuZCBkaXJ0eSByaWdodCBub3csIGJ1dCBpdCdzIG1vc3RseSBmb3IgZGVidWdnaW5nIHB1cnBvc2VzIGFueXdheS4gQ2FuIGNsZWFuIHVwIGxhdGVyLiBNYXliZSBwdXQgaXQgaW4gYSBzZXJpYWxpemVyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BTdHJpbmdzLnB1c2goYCR7cHJvcH06JyR7dmFsdWV9J2ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BTdHJpbmdzLnB1c2goYCR7cHJvcH06JHt2YWx1ZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BTdHJpbmdzLnB1c2goYCR7cHJvcH06JHtTdHJpbmcodmFsdWUpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYFZQKGN0eDonJHt0aGlzLmN0eC5mcmllbmRseVBhdGh9Jywke3Byb3BTdHJpbmdzLmpvaW4oJywnKX0pYDtcbiAgICB9XG59O1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGVcbl0sIFZpZXdwb3J0Q3VzdG9tRWxlbWVudC5wcm90b3R5cGUsIFwibmFtZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGVcbl0sIFZpZXdwb3J0Q3VzdG9tRWxlbWVudC5wcm90b3R5cGUsIFwidXNlZEJ5XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZVxuXSwgVmlld3BvcnRDdXN0b21FbGVtZW50LnByb3RvdHlwZSwgXCJkZWZhdWx0XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZVxuXSwgVmlld3BvcnRDdXN0b21FbGVtZW50LnByb3RvdHlwZSwgXCJmYWxsYmFja1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGVcbl0sIFZpZXdwb3J0Q3VzdG9tRWxlbWVudC5wcm90b3R5cGUsIFwibm9TY29wZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGVcbl0sIFZpZXdwb3J0Q3VzdG9tRWxlbWVudC5wcm90b3R5cGUsIFwibm9MaW5rXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZVxuXSwgVmlld3BvcnRDdXN0b21FbGVtZW50LnByb3RvdHlwZSwgXCJub0hpc3RvcnlcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGJpbmRhYmxlXG5dLCBWaWV3cG9ydEN1c3RvbUVsZW1lbnQucHJvdG90eXBlLCBcInN0YXRlZnVsXCIsIHZvaWQgMCk7XG5WaWV3cG9ydEN1c3RvbUVsZW1lbnQgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KHsgbmFtZTogJ2F1LXZpZXdwb3J0JyB9KSxcbiAgICBfX3BhcmFtKDAsIElMb2dnZXIpLFxuICAgIF9fcGFyYW0oMSwgSVJvdXRlQ29udGV4dClcbl0sIFZpZXdwb3J0Q3VzdG9tRWxlbWVudCk7XG5leHBvcnQgeyBWaWV3cG9ydEN1c3RvbUVsZW1lbnQgfTtcbmNvbnN0IHByb3BzID0gW1xuICAgICduYW1lJyxcbiAgICAndXNlZEJ5JyxcbiAgICAnZGVmYXVsdCcsXG4gICAgJ2ZhbGxiYWNrJyxcbiAgICAnbm9TY29wZScsXG4gICAgJ25vTGluaycsXG4gICAgJ25vSGlzdG9yeScsXG4gICAgJ3N0YXRlZnVsJyxcbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3cG9ydC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/resources/viewport.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/route-context.js":
/*!****************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/route-context.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IRouteContext\": () => (/* binding */ IRouteContext),\n/* harmony export */   \"RouteContext\": () => (/* binding */ RouteContext),\n/* harmony export */   \"$RecognizedRoute\": () => (/* binding */ $RecognizedRoute)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aurelia/route-recognizer */ \"./node_modules/@aurelia/route-recognizer/dist/esm/index.js\");\n/* harmony import */ var _route_definition_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./route-definition.js */ \"./node_modules/@aurelia/router/dist/esm/route-definition.js\");\n/* harmony import */ var _viewport_agent_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./viewport-agent.js */ \"./node_modules/@aurelia/router/dist/esm/viewport-agent.js\");\n/* harmony import */ var _component_agent_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./component-agent.js */ \"./node_modules/@aurelia/router/dist/esm/component-agent.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./router.js */ \"./node_modules/@aurelia/router/dist/esm/router.js\");\n/* harmony import */ var _validation_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./validation.js */ \"./node_modules/@aurelia/router/dist/esm/validation.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./util.js */ \"./node_modules/@aurelia/router/dist/esm/util.js\");\n/* eslint-disable @typescript-eslint/restrict-template-expressions */\n\n\n\n\n\n\n\n\n\nconst IRouteContext = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IRouteContext');\nconst RESIDUE = 'au$residue';\n/**\n * Holds the information of a component in the context of a specific container. May or may not have statically configured routes.\n *\n * The `RouteContext` is cached using a 3-part composite key consisting of the CustomElementDefinition, the RouteDefinition and the RenderContext.\n *\n * This means there can be more than one `RouteContext` per component type if either:\n * - The `RouteDefinition` for a type is overridden manually via `Route.define`\n * - Different components (with different `RenderContext`s) reference the same component via a child route config\n */\nclass RouteContext {\n    constructor(viewportAgent, parent, component, definition, parentContainer) {\n        var _a;\n        this.parent = parent;\n        this.component = component;\n        this.definition = definition;\n        this.parentContainer = parentContainer;\n        this.childViewportAgents = [];\n        /**\n         * The (fully resolved) configured child routes of this context's `RouteDefinition`\n         */\n        this.childRoutes = [];\n        this._resolved = null;\n        this._allResolved = null;\n        this.prevNode = null;\n        this._node = null;\n        this._vpa = null;\n        this._vpa = viewportAgent;\n        if (parent === null) {\n            this.root = this;\n            this.path = [this];\n            this.friendlyPath = component.name;\n        }\n        else {\n            this.root = parent.root;\n            this.path = [...parent.path, this];\n            this.friendlyPath = `${parent.friendlyPath}/${component.name}`;\n        }\n        this.logger = parentContainer.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger).scopeTo(`RouteContext<${this.friendlyPath}>`);\n        this.logger.trace('constructor()');\n        this.moduleLoader = parentContainer.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IModuleLoader);\n        const container = this.container = parentContainer.createChild({ inheritParentResources: true });\n        container.registerResolver(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IController, this.hostControllerProvider = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.InstanceProvider(), true);\n        // We don't need to store it here but we use an InstanceProvider so that it can be disposed indirectly via the container.\n        const contextProvider = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.InstanceProvider();\n        container.registerResolver(IRouteContext, contextProvider, true);\n        contextProvider.prepare(this);\n        container.register(definition);\n        container.register(...component.dependencies);\n        this.recognizer = new _aurelia_route_recognizer__WEBPACK_IMPORTED_MODULE_2__.RouteRecognizer();\n        const promises = [];\n        const allPromises = [];\n        for (const child of definition.config.routes) {\n            if (child instanceof Promise) {\n                const p = this.addRoute(child);\n                promises.push(p);\n                allPromises.push(p);\n            }\n            else {\n                const routeDef = _route_definition_js__WEBPACK_IMPORTED_MODULE_3__.RouteDefinition.resolve(child, this);\n                if (routeDef instanceof Promise) {\n                    if ((0,_validation_js__WEBPACK_IMPORTED_MODULE_7__.isPartialChildRouteConfig)(child) && child.path != null) {\n                        for (const path of (0,_util_js__WEBPACK_IMPORTED_MODULE_8__.ensureArrayOfStrings)(child.path)) {\n                            this.$addRoute(path, (_a = child.caseSensitive) !== null && _a !== void 0 ? _a : false, routeDef);\n                        }\n                        const idx = this.childRoutes.length;\n                        const p = routeDef.then(resolvedRouteDef => {\n                            return this.childRoutes[idx] = resolvedRouteDef;\n                        });\n                        this.childRoutes.push(p);\n                        allPromises.push(p.then(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.noop));\n                    }\n                    else {\n                        throw new Error(`Invalid route config. When the component property is a lazy import, the path must be specified. To use lazy loading without specifying the path (e.g. in direct routing), pass the import promise as a direct value to the routes array instead of providing it as the component property on an object literal.`);\n                    }\n                }\n                else {\n                    for (const path of routeDef.path) {\n                        this.$addRoute(path, routeDef.caseSensitive, routeDef);\n                    }\n                    this.childRoutes.push(routeDef);\n                }\n            }\n        }\n        if (promises.length > 0) {\n            this._resolved = Promise.all(promises).then(() => {\n                this._resolved = null;\n            });\n        }\n        if (allPromises.length > 0) {\n            this._allResolved = Promise.all(allPromises).then(() => {\n                this._allResolved = null;\n            });\n        }\n    }\n    get id() {\n        return this.container.id;\n    }\n    get isRoot() {\n        return this.parent === null;\n    }\n    get depth() {\n        return this.path.length - 1;\n    }\n    /** @internal */\n    get resolved() {\n        return this._resolved;\n    }\n    /** @internal */\n    get allResolved() {\n        return this._allResolved;\n    }\n    get node() {\n        const node = this._node;\n        if (node === null) {\n            throw new Error(`Invariant violation: RouteNode should be set immediately after the RouteContext is created. Context: ${this}`);\n        }\n        return node;\n    }\n    set node(value) {\n        const prev = this.prevNode = this._node;\n        if (prev !== value) {\n            this._node = value;\n            this.logger.trace(`Node changed from %s to %s`, this.prevNode, value);\n        }\n    }\n    /**\n     * The viewport hosting the component associated with this RouteContext.\n     * The root RouteContext has no ViewportAgent and will throw when attempting to access this property.\n     */\n    get vpa() {\n        const vpa = this._vpa;\n        if (vpa === null) {\n            throw new Error(`RouteContext has no ViewportAgent: ${this}`);\n        }\n        return vpa;\n    }\n    set vpa(value) {\n        if (value === null || value === void 0) {\n            throw new Error(`Cannot set ViewportAgent to ${value} for RouteContext: ${this}`);\n        }\n        const prev = this._vpa;\n        if (prev !== value) {\n            this._vpa = value;\n            this.logger.trace(`ViewportAgent changed from %s to %s`, prev, value);\n        }\n    }\n    /**\n     * Create a new `RouteContext` and register it in the provided container.\n     *\n     * Uses the `RenderContext` of the registered `IAppRoot` as the root context.\n     *\n     * @param container - The container from which to resolve the `IAppRoot` and in which to register the `RouteContext`\n     */\n    static setRoot(container) {\n        const logger = container.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger).scopeTo('RouteContext');\n        if (!container.has(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IAppRoot, true)) {\n            logAndThrow(new Error(`The provided container has no registered IAppRoot. RouteContext.setRoot can only be used after Aurelia.app was called, on a container that is within that app's component tree.`), logger);\n        }\n        if (container.has(IRouteContext, true)) {\n            logAndThrow(new Error(`A root RouteContext is already registered. A possible cause is the RouterConfiguration being registered more than once in the same container tree. If you have a multi-rooted app, make sure you register RouterConfiguration only in the \"forked\" containers and not in the common root.`), logger);\n        }\n        const { controller } = container.get(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IAppRoot);\n        if (controller === void 0) {\n            logAndThrow(new Error(`The provided IAppRoot does not (yet) have a controller. A possible cause is calling this API manually before Aurelia.start() is called`), logger);\n        }\n        const router = container.get(_router_js__WEBPACK_IMPORTED_MODULE_6__.IRouter);\n        const routeContext = router.getRouteContext(null, controller.context.definition, controller.context);\n        container.register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.instance(IRouteContext, routeContext));\n        routeContext.node = router.routeTree.root;\n    }\n    static resolve(root, context) {\n        const logger = root.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger).scopeTo('RouteContext');\n        if (context === null || context === void 0) {\n            logger.trace(`resolve(context:%s) - returning root RouteContext`, context);\n            return root;\n        }\n        if (isRouteContext(context)) {\n            logger.trace(`resolve(context:%s) - returning provided RouteContext`, context);\n            return context;\n        }\n        if (context instanceof root.get(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IPlatform).Node) {\n            try {\n                // CustomElement.for can theoretically throw in (as of yet) unknown situations.\n                // If that happens, we want to know about the situation and *not* just fall back to the root context, as that might make\n                // some already convoluted issues impossible to troubleshoot.\n                // That's why we catch, log and re-throw instead of just letting the error bubble up.\n                // This also gives us a set point in the future to potentially handle supported scenarios where this could occur.\n                const controller = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement.for(context, { searchParents: true });\n                logger.trace(`resolve(context:Node(nodeName:'${context.nodeName}'),controller:'${controller.context.definition.name}') - resolving RouteContext from controller's RenderContext`);\n                return controller.context.get(IRouteContext);\n            }\n            catch (err) {\n                logger.error(`Failed to resolve RouteContext from Node(nodeName:'${context.nodeName}')`, err);\n                throw err;\n            }\n        }\n        if ((0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.isCustomElementViewModel)(context)) {\n            const controller = context.$controller;\n            logger.trace(`resolve(context:CustomElementViewModel(name:'${controller.context.definition.name}')) - resolving RouteContext from controller's RenderContext`);\n            return controller.context.get(IRouteContext);\n        }\n        if ((0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.isCustomElementController)(context)) {\n            const controller = context;\n            logger.trace(`resolve(context:CustomElementController(name:'${controller.context.definition.name}')) - resolving RouteContext from controller's RenderContext`);\n            return controller.context.get(IRouteContext);\n        }\n        logAndThrow(new Error(`Invalid context type: ${Object.prototype.toString.call(context)}`), logger);\n    }\n    // #region IServiceLocator api\n    has(key, searchAncestors) {\n        // this.logger.trace(`has(key:${String(key)},searchAncestors:${searchAncestors})`);\n        return this.container.has(key, searchAncestors);\n    }\n    get(key) {\n        // this.logger.trace(`get(key:${String(key)})`);\n        return this.container.get(key);\n    }\n    getAll(key) {\n        // this.logger.trace(`getAll(key:${String(key)})`);\n        return this.container.getAll(key);\n    }\n    // #endregion\n    // #region IContainer api\n    register(...params) {\n        // this.logger.trace(`register(params:[${params.map(String).join(',')}])`);\n        return this.container.register(...params);\n    }\n    registerResolver(key, resolver) {\n        // this.logger.trace(`registerResolver(key:${String(key)})`);\n        return this.container.registerResolver(key, resolver);\n    }\n    registerTransformer(key, transformer) {\n        // this.logger.trace(`registerTransformer(key:${String(key)})`);\n        return this.container.registerTransformer(key, transformer);\n    }\n    getResolver(key, autoRegister) {\n        // this.logger.trace(`getResolver(key:${String(key)})`);\n        return this.container.getResolver(key, autoRegister);\n    }\n    invoke(key, dynamicDependencies) {\n        return this.container.invoke(key, dynamicDependencies);\n    }\n    getFactory(key) {\n        // this.logger.trace(`getFactory(key:${String(key)})`);\n        return this.container.getFactory(key);\n    }\n    registerFactory(key, factory) {\n        // this.logger.trace(`registerFactory(key:${String(key)})`);\n        this.container.registerFactory(key, factory);\n    }\n    createChild() {\n        // this.logger.trace(`createChild()`);\n        return this.container.createChild();\n    }\n    disposeResolvers() {\n        // this.logger.trace(`disposeResolvers()`);\n        this.container.disposeResolvers();\n    }\n    find(kind, name) {\n        // this.logger.trace(`findResource(kind:${kind.name},name:'${name}')`);\n        return this.container.find(kind, name);\n    }\n    create(kind, name) {\n        // this.logger.trace(`createResource(kind:${kind.name},name:'${name}')`);\n        return this.container.create(kind, name);\n    }\n    dispose() {\n        this.container.dispose();\n    }\n    // #endregion\n    resolveViewportAgent(req) {\n        this.logger.trace(`resolveViewportAgent(req:%s)`, req);\n        const agent = this.childViewportAgents.find(x => { return x.handles(req); });\n        if (agent === void 0) {\n            throw new Error(`Failed to resolve ${req} at:\\n${this.printTree()}`);\n        }\n        return agent;\n    }\n    getAvailableViewportAgents(resolution) {\n        return this.childViewportAgents.filter(x => x.isAvailable(resolution));\n    }\n    getFallbackViewportAgent(resolution, name) {\n        var _a;\n        return (_a = this.childViewportAgents.find(x => x.isAvailable(resolution) && x.viewport.name === name && x.viewport.fallback.length > 0)) !== null && _a !== void 0 ? _a : null;\n    }\n    /**\n     * Create a component based on the provided viewportInstruction.\n     *\n     * @param hostController - The `ICustomElementController` whose component (typically `au-viewport`) will host this component.\n     * @param routeNode - The routeNode that describes the component + state.\n     */\n    createComponentAgent(hostController, routeNode) {\n        this.logger.trace(`createComponentAgent(routeNode:%s)`, routeNode);\n        this.hostControllerProvider.prepare(hostController);\n        const routeDefinition = _route_definition_js__WEBPACK_IMPORTED_MODULE_3__.RouteDefinition.resolve(routeNode.component);\n        const componentInstance = this.container.get(routeDefinition.component.key);\n        const componentAgent = _component_agent_js__WEBPACK_IMPORTED_MODULE_5__.ComponentAgent.for(componentInstance, hostController, routeNode, this);\n        this.hostControllerProvider.dispose();\n        return componentAgent;\n    }\n    registerViewport(viewport) {\n        const agent = _viewport_agent_js__WEBPACK_IMPORTED_MODULE_4__.ViewportAgent.for(viewport, this);\n        if (this.childViewportAgents.includes(agent)) {\n            this.logger.trace(`registerViewport(agent:%s) -> already registered, so skipping`, agent);\n        }\n        else {\n            this.logger.trace(`registerViewport(agent:%s) -> adding`, agent);\n            this.childViewportAgents.push(agent);\n        }\n        return agent;\n    }\n    unregisterViewport(viewport) {\n        const agent = _viewport_agent_js__WEBPACK_IMPORTED_MODULE_4__.ViewportAgent.for(viewport, this);\n        if (this.childViewportAgents.includes(agent)) {\n            this.logger.trace(`unregisterViewport(agent:%s) -> unregistering`, agent);\n            this.childViewportAgents.splice(this.childViewportAgents.indexOf(agent), 1);\n        }\n        else {\n            this.logger.trace(`unregisterViewport(agent:%s) -> not registered, so skipping`, agent);\n        }\n    }\n    recognize(path) {\n        var _a;\n        this.logger.trace(`recognize(path:'${path}')`);\n        const result = this.recognizer.recognize(path);\n        if (result === null) {\n            return null;\n        }\n        let residue;\n        if (Reflect.has(result.params, RESIDUE)) {\n            residue = (_a = result.params[RESIDUE]) !== null && _a !== void 0 ? _a : null;\n            Reflect.deleteProperty(result.params, RESIDUE);\n        }\n        else {\n            residue = null;\n        }\n        return new $RecognizedRoute(result, residue);\n    }\n    addRoute(routeable) {\n        this.logger.trace(`addRoute(routeable:'${routeable}')`);\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(_route_definition_js__WEBPACK_IMPORTED_MODULE_3__.RouteDefinition.resolve(routeable, this), routeDef => {\n            for (const path of routeDef.path) {\n                this.$addRoute(path, routeDef.caseSensitive, routeDef);\n            }\n            this.childRoutes.push(routeDef);\n        });\n    }\n    $addRoute(path, caseSensitive, handler) {\n        this.recognizer.add({\n            path,\n            caseSensitive,\n            handler,\n        });\n        this.recognizer.add({\n            path: `${path}/*${RESIDUE}`,\n            caseSensitive,\n            handler,\n        });\n    }\n    resolveLazy(promise) {\n        return this.moduleLoader.load(promise, m => {\n            let defaultExport = void 0;\n            let firstNonDefaultExport = void 0;\n            for (const item of m.items) {\n                if (item.isConstructable) {\n                    const def = item.definitions.find(isCustomElementDefinition);\n                    if (def !== void 0) {\n                        if (item.key === 'default') {\n                            defaultExport = def;\n                        }\n                        else if (firstNonDefaultExport === void 0) {\n                            firstNonDefaultExport = def;\n                        }\n                    }\n                }\n            }\n            if (defaultExport === void 0) {\n                if (firstNonDefaultExport === void 0) {\n                    // TODO: make error more accurate and add potential causes/solutions\n                    throw new Error(`${promise} does not appear to be a component or CustomElement recognizable by Aurelia`);\n                }\n                return firstNonDefaultExport;\n            }\n            return defaultExport;\n        });\n    }\n    toString() {\n        const vpAgents = this.childViewportAgents;\n        const viewports = vpAgents.map(String).join(',');\n        return `RC(path:'${this.friendlyPath}',viewports:[${viewports}])`;\n    }\n    printTree() {\n        const tree = [];\n        for (let i = 0; i < this.path.length; ++i) {\n            tree.push(`${' '.repeat(i)}${this.path[i]}`);\n        }\n        return tree.join('\\n');\n    }\n}\nfunction isRouteContext(value) {\n    return value instanceof RouteContext;\n}\nfunction logAndThrow(err, logger) {\n    logger.error(err);\n    throw err;\n}\nfunction isCustomElementDefinition(value) {\n    return _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement.isType(value.Type);\n}\nclass $RecognizedRoute {\n    constructor(route, residue) {\n        this.route = route;\n        this.residue = residue;\n    }\n}\n//# sourceMappingURL=route-context.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlLWNvbnRleHQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlLWNvbnRleHQuanM/OTI1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVzdHJpY3QtdGVtcGxhdGUtZXhwcmVzc2lvbnMgKi9cbmltcG9ydCB7IERJLCBJbnN0YW5jZVByb3ZpZGVyLCBSZWdpc3RyYXRpb24sIElMb2dnZXIsIElNb2R1bGVMb2FkZXIsIG9uUmVzb2x2ZSwgbm9vcCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBDdXN0b21FbGVtZW50LCBJQ29udHJvbGxlciwgaXNDdXN0b21FbGVtZW50Vmlld01vZGVsLCBpc0N1c3RvbUVsZW1lbnRDb250cm9sbGVyLCBJQXBwUm9vdCwgSVBsYXRmb3JtIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZS1odG1sJztcbmltcG9ydCB7IFJvdXRlUmVjb2duaXplciB9IGZyb20gJ0BhdXJlbGlhL3JvdXRlLXJlY29nbml6ZXInO1xuaW1wb3J0IHsgUm91dGVEZWZpbml0aW9uIH0gZnJvbSAnLi9yb3V0ZS1kZWZpbml0aW9uLmpzJztcbmltcG9ydCB7IFZpZXdwb3J0QWdlbnQgfSBmcm9tICcuL3ZpZXdwb3J0LWFnZW50LmpzJztcbmltcG9ydCB7IENvbXBvbmVudEFnZW50IH0gZnJvbSAnLi9jb21wb25lbnQtYWdlbnQuanMnO1xuaW1wb3J0IHsgSVJvdXRlciB9IGZyb20gJy4vcm91dGVyLmpzJztcbmltcG9ydCB7IGlzUGFydGlhbENoaWxkUm91dGVDb25maWcgfSBmcm9tICcuL3ZhbGlkYXRpb24uanMnO1xuaW1wb3J0IHsgZW5zdXJlQXJyYXlPZlN0cmluZ3MgfSBmcm9tICcuL3V0aWwuanMnO1xuZXhwb3J0IGNvbnN0IElSb3V0ZUNvbnRleHQgPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lSb3V0ZUNvbnRleHQnKTtcbmNvbnN0IFJFU0lEVUUgPSAnYXUkcmVzaWR1ZSc7XG4vKipcbiAqIEhvbGRzIHRoZSBpbmZvcm1hdGlvbiBvZiBhIGNvbXBvbmVudCBpbiB0aGUgY29udGV4dCBvZiBhIHNwZWNpZmljIGNvbnRhaW5lci4gTWF5IG9yIG1heSBub3QgaGF2ZSBzdGF0aWNhbGx5IGNvbmZpZ3VyZWQgcm91dGVzLlxuICpcbiAqIFRoZSBgUm91dGVDb250ZXh0YCBpcyBjYWNoZWQgdXNpbmcgYSAzLXBhcnQgY29tcG9zaXRlIGtleSBjb25zaXN0aW5nIG9mIHRoZSBDdXN0b21FbGVtZW50RGVmaW5pdGlvbiwgdGhlIFJvdXRlRGVmaW5pdGlvbiBhbmQgdGhlIFJlbmRlckNvbnRleHQuXG4gKlxuICogVGhpcyBtZWFucyB0aGVyZSBjYW4gYmUgbW9yZSB0aGFuIG9uZSBgUm91dGVDb250ZXh0YCBwZXIgY29tcG9uZW50IHR5cGUgaWYgZWl0aGVyOlxuICogLSBUaGUgYFJvdXRlRGVmaW5pdGlvbmAgZm9yIGEgdHlwZSBpcyBvdmVycmlkZGVuIG1hbnVhbGx5IHZpYSBgUm91dGUuZGVmaW5lYFxuICogLSBEaWZmZXJlbnQgY29tcG9uZW50cyAod2l0aCBkaWZmZXJlbnQgYFJlbmRlckNvbnRleHRgcykgcmVmZXJlbmNlIHRoZSBzYW1lIGNvbXBvbmVudCB2aWEgYSBjaGlsZCByb3V0ZSBjb25maWdcbiAqL1xuZXhwb3J0IGNsYXNzIFJvdXRlQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3Iodmlld3BvcnRBZ2VudCwgcGFyZW50LCBjb21wb25lbnQsIGRlZmluaXRpb24sIHBhcmVudENvbnRhaW5lcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcbiAgICAgICAgdGhpcy5wYXJlbnRDb250YWluZXIgPSBwYXJlbnRDb250YWluZXI7XG4gICAgICAgIHRoaXMuY2hpbGRWaWV3cG9ydEFnZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIChmdWxseSByZXNvbHZlZCkgY29uZmlndXJlZCBjaGlsZCByb3V0ZXMgb2YgdGhpcyBjb250ZXh0J3MgYFJvdXRlRGVmaW5pdGlvbmBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRSb3V0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hbGxSZXNvbHZlZCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJldk5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9ub2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdnBhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdnBhID0gdmlld3BvcnRBZ2VudDtcbiAgICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yb290ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IFt0aGlzXTtcbiAgICAgICAgICAgIHRoaXMuZnJpZW5kbHlQYXRoID0gY29tcG9uZW50Lm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBwYXJlbnQucm9vdDtcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IFsuLi5wYXJlbnQucGF0aCwgdGhpc107XG4gICAgICAgICAgICB0aGlzLmZyaWVuZGx5UGF0aCA9IGAke3BhcmVudC5mcmllbmRseVBhdGh9LyR7Y29tcG9uZW50Lm5hbWV9YDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlciA9IHBhcmVudENvbnRhaW5lci5nZXQoSUxvZ2dlcikuc2NvcGVUbyhgUm91dGVDb250ZXh0PCR7dGhpcy5mcmllbmRseVBhdGh9PmApO1xuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZSgnY29uc3RydWN0b3IoKScpO1xuICAgICAgICB0aGlzLm1vZHVsZUxvYWRlciA9IHBhcmVudENvbnRhaW5lci5nZXQoSU1vZHVsZUxvYWRlcik7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyID0gcGFyZW50Q29udGFpbmVyLmNyZWF0ZUNoaWxkKHsgaW5oZXJpdFBhcmVudFJlc291cmNlczogdHJ1ZSB9KTtcbiAgICAgICAgY29udGFpbmVyLnJlZ2lzdGVyUmVzb2x2ZXIoSUNvbnRyb2xsZXIsIHRoaXMuaG9zdENvbnRyb2xsZXJQcm92aWRlciA9IG5ldyBJbnN0YW5jZVByb3ZpZGVyKCksIHRydWUpO1xuICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIHN0b3JlIGl0IGhlcmUgYnV0IHdlIHVzZSBhbiBJbnN0YW5jZVByb3ZpZGVyIHNvIHRoYXQgaXQgY2FuIGJlIGRpc3Bvc2VkIGluZGlyZWN0bHkgdmlhIHRoZSBjb250YWluZXIuXG4gICAgICAgIGNvbnN0IGNvbnRleHRQcm92aWRlciA9IG5ldyBJbnN0YW5jZVByb3ZpZGVyKCk7XG4gICAgICAgIGNvbnRhaW5lci5yZWdpc3RlclJlc29sdmVyKElSb3V0ZUNvbnRleHQsIGNvbnRleHRQcm92aWRlciwgdHJ1ZSk7XG4gICAgICAgIGNvbnRleHRQcm92aWRlci5wcmVwYXJlKHRoaXMpO1xuICAgICAgICBjb250YWluZXIucmVnaXN0ZXIoZGVmaW5pdGlvbik7XG4gICAgICAgIGNvbnRhaW5lci5yZWdpc3RlciguLi5jb21wb25lbnQuZGVwZW5kZW5jaWVzKTtcbiAgICAgICAgdGhpcy5yZWNvZ25pemVyID0gbmV3IFJvdXRlUmVjb2duaXplcigpO1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICBjb25zdCBhbGxQcm9taXNlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGRlZmluaXRpb24uY29uZmlnLnJvdXRlcykge1xuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLmFkZFJvdXRlKGNoaWxkKTtcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHApO1xuICAgICAgICAgICAgICAgIGFsbFByb21pc2VzLnB1c2gocCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZURlZiA9IFJvdXRlRGVmaW5pdGlvbi5yZXNvbHZlKGNoaWxkLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGVEZWYgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1BhcnRpYWxDaGlsZFJvdXRlQ29uZmlnKGNoaWxkKSAmJiBjaGlsZC5wYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBlbnN1cmVBcnJheU9mU3RyaW5ncyhjaGlsZC5wYXRoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGFkZFJvdXRlKHBhdGgsIChfYSA9IGNoaWxkLmNhc2VTZW5zaXRpdmUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLCByb3V0ZURlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHggPSB0aGlzLmNoaWxkUm91dGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSByb3V0ZURlZi50aGVuKHJlc29sdmVkUm91dGVEZWYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkUm91dGVzW2lkeF0gPSByZXNvbHZlZFJvdXRlRGVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkUm91dGVzLnB1c2gocCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxQcm9taXNlcy5wdXNoKHAudGhlbihub29wKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcm91dGUgY29uZmlnLiBXaGVuIHRoZSBjb21wb25lbnQgcHJvcGVydHkgaXMgYSBsYXp5IGltcG9ydCwgdGhlIHBhdGggbXVzdCBiZSBzcGVjaWZpZWQuIFRvIHVzZSBsYXp5IGxvYWRpbmcgd2l0aG91dCBzcGVjaWZ5aW5nIHRoZSBwYXRoIChlLmcuIGluIGRpcmVjdCByb3V0aW5nKSwgcGFzcyB0aGUgaW1wb3J0IHByb21pc2UgYXMgYSBkaXJlY3QgdmFsdWUgdG8gdGhlIHJvdXRlcyBhcnJheSBpbnN0ZWFkIG9mIHByb3ZpZGluZyBpdCBhcyB0aGUgY29tcG9uZW50IHByb3BlcnR5IG9uIGFuIG9iamVjdCBsaXRlcmFsLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2Ygcm91dGVEZWYucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kYWRkUm91dGUocGF0aCwgcm91dGVEZWYuY2FzZVNlbnNpdGl2ZSwgcm91dGVEZWYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRSb3V0ZXMucHVzaChyb3V0ZURlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9taXNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlZCA9IFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlZCA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxsUHJvbWlzZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fYWxsUmVzb2x2ZWQgPSBQcm9taXNlLmFsbChhbGxQcm9taXNlcykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWxsUmVzb2x2ZWQgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuaWQ7XG4gICAgfVxuICAgIGdldCBpc1Jvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA9PT0gbnVsbDtcbiAgICB9XG4gICAgZ2V0IGRlcHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBnZXQgcmVzb2x2ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGdldCBhbGxSZXNvbHZlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbFJlc29sdmVkO1xuICAgIH1cbiAgICBnZXQgbm9kZSgpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFyaWFudCB2aW9sYXRpb246IFJvdXRlTm9kZSBzaG91bGQgYmUgc2V0IGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBSb3V0ZUNvbnRleHQgaXMgY3JlYXRlZC4gQ29udGV4dDogJHt0aGlzfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBzZXQgbm9kZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBwcmV2ID0gdGhpcy5wcmV2Tm9kZSA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChwcmV2ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbm9kZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYE5vZGUgY2hhbmdlZCBmcm9tICVzIHRvICVzYCwgdGhpcy5wcmV2Tm9kZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB2aWV3cG9ydCBob3N0aW5nIHRoZSBjb21wb25lbnQgYXNzb2NpYXRlZCB3aXRoIHRoaXMgUm91dGVDb250ZXh0LlxuICAgICAqIFRoZSByb290IFJvdXRlQ29udGV4dCBoYXMgbm8gVmlld3BvcnRBZ2VudCBhbmQgd2lsbCB0aHJvdyB3aGVuIGF0dGVtcHRpbmcgdG8gYWNjZXNzIHRoaXMgcHJvcGVydHkuXG4gICAgICovXG4gICAgZ2V0IHZwYSgpIHtcbiAgICAgICAgY29uc3QgdnBhID0gdGhpcy5fdnBhO1xuICAgICAgICBpZiAodnBhID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJvdXRlQ29udGV4dCBoYXMgbm8gVmlld3BvcnRBZ2VudDogJHt0aGlzfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2cGE7XG4gICAgfVxuICAgIHNldCB2cGEodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHNldCBWaWV3cG9ydEFnZW50IHRvICR7dmFsdWV9IGZvciBSb3V0ZUNvbnRleHQ6ICR7dGhpc31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2ID0gdGhpcy5fdnBhO1xuICAgICAgICBpZiAocHJldiAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZwYSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYFZpZXdwb3J0QWdlbnQgY2hhbmdlZCBmcm9tICVzIHRvICVzYCwgcHJldiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBgUm91dGVDb250ZXh0YCBhbmQgcmVnaXN0ZXIgaXQgaW4gdGhlIHByb3ZpZGVkIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIFVzZXMgdGhlIGBSZW5kZXJDb250ZXh0YCBvZiB0aGUgcmVnaXN0ZXJlZCBgSUFwcFJvb3RgIGFzIHRoZSByb290IGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciBmcm9tIHdoaWNoIHRvIHJlc29sdmUgdGhlIGBJQXBwUm9vdGAgYW5kIGluIHdoaWNoIHRvIHJlZ2lzdGVyIHRoZSBgUm91dGVDb250ZXh0YFxuICAgICAqL1xuICAgIHN0YXRpYyBzZXRSb290KGNvbnRhaW5lcikge1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBjb250YWluZXIuZ2V0KElMb2dnZXIpLnNjb3BlVG8oJ1JvdXRlQ29udGV4dCcpO1xuICAgICAgICBpZiAoIWNvbnRhaW5lci5oYXMoSUFwcFJvb3QsIHRydWUpKSB7XG4gICAgICAgICAgICBsb2dBbmRUaHJvdyhuZXcgRXJyb3IoYFRoZSBwcm92aWRlZCBjb250YWluZXIgaGFzIG5vIHJlZ2lzdGVyZWQgSUFwcFJvb3QuIFJvdXRlQ29udGV4dC5zZXRSb290IGNhbiBvbmx5IGJlIHVzZWQgYWZ0ZXIgQXVyZWxpYS5hcHAgd2FzIGNhbGxlZCwgb24gYSBjb250YWluZXIgdGhhdCBpcyB3aXRoaW4gdGhhdCBhcHAncyBjb21wb25lbnQgdHJlZS5gKSwgbG9nZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGFpbmVyLmhhcyhJUm91dGVDb250ZXh0LCB0cnVlKSkge1xuICAgICAgICAgICAgbG9nQW5kVGhyb3cobmV3IEVycm9yKGBBIHJvb3QgUm91dGVDb250ZXh0IGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4gQSBwb3NzaWJsZSBjYXVzZSBpcyB0aGUgUm91dGVyQ29uZmlndXJhdGlvbiBiZWluZyByZWdpc3RlcmVkIG1vcmUgdGhhbiBvbmNlIGluIHRoZSBzYW1lIGNvbnRhaW5lciB0cmVlLiBJZiB5b3UgaGF2ZSBhIG11bHRpLXJvb3RlZCBhcHAsIG1ha2Ugc3VyZSB5b3UgcmVnaXN0ZXIgUm91dGVyQ29uZmlndXJhdGlvbiBvbmx5IGluIHRoZSBcImZvcmtlZFwiIGNvbnRhaW5lcnMgYW5kIG5vdCBpbiB0aGUgY29tbW9uIHJvb3QuYCksIGxvZ2dlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBjb250cm9sbGVyIH0gPSBjb250YWluZXIuZ2V0KElBcHBSb290KTtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbG9nQW5kVGhyb3cobmV3IEVycm9yKGBUaGUgcHJvdmlkZWQgSUFwcFJvb3QgZG9lcyBub3QgKHlldCkgaGF2ZSBhIGNvbnRyb2xsZXIuIEEgcG9zc2libGUgY2F1c2UgaXMgY2FsbGluZyB0aGlzIEFQSSBtYW51YWxseSBiZWZvcmUgQXVyZWxpYS5zdGFydCgpIGlzIGNhbGxlZGApLCBsb2dnZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJvdXRlciA9IGNvbnRhaW5lci5nZXQoSVJvdXRlcik7XG4gICAgICAgIGNvbnN0IHJvdXRlQ29udGV4dCA9IHJvdXRlci5nZXRSb3V0ZUNvbnRleHQobnVsbCwgY29udHJvbGxlci5jb250ZXh0LmRlZmluaXRpb24sIGNvbnRyb2xsZXIuY29udGV4dCk7XG4gICAgICAgIGNvbnRhaW5lci5yZWdpc3RlcihSZWdpc3RyYXRpb24uaW5zdGFuY2UoSVJvdXRlQ29udGV4dCwgcm91dGVDb250ZXh0KSk7XG4gICAgICAgIHJvdXRlQ29udGV4dC5ub2RlID0gcm91dGVyLnJvdXRlVHJlZS5yb290O1xuICAgIH1cbiAgICBzdGF0aWMgcmVzb2x2ZShyb290LCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHJvb3QuZ2V0KElMb2dnZXIpLnNjb3BlVG8oJ1JvdXRlQ29udGV4dCcpO1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gbnVsbCB8fCBjb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGxvZ2dlci50cmFjZShgcmVzb2x2ZShjb250ZXh0OiVzKSAtIHJldHVybmluZyByb290IFJvdXRlQ29udGV4dGAsIGNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUm91dGVDb250ZXh0KGNvbnRleHQpKSB7XG4gICAgICAgICAgICBsb2dnZXIudHJhY2UoYHJlc29sdmUoY29udGV4dDolcykgLSByZXR1cm5pbmcgcHJvdmlkZWQgUm91dGVDb250ZXh0YCwgY29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dCBpbnN0YW5jZW9mIHJvb3QuZ2V0KElQbGF0Zm9ybSkuTm9kZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBDdXN0b21FbGVtZW50LmZvciBjYW4gdGhlb3JldGljYWxseSB0aHJvdyBpbiAoYXMgb2YgeWV0KSB1bmtub3duIHNpdHVhdGlvbnMuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhhdCBoYXBwZW5zLCB3ZSB3YW50IHRvIGtub3cgYWJvdXQgdGhlIHNpdHVhdGlvbiBhbmQgKm5vdCoganVzdCBmYWxsIGJhY2sgdG8gdGhlIHJvb3QgY29udGV4dCwgYXMgdGhhdCBtaWdodCBtYWtlXG4gICAgICAgICAgICAgICAgLy8gc29tZSBhbHJlYWR5IGNvbnZvbHV0ZWQgaXNzdWVzIGltcG9zc2libGUgdG8gdHJvdWJsZXNob290LlxuICAgICAgICAgICAgICAgIC8vIFRoYXQncyB3aHkgd2UgY2F0Y2gsIGxvZyBhbmQgcmUtdGhyb3cgaW5zdGVhZCBvZiBqdXN0IGxldHRpbmcgdGhlIGVycm9yIGJ1YmJsZSB1cC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFsc28gZ2l2ZXMgdXMgYSBzZXQgcG9pbnQgaW4gdGhlIGZ1dHVyZSB0byBwb3RlbnRpYWxseSBoYW5kbGUgc3VwcG9ydGVkIHNjZW5hcmlvcyB3aGVyZSB0aGlzIGNvdWxkIG9jY3VyLlxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBDdXN0b21FbGVtZW50LmZvcihjb250ZXh0LCB7IHNlYXJjaFBhcmVudHM6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKGByZXNvbHZlKGNvbnRleHQ6Tm9kZShub2RlTmFtZTonJHtjb250ZXh0Lm5vZGVOYW1lfScpLGNvbnRyb2xsZXI6JyR7Y29udHJvbGxlci5jb250ZXh0LmRlZmluaXRpb24ubmFtZX0nKSAtIHJlc29sdmluZyBSb3V0ZUNvbnRleHQgZnJvbSBjb250cm9sbGVyJ3MgUmVuZGVyQ29udGV4dGApO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250cm9sbGVyLmNvbnRleHQuZ2V0KElSb3V0ZUNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIHJlc29sdmUgUm91dGVDb250ZXh0IGZyb20gTm9kZShub2RlTmFtZTonJHtjb250ZXh0Lm5vZGVOYW1lfScpYCwgZXJyKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VzdG9tRWxlbWVudFZpZXdNb2RlbChjb250ZXh0KSkge1xuICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IGNvbnRleHQuJGNvbnRyb2xsZXI7XG4gICAgICAgICAgICBsb2dnZXIudHJhY2UoYHJlc29sdmUoY29udGV4dDpDdXN0b21FbGVtZW50Vmlld01vZGVsKG5hbWU6JyR7Y29udHJvbGxlci5jb250ZXh0LmRlZmluaXRpb24ubmFtZX0nKSkgLSByZXNvbHZpbmcgUm91dGVDb250ZXh0IGZyb20gY29udHJvbGxlcidzIFJlbmRlckNvbnRleHRgKTtcbiAgICAgICAgICAgIHJldHVybiBjb250cm9sbGVyLmNvbnRleHQuZ2V0KElSb3V0ZUNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0N1c3RvbUVsZW1lbnRDb250cm9sbGVyKGNvbnRleHQpKSB7XG4gICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gY29udGV4dDtcbiAgICAgICAgICAgIGxvZ2dlci50cmFjZShgcmVzb2x2ZShjb250ZXh0OkN1c3RvbUVsZW1lbnRDb250cm9sbGVyKG5hbWU6JyR7Y29udHJvbGxlci5jb250ZXh0LmRlZmluaXRpb24ubmFtZX0nKSkgLSByZXNvbHZpbmcgUm91dGVDb250ZXh0IGZyb20gY29udHJvbGxlcidzIFJlbmRlckNvbnRleHRgKTtcbiAgICAgICAgICAgIHJldHVybiBjb250cm9sbGVyLmNvbnRleHQuZ2V0KElSb3V0ZUNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ0FuZFRocm93KG5ldyBFcnJvcihgSW52YWxpZCBjb250ZXh0IHR5cGU6ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGNvbnRleHQpfWApLCBsb2dnZXIpO1xuICAgIH1cbiAgICAvLyAjcmVnaW9uIElTZXJ2aWNlTG9jYXRvciBhcGlcbiAgICBoYXMoa2V5LCBzZWFyY2hBbmNlc3RvcnMpIHtcbiAgICAgICAgLy8gdGhpcy5sb2dnZXIudHJhY2UoYGhhcyhrZXk6JHtTdHJpbmcoa2V5KX0sc2VhcmNoQW5jZXN0b3JzOiR7c2VhcmNoQW5jZXN0b3JzfSlgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmhhcyhrZXksIHNlYXJjaEFuY2VzdG9ycyk7XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgICAgLy8gdGhpcy5sb2dnZXIudHJhY2UoYGdldChrZXk6JHtTdHJpbmcoa2V5KX0pYCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXQoa2V5KTtcbiAgICB9XG4gICAgZ2V0QWxsKGtleSkge1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci50cmFjZShgZ2V0QWxsKGtleToke1N0cmluZyhrZXkpfSlgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldEFsbChrZXkpO1xuICAgIH1cbiAgICAvLyAjZW5kcmVnaW9uXG4gICAgLy8gI3JlZ2lvbiBJQ29udGFpbmVyIGFwaVxuICAgIHJlZ2lzdGVyKC4uLnBhcmFtcykge1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci50cmFjZShgcmVnaXN0ZXIocGFyYW1zOlske3BhcmFtcy5tYXAoU3RyaW5nKS5qb2luKCcsJyl9XSlgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnJlZ2lzdGVyKC4uLnBhcmFtcyk7XG4gICAgfVxuICAgIHJlZ2lzdGVyUmVzb2x2ZXIoa2V5LCByZXNvbHZlcikge1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci50cmFjZShgcmVnaXN0ZXJSZXNvbHZlcihrZXk6JHtTdHJpbmcoa2V5KX0pYCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5yZWdpc3RlclJlc29sdmVyKGtleSwgcmVzb2x2ZXIpO1xuICAgIH1cbiAgICByZWdpc3RlclRyYW5zZm9ybWVyKGtleSwgdHJhbnNmb3JtZXIpIHtcbiAgICAgICAgLy8gdGhpcy5sb2dnZXIudHJhY2UoYHJlZ2lzdGVyVHJhbnNmb3JtZXIoa2V5OiR7U3RyaW5nKGtleSl9KWApO1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIucmVnaXN0ZXJUcmFuc2Zvcm1lcihrZXksIHRyYW5zZm9ybWVyKTtcbiAgICB9XG4gICAgZ2V0UmVzb2x2ZXIoa2V5LCBhdXRvUmVnaXN0ZXIpIHtcbiAgICAgICAgLy8gdGhpcy5sb2dnZXIudHJhY2UoYGdldFJlc29sdmVyKGtleToke1N0cmluZyhrZXkpfSlgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFJlc29sdmVyKGtleSwgYXV0b1JlZ2lzdGVyKTtcbiAgICB9XG4gICAgaW52b2tlKGtleSwgZHluYW1pY0RlcGVuZGVuY2llcykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuaW52b2tlKGtleSwgZHluYW1pY0RlcGVuZGVuY2llcyk7XG4gICAgfVxuICAgIGdldEZhY3Rvcnkoa2V5KSB7XG4gICAgICAgIC8vIHRoaXMubG9nZ2VyLnRyYWNlKGBnZXRGYWN0b3J5KGtleToke1N0cmluZyhrZXkpfSlgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldEZhY3Rvcnkoa2V5KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJGYWN0b3J5KGtleSwgZmFjdG9yeSkge1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci50cmFjZShgcmVnaXN0ZXJGYWN0b3J5KGtleToke1N0cmluZyhrZXkpfSlgKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVnaXN0ZXJGYWN0b3J5KGtleSwgZmFjdG9yeSk7XG4gICAgfVxuICAgIGNyZWF0ZUNoaWxkKCkge1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci50cmFjZShgY3JlYXRlQ2hpbGQoKWApO1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuY3JlYXRlQ2hpbGQoKTtcbiAgICB9XG4gICAgZGlzcG9zZVJlc29sdmVycygpIHtcbiAgICAgICAgLy8gdGhpcy5sb2dnZXIudHJhY2UoYGRpc3Bvc2VSZXNvbHZlcnMoKWApO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5kaXNwb3NlUmVzb2x2ZXJzKCk7XG4gICAgfVxuICAgIGZpbmQoa2luZCwgbmFtZSkge1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci50cmFjZShgZmluZFJlc291cmNlKGtpbmQ6JHtraW5kLm5hbWV9LG5hbWU6JyR7bmFtZX0nKWApO1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZmluZChraW5kLCBuYW1lKTtcbiAgICB9XG4gICAgY3JlYXRlKGtpbmQsIG5hbWUpIHtcbiAgICAgICAgLy8gdGhpcy5sb2dnZXIudHJhY2UoYGNyZWF0ZVJlc291cmNlKGtpbmQ6JHtraW5kLm5hbWV9LG5hbWU6JyR7bmFtZX0nKWApO1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuY3JlYXRlKGtpbmQsIG5hbWUpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5kaXNwb3NlKCk7XG4gICAgfVxuICAgIC8vICNlbmRyZWdpb25cbiAgICByZXNvbHZlVmlld3BvcnRBZ2VudChyZXEpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHJlc29sdmVWaWV3cG9ydEFnZW50KHJlcTolcylgLCByZXEpO1xuICAgICAgICBjb25zdCBhZ2VudCA9IHRoaXMuY2hpbGRWaWV3cG9ydEFnZW50cy5maW5kKHggPT4geyByZXR1cm4geC5oYW5kbGVzKHJlcSk7IH0pO1xuICAgICAgICBpZiAoYWdlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcmVzb2x2ZSAke3JlcX0gYXQ6XFxuJHt0aGlzLnByaW50VHJlZSgpfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZ2VudDtcbiAgICB9XG4gICAgZ2V0QXZhaWxhYmxlVmlld3BvcnRBZ2VudHMocmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZFZpZXdwb3J0QWdlbnRzLmZpbHRlcih4ID0+IHguaXNBdmFpbGFibGUocmVzb2x1dGlvbikpO1xuICAgIH1cbiAgICBnZXRGYWxsYmFja1ZpZXdwb3J0QWdlbnQocmVzb2x1dGlvbiwgbmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLmNoaWxkVmlld3BvcnRBZ2VudHMuZmluZCh4ID0+IHguaXNBdmFpbGFibGUocmVzb2x1dGlvbikgJiYgeC52aWV3cG9ydC5uYW1lID09PSBuYW1lICYmIHgudmlld3BvcnQuZmFsbGJhY2subGVuZ3RoID4gMCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGNvbXBvbmVudCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgdmlld3BvcnRJbnN0cnVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBob3N0Q29udHJvbGxlciAtIFRoZSBgSUN1c3RvbUVsZW1lbnRDb250cm9sbGVyYCB3aG9zZSBjb21wb25lbnQgKHR5cGljYWxseSBgYXUtdmlld3BvcnRgKSB3aWxsIGhvc3QgdGhpcyBjb21wb25lbnQuXG4gICAgICogQHBhcmFtIHJvdXRlTm9kZSAtIFRoZSByb3V0ZU5vZGUgdGhhdCBkZXNjcmliZXMgdGhlIGNvbXBvbmVudCArIHN0YXRlLlxuICAgICAqL1xuICAgIGNyZWF0ZUNvbXBvbmVudEFnZW50KGhvc3RDb250cm9sbGVyLCByb3V0ZU5vZGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGNyZWF0ZUNvbXBvbmVudEFnZW50KHJvdXRlTm9kZTolcylgLCByb3V0ZU5vZGUpO1xuICAgICAgICB0aGlzLmhvc3RDb250cm9sbGVyUHJvdmlkZXIucHJlcGFyZShob3N0Q29udHJvbGxlcik7XG4gICAgICAgIGNvbnN0IHJvdXRlRGVmaW5pdGlvbiA9IFJvdXRlRGVmaW5pdGlvbi5yZXNvbHZlKHJvdXRlTm9kZS5jb21wb25lbnQpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRJbnN0YW5jZSA9IHRoaXMuY29udGFpbmVyLmdldChyb3V0ZURlZmluaXRpb24uY29tcG9uZW50LmtleSk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEFnZW50ID0gQ29tcG9uZW50QWdlbnQuZm9yKGNvbXBvbmVudEluc3RhbmNlLCBob3N0Q29udHJvbGxlciwgcm91dGVOb2RlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ob3N0Q29udHJvbGxlclByb3ZpZGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudEFnZW50O1xuICAgIH1cbiAgICByZWdpc3RlclZpZXdwb3J0KHZpZXdwb3J0KSB7XG4gICAgICAgIGNvbnN0IGFnZW50ID0gVmlld3BvcnRBZ2VudC5mb3Iodmlld3BvcnQsIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5jaGlsZFZpZXdwb3J0QWdlbnRzLmluY2x1ZGVzKGFnZW50KSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHJlZ2lzdGVyVmlld3BvcnQoYWdlbnQ6JXMpIC0+IGFscmVhZHkgcmVnaXN0ZXJlZCwgc28gc2tpcHBpbmdgLCBhZ2VudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgcmVnaXN0ZXJWaWV3cG9ydChhZ2VudDolcykgLT4gYWRkaW5nYCwgYWdlbnQpO1xuICAgICAgICAgICAgdGhpcy5jaGlsZFZpZXdwb3J0QWdlbnRzLnB1c2goYWdlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZ2VudDtcbiAgICB9XG4gICAgdW5yZWdpc3RlclZpZXdwb3J0KHZpZXdwb3J0KSB7XG4gICAgICAgIGNvbnN0IGFnZW50ID0gVmlld3BvcnRBZ2VudC5mb3Iodmlld3BvcnQsIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5jaGlsZFZpZXdwb3J0QWdlbnRzLmluY2x1ZGVzKGFnZW50KSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHVucmVnaXN0ZXJWaWV3cG9ydChhZ2VudDolcykgLT4gdW5yZWdpc3RlcmluZ2AsIGFnZW50KTtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRWaWV3cG9ydEFnZW50cy5zcGxpY2UodGhpcy5jaGlsZFZpZXdwb3J0QWdlbnRzLmluZGV4T2YoYWdlbnQpLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGB1bnJlZ2lzdGVyVmlld3BvcnQoYWdlbnQ6JXMpIC0+IG5vdCByZWdpc3RlcmVkLCBzbyBza2lwcGluZ2AsIGFnZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWNvZ25pemUocGF0aCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGByZWNvZ25pemUocGF0aDonJHtwYXRofScpYCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVjb2duaXplci5yZWNvZ25pemUocGF0aCk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXNpZHVlO1xuICAgICAgICBpZiAoUmVmbGVjdC5oYXMocmVzdWx0LnBhcmFtcywgUkVTSURVRSkpIHtcbiAgICAgICAgICAgIHJlc2lkdWUgPSAoX2EgPSByZXN1bHQucGFyYW1zW1JFU0lEVUVdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsO1xuICAgICAgICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShyZXN1bHQucGFyYW1zLCBSRVNJRFVFKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc2lkdWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgJFJlY29nbml6ZWRSb3V0ZShyZXN1bHQsIHJlc2lkdWUpO1xuICAgIH1cbiAgICBhZGRSb3V0ZShyb3V0ZWFibGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGFkZFJvdXRlKHJvdXRlYWJsZTonJHtyb3V0ZWFibGV9JylgKTtcbiAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZShSb3V0ZURlZmluaXRpb24ucmVzb2x2ZShyb3V0ZWFibGUsIHRoaXMpLCByb3V0ZURlZiA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2Ygcm91dGVEZWYucGF0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGFkZFJvdXRlKHBhdGgsIHJvdXRlRGVmLmNhc2VTZW5zaXRpdmUsIHJvdXRlRGVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2hpbGRSb3V0ZXMucHVzaChyb3V0ZURlZik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAkYWRkUm91dGUocGF0aCwgY2FzZVNlbnNpdGl2ZSwgaGFuZGxlcikge1xuICAgICAgICB0aGlzLnJlY29nbml6ZXIuYWRkKHtcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBjYXNlU2Vuc2l0aXZlLFxuICAgICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVjb2duaXplci5hZGQoe1xuICAgICAgICAgICAgcGF0aDogYCR7cGF0aH0vKiR7UkVTSURVRX1gLFxuICAgICAgICAgICAgY2FzZVNlbnNpdGl2ZSxcbiAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXNvbHZlTGF6eShwcm9taXNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZHVsZUxvYWRlci5sb2FkKHByb21pc2UsIG0gPT4ge1xuICAgICAgICAgICAgbGV0IGRlZmF1bHRFeHBvcnQgPSB2b2lkIDA7XG4gICAgICAgICAgICBsZXQgZmlyc3ROb25EZWZhdWx0RXhwb3J0ID0gdm9pZCAwO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIG0uaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5pc0NvbnN0cnVjdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmID0gaXRlbS5kZWZpbml0aW9ucy5maW5kKGlzQ3VzdG9tRWxlbWVudERlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmtleSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEV4cG9ydCA9IGRlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpcnN0Tm9uRGVmYXVsdEV4cG9ydCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3ROb25EZWZhdWx0RXhwb3J0ID0gZGVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlZmF1bHRFeHBvcnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdE5vbkRlZmF1bHRFeHBvcnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBtYWtlIGVycm9yIG1vcmUgYWNjdXJhdGUgYW5kIGFkZCBwb3RlbnRpYWwgY2F1c2VzL3NvbHV0aW9uc1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cHJvbWlzZX0gZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgY29tcG9uZW50IG9yIEN1c3RvbUVsZW1lbnQgcmVjb2duaXphYmxlIGJ5IEF1cmVsaWFgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0Tm9uRGVmYXVsdEV4cG9ydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RXhwb3J0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IHZwQWdlbnRzID0gdGhpcy5jaGlsZFZpZXdwb3J0QWdlbnRzO1xuICAgICAgICBjb25zdCB2aWV3cG9ydHMgPSB2cEFnZW50cy5tYXAoU3RyaW5nKS5qb2luKCcsJyk7XG4gICAgICAgIHJldHVybiBgUkMocGF0aDonJHt0aGlzLmZyaWVuZGx5UGF0aH0nLHZpZXdwb3J0czpbJHt2aWV3cG9ydHN9XSlgO1xuICAgIH1cbiAgICBwcmludFRyZWUoKSB7XG4gICAgICAgIGNvbnN0IHRyZWUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhdGgubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRyZWUucHVzaChgJHsnICcucmVwZWF0KGkpfSR7dGhpcy5wYXRoW2ldfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmVlLmpvaW4oJ1xcbicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzUm91dGVDb250ZXh0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUm91dGVDb250ZXh0O1xufVxuZnVuY3Rpb24gbG9nQW5kVGhyb3coZXJyLCBsb2dnZXIpIHtcbiAgICBsb2dnZXIuZXJyb3IoZXJyKTtcbiAgICB0aHJvdyBlcnI7XG59XG5mdW5jdGlvbiBpc0N1c3RvbUVsZW1lbnREZWZpbml0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIEN1c3RvbUVsZW1lbnQuaXNUeXBlKHZhbHVlLlR5cGUpO1xufVxuZXhwb3J0IGNsYXNzICRSZWNvZ25pemVkUm91dGUge1xuICAgIGNvbnN0cnVjdG9yKHJvdXRlLCByZXNpZHVlKSB7XG4gICAgICAgIHRoaXMucm91dGUgPSByb3V0ZTtcbiAgICAgICAgdGhpcy5yZXNpZHVlID0gcmVzaWR1ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZS1jb250ZXh0LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/route-context.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/route-definition.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/route-definition.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RouteDefinition\": () => (/* binding */ RouteDefinition)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _instructions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./instructions.js */ \"./node_modules/@aurelia/router/dist/esm/instructions.js\");\n/* harmony import */ var _route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./route.js */ \"./node_modules/@aurelia/router/dist/esm/route.js\");\n/* harmony import */ var _validation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./validation.js */ \"./node_modules/@aurelia/router/dist/esm/validation.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util.js */ \"./node_modules/@aurelia/router/dist/esm/util.js\");\n\n\n\n\n\n\nclass RouteDefinition {\n    constructor(config, component) {\n        var _a, _b, _c, _d, _e;\n        this.config = config;\n        this.component = component;\n        this.hasExplicitPath = config.path !== null;\n        this.caseSensitive = config.caseSensitive;\n        this.path = (0,_util_js__WEBPACK_IMPORTED_MODULE_5__.ensureArrayOfStrings)((_a = config.path) !== null && _a !== void 0 ? _a : component.name);\n        this.redirectTo = (_b = config.redirectTo) !== null && _b !== void 0 ? _b : null;\n        this.viewport = (_c = config.viewport) !== null && _c !== void 0 ? _c : 'default';\n        this.id = (0,_util_js__WEBPACK_IMPORTED_MODULE_5__.ensureString)((_d = config.id) !== null && _d !== void 0 ? _d : this.path);\n        this.data = (_e = config.data) !== null && _e !== void 0 ? _e : {};\n    }\n    static resolve(routeable, context) {\n        if ((0,_validation_js__WEBPACK_IMPORTED_MODULE_4__.isPartialRedirectRouteConfig)(routeable)) {\n            return new RouteDefinition(routeable, null);\n        }\n        // Check if this component already has a `RouteDefinition` associated with it, where the `config` matches the `RouteConfig` that is currently associated with the type.\n        // If a type is re-configured via `Route.configure`, that effectively invalidates any existing `RouteDefinition` and we re-create and associate it.\n        // Note: RouteConfig is associated with Type, but RouteDefinition is associated with CustomElementDefinition.\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.resolveCustomElementDefinition(routeable, context), def => {\n            const config = (0,_validation_js__WEBPACK_IMPORTED_MODULE_4__.isPartialChildRouteConfig)(routeable)\n                ? {\n                    ..._route_js__WEBPACK_IMPORTED_MODULE_3__.Route.getConfig(def.Type),\n                    ...routeable\n                }\n                : _route_js__WEBPACK_IMPORTED_MODULE_3__.Route.getConfig(def.Type);\n            if (!_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.hasOwn(_route_js__WEBPACK_IMPORTED_MODULE_3__.Route.name, def)) {\n                const routeDefinition = new RouteDefinition(config, def);\n                _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(_route_js__WEBPACK_IMPORTED_MODULE_3__.Route.name, routeDefinition, def);\n            }\n            else {\n                let routeDefinition = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(_route_js__WEBPACK_IMPORTED_MODULE_3__.Route.name, def);\n                if (routeDefinition.config !== config) {\n                    routeDefinition = new RouteDefinition(config, def);\n                    _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(_route_js__WEBPACK_IMPORTED_MODULE_3__.Route.name, routeDefinition, def);\n                }\n            }\n            return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(_route_js__WEBPACK_IMPORTED_MODULE_3__.Route.name, def);\n        });\n    }\n    static resolveCustomElementDefinition(routeable, context) {\n        if ((0,_validation_js__WEBPACK_IMPORTED_MODULE_4__.isPartialChildRouteConfig)(routeable)) {\n            return this.resolveCustomElementDefinition(routeable.component, context);\n        }\n        const typedInstruction = _instructions_js__WEBPACK_IMPORTED_MODULE_2__.TypedNavigationInstruction.create(routeable);\n        switch (typedInstruction.type) {\n            case 0 /* string */: {\n                if (context === void 0) {\n                    throw new Error(`When retrieving the RouteDefinition for a component name, a RouteContext (that can resolve it) must be provided`);\n                }\n                const component = context.find(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement, typedInstruction.value);\n                if (component === null) {\n                    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                    throw new Error(`Could not find a CustomElement named '${typedInstruction.value}' in the current container scope of ${context}. This means the component is neither registered at Aurelia startup nor via the 'dependencies' decorator or static property.`);\n                }\n                return component;\n            }\n            case 2 /* CustomElementDefinition */:\n                return typedInstruction.value;\n            case 4 /* IRouteViewModel */:\n                // Get the class from the constructor property. There might be static properties on it.\n                return _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement.getDefinition(typedInstruction.value.constructor);\n            case 3 /* Promise */:\n                if (context === void 0) {\n                    throw new Error(`RouteContext must be provided when resolving an imported module`);\n                }\n                return context.resolveLazy(typedInstruction.value);\n        }\n    }\n    register(container) {\n        var _a;\n        (_a = this.component) === null || _a === void 0 ? void 0 : _a.register(container);\n    }\n    toUrlComponent() {\n        return 'not-implemented'; // TODO\n    }\n    toString() {\n        const path = this.config.path === null ? 'null' : `'${this.config.path}'`;\n        if (this.component !== null) {\n            return `RD(config.path:${path},c.name:'${this.component.name}')`;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n            return `RD(config.path:${path},redirectTo:'${this.redirectTo}')`;\n        }\n    }\n}\n//# sourceMappingURL=route-definition.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlLWRlZmluaXRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlLWRlZmluaXRpb24uanM/NDFjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNZXRhZGF0YSwgb25SZXNvbHZlIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IEN1c3RvbUVsZW1lbnQgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lLWh0bWwnO1xuaW1wb3J0IHsgVHlwZWROYXZpZ2F0aW9uSW5zdHJ1Y3Rpb24gfSBmcm9tICcuL2luc3RydWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBSb3V0ZSB9IGZyb20gJy4vcm91dGUuanMnO1xuaW1wb3J0IHsgaXNQYXJ0aWFsQ2hpbGRSb3V0ZUNvbmZpZywgaXNQYXJ0aWFsUmVkaXJlY3RSb3V0ZUNvbmZpZyB9IGZyb20gJy4vdmFsaWRhdGlvbi5qcyc7XG5pbXBvcnQgeyBlbnN1cmVBcnJheU9mU3RyaW5ncywgZW5zdXJlU3RyaW5nIH0gZnJvbSAnLi91dGlsLmpzJztcbmV4cG9ydCBjbGFzcyBSb3V0ZURlZmluaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgY29tcG9uZW50KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgdGhpcy5oYXNFeHBsaWNpdFBhdGggPSBjb25maWcucGF0aCAhPT0gbnVsbDtcbiAgICAgICAgdGhpcy5jYXNlU2Vuc2l0aXZlID0gY29uZmlnLmNhc2VTZW5zaXRpdmU7XG4gICAgICAgIHRoaXMucGF0aCA9IGVuc3VyZUFycmF5T2ZTdHJpbmdzKChfYSA9IGNvbmZpZy5wYXRoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb21wb25lbnQubmFtZSk7XG4gICAgICAgIHRoaXMucmVkaXJlY3RUbyA9IChfYiA9IGNvbmZpZy5yZWRpcmVjdFRvKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gKF9jID0gY29uZmlnLnZpZXdwb3J0KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnZGVmYXVsdCc7XG4gICAgICAgIHRoaXMuaWQgPSBlbnN1cmVTdHJpbmcoKF9kID0gY29uZmlnLmlkKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB0aGlzLnBhdGgpO1xuICAgICAgICB0aGlzLmRhdGEgPSAoX2UgPSBjb25maWcuZGF0YSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDoge307XG4gICAgfVxuICAgIHN0YXRpYyByZXNvbHZlKHJvdXRlYWJsZSwgY29udGV4dCkge1xuICAgICAgICBpZiAoaXNQYXJ0aWFsUmVkaXJlY3RSb3V0ZUNvbmZpZyhyb3V0ZWFibGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJvdXRlRGVmaW5pdGlvbihyb3V0ZWFibGUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgY29tcG9uZW50IGFscmVhZHkgaGFzIGEgYFJvdXRlRGVmaW5pdGlvbmAgYXNzb2NpYXRlZCB3aXRoIGl0LCB3aGVyZSB0aGUgYGNvbmZpZ2AgbWF0Y2hlcyB0aGUgYFJvdXRlQ29uZmlnYCB0aGF0IGlzIGN1cnJlbnRseSBhc3NvY2lhdGVkIHdpdGggdGhlIHR5cGUuXG4gICAgICAgIC8vIElmIGEgdHlwZSBpcyByZS1jb25maWd1cmVkIHZpYSBgUm91dGUuY29uZmlndXJlYCwgdGhhdCBlZmZlY3RpdmVseSBpbnZhbGlkYXRlcyBhbnkgZXhpc3RpbmcgYFJvdXRlRGVmaW5pdGlvbmAgYW5kIHdlIHJlLWNyZWF0ZSBhbmQgYXNzb2NpYXRlIGl0LlxuICAgICAgICAvLyBOb3RlOiBSb3V0ZUNvbmZpZyBpcyBhc3NvY2lhdGVkIHdpdGggVHlwZSwgYnV0IFJvdXRlRGVmaW5pdGlvbiBpcyBhc3NvY2lhdGVkIHdpdGggQ3VzdG9tRWxlbWVudERlZmluaXRpb24uXG4gICAgICAgIHJldHVybiBvblJlc29sdmUodGhpcy5yZXNvbHZlQ3VzdG9tRWxlbWVudERlZmluaXRpb24ocm91dGVhYmxlLCBjb250ZXh0KSwgZGVmID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGlzUGFydGlhbENoaWxkUm91dGVDb25maWcocm91dGVhYmxlKVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAuLi5Sb3V0ZS5nZXRDb25maWcoZGVmLlR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAuLi5yb3V0ZWFibGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBSb3V0ZS5nZXRDb25maWcoZGVmLlR5cGUpO1xuICAgICAgICAgICAgaWYgKCFNZXRhZGF0YS5oYXNPd24oUm91dGUubmFtZSwgZGVmKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlRGVmaW5pdGlvbiA9IG5ldyBSb3V0ZURlZmluaXRpb24oY29uZmlnLCBkZWYpO1xuICAgICAgICAgICAgICAgIE1ldGFkYXRhLmRlZmluZShSb3V0ZS5uYW1lLCByb3V0ZURlZmluaXRpb24sIGRlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgcm91dGVEZWZpbml0aW9uID0gTWV0YWRhdGEuZ2V0T3duKFJvdXRlLm5hbWUsIGRlZik7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlRGVmaW5pdGlvbi5jb25maWcgIT09IGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZURlZmluaXRpb24gPSBuZXcgUm91dGVEZWZpbml0aW9uKGNvbmZpZywgZGVmKTtcbiAgICAgICAgICAgICAgICAgICAgTWV0YWRhdGEuZGVmaW5lKFJvdXRlLm5hbWUsIHJvdXRlRGVmaW5pdGlvbiwgZGVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gTWV0YWRhdGEuZ2V0T3duKFJvdXRlLm5hbWUsIGRlZik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgcmVzb2x2ZUN1c3RvbUVsZW1lbnREZWZpbml0aW9uKHJvdXRlYWJsZSwgY29udGV4dCkge1xuICAgICAgICBpZiAoaXNQYXJ0aWFsQ2hpbGRSb3V0ZUNvbmZpZyhyb3V0ZWFibGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlQ3VzdG9tRWxlbWVudERlZmluaXRpb24ocm91dGVhYmxlLmNvbXBvbmVudCwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHlwZWRJbnN0cnVjdGlvbiA9IFR5cGVkTmF2aWdhdGlvbkluc3RydWN0aW9uLmNyZWF0ZShyb3V0ZWFibGUpO1xuICAgICAgICBzd2l0Y2ggKHR5cGVkSW5zdHJ1Y3Rpb24udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIHN0cmluZyAqLzoge1xuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBXaGVuIHJldHJpZXZpbmcgdGhlIFJvdXRlRGVmaW5pdGlvbiBmb3IgYSBjb21wb25lbnQgbmFtZSwgYSBSb3V0ZUNvbnRleHQgKHRoYXQgY2FuIHJlc29sdmUgaXQpIG11c3QgYmUgcHJvdmlkZWRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gY29udGV4dC5maW5kKEN1c3RvbUVsZW1lbnQsIHR5cGVkSW5zdHJ1Y3Rpb24udmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC10ZW1wbGF0ZS1leHByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIGEgQ3VzdG9tRWxlbWVudCBuYW1lZCAnJHt0eXBlZEluc3RydWN0aW9uLnZhbHVlfScgaW4gdGhlIGN1cnJlbnQgY29udGFpbmVyIHNjb3BlIG9mICR7Y29udGV4dH0uIFRoaXMgbWVhbnMgdGhlIGNvbXBvbmVudCBpcyBuZWl0aGVyIHJlZ2lzdGVyZWQgYXQgQXVyZWxpYSBzdGFydHVwIG5vciB2aWEgdGhlICdkZXBlbmRlbmNpZXMnIGRlY29yYXRvciBvciBzdGF0aWMgcHJvcGVydHkuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDIgLyogQ3VzdG9tRWxlbWVudERlZmluaXRpb24gKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVkSW5zdHJ1Y3Rpb24udmFsdWU7XG4gICAgICAgICAgICBjYXNlIDQgLyogSVJvdXRlVmlld01vZGVsICovOlxuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgY2xhc3MgZnJvbSB0aGUgY29uc3RydWN0b3IgcHJvcGVydHkuIFRoZXJlIG1pZ2h0IGJlIHN0YXRpYyBwcm9wZXJ0aWVzIG9uIGl0LlxuICAgICAgICAgICAgICAgIHJldHVybiBDdXN0b21FbGVtZW50LmdldERlZmluaXRpb24odHlwZWRJbnN0cnVjdGlvbi52YWx1ZS5jb25zdHJ1Y3Rvcik7XG4gICAgICAgICAgICBjYXNlIDMgLyogUHJvbWlzZSAqLzpcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUm91dGVDb250ZXh0IG11c3QgYmUgcHJvdmlkZWQgd2hlbiByZXNvbHZpbmcgYW4gaW1wb3J0ZWQgbW9kdWxlYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LnJlc29sdmVMYXp5KHR5cGVkSW5zdHJ1Y3Rpb24udmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZ2lzdGVyKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuY29tcG9uZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVnaXN0ZXIoY29udGFpbmVyKTtcbiAgICB9XG4gICAgdG9VcmxDb21wb25lbnQoKSB7XG4gICAgICAgIHJldHVybiAnbm90LWltcGxlbWVudGVkJzsgLy8gVE9ET1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlnLnBhdGggPT09IG51bGwgPyAnbnVsbCcgOiBgJyR7dGhpcy5jb25maWcucGF0aH0nYDtcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYFJEKGNvbmZpZy5wYXRoOiR7cGF0aH0sYy5uYW1lOicke3RoaXMuY29tcG9uZW50Lm5hbWV9JylgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC10ZW1wbGF0ZS1leHByZXNzaW9uc1xuICAgICAgICAgICAgcmV0dXJuIGBSRChjb25maWcucGF0aDoke3BhdGh9LHJlZGlyZWN0VG86JyR7dGhpcy5yZWRpcmVjdFRvfScpYDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdXRlLWRlZmluaXRpb24uanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/route-definition.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/route-expression.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/route-expression.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ExpressionKind\": () => (/* binding */ ExpressionKind),\n/* harmony export */   \"RouteExpression\": () => (/* binding */ RouteExpression),\n/* harmony export */   \"CompositeSegmentExpression\": () => (/* binding */ CompositeSegmentExpression),\n/* harmony export */   \"ScopedSegmentExpression\": () => (/* binding */ ScopedSegmentExpression),\n/* harmony export */   \"SegmentGroupExpression\": () => (/* binding */ SegmentGroupExpression),\n/* harmony export */   \"SegmentExpression\": () => (/* binding */ SegmentExpression),\n/* harmony export */   \"ComponentExpression\": () => (/* binding */ ComponentExpression),\n/* harmony export */   \"ActionExpression\": () => (/* binding */ ActionExpression),\n/* harmony export */   \"ViewportExpression\": () => (/* binding */ ViewportExpression),\n/* harmony export */   \"ParameterListExpression\": () => (/* binding */ ParameterListExpression),\n/* harmony export */   \"ParameterExpression\": () => (/* binding */ ParameterExpression),\n/* harmony export */   \"AST\": () => (/* binding */ AST)\n/* harmony export */ });\n/* harmony import */ var _instructions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instructions.js */ \"./node_modules/@aurelia/router/dist/esm/instructions.js\");\n// The commented-out terminal symbols below are for reference / potential future need (should there be use cases to loosen up the syntax)\n// These symbols are basically the minimum necessary terminals.\n// const viewportTerminal = ['?', '#', '/', '+', ')', '!'];\n// const actionTerminal = [...componentTerminal, '@', '('];\n// const componentTerminal = [...actionTerminal, '.'];\n// const paramTerminal = ['=', ',', ')'];\n\n// These are the currently used terminal symbols.\n// We're deliberately having every \"special\" (including the not-in-use '&', ''', '~', ';') as a terminal symbol,\n// so as to make the syntax maximally restrictive for consistency and to minimize the risk of us having to introduce breaking changes in the future.\nconst terminal = ['?', '#', '/', '+', '(', ')', '.', '@', '!', '=', ',', '&', '\\'', '~', ';'];\nclass ParserState {\n    constructor(input) {\n        this.input = input;\n        this.buffers = [];\n        this.bufferIndex = 0;\n        this.index = 0;\n        this.rest = input;\n    }\n    get done() {\n        return this.rest.length === 0;\n    }\n    startsWith(...values) {\n        const rest = this.rest;\n        return values.some(function (value) {\n            return rest.startsWith(value);\n        });\n    }\n    consumeOptional(str) {\n        if (this.startsWith(str)) {\n            this.rest = this.rest.slice(str.length);\n            this.index += str.length;\n            this.append(str);\n            return true;\n        }\n        return false;\n    }\n    consume(str) {\n        if (!this.consumeOptional(str)) {\n            this.expect(`'${str}'`);\n        }\n    }\n    expect(msg) {\n        throw new Error(`Expected ${msg} at index ${this.index} of '${this.input}', but got: '${this.rest}' (rest='${this.rest}')`);\n    }\n    ensureDone() {\n        if (!this.done) {\n            throw new Error(`Unexpected '${this.rest}' at index ${this.index} of '${this.input}'`);\n        }\n    }\n    advance() {\n        const char = this.rest[0];\n        this.rest = this.rest.slice(1);\n        ++this.index;\n        this.append(char);\n    }\n    record() {\n        this.buffers[this.bufferIndex++] = '';\n    }\n    playback() {\n        const bufferIndex = --this.bufferIndex;\n        const buffers = this.buffers;\n        const buffer = buffers[bufferIndex];\n        buffers[bufferIndex] = '';\n        return buffer;\n    }\n    discard() {\n        this.buffers[--this.bufferIndex] = '';\n    }\n    append(str) {\n        const bufferIndex = this.bufferIndex;\n        const buffers = this.buffers;\n        for (let i = 0; i < bufferIndex; ++i) {\n            buffers[i] += str;\n        }\n    }\n}\nvar ExpressionKind;\n(function (ExpressionKind) {\n    ExpressionKind[ExpressionKind[\"Route\"] = 0] = \"Route\";\n    ExpressionKind[ExpressionKind[\"CompositeSegment\"] = 1] = \"CompositeSegment\";\n    ExpressionKind[ExpressionKind[\"ScopedSegment\"] = 2] = \"ScopedSegment\";\n    ExpressionKind[ExpressionKind[\"SegmentGroup\"] = 3] = \"SegmentGroup\";\n    ExpressionKind[ExpressionKind[\"Segment\"] = 4] = \"Segment\";\n    ExpressionKind[ExpressionKind[\"Component\"] = 5] = \"Component\";\n    ExpressionKind[ExpressionKind[\"Action\"] = 6] = \"Action\";\n    ExpressionKind[ExpressionKind[\"Viewport\"] = 7] = \"Viewport\";\n    ExpressionKind[ExpressionKind[\"ParameterList\"] = 8] = \"ParameterList\";\n    ExpressionKind[ExpressionKind[\"Parameter\"] = 9] = \"Parameter\";\n})(ExpressionKind || (ExpressionKind = {}));\nconst fragmentRouteExpressionCache = new Map();\nconst routeExpressionCache = new Map();\nclass RouteExpression {\n    constructor(raw, isAbsolute, root, queryParams, fragment, fragmentIsRoute) {\n        this.raw = raw;\n        this.isAbsolute = isAbsolute;\n        this.root = root;\n        this.queryParams = queryParams;\n        this.fragment = fragment;\n        this.fragmentIsRoute = fragmentIsRoute;\n    }\n    get kind() { return 0 /* Route */; }\n    static parse(path, fragmentIsRoute) {\n        const cache = fragmentIsRoute ? fragmentRouteExpressionCache : routeExpressionCache;\n        let result = cache.get(path);\n        if (result === void 0) {\n            cache.set(path, result = RouteExpression.$parse(path, fragmentIsRoute));\n        }\n        return result;\n    }\n    static $parse(path, fragmentIsRoute) {\n        // First strip off the fragment (and if fragment should be used as route, set it as the path)\n        let fragment;\n        const fragmentStart = path.indexOf('#');\n        if (fragmentStart >= 0) {\n            const rawFragment = path.slice(fragmentStart + 1);\n            fragment = decodeURIComponent(rawFragment);\n            if (fragmentIsRoute) {\n                path = fragment;\n            }\n            else {\n                path = path.slice(0, fragmentStart);\n            }\n        }\n        else {\n            if (fragmentIsRoute) {\n                path = '';\n            }\n            fragment = null;\n        }\n        // Strip off and parse the query string using built-in URLSearchParams.\n        let queryParams = null;\n        const queryStart = path.indexOf('?');\n        if (queryStart >= 0) {\n            const queryString = path.slice(queryStart + 1);\n            path = path.slice(0, queryStart);\n            queryParams = new URLSearchParams(queryString);\n        }\n        if (path === '') {\n            return new RouteExpression('', false, SegmentExpression.EMPTY, Object.freeze(queryParams !== null && queryParams !== void 0 ? queryParams : new URLSearchParams()), fragment, fragmentIsRoute);\n        }\n        /*\n         * Now parse the actual route\n         *\n         * Notes:\n         * A NT-Name as per DOM level 2: https://www.w3.org/TR/1998/REC-xml-19980210#NT-Name\n         *  [4]  NameChar ::= Letter | Digit | '.' | '-' | '_' | ':' | CombiningChar | Extender\n         *  [5]  Name     ::= (Letter | '_' | ':') (NameChar)*\n         *\n         * As per https://url.spec.whatwg.org/#url-code-points - URL code points (from the ASCII range) are:\n         * a-zA-Z0-9!$&'()*+,-./:;=?@_~\n         * The other valid option is a % followed by two ASCII hex digits\n         * Anything else is invalid.\n         */\n        const state = new ParserState(path);\n        state.record();\n        const isAbsolute = state.consumeOptional('/');\n        const root = CompositeSegmentExpression.parse(state);\n        state.ensureDone();\n        const raw = state.playback();\n        return new RouteExpression(raw, isAbsolute, root, Object.freeze(queryParams !== null && queryParams !== void 0 ? queryParams : new URLSearchParams()), fragment, fragmentIsRoute);\n    }\n    toInstructionTree(options) {\n        return new _instructions_js__WEBPACK_IMPORTED_MODULE_0__.ViewportInstructionTree(options, this.isAbsolute, this.root.toInstructions(options.append, 0, 0), this.queryParams, this.fragment);\n    }\n    toString() {\n        return this.raw;\n    }\n}\n/**\n * A single 'traditional' (slash-separated) segment consisting of one or more sibling segments.\n *\n * ### Variations:\n *\n * 1: `a+b`\n * - siblings: [`a`, `b`]\n * - append: `false`\n *\n * 2: `+a`\n * - siblings: [`a`]\n * - append: `true`\n *\n * 3: `+a+a`\n * - siblings: [`a`, `b`]\n * - append: `true`\n *\n * Where\n * - a = `CompositeSegmentExpressionOrHigher` (`SegmentExpression | SegmentGroupExpression | ScopedSegmentExpression | CompositeSegmentExpression`)\n * - b = `CompositeSegmentExpressionOrHigher` (`SegmentExpression | SegmentGroupExpression | ScopedSegmentExpression | CompositeSegmentExpression`)\n */\nclass CompositeSegmentExpression {\n    constructor(raw, siblings, append) {\n        this.raw = raw;\n        this.siblings = siblings;\n        this.append = append;\n    }\n    get kind() { return 1 /* CompositeSegment */; }\n    static parse(state) {\n        state.record();\n        // If a segment starts with '+', e.g. '/+a' / '/+a@vp' / '/a/+b' / '/+a+b' etc, then its siblings\n        // are considered to be \"append\"\n        const append = state.consumeOptional('+');\n        const siblings = [];\n        do {\n            siblings.push(ScopedSegmentExpression.parse(state));\n        } while (state.consumeOptional('+'));\n        if (!append && siblings.length === 1) {\n            state.discard();\n            return siblings[0];\n        }\n        const raw = state.playback();\n        return new CompositeSegmentExpression(raw, siblings, append);\n    }\n    toInstructions(append, open, close) {\n        switch (this.siblings.length) {\n            case 0:\n                return [];\n            case 1:\n                return this.siblings[0].toInstructions(append, open, close);\n            case 2:\n                return [\n                    ...this.siblings[0].toInstructions(append, open, 0),\n                    ...this.siblings[1].toInstructions(append, 0, close),\n                ];\n            default:\n                return [\n                    ...this.siblings[0].toInstructions(append, open, 0),\n                    ...this.siblings.slice(1, -1).flatMap(function (x) {\n                        return x.toInstructions(append, 0, 0);\n                    }),\n                    ...this.siblings[this.siblings.length - 1].toInstructions(append, 0, close),\n                ];\n        }\n    }\n    toString() {\n        return this.raw;\n    }\n}\n/**\n * The (single) left-hand side and the (one or more) right-hand side of a slash-separated segment.\n *\n * Variations:\n *\n * 1: `a/b`\n * - left: `a`\n * - right: `b`\n *\n * Where\n * - a = `SegmentGroupExpressionOrHigher` (`SegmentExpression | SegmentGroupExpression`)\n * - b = `ScopedSegmentExpressionOrHigher` (`SegmentExpression | SegmentGroupExpression | ScopedSegmentExpression`)\n */\nclass ScopedSegmentExpression {\n    constructor(raw, left, right) {\n        this.raw = raw;\n        this.left = left;\n        this.right = right;\n    }\n    get kind() { return 2 /* ScopedSegment */; }\n    static parse(state) {\n        state.record();\n        const left = SegmentGroupExpression.parse(state);\n        if (state.consumeOptional('/')) {\n            const right = ScopedSegmentExpression.parse(state);\n            const raw = state.playback();\n            return new ScopedSegmentExpression(raw, left, right);\n        }\n        state.discard();\n        return left;\n    }\n    toInstructions(append, open, close) {\n        const leftInstructions = this.left.toInstructions(append, open, 0);\n        const rightInstructions = this.right.toInstructions(false, 0, close);\n        let cur = leftInstructions[leftInstructions.length - 1];\n        while (cur.children.length > 0) {\n            cur = cur.children[cur.children.length - 1];\n        }\n        cur.children.push(...rightInstructions);\n        return leftInstructions;\n    }\n    toString() {\n        return this.raw;\n    }\n}\n/**\n * Any kind of segment wrapped in parentheses, increasing its precedence.\n * Specifically, the parentheses are needed to deeply specify scoped siblings.\n * The precedence is intentionally similar to the familiar mathematical `/` and `+` operators.\n *\n * For example, consider this viewport structure:\n * - viewport-a\n * - - viewport-a1\n * - - viewport-a2\n * - viewport-b\n * - - viewport-b1\n *\n * This can only be deeply specified by using the grouping operator: `a/(a1+a2)+b/b1`\n *\n * Because `a/a1+a2+b/b1` would be interpreted differently:\n * - viewport-a\n * - - viewport-a1\n * - viewport-a2\n * - viewport-b\n * - - viewport-b1\n *\n * ### Variations:\n *\n * 1: `(a)`\n * - expression: `a`\n *\n * Where\n * - a = `CompositeSegmentExpressionOrHigher` (`SegmentExpression | SegmentGroupExpression | ScopedSegmentExpression | CompositeSegmentExpression`)\n */\nclass SegmentGroupExpression {\n    constructor(raw, expression) {\n        this.raw = raw;\n        this.expression = expression;\n    }\n    get kind() { return 3 /* SegmentGroup */; }\n    static parse(state) {\n        state.record();\n        if (state.consumeOptional('(')) {\n            const expression = CompositeSegmentExpression.parse(state);\n            state.consume(')');\n            const raw = state.playback();\n            return new SegmentGroupExpression(raw, expression);\n        }\n        state.discard();\n        return SegmentExpression.parse(state);\n    }\n    toInstructions(append, open, close) {\n        return this.expression.toInstructions(append, open + 1, close + 1);\n    }\n    toString() {\n        return this.raw;\n    }\n}\n/**\n * A (non-composite) segment specifying a single component and (optional) viewport / action.\n */\nclass SegmentExpression {\n    constructor(raw, component, action, viewport, scoped) {\n        this.raw = raw;\n        this.component = component;\n        this.action = action;\n        this.viewport = viewport;\n        this.scoped = scoped;\n    }\n    get kind() { return 4 /* Segment */; }\n    static get EMPTY() { return new SegmentExpression('', ComponentExpression.EMPTY, ActionExpression.EMPTY, ViewportExpression.EMPTY, true); }\n    static parse(state) {\n        state.record();\n        const component = ComponentExpression.parse(state);\n        const action = ActionExpression.parse(state);\n        const viewport = ViewportExpression.parse(state);\n        const scoped = !state.consumeOptional('!');\n        const raw = state.playback();\n        return new SegmentExpression(raw, component, action, viewport, scoped);\n    }\n    toInstructions(append, open, close) {\n        return [\n            _instructions_js__WEBPACK_IMPORTED_MODULE_0__.ViewportInstruction.create({\n                component: this.component.name,\n                params: this.component.parameterList.toObject(),\n                viewport: this.viewport.name,\n                append,\n                open,\n                close,\n            }),\n        ];\n    }\n    toString() {\n        return this.raw;\n    }\n}\nclass ComponentExpression {\n    constructor(raw, name, parameterList) {\n        this.raw = raw;\n        this.name = name;\n        this.parameterList = parameterList;\n        switch (name.charAt(0)) {\n            case ':':\n                this.isParameter = true;\n                this.isStar = false;\n                this.isDynamic = true;\n                this.parameterName = name.slice(1);\n                break;\n            case '*':\n                this.isParameter = false;\n                this.isStar = true;\n                this.isDynamic = true;\n                this.parameterName = name.slice(1);\n                break;\n            default:\n                this.isParameter = false;\n                this.isStar = false;\n                this.isDynamic = false;\n                this.parameterName = name;\n                break;\n        }\n    }\n    get kind() { return 5 /* Component */; }\n    static get EMPTY() { return new ComponentExpression('', '', ParameterListExpression.EMPTY); }\n    static parse(state) {\n        state.record();\n        state.record();\n        if (!state.done) {\n            if (state.startsWith('./')) {\n                state.advance();\n            }\n            else if (state.startsWith('../')) {\n                state.advance();\n                state.advance();\n            }\n            else {\n                while (!state.done && !state.startsWith(...terminal)) {\n                    state.advance();\n                }\n            }\n        }\n        const name = decodeURIComponent(state.playback());\n        if (name.length === 0) {\n            state.expect('component name');\n        }\n        const parameterList = ParameterListExpression.parse(state);\n        const raw = state.playback();\n        return new ComponentExpression(raw, name, parameterList);\n    }\n    toString() {\n        return this.raw;\n    }\n}\nclass ActionExpression {\n    constructor(raw, name, parameterList) {\n        this.raw = raw;\n        this.name = name;\n        this.parameterList = parameterList;\n    }\n    get kind() { return 6 /* Action */; }\n    static get EMPTY() { return new ActionExpression('', '', ParameterListExpression.EMPTY); }\n    static parse(state) {\n        state.record();\n        let name = '';\n        if (state.consumeOptional('.')) {\n            state.record();\n            while (!state.done && !state.startsWith(...terminal)) {\n                state.advance();\n            }\n            name = decodeURIComponent(state.playback());\n            if (name.length === 0) {\n                state.expect('method name');\n            }\n        }\n        const parameterList = ParameterListExpression.parse(state);\n        const raw = state.playback();\n        return new ActionExpression(raw, name, parameterList);\n    }\n    toString() {\n        return this.raw;\n    }\n}\nclass ViewportExpression {\n    constructor(raw, name) {\n        this.raw = raw;\n        this.name = name;\n    }\n    get kind() { return 7 /* Viewport */; }\n    static get EMPTY() { return new ViewportExpression('', ''); }\n    static parse(state) {\n        state.record();\n        let name = '';\n        if (state.consumeOptional('@')) {\n            state.record();\n            while (!state.done && !state.startsWith(...terminal)) {\n                state.advance();\n            }\n            name = decodeURIComponent(state.playback());\n            if (name.length === 0) {\n                state.expect('viewport name');\n            }\n        }\n        const raw = state.playback();\n        return new ViewportExpression(raw, name);\n    }\n    toString() {\n        return this.raw;\n    }\n}\nclass ParameterListExpression {\n    constructor(raw, expressions) {\n        this.raw = raw;\n        this.expressions = expressions;\n    }\n    get kind() { return 8 /* ParameterList */; }\n    static get EMPTY() { return new ParameterListExpression('', []); }\n    static parse(state) {\n        state.record();\n        const expressions = [];\n        if (state.consumeOptional('(')) {\n            do {\n                expressions.push(ParameterExpression.parse(state, expressions.length));\n                if (!state.consumeOptional(',')) {\n                    break;\n                }\n            } while (!state.done && !state.startsWith(')'));\n            state.consume(')');\n        }\n        const raw = state.playback();\n        return new ParameterListExpression(raw, expressions);\n    }\n    toObject() {\n        const params = {};\n        for (const expr of this.expressions) {\n            params[expr.key] = expr.value;\n        }\n        return params;\n    }\n    toString() {\n        return this.raw;\n    }\n}\nclass ParameterExpression {\n    constructor(raw, key, value) {\n        this.raw = raw;\n        this.key = key;\n        this.value = value;\n    }\n    get kind() { return 9 /* Parameter */; }\n    static get EMPTY() { return new ParameterExpression('', '', ''); }\n    static parse(state, index) {\n        state.record();\n        state.record();\n        while (!state.done && !state.startsWith(...terminal)) {\n            state.advance();\n        }\n        let key = decodeURIComponent(state.playback());\n        if (key.length === 0) {\n            state.expect('parameter key');\n        }\n        let value;\n        if (state.consumeOptional('=')) {\n            state.record();\n            while (!state.done && !state.startsWith(...terminal)) {\n                state.advance();\n            }\n            value = decodeURIComponent(state.playback());\n            if (value.length === 0) {\n                state.expect('parameter value');\n            }\n        }\n        else {\n            value = key;\n            key = index.toString();\n        }\n        const raw = state.playback();\n        return new ParameterExpression(raw, key, value);\n    }\n    toString() {\n        return this.raw;\n    }\n}\nconst AST = Object.freeze({\n    RouteExpression,\n    CompositeSegmentExpression,\n    ScopedSegmentExpression,\n    SegmentGroupExpression,\n    SegmentExpression,\n    ComponentExpression,\n    ActionExpression,\n    ViewportExpression,\n    ParameterListExpression,\n    ParameterExpression,\n});\n//# sourceMappingURL=route-expression.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlLWV4cHJlc3Npb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlLWV4cHJlc3Npb24uanM/MTlkNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgY29tbWVudGVkLW91dCB0ZXJtaW5hbCBzeW1ib2xzIGJlbG93IGFyZSBmb3IgcmVmZXJlbmNlIC8gcG90ZW50aWFsIGZ1dHVyZSBuZWVkIChzaG91bGQgdGhlcmUgYmUgdXNlIGNhc2VzIHRvIGxvb3NlbiB1cCB0aGUgc3ludGF4KVxuLy8gVGhlc2Ugc3ltYm9scyBhcmUgYmFzaWNhbGx5IHRoZSBtaW5pbXVtIG5lY2Vzc2FyeSB0ZXJtaW5hbHMuXG4vLyBjb25zdCB2aWV3cG9ydFRlcm1pbmFsID0gWyc/JywgJyMnLCAnLycsICcrJywgJyknLCAnISddO1xuLy8gY29uc3QgYWN0aW9uVGVybWluYWwgPSBbLi4uY29tcG9uZW50VGVybWluYWwsICdAJywgJygnXTtcbi8vIGNvbnN0IGNvbXBvbmVudFRlcm1pbmFsID0gWy4uLmFjdGlvblRlcm1pbmFsLCAnLiddO1xuLy8gY29uc3QgcGFyYW1UZXJtaW5hbCA9IFsnPScsICcsJywgJyknXTtcbmltcG9ydCB7IFZpZXdwb3J0SW5zdHJ1Y3Rpb25UcmVlLCBWaWV3cG9ydEluc3RydWN0aW9uIH0gZnJvbSAnLi9pbnN0cnVjdGlvbnMuanMnO1xuLy8gVGhlc2UgYXJlIHRoZSBjdXJyZW50bHkgdXNlZCB0ZXJtaW5hbCBzeW1ib2xzLlxuLy8gV2UncmUgZGVsaWJlcmF0ZWx5IGhhdmluZyBldmVyeSBcInNwZWNpYWxcIiAoaW5jbHVkaW5nIHRoZSBub3QtaW4tdXNlICcmJywgJycnLCAnficsICc7JykgYXMgYSB0ZXJtaW5hbCBzeW1ib2wsXG4vLyBzbyBhcyB0byBtYWtlIHRoZSBzeW50YXggbWF4aW1hbGx5IHJlc3RyaWN0aXZlIGZvciBjb25zaXN0ZW5jeSBhbmQgdG8gbWluaW1pemUgdGhlIHJpc2sgb2YgdXMgaGF2aW5nIHRvIGludHJvZHVjZSBicmVha2luZyBjaGFuZ2VzIGluIHRoZSBmdXR1cmUuXG5jb25zdCB0ZXJtaW5hbCA9IFsnPycsICcjJywgJy8nLCAnKycsICcoJywgJyknLCAnLicsICdAJywgJyEnLCAnPScsICcsJywgJyYnLCAnXFwnJywgJ34nLCAnOyddO1xuY2xhc3MgUGFyc2VyU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgICAgIHRoaXMuYnVmZmVySW5kZXggPSAwO1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5yZXN0ID0gaW5wdXQ7XG4gICAgfVxuICAgIGdldCBkb25lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN0Lmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgc3RhcnRzV2l0aCguLi52YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgcmVzdCA9IHRoaXMucmVzdDtcbiAgICAgICAgcmV0dXJuIHZhbHVlcy5zb21lKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3Quc3RhcnRzV2l0aCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdW1lT3B0aW9uYWwoc3RyKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0c1dpdGgoc3RyKSkge1xuICAgICAgICAgICAgdGhpcy5yZXN0ID0gdGhpcy5yZXN0LnNsaWNlKHN0ci5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5pbmRleCArPSBzdHIubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQoc3RyKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZShzdHIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnN1bWVPcHRpb25hbChzdHIpKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGVjdChgJyR7c3RyfSdgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBleHBlY3QobXNnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgJHttc2d9IGF0IGluZGV4ICR7dGhpcy5pbmRleH0gb2YgJyR7dGhpcy5pbnB1dH0nLCBidXQgZ290OiAnJHt0aGlzLnJlc3R9JyAocmVzdD0nJHt0aGlzLnJlc3R9JylgKTtcbiAgICB9XG4gICAgZW5zdXJlRG9uZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRvbmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCAnJHt0aGlzLnJlc3R9JyBhdCBpbmRleCAke3RoaXMuaW5kZXh9IG9mICcke3RoaXMuaW5wdXR9J2ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkdmFuY2UoKSB7XG4gICAgICAgIGNvbnN0IGNoYXIgPSB0aGlzLnJlc3RbMF07XG4gICAgICAgIHRoaXMucmVzdCA9IHRoaXMucmVzdC5zbGljZSgxKTtcbiAgICAgICAgKyt0aGlzLmluZGV4O1xuICAgICAgICB0aGlzLmFwcGVuZChjaGFyKTtcbiAgICB9XG4gICAgcmVjb3JkKCkge1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbdGhpcy5idWZmZXJJbmRleCsrXSA9ICcnO1xuICAgIH1cbiAgICBwbGF5YmFjaygpIHtcbiAgICAgICAgY29uc3QgYnVmZmVySW5kZXggPSAtLXRoaXMuYnVmZmVySW5kZXg7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSB0aGlzLmJ1ZmZlcnM7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbYnVmZmVySW5kZXhdO1xuICAgICAgICBidWZmZXJzW2J1ZmZlckluZGV4XSA9ICcnO1xuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cbiAgICBkaXNjYXJkKCkge1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbLS10aGlzLmJ1ZmZlckluZGV4XSA9ICcnO1xuICAgIH1cbiAgICBhcHBlbmQoc3RyKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJJbmRleDtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IHRoaXMuYnVmZmVycztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJJbmRleDsgKytpKSB7XG4gICAgICAgICAgICBidWZmZXJzW2ldICs9IHN0cjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCB2YXIgRXhwcmVzc2lvbktpbmQ7XG4oZnVuY3Rpb24gKEV4cHJlc3Npb25LaW5kKSB7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJSb3V0ZVwiXSA9IDBdID0gXCJSb3V0ZVwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiQ29tcG9zaXRlU2VnbWVudFwiXSA9IDFdID0gXCJDb21wb3NpdGVTZWdtZW50XCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJTY29wZWRTZWdtZW50XCJdID0gMl0gPSBcIlNjb3BlZFNlZ21lbnRcIjtcbiAgICBFeHByZXNzaW9uS2luZFtFeHByZXNzaW9uS2luZFtcIlNlZ21lbnRHcm91cFwiXSA9IDNdID0gXCJTZWdtZW50R3JvdXBcIjtcbiAgICBFeHByZXNzaW9uS2luZFtFeHByZXNzaW9uS2luZFtcIlNlZ21lbnRcIl0gPSA0XSA9IFwiU2VnbWVudFwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiQ29tcG9uZW50XCJdID0gNV0gPSBcIkNvbXBvbmVudFwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiQWN0aW9uXCJdID0gNl0gPSBcIkFjdGlvblwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiVmlld3BvcnRcIl0gPSA3XSA9IFwiVmlld3BvcnRcIjtcbiAgICBFeHByZXNzaW9uS2luZFtFeHByZXNzaW9uS2luZFtcIlBhcmFtZXRlckxpc3RcIl0gPSA4XSA9IFwiUGFyYW1ldGVyTGlzdFwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiUGFyYW1ldGVyXCJdID0gOV0gPSBcIlBhcmFtZXRlclwiO1xufSkoRXhwcmVzc2lvbktpbmQgfHwgKEV4cHJlc3Npb25LaW5kID0ge30pKTtcbmNvbnN0IGZyYWdtZW50Um91dGVFeHByZXNzaW9uQ2FjaGUgPSBuZXcgTWFwKCk7XG5jb25zdCByb3V0ZUV4cHJlc3Npb25DYWNoZSA9IG5ldyBNYXAoKTtcbmV4cG9ydCBjbGFzcyBSb3V0ZUV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKHJhdywgaXNBYnNvbHV0ZSwgcm9vdCwgcXVlcnlQYXJhbXMsIGZyYWdtZW50LCBmcmFnbWVudElzUm91dGUpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXc7XG4gICAgICAgIHRoaXMuaXNBYnNvbHV0ZSA9IGlzQWJzb2x1dGU7XG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSBxdWVyeVBhcmFtcztcbiAgICAgICAgdGhpcy5mcmFnbWVudCA9IGZyYWdtZW50O1xuICAgICAgICB0aGlzLmZyYWdtZW50SXNSb3V0ZSA9IGZyYWdtZW50SXNSb3V0ZTtcbiAgICB9XG4gICAgZ2V0IGtpbmQoKSB7IHJldHVybiAwIC8qIFJvdXRlICovOyB9XG4gICAgc3RhdGljIHBhcnNlKHBhdGgsIGZyYWdtZW50SXNSb3V0ZSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IGZyYWdtZW50SXNSb3V0ZSA/IGZyYWdtZW50Um91dGVFeHByZXNzaW9uQ2FjaGUgOiByb3V0ZUV4cHJlc3Npb25DYWNoZTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGNhY2hlLmdldChwYXRoKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjYWNoZS5zZXQocGF0aCwgcmVzdWx0ID0gUm91dGVFeHByZXNzaW9uLiRwYXJzZShwYXRoLCBmcmFnbWVudElzUm91dGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzdGF0aWMgJHBhcnNlKHBhdGgsIGZyYWdtZW50SXNSb3V0ZSkge1xuICAgICAgICAvLyBGaXJzdCBzdHJpcCBvZmYgdGhlIGZyYWdtZW50IChhbmQgaWYgZnJhZ21lbnQgc2hvdWxkIGJlIHVzZWQgYXMgcm91dGUsIHNldCBpdCBhcyB0aGUgcGF0aClcbiAgICAgICAgbGV0IGZyYWdtZW50O1xuICAgICAgICBjb25zdCBmcmFnbWVudFN0YXJ0ID0gcGF0aC5pbmRleE9mKCcjJyk7XG4gICAgICAgIGlmIChmcmFnbWVudFN0YXJ0ID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJhd0ZyYWdtZW50ID0gcGF0aC5zbGljZShmcmFnbWVudFN0YXJ0ICsgMSk7XG4gICAgICAgICAgICBmcmFnbWVudCA9IGRlY29kZVVSSUNvbXBvbmVudChyYXdGcmFnbWVudCk7XG4gICAgICAgICAgICBpZiAoZnJhZ21lbnRJc1JvdXRlKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IGZyYWdtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IHBhdGguc2xpY2UoMCwgZnJhZ21lbnRTdGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZnJhZ21lbnRJc1JvdXRlKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhZ21lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0cmlwIG9mZiBhbmQgcGFyc2UgdGhlIHF1ZXJ5IHN0cmluZyB1c2luZyBidWlsdC1pbiBVUkxTZWFyY2hQYXJhbXMuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtcyA9IG51bGw7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RhcnQgPSBwYXRoLmluZGV4T2YoJz8nKTtcbiAgICAgICAgaWYgKHF1ZXJ5U3RhcnQgPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBwYXRoLnNsaWNlKHF1ZXJ5U3RhcnQgKyAxKTtcbiAgICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKDAsIHF1ZXJ5U3RhcnQpO1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHF1ZXJ5U3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aCA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUm91dGVFeHByZXNzaW9uKCcnLCBmYWxzZSwgU2VnbWVudEV4cHJlc3Npb24uRU1QVFksIE9iamVjdC5mcmVlemUocXVlcnlQYXJhbXMgIT09IG51bGwgJiYgcXVlcnlQYXJhbXMgIT09IHZvaWQgMCA/IHF1ZXJ5UGFyYW1zIDogbmV3IFVSTFNlYXJjaFBhcmFtcygpKSwgZnJhZ21lbnQsIGZyYWdtZW50SXNSb3V0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICogTm93IHBhcnNlIHRoZSBhY3R1YWwgcm91dGVcbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZXM6XG4gICAgICAgICAqIEEgTlQtTmFtZSBhcyBwZXIgRE9NIGxldmVsIDI6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi8xOTk4L1JFQy14bWwtMTk5ODAyMTAjTlQtTmFtZVxuICAgICAgICAgKiAgWzRdICBOYW1lQ2hhciA6Oj0gTGV0dGVyIHwgRGlnaXQgfCAnLicgfCAnLScgfCAnXycgfCAnOicgfCBDb21iaW5pbmdDaGFyIHwgRXh0ZW5kZXJcbiAgICAgICAgICogIFs1XSAgTmFtZSAgICAgOjo9IChMZXR0ZXIgfCAnXycgfCAnOicpIChOYW1lQ2hhcikqXG4gICAgICAgICAqXG4gICAgICAgICAqIEFzIHBlciBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybC1jb2RlLXBvaW50cyAtIFVSTCBjb2RlIHBvaW50cyAoZnJvbSB0aGUgQVNDSUkgcmFuZ2UpIGFyZTpcbiAgICAgICAgICogYS16QS1aMC05ISQmJygpKissLS4vOjs9P0BfflxuICAgICAgICAgKiBUaGUgb3RoZXIgdmFsaWQgb3B0aW9uIGlzIGEgJSBmb2xsb3dlZCBieSB0d28gQVNDSUkgaGV4IGRpZ2l0c1xuICAgICAgICAgKiBBbnl0aGluZyBlbHNlIGlzIGludmFsaWQuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBzdGF0ZSA9IG5ldyBQYXJzZXJTdGF0ZShwYXRoKTtcbiAgICAgICAgc3RhdGUucmVjb3JkKCk7XG4gICAgICAgIGNvbnN0IGlzQWJzb2x1dGUgPSBzdGF0ZS5jb25zdW1lT3B0aW9uYWwoJy8nKTtcbiAgICAgICAgY29uc3Qgcm9vdCA9IENvbXBvc2l0ZVNlZ21lbnRFeHByZXNzaW9uLnBhcnNlKHN0YXRlKTtcbiAgICAgICAgc3RhdGUuZW5zdXJlRG9uZSgpO1xuICAgICAgICBjb25zdCByYXcgPSBzdGF0ZS5wbGF5YmFjaygpO1xuICAgICAgICByZXR1cm4gbmV3IFJvdXRlRXhwcmVzc2lvbihyYXcsIGlzQWJzb2x1dGUsIHJvb3QsIE9iamVjdC5mcmVlemUocXVlcnlQYXJhbXMgIT09IG51bGwgJiYgcXVlcnlQYXJhbXMgIT09IHZvaWQgMCA/IHF1ZXJ5UGFyYW1zIDogbmV3IFVSTFNlYXJjaFBhcmFtcygpKSwgZnJhZ21lbnQsIGZyYWdtZW50SXNSb3V0ZSk7XG4gICAgfVxuICAgIHRvSW5zdHJ1Y3Rpb25UcmVlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3cG9ydEluc3RydWN0aW9uVHJlZShvcHRpb25zLCB0aGlzLmlzQWJzb2x1dGUsIHRoaXMucm9vdC50b0luc3RydWN0aW9ucyhvcHRpb25zLmFwcGVuZCwgMCwgMCksIHRoaXMucXVlcnlQYXJhbXMsIHRoaXMuZnJhZ21lbnQpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3O1xuICAgIH1cbn1cbi8qKlxuICogQSBzaW5nbGUgJ3RyYWRpdGlvbmFsJyAoc2xhc2gtc2VwYXJhdGVkKSBzZWdtZW50IGNvbnNpc3Rpbmcgb2Ygb25lIG9yIG1vcmUgc2libGluZyBzZWdtZW50cy5cbiAqXG4gKiAjIyMgVmFyaWF0aW9uczpcbiAqXG4gKiAxOiBgYStiYFxuICogLSBzaWJsaW5nczogW2BhYCwgYGJgXVxuICogLSBhcHBlbmQ6IGBmYWxzZWBcbiAqXG4gKiAyOiBgK2FgXG4gKiAtIHNpYmxpbmdzOiBbYGFgXVxuICogLSBhcHBlbmQ6IGB0cnVlYFxuICpcbiAqIDM6IGArYSthYFxuICogLSBzaWJsaW5nczogW2BhYCwgYGJgXVxuICogLSBhcHBlbmQ6IGB0cnVlYFxuICpcbiAqIFdoZXJlXG4gKiAtIGEgPSBgQ29tcG9zaXRlU2VnbWVudEV4cHJlc3Npb25PckhpZ2hlcmAgKGBTZWdtZW50RXhwcmVzc2lvbiB8IFNlZ21lbnRHcm91cEV4cHJlc3Npb24gfCBTY29wZWRTZWdtZW50RXhwcmVzc2lvbiB8IENvbXBvc2l0ZVNlZ21lbnRFeHByZXNzaW9uYClcbiAqIC0gYiA9IGBDb21wb3NpdGVTZWdtZW50RXhwcmVzc2lvbk9ySGlnaGVyYCAoYFNlZ21lbnRFeHByZXNzaW9uIHwgU2VnbWVudEdyb3VwRXhwcmVzc2lvbiB8IFNjb3BlZFNlZ21lbnRFeHByZXNzaW9uIHwgQ29tcG9zaXRlU2VnbWVudEV4cHJlc3Npb25gKVxuICovXG5leHBvcnQgY2xhc3MgQ29tcG9zaXRlU2VnbWVudEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKHJhdywgc2libGluZ3MsIGFwcGVuZCkge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdztcbiAgICAgICAgdGhpcy5zaWJsaW5ncyA9IHNpYmxpbmdzO1xuICAgICAgICB0aGlzLmFwcGVuZCA9IGFwcGVuZDtcbiAgICB9XG4gICAgZ2V0IGtpbmQoKSB7IHJldHVybiAxIC8qIENvbXBvc2l0ZVNlZ21lbnQgKi87IH1cbiAgICBzdGF0aWMgcGFyc2Uoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUucmVjb3JkKCk7XG4gICAgICAgIC8vIElmIGEgc2VnbWVudCBzdGFydHMgd2l0aCAnKycsIGUuZy4gJy8rYScgLyAnLythQHZwJyAvICcvYS8rYicgLyAnLythK2InIGV0YywgdGhlbiBpdHMgc2libGluZ3NcbiAgICAgICAgLy8gYXJlIGNvbnNpZGVyZWQgdG8gYmUgXCJhcHBlbmRcIlxuICAgICAgICBjb25zdCBhcHBlbmQgPSBzdGF0ZS5jb25zdW1lT3B0aW9uYWwoJysnKTtcbiAgICAgICAgY29uc3Qgc2libGluZ3MgPSBbXTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgc2libGluZ3MucHVzaChTY29wZWRTZWdtZW50RXhwcmVzc2lvbi5wYXJzZShzdGF0ZSkpO1xuICAgICAgICB9IHdoaWxlIChzdGF0ZS5jb25zdW1lT3B0aW9uYWwoJysnKSk7XG4gICAgICAgIGlmICghYXBwZW5kICYmIHNpYmxpbmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgc3RhdGUuZGlzY2FyZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmdzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJhdyA9IHN0YXRlLnBsYXliYWNrKCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9zaXRlU2VnbWVudEV4cHJlc3Npb24ocmF3LCBzaWJsaW5ncywgYXBwZW5kKTtcbiAgICB9XG4gICAgdG9JbnN0cnVjdGlvbnMoYXBwZW5kLCBvcGVuLCBjbG9zZSkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc2libGluZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNpYmxpbmdzWzBdLnRvSW5zdHJ1Y3Rpb25zKGFwcGVuZCwgb3BlbiwgY2xvc2UpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuc2libGluZ3NbMF0udG9JbnN0cnVjdGlvbnMoYXBwZW5kLCBvcGVuLCAwKSxcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5zaWJsaW5nc1sxXS50b0luc3RydWN0aW9ucyhhcHBlbmQsIDAsIGNsb3NlKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnNpYmxpbmdzWzBdLnRvSW5zdHJ1Y3Rpb25zKGFwcGVuZCwgb3BlbiwgMCksXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuc2libGluZ3Muc2xpY2UoMSwgLTEpLmZsYXRNYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB4LnRvSW5zdHJ1Y3Rpb25zKGFwcGVuZCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnNpYmxpbmdzW3RoaXMuc2libGluZ3MubGVuZ3RoIC0gMV0udG9JbnN0cnVjdGlvbnMoYXBwZW5kLCAwLCBjbG9zZSksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3O1xuICAgIH1cbn1cbi8qKlxuICogVGhlIChzaW5nbGUpIGxlZnQtaGFuZCBzaWRlIGFuZCB0aGUgKG9uZSBvciBtb3JlKSByaWdodC1oYW5kIHNpZGUgb2YgYSBzbGFzaC1zZXBhcmF0ZWQgc2VnbWVudC5cbiAqXG4gKiBWYXJpYXRpb25zOlxuICpcbiAqIDE6IGBhL2JgXG4gKiAtIGxlZnQ6IGBhYFxuICogLSByaWdodDogYGJgXG4gKlxuICogV2hlcmVcbiAqIC0gYSA9IGBTZWdtZW50R3JvdXBFeHByZXNzaW9uT3JIaWdoZXJgIChgU2VnbWVudEV4cHJlc3Npb24gfCBTZWdtZW50R3JvdXBFeHByZXNzaW9uYClcbiAqIC0gYiA9IGBTY29wZWRTZWdtZW50RXhwcmVzc2lvbk9ySGlnaGVyYCAoYFNlZ21lbnRFeHByZXNzaW9uIHwgU2VnbWVudEdyb3VwRXhwcmVzc2lvbiB8IFNjb3BlZFNlZ21lbnRFeHByZXNzaW9uYClcbiAqL1xuZXhwb3J0IGNsYXNzIFNjb3BlZFNlZ21lbnRFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcsIGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3O1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgfVxuICAgIGdldCBraW5kKCkgeyByZXR1cm4gMiAvKiBTY29wZWRTZWdtZW50ICovOyB9XG4gICAgc3RhdGljIHBhcnNlKHN0YXRlKSB7XG4gICAgICAgIHN0YXRlLnJlY29yZCgpO1xuICAgICAgICBjb25zdCBsZWZ0ID0gU2VnbWVudEdyb3VwRXhwcmVzc2lvbi5wYXJzZShzdGF0ZSk7XG4gICAgICAgIGlmIChzdGF0ZS5jb25zdW1lT3B0aW9uYWwoJy8nKSkge1xuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBTY29wZWRTZWdtZW50RXhwcmVzc2lvbi5wYXJzZShzdGF0ZSk7XG4gICAgICAgICAgICBjb25zdCByYXcgPSBzdGF0ZS5wbGF5YmFjaygpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTY29wZWRTZWdtZW50RXhwcmVzc2lvbihyYXcsIGxlZnQsIHJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5kaXNjYXJkKCk7XG4gICAgICAgIHJldHVybiBsZWZ0O1xuICAgIH1cbiAgICB0b0luc3RydWN0aW9ucyhhcHBlbmQsIG9wZW4sIGNsb3NlKSB7XG4gICAgICAgIGNvbnN0IGxlZnRJbnN0cnVjdGlvbnMgPSB0aGlzLmxlZnQudG9JbnN0cnVjdGlvbnMoYXBwZW5kLCBvcGVuLCAwKTtcbiAgICAgICAgY29uc3QgcmlnaHRJbnN0cnVjdGlvbnMgPSB0aGlzLnJpZ2h0LnRvSW5zdHJ1Y3Rpb25zKGZhbHNlLCAwLCBjbG9zZSk7XG4gICAgICAgIGxldCBjdXIgPSBsZWZ0SW5zdHJ1Y3Rpb25zW2xlZnRJbnN0cnVjdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIHdoaWxlIChjdXIuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY3VyID0gY3VyLmNoaWxkcmVuW2N1ci5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBjdXIuY2hpbGRyZW4ucHVzaCguLi5yaWdodEluc3RydWN0aW9ucyk7XG4gICAgICAgIHJldHVybiBsZWZ0SW5zdHJ1Y3Rpb25zO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3O1xuICAgIH1cbn1cbi8qKlxuICogQW55IGtpbmQgb2Ygc2VnbWVudCB3cmFwcGVkIGluIHBhcmVudGhlc2VzLCBpbmNyZWFzaW5nIGl0cyBwcmVjZWRlbmNlLlxuICogU3BlY2lmaWNhbGx5LCB0aGUgcGFyZW50aGVzZXMgYXJlIG5lZWRlZCB0byBkZWVwbHkgc3BlY2lmeSBzY29wZWQgc2libGluZ3MuXG4gKiBUaGUgcHJlY2VkZW5jZSBpcyBpbnRlbnRpb25hbGx5IHNpbWlsYXIgdG8gdGhlIGZhbWlsaWFyIG1hdGhlbWF0aWNhbCBgL2AgYW5kIGArYCBvcGVyYXRvcnMuXG4gKlxuICogRm9yIGV4YW1wbGUsIGNvbnNpZGVyIHRoaXMgdmlld3BvcnQgc3RydWN0dXJlOlxuICogLSB2aWV3cG9ydC1hXG4gKiAtIC0gdmlld3BvcnQtYTFcbiAqIC0gLSB2aWV3cG9ydC1hMlxuICogLSB2aWV3cG9ydC1iXG4gKiAtIC0gdmlld3BvcnQtYjFcbiAqXG4gKiBUaGlzIGNhbiBvbmx5IGJlIGRlZXBseSBzcGVjaWZpZWQgYnkgdXNpbmcgdGhlIGdyb3VwaW5nIG9wZXJhdG9yOiBgYS8oYTErYTIpK2IvYjFgXG4gKlxuICogQmVjYXVzZSBgYS9hMSthMitiL2IxYCB3b3VsZCBiZSBpbnRlcnByZXRlZCBkaWZmZXJlbnRseTpcbiAqIC0gdmlld3BvcnQtYVxuICogLSAtIHZpZXdwb3J0LWExXG4gKiAtIHZpZXdwb3J0LWEyXG4gKiAtIHZpZXdwb3J0LWJcbiAqIC0gLSB2aWV3cG9ydC1iMVxuICpcbiAqICMjIyBWYXJpYXRpb25zOlxuICpcbiAqIDE6IGAoYSlgXG4gKiAtIGV4cHJlc3Npb246IGBhYFxuICpcbiAqIFdoZXJlXG4gKiAtIGEgPSBgQ29tcG9zaXRlU2VnbWVudEV4cHJlc3Npb25PckhpZ2hlcmAgKGBTZWdtZW50RXhwcmVzc2lvbiB8IFNlZ21lbnRHcm91cEV4cHJlc3Npb24gfCBTY29wZWRTZWdtZW50RXhwcmVzc2lvbiB8IENvbXBvc2l0ZVNlZ21lbnRFeHByZXNzaW9uYClcbiAqL1xuZXhwb3J0IGNsYXNzIFNlZ21lbnRHcm91cEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKHJhdywgZXhwcmVzc2lvbikge1xuICAgICAgICB0aGlzLnJhdyA9IHJhdztcbiAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcbiAgICB9XG4gICAgZ2V0IGtpbmQoKSB7IHJldHVybiAzIC8qIFNlZ21lbnRHcm91cCAqLzsgfVxuICAgIHN0YXRpYyBwYXJzZShzdGF0ZSkge1xuICAgICAgICBzdGF0ZS5yZWNvcmQoKTtcbiAgICAgICAgaWYgKHN0YXRlLmNvbnN1bWVPcHRpb25hbCgnKCcpKSB7XG4gICAgICAgICAgICBjb25zdCBleHByZXNzaW9uID0gQ29tcG9zaXRlU2VnbWVudEV4cHJlc3Npb24ucGFyc2Uoc3RhdGUpO1xuICAgICAgICAgICAgc3RhdGUuY29uc3VtZSgnKScpO1xuICAgICAgICAgICAgY29uc3QgcmF3ID0gc3RhdGUucGxheWJhY2soKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2VnbWVudEdyb3VwRXhwcmVzc2lvbihyYXcsIGV4cHJlc3Npb24pO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmRpc2NhcmQoKTtcbiAgICAgICAgcmV0dXJuIFNlZ21lbnRFeHByZXNzaW9uLnBhcnNlKHN0YXRlKTtcbiAgICB9XG4gICAgdG9JbnN0cnVjdGlvbnMoYXBwZW5kLCBvcGVuLCBjbG9zZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHByZXNzaW9uLnRvSW5zdHJ1Y3Rpb25zKGFwcGVuZCwgb3BlbiArIDEsIGNsb3NlICsgMSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXc7XG4gICAgfVxufVxuLyoqXG4gKiBBIChub24tY29tcG9zaXRlKSBzZWdtZW50IHNwZWNpZnlpbmcgYSBzaW5nbGUgY29tcG9uZW50IGFuZCAob3B0aW9uYWwpIHZpZXdwb3J0IC8gYWN0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgU2VnbWVudEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKHJhdywgY29tcG9uZW50LCBhY3Rpb24sIHZpZXdwb3J0LCBzY29wZWQpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXc7XG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0O1xuICAgICAgICB0aGlzLnNjb3BlZCA9IHNjb3BlZDtcbiAgICB9XG4gICAgZ2V0IGtpbmQoKSB7IHJldHVybiA0IC8qIFNlZ21lbnQgKi87IH1cbiAgICBzdGF0aWMgZ2V0IEVNUFRZKCkgeyByZXR1cm4gbmV3IFNlZ21lbnRFeHByZXNzaW9uKCcnLCBDb21wb25lbnRFeHByZXNzaW9uLkVNUFRZLCBBY3Rpb25FeHByZXNzaW9uLkVNUFRZLCBWaWV3cG9ydEV4cHJlc3Npb24uRU1QVFksIHRydWUpOyB9XG4gICAgc3RhdGljIHBhcnNlKHN0YXRlKSB7XG4gICAgICAgIHN0YXRlLnJlY29yZCgpO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBDb21wb25lbnRFeHByZXNzaW9uLnBhcnNlKHN0YXRlKTtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gQWN0aW9uRXhwcmVzc2lvbi5wYXJzZShzdGF0ZSk7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gVmlld3BvcnRFeHByZXNzaW9uLnBhcnNlKHN0YXRlKTtcbiAgICAgICAgY29uc3Qgc2NvcGVkID0gIXN0YXRlLmNvbnN1bWVPcHRpb25hbCgnIScpO1xuICAgICAgICBjb25zdCByYXcgPSBzdGF0ZS5wbGF5YmFjaygpO1xuICAgICAgICByZXR1cm4gbmV3IFNlZ21lbnRFeHByZXNzaW9uKHJhdywgY29tcG9uZW50LCBhY3Rpb24sIHZpZXdwb3J0LCBzY29wZWQpO1xuICAgIH1cbiAgICB0b0luc3RydWN0aW9ucyhhcHBlbmQsIG9wZW4sIGNsb3NlKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBWaWV3cG9ydEluc3RydWN0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLmNvbXBvbmVudC5uYW1lLFxuICAgICAgICAgICAgICAgIHBhcmFtczogdGhpcy5jb21wb25lbnQucGFyYW1ldGVyTGlzdC50b09iamVjdCgpLFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0OiB0aGlzLnZpZXdwb3J0Lm5hbWUsXG4gICAgICAgICAgICAgICAgYXBwZW5kLFxuICAgICAgICAgICAgICAgIG9wZW4sXG4gICAgICAgICAgICAgICAgY2xvc2UsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ29tcG9uZW50RXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IocmF3LCBuYW1lLCBwYXJhbWV0ZXJMaXN0KSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3O1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnBhcmFtZXRlckxpc3QgPSBwYXJhbWV0ZXJMaXN0O1xuICAgICAgICBzd2l0Y2ggKG5hbWUuY2hhckF0KDApKSB7XG4gICAgICAgICAgICBjYXNlICc6JzpcbiAgICAgICAgICAgICAgICB0aGlzLmlzUGFyYW1ldGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU3RhciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNEeW5hbWljID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtZXRlck5hbWUgPSBuYW1lLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnKic6XG4gICAgICAgICAgICAgICAgdGhpcy5pc1BhcmFtZXRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTdGFyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRHluYW1pYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJOYW1lID0gbmFtZS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5pc1BhcmFtZXRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTdGFyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0R5bmFtaWMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtZXRlck5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBraW5kKCkgeyByZXR1cm4gNSAvKiBDb21wb25lbnQgKi87IH1cbiAgICBzdGF0aWMgZ2V0IEVNUFRZKCkgeyByZXR1cm4gbmV3IENvbXBvbmVudEV4cHJlc3Npb24oJycsICcnLCBQYXJhbWV0ZXJMaXN0RXhwcmVzc2lvbi5FTVBUWSk7IH1cbiAgICBzdGF0aWMgcGFyc2Uoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUucmVjb3JkKCk7XG4gICAgICAgIHN0YXRlLnJlY29yZCgpO1xuICAgICAgICBpZiAoIXN0YXRlLmRvbmUpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5zdGFydHNXaXRoKCcuLycpKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWR2YW5jZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuc3RhcnRzV2l0aCgnLi4vJykpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWR2YW5jZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCFzdGF0ZS5kb25lICYmICFzdGF0ZS5zdGFydHNXaXRoKC4uLnRlcm1pbmFsKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoc3RhdGUucGxheWJhY2soKSk7XG4gICAgICAgIGlmIChuYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc3RhdGUuZXhwZWN0KCdjb21wb25lbnQgbmFtZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlckxpc3QgPSBQYXJhbWV0ZXJMaXN0RXhwcmVzc2lvbi5wYXJzZShzdGF0ZSk7XG4gICAgICAgIGNvbnN0IHJhdyA9IHN0YXRlLnBsYXliYWNrKCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50RXhwcmVzc2lvbihyYXcsIG5hbWUsIHBhcmFtZXRlckxpc3QpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBY3Rpb25FeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcsIG5hbWUsIHBhcmFtZXRlckxpc3QpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXc7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyTGlzdCA9IHBhcmFtZXRlckxpc3Q7XG4gICAgfVxuICAgIGdldCBraW5kKCkgeyByZXR1cm4gNiAvKiBBY3Rpb24gKi87IH1cbiAgICBzdGF0aWMgZ2V0IEVNUFRZKCkgeyByZXR1cm4gbmV3IEFjdGlvbkV4cHJlc3Npb24oJycsICcnLCBQYXJhbWV0ZXJMaXN0RXhwcmVzc2lvbi5FTVBUWSk7IH1cbiAgICBzdGF0aWMgcGFyc2Uoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUucmVjb3JkKCk7XG4gICAgICAgIGxldCBuYW1lID0gJyc7XG4gICAgICAgIGlmIChzdGF0ZS5jb25zdW1lT3B0aW9uYWwoJy4nKSkge1xuICAgICAgICAgICAgc3RhdGUucmVjb3JkKCk7XG4gICAgICAgICAgICB3aGlsZSAoIXN0YXRlLmRvbmUgJiYgIXN0YXRlLnN0YXJ0c1dpdGgoLi4udGVybWluYWwpKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWR2YW5jZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChzdGF0ZS5wbGF5YmFjaygpKTtcbiAgICAgICAgICAgIGlmIChuYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmV4cGVjdCgnbWV0aG9kIG5hbWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbWV0ZXJMaXN0ID0gUGFyYW1ldGVyTGlzdEV4cHJlc3Npb24ucGFyc2Uoc3RhdGUpO1xuICAgICAgICBjb25zdCByYXcgPSBzdGF0ZS5wbGF5YmFjaygpO1xuICAgICAgICByZXR1cm4gbmV3IEFjdGlvbkV4cHJlc3Npb24ocmF3LCBuYW1lLCBwYXJhbWV0ZXJMaXN0KTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVmlld3BvcnRFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5yYXcgPSByYXc7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIGdldCBraW5kKCkgeyByZXR1cm4gNyAvKiBWaWV3cG9ydCAqLzsgfVxuICAgIHN0YXRpYyBnZXQgRU1QVFkoKSB7IHJldHVybiBuZXcgVmlld3BvcnRFeHByZXNzaW9uKCcnLCAnJyk7IH1cbiAgICBzdGF0aWMgcGFyc2Uoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUucmVjb3JkKCk7XG4gICAgICAgIGxldCBuYW1lID0gJyc7XG4gICAgICAgIGlmIChzdGF0ZS5jb25zdW1lT3B0aW9uYWwoJ0AnKSkge1xuICAgICAgICAgICAgc3RhdGUucmVjb3JkKCk7XG4gICAgICAgICAgICB3aGlsZSAoIXN0YXRlLmRvbmUgJiYgIXN0YXRlLnN0YXJ0c1dpdGgoLi4udGVybWluYWwpKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWR2YW5jZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChzdGF0ZS5wbGF5YmFjaygpKTtcbiAgICAgICAgICAgIGlmIChuYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmV4cGVjdCgndmlld3BvcnQgbmFtZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJhdyA9IHN0YXRlLnBsYXliYWNrKCk7XG4gICAgICAgIHJldHVybiBuZXcgVmlld3BvcnRFeHByZXNzaW9uKHJhdywgbmFtZSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXc7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBhcmFtZXRlckxpc3RFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcsIGV4cHJlc3Npb25zKSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3O1xuICAgICAgICB0aGlzLmV4cHJlc3Npb25zID0gZXhwcmVzc2lvbnM7XG4gICAgfVxuICAgIGdldCBraW5kKCkgeyByZXR1cm4gOCAvKiBQYXJhbWV0ZXJMaXN0ICovOyB9XG4gICAgc3RhdGljIGdldCBFTVBUWSgpIHsgcmV0dXJuIG5ldyBQYXJhbWV0ZXJMaXN0RXhwcmVzc2lvbignJywgW10pOyB9XG4gICAgc3RhdGljIHBhcnNlKHN0YXRlKSB7XG4gICAgICAgIHN0YXRlLnJlY29yZCgpO1xuICAgICAgICBjb25zdCBleHByZXNzaW9ucyA9IFtdO1xuICAgICAgICBpZiAoc3RhdGUuY29uc3VtZU9wdGlvbmFsKCcoJykpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKFBhcmFtZXRlckV4cHJlc3Npb24ucGFyc2Uoc3RhdGUsIGV4cHJlc3Npb25zLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdGUuY29uc3VtZU9wdGlvbmFsKCcsJykpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoIXN0YXRlLmRvbmUgJiYgIXN0YXRlLnN0YXJ0c1dpdGgoJyknKSk7XG4gICAgICAgICAgICBzdGF0ZS5jb25zdW1lKCcpJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3ID0gc3RhdGUucGxheWJhY2soKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJhbWV0ZXJMaXN0RXhwcmVzc2lvbihyYXcsIGV4cHJlc3Npb25zKTtcbiAgICB9XG4gICAgdG9PYmplY3QoKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGV4cHIgb2YgdGhpcy5leHByZXNzaW9ucykge1xuICAgICAgICAgICAgcGFyYW1zW2V4cHIua2V5XSA9IGV4cHIudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUGFyYW1ldGVyRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IocmF3LCBrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmF3ID0gcmF3O1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQga2luZCgpIHsgcmV0dXJuIDkgLyogUGFyYW1ldGVyICovOyB9XG4gICAgc3RhdGljIGdldCBFTVBUWSgpIHsgcmV0dXJuIG5ldyBQYXJhbWV0ZXJFeHByZXNzaW9uKCcnLCAnJywgJycpOyB9XG4gICAgc3RhdGljIHBhcnNlKHN0YXRlLCBpbmRleCkge1xuICAgICAgICBzdGF0ZS5yZWNvcmQoKTtcbiAgICAgICAgc3RhdGUucmVjb3JkKCk7XG4gICAgICAgIHdoaWxlICghc3RhdGUuZG9uZSAmJiAhc3RhdGUuc3RhcnRzV2l0aCguLi50ZXJtaW5hbCkpIHtcbiAgICAgICAgICAgIHN0YXRlLmFkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQga2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KHN0YXRlLnBsYXliYWNrKCkpO1xuICAgICAgICBpZiAoa2V5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc3RhdGUuZXhwZWN0KCdwYXJhbWV0ZXIga2V5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBpZiAoc3RhdGUuY29uc3VtZU9wdGlvbmFsKCc9JykpIHtcbiAgICAgICAgICAgIHN0YXRlLnJlY29yZCgpO1xuICAgICAgICAgICAgd2hpbGUgKCFzdGF0ZS5kb25lICYmICFzdGF0ZS5zdGFydHNXaXRoKC4uLnRlcm1pbmFsKSkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KHN0YXRlLnBsYXliYWNrKCkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmV4cGVjdCgncGFyYW1ldGVyIHZhbHVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtleTtcbiAgICAgICAgICAgIGtleSA9IGluZGV4LnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3ID0gc3RhdGUucGxheWJhY2soKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJhbWV0ZXJFeHByZXNzaW9uKHJhdywga2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXc7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEFTVCA9IE9iamVjdC5mcmVlemUoe1xuICAgIFJvdXRlRXhwcmVzc2lvbixcbiAgICBDb21wb3NpdGVTZWdtZW50RXhwcmVzc2lvbixcbiAgICBTY29wZWRTZWdtZW50RXhwcmVzc2lvbixcbiAgICBTZWdtZW50R3JvdXBFeHByZXNzaW9uLFxuICAgIFNlZ21lbnRFeHByZXNzaW9uLFxuICAgIENvbXBvbmVudEV4cHJlc3Npb24sXG4gICAgQWN0aW9uRXhwcmVzc2lvbixcbiAgICBWaWV3cG9ydEV4cHJlc3Npb24sXG4gICAgUGFyYW1ldGVyTGlzdEV4cHJlc3Npb24sXG4gICAgUGFyYW1ldGVyRXhwcmVzc2lvbixcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm91dGUtZXhwcmVzc2lvbi5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/route-expression.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/route-tree.js":
/*!*************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/route-tree.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RouteNode\": () => (/* binding */ RouteNode),\n/* harmony export */   \"RouteTree\": () => (/* binding */ RouteTree),\n/* harmony export */   \"updateRouteTree\": () => (/* binding */ updateRouteTree),\n/* harmony export */   \"processResidue\": () => (/* binding */ processResidue),\n/* harmony export */   \"getDynamicChildren\": () => (/* binding */ getDynamicChildren),\n/* harmony export */   \"createAndAppendNodes\": () => (/* binding */ createAndAppendNodes)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./router.js */ \"./node_modules/@aurelia/router/dist/esm/router.js\");\n/* harmony import */ var _instructions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./instructions.js */ \"./node_modules/@aurelia/router/dist/esm/instructions.js\");\n/* harmony import */ var _route_definition_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./route-definition.js */ \"./node_modules/@aurelia/router/dist/esm/route-definition.js\");\n/* harmony import */ var _viewport_agent_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./viewport-agent.js */ \"./node_modules/@aurelia/router/dist/esm/viewport-agent.js\");\n/* harmony import */ var _route_expression_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./route-expression.js */ \"./node_modules/@aurelia/router/dist/esm/route-expression.js\");\n/* eslint-disable @typescript-eslint/restrict-template-expressions */\n\n\n\n\n\n\n\nlet nodeId = 0;\nclass RouteNode {\n    constructor(\n    /** @internal */\n    id, \n    /**\n     * The original configured path pattern that was matched, or the component name if it was resolved via direct routing.\n     */\n    path, \n    /**\n     * If one or more redirects have occurred, then this is the final path match, in all other cases this is identical to `path`\n     */\n    finalPath, \n    /**\n     * The `RouteContext` associated with this route.\n     *\n     * Child route components will be created by this context.\n     *\n     * Viewports that live underneath the component associated with this route, will be registered to this context.\n     */\n    context, \n    /** @internal */\n    originalInstruction, \n    /** Can only be `null` for the composition root */\n    instruction, params, queryParams, fragment, data, \n    /**\n     * The viewport is always `null` for the root `RouteNode`.\n     *\n     * NOTE: It might make sense to have a `null` viewport mean other things as well (such as, don't load this component)\n     * but that is currently not a deliberately implemented feature and we might want to explicitly validate against it\n     * if we decide not to implement that.\n     */\n    viewport, title, component, append, children, \n    /**\n     * Not-yet-resolved viewport instructions.\n     *\n     * Instructions need an `IRouteContext` to be resolved into complete `RouteNode`s.\n     *\n     * Resolved instructions are removed from this array, such that a `RouteNode` can be considered\n     * \"fully resolved\" when it has `residue.length === 0` and `children.length >= 0`\n     */\n    residue) {\n        this.id = id;\n        this.path = path;\n        this.finalPath = finalPath;\n        this.context = context;\n        this.originalInstruction = originalInstruction;\n        this.instruction = instruction;\n        this.params = params;\n        this.queryParams = queryParams;\n        this.fragment = fragment;\n        this.data = data;\n        this.viewport = viewport;\n        this.title = title;\n        this.component = component;\n        this.append = append;\n        this.children = children;\n        this.residue = residue;\n        /** @internal */\n        this.version = 1;\n        this.originalInstruction = instruction;\n    }\n    get root() {\n        return this.tree.root;\n    }\n    static create(input) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        return new RouteNode(\n        /*          id */ ++nodeId, \n        /*        path */ input.path, \n        /*   finalPath */ input.finalPath, \n        /*     context */ input.context, \n        /* originalIns */ input.instruction, \n        /* instruction */ input.instruction, (_a = \n        /*      params */ input.params) !== null && _a !== void 0 ? _a : {}, (_b = \n        /* queryParams */ input.queryParams) !== null && _b !== void 0 ? _b : Object.freeze(new URLSearchParams()), (_c = \n        /*    fragment */ input.fragment) !== null && _c !== void 0 ? _c : null, (_d = \n        /*        data */ input.data) !== null && _d !== void 0 ? _d : {}, (_e = \n        /*    viewport */ input.viewport) !== null && _e !== void 0 ? _e : null, (_f = \n        /*       title */ input.title) !== null && _f !== void 0 ? _f : null, \n        /*   component */ input.component, \n        /*      append */ input.append, (_g = \n        /*    children */ input.children) !== null && _g !== void 0 ? _g : [], (_h = \n        /*     residue */ input.residue) !== null && _h !== void 0 ? _h : []);\n    }\n    contains(instructions) {\n        var _a, _b;\n        if (this.context === instructions.options.context) {\n            const nodeChildren = this.children;\n            const instructionChildren = instructions.children;\n            for (let i = 0, ii = nodeChildren.length; i < ii; ++i) {\n                for (let j = 0, jj = instructionChildren.length; j < jj; ++j) {\n                    if (i + j < ii && ((_b = (_a = nodeChildren[i + j].instruction) === null || _a === void 0 ? void 0 : _a.contains(instructionChildren[j])) !== null && _b !== void 0 ? _b : false)) {\n                        if (j + 1 === jj) {\n                            return true;\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        return this.children.some(function (x) {\n            return x.contains(instructions);\n        });\n    }\n    appendChild(child) {\n        this.children.push(child);\n        child.setTree(this.tree);\n    }\n    appendChildren(...children) {\n        for (const child of children) {\n            this.appendChild(child);\n        }\n    }\n    clearChildren() {\n        for (const c of this.children) {\n            c.clearChildren();\n            c.context.vpa.cancelUpdate();\n        }\n        this.children.length = 0;\n    }\n    getTitle(separator) {\n        const titleParts = [\n            ...this.children.map(x => x.getTitle(separator)),\n            this.getTitlePart(),\n        ].filter(x => x !== null);\n        if (titleParts.length === 0) {\n            return null;\n        }\n        return titleParts.join(separator);\n    }\n    getTitlePart() {\n        if (typeof this.title === 'function') {\n            return this.title.call(void 0, this);\n        }\n        return this.title;\n    }\n    computeAbsolutePath() {\n        if (this.context.isRoot) {\n            return '';\n        }\n        const parentPath = this.context.parent.node.computeAbsolutePath();\n        const thisPath = this.instruction.toUrlComponent(false);\n        if (parentPath.length > 0) {\n            if (thisPath.length > 0) {\n                return [parentPath, thisPath].join('/');\n            }\n            return parentPath;\n        }\n        return thisPath;\n    }\n    /** @internal */\n    setTree(tree) {\n        this.tree = tree;\n        for (const child of this.children) {\n            child.setTree(tree);\n        }\n    }\n    /** @internal */\n    finalizeInstruction() {\n        const children = this.children.map(x => x.finalizeInstruction());\n        const instruction = this.instruction.clone();\n        instruction.children.splice(0, instruction.children.length, ...children);\n        return this.instruction = instruction;\n    }\n    /** @internal */\n    clone() {\n        const clone = new RouteNode(this.id, this.path, this.finalPath, this.context, this.originalInstruction, this.instruction, { ...this.params }, { ...this.queryParams }, this.fragment, { ...this.data }, this.viewport, this.title, this.component, this.append, this.children.map(x => x.clone()), [...this.residue]);\n        clone.version = this.version + 1;\n        if (clone.context.node === this) {\n            clone.context.node = clone;\n        }\n        return clone;\n    }\n    toString() {\n        var _a, _b, _c, _d, _e;\n        const props = [];\n        const component = (_c = (_b = (_a = this.context) === null || _a === void 0 ? void 0 : _a.definition.component) === null || _b === void 0 ? void 0 : _b.name) !== null && _c !== void 0 ? _c : '';\n        if (component.length > 0) {\n            props.push(`c:'${component}'`);\n        }\n        const path = (_e = (_d = this.context) === null || _d === void 0 ? void 0 : _d.definition.config.path) !== null && _e !== void 0 ? _e : '';\n        if (path.length > 0) {\n            props.push(`path:'${path}'`);\n        }\n        if (this.children.length > 0) {\n            props.push(`children:[${this.children.map(String).join(',')}]`);\n        }\n        if (this.residue.length > 0) {\n            props.push(`residue:${this.residue.map(function (r) {\n                if (typeof r === 'string') {\n                    return `'${r}'`;\n                }\n                return String(r);\n            }).join(',')}`);\n        }\n        return `RN(ctx:'${this.context.friendlyPath}',${props.join(',')})`;\n    }\n}\nclass RouteTree {\n    constructor(options, queryParams, fragment, root) {\n        this.options = options;\n        this.queryParams = queryParams;\n        this.fragment = fragment;\n        this.root = root;\n    }\n    contains(instructions) {\n        return this.root.contains(instructions);\n    }\n    clone() {\n        const clone = new RouteTree(this.options.clone(), { ...this.queryParams }, this.fragment, this.root.clone());\n        clone.root.setTree(this);\n        return clone;\n    }\n    finalizeInstructions() {\n        return new _instructions_js__WEBPACK_IMPORTED_MODULE_3__.ViewportInstructionTree(this.options, true, this.root.children.map(x => x.finalizeInstruction()), this.queryParams, this.fragment);\n    }\n    toString() {\n        return this.root.toString();\n    }\n}\n/**\n * Returns a stateful `RouteTree` based on the provided context and transition.\n *\n * This expression will always start from the root context and build a new complete tree, up until (and including)\n * the context that was passed-in.\n *\n * If there are any additional child navigations to be resolved lazily, those will be added to the leaf\n * `RouteNode`s `residue` property which is then resolved by the router after the leaf node is loaded.\n *\n * This means that a `RouteTree` can (and often will) be built incrementally during the loading process.\n */\nfunction updateRouteTree(rt, vit, ctx) {\n    const log = ctx.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger).scopeTo('RouteTree');\n    // The root of the routing tree is always the CompositionRoot of the Aurelia app.\n    // From a routing perspective it's simply a \"marker\": it does not need to be loaded,\n    // nor put in a viewport, have its hooks invoked, or any of that. The router does not touch it,\n    // other than by reading (deps, optional route config, owned viewports) from it.\n    const rootCtx = ctx.root;\n    rt.options = vit.options;\n    rt.queryParams = vit.queryParams;\n    rt.fragment = vit.fragment;\n    if (vit.isAbsolute) {\n        ctx = rootCtx;\n    }\n    if (ctx === rootCtx) {\n        rt.root.setTree(rt);\n        rootCtx.node = rt.root;\n    }\n    const suffix = ctx.resolved instanceof Promise ? ' - awaiting promise' : '';\n    log.trace(`updateRouteTree(rootCtx:%s,rt:%s,vit:%s)${suffix}`, rootCtx, rt, vit);\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(ctx.resolved, () => {\n        return updateNode(log, vit, ctx, rootCtx.node);\n    });\n}\nfunction updateNode(log, vit, ctx, node) {\n    log.trace(`updateNode(ctx:%s,node:%s)`, ctx, node);\n    node.queryParams = vit.queryParams;\n    node.fragment = vit.fragment;\n    let maybePromise;\n    if (!node.context.isRoot) {\n        // TODO(fkleuver): store `options` on every individual instruction instead of just on the tree, or split it up etc? this needs a bit of cleaning up\n        maybePromise = node.context.vpa.scheduleUpdate(node.tree.options, node);\n    }\n    else {\n        maybePromise = void 0;\n    }\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(maybePromise, () => {\n        if (node.context === ctx) {\n            // Do an in-place update (remove children and re-add them by compiling the instructions into nodes)\n            node.clearChildren();\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolveAll)(...vit.children.map(vi => {\n                return createAndAppendNodes(log, node, vi, node.tree.options.append || vi.append);\n            })), () => {\n                return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolveAll)(...ctx.getAvailableViewportAgents('dynamic').map(vpa => {\n                    const defaultInstruction = _instructions_js__WEBPACK_IMPORTED_MODULE_3__.ViewportInstruction.create({\n                        component: vpa.viewport.default,\n                        viewport: vpa.viewport.name,\n                    });\n                    return createAndAppendNodes(log, node, defaultInstruction, node.append);\n                }));\n            });\n        }\n        // Drill down until we're at the node whose context matches the provided navigation context\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolveAll)(...node.children.map(child => {\n            return updateNode(log, vit, ctx, child);\n        }));\n    });\n}\nfunction processResidue(node) {\n    const ctx = node.context;\n    const log = ctx.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger).scopeTo('RouteTree');\n    const suffix = ctx.resolved instanceof Promise ? ' - awaiting promise' : '';\n    log.trace(`processResidue(node:%s)${suffix}`, node);\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(ctx.resolved, () => {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolveAll)(...node.residue.splice(0).map(vi => {\n            return createAndAppendNodes(log, node, vi, node.append);\n        }), ...ctx.getAvailableViewportAgents('static').map(vpa => {\n            const defaultInstruction = _instructions_js__WEBPACK_IMPORTED_MODULE_3__.ViewportInstruction.create({\n                component: vpa.viewport.default,\n                viewport: vpa.viewport.name,\n            });\n            return createAndAppendNodes(log, node, defaultInstruction, node.append);\n        }));\n    });\n}\nfunction getDynamicChildren(node) {\n    const ctx = node.context;\n    const log = ctx.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger).scopeTo('RouteTree');\n    const suffix = ctx.resolved instanceof Promise ? ' - awaiting promise' : '';\n    log.trace(`getDynamicChildren(node:%s)${suffix}`, node);\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(ctx.resolved, () => {\n        const existingChildren = node.children.slice();\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolveAll)(...node.residue.splice(0).map(vi => {\n            return createAndAppendNodes(log, node, vi, node.append);\n        }), ...ctx.getAvailableViewportAgents('dynamic').map(vpa => {\n            const defaultInstruction = _instructions_js__WEBPACK_IMPORTED_MODULE_3__.ViewportInstruction.create({\n                component: vpa.viewport.default,\n                viewport: vpa.viewport.name,\n            });\n            return createAndAppendNodes(log, node, defaultInstruction, node.append);\n        })), () => {\n            return node.children.filter(x => !existingChildren.includes(x));\n        });\n    });\n}\nfunction createAndAppendNodes(log, node, vi, append) {\n    var _a, _b;\n    log.trace(`createAndAppendNodes(node:%s,vi:%s,append:${append})`, node, vi);\n    switch (vi.component.type) {\n        case 0 /* string */: {\n            switch (vi.component.value) {\n                case '..':\n                    // Allow going \"too far up\" just like directory command `cd..`, simply clamp it to the root\n                    node.clearChildren();\n                    node = (_b = (_a = node.context.parent) === null || _a === void 0 ? void 0 : _a.node) !== null && _b !== void 0 ? _b : node;\n                // falls through\n                case '.':\n                    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolveAll)(...vi.children.map(childVI => {\n                        return createAndAppendNodes(log, node, childVI, childVI.append);\n                    }));\n                default: {\n                    const childNode = createNode(log, node, vi, append);\n                    if (childNode === null) {\n                        return;\n                    }\n                    return appendNode(log, node, childNode);\n                }\n            }\n        }\n        case 4 /* IRouteViewModel */:\n        case 2 /* CustomElementDefinition */: {\n            const routeDef = _route_definition_js__WEBPACK_IMPORTED_MODULE_4__.RouteDefinition.resolve(vi.component.value);\n            const childNode = createDirectNode(log, node, vi, append, routeDef.component);\n            return appendNode(log, node, childNode);\n        }\n    }\n}\nfunction createNode(log, node, vi, append) {\n    const ctx = node.context;\n    let collapse = 0;\n    let path = vi.component.value;\n    let cur = vi;\n    while (cur.children.length === 1) {\n        cur = cur.children[0];\n        if (cur.component.type === 0 /* string */) {\n            ++collapse;\n            path = `${path}/${cur.component.value}`;\n        }\n        else {\n            break;\n        }\n    }\n    const rr = ctx.recognize(path);\n    if (rr === null) {\n        const name = vi.component.value;\n        let ced = ctx.find(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement, name);\n        switch (node.tree.options.routingMode) {\n            case 'configured-only':\n                if (ced === null) {\n                    if (name === '') {\n                        // TODO: maybe throw here instead? Do we want to force the empty route to always be configured?\n                        return null;\n                    }\n                    throw new Error(`'${name}' did not match any configured route or registered component name at '${ctx.friendlyPath}' - did you forget to add '${name}' to the routes list of the route decorator of '${ctx.component.name}'?`);\n                }\n                throw new Error(`'${name}' did not match any configured route, but it does match a registered component name at '${ctx.friendlyPath}' - did you forget to add a @route({ path: '${name}' }) decorator to '${name}' or unintentionally set routingMode to 'configured-only'?`);\n            case 'configured-first':\n                if (ced === null) {\n                    if (name === '') {\n                        return null;\n                    }\n                    const vpName = vi.viewport === null || vi.viewport.length === 0 ? 'default' : vi.viewport;\n                    const fallbackVPA = ctx.getFallbackViewportAgent('dynamic', vpName);\n                    if (fallbackVPA === null) {\n                        throw new Error(`'${name}' did not match any configured route or registered component name at '${ctx.friendlyPath}' and no fallback was provided for viewport '${vpName}' - did you forget to add the component '${name}' to the dependencies of '${ctx.component.name}' or to register it as a global dependency?`);\n                    }\n                    const fallback = fallbackVPA.viewport.fallback;\n                    ced = ctx.find(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement, fallback);\n                    if (ced === null) {\n                        throw new Error(`the requested component '${name}' and the fallback '${fallback}' at viewport '${vpName}' did not match any configured route or registered component name at '${ctx.friendlyPath}' - did you forget to add the component '${name}' to the dependencies of '${ctx.component.name}' or to register it as a global dependency?`);\n                    }\n                }\n                return createDirectNode(log, node, vi, append, ced);\n        }\n    }\n    // If it's a multi-segment match, collapse the viewport instructions to correct the tree structure.\n    const finalPath = rr.residue === null ? path : path.slice(0, -(rr.residue.length + 1));\n    vi.component.value = finalPath;\n    for (let i = 0; i < collapse; ++i) {\n        vi.children = vi.children[0].children;\n    }\n    return createConfiguredNode(log, node, vi, append, rr);\n}\nfunction createConfiguredNode(log, node, vi, append, rr, route = rr.route.endpoint.route) {\n    const ctx = node.context;\n    const rt = node.tree;\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(route.handler, $handler => {\n        route.handler = $handler;\n        if ($handler.redirectTo === null) {\n            const vpName = $handler.viewport;\n            const ced = $handler.component;\n            const vpa = ctx.resolveViewportAgent(_viewport_agent_js__WEBPACK_IMPORTED_MODULE_5__.ViewportRequest.create({\n                viewportName: vpName,\n                componentName: ced.name,\n                append,\n                resolution: rt.options.resolutionMode,\n            }));\n            const router = ctx.get(_router_js__WEBPACK_IMPORTED_MODULE_2__.IRouter);\n            const childCtx = router.getRouteContext(vpa, ced, vpa.hostController.context);\n            childCtx.node = RouteNode.create({\n                path: rr.route.endpoint.route.path,\n                finalPath: route.path,\n                context: childCtx,\n                instruction: vi,\n                params: {\n                    ...node.params,\n                    ...rr.route.params\n                },\n                queryParams: rt.queryParams,\n                fragment: rt.fragment,\n                data: $handler.data,\n                viewport: vpName,\n                component: ced,\n                append,\n                title: $handler.config.title,\n                residue: rr.residue === null ? [] : [_instructions_js__WEBPACK_IMPORTED_MODULE_3__.ViewportInstruction.create(rr.residue)],\n            });\n            childCtx.node.setTree(node.tree);\n            log.trace(`createConfiguredNode(vi:%s) -> %s`, vi, childCtx.node);\n            return childCtx.node;\n        }\n        // Migrate parameters to the redirect\n        const origPath = _route_expression_js__WEBPACK_IMPORTED_MODULE_6__.RouteExpression.parse(route.path, false);\n        const redirPath = _route_expression_js__WEBPACK_IMPORTED_MODULE_6__.RouteExpression.parse($handler.redirectTo, false);\n        let origCur;\n        let redirCur;\n        const newSegs = [];\n        switch (origPath.root.kind) {\n            case 2 /* ScopedSegment */:\n            case 4 /* Segment */:\n                origCur = origPath.root;\n                break;\n            default:\n                throw new Error(`Unexpected expression kind ${origPath.root.kind}`);\n        }\n        switch (redirPath.root.kind) {\n            case 2 /* ScopedSegment */:\n            case 4 /* Segment */:\n                redirCur = redirPath.root;\n                break;\n            default:\n                throw new Error(`Unexpected expression kind ${redirPath.root.kind}`);\n        }\n        let origSeg;\n        let redirSeg;\n        let origDone = false;\n        let redirDone = false;\n        while (!(origDone && redirDone)) {\n            if (origDone) {\n                origSeg = null;\n            }\n            else if (origCur.kind === 4 /* Segment */) {\n                origSeg = origCur;\n                origDone = true;\n            }\n            else if (origCur.left.kind === 4 /* Segment */) {\n                origSeg = origCur.left;\n                switch (origCur.right.kind) {\n                    case 2 /* ScopedSegment */:\n                    case 4 /* Segment */:\n                        origCur = origCur.right;\n                        break;\n                    default:\n                        throw new Error(`Unexpected expression kind ${origCur.right.kind}`);\n                }\n            }\n            else {\n                throw new Error(`Unexpected expression kind ${origCur.left.kind}`);\n            }\n            if (redirDone) {\n                redirSeg = null;\n            }\n            else if (redirCur.kind === 4 /* Segment */) {\n                redirSeg = redirCur;\n                redirDone = true;\n            }\n            else if (redirCur.left.kind === 4 /* Segment */) {\n                redirSeg = redirCur.left;\n                switch (redirCur.right.kind) {\n                    case 2 /* ScopedSegment */:\n                    case 4 /* Segment */:\n                        redirCur = redirCur.right;\n                        break;\n                    default:\n                        throw new Error(`Unexpected expression kind ${redirCur.right.kind}`);\n                }\n            }\n            else {\n                throw new Error(`Unexpected expression kind ${redirCur.left.kind}`);\n            }\n            if (redirSeg !== null) {\n                if (redirSeg.component.isDynamic && (origSeg === null || origSeg === void 0 ? void 0 : origSeg.component.isDynamic)) {\n                    newSegs.push(rr.route.params[origSeg.component.name]);\n                }\n                else {\n                    newSegs.push(redirSeg.raw);\n                }\n            }\n        }\n        const newPath = newSegs.filter(Boolean).join('/');\n        const redirRR = ctx.recognize(newPath);\n        if (redirRR === null) {\n            const name = newPath;\n            const ced = ctx.find(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement, newPath);\n            switch (rt.options.routingMode) {\n                case 'configured-only':\n                    if (ced === null) {\n                        throw new Error(`'${name}' did not match any configured route or registered component name at '${ctx.friendlyPath}' - did you forget to add '${name}' to the routes list of the route decorator of '${ctx.component.name}'?`);\n                    }\n                    throw new Error(`'${name}' did not match any configured route, but it does match a registered component name at '${ctx.friendlyPath}' - did you forget to add a @route({ path: '${name}' }) decorator to '${name}' or unintentionally set routingMode to 'configured-only'?`);\n                case 'configured-first':\n                    if (ced === null) {\n                        throw new Error(`'${name}' did not match any configured route or registered component name at '${ctx.friendlyPath}' - did you forget to add the component '${name}' to the dependencies of '${ctx.component.name}' or to register it as a global dependency?`);\n                    }\n                    return createDirectNode(log, node, vi, append, ced);\n            }\n        }\n        return createConfiguredNode(log, node, vi, append, rr, redirRR.route.endpoint.route);\n    });\n}\nfunction createDirectNode(log, node, vi, append, ced) {\n    var _a;\n    const ctx = node.context;\n    const rt = node.tree;\n    const vpName = (_a = vi.viewport) !== null && _a !== void 0 ? _a : 'default';\n    const vpa = ctx.resolveViewportAgent(_viewport_agent_js__WEBPACK_IMPORTED_MODULE_5__.ViewportRequest.create({\n        viewportName: vpName,\n        componentName: ced.name,\n        append,\n        resolution: rt.options.resolutionMode,\n    }));\n    const router = ctx.get(_router_js__WEBPACK_IMPORTED_MODULE_2__.IRouter);\n    const childCtx = router.getRouteContext(vpa, ced, vpa.hostController.context);\n    // TODO(fkleuver): process redirects in direct routing (?)\n    const rd = _route_definition_js__WEBPACK_IMPORTED_MODULE_4__.RouteDefinition.resolve(ced);\n    // TODO: add ActionExpression state representation to RouteNode\n    childCtx.node = RouteNode.create({\n        path: ced.name,\n        finalPath: ced.name,\n        context: childCtx,\n        instruction: vi,\n        params: {\n            ...ctx.node.params,\n            ...vi.params,\n        },\n        queryParams: rt.queryParams,\n        fragment: rt.fragment,\n        data: rd.data,\n        viewport: vpName,\n        component: ced,\n        append,\n        title: rd.config.title,\n        residue: [...vi.children],\n    });\n    childCtx.node.setTree(ctx.node.tree);\n    log.trace(`createDirectNode(vi:%s) -> %s`, vi, childCtx.node);\n    return childCtx.node;\n}\nfunction appendNode(log, node, childNode) {\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(childNode, $childNode => {\n        log.trace(`appendNode($childNode:%s)`, $childNode);\n        node.appendChild($childNode);\n        return $childNode.context.vpa.scheduleUpdate(node.tree.options, $childNode);\n    });\n}\n//# sourceMappingURL=route-tree.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlLXRyZWUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlLXRyZWUuanM/M2E3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVzdHJpY3QtdGVtcGxhdGUtZXhwcmVzc2lvbnMgKi9cbmltcG9ydCB7IElMb2dnZXIsIHJlc29sdmVBbGwsIG9uUmVzb2x2ZSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBDdXN0b21FbGVtZW50IH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZS1odG1sJztcbmltcG9ydCB7IElSb3V0ZXIgfSBmcm9tICcuL3JvdXRlci5qcyc7XG5pbXBvcnQgeyBWaWV3cG9ydEluc3RydWN0aW9uVHJlZSwgVmlld3BvcnRJbnN0cnVjdGlvbiB9IGZyb20gJy4vaW5zdHJ1Y3Rpb25zLmpzJztcbmltcG9ydCB7IFJvdXRlRGVmaW5pdGlvbiB9IGZyb20gJy4vcm91dGUtZGVmaW5pdGlvbi5qcyc7XG5pbXBvcnQgeyBWaWV3cG9ydFJlcXVlc3QgfSBmcm9tICcuL3ZpZXdwb3J0LWFnZW50LmpzJztcbmltcG9ydCB7IFJvdXRlRXhwcmVzc2lvbiB9IGZyb20gJy4vcm91dGUtZXhwcmVzc2lvbi5qcyc7XG5sZXQgbm9kZUlkID0gMDtcbmV4cG9ydCBjbGFzcyBSb3V0ZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBpZCwgXG4gICAgLyoqXG4gICAgICogVGhlIG9yaWdpbmFsIGNvbmZpZ3VyZWQgcGF0aCBwYXR0ZXJuIHRoYXQgd2FzIG1hdGNoZWQsIG9yIHRoZSBjb21wb25lbnQgbmFtZSBpZiBpdCB3YXMgcmVzb2x2ZWQgdmlhIGRpcmVjdCByb3V0aW5nLlxuICAgICAqL1xuICAgIHBhdGgsIFxuICAgIC8qKlxuICAgICAqIElmIG9uZSBvciBtb3JlIHJlZGlyZWN0cyBoYXZlIG9jY3VycmVkLCB0aGVuIHRoaXMgaXMgdGhlIGZpbmFsIHBhdGggbWF0Y2gsIGluIGFsbCBvdGhlciBjYXNlcyB0aGlzIGlzIGlkZW50aWNhbCB0byBgcGF0aGBcbiAgICAgKi9cbiAgICBmaW5hbFBhdGgsIFxuICAgIC8qKlxuICAgICAqIFRoZSBgUm91dGVDb250ZXh0YCBhc3NvY2lhdGVkIHdpdGggdGhpcyByb3V0ZS5cbiAgICAgKlxuICAgICAqIENoaWxkIHJvdXRlIGNvbXBvbmVudHMgd2lsbCBiZSBjcmVhdGVkIGJ5IHRoaXMgY29udGV4dC5cbiAgICAgKlxuICAgICAqIFZpZXdwb3J0cyB0aGF0IGxpdmUgdW5kZXJuZWF0aCB0aGUgY29tcG9uZW50IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJvdXRlLCB3aWxsIGJlIHJlZ2lzdGVyZWQgdG8gdGhpcyBjb250ZXh0LlxuICAgICAqL1xuICAgIGNvbnRleHQsIFxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBvcmlnaW5hbEluc3RydWN0aW9uLCBcbiAgICAvKiogQ2FuIG9ubHkgYmUgYG51bGxgIGZvciB0aGUgY29tcG9zaXRpb24gcm9vdCAqL1xuICAgIGluc3RydWN0aW9uLCBwYXJhbXMsIHF1ZXJ5UGFyYW1zLCBmcmFnbWVudCwgZGF0YSwgXG4gICAgLyoqXG4gICAgICogVGhlIHZpZXdwb3J0IGlzIGFsd2F5cyBgbnVsbGAgZm9yIHRoZSByb290IGBSb3V0ZU5vZGVgLlxuICAgICAqXG4gICAgICogTk9URTogSXQgbWlnaHQgbWFrZSBzZW5zZSB0byBoYXZlIGEgYG51bGxgIHZpZXdwb3J0IG1lYW4gb3RoZXIgdGhpbmdzIGFzIHdlbGwgKHN1Y2ggYXMsIGRvbid0IGxvYWQgdGhpcyBjb21wb25lbnQpXG4gICAgICogYnV0IHRoYXQgaXMgY3VycmVudGx5IG5vdCBhIGRlbGliZXJhdGVseSBpbXBsZW1lbnRlZCBmZWF0dXJlIGFuZCB3ZSBtaWdodCB3YW50IHRvIGV4cGxpY2l0bHkgdmFsaWRhdGUgYWdhaW5zdCBpdFxuICAgICAqIGlmIHdlIGRlY2lkZSBub3QgdG8gaW1wbGVtZW50IHRoYXQuXG4gICAgICovXG4gICAgdmlld3BvcnQsIHRpdGxlLCBjb21wb25lbnQsIGFwcGVuZCwgY2hpbGRyZW4sIFxuICAgIC8qKlxuICAgICAqIE5vdC15ZXQtcmVzb2x2ZWQgdmlld3BvcnQgaW5zdHJ1Y3Rpb25zLlxuICAgICAqXG4gICAgICogSW5zdHJ1Y3Rpb25zIG5lZWQgYW4gYElSb3V0ZUNvbnRleHRgIHRvIGJlIHJlc29sdmVkIGludG8gY29tcGxldGUgYFJvdXRlTm9kZWBzLlxuICAgICAqXG4gICAgICogUmVzb2x2ZWQgaW5zdHJ1Y3Rpb25zIGFyZSByZW1vdmVkIGZyb20gdGhpcyBhcnJheSwgc3VjaCB0aGF0IGEgYFJvdXRlTm9kZWAgY2FuIGJlIGNvbnNpZGVyZWRcbiAgICAgKiBcImZ1bGx5IHJlc29sdmVkXCIgd2hlbiBpdCBoYXMgYHJlc2lkdWUubGVuZ3RoID09PSAwYCBhbmQgYGNoaWxkcmVuLmxlbmd0aCA+PSAwYFxuICAgICAqL1xuICAgIHJlc2lkdWUpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLmZpbmFsUGF0aCA9IGZpbmFsUGF0aDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEluc3RydWN0aW9uID0gb3JpZ2luYWxJbnN0cnVjdGlvbjtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5xdWVyeVBhcmFtcyA9IHF1ZXJ5UGFyYW1zO1xuICAgICAgICB0aGlzLmZyYWdtZW50ID0gZnJhZ21lbnQ7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgdGhpcy5hcHBlbmQgPSBhcHBlbmQ7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5yZXNpZHVlID0gcmVzaWR1ZTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLnZlcnNpb24gPSAxO1xuICAgICAgICB0aGlzLm9yaWdpbmFsSW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcbiAgICB9XG4gICAgZ2V0IHJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyZWUucm9vdDtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShpbnB1dCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgICAgICByZXR1cm4gbmV3IFJvdXRlTm9kZShcbiAgICAgICAgLyogICAgICAgICAgaWQgKi8gKytub2RlSWQsIFxuICAgICAgICAvKiAgICAgICAgcGF0aCAqLyBpbnB1dC5wYXRoLCBcbiAgICAgICAgLyogICBmaW5hbFBhdGggKi8gaW5wdXQuZmluYWxQYXRoLCBcbiAgICAgICAgLyogICAgIGNvbnRleHQgKi8gaW5wdXQuY29udGV4dCwgXG4gICAgICAgIC8qIG9yaWdpbmFsSW5zICovIGlucHV0Lmluc3RydWN0aW9uLCBcbiAgICAgICAgLyogaW5zdHJ1Y3Rpb24gKi8gaW5wdXQuaW5zdHJ1Y3Rpb24sIChfYSA9IFxuICAgICAgICAvKiAgICAgIHBhcmFtcyAqLyBpbnB1dC5wYXJhbXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9LCAoX2IgPSBcbiAgICAgICAgLyogcXVlcnlQYXJhbXMgKi8gaW5wdXQucXVlcnlQYXJhbXMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IE9iamVjdC5mcmVlemUobmV3IFVSTFNlYXJjaFBhcmFtcygpKSwgKF9jID0gXG4gICAgICAgIC8qICAgIGZyYWdtZW50ICovIGlucHV0LmZyYWdtZW50KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBudWxsLCAoX2QgPSBcbiAgICAgICAgLyogICAgICAgIGRhdGEgKi8gaW5wdXQuZGF0YSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDoge30sIChfZSA9IFxuICAgICAgICAvKiAgICB2aWV3cG9ydCAqLyBpbnB1dC52aWV3cG9ydCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogbnVsbCwgKF9mID0gXG4gICAgICAgIC8qICAgICAgIHRpdGxlICovIGlucHV0LnRpdGxlKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiBudWxsLCBcbiAgICAgICAgLyogICBjb21wb25lbnQgKi8gaW5wdXQuY29tcG9uZW50LCBcbiAgICAgICAgLyogICAgICBhcHBlbmQgKi8gaW5wdXQuYXBwZW5kLCAoX2cgPSBcbiAgICAgICAgLyogICAgY2hpbGRyZW4gKi8gaW5wdXQuY2hpbGRyZW4pICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IFtdLCAoX2ggPSBcbiAgICAgICAgLyogICAgIHJlc2lkdWUgKi8gaW5wdXQucmVzaWR1ZSkgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogW10pO1xuICAgIH1cbiAgICBjb250YWlucyhpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dCA9PT0gaW5zdHJ1Y3Rpb25zLm9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZUNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uQ2hpbGRyZW4gPSBpbnN0cnVjdGlvbnMuY2hpbGRyZW47XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBub2RlQ2hpbGRyZW4ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBqaiA9IGluc3RydWN0aW9uQ2hpbGRyZW4ubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSArIGogPCBpaSAmJiAoKF9iID0gKF9hID0gbm9kZUNoaWxkcmVuW2kgKyBqXS5pbnN0cnVjdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRhaW5zKGluc3RydWN0aW9uQ2hpbGRyZW5bal0pKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqICsgMSA9PT0gamopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLnNvbWUoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4LmNvbnRhaW5zKGluc3RydWN0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZChjaGlsZCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICBjaGlsZC5zZXRUcmVlKHRoaXMudHJlZSk7XG4gICAgfVxuICAgIGFwcGVuZENoaWxkcmVuKC4uLmNoaWxkcmVuKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyQ2hpbGRyZW4oKSB7XG4gICAgICAgIGZvciAoY29uc3QgYyBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjLmNsZWFyQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgIGMuY29udGV4dC52cGEuY2FuY2VsVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggPSAwO1xuICAgIH1cbiAgICBnZXRUaXRsZShzZXBhcmF0b3IpIHtcbiAgICAgICAgY29uc3QgdGl0bGVQYXJ0cyA9IFtcbiAgICAgICAgICAgIC4uLnRoaXMuY2hpbGRyZW4ubWFwKHggPT4geC5nZXRUaXRsZShzZXBhcmF0b3IpKSxcbiAgICAgICAgICAgIHRoaXMuZ2V0VGl0bGVQYXJ0KCksXG4gICAgICAgIF0uZmlsdGVyKHggPT4geCAhPT0gbnVsbCk7XG4gICAgICAgIGlmICh0aXRsZVBhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpdGxlUGFydHMuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICBnZXRUaXRsZVBhcnQoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50aXRsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGl0bGUuY2FsbCh2b2lkIDAsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRpdGxlO1xuICAgIH1cbiAgICBjb21wdXRlQWJzb2x1dGVQYXRoKCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmlzUm9vdCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudFBhdGggPSB0aGlzLmNvbnRleHQucGFyZW50Lm5vZGUuY29tcHV0ZUFic29sdXRlUGF0aCgpO1xuICAgICAgICBjb25zdCB0aGlzUGF0aCA9IHRoaXMuaW5zdHJ1Y3Rpb24udG9VcmxDb21wb25lbnQoZmFsc2UpO1xuICAgICAgICBpZiAocGFyZW50UGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpc1BhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbcGFyZW50UGF0aCwgdGhpc1BhdGhdLmpvaW4oJy8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXJlbnRQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzUGF0aDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHNldFRyZWUodHJlZSkge1xuICAgICAgICB0aGlzLnRyZWUgPSB0cmVlO1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoaWxkLnNldFRyZWUodHJlZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZpbmFsaXplSW5zdHJ1Y3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5tYXAoeCA9PiB4LmZpbmFsaXplSW5zdHJ1Y3Rpb24oKSk7XG4gICAgICAgIGNvbnN0IGluc3RydWN0aW9uID0gdGhpcy5pbnN0cnVjdGlvbi5jbG9uZSgpO1xuICAgICAgICBpbnN0cnVjdGlvbi5jaGlsZHJlbi5zcGxpY2UoMCwgaW5zdHJ1Y3Rpb24uY2hpbGRyZW4ubGVuZ3RoLCAuLi5jaGlsZHJlbik7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3QgY2xvbmUgPSBuZXcgUm91dGVOb2RlKHRoaXMuaWQsIHRoaXMucGF0aCwgdGhpcy5maW5hbFBhdGgsIHRoaXMuY29udGV4dCwgdGhpcy5vcmlnaW5hbEluc3RydWN0aW9uLCB0aGlzLmluc3RydWN0aW9uLCB7IC4uLnRoaXMucGFyYW1zIH0sIHsgLi4udGhpcy5xdWVyeVBhcmFtcyB9LCB0aGlzLmZyYWdtZW50LCB7IC4uLnRoaXMuZGF0YSB9LCB0aGlzLnZpZXdwb3J0LCB0aGlzLnRpdGxlLCB0aGlzLmNvbXBvbmVudCwgdGhpcy5hcHBlbmQsIHRoaXMuY2hpbGRyZW4ubWFwKHggPT4geC5jbG9uZSgpKSwgWy4uLnRoaXMucmVzaWR1ZV0pO1xuICAgICAgICBjbG9uZS52ZXJzaW9uID0gdGhpcy52ZXJzaW9uICsgMTtcbiAgICAgICAgaWYgKGNsb25lLmNvbnRleHQubm9kZSA9PT0gdGhpcykge1xuICAgICAgICAgICAgY2xvbmUuY29udGV4dC5ub2RlID0gY2xvbmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgY29uc3QgcHJvcHMgPSBbXTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gKF9jID0gKF9iID0gKF9hID0gdGhpcy5jb250ZXh0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVmaW5pdGlvbi5jb21wb25lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5uYW1lKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnJztcbiAgICAgICAgaWYgKGNvbXBvbmVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBwcm9wcy5wdXNoKGBjOicke2NvbXBvbmVudH0nYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aCA9IChfZSA9IChfZCA9IHRoaXMuY29udGV4dCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmRlZmluaXRpb24uY29uZmlnLnBhdGgpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICcnO1xuICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBwcm9wcy5wdXNoKGBwYXRoOicke3BhdGh9J2ApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHByb3BzLnB1c2goYGNoaWxkcmVuOlske3RoaXMuY2hpbGRyZW4ubWFwKFN0cmluZykuam9pbignLCcpfV1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXNpZHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHByb3BzLnB1c2goYHJlc2lkdWU6JHt0aGlzLnJlc2lkdWUubWFwKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCcke3J9J2A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcocik7XG4gICAgICAgICAgICB9KS5qb2luKCcsJyl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGBSTihjdHg6JyR7dGhpcy5jb250ZXh0LmZyaWVuZGx5UGF0aH0nLCR7cHJvcHMuam9pbignLCcpfSlgO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSb3V0ZVRyZWUge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHF1ZXJ5UGFyYW1zLCBmcmFnbWVudCwgcm9vdCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gcXVlcnlQYXJhbXM7XG4gICAgICAgIHRoaXMuZnJhZ21lbnQgPSBmcmFnbWVudDtcbiAgICAgICAgdGhpcy5yb290ID0gcm9vdDtcbiAgICB9XG4gICAgY29udGFpbnMoaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QuY29udGFpbnMoaW5zdHJ1Y3Rpb25zKTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IGNsb25lID0gbmV3IFJvdXRlVHJlZSh0aGlzLm9wdGlvbnMuY2xvbmUoKSwgeyAuLi50aGlzLnF1ZXJ5UGFyYW1zIH0sIHRoaXMuZnJhZ21lbnQsIHRoaXMucm9vdC5jbG9uZSgpKTtcbiAgICAgICAgY2xvbmUucm9vdC5zZXRUcmVlKHRoaXMpO1xuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuICAgIGZpbmFsaXplSW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gbmV3IFZpZXdwb3J0SW5zdHJ1Y3Rpb25UcmVlKHRoaXMub3B0aW9ucywgdHJ1ZSwgdGhpcy5yb290LmNoaWxkcmVuLm1hcCh4ID0+IHguZmluYWxpemVJbnN0cnVjdGlvbigpKSwgdGhpcy5xdWVyeVBhcmFtcywgdGhpcy5mcmFnbWVudCk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290LnRvU3RyaW5nKCk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RhdGVmdWwgYFJvdXRlVHJlZWAgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGNvbnRleHQgYW5kIHRyYW5zaXRpb24uXG4gKlxuICogVGhpcyBleHByZXNzaW9uIHdpbGwgYWx3YXlzIHN0YXJ0IGZyb20gdGhlIHJvb3QgY29udGV4dCBhbmQgYnVpbGQgYSBuZXcgY29tcGxldGUgdHJlZSwgdXAgdW50aWwgKGFuZCBpbmNsdWRpbmcpXG4gKiB0aGUgY29udGV4dCB0aGF0IHdhcyBwYXNzZWQtaW4uXG4gKlxuICogSWYgdGhlcmUgYXJlIGFueSBhZGRpdGlvbmFsIGNoaWxkIG5hdmlnYXRpb25zIHRvIGJlIHJlc29sdmVkIGxhemlseSwgdGhvc2Ugd2lsbCBiZSBhZGRlZCB0byB0aGUgbGVhZlxuICogYFJvdXRlTm9kZWBzIGByZXNpZHVlYCBwcm9wZXJ0eSB3aGljaCBpcyB0aGVuIHJlc29sdmVkIGJ5IHRoZSByb3V0ZXIgYWZ0ZXIgdGhlIGxlYWYgbm9kZSBpcyBsb2FkZWQuXG4gKlxuICogVGhpcyBtZWFucyB0aGF0IGEgYFJvdXRlVHJlZWAgY2FuIChhbmQgb2Z0ZW4gd2lsbCkgYmUgYnVpbHQgaW5jcmVtZW50YWxseSBkdXJpbmcgdGhlIGxvYWRpbmcgcHJvY2Vzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVJvdXRlVHJlZShydCwgdml0LCBjdHgpIHtcbiAgICBjb25zdCBsb2cgPSBjdHguZ2V0KElMb2dnZXIpLnNjb3BlVG8oJ1JvdXRlVHJlZScpO1xuICAgIC8vIFRoZSByb290IG9mIHRoZSByb3V0aW5nIHRyZWUgaXMgYWx3YXlzIHRoZSBDb21wb3NpdGlvblJvb3Qgb2YgdGhlIEF1cmVsaWEgYXBwLlxuICAgIC8vIEZyb20gYSByb3V0aW5nIHBlcnNwZWN0aXZlIGl0J3Mgc2ltcGx5IGEgXCJtYXJrZXJcIjogaXQgZG9lcyBub3QgbmVlZCB0byBiZSBsb2FkZWQsXG4gICAgLy8gbm9yIHB1dCBpbiBhIHZpZXdwb3J0LCBoYXZlIGl0cyBob29rcyBpbnZva2VkLCBvciBhbnkgb2YgdGhhdC4gVGhlIHJvdXRlciBkb2VzIG5vdCB0b3VjaCBpdCxcbiAgICAvLyBvdGhlciB0aGFuIGJ5IHJlYWRpbmcgKGRlcHMsIG9wdGlvbmFsIHJvdXRlIGNvbmZpZywgb3duZWQgdmlld3BvcnRzKSBmcm9tIGl0LlxuICAgIGNvbnN0IHJvb3RDdHggPSBjdHgucm9vdDtcbiAgICBydC5vcHRpb25zID0gdml0Lm9wdGlvbnM7XG4gICAgcnQucXVlcnlQYXJhbXMgPSB2aXQucXVlcnlQYXJhbXM7XG4gICAgcnQuZnJhZ21lbnQgPSB2aXQuZnJhZ21lbnQ7XG4gICAgaWYgKHZpdC5pc0Fic29sdXRlKSB7XG4gICAgICAgIGN0eCA9IHJvb3RDdHg7XG4gICAgfVxuICAgIGlmIChjdHggPT09IHJvb3RDdHgpIHtcbiAgICAgICAgcnQucm9vdC5zZXRUcmVlKHJ0KTtcbiAgICAgICAgcm9vdEN0eC5ub2RlID0gcnQucm9vdDtcbiAgICB9XG4gICAgY29uc3Qgc3VmZml4ID0gY3R4LnJlc29sdmVkIGluc3RhbmNlb2YgUHJvbWlzZSA/ICcgLSBhd2FpdGluZyBwcm9taXNlJyA6ICcnO1xuICAgIGxvZy50cmFjZShgdXBkYXRlUm91dGVUcmVlKHJvb3RDdHg6JXMscnQ6JXMsdml0OiVzKSR7c3VmZml4fWAsIHJvb3RDdHgsIHJ0LCB2aXQpO1xuICAgIHJldHVybiBvblJlc29sdmUoY3R4LnJlc29sdmVkLCAoKSA9PiB7XG4gICAgICAgIHJldHVybiB1cGRhdGVOb2RlKGxvZywgdml0LCBjdHgsIHJvb3RDdHgubm9kZSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVOb2RlKGxvZywgdml0LCBjdHgsIG5vZGUpIHtcbiAgICBsb2cudHJhY2UoYHVwZGF0ZU5vZGUoY3R4OiVzLG5vZGU6JXMpYCwgY3R4LCBub2RlKTtcbiAgICBub2RlLnF1ZXJ5UGFyYW1zID0gdml0LnF1ZXJ5UGFyYW1zO1xuICAgIG5vZGUuZnJhZ21lbnQgPSB2aXQuZnJhZ21lbnQ7XG4gICAgbGV0IG1heWJlUHJvbWlzZTtcbiAgICBpZiAoIW5vZGUuY29udGV4dC5pc1Jvb3QpIHtcbiAgICAgICAgLy8gVE9ETyhma2xldXZlcik6IHN0b3JlIGBvcHRpb25zYCBvbiBldmVyeSBpbmRpdmlkdWFsIGluc3RydWN0aW9uIGluc3RlYWQgb2YganVzdCBvbiB0aGUgdHJlZSwgb3Igc3BsaXQgaXQgdXAgZXRjPyB0aGlzIG5lZWRzIGEgYml0IG9mIGNsZWFuaW5nIHVwXG4gICAgICAgIG1heWJlUHJvbWlzZSA9IG5vZGUuY29udGV4dC52cGEuc2NoZWR1bGVVcGRhdGUobm9kZS50cmVlLm9wdGlvbnMsIG5vZGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWF5YmVQcm9taXNlID0gdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gb25SZXNvbHZlKG1heWJlUHJvbWlzZSwgKCkgPT4ge1xuICAgICAgICBpZiAobm9kZS5jb250ZXh0ID09PSBjdHgpIHtcbiAgICAgICAgICAgIC8vIERvIGFuIGluLXBsYWNlIHVwZGF0ZSAocmVtb3ZlIGNoaWxkcmVuIGFuZCByZS1hZGQgdGhlbSBieSBjb21waWxpbmcgdGhlIGluc3RydWN0aW9ucyBpbnRvIG5vZGVzKVxuICAgICAgICAgICAgbm9kZS5jbGVhckNoaWxkcmVuKCk7XG4gICAgICAgICAgICByZXR1cm4gb25SZXNvbHZlKHJlc29sdmVBbGwoLi4udml0LmNoaWxkcmVuLm1hcCh2aSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFuZEFwcGVuZE5vZGVzKGxvZywgbm9kZSwgdmksIG5vZGUudHJlZS5vcHRpb25zLmFwcGVuZCB8fCB2aS5hcHBlbmQpO1xuICAgICAgICAgICAgfSkpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVBbGwoLi4uY3R4LmdldEF2YWlsYWJsZVZpZXdwb3J0QWdlbnRzKCdkeW5hbWljJykubWFwKHZwYSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRJbnN0cnVjdGlvbiA9IFZpZXdwb3J0SW5zdHJ1Y3Rpb24uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogdnBhLnZpZXdwb3J0LmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydDogdnBhLnZpZXdwb3J0Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQW5kQXBwZW5kTm9kZXMobG9nLCBub2RlLCBkZWZhdWx0SW5zdHJ1Y3Rpb24sIG5vZGUuYXBwZW5kKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEcmlsbCBkb3duIHVudGlsIHdlJ3JlIGF0IHRoZSBub2RlIHdob3NlIGNvbnRleHQgbWF0Y2hlcyB0aGUgcHJvdmlkZWQgbmF2aWdhdGlvbiBjb250ZXh0XG4gICAgICAgIHJldHVybiByZXNvbHZlQWxsKC4uLm5vZGUuY2hpbGRyZW4ubWFwKGNoaWxkID0+IHtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVOb2RlKGxvZywgdml0LCBjdHgsIGNoaWxkKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NSZXNpZHVlKG5vZGUpIHtcbiAgICBjb25zdCBjdHggPSBub2RlLmNvbnRleHQ7XG4gICAgY29uc3QgbG9nID0gY3R4LmdldChJTG9nZ2VyKS5zY29wZVRvKCdSb3V0ZVRyZWUnKTtcbiAgICBjb25zdCBzdWZmaXggPSBjdHgucmVzb2x2ZWQgaW5zdGFuY2VvZiBQcm9taXNlID8gJyAtIGF3YWl0aW5nIHByb21pc2UnIDogJyc7XG4gICAgbG9nLnRyYWNlKGBwcm9jZXNzUmVzaWR1ZShub2RlOiVzKSR7c3VmZml4fWAsIG5vZGUpO1xuICAgIHJldHVybiBvblJlc29sdmUoY3R4LnJlc29sdmVkLCAoKSA9PiB7XG4gICAgICAgIHJldHVybiByZXNvbHZlQWxsKC4uLm5vZGUucmVzaWR1ZS5zcGxpY2UoMCkubWFwKHZpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVBbmRBcHBlbmROb2Rlcyhsb2csIG5vZGUsIHZpLCBub2RlLmFwcGVuZCk7XG4gICAgICAgIH0pLCAuLi5jdHguZ2V0QXZhaWxhYmxlVmlld3BvcnRBZ2VudHMoJ3N0YXRpYycpLm1hcCh2cGEgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdEluc3RydWN0aW9uID0gVmlld3BvcnRJbnN0cnVjdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogdnBhLnZpZXdwb3J0LmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgdmlld3BvcnQ6IHZwYS52aWV3cG9ydC5uYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQW5kQXBwZW5kTm9kZXMobG9nLCBub2RlLCBkZWZhdWx0SW5zdHJ1Y3Rpb24sIG5vZGUuYXBwZW5kKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldER5bmFtaWNDaGlsZHJlbihub2RlKSB7XG4gICAgY29uc3QgY3R4ID0gbm9kZS5jb250ZXh0O1xuICAgIGNvbnN0IGxvZyA9IGN0eC5nZXQoSUxvZ2dlcikuc2NvcGVUbygnUm91dGVUcmVlJyk7XG4gICAgY29uc3Qgc3VmZml4ID0gY3R4LnJlc29sdmVkIGluc3RhbmNlb2YgUHJvbWlzZSA/ICcgLSBhd2FpdGluZyBwcm9taXNlJyA6ICcnO1xuICAgIGxvZy50cmFjZShgZ2V0RHluYW1pY0NoaWxkcmVuKG5vZGU6JXMpJHtzdWZmaXh9YCwgbm9kZSk7XG4gICAgcmV0dXJuIG9uUmVzb2x2ZShjdHgucmVzb2x2ZWQsICgpID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdDaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4uc2xpY2UoKTtcbiAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZShyZXNvbHZlQWxsKC4uLm5vZGUucmVzaWR1ZS5zcGxpY2UoMCkubWFwKHZpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVBbmRBcHBlbmROb2Rlcyhsb2csIG5vZGUsIHZpLCBub2RlLmFwcGVuZCk7XG4gICAgICAgIH0pLCAuLi5jdHguZ2V0QXZhaWxhYmxlVmlld3BvcnRBZ2VudHMoJ2R5bmFtaWMnKS5tYXAodnBhID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRJbnN0cnVjdGlvbiA9IFZpZXdwb3J0SW5zdHJ1Y3Rpb24uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IHZwYS52aWV3cG9ydC5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0OiB2cGEudmlld3BvcnQubmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFuZEFwcGVuZE5vZGVzKGxvZywgbm9kZSwgZGVmYXVsdEluc3RydWN0aW9uLCBub2RlLmFwcGVuZCk7XG4gICAgICAgIH0pKSwgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY2hpbGRyZW4uZmlsdGVyKHggPT4gIWV4aXN0aW5nQ2hpbGRyZW4uaW5jbHVkZXMoeCkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBbmRBcHBlbmROb2Rlcyhsb2csIG5vZGUsIHZpLCBhcHBlbmQpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGxvZy50cmFjZShgY3JlYXRlQW5kQXBwZW5kTm9kZXMobm9kZTolcyx2aTolcyxhcHBlbmQ6JHthcHBlbmR9KWAsIG5vZGUsIHZpKTtcbiAgICBzd2l0Y2ggKHZpLmNvbXBvbmVudC50eXBlKSB7XG4gICAgICAgIGNhc2UgMCAvKiBzdHJpbmcgKi86IHtcbiAgICAgICAgICAgIHN3aXRjaCAodmkuY29tcG9uZW50LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnLi4nOlxuICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBnb2luZyBcInRvbyBmYXIgdXBcIiBqdXN0IGxpa2UgZGlyZWN0b3J5IGNvbW1hbmQgYGNkLi5gLCBzaW1wbHkgY2xhbXAgaXQgdG8gdGhlIHJvb3RcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5jbGVhckNoaWxkcmVuKCk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSAoX2IgPSAoX2EgPSBub2RlLmNvbnRleHQucGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eubm9kZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbm9kZTtcbiAgICAgICAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgY2FzZSAnLic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlQWxsKC4uLnZpLmNoaWxkcmVuLm1hcChjaGlsZFZJID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBbmRBcHBlbmROb2Rlcyhsb2csIG5vZGUsIGNoaWxkVkksIGNoaWxkVkkuYXBwZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlID0gY3JlYXRlTm9kZShsb2csIG5vZGUsIHZpLCBhcHBlbmQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcGVuZE5vZGUobG9nLCBub2RlLCBjaGlsZE5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXNlIDQgLyogSVJvdXRlVmlld01vZGVsICovOlxuICAgICAgICBjYXNlIDIgLyogQ3VzdG9tRWxlbWVudERlZmluaXRpb24gKi86IHtcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlRGVmID0gUm91dGVEZWZpbml0aW9uLnJlc29sdmUodmkuY29tcG9uZW50LnZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IGNyZWF0ZURpcmVjdE5vZGUobG9nLCBub2RlLCB2aSwgYXBwZW5kLCByb3V0ZURlZi5jb21wb25lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGFwcGVuZE5vZGUobG9nLCBub2RlLCBjaGlsZE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlTm9kZShsb2csIG5vZGUsIHZpLCBhcHBlbmQpIHtcbiAgICBjb25zdCBjdHggPSBub2RlLmNvbnRleHQ7XG4gICAgbGV0IGNvbGxhcHNlID0gMDtcbiAgICBsZXQgcGF0aCA9IHZpLmNvbXBvbmVudC52YWx1ZTtcbiAgICBsZXQgY3VyID0gdmk7XG4gICAgd2hpbGUgKGN1ci5jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY3VyID0gY3VyLmNoaWxkcmVuWzBdO1xuICAgICAgICBpZiAoY3VyLmNvbXBvbmVudC50eXBlID09PSAwIC8qIHN0cmluZyAqLykge1xuICAgICAgICAgICAgKytjb2xsYXBzZTtcbiAgICAgICAgICAgIHBhdGggPSBgJHtwYXRofS8ke2N1ci5jb21wb25lbnQudmFsdWV9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJyID0gY3R4LnJlY29nbml6ZShwYXRoKTtcbiAgICBpZiAocnIgPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHZpLmNvbXBvbmVudC52YWx1ZTtcbiAgICAgICAgbGV0IGNlZCA9IGN0eC5maW5kKEN1c3RvbUVsZW1lbnQsIG5hbWUpO1xuICAgICAgICBzd2l0Y2ggKG5vZGUudHJlZS5vcHRpb25zLnJvdXRpbmdNb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdjb25maWd1cmVkLW9ubHknOlxuICAgICAgICAgICAgICAgIGlmIChjZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBtYXliZSB0aHJvdyBoZXJlIGluc3RlYWQ/IERvIHdlIHdhbnQgdG8gZm9yY2UgdGhlIGVtcHR5IHJvdXRlIHRvIGFsd2F5cyBiZSBjb25maWd1cmVkP1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHtuYW1lfScgZGlkIG5vdCBtYXRjaCBhbnkgY29uZmlndXJlZCByb3V0ZSBvciByZWdpc3RlcmVkIGNvbXBvbmVudCBuYW1lIGF0ICcke2N0eC5mcmllbmRseVBhdGh9JyAtIGRpZCB5b3UgZm9yZ2V0IHRvIGFkZCAnJHtuYW1lfScgdG8gdGhlIHJvdXRlcyBsaXN0IG9mIHRoZSByb3V0ZSBkZWNvcmF0b3Igb2YgJyR7Y3R4LmNvbXBvbmVudC5uYW1lfSc/YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGRpZCBub3QgbWF0Y2ggYW55IGNvbmZpZ3VyZWQgcm91dGUsIGJ1dCBpdCBkb2VzIG1hdGNoIGEgcmVnaXN0ZXJlZCBjb21wb25lbnQgbmFtZSBhdCAnJHtjdHguZnJpZW5kbHlQYXRofScgLSBkaWQgeW91IGZvcmdldCB0byBhZGQgYSBAcm91dGUoeyBwYXRoOiAnJHtuYW1lfScgfSkgZGVjb3JhdG9yIHRvICcke25hbWV9JyBvciB1bmludGVudGlvbmFsbHkgc2V0IHJvdXRpbmdNb2RlIHRvICdjb25maWd1cmVkLW9ubHknP2ApO1xuICAgICAgICAgICAgY2FzZSAnY29uZmlndXJlZC1maXJzdCc6XG4gICAgICAgICAgICAgICAgaWYgKGNlZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZwTmFtZSA9IHZpLnZpZXdwb3J0ID09PSBudWxsIHx8IHZpLnZpZXdwb3J0Lmxlbmd0aCA9PT0gMCA/ICdkZWZhdWx0JyA6IHZpLnZpZXdwb3J0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja1ZQQSA9IGN0eC5nZXRGYWxsYmFja1ZpZXdwb3J0QWdlbnQoJ2R5bmFtaWMnLCB2cE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsbGJhY2tWUEEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGRpZCBub3QgbWF0Y2ggYW55IGNvbmZpZ3VyZWQgcm91dGUgb3IgcmVnaXN0ZXJlZCBjb21wb25lbnQgbmFtZSBhdCAnJHtjdHguZnJpZW5kbHlQYXRofScgYW5kIG5vIGZhbGxiYWNrIHdhcyBwcm92aWRlZCBmb3Igdmlld3BvcnQgJyR7dnBOYW1lfScgLSBkaWQgeW91IGZvcmdldCB0byBhZGQgdGhlIGNvbXBvbmVudCAnJHtuYW1lfScgdG8gdGhlIGRlcGVuZGVuY2llcyBvZiAnJHtjdHguY29tcG9uZW50Lm5hbWV9JyBvciB0byByZWdpc3RlciBpdCBhcyBhIGdsb2JhbCBkZXBlbmRlbmN5P2ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrID0gZmFsbGJhY2tWUEEudmlld3BvcnQuZmFsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgIGNlZCA9IGN0eC5maW5kKEN1c3RvbUVsZW1lbnQsIGZhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNlZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB0aGUgcmVxdWVzdGVkIGNvbXBvbmVudCAnJHtuYW1lfScgYW5kIHRoZSBmYWxsYmFjayAnJHtmYWxsYmFja30nIGF0IHZpZXdwb3J0ICcke3ZwTmFtZX0nIGRpZCBub3QgbWF0Y2ggYW55IGNvbmZpZ3VyZWQgcm91dGUgb3IgcmVnaXN0ZXJlZCBjb21wb25lbnQgbmFtZSBhdCAnJHtjdHguZnJpZW5kbHlQYXRofScgLSBkaWQgeW91IGZvcmdldCB0byBhZGQgdGhlIGNvbXBvbmVudCAnJHtuYW1lfScgdG8gdGhlIGRlcGVuZGVuY2llcyBvZiAnJHtjdHguY29tcG9uZW50Lm5hbWV9JyBvciB0byByZWdpc3RlciBpdCBhcyBhIGdsb2JhbCBkZXBlbmRlbmN5P2ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVEaXJlY3ROb2RlKGxvZywgbm9kZSwgdmksIGFwcGVuZCwgY2VkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBJZiBpdCdzIGEgbXVsdGktc2VnbWVudCBtYXRjaCwgY29sbGFwc2UgdGhlIHZpZXdwb3J0IGluc3RydWN0aW9ucyB0byBjb3JyZWN0IHRoZSB0cmVlIHN0cnVjdHVyZS5cbiAgICBjb25zdCBmaW5hbFBhdGggPSByci5yZXNpZHVlID09PSBudWxsID8gcGF0aCA6IHBhdGguc2xpY2UoMCwgLShyci5yZXNpZHVlLmxlbmd0aCArIDEpKTtcbiAgICB2aS5jb21wb25lbnQudmFsdWUgPSBmaW5hbFBhdGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xsYXBzZTsgKytpKSB7XG4gICAgICAgIHZpLmNoaWxkcmVuID0gdmkuY2hpbGRyZW5bMF0uY2hpbGRyZW47XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDb25maWd1cmVkTm9kZShsb2csIG5vZGUsIHZpLCBhcHBlbmQsIHJyKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbmZpZ3VyZWROb2RlKGxvZywgbm9kZSwgdmksIGFwcGVuZCwgcnIsIHJvdXRlID0gcnIucm91dGUuZW5kcG9pbnQucm91dGUpIHtcbiAgICBjb25zdCBjdHggPSBub2RlLmNvbnRleHQ7XG4gICAgY29uc3QgcnQgPSBub2RlLnRyZWU7XG4gICAgcmV0dXJuIG9uUmVzb2x2ZShyb3V0ZS5oYW5kbGVyLCAkaGFuZGxlciA9PiB7XG4gICAgICAgIHJvdXRlLmhhbmRsZXIgPSAkaGFuZGxlcjtcbiAgICAgICAgaWYgKCRoYW5kbGVyLnJlZGlyZWN0VG8gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHZwTmFtZSA9ICRoYW5kbGVyLnZpZXdwb3J0O1xuICAgICAgICAgICAgY29uc3QgY2VkID0gJGhhbmRsZXIuY29tcG9uZW50O1xuICAgICAgICAgICAgY29uc3QgdnBhID0gY3R4LnJlc29sdmVWaWV3cG9ydEFnZW50KFZpZXdwb3J0UmVxdWVzdC5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0TmFtZTogdnBOYW1lLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWU6IGNlZC5uYW1lLFxuICAgICAgICAgICAgICAgIGFwcGVuZCxcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBydC5vcHRpb25zLnJlc29sdXRpb25Nb2RlLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY29uc3Qgcm91dGVyID0gY3R4LmdldChJUm91dGVyKTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0gcm91dGVyLmdldFJvdXRlQ29udGV4dCh2cGEsIGNlZCwgdnBhLmhvc3RDb250cm9sbGVyLmNvbnRleHQpO1xuICAgICAgICAgICAgY2hpbGRDdHgubm9kZSA9IFJvdXRlTm9kZS5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIHBhdGg6IHJyLnJvdXRlLmVuZHBvaW50LnJvdXRlLnBhdGgsXG4gICAgICAgICAgICAgICAgZmluYWxQYXRoOiByb3V0ZS5wYXRoLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgIGluc3RydWN0aW9uOiB2aSxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubm9kZS5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIC4uLnJyLnJvdXRlLnBhcmFtc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHJ0LnF1ZXJ5UGFyYW1zLFxuICAgICAgICAgICAgICAgIGZyYWdtZW50OiBydC5mcmFnbWVudCxcbiAgICAgICAgICAgICAgICBkYXRhOiAkaGFuZGxlci5kYXRhLFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0OiB2cE5hbWUsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBjZWQsXG4gICAgICAgICAgICAgICAgYXBwZW5kLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAkaGFuZGxlci5jb25maWcudGl0bGUsXG4gICAgICAgICAgICAgICAgcmVzaWR1ZTogcnIucmVzaWR1ZSA9PT0gbnVsbCA/IFtdIDogW1ZpZXdwb3J0SW5zdHJ1Y3Rpb24uY3JlYXRlKHJyLnJlc2lkdWUpXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2hpbGRDdHgubm9kZS5zZXRUcmVlKG5vZGUudHJlZSk7XG4gICAgICAgICAgICBsb2cudHJhY2UoYGNyZWF0ZUNvbmZpZ3VyZWROb2RlKHZpOiVzKSAtPiAlc2AsIHZpLCBjaGlsZEN0eC5ub2RlKTtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZEN0eC5ub2RlO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1pZ3JhdGUgcGFyYW1ldGVycyB0byB0aGUgcmVkaXJlY3RcbiAgICAgICAgY29uc3Qgb3JpZ1BhdGggPSBSb3V0ZUV4cHJlc3Npb24ucGFyc2Uocm91dGUucGF0aCwgZmFsc2UpO1xuICAgICAgICBjb25zdCByZWRpclBhdGggPSBSb3V0ZUV4cHJlc3Npb24ucGFyc2UoJGhhbmRsZXIucmVkaXJlY3RUbywgZmFsc2UpO1xuICAgICAgICBsZXQgb3JpZ0N1cjtcbiAgICAgICAgbGV0IHJlZGlyQ3VyO1xuICAgICAgICBjb25zdCBuZXdTZWdzID0gW107XG4gICAgICAgIHN3aXRjaCAob3JpZ1BhdGgucm9vdC5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIDIgLyogU2NvcGVkU2VnbWVudCAqLzpcbiAgICAgICAgICAgIGNhc2UgNCAvKiBTZWdtZW50ICovOlxuICAgICAgICAgICAgICAgIG9yaWdDdXIgPSBvcmlnUGF0aC5yb290O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZXhwcmVzc2lvbiBraW5kICR7b3JpZ1BhdGgucm9vdC5raW5kfWApO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAocmVkaXJQYXRoLnJvb3Qua2luZCkge1xuICAgICAgICAgICAgY2FzZSAyIC8qIFNjb3BlZFNlZ21lbnQgKi86XG4gICAgICAgICAgICBjYXNlIDQgLyogU2VnbWVudCAqLzpcbiAgICAgICAgICAgICAgICByZWRpckN1ciA9IHJlZGlyUGF0aC5yb290O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZXhwcmVzc2lvbiBraW5kICR7cmVkaXJQYXRoLnJvb3Qua2luZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3JpZ1NlZztcbiAgICAgICAgbGV0IHJlZGlyU2VnO1xuICAgICAgICBsZXQgb3JpZ0RvbmUgPSBmYWxzZTtcbiAgICAgICAgbGV0IHJlZGlyRG9uZSA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoIShvcmlnRG9uZSAmJiByZWRpckRvbmUpKSB7XG4gICAgICAgICAgICBpZiAob3JpZ0RvbmUpIHtcbiAgICAgICAgICAgICAgICBvcmlnU2VnID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9yaWdDdXIua2luZCA9PT0gNCAvKiBTZWdtZW50ICovKSB7XG4gICAgICAgICAgICAgICAgb3JpZ1NlZyA9IG9yaWdDdXI7XG4gICAgICAgICAgICAgICAgb3JpZ0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3JpZ0N1ci5sZWZ0LmtpbmQgPT09IDQgLyogU2VnbWVudCAqLykge1xuICAgICAgICAgICAgICAgIG9yaWdTZWcgPSBvcmlnQ3VyLmxlZnQ7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChvcmlnQ3VyLnJpZ2h0LmtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyIC8qIFNjb3BlZFNlZ21lbnQgKi86XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBTZWdtZW50ICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ0N1ciA9IG9yaWdDdXIucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBleHByZXNzaW9uIGtpbmQgJHtvcmlnQ3VyLnJpZ2h0LmtpbmR9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGV4cHJlc3Npb24ga2luZCAke29yaWdDdXIubGVmdC5raW5kfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlZGlyRG9uZSkge1xuICAgICAgICAgICAgICAgIHJlZGlyU2VnID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlZGlyQ3VyLmtpbmQgPT09IDQgLyogU2VnbWVudCAqLykge1xuICAgICAgICAgICAgICAgIHJlZGlyU2VnID0gcmVkaXJDdXI7XG4gICAgICAgICAgICAgICAgcmVkaXJEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlZGlyQ3VyLmxlZnQua2luZCA9PT0gNCAvKiBTZWdtZW50ICovKSB7XG4gICAgICAgICAgICAgICAgcmVkaXJTZWcgPSByZWRpckN1ci5sZWZ0O1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocmVkaXJDdXIucmlnaHQua2luZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIgLyogU2NvcGVkU2VnbWVudCAqLzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0IC8qIFNlZ21lbnQgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZWRpckN1ciA9IHJlZGlyQ3VyLnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZXhwcmVzc2lvbiBraW5kICR7cmVkaXJDdXIucmlnaHQua2luZH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZXhwcmVzc2lvbiBraW5kICR7cmVkaXJDdXIubGVmdC5raW5kfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlZGlyU2VnICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlZGlyU2VnLmNvbXBvbmVudC5pc0R5bmFtaWMgJiYgKG9yaWdTZWcgPT09IG51bGwgfHwgb3JpZ1NlZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3JpZ1NlZy5jb21wb25lbnQuaXNEeW5hbWljKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTZWdzLnB1c2gocnIucm91dGUucGFyYW1zW29yaWdTZWcuY29tcG9uZW50Lm5hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1NlZ3MucHVzaChyZWRpclNlZy5yYXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdQYXRoID0gbmV3U2Vncy5maWx0ZXIoQm9vbGVhbikuam9pbignLycpO1xuICAgICAgICBjb25zdCByZWRpclJSID0gY3R4LnJlY29nbml6ZShuZXdQYXRoKTtcbiAgICAgICAgaWYgKHJlZGlyUlIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBuZXdQYXRoO1xuICAgICAgICAgICAgY29uc3QgY2VkID0gY3R4LmZpbmQoQ3VzdG9tRWxlbWVudCwgbmV3UGF0aCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHJ0Lm9wdGlvbnMucm91dGluZ01vZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdjb25maWd1cmVkLW9ubHknOlxuICAgICAgICAgICAgICAgICAgICBpZiAoY2VkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBkaWQgbm90IG1hdGNoIGFueSBjb25maWd1cmVkIHJvdXRlIG9yIHJlZ2lzdGVyZWQgY29tcG9uZW50IG5hbWUgYXQgJyR7Y3R4LmZyaWVuZGx5UGF0aH0nIC0gZGlkIHlvdSBmb3JnZXQgdG8gYWRkICcke25hbWV9JyB0byB0aGUgcm91dGVzIGxpc3Qgb2YgdGhlIHJvdXRlIGRlY29yYXRvciBvZiAnJHtjdHguY29tcG9uZW50Lm5hbWV9Jz9gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBkaWQgbm90IG1hdGNoIGFueSBjb25maWd1cmVkIHJvdXRlLCBidXQgaXQgZG9lcyBtYXRjaCBhIHJlZ2lzdGVyZWQgY29tcG9uZW50IG5hbWUgYXQgJyR7Y3R4LmZyaWVuZGx5UGF0aH0nIC0gZGlkIHlvdSBmb3JnZXQgdG8gYWRkIGEgQHJvdXRlKHsgcGF0aDogJyR7bmFtZX0nIH0pIGRlY29yYXRvciB0byAnJHtuYW1lfScgb3IgdW5pbnRlbnRpb25hbGx5IHNldCByb3V0aW5nTW9kZSB0byAnY29uZmlndXJlZC1vbmx5Jz9gKTtcbiAgICAgICAgICAgICAgICBjYXNlICdjb25maWd1cmVkLWZpcnN0JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNlZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHtuYW1lfScgZGlkIG5vdCBtYXRjaCBhbnkgY29uZmlndXJlZCByb3V0ZSBvciByZWdpc3RlcmVkIGNvbXBvbmVudCBuYW1lIGF0ICcke2N0eC5mcmllbmRseVBhdGh9JyAtIGRpZCB5b3UgZm9yZ2V0IHRvIGFkZCB0aGUgY29tcG9uZW50ICcke25hbWV9JyB0byB0aGUgZGVwZW5kZW5jaWVzIG9mICcke2N0eC5jb21wb25lbnQubmFtZX0nIG9yIHRvIHJlZ2lzdGVyIGl0IGFzIGEgZ2xvYmFsIGRlcGVuZGVuY3k/YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZURpcmVjdE5vZGUobG9nLCBub2RlLCB2aSwgYXBwZW5kLCBjZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGVDb25maWd1cmVkTm9kZShsb2csIG5vZGUsIHZpLCBhcHBlbmQsIHJyLCByZWRpclJSLnJvdXRlLmVuZHBvaW50LnJvdXRlKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURpcmVjdE5vZGUobG9nLCBub2RlLCB2aSwgYXBwZW5kLCBjZWQpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY3R4ID0gbm9kZS5jb250ZXh0O1xuICAgIGNvbnN0IHJ0ID0gbm9kZS50cmVlO1xuICAgIGNvbnN0IHZwTmFtZSA9IChfYSA9IHZpLnZpZXdwb3J0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnZGVmYXVsdCc7XG4gICAgY29uc3QgdnBhID0gY3R4LnJlc29sdmVWaWV3cG9ydEFnZW50KFZpZXdwb3J0UmVxdWVzdC5jcmVhdGUoe1xuICAgICAgICB2aWV3cG9ydE5hbWU6IHZwTmFtZSxcbiAgICAgICAgY29tcG9uZW50TmFtZTogY2VkLm5hbWUsXG4gICAgICAgIGFwcGVuZCxcbiAgICAgICAgcmVzb2x1dGlvbjogcnQub3B0aW9ucy5yZXNvbHV0aW9uTW9kZSxcbiAgICB9KSk7XG4gICAgY29uc3Qgcm91dGVyID0gY3R4LmdldChJUm91dGVyKTtcbiAgICBjb25zdCBjaGlsZEN0eCA9IHJvdXRlci5nZXRSb3V0ZUNvbnRleHQodnBhLCBjZWQsIHZwYS5ob3N0Q29udHJvbGxlci5jb250ZXh0KTtcbiAgICAvLyBUT0RPKGZrbGV1dmVyKTogcHJvY2VzcyByZWRpcmVjdHMgaW4gZGlyZWN0IHJvdXRpbmcgKD8pXG4gICAgY29uc3QgcmQgPSBSb3V0ZURlZmluaXRpb24ucmVzb2x2ZShjZWQpO1xuICAgIC8vIFRPRE86IGFkZCBBY3Rpb25FeHByZXNzaW9uIHN0YXRlIHJlcHJlc2VudGF0aW9uIHRvIFJvdXRlTm9kZVxuICAgIGNoaWxkQ3R4Lm5vZGUgPSBSb3V0ZU5vZGUuY3JlYXRlKHtcbiAgICAgICAgcGF0aDogY2VkLm5hbWUsXG4gICAgICAgIGZpbmFsUGF0aDogY2VkLm5hbWUsXG4gICAgICAgIGNvbnRleHQ6IGNoaWxkQ3R4LFxuICAgICAgICBpbnN0cnVjdGlvbjogdmksXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgLi4uY3R4Lm5vZGUucGFyYW1zLFxuICAgICAgICAgICAgLi4udmkucGFyYW1zLFxuICAgICAgICB9LFxuICAgICAgICBxdWVyeVBhcmFtczogcnQucXVlcnlQYXJhbXMsXG4gICAgICAgIGZyYWdtZW50OiBydC5mcmFnbWVudCxcbiAgICAgICAgZGF0YTogcmQuZGF0YSxcbiAgICAgICAgdmlld3BvcnQ6IHZwTmFtZSxcbiAgICAgICAgY29tcG9uZW50OiBjZWQsXG4gICAgICAgIGFwcGVuZCxcbiAgICAgICAgdGl0bGU6IHJkLmNvbmZpZy50aXRsZSxcbiAgICAgICAgcmVzaWR1ZTogWy4uLnZpLmNoaWxkcmVuXSxcbiAgICB9KTtcbiAgICBjaGlsZEN0eC5ub2RlLnNldFRyZWUoY3R4Lm5vZGUudHJlZSk7XG4gICAgbG9nLnRyYWNlKGBjcmVhdGVEaXJlY3ROb2RlKHZpOiVzKSAtPiAlc2AsIHZpLCBjaGlsZEN0eC5ub2RlKTtcbiAgICByZXR1cm4gY2hpbGRDdHgubm9kZTtcbn1cbmZ1bmN0aW9uIGFwcGVuZE5vZGUobG9nLCBub2RlLCBjaGlsZE5vZGUpIHtcbiAgICByZXR1cm4gb25SZXNvbHZlKGNoaWxkTm9kZSwgJGNoaWxkTm9kZSA9PiB7XG4gICAgICAgIGxvZy50cmFjZShgYXBwZW5kTm9kZSgkY2hpbGROb2RlOiVzKWAsICRjaGlsZE5vZGUpO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKCRjaGlsZE5vZGUpO1xuICAgICAgICByZXR1cm4gJGNoaWxkTm9kZS5jb250ZXh0LnZwYS5zY2hlZHVsZVVwZGF0ZShub2RlLnRyZWUub3B0aW9ucywgJGNoaWxkTm9kZSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZS10cmVlLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/route-tree.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/route.js":
/*!********************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/route.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"defaultReentryBehavior\": () => (/* binding */ defaultReentryBehavior),\n/* harmony export */   \"RouteConfig\": () => (/* binding */ RouteConfig),\n/* harmony export */   \"ChildRouteConfig\": () => (/* binding */ ChildRouteConfig),\n/* harmony export */   \"RedirectRouteConfig\": () => (/* binding */ RedirectRouteConfig),\n/* harmony export */   \"Route\": () => (/* binding */ Route),\n/* harmony export */   \"route\": () => (/* binding */ route)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./validation.js */ \"./node_modules/@aurelia/router/dist/esm/validation.js\");\n\n\nconst noRoutes = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\nfunction defaultReentryBehavior(current, next) {\n    if (!(0,_validation_js__WEBPACK_IMPORTED_MODULE_1__.shallowEquals)(current.params, next.params)) {\n        return 'invoke-lifecycles';\n    }\n    return 'none';\n}\nclass RouteConfig {\n    constructor(\n    /**\n     * The id for this route, which can be used in the view for generating hrefs.\n     *\n     * (TODO: decide on, and provide more details about, whether this can be specified without specifying path, and what happens in different combinations of situations)\n     */\n    id, \n    /**\n     * The path to match against the url.\n     *\n     * If left blank, the path will be derived from the component's static `path` property (if it exists), or otherwise the component name will be used (if direct routing is enabled).\n     */\n    path, \n    /**\n     * The title to use for this route when matched.\n     *\n     * If left blank, this route will not contribute to the generated title.\n     */\n    title, \n    /**\n     * The path to which to redirect when the url matches the path in this config.\n     *\n     * If the path begins with a slash (`/`), the redirect path is considered absolute, otherwise it is considered relative to the parent path.\n     */\n    redirectTo, \n    /**\n     * Whether the `path` should be case sensitive.\n     */\n    caseSensitive, \n    /**\n     * How to behave when this component scheduled to be loaded again in the same viewport:\n     *\n     * - `replace`: completely removes the current component and creates a new one, behaving as if the component changed.\n     * - `invoke-lifecycles`: calls `canUnload`, `canLoad`, `unload` and `load` (default if only the parameters have changed)\n     * - `none`: does nothing (default if nothing has changed for the viewport)\n     *\n     * By default, calls the router lifecycle hooks only if the parameters have changed, otherwise does nothing.\n     */\n    transitionPlan, \n    /**\n     * The name of the viewport this component should be loaded into.\n     *\n     * (TODO: decide on, and provide more details about, whether this can be specified without specifying path, and what happens in different combinations of situations)\n     */\n    viewport, \n    /**\n     * Any custom data that should be accessible to matched components or hooks.\n     */\n    data, \n    /**\n     * The child routes that can be navigated to from this route. See `Routeable` for more information.\n     */\n    routes) {\n        this.id = id;\n        this.path = path;\n        this.title = title;\n        this.redirectTo = redirectTo;\n        this.caseSensitive = caseSensitive;\n        this.transitionPlan = transitionPlan;\n        this.viewport = viewport;\n        this.data = data;\n        this.routes = routes;\n    }\n    static create(configOrPath, Type) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;\n        if (typeof configOrPath === 'string' || configOrPath instanceof Array) {\n            const path = configOrPath;\n            const redirectTo = (_a = Type === null || Type === void 0 ? void 0 : Type.redirectTo) !== null && _a !== void 0 ? _a : null;\n            const caseSensitive = (_b = Type === null || Type === void 0 ? void 0 : Type.caseSensitive) !== null && _b !== void 0 ? _b : false;\n            const id = (_c = Type === null || Type === void 0 ? void 0 : Type.id) !== null && _c !== void 0 ? _c : (path instanceof Array ? path[0] : path);\n            const title = (_d = Type === null || Type === void 0 ? void 0 : Type.title) !== null && _d !== void 0 ? _d : null;\n            const reentryBehavior = (_e = Type === null || Type === void 0 ? void 0 : Type.transitionPlan) !== null && _e !== void 0 ? _e : defaultReentryBehavior;\n            const viewport = (_f = Type === null || Type === void 0 ? void 0 : Type.viewport) !== null && _f !== void 0 ? _f : null;\n            const data = (_g = Type === null || Type === void 0 ? void 0 : Type.data) !== null && _g !== void 0 ? _g : {};\n            const children = (_h = Type === null || Type === void 0 ? void 0 : Type.routes) !== null && _h !== void 0 ? _h : noRoutes;\n            return new RouteConfig(id, path, title, redirectTo, caseSensitive, reentryBehavior, viewport, data, children);\n        }\n        else if (typeof configOrPath === 'object') {\n            const config = configOrPath;\n            (0,_validation_js__WEBPACK_IMPORTED_MODULE_1__.validateRouteConfig)(config, '');\n            const path = (_k = (_j = config.path) !== null && _j !== void 0 ? _j : Type === null || Type === void 0 ? void 0 : Type.path) !== null && _k !== void 0 ? _k : null;\n            const title = (_m = (_l = config.title) !== null && _l !== void 0 ? _l : Type === null || Type === void 0 ? void 0 : Type.title) !== null && _m !== void 0 ? _m : null;\n            const redirectTo = (_p = (_o = config.redirectTo) !== null && _o !== void 0 ? _o : Type === null || Type === void 0 ? void 0 : Type.redirectTo) !== null && _p !== void 0 ? _p : null;\n            const caseSensitive = (_r = (_q = config.caseSensitive) !== null && _q !== void 0 ? _q : Type === null || Type === void 0 ? void 0 : Type.caseSensitive) !== null && _r !== void 0 ? _r : false;\n            const id = (_t = (_s = config.id) !== null && _s !== void 0 ? _s : Type === null || Type === void 0 ? void 0 : Type.id) !== null && _t !== void 0 ? _t : (path instanceof Array ? path[0] : path);\n            const reentryBehavior = (_v = (_u = config.transitionPlan) !== null && _u !== void 0 ? _u : Type === null || Type === void 0 ? void 0 : Type.transitionPlan) !== null && _v !== void 0 ? _v : defaultReentryBehavior;\n            const viewport = (_x = (_w = config.viewport) !== null && _w !== void 0 ? _w : Type === null || Type === void 0 ? void 0 : Type.viewport) !== null && _x !== void 0 ? _x : null;\n            const data = {\n                ...Type === null || Type === void 0 ? void 0 : Type.data,\n                ...config.data,\n            };\n            const children = [\n                ...((_y = config.routes) !== null && _y !== void 0 ? _y : noRoutes),\n                ...((_z = Type === null || Type === void 0 ? void 0 : Type.routes) !== null && _z !== void 0 ? _z : noRoutes),\n            ];\n            return new RouteConfig(id, path, title, redirectTo, caseSensitive, reentryBehavior, viewport, data, children);\n        }\n        else {\n            (0,_validation_js__WEBPACK_IMPORTED_MODULE_1__.expectType)('string, function/class or object', '', configOrPath);\n        }\n    }\n    static configure(configOrPath, Type) {\n        const config = RouteConfig.create(configOrPath, Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(Route.name, config, Type);\n        return Type;\n    }\n    static getConfig(Type) {\n        if (!_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.hasOwn(Route.name, Type)) {\n            // In the case of a type, this means there was no @route decorator on the class.\n            // However there might still be static properties, and this API provides a unified way of accessing those.\n            Route.configure({}, Type);\n        }\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(Route.name, Type);\n    }\n    saveTo(Type) {\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(Route.name, this, Type);\n    }\n}\nclass ChildRouteConfig extends RouteConfig {\n    constructor(id, path, title, redirectTo, caseSensitive, reentryBehavior, viewport, data, routes, \n    /**\n     * The component to load when this route is matched.\n     */\n    component) {\n        super(id, path, title, redirectTo, caseSensitive, reentryBehavior, viewport, data, routes);\n        this.component = component;\n    }\n}\nclass RedirectRouteConfig {\n    constructor(path, redirectTo, caseSensitive) {\n        this.path = path;\n        this.redirectTo = redirectTo;\n        this.caseSensitive = caseSensitive;\n    }\n}\nconst Route = {\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.keyFor('route'),\n    /**\n     * Returns `true` if the specified type has any static route configuration (either via static properties or a &#64;route decorator)\n     */\n    isConfigured(Type) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.hasOwn(Route.name, Type);\n    },\n    /**\n     * Apply the specified configuration to the specified type, overwriting any existing configuration.\n     */\n    configure(configOrPath, Type) {\n        const config = RouteConfig.create(configOrPath, Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(Route.name, config, Type);\n        return Type;\n    },\n    /**\n     * Get the `RouteConfig` associated with the specified type, creating a new one if it does not yet exist.\n     */\n    getConfig(Type) {\n        if (!Route.isConfigured(Type)) {\n            // This means there was no @route decorator on the class.\n            // However there might still be static properties, and this API provides a unified way of accessing those.\n            Route.configure({}, Type);\n        }\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(Route.name, Type);\n    },\n};\nfunction route(configOrPath) {\n    return function (target) {\n        return Route.configure(configOrPath, target);\n    };\n}\n//# sourceMappingURL=route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3JvdXRlci9kaXN0L2VzbS9yb3V0ZS5qcz9lYjgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVtcHR5QXJyYXksIE1ldGFkYXRhLCBQcm90b2NvbCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyB2YWxpZGF0ZVJvdXRlQ29uZmlnLCBleHBlY3RUeXBlLCBzaGFsbG93RXF1YWxzIH0gZnJvbSAnLi92YWxpZGF0aW9uLmpzJztcbmNvbnN0IG5vUm91dGVzID0gZW1wdHlBcnJheTtcbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0UmVlbnRyeUJlaGF2aW9yKGN1cnJlbnQsIG5leHQpIHtcbiAgICBpZiAoIXNoYWxsb3dFcXVhbHMoY3VycmVudC5wYXJhbXMsIG5leHQucGFyYW1zKSkge1xuICAgICAgICByZXR1cm4gJ2ludm9rZS1saWZlY3ljbGVzJztcbiAgICB9XG4gICAgcmV0dXJuICdub25lJztcbn1cbmV4cG9ydCBjbGFzcyBSb3V0ZUNvbmZpZyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIGlkIGZvciB0aGlzIHJvdXRlLCB3aGljaCBjYW4gYmUgdXNlZCBpbiB0aGUgdmlldyBmb3IgZ2VuZXJhdGluZyBocmVmcy5cbiAgICAgKlxuICAgICAqIChUT0RPOiBkZWNpZGUgb24sIGFuZCBwcm92aWRlIG1vcmUgZGV0YWlscyBhYm91dCwgd2hldGhlciB0aGlzIGNhbiBiZSBzcGVjaWZpZWQgd2l0aG91dCBzcGVjaWZ5aW5nIHBhdGgsIGFuZCB3aGF0IGhhcHBlbnMgaW4gZGlmZmVyZW50IGNvbWJpbmF0aW9ucyBvZiBzaXR1YXRpb25zKVxuICAgICAqL1xuICAgIGlkLCBcbiAgICAvKipcbiAgICAgKiBUaGUgcGF0aCB0byBtYXRjaCBhZ2FpbnN0IHRoZSB1cmwuXG4gICAgICpcbiAgICAgKiBJZiBsZWZ0IGJsYW5rLCB0aGUgcGF0aCB3aWxsIGJlIGRlcml2ZWQgZnJvbSB0aGUgY29tcG9uZW50J3Mgc3RhdGljIGBwYXRoYCBwcm9wZXJ0eSAoaWYgaXQgZXhpc3RzKSwgb3Igb3RoZXJ3aXNlIHRoZSBjb21wb25lbnQgbmFtZSB3aWxsIGJlIHVzZWQgKGlmIGRpcmVjdCByb3V0aW5nIGlzIGVuYWJsZWQpLlxuICAgICAqL1xuICAgIHBhdGgsIFxuICAgIC8qKlxuICAgICAqIFRoZSB0aXRsZSB0byB1c2UgZm9yIHRoaXMgcm91dGUgd2hlbiBtYXRjaGVkLlxuICAgICAqXG4gICAgICogSWYgbGVmdCBibGFuaywgdGhpcyByb3V0ZSB3aWxsIG5vdCBjb250cmlidXRlIHRvIHRoZSBnZW5lcmF0ZWQgdGl0bGUuXG4gICAgICovXG4gICAgdGl0bGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSBwYXRoIHRvIHdoaWNoIHRvIHJlZGlyZWN0IHdoZW4gdGhlIHVybCBtYXRjaGVzIHRoZSBwYXRoIGluIHRoaXMgY29uZmlnLlxuICAgICAqXG4gICAgICogSWYgdGhlIHBhdGggYmVnaW5zIHdpdGggYSBzbGFzaCAoYC9gKSwgdGhlIHJlZGlyZWN0IHBhdGggaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGl0IGlzIGNvbnNpZGVyZWQgcmVsYXRpdmUgdG8gdGhlIHBhcmVudCBwYXRoLlxuICAgICAqL1xuICAgIHJlZGlyZWN0VG8sIFxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGBwYXRoYCBzaG91bGQgYmUgY2FzZSBzZW5zaXRpdmUuXG4gICAgICovXG4gICAgY2FzZVNlbnNpdGl2ZSwgXG4gICAgLyoqXG4gICAgICogSG93IHRvIGJlaGF2ZSB3aGVuIHRoaXMgY29tcG9uZW50IHNjaGVkdWxlZCB0byBiZSBsb2FkZWQgYWdhaW4gaW4gdGhlIHNhbWUgdmlld3BvcnQ6XG4gICAgICpcbiAgICAgKiAtIGByZXBsYWNlYDogY29tcGxldGVseSByZW1vdmVzIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgY3JlYXRlcyBhIG5ldyBvbmUsIGJlaGF2aW5nIGFzIGlmIHRoZSBjb21wb25lbnQgY2hhbmdlZC5cbiAgICAgKiAtIGBpbnZva2UtbGlmZWN5Y2xlc2A6IGNhbGxzIGBjYW5VbmxvYWRgLCBgY2FuTG9hZGAsIGB1bmxvYWRgIGFuZCBgbG9hZGAgKGRlZmF1bHQgaWYgb25seSB0aGUgcGFyYW1ldGVycyBoYXZlIGNoYW5nZWQpXG4gICAgICogLSBgbm9uZWA6IGRvZXMgbm90aGluZyAoZGVmYXVsdCBpZiBub3RoaW5nIGhhcyBjaGFuZ2VkIGZvciB0aGUgdmlld3BvcnQpXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCBjYWxscyB0aGUgcm91dGVyIGxpZmVjeWNsZSBob29rcyBvbmx5IGlmIHRoZSBwYXJhbWV0ZXJzIGhhdmUgY2hhbmdlZCwgb3RoZXJ3aXNlIGRvZXMgbm90aGluZy5cbiAgICAgKi9cbiAgICB0cmFuc2l0aW9uUGxhbiwgXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHZpZXdwb3J0IHRoaXMgY29tcG9uZW50IHNob3VsZCBiZSBsb2FkZWQgaW50by5cbiAgICAgKlxuICAgICAqIChUT0RPOiBkZWNpZGUgb24sIGFuZCBwcm92aWRlIG1vcmUgZGV0YWlscyBhYm91dCwgd2hldGhlciB0aGlzIGNhbiBiZSBzcGVjaWZpZWQgd2l0aG91dCBzcGVjaWZ5aW5nIHBhdGgsIGFuZCB3aGF0IGhhcHBlbnMgaW4gZGlmZmVyZW50IGNvbWJpbmF0aW9ucyBvZiBzaXR1YXRpb25zKVxuICAgICAqL1xuICAgIHZpZXdwb3J0LCBcbiAgICAvKipcbiAgICAgKiBBbnkgY3VzdG9tIGRhdGEgdGhhdCBzaG91bGQgYmUgYWNjZXNzaWJsZSB0byBtYXRjaGVkIGNvbXBvbmVudHMgb3IgaG9va3MuXG4gICAgICovXG4gICAgZGF0YSwgXG4gICAgLyoqXG4gICAgICogVGhlIGNoaWxkIHJvdXRlcyB0aGF0IGNhbiBiZSBuYXZpZ2F0ZWQgdG8gZnJvbSB0aGlzIHJvdXRlLiBTZWUgYFJvdXRlYWJsZWAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgcm91dGVzKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLnJlZGlyZWN0VG8gPSByZWRpcmVjdFRvO1xuICAgICAgICB0aGlzLmNhc2VTZW5zaXRpdmUgPSBjYXNlU2Vuc2l0aXZlO1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25QbGFuID0gdHJhbnNpdGlvblBsYW47XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5yb3V0ZXMgPSByb3V0ZXM7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoY29uZmlnT3JQYXRoLCBUeXBlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbywgX3AsIF9xLCBfciwgX3MsIF90LCBfdSwgX3YsIF93LCBfeCwgX3ksIF96O1xuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZ09yUGF0aCA9PT0gJ3N0cmluZycgfHwgY29uZmlnT3JQYXRoIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBjb25maWdPclBhdGg7XG4gICAgICAgICAgICBjb25zdCByZWRpcmVjdFRvID0gKF9hID0gVHlwZSA9PT0gbnVsbCB8fCBUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBUeXBlLnJlZGlyZWN0VG8pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBjYXNlU2Vuc2l0aXZlID0gKF9iID0gVHlwZSA9PT0gbnVsbCB8fCBUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBUeXBlLmNhc2VTZW5zaXRpdmUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgaWQgPSAoX2MgPSBUeXBlID09PSBudWxsIHx8IFR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IFR5cGUuaWQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IChwYXRoIGluc3RhbmNlb2YgQXJyYXkgPyBwYXRoWzBdIDogcGF0aCk7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IChfZCA9IFR5cGUgPT09IG51bGwgfHwgVHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogVHlwZS50aXRsZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHJlZW50cnlCZWhhdmlvciA9IChfZSA9IFR5cGUgPT09IG51bGwgfHwgVHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogVHlwZS50cmFuc2l0aW9uUGxhbikgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogZGVmYXVsdFJlZW50cnlCZWhhdmlvcjtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gKF9mID0gVHlwZSA9PT0gbnVsbCB8fCBUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBUeXBlLnZpZXdwb3J0KSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IChfZyA9IFR5cGUgPT09IG51bGwgfHwgVHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogVHlwZS5kYXRhKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiB7fTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gKF9oID0gVHlwZSA9PT0gbnVsbCB8fCBUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBUeXBlLnJvdXRlcykgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogbm9Sb3V0ZXM7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJvdXRlQ29uZmlnKGlkLCBwYXRoLCB0aXRsZSwgcmVkaXJlY3RUbywgY2FzZVNlbnNpdGl2ZSwgcmVlbnRyeUJlaGF2aW9yLCB2aWV3cG9ydCwgZGF0YSwgY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb25maWdPclBhdGggPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBjb25maWdPclBhdGg7XG4gICAgICAgICAgICB2YWxpZGF0ZVJvdXRlQ29uZmlnKGNvbmZpZywgJycpO1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IChfayA9IChfaiA9IGNvbmZpZy5wYXRoKSAhPT0gbnVsbCAmJiBfaiAhPT0gdm9pZCAwID8gX2ogOiBUeXBlID09PSBudWxsIHx8IFR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IFR5cGUucGF0aCkgIT09IG51bGwgJiYgX2sgIT09IHZvaWQgMCA/IF9rIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gKF9tID0gKF9sID0gY29uZmlnLnRpdGxlKSAhPT0gbnVsbCAmJiBfbCAhPT0gdm9pZCAwID8gX2wgOiBUeXBlID09PSBudWxsIHx8IFR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IFR5cGUudGl0bGUpICE9PSBudWxsICYmIF9tICE9PSB2b2lkIDAgPyBfbSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCByZWRpcmVjdFRvID0gKF9wID0gKF9vID0gY29uZmlnLnJlZGlyZWN0VG8pICE9PSBudWxsICYmIF9vICE9PSB2b2lkIDAgPyBfbyA6IFR5cGUgPT09IG51bGwgfHwgVHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogVHlwZS5yZWRpcmVjdFRvKSAhPT0gbnVsbCAmJiBfcCAhPT0gdm9pZCAwID8gX3AgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgY2FzZVNlbnNpdGl2ZSA9IChfciA9IChfcSA9IGNvbmZpZy5jYXNlU2Vuc2l0aXZlKSAhPT0gbnVsbCAmJiBfcSAhPT0gdm9pZCAwID8gX3EgOiBUeXBlID09PSBudWxsIHx8IFR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IFR5cGUuY2FzZVNlbnNpdGl2ZSkgIT09IG51bGwgJiYgX3IgIT09IHZvaWQgMCA/IF9yIDogZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBpZCA9IChfdCA9IChfcyA9IGNvbmZpZy5pZCkgIT09IG51bGwgJiYgX3MgIT09IHZvaWQgMCA/IF9zIDogVHlwZSA9PT0gbnVsbCB8fCBUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBUeXBlLmlkKSAhPT0gbnVsbCAmJiBfdCAhPT0gdm9pZCAwID8gX3QgOiAocGF0aCBpbnN0YW5jZW9mIEFycmF5ID8gcGF0aFswXSA6IHBhdGgpO1xuICAgICAgICAgICAgY29uc3QgcmVlbnRyeUJlaGF2aW9yID0gKF92ID0gKF91ID0gY29uZmlnLnRyYW5zaXRpb25QbGFuKSAhPT0gbnVsbCAmJiBfdSAhPT0gdm9pZCAwID8gX3UgOiBUeXBlID09PSBudWxsIHx8IFR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IFR5cGUudHJhbnNpdGlvblBsYW4pICE9PSBudWxsICYmIF92ICE9PSB2b2lkIDAgPyBfdiA6IGRlZmF1bHRSZWVudHJ5QmVoYXZpb3I7XG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydCA9IChfeCA9IChfdyA9IGNvbmZpZy52aWV3cG9ydCkgIT09IG51bGwgJiYgX3cgIT09IHZvaWQgMCA/IF93IDogVHlwZSA9PT0gbnVsbCB8fCBUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBUeXBlLnZpZXdwb3J0KSAhPT0gbnVsbCAmJiBfeCAhPT0gdm9pZCAwID8gX3ggOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAuLi5UeXBlID09PSBudWxsIHx8IFR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IFR5cGUuZGF0YSxcbiAgICAgICAgICAgICAgICAuLi5jb25maWcuZGF0YSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IFtcbiAgICAgICAgICAgICAgICAuLi4oKF95ID0gY29uZmlnLnJvdXRlcykgIT09IG51bGwgJiYgX3kgIT09IHZvaWQgMCA/IF95IDogbm9Sb3V0ZXMpLFxuICAgICAgICAgICAgICAgIC4uLigoX3ogPSBUeXBlID09PSBudWxsIHx8IFR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IFR5cGUucm91dGVzKSAhPT0gbnVsbCAmJiBfeiAhPT0gdm9pZCAwID8gX3ogOiBub1JvdXRlcyksXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSb3V0ZUNvbmZpZyhpZCwgcGF0aCwgdGl0bGUsIHJlZGlyZWN0VG8sIGNhc2VTZW5zaXRpdmUsIHJlZW50cnlCZWhhdmlvciwgdmlld3BvcnQsIGRhdGEsIGNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGV4cGVjdFR5cGUoJ3N0cmluZywgZnVuY3Rpb24vY2xhc3Mgb3Igb2JqZWN0JywgJycsIGNvbmZpZ09yUGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGNvbmZpZ3VyZShjb25maWdPclBhdGgsIFR5cGUpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gUm91dGVDb25maWcuY3JlYXRlKGNvbmZpZ09yUGF0aCwgVHlwZSk7XG4gICAgICAgIE1ldGFkYXRhLmRlZmluZShSb3V0ZS5uYW1lLCBjb25maWcsIFR5cGUpO1xuICAgICAgICByZXR1cm4gVHlwZTtcbiAgICB9XG4gICAgc3RhdGljIGdldENvbmZpZyhUeXBlKSB7XG4gICAgICAgIGlmICghTWV0YWRhdGEuaGFzT3duKFJvdXRlLm5hbWUsIFR5cGUpKSB7XG4gICAgICAgICAgICAvLyBJbiB0aGUgY2FzZSBvZiBhIHR5cGUsIHRoaXMgbWVhbnMgdGhlcmUgd2FzIG5vIEByb3V0ZSBkZWNvcmF0b3Igb24gdGhlIGNsYXNzLlxuICAgICAgICAgICAgLy8gSG93ZXZlciB0aGVyZSBtaWdodCBzdGlsbCBiZSBzdGF0aWMgcHJvcGVydGllcywgYW5kIHRoaXMgQVBJIHByb3ZpZGVzIGEgdW5pZmllZCB3YXkgb2YgYWNjZXNzaW5nIHRob3NlLlxuICAgICAgICAgICAgUm91dGUuY29uZmlndXJlKHt9LCBUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWV0YWRhdGEuZ2V0T3duKFJvdXRlLm5hbWUsIFR5cGUpO1xuICAgIH1cbiAgICBzYXZlVG8oVHlwZSkge1xuICAgICAgICBNZXRhZGF0YS5kZWZpbmUoUm91dGUubmFtZSwgdGhpcywgVHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENoaWxkUm91dGVDb25maWcgZXh0ZW5kcyBSb3V0ZUNvbmZpZyB7XG4gICAgY29uc3RydWN0b3IoaWQsIHBhdGgsIHRpdGxlLCByZWRpcmVjdFRvLCBjYXNlU2Vuc2l0aXZlLCByZWVudHJ5QmVoYXZpb3IsIHZpZXdwb3J0LCBkYXRhLCByb3V0ZXMsIFxuICAgIC8qKlxuICAgICAqIFRoZSBjb21wb25lbnQgdG8gbG9hZCB3aGVuIHRoaXMgcm91dGUgaXMgbWF0Y2hlZC5cbiAgICAgKi9cbiAgICBjb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoaWQsIHBhdGgsIHRpdGxlLCByZWRpcmVjdFRvLCBjYXNlU2Vuc2l0aXZlLCByZWVudHJ5QmVoYXZpb3IsIHZpZXdwb3J0LCBkYXRhLCByb3V0ZXMpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVkaXJlY3RSb3V0ZUNvbmZpZyB7XG4gICAgY29uc3RydWN0b3IocGF0aCwgcmVkaXJlY3RUbywgY2FzZVNlbnNpdGl2ZSkge1xuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLnJlZGlyZWN0VG8gPSByZWRpcmVjdFRvO1xuICAgICAgICB0aGlzLmNhc2VTZW5zaXRpdmUgPSBjYXNlU2Vuc2l0aXZlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBSb3V0ZSA9IHtcbiAgICBuYW1lOiBQcm90b2NvbC5yZXNvdXJjZS5rZXlGb3IoJ3JvdXRlJyksXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNwZWNpZmllZCB0eXBlIGhhcyBhbnkgc3RhdGljIHJvdXRlIGNvbmZpZ3VyYXRpb24gKGVpdGhlciB2aWEgc3RhdGljIHByb3BlcnRpZXMgb3IgYSAmIzY0O3JvdXRlIGRlY29yYXRvcilcbiAgICAgKi9cbiAgICBpc0NvbmZpZ3VyZWQoVHlwZSkge1xuICAgICAgICByZXR1cm4gTWV0YWRhdGEuaGFzT3duKFJvdXRlLm5hbWUsIFR5cGUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIHNwZWNpZmllZCBjb25maWd1cmF0aW9uIHRvIHRoZSBzcGVjaWZpZWQgdHlwZSwgb3ZlcndyaXRpbmcgYW55IGV4aXN0aW5nIGNvbmZpZ3VyYXRpb24uXG4gICAgICovXG4gICAgY29uZmlndXJlKGNvbmZpZ09yUGF0aCwgVHlwZSkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBSb3V0ZUNvbmZpZy5jcmVhdGUoY29uZmlnT3JQYXRoLCBUeXBlKTtcbiAgICAgICAgTWV0YWRhdGEuZGVmaW5lKFJvdXRlLm5hbWUsIGNvbmZpZywgVHlwZSk7XG4gICAgICAgIHJldHVybiBUeXBlO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBgUm91dGVDb25maWdgIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIHR5cGUsIGNyZWF0aW5nIGEgbmV3IG9uZSBpZiBpdCBkb2VzIG5vdCB5ZXQgZXhpc3QuXG4gICAgICovXG4gICAgZ2V0Q29uZmlnKFR5cGUpIHtcbiAgICAgICAgaWYgKCFSb3V0ZS5pc0NvbmZpZ3VyZWQoVHlwZSkpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgdGhlcmUgd2FzIG5vIEByb3V0ZSBkZWNvcmF0b3Igb24gdGhlIGNsYXNzLlxuICAgICAgICAgICAgLy8gSG93ZXZlciB0aGVyZSBtaWdodCBzdGlsbCBiZSBzdGF0aWMgcHJvcGVydGllcywgYW5kIHRoaXMgQVBJIHByb3ZpZGVzIGEgdW5pZmllZCB3YXkgb2YgYWNjZXNzaW5nIHRob3NlLlxuICAgICAgICAgICAgUm91dGUuY29uZmlndXJlKHt9LCBUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWV0YWRhdGEuZ2V0T3duKFJvdXRlLm5hbWUsIFR5cGUpO1xuICAgIH0sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHJvdXRlKGNvbmZpZ09yUGF0aCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBSb3V0ZS5jb25maWd1cmUoY29uZmlnT3JQYXRoLCB0YXJnZXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZS5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/route.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/router-events.js":
/*!****************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/router-events.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IRouterEvents\": () => (/* binding */ IRouterEvents),\n/* harmony export */   \"RouterEvents\": () => (/* binding */ RouterEvents),\n/* harmony export */   \"LocationChangeEvent\": () => (/* binding */ LocationChangeEvent),\n/* harmony export */   \"NavigationStartEvent\": () => (/* binding */ NavigationStartEvent),\n/* harmony export */   \"NavigationEndEvent\": () => (/* binding */ NavigationEndEvent),\n/* harmony export */   \"NavigationCancelEvent\": () => (/* binding */ NavigationCancelEvent),\n/* harmony export */   \"NavigationErrorEvent\": () => (/* binding */ NavigationErrorEvent)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/* eslint-disable @typescript-eslint/restrict-template-expressions */\n\nclass Subscription {\n    constructor(events, \n    /**\n     * A unique serial number that makes individual subscribers more easily distinguishable in chronological order.\n     *\n     * Mainly for debugging purposes.\n     */\n    serial, inner) {\n        this.events = events;\n        this.serial = serial;\n        this.inner = inner;\n        this.disposed = false;\n    }\n    dispose() {\n        if (!this.disposed) {\n            this.disposed = true;\n            this.inner.dispose();\n            const subscriptions = this.events['subscriptions'];\n            subscriptions.splice(subscriptions.indexOf(this), 1);\n        }\n    }\n}\nconst IRouterEvents = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IRouterEvents', x => x.singleton(RouterEvents));\nlet RouterEvents = class RouterEvents {\n    constructor(ea, logger) {\n        this.ea = ea;\n        this.logger = logger;\n        this.subscriptionSerial = 0;\n        this.subscriptions = [];\n        this.logger = logger.scopeTo('RouterEvents');\n    }\n    publish(event) {\n        this.logger.trace(`publishing %s`, event);\n        this.ea.publish(event.name, event);\n    }\n    subscribe(event, callback) {\n        const subscription = new Subscription(this, ++this.subscriptionSerial, this.ea.subscribe(event, (message) => {\n            this.logger.trace(`handling %s for subscription #${subscription.serial}`, event);\n            callback(message);\n        }));\n        this.subscriptions.push(subscription);\n        return subscription;\n    }\n};\nRouterEvents = __decorate([\n    __param(0, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IEventAggregator),\n    __param(1, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger)\n], RouterEvents);\n\nclass LocationChangeEvent {\n    constructor(id, url, trigger, state) {\n        this.id = id;\n        this.url = url;\n        this.trigger = trigger;\n        this.state = state;\n    }\n    get name() { return 'au:router:location-change'; }\n    toString() {\n        return `LocationChangeEvent(id:${this.id},url:'${this.url}',trigger:'${this.trigger}')`;\n    }\n}\nclass NavigationStartEvent {\n    constructor(id, instructions, trigger, managedState) {\n        this.id = id;\n        this.instructions = instructions;\n        this.trigger = trigger;\n        this.managedState = managedState;\n    }\n    get name() { return 'au:router:navigation-start'; }\n    toString() {\n        return `NavigationStartEvent(id:${this.id},instructions:'${this.instructions}',trigger:'${this.trigger}')`;\n    }\n}\nclass NavigationEndEvent {\n    constructor(id, instructions, finalInstructions) {\n        this.id = id;\n        this.instructions = instructions;\n        this.finalInstructions = finalInstructions;\n    }\n    get name() { return 'au:router:navigation-end'; }\n    toString() {\n        return `NavigationEndEvent(id:${this.id},instructions:'${this.instructions}',finalInstructions:'${this.finalInstructions}')`;\n    }\n}\nclass NavigationCancelEvent {\n    constructor(id, instructions, reason) {\n        this.id = id;\n        this.instructions = instructions;\n        this.reason = reason;\n    }\n    get name() { return 'au:router:navigation-cancel'; }\n    toString() {\n        return `NavigationCancelEvent(id:${this.id},instructions:'${this.instructions}',reason:${String(this.reason)})`;\n    }\n}\nclass NavigationErrorEvent {\n    constructor(id, instructions, error) {\n        this.id = id;\n        this.instructions = instructions;\n        this.error = error;\n    }\n    get name() { return 'au:router:navigation-error'; }\n    toString() {\n        return `NavigationErrorEvent(id:${this.id},instructions:'${this.instructions}',error:${String(this.error)})`;\n    }\n}\n//# sourceMappingURL=router-events.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlci1ldmVudHMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlci1ldmVudHMuanM/YjNiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19wYXJhbSA9ICh0aGlzICYmIHRoaXMuX19wYXJhbSkgfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC10ZW1wbGF0ZS1leHByZXNzaW9ucyAqL1xuaW1wb3J0IHsgREksIElFdmVudEFnZ3JlZ2F0b3IsIElMb2dnZXIgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuY2xhc3MgU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihldmVudHMsIFxuICAgIC8qKlxuICAgICAqIEEgdW5pcXVlIHNlcmlhbCBudW1iZXIgdGhhdCBtYWtlcyBpbmRpdmlkdWFsIHN1YnNjcmliZXJzIG1vcmUgZWFzaWx5IGRpc3Rpbmd1aXNoYWJsZSBpbiBjaHJvbm9sb2dpY2FsIG9yZGVyLlxuICAgICAqXG4gICAgICogTWFpbmx5IGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAgICovXG4gICAgc2VyaWFsLCBpbm5lcikge1xuICAgICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgdGhpcy5zZXJpYWwgPSBzZXJpYWw7XG4gICAgICAgIHRoaXMuaW5uZXIgPSBpbm5lcjtcbiAgICAgICAgdGhpcy5kaXNwb3NlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5pbm5lci5kaXNwb3NlKCk7XG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb25zID0gdGhpcy5ldmVudHNbJ3N1YnNjcmlwdGlvbnMnXTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKHN1YnNjcmlwdGlvbnMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY29uc3QgSVJvdXRlckV2ZW50cyA9IERJLmNyZWF0ZUludGVyZmFjZSgnSVJvdXRlckV2ZW50cycsIHggPT4geC5zaW5nbGV0b24oUm91dGVyRXZlbnRzKSk7XG5sZXQgUm91dGVyRXZlbnRzID0gY2xhc3MgUm91dGVyRXZlbnRzIHtcbiAgICBjb25zdHJ1Y3RvcihlYSwgbG9nZ2VyKSB7XG4gICAgICAgIHRoaXMuZWEgPSBlYTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uU2VyaWFsID0gMDtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyLnNjb3BlVG8oJ1JvdXRlckV2ZW50cycpO1xuICAgIH1cbiAgICBwdWJsaXNoKGV2ZW50KSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBwdWJsaXNoaW5nICVzYCwgZXZlbnQpO1xuICAgICAgICB0aGlzLmVhLnB1Ymxpc2goZXZlbnQubmFtZSwgZXZlbnQpO1xuICAgIH1cbiAgICBzdWJzY3JpYmUoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24odGhpcywgKyt0aGlzLnN1YnNjcmlwdGlvblNlcmlhbCwgdGhpcy5lYS5zdWJzY3JpYmUoZXZlbnQsIChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgaGFuZGxpbmcgJXMgZm9yIHN1YnNjcmlwdGlvbiAjJHtzdWJzY3JpcHRpb24uc2VyaWFsfWAsIGV2ZW50KTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfVxufTtcblJvdXRlckV2ZW50cyA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oMCwgSUV2ZW50QWdncmVnYXRvciksXG4gICAgX19wYXJhbSgxLCBJTG9nZ2VyKVxuXSwgUm91dGVyRXZlbnRzKTtcbmV4cG9ydCB7IFJvdXRlckV2ZW50cyB9O1xuZXhwb3J0IGNsYXNzIExvY2F0aW9uQ2hhbmdlRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKGlkLCB1cmwsIHRyaWdnZXIsIHN0YXRlKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMudHJpZ2dlciA9IHRyaWdnZXI7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiAnYXU6cm91dGVyOmxvY2F0aW9uLWNoYW5nZSc7IH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBMb2NhdGlvbkNoYW5nZUV2ZW50KGlkOiR7dGhpcy5pZH0sdXJsOicke3RoaXMudXJsfScsdHJpZ2dlcjonJHt0aGlzLnRyaWdnZXJ9JylgO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uU3RhcnRFdmVudCB7XG4gICAgY29uc3RydWN0b3IoaWQsIGluc3RydWN0aW9ucywgdHJpZ2dlciwgbWFuYWdlZFN0YXRlKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnM7XG4gICAgICAgIHRoaXMudHJpZ2dlciA9IHRyaWdnZXI7XG4gICAgICAgIHRoaXMubWFuYWdlZFN0YXRlID0gbWFuYWdlZFN0YXRlO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuICdhdTpyb3V0ZXI6bmF2aWdhdGlvbi1zdGFydCc7IH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBOYXZpZ2F0aW9uU3RhcnRFdmVudChpZDoke3RoaXMuaWR9LGluc3RydWN0aW9uczonJHt0aGlzLmluc3RydWN0aW9uc30nLHRyaWdnZXI6JyR7dGhpcy50cmlnZ2VyfScpYDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTmF2aWdhdGlvbkVuZEV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihpZCwgaW5zdHJ1Y3Rpb25zLCBmaW5hbEluc3RydWN0aW9ucykge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zO1xuICAgICAgICB0aGlzLmZpbmFsSW5zdHJ1Y3Rpb25zID0gZmluYWxJbnN0cnVjdGlvbnM7XG4gICAgfVxuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gJ2F1OnJvdXRlcjpuYXZpZ2F0aW9uLWVuZCc7IH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBOYXZpZ2F0aW9uRW5kRXZlbnQoaWQ6JHt0aGlzLmlkfSxpbnN0cnVjdGlvbnM6JyR7dGhpcy5pbnN0cnVjdGlvbnN9JyxmaW5hbEluc3RydWN0aW9uczonJHt0aGlzLmZpbmFsSW5zdHJ1Y3Rpb25zfScpYDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTmF2aWdhdGlvbkNhbmNlbEV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihpZCwgaW5zdHJ1Y3Rpb25zLCByZWFzb24pIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucztcbiAgICAgICAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gICAgfVxuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gJ2F1OnJvdXRlcjpuYXZpZ2F0aW9uLWNhbmNlbCc7IH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBOYXZpZ2F0aW9uQ2FuY2VsRXZlbnQoaWQ6JHt0aGlzLmlkfSxpbnN0cnVjdGlvbnM6JyR7dGhpcy5pbnN0cnVjdGlvbnN9JyxyZWFzb246JHtTdHJpbmcodGhpcy5yZWFzb24pfSlgO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uRXJyb3JFdmVudCB7XG4gICAgY29uc3RydWN0b3IoaWQsIGluc3RydWN0aW9ucywgZXJyb3IpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucztcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuICdhdTpyb3V0ZXI6bmF2aWdhdGlvbi1lcnJvcic7IH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBOYXZpZ2F0aW9uRXJyb3JFdmVudChpZDoke3RoaXMuaWR9LGluc3RydWN0aW9uczonJHt0aGlzLmluc3RydWN0aW9uc30nLGVycm9yOiR7U3RyaW5nKHRoaXMuZXJyb3IpfSlgO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdXRlci1ldmVudHMuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/router-events.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/router.js":
/*!*********************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/router.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AuNavId\": () => (/* binding */ AuNavId),\n/* harmony export */   \"isManagedState\": () => (/* binding */ isManagedState),\n/* harmony export */   \"toManagedState\": () => (/* binding */ toManagedState),\n/* harmony export */   \"RouterOptions\": () => (/* binding */ RouterOptions),\n/* harmony export */   \"NavigationOptions\": () => (/* binding */ NavigationOptions),\n/* harmony export */   \"Navigation\": () => (/* binding */ Navigation),\n/* harmony export */   \"Transition\": () => (/* binding */ Transition),\n/* harmony export */   \"IRouter\": () => (/* binding */ IRouter),\n/* harmony export */   \"Router\": () => (/* binding */ Router)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _route_context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./route-context.js */ \"./node_modules/@aurelia/router/dist/esm/route-context.js\");\n/* harmony import */ var _router_events_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./router-events.js */ \"./node_modules/@aurelia/router/dist/esm/router-events.js\");\n/* harmony import */ var _location_manager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./location-manager.js */ \"./node_modules/@aurelia/router/dist/esm/location-manager.js\");\n/* harmony import */ var _route_tree_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./route-tree.js */ \"./node_modules/@aurelia/router/dist/esm/route-tree.js\");\n/* harmony import */ var _instructions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./instructions.js */ \"./node_modules/@aurelia/router/dist/esm/instructions.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./util.js */ \"./node_modules/@aurelia/router/dist/esm/util.js\");\n/* harmony import */ var _route_definition_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./route-definition.js */ \"./node_modules/@aurelia/router/dist/esm/route-definition.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/* eslint-disable @typescript-eslint/restrict-template-expressions */\n\n\n\n\n\n\n\n\n\nconst AuNavId = 'au-nav-id';\nfunction isManagedState(state) {\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isObject)(state) && Object.prototype.hasOwnProperty.call(state, AuNavId) === true;\n}\nfunction toManagedState(state, navId) {\n    return { ...state, [AuNavId]: navId };\n}\nfunction valueOrFuncToValue(instructions, valueOrFunc) {\n    if (typeof valueOrFunc === 'function') {\n        return valueOrFunc(instructions);\n    }\n    return valueOrFunc;\n}\nclass RouterOptions {\n    constructor(useUrlFragmentHash, useHref, statefulHistoryLength, \n    /**\n     * The operating mode of the router that determines how components are resolved based on a url.\n     *\n     * - `configured-only`: only match the url against configured routes.\n     * - `configured-first`: first tries to resolve by configured routes, then by component name from available dependencies. (default)\n     *\n     * Default: `configured-first`\n     */\n    routingMode, swapStrategy, resolutionMode, \n    /**\n     * The strategy to use for determining the query parameters when both the previous and the new url has a query string.\n     *\n     * - `overwrite`: uses the query params of the new url. (default)\n     * - `preserve`: uses the query params of the previous url.\n     * - `merge`: uses the query params of both the previous and the new url. When a param name exists in both, the value from the new url is used.\n     * - A function that returns one of the 3 above values based on the navigation.\n     *\n     * Default: `overwrite`\n     */\n    queryParamsStrategy, \n    /**\n     * The strategy to use for determining the fragment (value that comes after `#`) when both the previous and the new url have one.\n     *\n     * - `overwrite`: uses the fragment of the new url. (default)\n     * - `preserve`: uses the fragment of the previous url.\n     * - A function that returns one of the 2 above values based on the navigation.\n     *\n     * Default: `overwrite`\n     */\n    fragmentStrategy, \n    /**\n     * The strategy to use for interacting with the browser's `history` object (if applicable).\n     *\n     * - `none`: do not interact with the `history` object at all.\n     * - `replace`: replace the current state in history\n     * - `push`: push a new state onto the history (default)\n     * - A function that returns one of the 3 above values based on the navigation.\n     *\n     * Default: `push`\n     */\n    historyStrategy, \n    /**\n     * The strategy to use for when navigating to the same URL.\n     *\n     * - `ignore`: do nothing (default).\n     * - `reload`: reload the current URL, effectively performing a refresh.\n     * - A function that returns one of the 2 above values based on the navigation.\n     *\n     * Default: `ignore`\n     */\n    sameUrlStrategy) {\n        this.useUrlFragmentHash = useUrlFragmentHash;\n        this.useHref = useHref;\n        this.statefulHistoryLength = statefulHistoryLength;\n        this.routingMode = routingMode;\n        this.swapStrategy = swapStrategy;\n        this.resolutionMode = resolutionMode;\n        this.queryParamsStrategy = queryParamsStrategy;\n        this.fragmentStrategy = fragmentStrategy;\n        this.historyStrategy = historyStrategy;\n        this.sameUrlStrategy = sameUrlStrategy;\n    }\n    static get DEFAULT() { return RouterOptions.create({}); }\n    static create(input) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        return new RouterOptions((_a = input.useUrlFragmentHash) !== null && _a !== void 0 ? _a : false, (_b = input.useHref) !== null && _b !== void 0 ? _b : true, (_c = input.statefulHistoryLength) !== null && _c !== void 0 ? _c : 0, (_d = input.routingMode) !== null && _d !== void 0 ? _d : 'configured-first', (_e = input.swapStrategy) !== null && _e !== void 0 ? _e : 'sequential-remove-first', (_f = input.resolutionMode) !== null && _f !== void 0 ? _f : 'dynamic', (_g = input.queryParamsStrategy) !== null && _g !== void 0 ? _g : 'overwrite', (_h = input.fragmentStrategy) !== null && _h !== void 0 ? _h : 'overwrite', (_j = input.historyStrategy) !== null && _j !== void 0 ? _j : 'push', (_k = input.sameUrlStrategy) !== null && _k !== void 0 ? _k : 'ignore');\n    }\n    /** @internal */\n    getQueryParamsStrategy(instructions) {\n        return valueOrFuncToValue(instructions, this.queryParamsStrategy);\n    }\n    /** @internal */\n    getFragmentStrategy(instructions) {\n        return valueOrFuncToValue(instructions, this.fragmentStrategy);\n    }\n    /** @internal */\n    getHistoryStrategy(instructions) {\n        return valueOrFuncToValue(instructions, this.historyStrategy);\n    }\n    /** @internal */\n    getSameUrlStrategy(instructions) {\n        return valueOrFuncToValue(instructions, this.sameUrlStrategy);\n    }\n    stringifyProperties() {\n        return [\n            ['routingMode', 'mode'],\n            ['swapStrategy', 'swap'],\n            ['resolutionMode', 'resolution'],\n            ['queryParamsStrategy', 'queryParams'],\n            ['fragmentStrategy', 'fragment'],\n            ['historyStrategy', 'history'],\n            ['sameUrlStrategy', 'sameUrl'],\n        ].map(([key, name]) => {\n            const value = this[key];\n            return `${name}:${typeof value === 'function' ? value : `'${value}'`}`;\n        }).join(',');\n    }\n    clone() {\n        return new RouterOptions(this.useUrlFragmentHash, this.useHref, this.statefulHistoryLength, this.routingMode, this.swapStrategy, this.resolutionMode, this.queryParamsStrategy, this.fragmentStrategy, this.historyStrategy, this.sameUrlStrategy);\n    }\n    toString() {\n        return `RO(${this.stringifyProperties()})`;\n    }\n}\nclass NavigationOptions extends RouterOptions {\n    constructor(routerOptions, title, titleSeparator, append, \n    /**\n     * Specify a context to use for relative navigation.\n     *\n     * - `null` (or empty): navigate relative to the root (absolute navigation)\n     * - `IRouteContext`: navigate relative to specifically this RouteContext (advanced users).\n     * - `HTMLElement`: navigate relative to the routeable component (page) that directly or indirectly contains this element.\n     * - `ICustomElementViewModel` (the `this` object when working from inside a view model): navigate relative to this component (if it was loaded as a route), or the routeable component (page) directly or indirectly containing it.\n     * - `ICustomElementController`: same as `ICustomElementViewModel`, but using the controller object instead of the view model object (advanced users).\n     */\n    context, \n    /**\n     * Specify an object to be serialized to a query string, and then set to the query string of the new URL.\n     */\n    queryParams, \n    /**\n     * Specify the hash fragment for the new URL.\n     */\n    fragment, \n    /**\n     * Specify any kind of state to be stored together with the history entry for this navigation.\n     */\n    state) {\n        super(routerOptions.useUrlFragmentHash, routerOptions.useHref, routerOptions.statefulHistoryLength, routerOptions.routingMode, routerOptions.swapStrategy, routerOptions.resolutionMode, routerOptions.queryParamsStrategy, routerOptions.fragmentStrategy, routerOptions.historyStrategy, routerOptions.sameUrlStrategy);\n        this.title = title;\n        this.titleSeparator = titleSeparator;\n        this.append = append;\n        this.context = context;\n        this.queryParams = queryParams;\n        this.fragment = fragment;\n        this.state = state;\n    }\n    static get DEFAULT() { return NavigationOptions.create({}); }\n    static create(input) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        return new NavigationOptions(RouterOptions.create(input), (_a = input.title) !== null && _a !== void 0 ? _a : null, (_b = input.titleSeparator) !== null && _b !== void 0 ? _b : ' | ', (_c = input.append) !== null && _c !== void 0 ? _c : false, (_d = input.context) !== null && _d !== void 0 ? _d : null, (_e = input.queryParams) !== null && _e !== void 0 ? _e : null, (_f = input.fragment) !== null && _f !== void 0 ? _f : '', (_g = input.state) !== null && _g !== void 0 ? _g : null);\n    }\n    clone() {\n        return new NavigationOptions(super.clone(), this.title, this.titleSeparator, this.append, this.context, { ...this.queryParams }, this.fragment, this.state === null ? null : { ...this.state });\n    }\n    toString() {\n        return `NO(${super.stringifyProperties()})`;\n    }\n}\nclass Navigation {\n    constructor(id, instructions, trigger, options, prevNavigation, \n    // Set on next navigation, this is the route after all redirects etc have been processed.\n    finalInstructions) {\n        this.id = id;\n        this.instructions = instructions;\n        this.trigger = trigger;\n        this.options = options;\n        this.prevNavigation = prevNavigation;\n        this.finalInstructions = finalInstructions;\n    }\n    static create(input) {\n        return new Navigation(input.id, input.instructions, input.trigger, input.options, input.prevNavigation, input.finalInstructions);\n    }\n    toString() {\n        return `N(id:${this.id},instructions:${this.instructions},trigger:'${this.trigger}')`;\n    }\n}\nclass Transition {\n    constructor(id, prevInstructions, instructions, finalInstructions, instructionsChanged, trigger, options, managedState, previousRouteTree, routeTree, promise, resolve, reject, guardsResult, error) {\n        this.id = id;\n        this.prevInstructions = prevInstructions;\n        this.instructions = instructions;\n        this.finalInstructions = finalInstructions;\n        this.instructionsChanged = instructionsChanged;\n        this.trigger = trigger;\n        this.options = options;\n        this.managedState = managedState;\n        this.previousRouteTree = previousRouteTree;\n        this.routeTree = routeTree;\n        this.promise = promise;\n        this.resolve = resolve;\n        this.reject = reject;\n        this.guardsResult = guardsResult;\n        this.error = error;\n    }\n    static create(input) {\n        return new Transition(input.id, input.prevInstructions, input.instructions, input.finalInstructions, input.instructionsChanged, input.trigger, input.options, input.managedState, input.previousRouteTree, input.routeTree, input.promise, input.resolve, input.reject, input.guardsResult, void 0);\n    }\n    run(cb, next) {\n        if (this.guardsResult !== true) {\n            return;\n        }\n        try {\n            const ret = cb();\n            if (ret instanceof Promise) {\n                ret.then(next).catch(err => {\n                    this.handleError(err);\n                });\n            }\n            else {\n                next(ret);\n            }\n        }\n        catch (err) {\n            this.handleError(err);\n        }\n    }\n    handleError(err) {\n        this.reject(this.error = err);\n    }\n    toString() {\n        return `T(id:${this.id},trigger:'${this.trigger}',instructions:${this.instructions},options:${this.options})`;\n    }\n}\nconst IRouter = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IRouter', x => x.singleton(Router));\nlet Router = class Router {\n    constructor(container, p, logger, events, locationMgr) {\n        this.container = container;\n        this.p = p;\n        this.logger = logger;\n        this.events = events;\n        this.locationMgr = locationMgr;\n        this._ctx = null;\n        this._routeTree = null;\n        this._currentTr = null;\n        this.options = RouterOptions.DEFAULT;\n        this.navigated = false;\n        this.navigationId = 0;\n        this.lastSuccessfulNavigation = null;\n        this.activeNavigation = null;\n        this.instructions = _instructions_js__WEBPACK_IMPORTED_MODULE_6__.ViewportInstructionTree.create('');\n        this.nextTr = null;\n        this.locationChangeSubscription = null;\n        this.vpaLookup = new Map();\n        this.logger = logger.root.scopeTo('Router');\n    }\n    get ctx() {\n        let ctx = this._ctx;\n        if (ctx === null) {\n            if (!this.container.has(_route_context_js__WEBPACK_IMPORTED_MODULE_2__.IRouteContext, true)) {\n                throw new Error(`Root RouteContext is not set. Did you forget to register RouteConfiguration, or try to navigate before calling Aurelia.start()?`);\n            }\n            ctx = this._ctx = this.container.get(_route_context_js__WEBPACK_IMPORTED_MODULE_2__.IRouteContext);\n        }\n        return ctx;\n    }\n    get routeTree() {\n        let routeTree = this._routeTree;\n        if (routeTree === null) {\n            // Lazy instantiation for only the very first (synthetic) tree.\n            // Doing it here instead of in the constructor to delay it until we have the context.\n            const ctx = this.ctx;\n            routeTree = this._routeTree = new _route_tree_js__WEBPACK_IMPORTED_MODULE_5__.RouteTree(NavigationOptions.create({ ...this.options }), Object.freeze(new URLSearchParams()), null, _route_tree_js__WEBPACK_IMPORTED_MODULE_5__.RouteNode.create({\n                path: '',\n                finalPath: '',\n                context: ctx,\n                instruction: null,\n                component: ctx.definition.component,\n                append: false,\n            }));\n        }\n        return routeTree;\n    }\n    get currentTr() {\n        let currentTr = this._currentTr;\n        if (currentTr === null) {\n            currentTr = this._currentTr = Transition.create({\n                id: 0,\n                prevInstructions: this.instructions,\n                instructions: this.instructions,\n                finalInstructions: this.instructions,\n                instructionsChanged: true,\n                trigger: 'api',\n                options: NavigationOptions.DEFAULT,\n                managedState: null,\n                previousRouteTree: this.routeTree.clone(),\n                routeTree: this.routeTree,\n                resolve: null,\n                reject: null,\n                promise: null,\n                guardsResult: true,\n                error: void 0,\n            });\n        }\n        return currentTr;\n    }\n    set currentTr(value) {\n        this._currentTr = value;\n    }\n    /**\n     * Get the closest RouteContext relative to the provided component, controller or node.\n     *\n     * @param context - The object from which to resolve the closest RouteContext.\n     *\n     * @returns when the value is:\n     * - `null`: the root\n     * - `IRouteContext`: the provided value (no-op)\n     * - `HTMLElement`: the context of the routeable component (page) that directly or indirectly contains this element.\n     * - `ICustomElementViewModel` (the `this` object when working from inside a view model): the context of this component (if it was loaded as a route), or the routeable component (page) directly or indirectly containing it.\n     * - `ICustomElementController`: same as `ICustomElementViewModel`, but using the controller object instead of the view model object (advanced users).\n     */\n    resolveContext(context) {\n        return _route_context_js__WEBPACK_IMPORTED_MODULE_2__.RouteContext.resolve(this.ctx, context);\n    }\n    start(routerOptions, performInitialNavigation) {\n        this.options = RouterOptions.create(routerOptions);\n        this.locationMgr.startListening();\n        this.locationChangeSubscription = this.events.subscribe('au:router:location-change', e => {\n            // TODO(fkleuver): add a throttle config.\n            // At the time of writing, chromium throttles popstate events at a maximum of ~100 per second.\n            // While macroTasks run up to 250 times per second, it is extremely unlikely that more than ~100 per second of these will run due to the double queueing.\n            // However, this throttle limit could theoretically be hit by e.g. integration tests that don't mock Location/History.\n            this.p.taskQueue.queueTask(() => {\n                // Don't try to restore state that might not have anything to do with the Aurelia app\n                const state = isManagedState(e.state) ? e.state : null;\n                const options = NavigationOptions.create({\n                    ...this.options,\n                    historyStrategy: 'replace',\n                });\n                const instructions = _instructions_js__WEBPACK_IMPORTED_MODULE_6__.ViewportInstructionTree.create(e.url, options);\n                // The promise will be stored in the transition. However, unlike `load()`, `start()` does not return this promise in any way.\n                // The router merely guarantees that it will be awaited (or canceled) before the next transition, so a race condition is impossible either way.\n                // However, it is possible to get floating promises lingering during non-awaited unit tests, which could have unpredictable side-effects.\n                // So we do want to solve this at some point.\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                this.enqueue(instructions, e.trigger, state, null);\n            });\n        });\n        if (!this.navigated && performInitialNavigation) {\n            return this.load(this.locationMgr.getPath(), { historyStrategy: 'replace' });\n        }\n    }\n    stop() {\n        var _a;\n        this.locationMgr.stopListening();\n        (_a = this.locationChangeSubscription) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n    load(instructionOrInstructions, options) {\n        const instructions = this.createViewportInstructions(instructionOrInstructions, options);\n        this.logger.trace('load(instructions:%s)', instructions);\n        return this.enqueue(instructions, 'api', null, null);\n    }\n    isActive(instructionOrInstructions, context) {\n        const ctx = this.resolveContext(context);\n        const instructions = this.createViewportInstructions(instructionOrInstructions, { context: ctx });\n        this.logger.trace('isActive(instructions:%s,ctx:%s)', instructions, ctx);\n        // TODO: incorporate potential context offset by `../` etc in the instructions\n        return this.routeTree.contains(instructions);\n    }\n    /**\n     * Retrieve the RouteContext, which contains statically configured routes combined with the customElement metadata associated with a type.\n     *\n     * The customElement metadata is lazily associated with a type via the RouteContext the first time `getOrCreate` is called.\n     *\n     * This API is also used for direct routing even when there is no configuration at all.\n     *\n     * @param viewportAgent - The ViewportAgent hosting the component associated with this RouteContext. If the RouteContext for the component+viewport combination already exists, the ViewportAgent will be updated in case it changed.\n     * @param component - The custom element definition.\n     * @param renderContext - The `controller.context` of the component hosting the viewport that the route will be loaded into.\n     *\n     */\n    getRouteContext(viewportAgent, component, renderContext) {\n        const logger = renderContext.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger).scopeTo('RouteContext');\n        const routeDefinition = _route_definition_js__WEBPACK_IMPORTED_MODULE_8__.RouteDefinition.resolve(component.Type);\n        let routeDefinitionLookup = this.vpaLookup.get(viewportAgent);\n        if (routeDefinitionLookup === void 0) {\n            this.vpaLookup.set(viewportAgent, routeDefinitionLookup = new WeakMap());\n        }\n        let routeContext = routeDefinitionLookup.get(routeDefinition);\n        if (routeContext === void 0) {\n            logger.trace(`creating new RouteContext for %s`, routeDefinition);\n            const parent = renderContext.has(_route_context_js__WEBPACK_IMPORTED_MODULE_2__.IRouteContext, true) ? renderContext.get(_route_context_js__WEBPACK_IMPORTED_MODULE_2__.IRouteContext) : null;\n            routeDefinitionLookup.set(routeDefinition, routeContext = new _route_context_js__WEBPACK_IMPORTED_MODULE_2__.RouteContext(viewportAgent, parent, component, routeDefinition, renderContext));\n        }\n        else {\n            logger.trace(`returning existing RouteContext for %s`, routeDefinition);\n            if (viewportAgent !== null) {\n                routeContext.vpa = viewportAgent;\n            }\n        }\n        return routeContext;\n    }\n    createViewportInstructions(instructionOrInstructions, options) {\n        return _instructions_js__WEBPACK_IMPORTED_MODULE_6__.ViewportInstructionTree.create(instructionOrInstructions, this.getNavigationOptions(options));\n    }\n    /**\n     * Enqueue an instruction tree to be processed as soon as possible.\n     *\n     * Will wait for any existing in-flight transition to finish, otherwise starts immediately.\n     *\n     * @param instructions - The instruction tree that determines the transition\n     * @param trigger - `'popstate'` or `'hashchange'` if initiated by a browser event, or `'api'` for manually initiated transitions via the `load` api.\n     * @param state - The state to restore, if any.\n     * @param failedTr - If this is a redirect / fallback from a failed transition, the previous transition is passed forward to ensure the orinal promise resolves with the latest result.\n     */\n    enqueue(instructions, trigger, state, failedTr) {\n        const lastTr = this.currentTr;\n        if (trigger !== 'api' && lastTr.trigger === 'api' && lastTr.instructions.equals(instructions)) {\n            // User-triggered navigation that results in `replaceState` with the same URL. The API call already triggered the navigation; event is ignored.\n            this.logger.debug(`Ignoring navigation triggered by '%s' because it is the same URL as the previous navigation which was triggered by 'api'.`, trigger);\n            return true;\n        }\n        let resolve = (void 0); // Need this initializer because TS doesn't know the promise executor will run synchronously\n        let reject = (void 0);\n        let promise;\n        if (failedTr === null) {\n            promise = new Promise(function ($resolve, $reject) { resolve = $resolve; reject = $reject; });\n        }\n        else {\n            // Ensure that `await router.load` only resolves when the transition truly finished, so chain forward on top of\n            // any previously failed transition that caused a recovering backwards navigation.\n            this.logger.debug(`Reusing promise/resolve/reject from the previously failed transition %s`, failedTr);\n            promise = failedTr.promise;\n            resolve = failedTr.resolve;\n            reject = failedTr.reject;\n        }\n        // This is an intentional overwrite: if a new transition is scheduled while the currently scheduled transition hasn't even started yet,\n        // then the currently scheduled transition is effectively canceled/ignored.\n        // This is consistent with the runtime's controller behavior, where if you rapidly call async activate -> deactivate -> activate (for example), then the deactivate is canceled.\n        const nextTr = this.nextTr = Transition.create({\n            id: ++this.navigationId,\n            trigger,\n            managedState: state,\n            prevInstructions: lastTr.finalInstructions,\n            finalInstructions: instructions,\n            instructionsChanged: !lastTr.finalInstructions.equals(instructions),\n            instructions,\n            options: instructions.options,\n            promise,\n            resolve,\n            reject,\n            previousRouteTree: this.routeTree,\n            routeTree: this._routeTree = this.routeTree.clone(),\n            guardsResult: true,\n            error: void 0,\n        });\n        this.logger.debug(`Scheduling transition: %s`, nextTr);\n        if (this.activeNavigation === null) {\n            // Catch any errors that might be thrown by `run` and reject the original promise which is awaited down below\n            try {\n                this.run(nextTr);\n            }\n            catch (err) {\n                nextTr.handleError(err);\n            }\n        }\n        return nextTr.promise.then(ret => {\n            this.logger.debug(`Transition succeeded: %s`, nextTr);\n            return ret;\n        }).catch(err => {\n            this.logger.error(`Navigation failed: %s`, nextTr, err);\n            throw err;\n        });\n    }\n    run(tr) {\n        this.currentTr = tr;\n        this.nextTr = null;\n        // Clone it because the prevNavigation could have observers and stuff on it, and it's meant to be a standalone snapshot from here on.\n        const prevNavigation = this.lastSuccessfulNavigation === null ? null : Navigation.create({\n            ...this.lastSuccessfulNavigation,\n            // There could be arbitrary state stored on a navigation, so to prevent memory leaks we only keep one `prevNavigation` around\n            prevNavigation: null,\n        });\n        this.activeNavigation = Navigation.create({\n            id: tr.id,\n            instructions: tr.instructions,\n            trigger: tr.trigger,\n            options: tr.options,\n            prevNavigation,\n            finalInstructions: tr.finalInstructions,\n        });\n        const navigationContext = this.resolveContext(tr.options.context);\n        const routeChanged = (!this.navigated ||\n            tr.instructions.children.length !== navigationContext.node.children.length ||\n            tr.instructions.children.some((x, i) => { var _a, _b; return !((_b = (_a = navigationContext.node.children[i]) === null || _a === void 0 ? void 0 : _a.originalInstruction.equals(x)) !== null && _b !== void 0 ? _b : false); }));\n        const shouldProcessRoute = routeChanged || tr.options.getSameUrlStrategy(this.instructions) === 'reload';\n        if (!shouldProcessRoute) {\n            this.logger.trace(`run(tr:%s) - NOT processing route`, tr);\n            this.navigated = true;\n            this.activeNavigation = null;\n            tr.resolve(false);\n            this.runNextTransition(tr);\n            return;\n        }\n        this.logger.trace(`run(tr:%s) - processing route`, tr);\n        this.events.publish(new _router_events_js__WEBPACK_IMPORTED_MODULE_3__.NavigationStartEvent(tr.id, tr.instructions, tr.trigger, tr.managedState));\n        // If user triggered a new transition in response to the NavigationStartEvent\n        // (in which case `this.nextTransition` will NOT be null), we short-circuit here and go straight to processing the next one.\n        if (this.nextTr !== null) {\n            this.logger.debug(`run(tr:%s) - aborting because a new transition was queued in response to the NavigationStartEvent`, tr);\n            return this.run(this.nextTr);\n        }\n        this.activeNavigation = Navigation.create({\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n            ...this.activeNavigation,\n            // After redirects are applied, this could be a different route\n            finalInstructions: tr.finalInstructions,\n        });\n        // TODO: run global guards\n        //\n        //\n        // ---\n        tr.run(() => {\n            this.logger.trace(`run() - compiling route tree: %s`, tr.finalInstructions);\n            return (0,_route_tree_js__WEBPACK_IMPORTED_MODULE_5__.updateRouteTree)(tr.routeTree, tr.finalInstructions, navigationContext);\n        }, () => {\n            const prev = tr.previousRouteTree.root.children;\n            const next = tr.routeTree.root.children;\n            const all = (0,_util_js__WEBPACK_IMPORTED_MODULE_7__.mergeDistinct)(prev, next);\n            _util_js__WEBPACK_IMPORTED_MODULE_7__.Batch.start(b => {\n                this.logger.trace(`run() - invoking canUnload on ${prev.length} nodes`);\n                for (const node of prev) {\n                    node.context.vpa.canUnload(tr, b);\n                }\n            }).continueWith(b => {\n                if (tr.guardsResult !== true) {\n                    b.push(); // prevent the next step in the batch from running\n                    this.cancelNavigation(tr);\n                }\n            }).continueWith(b => {\n                this.logger.trace(`run() - invoking canLoad on ${next.length} nodes`);\n                for (const node of next) {\n                    node.context.vpa.canLoad(tr, b);\n                }\n            }).continueWith(b => {\n                if (tr.guardsResult !== true) {\n                    b.push();\n                    this.cancelNavigation(tr);\n                }\n            }).continueWith(b => {\n                this.logger.trace(`run() - invoking unload on ${prev.length} nodes`);\n                for (const node of prev) {\n                    node.context.vpa.unload(tr, b);\n                }\n            }).continueWith(b => {\n                this.logger.trace(`run() - invoking load on ${next.length} nodes`);\n                for (const node of next) {\n                    node.context.vpa.load(tr, b);\n                }\n            }).continueWith(b => {\n                this.logger.trace(`run() - invoking swap on ${all.length} nodes`);\n                for (const node of all) {\n                    node.context.vpa.swap(tr, b);\n                }\n            }).continueWith(() => {\n                this.logger.trace(`run() - finalizing transition`);\n                // order doesn't matter for this operation\n                all.forEach(function (node) {\n                    node.context.vpa.endTransition();\n                });\n                this.navigated = true;\n                this.instructions = tr.finalInstructions = tr.routeTree.finalizeInstructions();\n                this.events.publish(new _router_events_js__WEBPACK_IMPORTED_MODULE_3__.NavigationEndEvent(tr.id, tr.instructions, this.instructions));\n                this.lastSuccessfulNavigation = this.activeNavigation;\n                this.activeNavigation = null;\n                this.applyHistoryState(tr);\n                tr.resolve(true);\n                this.runNextTransition(tr);\n            }).start();\n        });\n    }\n    applyHistoryState(tr) {\n        switch (tr.options.getHistoryStrategy(this.instructions)) {\n            case 'none':\n                // do nothing\n                break;\n            case 'push':\n                this.locationMgr.pushState(toManagedState(tr.options.state, tr.id), this.updateTitle(tr), tr.finalInstructions.toUrl());\n                break;\n            case 'replace':\n                this.locationMgr.replaceState(toManagedState(tr.options.state, tr.id), this.updateTitle(tr), tr.finalInstructions.toUrl());\n                break;\n        }\n    }\n    getTitle(tr) {\n        var _a, _b;\n        switch (typeof tr.options.title) {\n            case 'function':\n                return (_a = tr.options.title.call(void 0, tr.routeTree.root)) !== null && _a !== void 0 ? _a : '';\n            case 'string':\n                return tr.options.title;\n            default:\n                return (_b = tr.routeTree.root.getTitle(tr.options.titleSeparator)) !== null && _b !== void 0 ? _b : '';\n        }\n    }\n    updateTitle(tr) {\n        const title = this.getTitle(tr);\n        if (title.length > 0) {\n            this.p.document.title = title;\n        }\n        return this.p.document.title;\n    }\n    cancelNavigation(tr) {\n        this.logger.trace(`cancelNavigation(tr:%s)`, tr);\n        const prev = tr.previousRouteTree.root.children;\n        const next = tr.routeTree.root.children;\n        const all = (0,_util_js__WEBPACK_IMPORTED_MODULE_7__.mergeDistinct)(prev, next);\n        // order doesn't matter for this operation\n        all.forEach(function (node) {\n            node.context.vpa.cancelUpdate();\n        });\n        this.activeNavigation = null;\n        this.instructions = tr.prevInstructions;\n        this._routeTree = tr.previousRouteTree;\n        this.events.publish(new _router_events_js__WEBPACK_IMPORTED_MODULE_3__.NavigationCancelEvent(tr.id, tr.instructions, `guardsResult is ${tr.guardsResult}`));\n        if (tr.guardsResult === false) {\n            tr.resolve(false);\n            // In case a new navigation was requested in the meantime, immediately start processing it\n            this.runNextTransition(tr);\n        }\n        else {\n            void (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.enqueue(tr.guardsResult, 'api', tr.managedState, tr), () => {\n                this.logger.trace(`cancelNavigation(tr:%s) - finished redirect`, tr);\n            });\n        }\n    }\n    runNextTransition(tr) {\n        if (this.nextTr !== null) {\n            this.logger.trace(`runNextTransition(tr:%s) -> scheduling nextTransition: %s`, tr, this.nextTr);\n            this.p.taskQueue.queueTask(() => {\n                // nextTransition is allowed to change up until the point when it's actually time to process it,\n                // so we need to check it for null again when the scheduled task runs.\n                const nextTr = this.nextTr;\n                if (nextTr !== null) {\n                    try {\n                        this.run(nextTr);\n                    }\n                    catch (err) {\n                        nextTr.handleError(err);\n                    }\n                }\n            });\n        }\n    }\n    getNavigationOptions(options) {\n        return NavigationOptions.create({ ...this.options, ...options });\n    }\n};\nRouter = __decorate([\n    __param(0, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IContainer),\n    __param(1, _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IPlatform),\n    __param(2, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger),\n    __param(3, _router_events_js__WEBPACK_IMPORTED_MODULE_3__.IRouterEvents),\n    __param(4, _location_manager_js__WEBPACK_IMPORTED_MODULE_4__.ILocationManager)\n], Router);\n\n//# sourceMappingURL=router.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3JvdXRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9yb3V0ZXIvZGlzdC9lc20vcm91dGVyLmpzPzI2NmIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVzdHJpY3QtdGVtcGxhdGUtZXhwcmVzc2lvbnMgKi9cbmltcG9ydCB7IElDb250YWluZXIsIElMb2dnZXIsIGlzT2JqZWN0LCBESSwgb25SZXNvbHZlIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IElQbGF0Zm9ybSB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUtaHRtbCc7XG5pbXBvcnQgeyBJUm91dGVDb250ZXh0LCBSb3V0ZUNvbnRleHQgfSBmcm9tICcuL3JvdXRlLWNvbnRleHQuanMnO1xuaW1wb3J0IHsgSVJvdXRlckV2ZW50cywgTmF2aWdhdGlvblN0YXJ0RXZlbnQsIE5hdmlnYXRpb25FbmRFdmVudCwgTmF2aWdhdGlvbkNhbmNlbEV2ZW50IH0gZnJvbSAnLi9yb3V0ZXItZXZlbnRzLmpzJztcbmltcG9ydCB7IElMb2NhdGlvbk1hbmFnZXIgfSBmcm9tICcuL2xvY2F0aW9uLW1hbmFnZXIuanMnO1xuaW1wb3J0IHsgUm91dGVUcmVlLCBSb3V0ZU5vZGUsIHVwZGF0ZVJvdXRlVHJlZSB9IGZyb20gJy4vcm91dGUtdHJlZS5qcyc7XG5pbXBvcnQgeyBWaWV3cG9ydEluc3RydWN0aW9uVHJlZSB9IGZyb20gJy4vaW5zdHJ1Y3Rpb25zLmpzJztcbmltcG9ydCB7IEJhdGNoLCBtZXJnZURpc3RpbmN0IH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7IFJvdXRlRGVmaW5pdGlvbiB9IGZyb20gJy4vcm91dGUtZGVmaW5pdGlvbi5qcyc7XG5leHBvcnQgY29uc3QgQXVOYXZJZCA9ICdhdS1uYXYtaWQnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTWFuYWdlZFN0YXRlKHN0YXRlKSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHN0YXRlKSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc3RhdGUsIEF1TmF2SWQpID09PSB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvTWFuYWdlZFN0YXRlKHN0YXRlLCBuYXZJZCkge1xuICAgIHJldHVybiB7IC4uLnN0YXRlLCBbQXVOYXZJZF06IG5hdklkIH07XG59XG5mdW5jdGlvbiB2YWx1ZU9yRnVuY1RvVmFsdWUoaW5zdHJ1Y3Rpb25zLCB2YWx1ZU9yRnVuYykge1xuICAgIGlmICh0eXBlb2YgdmFsdWVPckZ1bmMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlT3JGdW5jKGluc3RydWN0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZU9yRnVuYztcbn1cbmV4cG9ydCBjbGFzcyBSb3V0ZXJPcHRpb25zIHtcbiAgICBjb25zdHJ1Y3Rvcih1c2VVcmxGcmFnbWVudEhhc2gsIHVzZUhyZWYsIHN0YXRlZnVsSGlzdG9yeUxlbmd0aCwgXG4gICAgLyoqXG4gICAgICogVGhlIG9wZXJhdGluZyBtb2RlIG9mIHRoZSByb3V0ZXIgdGhhdCBkZXRlcm1pbmVzIGhvdyBjb21wb25lbnRzIGFyZSByZXNvbHZlZCBiYXNlZCBvbiBhIHVybC5cbiAgICAgKlxuICAgICAqIC0gYGNvbmZpZ3VyZWQtb25seWA6IG9ubHkgbWF0Y2ggdGhlIHVybCBhZ2FpbnN0IGNvbmZpZ3VyZWQgcm91dGVzLlxuICAgICAqIC0gYGNvbmZpZ3VyZWQtZmlyc3RgOiBmaXJzdCB0cmllcyB0byByZXNvbHZlIGJ5IGNvbmZpZ3VyZWQgcm91dGVzLCB0aGVuIGJ5IGNvbXBvbmVudCBuYW1lIGZyb20gYXZhaWxhYmxlIGRlcGVuZGVuY2llcy4gKGRlZmF1bHQpXG4gICAgICpcbiAgICAgKiBEZWZhdWx0OiBgY29uZmlndXJlZC1maXJzdGBcbiAgICAgKi9cbiAgICByb3V0aW5nTW9kZSwgc3dhcFN0cmF0ZWd5LCByZXNvbHV0aW9uTW9kZSwgXG4gICAgLyoqXG4gICAgICogVGhlIHN0cmF0ZWd5IHRvIHVzZSBmb3IgZGV0ZXJtaW5pbmcgdGhlIHF1ZXJ5IHBhcmFtZXRlcnMgd2hlbiBib3RoIHRoZSBwcmV2aW91cyBhbmQgdGhlIG5ldyB1cmwgaGFzIGEgcXVlcnkgc3RyaW5nLlxuICAgICAqXG4gICAgICogLSBgb3ZlcndyaXRlYDogdXNlcyB0aGUgcXVlcnkgcGFyYW1zIG9mIHRoZSBuZXcgdXJsLiAoZGVmYXVsdClcbiAgICAgKiAtIGBwcmVzZXJ2ZWA6IHVzZXMgdGhlIHF1ZXJ5IHBhcmFtcyBvZiB0aGUgcHJldmlvdXMgdXJsLlxuICAgICAqIC0gYG1lcmdlYDogdXNlcyB0aGUgcXVlcnkgcGFyYW1zIG9mIGJvdGggdGhlIHByZXZpb3VzIGFuZCB0aGUgbmV3IHVybC4gV2hlbiBhIHBhcmFtIG5hbWUgZXhpc3RzIGluIGJvdGgsIHRoZSB2YWx1ZSBmcm9tIHRoZSBuZXcgdXJsIGlzIHVzZWQuXG4gICAgICogLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBvbmUgb2YgdGhlIDMgYWJvdmUgdmFsdWVzIGJhc2VkIG9uIHRoZSBuYXZpZ2F0aW9uLlxuICAgICAqXG4gICAgICogRGVmYXVsdDogYG92ZXJ3cml0ZWBcbiAgICAgKi9cbiAgICBxdWVyeVBhcmFtc1N0cmF0ZWd5LCBcbiAgICAvKipcbiAgICAgKiBUaGUgc3RyYXRlZ3kgdG8gdXNlIGZvciBkZXRlcm1pbmluZyB0aGUgZnJhZ21lbnQgKHZhbHVlIHRoYXQgY29tZXMgYWZ0ZXIgYCNgKSB3aGVuIGJvdGggdGhlIHByZXZpb3VzIGFuZCB0aGUgbmV3IHVybCBoYXZlIG9uZS5cbiAgICAgKlxuICAgICAqIC0gYG92ZXJ3cml0ZWA6IHVzZXMgdGhlIGZyYWdtZW50IG9mIHRoZSBuZXcgdXJsLiAoZGVmYXVsdClcbiAgICAgKiAtIGBwcmVzZXJ2ZWA6IHVzZXMgdGhlIGZyYWdtZW50IG9mIHRoZSBwcmV2aW91cyB1cmwuXG4gICAgICogLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBvbmUgb2YgdGhlIDIgYWJvdmUgdmFsdWVzIGJhc2VkIG9uIHRoZSBuYXZpZ2F0aW9uLlxuICAgICAqXG4gICAgICogRGVmYXVsdDogYG92ZXJ3cml0ZWBcbiAgICAgKi9cbiAgICBmcmFnbWVudFN0cmF0ZWd5LCBcbiAgICAvKipcbiAgICAgKiBUaGUgc3RyYXRlZ3kgdG8gdXNlIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBicm93c2VyJ3MgYGhpc3RvcnlgIG9iamVjdCAoaWYgYXBwbGljYWJsZSkuXG4gICAgICpcbiAgICAgKiAtIGBub25lYDogZG8gbm90IGludGVyYWN0IHdpdGggdGhlIGBoaXN0b3J5YCBvYmplY3QgYXQgYWxsLlxuICAgICAqIC0gYHJlcGxhY2VgOiByZXBsYWNlIHRoZSBjdXJyZW50IHN0YXRlIGluIGhpc3RvcnlcbiAgICAgKiAtIGBwdXNoYDogcHVzaCBhIG5ldyBzdGF0ZSBvbnRvIHRoZSBoaXN0b3J5IChkZWZhdWx0KVxuICAgICAqIC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgb25lIG9mIHRoZSAzIGFib3ZlIHZhbHVlcyBiYXNlZCBvbiB0aGUgbmF2aWdhdGlvbi5cbiAgICAgKlxuICAgICAqIERlZmF1bHQ6IGBwdXNoYFxuICAgICAqL1xuICAgIGhpc3RvcnlTdHJhdGVneSwgXG4gICAgLyoqXG4gICAgICogVGhlIHN0cmF0ZWd5IHRvIHVzZSBmb3Igd2hlbiBuYXZpZ2F0aW5nIHRvIHRoZSBzYW1lIFVSTC5cbiAgICAgKlxuICAgICAqIC0gYGlnbm9yZWA6IGRvIG5vdGhpbmcgKGRlZmF1bHQpLlxuICAgICAqIC0gYHJlbG9hZGA6IHJlbG9hZCB0aGUgY3VycmVudCBVUkwsIGVmZmVjdGl2ZWx5IHBlcmZvcm1pbmcgYSByZWZyZXNoLlxuICAgICAqIC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgb25lIG9mIHRoZSAyIGFib3ZlIHZhbHVlcyBiYXNlZCBvbiB0aGUgbmF2aWdhdGlvbi5cbiAgICAgKlxuICAgICAqIERlZmF1bHQ6IGBpZ25vcmVgXG4gICAgICovXG4gICAgc2FtZVVybFN0cmF0ZWd5KSB7XG4gICAgICAgIHRoaXMudXNlVXJsRnJhZ21lbnRIYXNoID0gdXNlVXJsRnJhZ21lbnRIYXNoO1xuICAgICAgICB0aGlzLnVzZUhyZWYgPSB1c2VIcmVmO1xuICAgICAgICB0aGlzLnN0YXRlZnVsSGlzdG9yeUxlbmd0aCA9IHN0YXRlZnVsSGlzdG9yeUxlbmd0aDtcbiAgICAgICAgdGhpcy5yb3V0aW5nTW9kZSA9IHJvdXRpbmdNb2RlO1xuICAgICAgICB0aGlzLnN3YXBTdHJhdGVneSA9IHN3YXBTdHJhdGVneTtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uTW9kZSA9IHJlc29sdXRpb25Nb2RlO1xuICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zU3RyYXRlZ3kgPSBxdWVyeVBhcmFtc1N0cmF0ZWd5O1xuICAgICAgICB0aGlzLmZyYWdtZW50U3RyYXRlZ3kgPSBmcmFnbWVudFN0cmF0ZWd5O1xuICAgICAgICB0aGlzLmhpc3RvcnlTdHJhdGVneSA9IGhpc3RvcnlTdHJhdGVneTtcbiAgICAgICAgdGhpcy5zYW1lVXJsU3RyYXRlZ3kgPSBzYW1lVXJsU3RyYXRlZ3k7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgREVGQVVMVCgpIHsgcmV0dXJuIFJvdXRlck9wdGlvbnMuY3JlYXRlKHt9KTsgfVxuICAgIHN0YXRpYyBjcmVhdGUoaW5wdXQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rO1xuICAgICAgICByZXR1cm4gbmV3IFJvdXRlck9wdGlvbnMoKF9hID0gaW5wdXQudXNlVXJsRnJhZ21lbnRIYXNoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSwgKF9iID0gaW5wdXQudXNlSHJlZikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZSwgKF9jID0gaW5wdXQuc3RhdGVmdWxIaXN0b3J5TGVuZ3RoKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAwLCAoX2QgPSBpbnB1dC5yb3V0aW5nTW9kZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJ2NvbmZpZ3VyZWQtZmlyc3QnLCAoX2UgPSBpbnB1dC5zd2FwU3RyYXRlZ3kpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICdzZXF1ZW50aWFsLXJlbW92ZS1maXJzdCcsIChfZiA9IGlucHV0LnJlc29sdXRpb25Nb2RlKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAnZHluYW1pYycsIChfZyA9IGlucHV0LnF1ZXJ5UGFyYW1zU3RyYXRlZ3kpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6ICdvdmVyd3JpdGUnLCAoX2ggPSBpbnB1dC5mcmFnbWVudFN0cmF0ZWd5KSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiAnb3ZlcndyaXRlJywgKF9qID0gaW5wdXQuaGlzdG9yeVN0cmF0ZWd5KSAhPT0gbnVsbCAmJiBfaiAhPT0gdm9pZCAwID8gX2ogOiAncHVzaCcsIChfayA9IGlucHV0LnNhbWVVcmxTdHJhdGVneSkgIT09IG51bGwgJiYgX2sgIT09IHZvaWQgMCA/IF9rIDogJ2lnbm9yZScpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgZ2V0UXVlcnlQYXJhbXNTdHJhdGVneShpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlT3JGdW5jVG9WYWx1ZShpbnN0cnVjdGlvbnMsIHRoaXMucXVlcnlQYXJhbXNTdHJhdGVneSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBnZXRGcmFnbWVudFN0cmF0ZWd5KGluc3RydWN0aW9ucykge1xuICAgICAgICByZXR1cm4gdmFsdWVPckZ1bmNUb1ZhbHVlKGluc3RydWN0aW9ucywgdGhpcy5mcmFnbWVudFN0cmF0ZWd5KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGdldEhpc3RvcnlTdHJhdGVneShpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlT3JGdW5jVG9WYWx1ZShpbnN0cnVjdGlvbnMsIHRoaXMuaGlzdG9yeVN0cmF0ZWd5KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGdldFNhbWVVcmxTdHJhdGVneShpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlT3JGdW5jVG9WYWx1ZShpbnN0cnVjdGlvbnMsIHRoaXMuc2FtZVVybFN0cmF0ZWd5KTtcbiAgICB9XG4gICAgc3RyaW5naWZ5UHJvcGVydGllcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFsncm91dGluZ01vZGUnLCAnbW9kZSddLFxuICAgICAgICAgICAgWydzd2FwU3RyYXRlZ3knLCAnc3dhcCddLFxuICAgICAgICAgICAgWydyZXNvbHV0aW9uTW9kZScsICdyZXNvbHV0aW9uJ10sXG4gICAgICAgICAgICBbJ3F1ZXJ5UGFyYW1zU3RyYXRlZ3knLCAncXVlcnlQYXJhbXMnXSxcbiAgICAgICAgICAgIFsnZnJhZ21lbnRTdHJhdGVneScsICdmcmFnbWVudCddLFxuICAgICAgICAgICAgWydoaXN0b3J5U3RyYXRlZ3knLCAnaGlzdG9yeSddLFxuICAgICAgICAgICAgWydzYW1lVXJsU3RyYXRlZ3knLCAnc2FtZVVybCddLFxuICAgICAgICBdLm1hcCgoW2tleSwgbmFtZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xuICAgICAgICAgICAgcmV0dXJuIGAke25hbWV9OiR7dHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBgJyR7dmFsdWV9J2B9YDtcbiAgICAgICAgfSkuam9pbignLCcpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3V0ZXJPcHRpb25zKHRoaXMudXNlVXJsRnJhZ21lbnRIYXNoLCB0aGlzLnVzZUhyZWYsIHRoaXMuc3RhdGVmdWxIaXN0b3J5TGVuZ3RoLCB0aGlzLnJvdXRpbmdNb2RlLCB0aGlzLnN3YXBTdHJhdGVneSwgdGhpcy5yZXNvbHV0aW9uTW9kZSwgdGhpcy5xdWVyeVBhcmFtc1N0cmF0ZWd5LCB0aGlzLmZyYWdtZW50U3RyYXRlZ3ksIHRoaXMuaGlzdG9yeVN0cmF0ZWd5LCB0aGlzLnNhbWVVcmxTdHJhdGVneSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYFJPKCR7dGhpcy5zdHJpbmdpZnlQcm9wZXJ0aWVzKCl9KWA7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25PcHRpb25zIGV4dGVuZHMgUm91dGVyT3B0aW9ucyB7XG4gICAgY29uc3RydWN0b3Iocm91dGVyT3B0aW9ucywgdGl0bGUsIHRpdGxlU2VwYXJhdG9yLCBhcHBlbmQsIFxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgYSBjb250ZXh0IHRvIHVzZSBmb3IgcmVsYXRpdmUgbmF2aWdhdGlvbi5cbiAgICAgKlxuICAgICAqIC0gYG51bGxgIChvciBlbXB0eSk6IG5hdmlnYXRlIHJlbGF0aXZlIHRvIHRoZSByb290IChhYnNvbHV0ZSBuYXZpZ2F0aW9uKVxuICAgICAqIC0gYElSb3V0ZUNvbnRleHRgOiBuYXZpZ2F0ZSByZWxhdGl2ZSB0byBzcGVjaWZpY2FsbHkgdGhpcyBSb3V0ZUNvbnRleHQgKGFkdmFuY2VkIHVzZXJzKS5cbiAgICAgKiAtIGBIVE1MRWxlbWVudGA6IG5hdmlnYXRlIHJlbGF0aXZlIHRvIHRoZSByb3V0ZWFibGUgY29tcG9uZW50IChwYWdlKSB0aGF0IGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgY29udGFpbnMgdGhpcyBlbGVtZW50LlxuICAgICAqIC0gYElDdXN0b21FbGVtZW50Vmlld01vZGVsYCAodGhlIGB0aGlzYCBvYmplY3Qgd2hlbiB3b3JraW5nIGZyb20gaW5zaWRlIGEgdmlldyBtb2RlbCk6IG5hdmlnYXRlIHJlbGF0aXZlIHRvIHRoaXMgY29tcG9uZW50IChpZiBpdCB3YXMgbG9hZGVkIGFzIGEgcm91dGUpLCBvciB0aGUgcm91dGVhYmxlIGNvbXBvbmVudCAocGFnZSkgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBjb250YWluaW5nIGl0LlxuICAgICAqIC0gYElDdXN0b21FbGVtZW50Q29udHJvbGxlcmA6IHNhbWUgYXMgYElDdXN0b21FbGVtZW50Vmlld01vZGVsYCwgYnV0IHVzaW5nIHRoZSBjb250cm9sbGVyIG9iamVjdCBpbnN0ZWFkIG9mIHRoZSB2aWV3IG1vZGVsIG9iamVjdCAoYWR2YW5jZWQgdXNlcnMpLlxuICAgICAqL1xuICAgIGNvbnRleHQsIFxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgYW4gb2JqZWN0IHRvIGJlIHNlcmlhbGl6ZWQgdG8gYSBxdWVyeSBzdHJpbmcsIGFuZCB0aGVuIHNldCB0byB0aGUgcXVlcnkgc3RyaW5nIG9mIHRoZSBuZXcgVVJMLlxuICAgICAqL1xuICAgIHF1ZXJ5UGFyYW1zLCBcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSBoYXNoIGZyYWdtZW50IGZvciB0aGUgbmV3IFVSTC5cbiAgICAgKi9cbiAgICBmcmFnbWVudCwgXG4gICAgLyoqXG4gICAgICogU3BlY2lmeSBhbnkga2luZCBvZiBzdGF0ZSB0byBiZSBzdG9yZWQgdG9nZXRoZXIgd2l0aCB0aGUgaGlzdG9yeSBlbnRyeSBmb3IgdGhpcyBuYXZpZ2F0aW9uLlxuICAgICAqL1xuICAgIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKHJvdXRlck9wdGlvbnMudXNlVXJsRnJhZ21lbnRIYXNoLCByb3V0ZXJPcHRpb25zLnVzZUhyZWYsIHJvdXRlck9wdGlvbnMuc3RhdGVmdWxIaXN0b3J5TGVuZ3RoLCByb3V0ZXJPcHRpb25zLnJvdXRpbmdNb2RlLCByb3V0ZXJPcHRpb25zLnN3YXBTdHJhdGVneSwgcm91dGVyT3B0aW9ucy5yZXNvbHV0aW9uTW9kZSwgcm91dGVyT3B0aW9ucy5xdWVyeVBhcmFtc1N0cmF0ZWd5LCByb3V0ZXJPcHRpb25zLmZyYWdtZW50U3RyYXRlZ3ksIHJvdXRlck9wdGlvbnMuaGlzdG9yeVN0cmF0ZWd5LCByb3V0ZXJPcHRpb25zLnNhbWVVcmxTdHJhdGVneSk7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy50aXRsZVNlcGFyYXRvciA9IHRpdGxlU2VwYXJhdG9yO1xuICAgICAgICB0aGlzLmFwcGVuZCA9IGFwcGVuZDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5xdWVyeVBhcmFtcyA9IHF1ZXJ5UGFyYW1zO1xuICAgICAgICB0aGlzLmZyYWdtZW50ID0gZnJhZ21lbnQ7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBERUZBVUxUKCkgeyByZXR1cm4gTmF2aWdhdGlvbk9wdGlvbnMuY3JlYXRlKHt9KTsgfVxuICAgIHN0YXRpYyBjcmVhdGUoaW5wdXQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgICAgICByZXR1cm4gbmV3IE5hdmlnYXRpb25PcHRpb25zKFJvdXRlck9wdGlvbnMuY3JlYXRlKGlucHV0KSwgKF9hID0gaW5wdXQudGl0bGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGwsIChfYiA9IGlucHV0LnRpdGxlU2VwYXJhdG9yKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnIHwgJywgKF9jID0gaW5wdXQuYXBwZW5kKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmYWxzZSwgKF9kID0gaW5wdXQuY29udGV4dCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogbnVsbCwgKF9lID0gaW5wdXQucXVlcnlQYXJhbXMpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IG51bGwsIChfZiA9IGlucHV0LmZyYWdtZW50KSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAnJywgKF9nID0gaW5wdXQuc3RhdGUpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IG51bGwpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOYXZpZ2F0aW9uT3B0aW9ucyhzdXBlci5jbG9uZSgpLCB0aGlzLnRpdGxlLCB0aGlzLnRpdGxlU2VwYXJhdG9yLCB0aGlzLmFwcGVuZCwgdGhpcy5jb250ZXh0LCB7IC4uLnRoaXMucXVlcnlQYXJhbXMgfSwgdGhpcy5mcmFnbWVudCwgdGhpcy5zdGF0ZSA9PT0gbnVsbCA/IG51bGwgOiB7IC4uLnRoaXMuc3RhdGUgfSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYE5PKCR7c3VwZXIuc3RyaW5naWZ5UHJvcGVydGllcygpfSlgO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihpZCwgaW5zdHJ1Y3Rpb25zLCB0cmlnZ2VyLCBvcHRpb25zLCBwcmV2TmF2aWdhdGlvbiwgXG4gICAgLy8gU2V0IG9uIG5leHQgbmF2aWdhdGlvbiwgdGhpcyBpcyB0aGUgcm91dGUgYWZ0ZXIgYWxsIHJlZGlyZWN0cyBldGMgaGF2ZSBiZWVuIHByb2Nlc3NlZC5cbiAgICBmaW5hbEluc3RydWN0aW9ucykge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zO1xuICAgICAgICB0aGlzLnRyaWdnZXIgPSB0cmlnZ2VyO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnByZXZOYXZpZ2F0aW9uID0gcHJldk5hdmlnYXRpb247XG4gICAgICAgIHRoaXMuZmluYWxJbnN0cnVjdGlvbnMgPSBmaW5hbEluc3RydWN0aW9ucztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gbmV3IE5hdmlnYXRpb24oaW5wdXQuaWQsIGlucHV0Lmluc3RydWN0aW9ucywgaW5wdXQudHJpZ2dlciwgaW5wdXQub3B0aW9ucywgaW5wdXQucHJldk5hdmlnYXRpb24sIGlucHV0LmZpbmFsSW5zdHJ1Y3Rpb25zKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgTihpZDoke3RoaXMuaWR9LGluc3RydWN0aW9uczoke3RoaXMuaW5zdHJ1Y3Rpb25zfSx0cmlnZ2VyOicke3RoaXMudHJpZ2dlcn0nKWA7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYW5zaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGlkLCBwcmV2SW5zdHJ1Y3Rpb25zLCBpbnN0cnVjdGlvbnMsIGZpbmFsSW5zdHJ1Y3Rpb25zLCBpbnN0cnVjdGlvbnNDaGFuZ2VkLCB0cmlnZ2VyLCBvcHRpb25zLCBtYW5hZ2VkU3RhdGUsIHByZXZpb3VzUm91dGVUcmVlLCByb3V0ZVRyZWUsIHByb21pc2UsIHJlc29sdmUsIHJlamVjdCwgZ3VhcmRzUmVzdWx0LCBlcnJvcikge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMucHJldkluc3RydWN0aW9ucyA9IHByZXZJbnN0cnVjdGlvbnM7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zO1xuICAgICAgICB0aGlzLmZpbmFsSW5zdHJ1Y3Rpb25zID0gZmluYWxJbnN0cnVjdGlvbnM7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zQ2hhbmdlZCA9IGluc3RydWN0aW9uc0NoYW5nZWQ7XG4gICAgICAgIHRoaXMudHJpZ2dlciA9IHRyaWdnZXI7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMubWFuYWdlZFN0YXRlID0gbWFuYWdlZFN0YXRlO1xuICAgICAgICB0aGlzLnByZXZpb3VzUm91dGVUcmVlID0gcHJldmlvdXNSb3V0ZVRyZWU7XG4gICAgICAgIHRoaXMucm91dGVUcmVlID0gcm91dGVUcmVlO1xuICAgICAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgdGhpcy5ndWFyZHNSZXN1bHQgPSBndWFyZHNSZXN1bHQ7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gbmV3IFRyYW5zaXRpb24oaW5wdXQuaWQsIGlucHV0LnByZXZJbnN0cnVjdGlvbnMsIGlucHV0Lmluc3RydWN0aW9ucywgaW5wdXQuZmluYWxJbnN0cnVjdGlvbnMsIGlucHV0Lmluc3RydWN0aW9uc0NoYW5nZWQsIGlucHV0LnRyaWdnZXIsIGlucHV0Lm9wdGlvbnMsIGlucHV0Lm1hbmFnZWRTdGF0ZSwgaW5wdXQucHJldmlvdXNSb3V0ZVRyZWUsIGlucHV0LnJvdXRlVHJlZSwgaW5wdXQucHJvbWlzZSwgaW5wdXQucmVzb2x2ZSwgaW5wdXQucmVqZWN0LCBpbnB1dC5ndWFyZHNSZXN1bHQsIHZvaWQgMCk7XG4gICAgfVxuICAgIHJ1bihjYiwgbmV4dCkge1xuICAgICAgICBpZiAodGhpcy5ndWFyZHNSZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0ID0gY2IoKTtcbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0LnRoZW4obmV4dCkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dChyZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVFcnJvcihlcnIpIHtcbiAgICAgICAgdGhpcy5yZWplY3QodGhpcy5lcnJvciA9IGVycik7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYFQoaWQ6JHt0aGlzLmlkfSx0cmlnZ2VyOicke3RoaXMudHJpZ2dlcn0nLGluc3RydWN0aW9uczoke3RoaXMuaW5zdHJ1Y3Rpb25zfSxvcHRpb25zOiR7dGhpcy5vcHRpb25zfSlgO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJUm91dGVyID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJUm91dGVyJywgeCA9PiB4LnNpbmdsZXRvbihSb3V0ZXIpKTtcbmxldCBSb3V0ZXIgPSBjbGFzcyBSb3V0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgcCwgbG9nZ2VyLCBldmVudHMsIGxvY2F0aW9uTWdyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLnAgPSBwO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMubG9jYXRpb25NZ3IgPSBsb2NhdGlvbk1ncjtcbiAgICAgICAgdGhpcy5fY3R4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcm91dGVUcmVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudFRyID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gUm91dGVyT3B0aW9ucy5ERUZBVUxUO1xuICAgICAgICB0aGlzLm5hdmlnYXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5hdmlnYXRpb25JZCA9IDA7XG4gICAgICAgIHRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5hY3RpdmVOYXZpZ2F0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBWaWV3cG9ydEluc3RydWN0aW9uVHJlZS5jcmVhdGUoJycpO1xuICAgICAgICB0aGlzLm5leHRUciA9IG51bGw7XG4gICAgICAgIHRoaXMubG9jYXRpb25DaGFuZ2VTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLnZwYUxvb2t1cCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXIucm9vdC5zY29wZVRvKCdSb3V0ZXInKTtcbiAgICB9XG4gICAgZ2V0IGN0eCgpIHtcbiAgICAgICAgbGV0IGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgaWYgKGN0eCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lci5oYXMoSVJvdXRlQ29udGV4dCwgdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJvb3QgUm91dGVDb250ZXh0IGlzIG5vdCBzZXQuIERpZCB5b3UgZm9yZ2V0IHRvIHJlZ2lzdGVyIFJvdXRlQ29uZmlndXJhdGlvbiwgb3IgdHJ5IHRvIG5hdmlnYXRlIGJlZm9yZSBjYWxsaW5nIEF1cmVsaWEuc3RhcnQoKT9gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eCA9IHRoaXMuX2N0eCA9IHRoaXMuY29udGFpbmVyLmdldChJUm91dGVDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3R4O1xuICAgIH1cbiAgICBnZXQgcm91dGVUcmVlKCkge1xuICAgICAgICBsZXQgcm91dGVUcmVlID0gdGhpcy5fcm91dGVUcmVlO1xuICAgICAgICBpZiAocm91dGVUcmVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBMYXp5IGluc3RhbnRpYXRpb24gZm9yIG9ubHkgdGhlIHZlcnkgZmlyc3QgKHN5bnRoZXRpYykgdHJlZS5cbiAgICAgICAgICAgIC8vIERvaW5nIGl0IGhlcmUgaW5zdGVhZCBvZiBpbiB0aGUgY29uc3RydWN0b3IgdG8gZGVsYXkgaXQgdW50aWwgd2UgaGF2ZSB0aGUgY29udGV4dC5cbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuICAgICAgICAgICAgcm91dGVUcmVlID0gdGhpcy5fcm91dGVUcmVlID0gbmV3IFJvdXRlVHJlZShOYXZpZ2F0aW9uT3B0aW9ucy5jcmVhdGUoeyAuLi50aGlzLm9wdGlvbnMgfSksIE9iamVjdC5mcmVlemUobmV3IFVSTFNlYXJjaFBhcmFtcygpKSwgbnVsbCwgUm91dGVOb2RlLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgcGF0aDogJycsXG4gICAgICAgICAgICAgICAgZmluYWxQYXRoOiAnJyxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiBjdHgsXG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb246IG51bGwsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBjdHguZGVmaW5pdGlvbi5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgYXBwZW5kOiBmYWxzZSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm91dGVUcmVlO1xuICAgIH1cbiAgICBnZXQgY3VycmVudFRyKCkge1xuICAgICAgICBsZXQgY3VycmVudFRyID0gdGhpcy5fY3VycmVudFRyO1xuICAgICAgICBpZiAoY3VycmVudFRyID09PSBudWxsKSB7XG4gICAgICAgICAgICBjdXJyZW50VHIgPSB0aGlzLl9jdXJyZW50VHIgPSBUcmFuc2l0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IDAsXG4gICAgICAgICAgICAgICAgcHJldkluc3RydWN0aW9uczogdGhpcy5pbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiB0aGlzLmluc3RydWN0aW9ucyxcbiAgICAgICAgICAgICAgICBmaW5hbEluc3RydWN0aW9uczogdGhpcy5pbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zQ2hhbmdlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnYXBpJyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBOYXZpZ2F0aW9uT3B0aW9ucy5ERUZBVUxULFxuICAgICAgICAgICAgICAgIG1hbmFnZWRTdGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBwcmV2aW91c1JvdXRlVHJlZTogdGhpcy5yb3V0ZVRyZWUuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICByb3V0ZVRyZWU6IHRoaXMucm91dGVUcmVlLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVqZWN0OiBudWxsLFxuICAgICAgICAgICAgICAgIHByb21pc2U6IG51bGwsXG4gICAgICAgICAgICAgICAgZ3VhcmRzUmVzdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGVycm9yOiB2b2lkIDAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudFRyO1xuICAgIH1cbiAgICBzZXQgY3VycmVudFRyKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUciA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNsb3Nlc3QgUm91dGVDb250ZXh0IHJlbGF0aXZlIHRvIHRoZSBwcm92aWRlZCBjb21wb25lbnQsIGNvbnRyb2xsZXIgb3Igbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIG9iamVjdCBmcm9tIHdoaWNoIHRvIHJlc29sdmUgdGhlIGNsb3Nlc3QgUm91dGVDb250ZXh0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgd2hlbiB0aGUgdmFsdWUgaXM6XG4gICAgICogLSBgbnVsbGA6IHRoZSByb290XG4gICAgICogLSBgSVJvdXRlQ29udGV4dGA6IHRoZSBwcm92aWRlZCB2YWx1ZSAobm8tb3ApXG4gICAgICogLSBgSFRNTEVsZW1lbnRgOiB0aGUgY29udGV4dCBvZiB0aGUgcm91dGVhYmxlIGNvbXBvbmVudCAocGFnZSkgdGhhdCBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGNvbnRhaW5zIHRoaXMgZWxlbWVudC5cbiAgICAgKiAtIGBJQ3VzdG9tRWxlbWVudFZpZXdNb2RlbGAgKHRoZSBgdGhpc2Agb2JqZWN0IHdoZW4gd29ya2luZyBmcm9tIGluc2lkZSBhIHZpZXcgbW9kZWwpOiB0aGUgY29udGV4dCBvZiB0aGlzIGNvbXBvbmVudCAoaWYgaXQgd2FzIGxvYWRlZCBhcyBhIHJvdXRlKSwgb3IgdGhlIHJvdXRlYWJsZSBjb21wb25lbnQgKHBhZ2UpIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgY29udGFpbmluZyBpdC5cbiAgICAgKiAtIGBJQ3VzdG9tRWxlbWVudENvbnRyb2xsZXJgOiBzYW1lIGFzIGBJQ3VzdG9tRWxlbWVudFZpZXdNb2RlbGAsIGJ1dCB1c2luZyB0aGUgY29udHJvbGxlciBvYmplY3QgaW5zdGVhZCBvZiB0aGUgdmlldyBtb2RlbCBvYmplY3QgKGFkdmFuY2VkIHVzZXJzKS5cbiAgICAgKi9cbiAgICByZXNvbHZlQ29udGV4dChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBSb3V0ZUNvbnRleHQucmVzb2x2ZSh0aGlzLmN0eCwgY29udGV4dCk7XG4gICAgfVxuICAgIHN0YXJ0KHJvdXRlck9wdGlvbnMsIHBlcmZvcm1Jbml0aWFsTmF2aWdhdGlvbikge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBSb3V0ZXJPcHRpb25zLmNyZWF0ZShyb3V0ZXJPcHRpb25zKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbk1nci5zdGFydExpc3RlbmluZygpO1xuICAgICAgICB0aGlzLmxvY2F0aW9uQ2hhbmdlU3Vic2NyaXB0aW9uID0gdGhpcy5ldmVudHMuc3Vic2NyaWJlKCdhdTpyb3V0ZXI6bG9jYXRpb24tY2hhbmdlJywgZSA9PiB7XG4gICAgICAgICAgICAvLyBUT0RPKGZrbGV1dmVyKTogYWRkIGEgdGhyb3R0bGUgY29uZmlnLlxuICAgICAgICAgICAgLy8gQXQgdGhlIHRpbWUgb2Ygd3JpdGluZywgY2hyb21pdW0gdGhyb3R0bGVzIHBvcHN0YXRlIGV2ZW50cyBhdCBhIG1heGltdW0gb2YgfjEwMCBwZXIgc2Vjb25kLlxuICAgICAgICAgICAgLy8gV2hpbGUgbWFjcm9UYXNrcyBydW4gdXAgdG8gMjUwIHRpbWVzIHBlciBzZWNvbmQsIGl0IGlzIGV4dHJlbWVseSB1bmxpa2VseSB0aGF0IG1vcmUgdGhhbiB+MTAwIHBlciBzZWNvbmQgb2YgdGhlc2Ugd2lsbCBydW4gZHVlIHRvIHRoZSBkb3VibGUgcXVldWVpbmcuXG4gICAgICAgICAgICAvLyBIb3dldmVyLCB0aGlzIHRocm90dGxlIGxpbWl0IGNvdWxkIHRoZW9yZXRpY2FsbHkgYmUgaGl0IGJ5IGUuZy4gaW50ZWdyYXRpb24gdGVzdHMgdGhhdCBkb24ndCBtb2NrIExvY2F0aW9uL0hpc3RvcnkuXG4gICAgICAgICAgICB0aGlzLnAudGFza1F1ZXVlLnF1ZXVlVGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgdHJ5IHRvIHJlc3RvcmUgc3RhdGUgdGhhdCBtaWdodCBub3QgaGF2ZSBhbnl0aGluZyB0byBkbyB3aXRoIHRoZSBBdXJlbGlhIGFwcFxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gaXNNYW5hZ2VkU3RhdGUoZS5zdGF0ZSkgPyBlLnN0YXRlIDogbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gTmF2aWdhdGlvbk9wdGlvbnMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5U3RyYXRlZ3k6ICdyZXBsYWNlJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSBWaWV3cG9ydEluc3RydWN0aW9uVHJlZS5jcmVhdGUoZS51cmwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBwcm9taXNlIHdpbGwgYmUgc3RvcmVkIGluIHRoZSB0cmFuc2l0aW9uLiBIb3dldmVyLCB1bmxpa2UgYGxvYWQoKWAsIGBzdGFydCgpYCBkb2VzIG5vdCByZXR1cm4gdGhpcyBwcm9taXNlIGluIGFueSB3YXkuXG4gICAgICAgICAgICAgICAgLy8gVGhlIHJvdXRlciBtZXJlbHkgZ3VhcmFudGVlcyB0aGF0IGl0IHdpbGwgYmUgYXdhaXRlZCAob3IgY2FuY2VsZWQpIGJlZm9yZSB0aGUgbmV4dCB0cmFuc2l0aW9uLCBzbyBhIHJhY2UgY29uZGl0aW9uIGlzIGltcG9zc2libGUgZWl0aGVyIHdheS5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCBpdCBpcyBwb3NzaWJsZSB0byBnZXQgZmxvYXRpbmcgcHJvbWlzZXMgbGluZ2VyaW5nIGR1cmluZyBub24tYXdhaXRlZCB1bml0IHRlc3RzLCB3aGljaCBjb3VsZCBoYXZlIHVucHJlZGljdGFibGUgc2lkZS1lZmZlY3RzLlxuICAgICAgICAgICAgICAgIC8vIFNvIHdlIGRvIHdhbnQgdG8gc29sdmUgdGhpcyBhdCBzb21lIHBvaW50LlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcbiAgICAgICAgICAgICAgICB0aGlzLmVucXVldWUoaW5zdHJ1Y3Rpb25zLCBlLnRyaWdnZXIsIHN0YXRlLCBudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF0aGlzLm5hdmlnYXRlZCAmJiBwZXJmb3JtSW5pdGlhbE5hdmlnYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWQodGhpcy5sb2NhdGlvbk1nci5nZXRQYXRoKCksIHsgaGlzdG9yeVN0cmF0ZWd5OiAncmVwbGFjZScgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxvY2F0aW9uTWdyLnN0b3BMaXN0ZW5pbmcoKTtcbiAgICAgICAgKF9hID0gdGhpcy5sb2NhdGlvbkNoYW5nZVN1YnNjcmlwdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgbG9hZChpbnN0cnVjdGlvbk9ySW5zdHJ1Y3Rpb25zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IHRoaXMuY3JlYXRlVmlld3BvcnRJbnN0cnVjdGlvbnMoaW5zdHJ1Y3Rpb25Pckluc3RydWN0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKCdsb2FkKGluc3RydWN0aW9uczolcyknLCBpbnN0cnVjdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbnF1ZXVlKGluc3RydWN0aW9ucywgJ2FwaScsIG51bGwsIG51bGwpO1xuICAgIH1cbiAgICBpc0FjdGl2ZShpbnN0cnVjdGlvbk9ySW5zdHJ1Y3Rpb25zLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMucmVzb2x2ZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IHRoaXMuY3JlYXRlVmlld3BvcnRJbnN0cnVjdGlvbnMoaW5zdHJ1Y3Rpb25Pckluc3RydWN0aW9ucywgeyBjb250ZXh0OiBjdHggfSk7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKCdpc0FjdGl2ZShpbnN0cnVjdGlvbnM6JXMsY3R4OiVzKScsIGluc3RydWN0aW9ucywgY3R4KTtcbiAgICAgICAgLy8gVE9ETzogaW5jb3Jwb3JhdGUgcG90ZW50aWFsIGNvbnRleHQgb2Zmc2V0IGJ5IGAuLi9gIGV0YyBpbiB0aGUgaW5zdHJ1Y3Rpb25zXG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlVHJlZS5jb250YWlucyhpbnN0cnVjdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgUm91dGVDb250ZXh0LCB3aGljaCBjb250YWlucyBzdGF0aWNhbGx5IGNvbmZpZ3VyZWQgcm91dGVzIGNvbWJpbmVkIHdpdGggdGhlIGN1c3RvbUVsZW1lbnQgbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIGEgdHlwZS5cbiAgICAgKlxuICAgICAqIFRoZSBjdXN0b21FbGVtZW50IG1ldGFkYXRhIGlzIGxhemlseSBhc3NvY2lhdGVkIHdpdGggYSB0eXBlIHZpYSB0aGUgUm91dGVDb250ZXh0IHRoZSBmaXJzdCB0aW1lIGBnZXRPckNyZWF0ZWAgaXMgY2FsbGVkLlxuICAgICAqXG4gICAgICogVGhpcyBBUEkgaXMgYWxzbyB1c2VkIGZvciBkaXJlY3Qgcm91dGluZyBldmVuIHdoZW4gdGhlcmUgaXMgbm8gY29uZmlndXJhdGlvbiBhdCBhbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmlld3BvcnRBZ2VudCAtIFRoZSBWaWV3cG9ydEFnZW50IGhvc3RpbmcgdGhlIGNvbXBvbmVudCBhc3NvY2lhdGVkIHdpdGggdGhpcyBSb3V0ZUNvbnRleHQuIElmIHRoZSBSb3V0ZUNvbnRleHQgZm9yIHRoZSBjb21wb25lbnQrdmlld3BvcnQgY29tYmluYXRpb24gYWxyZWFkeSBleGlzdHMsIHRoZSBWaWV3cG9ydEFnZW50IHdpbGwgYmUgdXBkYXRlZCBpbiBjYXNlIGl0IGNoYW5nZWQuXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCAtIFRoZSBjdXN0b20gZWxlbWVudCBkZWZpbml0aW9uLlxuICAgICAqIEBwYXJhbSByZW5kZXJDb250ZXh0IC0gVGhlIGBjb250cm9sbGVyLmNvbnRleHRgIG9mIHRoZSBjb21wb25lbnQgaG9zdGluZyB0aGUgdmlld3BvcnQgdGhhdCB0aGUgcm91dGUgd2lsbCBiZSBsb2FkZWQgaW50by5cbiAgICAgKlxuICAgICAqL1xuICAgIGdldFJvdXRlQ29udGV4dCh2aWV3cG9ydEFnZW50LCBjb21wb25lbnQsIHJlbmRlckNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gcmVuZGVyQ29udGV4dC5nZXQoSUxvZ2dlcikuc2NvcGVUbygnUm91dGVDb250ZXh0Jyk7XG4gICAgICAgIGNvbnN0IHJvdXRlRGVmaW5pdGlvbiA9IFJvdXRlRGVmaW5pdGlvbi5yZXNvbHZlKGNvbXBvbmVudC5UeXBlKTtcbiAgICAgICAgbGV0IHJvdXRlRGVmaW5pdGlvbkxvb2t1cCA9IHRoaXMudnBhTG9va3VwLmdldCh2aWV3cG9ydEFnZW50KTtcbiAgICAgICAgaWYgKHJvdXRlRGVmaW5pdGlvbkxvb2t1cCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aGlzLnZwYUxvb2t1cC5zZXQodmlld3BvcnRBZ2VudCwgcm91dGVEZWZpbml0aW9uTG9va3VwID0gbmV3IFdlYWtNYXAoKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJvdXRlQ29udGV4dCA9IHJvdXRlRGVmaW5pdGlvbkxvb2t1cC5nZXQocm91dGVEZWZpbml0aW9uKTtcbiAgICAgICAgaWYgKHJvdXRlQ29udGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBsb2dnZXIudHJhY2UoYGNyZWF0aW5nIG5ldyBSb3V0ZUNvbnRleHQgZm9yICVzYCwgcm91dGVEZWZpbml0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHJlbmRlckNvbnRleHQuaGFzKElSb3V0ZUNvbnRleHQsIHRydWUpID8gcmVuZGVyQ29udGV4dC5nZXQoSVJvdXRlQ29udGV4dCkgOiBudWxsO1xuICAgICAgICAgICAgcm91dGVEZWZpbml0aW9uTG9va3VwLnNldChyb3V0ZURlZmluaXRpb24sIHJvdXRlQ29udGV4dCA9IG5ldyBSb3V0ZUNvbnRleHQodmlld3BvcnRBZ2VudCwgcGFyZW50LCBjb21wb25lbnQsIHJvdXRlRGVmaW5pdGlvbiwgcmVuZGVyQ29udGV4dCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKGByZXR1cm5pbmcgZXhpc3RpbmcgUm91dGVDb250ZXh0IGZvciAlc2AsIHJvdXRlRGVmaW5pdGlvbik7XG4gICAgICAgICAgICBpZiAodmlld3BvcnRBZ2VudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJvdXRlQ29udGV4dC52cGEgPSB2aWV3cG9ydEFnZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3V0ZUNvbnRleHQ7XG4gICAgfVxuICAgIGNyZWF0ZVZpZXdwb3J0SW5zdHJ1Y3Rpb25zKGluc3RydWN0aW9uT3JJbnN0cnVjdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFZpZXdwb3J0SW5zdHJ1Y3Rpb25UcmVlLmNyZWF0ZShpbnN0cnVjdGlvbk9ySW5zdHJ1Y3Rpb25zLCB0aGlzLmdldE5hdmlnYXRpb25PcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5xdWV1ZSBhbiBpbnN0cnVjdGlvbiB0cmVlIHRvIGJlIHByb2Nlc3NlZCBhcyBzb29uIGFzIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogV2lsbCB3YWl0IGZvciBhbnkgZXhpc3RpbmcgaW4tZmxpZ2h0IHRyYW5zaXRpb24gdG8gZmluaXNoLCBvdGhlcndpc2Ugc3RhcnRzIGltbWVkaWF0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGluc3RydWN0aW9ucyAtIFRoZSBpbnN0cnVjdGlvbiB0cmVlIHRoYXQgZGV0ZXJtaW5lcyB0aGUgdHJhbnNpdGlvblxuICAgICAqIEBwYXJhbSB0cmlnZ2VyIC0gYCdwb3BzdGF0ZSdgIG9yIGAnaGFzaGNoYW5nZSdgIGlmIGluaXRpYXRlZCBieSBhIGJyb3dzZXIgZXZlbnQsIG9yIGAnYXBpJ2AgZm9yIG1hbnVhbGx5IGluaXRpYXRlZCB0cmFuc2l0aW9ucyB2aWEgdGhlIGBsb2FkYCBhcGkuXG4gICAgICogQHBhcmFtIHN0YXRlIC0gVGhlIHN0YXRlIHRvIHJlc3RvcmUsIGlmIGFueS5cbiAgICAgKiBAcGFyYW0gZmFpbGVkVHIgLSBJZiB0aGlzIGlzIGEgcmVkaXJlY3QgLyBmYWxsYmFjayBmcm9tIGEgZmFpbGVkIHRyYW5zaXRpb24sIHRoZSBwcmV2aW91cyB0cmFuc2l0aW9uIGlzIHBhc3NlZCBmb3J3YXJkIHRvIGVuc3VyZSB0aGUgb3JpbmFsIHByb21pc2UgcmVzb2x2ZXMgd2l0aCB0aGUgbGF0ZXN0IHJlc3VsdC5cbiAgICAgKi9cbiAgICBlbnF1ZXVlKGluc3RydWN0aW9ucywgdHJpZ2dlciwgc3RhdGUsIGZhaWxlZFRyKSB7XG4gICAgICAgIGNvbnN0IGxhc3RUciA9IHRoaXMuY3VycmVudFRyO1xuICAgICAgICBpZiAodHJpZ2dlciAhPT0gJ2FwaScgJiYgbGFzdFRyLnRyaWdnZXIgPT09ICdhcGknICYmIGxhc3RUci5pbnN0cnVjdGlvbnMuZXF1YWxzKGluc3RydWN0aW9ucykpIHtcbiAgICAgICAgICAgIC8vIFVzZXItdHJpZ2dlcmVkIG5hdmlnYXRpb24gdGhhdCByZXN1bHRzIGluIGByZXBsYWNlU3RhdGVgIHdpdGggdGhlIHNhbWUgVVJMLiBUaGUgQVBJIGNhbGwgYWxyZWFkeSB0cmlnZ2VyZWQgdGhlIG5hdmlnYXRpb247IGV2ZW50IGlzIGlnbm9yZWQuXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgSWdub3JpbmcgbmF2aWdhdGlvbiB0cmlnZ2VyZWQgYnkgJyVzJyBiZWNhdXNlIGl0IGlzIHRoZSBzYW1lIFVSTCBhcyB0aGUgcHJldmlvdXMgbmF2aWdhdGlvbiB3aGljaCB3YXMgdHJpZ2dlcmVkIGJ5ICdhcGknLmAsIHRyaWdnZXIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc29sdmUgPSAodm9pZCAwKTsgLy8gTmVlZCB0aGlzIGluaXRpYWxpemVyIGJlY2F1c2UgVFMgZG9lc24ndCBrbm93IHRoZSBwcm9taXNlIGV4ZWN1dG9yIHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbiAgICAgICAgbGV0IHJlamVjdCA9ICh2b2lkIDApO1xuICAgICAgICBsZXQgcHJvbWlzZTtcbiAgICAgICAgaWYgKGZhaWxlZFRyID09PSBudWxsKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKCRyZXNvbHZlLCAkcmVqZWN0KSB7IHJlc29sdmUgPSAkcmVzb2x2ZTsgcmVqZWN0ID0gJHJlamVjdDsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCBgYXdhaXQgcm91dGVyLmxvYWRgIG9ubHkgcmVzb2x2ZXMgd2hlbiB0aGUgdHJhbnNpdGlvbiB0cnVseSBmaW5pc2hlZCwgc28gY2hhaW4gZm9yd2FyZCBvbiB0b3Agb2ZcbiAgICAgICAgICAgIC8vIGFueSBwcmV2aW91c2x5IGZhaWxlZCB0cmFuc2l0aW9uIHRoYXQgY2F1c2VkIGEgcmVjb3ZlcmluZyBiYWNrd2FyZHMgbmF2aWdhdGlvbi5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBSZXVzaW5nIHByb21pc2UvcmVzb2x2ZS9yZWplY3QgZnJvbSB0aGUgcHJldmlvdXNseSBmYWlsZWQgdHJhbnNpdGlvbiAlc2AsIGZhaWxlZFRyKTtcbiAgICAgICAgICAgIHByb21pc2UgPSBmYWlsZWRUci5wcm9taXNlO1xuICAgICAgICAgICAgcmVzb2x2ZSA9IGZhaWxlZFRyLnJlc29sdmU7XG4gICAgICAgICAgICByZWplY3QgPSBmYWlsZWRUci5yZWplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBpcyBhbiBpbnRlbnRpb25hbCBvdmVyd3JpdGU6IGlmIGEgbmV3IHRyYW5zaXRpb24gaXMgc2NoZWR1bGVkIHdoaWxlIHRoZSBjdXJyZW50bHkgc2NoZWR1bGVkIHRyYW5zaXRpb24gaGFzbid0IGV2ZW4gc3RhcnRlZCB5ZXQsXG4gICAgICAgIC8vIHRoZW4gdGhlIGN1cnJlbnRseSBzY2hlZHVsZWQgdHJhbnNpdGlvbiBpcyBlZmZlY3RpdmVseSBjYW5jZWxlZC9pZ25vcmVkLlxuICAgICAgICAvLyBUaGlzIGlzIGNvbnNpc3RlbnQgd2l0aCB0aGUgcnVudGltZSdzIGNvbnRyb2xsZXIgYmVoYXZpb3IsIHdoZXJlIGlmIHlvdSByYXBpZGx5IGNhbGwgYXN5bmMgYWN0aXZhdGUgLT4gZGVhY3RpdmF0ZSAtPiBhY3RpdmF0ZSAoZm9yIGV4YW1wbGUpLCB0aGVuIHRoZSBkZWFjdGl2YXRlIGlzIGNhbmNlbGVkLlxuICAgICAgICBjb25zdCBuZXh0VHIgPSB0aGlzLm5leHRUciA9IFRyYW5zaXRpb24uY3JlYXRlKHtcbiAgICAgICAgICAgIGlkOiArK3RoaXMubmF2aWdhdGlvbklkLFxuICAgICAgICAgICAgdHJpZ2dlcixcbiAgICAgICAgICAgIG1hbmFnZWRTdGF0ZTogc3RhdGUsXG4gICAgICAgICAgICBwcmV2SW5zdHJ1Y3Rpb25zOiBsYXN0VHIuZmluYWxJbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICBmaW5hbEluc3RydWN0aW9uczogaW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zQ2hhbmdlZDogIWxhc3RUci5maW5hbEluc3RydWN0aW9ucy5lcXVhbHMoaW5zdHJ1Y3Rpb25zKSxcbiAgICAgICAgICAgIGluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnM6IGluc3RydWN0aW9ucy5vcHRpb25zLFxuICAgICAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICBwcmV2aW91c1JvdXRlVHJlZTogdGhpcy5yb3V0ZVRyZWUsXG4gICAgICAgICAgICByb3V0ZVRyZWU6IHRoaXMuX3JvdXRlVHJlZSA9IHRoaXMucm91dGVUcmVlLmNsb25lKCksXG4gICAgICAgICAgICBndWFyZHNSZXN1bHQ6IHRydWUsXG4gICAgICAgICAgICBlcnJvcjogdm9pZCAwLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFNjaGVkdWxpbmcgdHJhbnNpdGlvbjogJXNgLCBuZXh0VHIpO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmVOYXZpZ2F0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBDYXRjaCBhbnkgZXJyb3JzIHRoYXQgbWlnaHQgYmUgdGhyb3duIGJ5IGBydW5gIGFuZCByZWplY3QgdGhlIG9yaWdpbmFsIHByb21pc2Ugd2hpY2ggaXMgYXdhaXRlZCBkb3duIGJlbG93XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMucnVuKG5leHRUcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgbmV4dFRyLmhhbmRsZUVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHRUci5wcm9taXNlLnRoZW4ocmV0ID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBUcmFuc2l0aW9uIHN1Y2NlZWRlZDogJXNgLCBuZXh0VHIpO1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBOYXZpZ2F0aW9uIGZhaWxlZDogJXNgLCBuZXh0VHIsIGVycik7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBydW4odHIpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VHIgPSB0cjtcbiAgICAgICAgdGhpcy5uZXh0VHIgPSBudWxsO1xuICAgICAgICAvLyBDbG9uZSBpdCBiZWNhdXNlIHRoZSBwcmV2TmF2aWdhdGlvbiBjb3VsZCBoYXZlIG9ic2VydmVycyBhbmQgc3R1ZmYgb24gaXQsIGFuZCBpdCdzIG1lYW50IHRvIGJlIGEgc3RhbmRhbG9uZSBzbmFwc2hvdCBmcm9tIGhlcmUgb24uXG4gICAgICAgIGNvbnN0IHByZXZOYXZpZ2F0aW9uID0gdGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb24gPT09IG51bGwgPyBudWxsIDogTmF2aWdhdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgLi4udGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb24sXG4gICAgICAgICAgICAvLyBUaGVyZSBjb3VsZCBiZSBhcmJpdHJhcnkgc3RhdGUgc3RvcmVkIG9uIGEgbmF2aWdhdGlvbiwgc28gdG8gcHJldmVudCBtZW1vcnkgbGVha3Mgd2Ugb25seSBrZWVwIG9uZSBgcHJldk5hdmlnYXRpb25gIGFyb3VuZFxuICAgICAgICAgICAgcHJldk5hdmlnYXRpb246IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFjdGl2ZU5hdmlnYXRpb24gPSBOYXZpZ2F0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICBpZDogdHIuaWQsXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6IHRyLmluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIHRyaWdnZXI6IHRyLnRyaWdnZXIsXG4gICAgICAgICAgICBvcHRpb25zOiB0ci5vcHRpb25zLFxuICAgICAgICAgICAgcHJldk5hdmlnYXRpb24sXG4gICAgICAgICAgICBmaW5hbEluc3RydWN0aW9uczogdHIuZmluYWxJbnN0cnVjdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uQ29udGV4dCA9IHRoaXMucmVzb2x2ZUNvbnRleHQodHIub3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgY29uc3Qgcm91dGVDaGFuZ2VkID0gKCF0aGlzLm5hdmlnYXRlZCB8fFxuICAgICAgICAgICAgdHIuaW5zdHJ1Y3Rpb25zLmNoaWxkcmVuLmxlbmd0aCAhPT0gbmF2aWdhdGlvbkNvbnRleHQubm9kZS5jaGlsZHJlbi5sZW5ndGggfHxcbiAgICAgICAgICAgIHRyLmluc3RydWN0aW9ucy5jaGlsZHJlbi5zb21lKCh4LCBpKSA9PiB7IHZhciBfYSwgX2I7IHJldHVybiAhKChfYiA9IChfYSA9IG5hdmlnYXRpb25Db250ZXh0Lm5vZGUuY2hpbGRyZW5baV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vcmlnaW5hbEluc3RydWN0aW9uLmVxdWFscyh4KSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2UpOyB9KSk7XG4gICAgICAgIGNvbnN0IHNob3VsZFByb2Nlc3NSb3V0ZSA9IHJvdXRlQ2hhbmdlZCB8fCB0ci5vcHRpb25zLmdldFNhbWVVcmxTdHJhdGVneSh0aGlzLmluc3RydWN0aW9ucykgPT09ICdyZWxvYWQnO1xuICAgICAgICBpZiAoIXNob3VsZFByb2Nlc3NSb3V0ZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHJ1bih0cjolcykgLSBOT1QgcHJvY2Vzc2luZyByb3V0ZWAsIHRyKTtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlTmF2aWdhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB0ci5yZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMucnVuTmV4dFRyYW5zaXRpb24odHIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBydW4odHI6JXMpIC0gcHJvY2Vzc2luZyByb3V0ZWAsIHRyKTtcbiAgICAgICAgdGhpcy5ldmVudHMucHVibGlzaChuZXcgTmF2aWdhdGlvblN0YXJ0RXZlbnQodHIuaWQsIHRyLmluc3RydWN0aW9ucywgdHIudHJpZ2dlciwgdHIubWFuYWdlZFN0YXRlKSk7XG4gICAgICAgIC8vIElmIHVzZXIgdHJpZ2dlcmVkIGEgbmV3IHRyYW5zaXRpb24gaW4gcmVzcG9uc2UgdG8gdGhlIE5hdmlnYXRpb25TdGFydEV2ZW50XG4gICAgICAgIC8vIChpbiB3aGljaCBjYXNlIGB0aGlzLm5leHRUcmFuc2l0aW9uYCB3aWxsIE5PVCBiZSBudWxsKSwgd2Ugc2hvcnQtY2lyY3VpdCBoZXJlIGFuZCBnbyBzdHJhaWdodCB0byBwcm9jZXNzaW5nIHRoZSBuZXh0IG9uZS5cbiAgICAgICAgaWYgKHRoaXMubmV4dFRyICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgcnVuKHRyOiVzKSAtIGFib3J0aW5nIGJlY2F1c2UgYSBuZXcgdHJhbnNpdGlvbiB3YXMgcXVldWVkIGluIHJlc3BvbnNlIHRvIHRoZSBOYXZpZ2F0aW9uU3RhcnRFdmVudGAsIHRyKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJ1bih0aGlzLm5leHRUcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVOYXZpZ2F0aW9uID0gTmF2aWdhdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuICAgICAgICAgICAgLi4udGhpcy5hY3RpdmVOYXZpZ2F0aW9uLFxuICAgICAgICAgICAgLy8gQWZ0ZXIgcmVkaXJlY3RzIGFyZSBhcHBsaWVkLCB0aGlzIGNvdWxkIGJlIGEgZGlmZmVyZW50IHJvdXRlXG4gICAgICAgICAgICBmaW5hbEluc3RydWN0aW9uczogdHIuZmluYWxJbnN0cnVjdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUT0RPOiBydW4gZ2xvYmFsIGd1YXJkc1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvLyAtLS1cbiAgICAgICAgdHIucnVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBydW4oKSAtIGNvbXBpbGluZyByb3V0ZSB0cmVlOiAlc2AsIHRyLmZpbmFsSW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVSb3V0ZVRyZWUodHIucm91dGVUcmVlLCB0ci5maW5hbEluc3RydWN0aW9ucywgbmF2aWdhdGlvbkNvbnRleHQpO1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gdHIucHJldmlvdXNSb3V0ZVRyZWUucm9vdC5jaGlsZHJlbjtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0ci5yb3V0ZVRyZWUucm9vdC5jaGlsZHJlbjtcbiAgICAgICAgICAgIGNvbnN0IGFsbCA9IG1lcmdlRGlzdGluY3QocHJldiwgbmV4dCk7XG4gICAgICAgICAgICBCYXRjaC5zdGFydChiID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgcnVuKCkgLSBpbnZva2luZyBjYW5VbmxvYWQgb24gJHtwcmV2Lmxlbmd0aH0gbm9kZXNgKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgcHJldikge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNvbnRleHQudnBhLmNhblVubG9hZCh0ciwgYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY29udGludWVXaXRoKGIgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0ci5ndWFyZHNSZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYi5wdXNoKCk7IC8vIHByZXZlbnQgdGhlIG5leHQgc3RlcCBpbiB0aGUgYmF0Y2ggZnJvbSBydW5uaW5nXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsTmF2aWdhdGlvbih0cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY29udGludWVXaXRoKGIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBydW4oKSAtIGludm9raW5nIGNhbkxvYWQgb24gJHtuZXh0Lmxlbmd0aH0gbm9kZXNgKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNvbnRleHQudnBhLmNhbkxvYWQodHIsIGIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNvbnRpbnVlV2l0aChiID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHIuZ3VhcmRzUmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGIucHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbE5hdmlnYXRpb24odHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNvbnRpbnVlV2l0aChiID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgcnVuKCkgLSBpbnZva2luZyB1bmxvYWQgb24gJHtwcmV2Lmxlbmd0aH0gbm9kZXNgKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgcHJldikge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNvbnRleHQudnBhLnVubG9hZCh0ciwgYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY29udGludWVXaXRoKGIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBydW4oKSAtIGludm9raW5nIGxvYWQgb24gJHtuZXh0Lmxlbmd0aH0gbm9kZXNgKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNvbnRleHQudnBhLmxvYWQodHIsIGIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNvbnRpbnVlV2l0aChiID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgcnVuKCkgLSBpbnZva2luZyBzd2FwIG9uICR7YWxsLmxlbmd0aH0gbm9kZXNgKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuY29udGV4dC52cGEuc3dhcCh0ciwgYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY29udGludWVXaXRoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgcnVuKCkgLSBmaW5hbGl6aW5nIHRyYW5zaXRpb25gKTtcbiAgICAgICAgICAgICAgICAvLyBvcmRlciBkb2Vzbid0IG1hdHRlciBmb3IgdGhpcyBvcGVyYXRpb25cbiAgICAgICAgICAgICAgICBhbGwuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNvbnRleHQudnBhLmVuZFRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSB0ci5maW5hbEluc3RydWN0aW9ucyA9IHRyLnJvdXRlVHJlZS5maW5hbGl6ZUluc3RydWN0aW9ucygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1Ymxpc2gobmV3IE5hdmlnYXRpb25FbmRFdmVudCh0ci5pZCwgdHIuaW5zdHJ1Y3Rpb25zLCB0aGlzLmluc3RydWN0aW9ucykpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uID0gdGhpcy5hY3RpdmVOYXZpZ2F0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlTmF2aWdhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUhpc3RvcnlTdGF0ZSh0cik7XG4gICAgICAgICAgICAgICAgdHIucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bk5leHRUcmFuc2l0aW9uKHRyKTtcbiAgICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhcHBseUhpc3RvcnlTdGF0ZSh0cikge1xuICAgICAgICBzd2l0Y2ggKHRyLm9wdGlvbnMuZ2V0SGlzdG9yeVN0cmF0ZWd5KHRoaXMuaW5zdHJ1Y3Rpb25zKSkge1xuICAgICAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncHVzaCc6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbk1nci5wdXNoU3RhdGUodG9NYW5hZ2VkU3RhdGUodHIub3B0aW9ucy5zdGF0ZSwgdHIuaWQpLCB0aGlzLnVwZGF0ZVRpdGxlKHRyKSwgdHIuZmluYWxJbnN0cnVjdGlvbnMudG9VcmwoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZXBsYWNlJzpcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uTWdyLnJlcGxhY2VTdGF0ZSh0b01hbmFnZWRTdGF0ZSh0ci5vcHRpb25zLnN0YXRlLCB0ci5pZCksIHRoaXMudXBkYXRlVGl0bGUodHIpLCB0ci5maW5hbEluc3RydWN0aW9ucy50b1VybCgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRUaXRsZSh0cikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0ci5vcHRpb25zLnRpdGxlKSB7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfYSA9IHRyLm9wdGlvbnMudGl0bGUuY2FsbCh2b2lkIDAsIHRyLnJvdXRlVHJlZS5yb290KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyc7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0ci5vcHRpb25zLnRpdGxlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9iID0gdHIucm91dGVUcmVlLnJvb3QuZ2V0VGl0bGUodHIub3B0aW9ucy50aXRsZVNlcGFyYXRvcikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVRpdGxlKHRyKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5nZXRUaXRsZSh0cik7XG4gICAgICAgIGlmICh0aXRsZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnAuZG9jdW1lbnQudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wLmRvY3VtZW50LnRpdGxlO1xuICAgIH1cbiAgICBjYW5jZWxOYXZpZ2F0aW9uKHRyKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBjYW5jZWxOYXZpZ2F0aW9uKHRyOiVzKWAsIHRyKTtcbiAgICAgICAgY29uc3QgcHJldiA9IHRyLnByZXZpb3VzUm91dGVUcmVlLnJvb3QuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IG5leHQgPSB0ci5yb3V0ZVRyZWUucm9vdC5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgYWxsID0gbWVyZ2VEaXN0aW5jdChwcmV2LCBuZXh0KTtcbiAgICAgICAgLy8gb3JkZXIgZG9lc24ndCBtYXR0ZXIgZm9yIHRoaXMgb3BlcmF0aW9uXG4gICAgICAgIGFsbC5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLmNvbnRleHQudnBhLmNhbmNlbFVwZGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmVOYXZpZ2F0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSB0ci5wcmV2SW5zdHJ1Y3Rpb25zO1xuICAgICAgICB0aGlzLl9yb3V0ZVRyZWUgPSB0ci5wcmV2aW91c1JvdXRlVHJlZTtcbiAgICAgICAgdGhpcy5ldmVudHMucHVibGlzaChuZXcgTmF2aWdhdGlvbkNhbmNlbEV2ZW50KHRyLmlkLCB0ci5pbnN0cnVjdGlvbnMsIGBndWFyZHNSZXN1bHQgaXMgJHt0ci5ndWFyZHNSZXN1bHR9YCkpO1xuICAgICAgICBpZiAodHIuZ3VhcmRzUmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdHIucmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICAvLyBJbiBjYXNlIGEgbmV3IG5hdmlnYXRpb24gd2FzIHJlcXVlc3RlZCBpbiB0aGUgbWVhbnRpbWUsIGltbWVkaWF0ZWx5IHN0YXJ0IHByb2Nlc3NpbmcgaXRcbiAgICAgICAgICAgIHRoaXMucnVuTmV4dFRyYW5zaXRpb24odHIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdm9pZCBvblJlc29sdmUodGhpcy5lbnF1ZXVlKHRyLmd1YXJkc1Jlc3VsdCwgJ2FwaScsIHRyLm1hbmFnZWRTdGF0ZSwgdHIpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGNhbmNlbE5hdmlnYXRpb24odHI6JXMpIC0gZmluaXNoZWQgcmVkaXJlY3RgLCB0cik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBydW5OZXh0VHJhbnNpdGlvbih0cikge1xuICAgICAgICBpZiAodGhpcy5uZXh0VHIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBydW5OZXh0VHJhbnNpdGlvbih0cjolcykgLT4gc2NoZWR1bGluZyBuZXh0VHJhbnNpdGlvbjogJXNgLCB0ciwgdGhpcy5uZXh0VHIpO1xuICAgICAgICAgICAgdGhpcy5wLnRhc2tRdWV1ZS5xdWV1ZVRhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIG5leHRUcmFuc2l0aW9uIGlzIGFsbG93ZWQgdG8gY2hhbmdlIHVwIHVudGlsIHRoZSBwb2ludCB3aGVuIGl0J3MgYWN0dWFsbHkgdGltZSB0byBwcm9jZXNzIGl0LFxuICAgICAgICAgICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gY2hlY2sgaXQgZm9yIG51bGwgYWdhaW4gd2hlbiB0aGUgc2NoZWR1bGVkIHRhc2sgcnVucy5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VHIgPSB0aGlzLm5leHRUcjtcbiAgICAgICAgICAgICAgICBpZiAobmV4dFRyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bihuZXh0VHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUci5oYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0TmF2aWdhdGlvbk9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gTmF2aWdhdGlvbk9wdGlvbnMuY3JlYXRlKHsgLi4udGhpcy5vcHRpb25zLCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbn07XG5Sb3V0ZXIgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDAsIElDb250YWluZXIpLFxuICAgIF9fcGFyYW0oMSwgSVBsYXRmb3JtKSxcbiAgICBfX3BhcmFtKDIsIElMb2dnZXIpLFxuICAgIF9fcGFyYW0oMywgSVJvdXRlckV2ZW50cyksXG4gICAgX19wYXJhbSg0LCBJTG9jYXRpb25NYW5hZ2VyKVxuXSwgUm91dGVyKTtcbmV4cG9ydCB7IFJvdXRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm91dGVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/router.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/state-manager.js":
/*!****************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/state-manager.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IStateManager\": () => (/* binding */ IStateManager),\n/* harmony export */   \"ScrollStateManager\": () => (/* binding */ ScrollStateManager)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n\nclass ScrollState {\n    constructor(el) {\n        this.el = el;\n        this.top = el.scrollTop;\n        this.left = el.scrollLeft;\n    }\n    static has(el) {\n        return el.scrollTop > 0 || el.scrollLeft > 0;\n    }\n    restore() {\n        this.el.scrollTo(this.left, this.top);\n        this.el = null;\n    }\n}\nfunction restoreState(state) {\n    state.restore();\n}\nclass HostElementState {\n    constructor(host) {\n        this.scrollStates = [];\n        this.save(host.children);\n    }\n    save(elements) {\n        let el;\n        for (let i = 0, ii = elements.length; i < ii; ++i) {\n            el = elements[i];\n            if (ScrollState.has(el)) {\n                this.scrollStates.push(new ScrollState(el));\n            }\n            this.save(el.children);\n        }\n    }\n    restore() {\n        this.scrollStates.forEach(restoreState);\n        this.scrollStates = null;\n    }\n}\nconst IStateManager = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IStateManager', x => x.singleton(ScrollStateManager));\nclass ScrollStateManager {\n    constructor() {\n        this.cache = new WeakMap();\n    }\n    saveState(controller) {\n        this.cache.set(controller.host, new HostElementState(controller.host));\n    }\n    restoreState(controller) {\n        const state = this.cache.get(controller.host);\n        if (state !== void 0) {\n            state.restore();\n            this.cache.delete(controller.host);\n        }\n    }\n}\n//# sourceMappingURL=state-manager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3N0YXRlLW1hbmFnZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3N0YXRlLW1hbmFnZXIuanM/ZmE1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBESSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5jbGFzcyBTY3JvbGxTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoZWwpIHtcbiAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgICB0aGlzLnRvcCA9IGVsLnNjcm9sbFRvcDtcbiAgICAgICAgdGhpcy5sZWZ0ID0gZWwuc2Nyb2xsTGVmdDtcbiAgICB9XG4gICAgc3RhdGljIGhhcyhlbCkge1xuICAgICAgICByZXR1cm4gZWwuc2Nyb2xsVG9wID4gMCB8fCBlbC5zY3JvbGxMZWZ0ID4gMDtcbiAgICB9XG4gICAgcmVzdG9yZSgpIHtcbiAgICAgICAgdGhpcy5lbC5zY3JvbGxUbyh0aGlzLmxlZnQsIHRoaXMudG9wKTtcbiAgICAgICAgdGhpcy5lbCA9IG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlKHN0YXRlKSB7XG4gICAgc3RhdGUucmVzdG9yZSgpO1xufVxuY2xhc3MgSG9zdEVsZW1lbnRTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaG9zdCkge1xuICAgICAgICB0aGlzLnNjcm9sbFN0YXRlcyA9IFtdO1xuICAgICAgICB0aGlzLnNhdmUoaG9zdC5jaGlsZHJlbik7XG4gICAgfVxuICAgIHNhdmUoZWxlbWVudHMpIHtcbiAgICAgICAgbGV0IGVsO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBlbCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKFNjcm9sbFN0YXRlLmhhcyhlbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFN0YXRlcy5wdXNoKG5ldyBTY3JvbGxTdGF0ZShlbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zYXZlKGVsLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXN0b3JlKCkge1xuICAgICAgICB0aGlzLnNjcm9sbFN0YXRlcy5mb3JFYWNoKHJlc3RvcmVTdGF0ZSk7XG4gICAgICAgIHRoaXMuc2Nyb2xsU3RhdGVzID0gbnVsbDtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgSVN0YXRlTWFuYWdlciA9IERJLmNyZWF0ZUludGVyZmFjZSgnSVN0YXRlTWFuYWdlcicsIHggPT4geC5zaW5nbGV0b24oU2Nyb2xsU3RhdGVNYW5hZ2VyKSk7XG5leHBvcnQgY2xhc3MgU2Nyb2xsU3RhdGVNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgfVxuICAgIHNhdmVTdGF0ZShjb250cm9sbGVyKSB7XG4gICAgICAgIHRoaXMuY2FjaGUuc2V0KGNvbnRyb2xsZXIuaG9zdCwgbmV3IEhvc3RFbGVtZW50U3RhdGUoY29udHJvbGxlci5ob3N0KSk7XG4gICAgfVxuICAgIHJlc3RvcmVTdGF0ZShjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5jYWNoZS5nZXQoY29udHJvbGxlci5ob3N0KTtcbiAgICAgICAgaWYgKHN0YXRlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHN0YXRlLnJlc3RvcmUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKGNvbnRyb2xsZXIuaG9zdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0ZS1tYW5hZ2VyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/state-manager.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/util.js":
/*!*******************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/util.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Batch\": () => (/* binding */ Batch),\n/* harmony export */   \"resolveAll\": () => (/* binding */ resolveAll),\n/* harmony export */   \"createExposedPromise\": () => (/* binding */ createExposedPromise),\n/* harmony export */   \"mergeDistinct\": () => (/* binding */ mergeDistinct),\n/* harmony export */   \"tryStringify\": () => (/* binding */ tryStringify),\n/* harmony export */   \"ensureArrayOfStrings\": () => (/* binding */ ensureArrayOfStrings),\n/* harmony export */   \"ensureString\": () => (/* binding */ ensureString)\n/* harmony export */ });\nclass Batch {\n    constructor(stack, cb, head) {\n        this.stack = stack;\n        this.cb = cb;\n        this.done = false;\n        this.next = null;\n        this.head = head !== null && head !== void 0 ? head : this;\n    }\n    static start(cb) {\n        return new Batch(0, cb, null);\n    }\n    push() {\n        let cur = this;\n        do {\n            ++cur.stack;\n            cur = cur.next;\n        } while (cur !== null);\n    }\n    pop() {\n        let cur = this;\n        do {\n            if (--cur.stack === 0) {\n                cur.invoke();\n            }\n            cur = cur.next;\n        } while (cur !== null);\n    }\n    invoke() {\n        const cb = this.cb;\n        if (cb !== null) {\n            this.cb = null;\n            cb(this);\n            this.done = true;\n        }\n    }\n    continueWith(cb) {\n        if (this.next === null) {\n            return this.next = new Batch(this.stack, cb, this.head);\n        }\n        else {\n            return this.next.continueWith(cb);\n        }\n    }\n    start() {\n        this.head.push();\n        this.head.pop();\n        return this;\n    }\n}\n/**\n * Normalize an array of potential promises, to ensure things stay synchronous when they can.\n *\n * If exactly one value is a promise, then that promise is returned.\n *\n * If more than one value is a promise, a new `Promise.all` is returned.\n *\n * If none of the values is a promise, nothing is returned, to indicate that things can stay synchronous.\n */\nfunction resolveAll(maybePromises) {\n    const promises = [];\n    for (const maybePromise of maybePromises) {\n        if (maybePromise instanceof Promise) {\n            promises.push(maybePromise);\n        }\n    }\n    switch (promises.length) {\n        case 0:\n            return;\n        case 1:\n            return promises[0];\n        default:\n            return Promise.all(promises);\n    }\n}\nfunction createExposedPromise() {\n    let $resolve = (void 0);\n    let $reject = (void 0);\n    const promise = new Promise(function (resolve, reject) {\n        $resolve = resolve;\n        $reject = reject;\n    });\n    promise.resolve = $resolve;\n    promise.reject = $reject;\n    return promise;\n}\nfunction mergeDistinct(prev, next) {\n    prev = prev.slice();\n    next = next.slice();\n    const merged = [];\n    while (prev.length > 0) {\n        const p = prev.shift();\n        if (merged.every(m => m.context.vpa !== p.context.vpa)) {\n            const i = next.findIndex(n => n.context.vpa === p.context.vpa);\n            if (i >= 0) {\n                merged.push(...next.splice(0, i + 1));\n            }\n            else {\n                merged.push(p);\n            }\n        }\n    }\n    merged.push(...next);\n    return merged;\n}\nfunction tryStringify(value) {\n    try {\n        return JSON.stringify(value);\n    }\n    catch (_a) {\n        return Object.prototype.toString.call(value);\n    }\n}\nfunction ensureArrayOfStrings(value) {\n    return typeof value === 'string' ? [value] : value;\n}\nfunction ensureString(value) {\n    return typeof value === 'string' ? value : value[0];\n}\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3V0aWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3V0aWwuanM/MzgxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQmF0Y2gge1xuICAgIGNvbnN0cnVjdG9yKHN0YWNrLCBjYiwgaGVhZCkge1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHRoaXMuY2IgPSBjYjtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuaGVhZCA9IGhlYWQgIT09IG51bGwgJiYgaGVhZCAhPT0gdm9pZCAwID8gaGVhZCA6IHRoaXM7XG4gICAgfVxuICAgIHN0YXRpYyBzdGFydChjYikge1xuICAgICAgICByZXR1cm4gbmV3IEJhdGNoKDAsIGNiLCBudWxsKTtcbiAgICB9XG4gICAgcHVzaCgpIHtcbiAgICAgICAgbGV0IGN1ciA9IHRoaXM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgICsrY3VyLnN0YWNrO1xuICAgICAgICAgICAgY3VyID0gY3VyLm5leHQ7XG4gICAgICAgIH0gd2hpbGUgKGN1ciAhPT0gbnVsbCk7XG4gICAgfVxuICAgIHBvcCgpIHtcbiAgICAgICAgbGV0IGN1ciA9IHRoaXM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICgtLWN1ci5zdGFjayA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGN1ci5pbnZva2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1ciA9IGN1ci5uZXh0O1xuICAgICAgICB9IHdoaWxlIChjdXIgIT09IG51bGwpO1xuICAgIH1cbiAgICBpbnZva2UoKSB7XG4gICAgICAgIGNvbnN0IGNiID0gdGhpcy5jYjtcbiAgICAgICAgaWYgKGNiICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmNiID0gbnVsbDtcbiAgICAgICAgICAgIGNiKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb250aW51ZVdpdGgoY2IpIHtcbiAgICAgICAgaWYgKHRoaXMubmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmV4dCA9IG5ldyBCYXRjaCh0aGlzLnN0YWNrLCBjYiwgdGhpcy5oZWFkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5leHQuY29udGludWVXaXRoKGNiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5oZWFkLnB1c2goKTtcbiAgICAgICAgdGhpcy5oZWFkLnBvcCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vKipcbiAqIE5vcm1hbGl6ZSBhbiBhcnJheSBvZiBwb3RlbnRpYWwgcHJvbWlzZXMsIHRvIGVuc3VyZSB0aGluZ3Mgc3RheSBzeW5jaHJvbm91cyB3aGVuIHRoZXkgY2FuLlxuICpcbiAqIElmIGV4YWN0bHkgb25lIHZhbHVlIGlzIGEgcHJvbWlzZSwgdGhlbiB0aGF0IHByb21pc2UgaXMgcmV0dXJuZWQuXG4gKlxuICogSWYgbW9yZSB0aGFuIG9uZSB2YWx1ZSBpcyBhIHByb21pc2UsIGEgbmV3IGBQcm9taXNlLmFsbGAgaXMgcmV0dXJuZWQuXG4gKlxuICogSWYgbm9uZSBvZiB0aGUgdmFsdWVzIGlzIGEgcHJvbWlzZSwgbm90aGluZyBpcyByZXR1cm5lZCwgdG8gaW5kaWNhdGUgdGhhdCB0aGluZ3MgY2FuIHN0YXkgc3luY2hyb25vdXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQWxsKG1heWJlUHJvbWlzZXMpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgbWF5YmVQcm9taXNlIG9mIG1heWJlUHJvbWlzZXMpIHtcbiAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2gobWF5YmVQcm9taXNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKHByb21pc2VzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlc1swXTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4cG9zZWRQcm9taXNlKCkge1xuICAgIGxldCAkcmVzb2x2ZSA9ICh2b2lkIDApO1xuICAgIGxldCAkcmVqZWN0ID0gKHZvaWQgMCk7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgJHJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAkcmVqZWN0ID0gcmVqZWN0O1xuICAgIH0pO1xuICAgIHByb21pc2UucmVzb2x2ZSA9ICRyZXNvbHZlO1xuICAgIHByb21pc2UucmVqZWN0ID0gJHJlamVjdDtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZURpc3RpbmN0KHByZXYsIG5leHQpIHtcbiAgICBwcmV2ID0gcHJldi5zbGljZSgpO1xuICAgIG5leHQgPSBuZXh0LnNsaWNlKCk7XG4gICAgY29uc3QgbWVyZ2VkID0gW107XG4gICAgd2hpbGUgKHByZXYubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBwID0gcHJldi5zaGlmdCgpO1xuICAgICAgICBpZiAobWVyZ2VkLmV2ZXJ5KG0gPT4gbS5jb250ZXh0LnZwYSAhPT0gcC5jb250ZXh0LnZwYSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBuZXh0LmZpbmRJbmRleChuID0+IG4uY29udGV4dC52cGEgPT09IHAuY29udGV4dC52cGEpO1xuICAgICAgICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICAgICAgICAgIG1lcmdlZC5wdXNoKC4uLm5leHQuc3BsaWNlKDAsIGkgKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXJnZWQucHVzaChwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtZXJnZWQucHVzaCguLi5uZXh0KTtcbiAgICByZXR1cm4gbWVyZ2VkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyeVN0cmluZ2lmeSh2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlQXJyYXlPZlN0cmluZ3ModmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IFt2YWx1ZV0gOiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogdmFsdWVbMF07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/util.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/validation.js":
/*!*************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/validation.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isNotNullishOrTypeOrViewModel\": () => (/* binding */ isNotNullishOrTypeOrViewModel),\n/* harmony export */   \"isPartialCustomElementDefinition\": () => (/* binding */ isPartialCustomElementDefinition),\n/* harmony export */   \"isPartialChildRouteConfig\": () => (/* binding */ isPartialChildRouteConfig),\n/* harmony export */   \"isPartialRedirectRouteConfig\": () => (/* binding */ isPartialRedirectRouteConfig),\n/* harmony export */   \"isPartialViewportInstruction\": () => (/* binding */ isPartialViewportInstruction),\n/* harmony export */   \"expectType\": () => (/* binding */ expectType),\n/* harmony export */   \"validateRouteConfig\": () => (/* binding */ validateRouteConfig),\n/* harmony export */   \"validateRedirectRouteConfig\": () => (/* binding */ validateRedirectRouteConfig),\n/* harmony export */   \"validateComponent\": () => (/* binding */ validateComponent),\n/* harmony export */   \"shallowEquals\": () => (/* binding */ shallowEquals)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"./node_modules/@aurelia/router/dist/esm/util.js\");\n\n\nfunction isNotNullishOrTypeOrViewModel(value) {\n    return (typeof value === 'object' &&\n        value !== null &&\n        !(0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.isCustomElementViewModel)(value));\n}\nfunction isPartialCustomElementDefinition(value) {\n    // 'name' is the only mandatory property of a CustomElementDefinition.\n    // It overlaps with RouteType and may overlap with CustomElementViewModel, so this ducktype check is only valid when those are ruled out *first*\n    return (isNotNullishOrTypeOrViewModel(value) &&\n        Object.prototype.hasOwnProperty.call(value, 'name') === true);\n}\nfunction isPartialChildRouteConfig(value) {\n    // 'component' is the only mandatory property of a ChildRouteConfig\n    // It may overlap with RouteType and CustomElementViewModel, so this ducktype check is only valid when those are ruled out *first*\n    return (isNotNullishOrTypeOrViewModel(value) &&\n        Object.prototype.hasOwnProperty.call(value, 'component') === true);\n}\nfunction isPartialRedirectRouteConfig(value) {\n    // 'redirectTo' and 'path' are mandatory properties of a RedirectRouteConfig\n    // It may overlap with RouteType and CustomElementViewModel, so this ducktype check is only valid when those are ruled out *first*\n    return (isNotNullishOrTypeOrViewModel(value) &&\n        Object.prototype.hasOwnProperty.call(value, 'redirectTo') === true);\n}\n// Yes, `isPartialChildRouteConfig` and `isPartialViewportInstruction` have identical logic but since that is coincidental,\n// and the two are intended to be used in specific contexts, we keep these as two separate functions for now.\nfunction isPartialViewportInstruction(value) {\n    // 'component' is the only mandatory property of a INavigationInstruction\n    // It may overlap with RouteType and CustomElementViewModel, so this ducktype check is only valid when those are ruled out *first*\n    return (isNotNullishOrTypeOrViewModel(value) &&\n        Object.prototype.hasOwnProperty.call(value, 'component') === true);\n}\nfunction expectType(expected, prop, value) {\n    throw new Error(`Invalid route config property: \"${prop}\". Expected ${expected}, but got ${(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.tryStringify)(value)}.`);\n}\n/**\n * Validate a `IRouteConfig` or `IChildRouteConfig`.\n *\n * The validation of these types is the same, except that `component` is a mandatory property of `IChildRouteConfig`.\n * This property is checked for in `validateComponent`.\n */\nfunction validateRouteConfig(config, parentPath) {\n    if (config === null || config === void 0) {\n        throw new Error(`Invalid route config: expected an object or string, but got: ${String(config)}.`);\n    }\n    const keys = Object.keys(config);\n    for (const key of keys) {\n        const value = config[key];\n        const path = [parentPath, key].join('.');\n        switch (key) {\n            case 'id':\n            case 'viewport':\n            case 'redirectTo':\n                if (typeof value !== 'string') {\n                    expectType('string', path, value);\n                }\n                break;\n            case 'caseSensitive':\n                if (typeof value !== 'boolean') {\n                    expectType('boolean', path, value);\n                }\n                break;\n            case 'data':\n                if (typeof value !== 'object' || value === null) {\n                    expectType('object', path, value);\n                }\n                break;\n            case 'title':\n                switch (typeof value) {\n                    case 'string':\n                    case 'function':\n                        break;\n                    default:\n                        expectType('string or function', path, value);\n                }\n                break;\n            case 'path':\n                if (value instanceof Array) {\n                    for (let i = 0; i < value.length; ++i) {\n                        if (typeof value[i] !== 'string') {\n                            expectType('string', `${path}[${i}]`, value[i]);\n                        }\n                    }\n                }\n                else if (typeof value !== 'string') {\n                    expectType('string or Array of strings', path, value);\n                }\n                break;\n            case 'component':\n                validateComponent(value, path);\n                break;\n            case 'routes': {\n                if (!(value instanceof Array)) {\n                    expectType('Array', path, value);\n                }\n                for (const route of value) {\n                    const childPath = `${path}[${value.indexOf(route)}]`; // TODO(fkleuver): remove 'any' (this type got very messy for some reason)\n                    validateComponent(route, childPath);\n                }\n                break;\n            }\n            case 'transitionPlan':\n                switch (typeof value) {\n                    case 'string':\n                        switch (value) {\n                            case 'none':\n                            case 'replace':\n                            case 'invoke-lifecycles':\n                                break;\n                            default:\n                                expectType('string(\\'none\\'|\\'replace\\'|\\'invoke-lifecycles\\') or function', path, value);\n                        }\n                        break;\n                    case 'function':\n                        break;\n                    default:\n                        expectType('string(\\'none\\'|\\'replace\\'|\\'invoke-lifecycles\\') or function', path, value);\n                }\n                break;\n            default:\n                // We don't *have* to throw here, but let's be as strict as possible until someone gives a valid reason for not doing so.\n                throw new Error(`Unknown route config property: \"${parentPath}.${key}\". Please specify known properties only.`);\n        }\n    }\n}\nfunction validateRedirectRouteConfig(config, parentPath) {\n    if (config === null || config === void 0) {\n        throw new Error(`Invalid route config: expected an object or string, but got: ${String(config)}.`);\n    }\n    const keys = Object.keys(config);\n    for (const key of keys) {\n        const value = config[key];\n        const path = [parentPath, key].join('.');\n        switch (key) {\n            case 'path':\n            case 'redirectTo':\n                if (typeof value !== 'string') {\n                    expectType('string', path, value);\n                }\n                break;\n            default:\n                // We don't *have* to throw here, but let's be as strict as possible until someone gives a valid reason for not doing so.\n                throw new Error(`Unknown redirect config property: \"${parentPath}.${key}\". Only 'path' and 'redirectTo' should be specified for redirects.`);\n        }\n    }\n}\nfunction validateComponent(component, parentPath) {\n    switch (typeof component) {\n        case 'function':\n            break;\n        case 'object':\n            if (component instanceof Promise) {\n                break;\n            }\n            if (isPartialRedirectRouteConfig(component)) {\n                validateRedirectRouteConfig(component, parentPath);\n                break;\n            }\n            if (isPartialChildRouteConfig(component)) {\n                validateRouteConfig(component, parentPath);\n                break;\n            }\n            if (!(0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.isCustomElementViewModel)(component) &&\n                !isPartialCustomElementDefinition(component)) {\n                expectType(`an object with at least a 'component' property (see Routeable)`, parentPath, component);\n            }\n            break;\n        case 'string':\n            break;\n        default:\n            expectType('function, object or string (see Routeable)', parentPath, component);\n    }\n}\nfunction shallowEquals(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (typeof a !== typeof b) {\n        return false;\n    }\n    if (a === null || b === null) {\n        return false;\n    }\n    if (Object.getPrototypeOf(a) !== Object.getPrototypeOf(b)) {\n        return false;\n    }\n    const aKeys = Object.keys(a);\n    const bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n        return false;\n    }\n    for (let i = 0, ii = aKeys.length; i < ii; ++i) {\n        const key = aKeys[i];\n        if (key !== bKeys[i]) {\n            return false;\n        }\n        if (a[key] !== b[key]) {\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=validation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3ZhbGlkYXRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3ZhbGlkYXRpb24uanM/MWEzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0N1c3RvbUVsZW1lbnRWaWV3TW9kZWwgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lLWh0bWwnO1xuaW1wb3J0IHsgdHJ5U3RyaW5naWZ5IH0gZnJvbSAnLi91dGlsLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBpc05vdE51bGxpc2hPclR5cGVPclZpZXdNb2RlbCh2YWx1ZSkge1xuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgICAhaXNDdXN0b21FbGVtZW50Vmlld01vZGVsKHZhbHVlKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNQYXJ0aWFsQ3VzdG9tRWxlbWVudERlZmluaXRpb24odmFsdWUpIHtcbiAgICAvLyAnbmFtZScgaXMgdGhlIG9ubHkgbWFuZGF0b3J5IHByb3BlcnR5IG9mIGEgQ3VzdG9tRWxlbWVudERlZmluaXRpb24uXG4gICAgLy8gSXQgb3ZlcmxhcHMgd2l0aCBSb3V0ZVR5cGUgYW5kIG1heSBvdmVybGFwIHdpdGggQ3VzdG9tRWxlbWVudFZpZXdNb2RlbCwgc28gdGhpcyBkdWNrdHlwZSBjaGVjayBpcyBvbmx5IHZhbGlkIHdoZW4gdGhvc2UgYXJlIHJ1bGVkIG91dCAqZmlyc3QqXG4gICAgcmV0dXJuIChpc05vdE51bGxpc2hPclR5cGVPclZpZXdNb2RlbCh2YWx1ZSkgJiZcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnbmFtZScpID09PSB0cnVlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1BhcnRpYWxDaGlsZFJvdXRlQ29uZmlnKHZhbHVlKSB7XG4gICAgLy8gJ2NvbXBvbmVudCcgaXMgdGhlIG9ubHkgbWFuZGF0b3J5IHByb3BlcnR5IG9mIGEgQ2hpbGRSb3V0ZUNvbmZpZ1xuICAgIC8vIEl0IG1heSBvdmVybGFwIHdpdGggUm91dGVUeXBlIGFuZCBDdXN0b21FbGVtZW50Vmlld01vZGVsLCBzbyB0aGlzIGR1Y2t0eXBlIGNoZWNrIGlzIG9ubHkgdmFsaWQgd2hlbiB0aG9zZSBhcmUgcnVsZWQgb3V0ICpmaXJzdCpcbiAgICByZXR1cm4gKGlzTm90TnVsbGlzaE9yVHlwZU9yVmlld01vZGVsKHZhbHVlKSAmJlxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjb21wb25lbnQnKSA9PT0gdHJ1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNQYXJ0aWFsUmVkaXJlY3RSb3V0ZUNvbmZpZyh2YWx1ZSkge1xuICAgIC8vICdyZWRpcmVjdFRvJyBhbmQgJ3BhdGgnIGFyZSBtYW5kYXRvcnkgcHJvcGVydGllcyBvZiBhIFJlZGlyZWN0Um91dGVDb25maWdcbiAgICAvLyBJdCBtYXkgb3ZlcmxhcCB3aXRoIFJvdXRlVHlwZSBhbmQgQ3VzdG9tRWxlbWVudFZpZXdNb2RlbCwgc28gdGhpcyBkdWNrdHlwZSBjaGVjayBpcyBvbmx5IHZhbGlkIHdoZW4gdGhvc2UgYXJlIHJ1bGVkIG91dCAqZmlyc3QqXG4gICAgcmV0dXJuIChpc05vdE51bGxpc2hPclR5cGVPclZpZXdNb2RlbCh2YWx1ZSkgJiZcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAncmVkaXJlY3RUbycpID09PSB0cnVlKTtcbn1cbi8vIFllcywgYGlzUGFydGlhbENoaWxkUm91dGVDb25maWdgIGFuZCBgaXNQYXJ0aWFsVmlld3BvcnRJbnN0cnVjdGlvbmAgaGF2ZSBpZGVudGljYWwgbG9naWMgYnV0IHNpbmNlIHRoYXQgaXMgY29pbmNpZGVudGFsLFxuLy8gYW5kIHRoZSB0d28gYXJlIGludGVuZGVkIHRvIGJlIHVzZWQgaW4gc3BlY2lmaWMgY29udGV4dHMsIHdlIGtlZXAgdGhlc2UgYXMgdHdvIHNlcGFyYXRlIGZ1bmN0aW9ucyBmb3Igbm93LlxuZXhwb3J0IGZ1bmN0aW9uIGlzUGFydGlhbFZpZXdwb3J0SW5zdHJ1Y3Rpb24odmFsdWUpIHtcbiAgICAvLyAnY29tcG9uZW50JyBpcyB0aGUgb25seSBtYW5kYXRvcnkgcHJvcGVydHkgb2YgYSBJTmF2aWdhdGlvbkluc3RydWN0aW9uXG4gICAgLy8gSXQgbWF5IG92ZXJsYXAgd2l0aCBSb3V0ZVR5cGUgYW5kIEN1c3RvbUVsZW1lbnRWaWV3TW9kZWwsIHNvIHRoaXMgZHVja3R5cGUgY2hlY2sgaXMgb25seSB2YWxpZCB3aGVuIHRob3NlIGFyZSBydWxlZCBvdXQgKmZpcnN0KlxuICAgIHJldHVybiAoaXNOb3ROdWxsaXNoT3JUeXBlT3JWaWV3TW9kZWwodmFsdWUpICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NvbXBvbmVudCcpID09PSB0cnVlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHBlY3RUeXBlKGV4cGVjdGVkLCBwcm9wLCB2YWx1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByb3V0ZSBjb25maWcgcHJvcGVydHk6IFwiJHtwcm9wfVwiLiBFeHBlY3RlZCAke2V4cGVjdGVkfSwgYnV0IGdvdCAke3RyeVN0cmluZ2lmeSh2YWx1ZSl9LmApO1xufVxuLyoqXG4gKiBWYWxpZGF0ZSBhIGBJUm91dGVDb25maWdgIG9yIGBJQ2hpbGRSb3V0ZUNvbmZpZ2AuXG4gKlxuICogVGhlIHZhbGlkYXRpb24gb2YgdGhlc2UgdHlwZXMgaXMgdGhlIHNhbWUsIGV4Y2VwdCB0aGF0IGBjb21wb25lbnRgIGlzIGEgbWFuZGF0b3J5IHByb3BlcnR5IG9mIGBJQ2hpbGRSb3V0ZUNvbmZpZ2AuXG4gKiBUaGlzIHByb3BlcnR5IGlzIGNoZWNrZWQgZm9yIGluIGB2YWxpZGF0ZUNvbXBvbmVudGAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJvdXRlQ29uZmlnKGNvbmZpZywgcGFyZW50UGF0aCkge1xuICAgIGlmIChjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJvdXRlIGNvbmZpZzogZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIHN0cmluZywgYnV0IGdvdDogJHtTdHJpbmcoY29uZmlnKX0uYCk7XG4gICAgfVxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjb25maWdba2V5XTtcbiAgICAgICAgY29uc3QgcGF0aCA9IFtwYXJlbnRQYXRoLCBrZXldLmpvaW4oJy4nKTtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ2lkJzpcbiAgICAgICAgICAgIGNhc2UgJ3ZpZXdwb3J0JzpcbiAgICAgICAgICAgIGNhc2UgJ3JlZGlyZWN0VG8nOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdFR5cGUoJ3N0cmluZycsIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjYXNlU2Vuc2l0aXZlJzpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0VHlwZSgnYm9vbGVhbicsIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RUeXBlKCdvYmplY3QnLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndGl0bGUnOlxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0VHlwZSgnc3RyaW5nIG9yIGZ1bmN0aW9uJywgcGF0aCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3BhdGgnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0VHlwZSgnc3RyaW5nJywgYCR7cGF0aH1bJHtpfV1gLCB2YWx1ZVtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RUeXBlKCdzdHJpbmcgb3IgQXJyYXkgb2Ygc3RyaW5ncycsIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb21wb25lbnQnOlxuICAgICAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50KHZhbHVlLCBwYXRoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JvdXRlcyc6IHtcbiAgICAgICAgICAgICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RUeXBlKCdBcnJheScsIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCByb3V0ZSBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFBhdGggPSBgJHtwYXRofVske3ZhbHVlLmluZGV4T2Yocm91dGUpfV1gOyAvLyBUT0RPKGZrbGV1dmVyKTogcmVtb3ZlICdhbnknICh0aGlzIHR5cGUgZ290IHZlcnkgbWVzc3kgZm9yIHNvbWUgcmVhc29uKVxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudChyb3V0ZSwgY2hpbGRQYXRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd0cmFuc2l0aW9uUGxhbic6XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyZXBsYWNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnZva2UtbGlmZWN5Y2xlcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdFR5cGUoJ3N0cmluZyhcXCdub25lXFwnfFxcJ3JlcGxhY2VcXCd8XFwnaW52b2tlLWxpZmVjeWNsZXNcXCcpIG9yIGZ1bmN0aW9uJywgcGF0aCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0VHlwZSgnc3RyaW5nKFxcJ25vbmVcXCd8XFwncmVwbGFjZVxcJ3xcXCdpbnZva2UtbGlmZWN5Y2xlc1xcJykgb3IgZnVuY3Rpb24nLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCAqaGF2ZSogdG8gdGhyb3cgaGVyZSwgYnV0IGxldCdzIGJlIGFzIHN0cmljdCBhcyBwb3NzaWJsZSB1bnRpbCBzb21lb25lIGdpdmVzIGEgdmFsaWQgcmVhc29uIGZvciBub3QgZG9pbmcgc28uXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHJvdXRlIGNvbmZpZyBwcm9wZXJ0eTogXCIke3BhcmVudFBhdGh9LiR7a2V5fVwiLiBQbGVhc2Ugc3BlY2lmeSBrbm93biBwcm9wZXJ0aWVzIG9ubHkuYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSZWRpcmVjdFJvdXRlQ29uZmlnKGNvbmZpZywgcGFyZW50UGF0aCkge1xuICAgIGlmIChjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJvdXRlIGNvbmZpZzogZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIHN0cmluZywgYnV0IGdvdDogJHtTdHJpbmcoY29uZmlnKX0uYCk7XG4gICAgfVxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjb25maWdba2V5XTtcbiAgICAgICAgY29uc3QgcGF0aCA9IFtwYXJlbnRQYXRoLCBrZXldLmpvaW4oJy4nKTtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3BhdGgnOlxuICAgICAgICAgICAgY2FzZSAncmVkaXJlY3RUbyc6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0VHlwZSgnc3RyaW5nJywgcGF0aCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgKmhhdmUqIHRvIHRocm93IGhlcmUsIGJ1dCBsZXQncyBiZSBhcyBzdHJpY3QgYXMgcG9zc2libGUgdW50aWwgc29tZW9uZSBnaXZlcyBhIHZhbGlkIHJlYXNvbiBmb3Igbm90IGRvaW5nIHNvLlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biByZWRpcmVjdCBjb25maWcgcHJvcGVydHk6IFwiJHtwYXJlbnRQYXRofS4ke2tleX1cIi4gT25seSAncGF0aCcgYW5kICdyZWRpcmVjdFRvJyBzaG91bGQgYmUgc3BlY2lmaWVkIGZvciByZWRpcmVjdHMuYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnQoY29tcG9uZW50LCBwYXJlbnRQYXRoKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgY29tcG9uZW50KSB7XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1BhcnRpYWxSZWRpcmVjdFJvdXRlQ29uZmlnKGNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZVJlZGlyZWN0Um91dGVDb25maWcoY29tcG9uZW50LCBwYXJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1BhcnRpYWxDaGlsZFJvdXRlQ29uZmlnKGNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZVJvdXRlQ29uZmlnKGNvbXBvbmVudCwgcGFyZW50UGF0aCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzQ3VzdG9tRWxlbWVudFZpZXdNb2RlbChjb21wb25lbnQpICYmXG4gICAgICAgICAgICAgICAgIWlzUGFydGlhbEN1c3RvbUVsZW1lbnREZWZpbml0aW9uKGNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICBleHBlY3RUeXBlKGBhbiBvYmplY3Qgd2l0aCBhdCBsZWFzdCBhICdjb21wb25lbnQnIHByb3BlcnR5IChzZWUgUm91dGVhYmxlKWAsIHBhcmVudFBhdGgsIGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZXhwZWN0VHlwZSgnZnVuY3Rpb24sIG9iamVjdCBvciBzdHJpbmcgKHNlZSBSb3V0ZWFibGUpJywgcGFyZW50UGF0aCwgY29tcG9uZW50KTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2hhbGxvd0VxdWFscyhhLCBiKSB7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYSAhPT0gdHlwZW9mIGIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYSA9PT0gbnVsbCB8fCBiID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSAhPT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICBjb25zdCBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuICAgIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGFLZXlzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYUtleXNbaV07XG4gICAgICAgIGlmIChrZXkgIT09IGJLZXlzW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFba2V5XSAhPT0gYltrZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0aW9uLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/validation.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/router/dist/esm/viewport-agent.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@aurelia/router/dist/esm/viewport-agent.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ViewportRequest\": () => (/* binding */ ViewportRequest),\n/* harmony export */   \"ViewportAgent\": () => (/* binding */ ViewportAgent)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _route_tree_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./route-tree.js */ \"./node_modules/@aurelia/router/dist/esm/route-tree.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util.js */ \"./node_modules/@aurelia/router/dist/esm/util.js\");\n// No-fallthrough disabled due to large numbers of false positives\n/* eslint-disable no-fallthrough */\n/* eslint-disable @typescript-eslint/restrict-template-expressions */\n\n\n\n\nclass ViewportRequest {\n    constructor(viewportName, componentName, resolution, append) {\n        this.viewportName = viewportName;\n        this.componentName = componentName;\n        this.resolution = resolution;\n        this.append = append;\n    }\n    static create(input) {\n        return new ViewportRequest(input.viewportName, input.componentName, input.resolution, input.append);\n    }\n    toString() {\n        return `VR(viewport:'${this.viewportName}',component:'${this.componentName}',resolution:'${this.resolution}',append:${this.append})`;\n    }\n}\nconst viewportAgentLookup = new WeakMap();\nclass ViewportAgent {\n    constructor(viewport, hostController, ctx) {\n        this.viewport = viewport;\n        this.hostController = hostController;\n        this.ctx = ctx;\n        this.isActive = false;\n        this.curCA = null;\n        this.nextCA = null;\n        this.state = 8256 /* bothAreEmpty */;\n        this.$resolution = 'dynamic';\n        this.$plan = 'replace';\n        this.currNode = null;\n        this.nextNode = null;\n        this.currTransition = null;\n        this.prevTransition = null;\n        this.logger = ctx.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger).scopeTo(`ViewportAgent<${ctx.friendlyPath}>`);\n        this.logger.trace(`constructor()`);\n    }\n    get $state() { return $state(this.state); }\n    get currState() { return this.state & 16256 /* curr */; }\n    set currState(state) { this.state = (this.state & 127 /* next */) | state; }\n    get nextState() { return this.state & 127 /* next */; }\n    set nextState(state) { this.state = (this.state & 16256 /* curr */) | state; }\n    static for(viewport, ctx) {\n        let viewportAgent = viewportAgentLookup.get(viewport);\n        if (viewportAgent === void 0) {\n            const controller = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.Controller.getCachedOrThrow(viewport);\n            viewportAgentLookup.set(viewport, viewportAgent = new ViewportAgent(viewport, controller, ctx));\n        }\n        return viewportAgent;\n    }\n    activateFromViewport(initiator, parent, flags) {\n        const tr = this.currTransition;\n        if (tr !== null) {\n            ensureTransitionHasNotErrored(tr);\n        }\n        this.isActive = true;\n        switch (this.nextState) {\n            case 64 /* nextIsEmpty */:\n                switch (this.currState) {\n                    case 8192 /* currIsEmpty */:\n                        this.logger.trace(`activateFromViewport() - nothing to activate at %s`, this);\n                        return;\n                    case 4096 /* currIsActive */:\n                        this.logger.trace(`activateFromViewport() - activating existing componentAgent at %s`, this);\n                        return this.curCA.activate(initiator, parent, flags);\n                    default:\n                        this.unexpectedState('activateFromViewport 1');\n                }\n            case 2 /* nextLoadDone */: {\n                if (this.currTransition === null) {\n                    throw new Error(`Unexpected viewport activation outside of a transition context at ${this}`);\n                }\n                if (this.$resolution !== 'static') {\n                    throw new Error(`Unexpected viewport activation at ${this}`);\n                }\n                this.logger.trace(`activateFromViewport() - running ordinary activate at %s`, this);\n                const b = _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => { this.activate(initiator, this.currTransition, b1); });\n                const p = new Promise(resolve => { b.continueWith(() => { resolve(); }); });\n                return b.start().done ? void 0 : p;\n            }\n            default:\n                this.unexpectedState('activateFromViewport 2');\n        }\n    }\n    deactivateFromViewport(initiator, parent, flags) {\n        const tr = this.currTransition;\n        if (tr !== null) {\n            ensureTransitionHasNotErrored(tr);\n        }\n        this.isActive = false;\n        switch (this.currState) {\n            case 8192 /* currIsEmpty */:\n                this.logger.trace(`deactivateFromViewport() - nothing to deactivate at %s`, this);\n                return;\n            case 4096 /* currIsActive */:\n                this.logger.trace(`deactivateFromViewport() - deactivating existing componentAgent at %s`, this);\n                return this.curCA.deactivate(initiator, parent, flags);\n            case 128 /* currDeactivate */:\n                // This will happen with bottom-up deactivation because the child is already deactivated, the parent\n                // again tries to deactivate the child (that would be this viewport) but the router hasn't finalized the transition yet.\n                // Since this is viewport was already deactivated, and we know the precise circumstance under which that happens, we can safely ignore the call.\n                this.logger.trace(`deactivateFromViewport() - already deactivating at %s`, this);\n                return;\n            default: {\n                if (this.currTransition === null) {\n                    throw new Error(`Unexpected viewport deactivation outside of a transition context at ${this}`);\n                }\n                this.logger.trace(`deactivateFromViewport() - running ordinary deactivate at %s`, this);\n                const b = _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => { this.deactivate(initiator, this.currTransition, b1); });\n                const p = new Promise(resolve => { b.continueWith(() => { resolve(); }); });\n                return b.start().done ? void 0 : p;\n            }\n        }\n    }\n    handles(req) {\n        if (!this.isAvailable(req.resolution)) {\n            return false;\n        }\n        if (req.append && this.currState === 4096 /* currIsActive */) {\n            this.logger.trace(`handles(req:%s) -> false (append mode, viewport already has content %s)`, req, this.curCA);\n            return false;\n        }\n        if (req.viewportName.length > 0 && this.viewport.name !== req.viewportName) {\n            this.logger.trace(`handles(req:%s) -> false (names don't match)`, req);\n            return false;\n        }\n        if (this.viewport.usedBy.length > 0 && !this.viewport.usedBy.split(',').includes(req.componentName)) {\n            this.logger.trace(`handles(req:%s) -> false (componentName not included in usedBy)`, req);\n            return false;\n        }\n        this.logger.trace(`handles(req:%s) -> true`, req);\n        return true;\n    }\n    isAvailable(resolution) {\n        if (resolution === 'dynamic' && !this.isActive) {\n            this.logger.trace(`isAvailable(resolution:%s) -> false (viewport is not active and we're in dynamic resolution resolution)`, resolution);\n            return false;\n        }\n        if (this.nextState !== 64 /* nextIsEmpty */) {\n            this.logger.trace(`isAvailable(resolution:%s) -> false (update already scheduled for %s)`, resolution, this.nextNode);\n            return false;\n        }\n        return true;\n    }\n    canUnload(tr, b) {\n        if (this.currTransition === null) {\n            this.currTransition = tr;\n        }\n        ensureTransitionHasNotErrored(tr);\n        if (tr.guardsResult !== true) {\n            return;\n        }\n        b.push();\n        // run canUnload bottom-up\n        _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => {\n            this.logger.trace(`canUnload() - invoking on children at %s`, this);\n            for (const node of this.currNode.children) {\n                node.context.vpa.canUnload(tr, b1);\n            }\n        }).continueWith(b1 => {\n            switch (this.currState) {\n                case 4096 /* currIsActive */:\n                    this.logger.trace(`canUnload() - invoking on existing component at %s`, this);\n                    switch (this.$plan) {\n                        case 'none':\n                            this.currState = 1024 /* currCanUnloadDone */;\n                            return;\n                        case 'invoke-lifecycles':\n                        case 'replace':\n                            this.currState = 2048 /* currCanUnload */;\n                            b1.push();\n                            _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b2 => {\n                                this.logger.trace(`canUnload() - finished invoking on children, now invoking on own component at %s`, this);\n                                this.curCA.canUnload(tr, this.nextNode, b2);\n                            }).continueWith(() => {\n                                this.logger.trace(`canUnload() - finished at %s`, this);\n                                this.currState = 1024 /* currCanUnloadDone */;\n                                b1.pop();\n                            }).start();\n                            return;\n                    }\n                case 8192 /* currIsEmpty */:\n                    this.logger.trace(`canUnload() - nothing to unload at %s`, this);\n                    return;\n                default:\n                    tr.handleError(new Error(`Unexpected state at canUnload of ${this}`));\n            }\n        }).continueWith(() => {\n            b.pop();\n        }).start();\n    }\n    canLoad(tr, b) {\n        if (this.currTransition === null) {\n            this.currTransition = tr;\n        }\n        ensureTransitionHasNotErrored(tr);\n        if (tr.guardsResult !== true) {\n            return;\n        }\n        b.push();\n        // run canLoad top-down\n        _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => {\n            switch (this.nextState) {\n                case 32 /* nextIsScheduled */:\n                    this.logger.trace(`canLoad() - invoking on new component at %s`, this);\n                    this.nextState = 16 /* nextCanLoad */;\n                    switch (this.$plan) {\n                        case 'none':\n                            return;\n                        case 'invoke-lifecycles':\n                            return this.curCA.canLoad(tr, this.nextNode, b1);\n                        case 'replace':\n                            this.nextCA = this.nextNode.context.createComponentAgent(this.hostController, this.nextNode);\n                            return this.nextCA.canLoad(tr, this.nextNode, b1);\n                    }\n                case 64 /* nextIsEmpty */:\n                    this.logger.trace(`canLoad() - nothing to load at %s`, this);\n                    return;\n                default:\n                    this.unexpectedState('canLoad');\n            }\n        }).continueWith(b1 => {\n            const next = this.nextNode;\n            switch (this.$plan) {\n                case 'none':\n                case 'invoke-lifecycles':\n                    this.logger.trace(`canLoad(next:%s) - plan set to '%s', compiling residue`, next, this.$plan);\n                    // These plans can only occur if there is already a current component active in this viewport,\n                    // and it is the same component as `next`.\n                    // This means the RouteContext of `next` was created during a previous transition and might contain\n                    // already-active children. If that is the case, we want to eagerly call the router hooks on them during the\n                    // first pass of activation, instead of lazily in a later pass after `processResidue`.\n                    // By calling `compileResidue` here on the current context, we're ensuring that such nodes are created and\n                    // their target viewports have the appropriate updates scheduled.\n                    b1.push();\n                    void (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)((0,_route_tree_js__WEBPACK_IMPORTED_MODULE_2__.processResidue)(next), () => {\n                        b1.pop();\n                    });\n                    return;\n                case 'replace':\n                    // In the case of 'replace', always process this node and its subtree as if it's a new one\n                    switch (this.$resolution) {\n                        case 'dynamic':\n                            // Residue compilation will happen at `ViewportAgent#processResidue`\n                            this.logger.trace(`canLoad(next:%s) - (resolution: 'dynamic'), delaying residue compilation until activate`, next, this.$plan);\n                            return;\n                        case 'static':\n                            this.logger.trace(`canLoad(next:%s) - (resolution: '${this.$resolution}'), creating nextCA and compiling residue`, next, this.$plan);\n                            b1.push();\n                            void (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)((0,_route_tree_js__WEBPACK_IMPORTED_MODULE_2__.processResidue)(next), () => {\n                                b1.pop();\n                            });\n                            return;\n                    }\n            }\n        }).continueWith(b1 => {\n            switch (this.nextState) {\n                case 16 /* nextCanLoad */:\n                    this.logger.trace(`canLoad() - finished own component, now invoking on children at %s`, this);\n                    this.nextState = 8 /* nextCanLoadDone */;\n                    for (const node of this.nextNode.children) {\n                        node.context.vpa.canLoad(tr, b1);\n                    }\n                    return;\n                case 64 /* nextIsEmpty */:\n                    return;\n                default:\n                    this.unexpectedState('canLoad');\n            }\n        }).continueWith(() => {\n            this.logger.trace(`canLoad() - finished at %s`, this);\n            b.pop();\n        }).start();\n    }\n    unload(tr, b) {\n        ensureTransitionHasNotErrored(tr);\n        ensureGuardsResultIsTrue(this, tr);\n        b.push();\n        // run unload bottom-up\n        _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => {\n            this.logger.trace(`unload() - invoking on children at %s`, this);\n            for (const node of this.currNode.children) {\n                node.context.vpa.unload(tr, b1);\n            }\n        }).continueWith(b1 => {\n            switch (this.currState) {\n                case 1024 /* currCanUnloadDone */:\n                    this.logger.trace(`unload() - invoking on existing component at %s`, this);\n                    switch (this.$plan) {\n                        case 'none':\n                            this.currState = 256 /* currUnloadDone */;\n                            return;\n                        case 'invoke-lifecycles':\n                        case 'replace':\n                            this.currState = 512 /* currUnload */;\n                            b1.push();\n                            _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b2 => {\n                                this.logger.trace(`unload() - finished invoking on children, now invoking on own component at %s`, this);\n                                this.curCA.unload(tr, this.nextNode, b2);\n                            }).continueWith(() => {\n                                this.logger.trace(`unload() - finished at %s`, this);\n                                this.currState = 256 /* currUnloadDone */;\n                                b1.pop();\n                            }).start();\n                            return;\n                    }\n                case 8192 /* currIsEmpty */:\n                    this.logger.trace(`unload() - nothing to unload at %s`, this);\n                    for (const node of this.currNode.children) {\n                        node.context.vpa.unload(tr, b);\n                    }\n                    return;\n                default:\n                    this.unexpectedState('unload');\n            }\n        }).continueWith(() => {\n            b.pop();\n        }).start();\n    }\n    load(tr, b) {\n        ensureTransitionHasNotErrored(tr);\n        ensureGuardsResultIsTrue(this, tr);\n        b.push();\n        // run load top-down\n        _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => {\n            switch (this.nextState) {\n                case 8 /* nextCanLoadDone */: {\n                    this.logger.trace(`load() - invoking on new component at %s`, this);\n                    this.nextState = 4 /* nextLoad */;\n                    switch (this.$plan) {\n                        case 'none':\n                            return;\n                        case 'invoke-lifecycles':\n                            return this.curCA.load(tr, this.nextNode, b1);\n                        case 'replace':\n                            return this.nextCA.load(tr, this.nextNode, b1);\n                    }\n                }\n                case 64 /* nextIsEmpty */:\n                    this.logger.trace(`load() - nothing to load at %s`, this);\n                    return;\n                default:\n                    this.unexpectedState('load');\n            }\n        }).continueWith(b1 => {\n            switch (this.nextState) {\n                case 4 /* nextLoad */:\n                    this.logger.trace(`load() - finished own component, now invoking on children at %s`, this);\n                    this.nextState = 2 /* nextLoadDone */;\n                    for (const node of this.nextNode.children) {\n                        node.context.vpa.load(tr, b1);\n                    }\n                    return;\n                case 64 /* nextIsEmpty */:\n                    return;\n                default:\n                    this.unexpectedState('load');\n            }\n        }).continueWith(() => {\n            this.logger.trace(`load() - finished at %s`, this);\n            b.pop();\n        }).start();\n    }\n    deactivate(initiator, tr, b) {\n        ensureTransitionHasNotErrored(tr);\n        ensureGuardsResultIsTrue(this, tr);\n        b.push();\n        switch (this.currState) {\n            case 256 /* currUnloadDone */:\n                this.logger.trace(`deactivate() - invoking on existing component at %s`, this);\n                this.currState = 128 /* currDeactivate */;\n                switch (this.$plan) {\n                    case 'none':\n                    case 'invoke-lifecycles':\n                        b.pop();\n                        return;\n                    case 'replace': {\n                        const controller = this.hostController;\n                        const deactivateFlags = this.viewport.stateful ? 0 /* none */ : 32 /* dispose */;\n                        tr.run(() => {\n                            return this.curCA.deactivate(initiator, controller, deactivateFlags);\n                        }, () => {\n                            b.pop();\n                        });\n                    }\n                }\n                return;\n            case 8192 /* currIsEmpty */:\n                this.logger.trace(`deactivate() - nothing to deactivate at %s`, this);\n                b.pop();\n                return;\n            case 128 /* currDeactivate */:\n                this.logger.trace(`deactivate() - already deactivating at %s`, this);\n                b.pop();\n                return;\n            default:\n                this.unexpectedState('deactivate');\n        }\n    }\n    activate(initiator, tr, b) {\n        ensureTransitionHasNotErrored(tr);\n        ensureGuardsResultIsTrue(this, tr);\n        b.push();\n        if (this.nextState === 32 /* nextIsScheduled */ &&\n            this.$resolution === 'dynamic') {\n            this.logger.trace(`activate() - invoking canLoad(), load() and activate() on new component due to resolution 'dynamic' at %s`, this);\n            // This is the default v2 mode \"lazy loading\" situation\n            _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => {\n                this.canLoad(tr, b1);\n            }).continueWith(b1 => {\n                this.load(tr, b1);\n            }).continueWith(b1 => {\n                this.activate(initiator, tr, b1);\n            }).continueWith(() => {\n                b.pop();\n            }).start();\n            return;\n        }\n        switch (this.nextState) {\n            case 2 /* nextLoadDone */:\n                this.logger.trace(`activate() - invoking on existing component at %s`, this);\n                this.nextState = 1 /* nextActivate */;\n                // run activate top-down\n                _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => {\n                    switch (this.$plan) {\n                        case 'none':\n                        case 'invoke-lifecycles':\n                            return;\n                        case 'replace': {\n                            const controller = this.hostController;\n                            const activateFlags = 0 /* none */;\n                            tr.run(() => {\n                                b1.push();\n                                return this.nextCA.activate(initiator, controller, activateFlags);\n                            }, () => {\n                                b1.pop();\n                            });\n                        }\n                    }\n                }).continueWith(b1 => {\n                    this.processDynamicChildren(tr, b1);\n                }).continueWith(() => {\n                    b.pop();\n                }).start();\n                return;\n            case 64 /* nextIsEmpty */:\n                this.logger.trace(`activate() - nothing to activate at %s`, this);\n                b.pop();\n                return;\n            default:\n                this.unexpectedState('activate');\n        }\n    }\n    swap(tr, b) {\n        if (this.currState === 8192 /* currIsEmpty */) {\n            this.logger.trace(`swap() - running activate on next instead, because there is nothing to deactivate at %s`, this);\n            this.activate(null, tr, b);\n            return;\n        }\n        if (this.nextState === 64 /* nextIsEmpty */) {\n            this.logger.trace(`swap() - running deactivate on current instead, because there is nothing to activate at %s`, this);\n            this.deactivate(null, tr, b);\n            return;\n        }\n        ensureTransitionHasNotErrored(tr);\n        ensureGuardsResultIsTrue(this, tr);\n        if (!(this.currState === 256 /* currUnloadDone */ &&\n            this.nextState === 2 /* nextLoadDone */)) {\n            this.unexpectedState('swap');\n        }\n        this.currState = 128 /* currDeactivate */;\n        this.nextState = 1 /* nextActivate */;\n        switch (this.$plan) {\n            case 'none':\n            case 'invoke-lifecycles': {\n                this.logger.trace(`swap() - skipping this level and swapping children instead at %s`, this);\n                const nodes = (0,_util_js__WEBPACK_IMPORTED_MODULE_3__.mergeDistinct)(this.nextNode.children, this.currNode.children);\n                for (const node of nodes) {\n                    node.context.vpa.swap(tr, b);\n                }\n                return;\n            }\n            case 'replace': {\n                this.logger.trace(`swap() - running normally at %s`, this);\n                const controller = this.hostController;\n                const curCA = this.curCA;\n                const nextCA = this.nextCA;\n                const deactivateFlags = this.viewport.stateful ? 0 /* none */ : 32 /* dispose */;\n                const activateFlags = 0 /* none */;\n                b.push();\n                switch (tr.options.swapStrategy) {\n                    case 'sequential-add-first':\n                        _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => {\n                            tr.run(() => {\n                                b1.push();\n                                return nextCA.activate(null, controller, activateFlags);\n                            }, () => {\n                                b1.pop();\n                            });\n                        }).continueWith(b1 => {\n                            this.processDynamicChildren(tr, b1);\n                        }).continueWith(() => {\n                            tr.run(() => {\n                                return curCA.deactivate(null, controller, deactivateFlags);\n                            }, () => {\n                                b.pop();\n                            });\n                        }).start();\n                        return;\n                    case 'sequential-remove-first':\n                        _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => {\n                            tr.run(() => {\n                                b1.push();\n                                return curCA.deactivate(null, controller, deactivateFlags);\n                            }, () => {\n                                b1.pop();\n                            });\n                        }).continueWith(b1 => {\n                            tr.run(() => {\n                                b1.push();\n                                return nextCA.activate(null, controller, activateFlags);\n                            }, () => {\n                                b1.pop();\n                            });\n                        }).continueWith(b1 => {\n                            this.processDynamicChildren(tr, b1);\n                        }).continueWith(() => {\n                            b.pop();\n                        }).start();\n                        return;\n                    case 'parallel-remove-first':\n                        tr.run(() => {\n                            b.push();\n                            return curCA.deactivate(null, controller, deactivateFlags);\n                        }, () => {\n                            b.pop();\n                        });\n                        _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => {\n                            tr.run(() => {\n                                b1.push();\n                                return nextCA.activate(null, controller, activateFlags);\n                            }, () => {\n                                b1.pop();\n                            });\n                        }).continueWith(b1 => {\n                            this.processDynamicChildren(tr, b1);\n                        }).continueWith(() => {\n                            b.pop();\n                        }).start();\n                        return;\n                }\n            }\n        }\n    }\n    processDynamicChildren(tr, b) {\n        this.logger.trace(`processDynamicChildren() - %s`, this);\n        const next = this.nextNode;\n        tr.run(() => {\n            b.push();\n            return (0,_route_tree_js__WEBPACK_IMPORTED_MODULE_2__.getDynamicChildren)(next);\n        }, newChildren => {\n            _util_js__WEBPACK_IMPORTED_MODULE_3__.Batch.start(b1 => {\n                for (const node of newChildren) {\n                    tr.run(() => {\n                        b1.push();\n                        return node.context.vpa.canLoad(tr, b1);\n                    }, () => {\n                        b1.pop();\n                    });\n                }\n            }).continueWith(b1 => {\n                for (const node of newChildren) {\n                    tr.run(() => {\n                        b1.push();\n                        return node.context.vpa.load(tr, b1);\n                    }, () => {\n                        b1.pop();\n                    });\n                }\n            }).continueWith(b1 => {\n                for (const node of newChildren) {\n                    tr.run(() => {\n                        b1.push();\n                        return node.context.vpa.activate(null, tr, b1);\n                    }, () => {\n                        b1.pop();\n                    });\n                }\n            }).continueWith(() => {\n                b.pop();\n            }).start();\n        });\n    }\n    scheduleUpdate(options, next) {\n        var _a, _b;\n        switch (this.nextState) {\n            case 64 /* nextIsEmpty */:\n                this.nextNode = next;\n                this.nextState = 32 /* nextIsScheduled */;\n                this.$resolution = options.resolutionMode;\n                break;\n            default:\n                this.unexpectedState('scheduleUpdate 1');\n        }\n        switch (this.currState) {\n            case 8192 /* currIsEmpty */:\n            case 4096 /* currIsActive */:\n            case 1024 /* currCanUnloadDone */:\n                break;\n            default:\n                this.unexpectedState('scheduleUpdate 2');\n        }\n        const cur = (_b = (_a = this.curCA) === null || _a === void 0 ? void 0 : _a.routeNode) !== null && _b !== void 0 ? _b : null;\n        if (cur === null || cur.component !== next.component) {\n            // Component changed (or is cleared), so set to 'replace'\n            this.$plan = 'replace';\n        }\n        else {\n            // Component is the same, so determine plan based on config and/or convention\n            const plan = next.context.definition.config.transitionPlan;\n            if (typeof plan === 'function') {\n                this.$plan = plan(cur, next);\n            }\n            else {\n                this.$plan = plan;\n            }\n        }\n        this.logger.trace(`scheduleUpdate(next:%s) - plan set to '%s'`, next, this.$plan);\n    }\n    cancelUpdate() {\n        if (this.currNode !== null) {\n            this.currNode.children.forEach(function (node) {\n                node.context.vpa.cancelUpdate();\n            });\n        }\n        if (this.nextNode !== null) {\n            this.nextNode.children.forEach(function (node) {\n                node.context.vpa.cancelUpdate();\n            });\n        }\n        this.logger.trace(`cancelUpdate(nextNode:%s)`, this.nextNode);\n        switch (this.currState) {\n            case 8192 /* currIsEmpty */:\n            case 4096 /* currIsActive */:\n                break;\n            case 2048 /* currCanUnload */:\n            case 1024 /* currCanUnloadDone */:\n                this.currState = 4096 /* currIsActive */;\n                break;\n            case 512 /* currUnload */:\n            case 128 /* currDeactivate */:\n                // TODO: should schedule an 'undo' action\n                break;\n        }\n        switch (this.nextState) {\n            case 64 /* nextIsEmpty */:\n            case 32 /* nextIsScheduled */:\n            case 16 /* nextCanLoad */:\n            case 8 /* nextCanLoadDone */:\n                this.nextNode = null;\n                this.nextState = 64 /* nextIsEmpty */;\n                break;\n            case 4 /* nextLoad */:\n            case 1 /* nextActivate */:\n                // TODO: should schedule an 'undo' action\n                break;\n        }\n    }\n    endTransition() {\n        if (this.currNode !== null) {\n            this.currNode.children.forEach(function (node) {\n                node.context.vpa.endTransition();\n            });\n        }\n        if (this.nextNode !== null) {\n            this.nextNode.children.forEach(function (node) {\n                node.context.vpa.endTransition();\n            });\n        }\n        if (this.currTransition !== null) {\n            ensureTransitionHasNotErrored(this.currTransition);\n            switch (this.nextState) {\n                case 64 /* nextIsEmpty */:\n                    switch (this.currState) {\n                        case 128 /* currDeactivate */:\n                            this.logger.trace(`endTransition() - setting currState to State.nextIsEmpty at %s`, this);\n                            this.currState = 8192 /* currIsEmpty */;\n                            this.curCA = null;\n                            break;\n                        default:\n                            this.unexpectedState('endTransition 1');\n                    }\n                    break;\n                case 1 /* nextActivate */:\n                    switch (this.currState) {\n                        case 8192 /* currIsEmpty */:\n                        case 128 /* currDeactivate */:\n                            switch (this.$plan) {\n                                case 'none':\n                                case 'invoke-lifecycles':\n                                    this.logger.trace(`endTransition() - setting currState to State.currIsActive at %s`, this);\n                                    this.currState = 4096 /* currIsActive */;\n                                    break;\n                                case 'replace':\n                                    this.logger.trace(`endTransition() - setting currState to State.currIsActive and reassigning curCA at %s`, this);\n                                    this.currState = 4096 /* currIsActive */;\n                                    this.curCA = this.nextCA;\n                                    break;\n                            }\n                            this.currNode = this.nextNode;\n                            break;\n                        default:\n                            this.unexpectedState('endTransition 2');\n                    }\n                    break;\n                default:\n                    this.unexpectedState('endTransition 3');\n            }\n            this.$plan = 'replace';\n            this.nextState = 64 /* nextIsEmpty */;\n            this.nextNode = null;\n            this.nextCA = null;\n            this.prevTransition = this.currTransition;\n            this.currTransition = null;\n        }\n    }\n    toString() {\n        return `VPA(state:${this.$state},plan:'${this.$plan}',resolution:'${this.$resolution}',n:${this.nextNode},c:${this.currNode},viewport:${this.viewport})`;\n    }\n    dispose() {\n        var _a;\n        if (this.viewport.stateful /* TODO: incorporate statefulHistoryLength / router opts as well */) {\n            this.logger.trace(`dispose() - not disposing stateful viewport at %s`, this);\n        }\n        else {\n            this.logger.trace(`dispose() - disposing %s`, this);\n            (_a = this.curCA) === null || _a === void 0 ? void 0 : _a.dispose();\n        }\n    }\n    unexpectedState(label) {\n        throw new Error(`Unexpected state at ${label} of ${this}`);\n    }\n}\nfunction ensureGuardsResultIsTrue(vpa, tr) {\n    if (tr.guardsResult !== true) {\n        throw new Error(`Unexpected guardsResult ${tr.guardsResult} at ${vpa}`);\n    }\n}\nfunction ensureTransitionHasNotErrored(tr) {\n    if (tr.error !== void 0) {\n        throw tr.error;\n    }\n}\nvar State;\n(function (State) {\n    State[State[\"curr\"] = 16256] = \"curr\";\n    State[State[\"currIsEmpty\"] = 8192] = \"currIsEmpty\";\n    State[State[\"currIsActive\"] = 4096] = \"currIsActive\";\n    State[State[\"currCanUnload\"] = 2048] = \"currCanUnload\";\n    State[State[\"currCanUnloadDone\"] = 1024] = \"currCanUnloadDone\";\n    State[State[\"currUnload\"] = 512] = \"currUnload\";\n    State[State[\"currUnloadDone\"] = 256] = \"currUnloadDone\";\n    State[State[\"currDeactivate\"] = 128] = \"currDeactivate\";\n    State[State[\"next\"] = 127] = \"next\";\n    State[State[\"nextIsEmpty\"] = 64] = \"nextIsEmpty\";\n    State[State[\"nextIsScheduled\"] = 32] = \"nextIsScheduled\";\n    State[State[\"nextCanLoad\"] = 16] = \"nextCanLoad\";\n    State[State[\"nextCanLoadDone\"] = 8] = \"nextCanLoadDone\";\n    State[State[\"nextLoad\"] = 4] = \"nextLoad\";\n    State[State[\"nextLoadDone\"] = 2] = \"nextLoadDone\";\n    State[State[\"nextActivate\"] = 1] = \"nextActivate\";\n    State[State[\"bothAreEmpty\"] = 8256] = \"bothAreEmpty\";\n})(State || (State = {}));\n// Stringifying uses arrays and does not have a negligible cost, so cache the results to not let trace logging\n// in and of its own slow things down too much.\nconst $stateCache = new Map();\nfunction $state(state) {\n    let str = $stateCache.get(state);\n    if (str === void 0) {\n        $stateCache.set(state, str = stringifyState(state));\n    }\n    return str;\n}\nfunction stringifyState(state) {\n    const flags = [];\n    if ((state & 8192 /* currIsEmpty */) === 8192 /* currIsEmpty */) {\n        flags.push('currIsEmpty');\n    }\n    if ((state & 4096 /* currIsActive */) === 4096 /* currIsActive */) {\n        flags.push('currIsActive');\n    }\n    if ((state & 2048 /* currCanUnload */) === 2048 /* currCanUnload */) {\n        flags.push('currCanUnload');\n    }\n    if ((state & 1024 /* currCanUnloadDone */) === 1024 /* currCanUnloadDone */) {\n        flags.push('currCanUnloadDone');\n    }\n    if ((state & 512 /* currUnload */) === 512 /* currUnload */) {\n        flags.push('currUnload');\n    }\n    if ((state & 256 /* currUnloadDone */) === 256 /* currUnloadDone */) {\n        flags.push('currUnloadDone');\n    }\n    if ((state & 128 /* currDeactivate */) === 128 /* currDeactivate */) {\n        flags.push('currDeactivate');\n    }\n    if ((state & 64 /* nextIsEmpty */) === 64 /* nextIsEmpty */) {\n        flags.push('nextIsEmpty');\n    }\n    if ((state & 32 /* nextIsScheduled */) === 32 /* nextIsScheduled */) {\n        flags.push('nextIsScheduled');\n    }\n    if ((state & 16 /* nextCanLoad */) === 16 /* nextCanLoad */) {\n        flags.push('nextCanLoad');\n    }\n    if ((state & 8 /* nextCanLoadDone */) === 8 /* nextCanLoadDone */) {\n        flags.push('nextCanLoadDone');\n    }\n    if ((state & 4 /* nextLoad */) === 4 /* nextLoad */) {\n        flags.push('nextLoad');\n    }\n    if ((state & 2 /* nextLoadDone */) === 2 /* nextLoadDone */) {\n        flags.push('nextLoadDone');\n    }\n    if ((state & 1 /* nextActivate */) === 1 /* nextActivate */) {\n        flags.push('nextActivate');\n    }\n    return flags.join('|');\n}\n//# sourceMappingURL=viewport-agent.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcm91dGVyL2Rpc3QvZXNtL3ZpZXdwb3J0LWFnZW50LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3JvdXRlci9kaXN0L2VzbS92aWV3cG9ydC1hZ2VudC5qcz8yMTk1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5vLWZhbGx0aHJvdWdoIGRpc2FibGVkIGR1ZSB0byBsYXJnZSBudW1iZXJzIG9mIGZhbHNlIHBvc2l0aXZlc1xuLyogZXNsaW50LWRpc2FibGUgbm8tZmFsbHRocm91Z2ggKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC10ZW1wbGF0ZS1leHByZXNzaW9ucyAqL1xuaW1wb3J0IHsgSUxvZ2dlciwgb25SZXNvbHZlIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lLWh0bWwnO1xuaW1wb3J0IHsgcHJvY2Vzc1Jlc2lkdWUsIGdldER5bmFtaWNDaGlsZHJlbiB9IGZyb20gJy4vcm91dGUtdHJlZS5qcyc7XG5pbXBvcnQgeyBCYXRjaCwgbWVyZ2VEaXN0aW5jdCB9IGZyb20gJy4vdXRpbC5qcyc7XG5leHBvcnQgY2xhc3MgVmlld3BvcnRSZXF1ZXN0IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3cG9ydE5hbWUsIGNvbXBvbmVudE5hbWUsIHJlc29sdXRpb24sIGFwcGVuZCkge1xuICAgICAgICB0aGlzLnZpZXdwb3J0TmFtZSA9IHZpZXdwb3J0TmFtZTtcbiAgICAgICAgdGhpcy5jb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZTtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5hcHBlbmQgPSBhcHBlbmQ7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3cG9ydFJlcXVlc3QoaW5wdXQudmlld3BvcnROYW1lLCBpbnB1dC5jb21wb25lbnROYW1lLCBpbnB1dC5yZXNvbHV0aW9uLCBpbnB1dC5hcHBlbmQpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBWUih2aWV3cG9ydDonJHt0aGlzLnZpZXdwb3J0TmFtZX0nLGNvbXBvbmVudDonJHt0aGlzLmNvbXBvbmVudE5hbWV9JyxyZXNvbHV0aW9uOicke3RoaXMucmVzb2x1dGlvbn0nLGFwcGVuZDoke3RoaXMuYXBwZW5kfSlgO1xuICAgIH1cbn1cbmNvbnN0IHZpZXdwb3J0QWdlbnRMb29rdXAgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGNsYXNzIFZpZXdwb3J0QWdlbnQge1xuICAgIGNvbnN0cnVjdG9yKHZpZXdwb3J0LCBob3N0Q29udHJvbGxlciwgY3R4KSB7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgdGhpcy5ob3N0Q29udHJvbGxlciA9IGhvc3RDb250cm9sbGVyO1xuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1ckNBID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZXh0Q0EgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gODI1NiAvKiBib3RoQXJlRW1wdHkgKi87XG4gICAgICAgIHRoaXMuJHJlc29sdXRpb24gPSAnZHluYW1pYyc7XG4gICAgICAgIHRoaXMuJHBsYW4gPSAncmVwbGFjZSc7XG4gICAgICAgIHRoaXMuY3Vyck5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLm5leHROb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyVHJhbnNpdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMucHJldlRyYW5zaXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGN0eC5nZXQoSUxvZ2dlcikuc2NvcGVUbyhgVmlld3BvcnRBZ2VudDwke2N0eC5mcmllbmRseVBhdGh9PmApO1xuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgY29uc3RydWN0b3IoKWApO1xuICAgIH1cbiAgICBnZXQgJHN0YXRlKCkgeyByZXR1cm4gJHN0YXRlKHRoaXMuc3RhdGUpOyB9XG4gICAgZ2V0IGN1cnJTdGF0ZSgpIHsgcmV0dXJuIHRoaXMuc3RhdGUgJiAxNjI1NiAvKiBjdXJyICovOyB9XG4gICAgc2V0IGN1cnJTdGF0ZShzdGF0ZSkgeyB0aGlzLnN0YXRlID0gKHRoaXMuc3RhdGUgJiAxMjcgLyogbmV4dCAqLykgfCBzdGF0ZTsgfVxuICAgIGdldCBuZXh0U3RhdGUoKSB7IHJldHVybiB0aGlzLnN0YXRlICYgMTI3IC8qIG5leHQgKi87IH1cbiAgICBzZXQgbmV4dFN0YXRlKHN0YXRlKSB7IHRoaXMuc3RhdGUgPSAodGhpcy5zdGF0ZSAmIDE2MjU2IC8qIGN1cnIgKi8pIHwgc3RhdGU7IH1cbiAgICBzdGF0aWMgZm9yKHZpZXdwb3J0LCBjdHgpIHtcbiAgICAgICAgbGV0IHZpZXdwb3J0QWdlbnQgPSB2aWV3cG9ydEFnZW50TG9va3VwLmdldCh2aWV3cG9ydCk7XG4gICAgICAgIGlmICh2aWV3cG9ydEFnZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBDb250cm9sbGVyLmdldENhY2hlZE9yVGhyb3codmlld3BvcnQpO1xuICAgICAgICAgICAgdmlld3BvcnRBZ2VudExvb2t1cC5zZXQodmlld3BvcnQsIHZpZXdwb3J0QWdlbnQgPSBuZXcgVmlld3BvcnRBZ2VudCh2aWV3cG9ydCwgY29udHJvbGxlciwgY3R4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXdwb3J0QWdlbnQ7XG4gICAgfVxuICAgIGFjdGl2YXRlRnJvbVZpZXdwb3J0KGluaXRpYXRvciwgcGFyZW50LCBmbGFncykge1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMuY3VyclRyYW5zaXRpb247XG4gICAgICAgIGlmICh0ciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZW5zdXJlVHJhbnNpdGlvbkhhc05vdEVycm9yZWQodHIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICBzd2l0Y2ggKHRoaXMubmV4dFN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDY0IC8qIG5leHRJc0VtcHR5ICovOlxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5jdXJyU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4MTkyIC8qIGN1cnJJc0VtcHR5ICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGFjdGl2YXRlRnJvbVZpZXdwb3J0KCkgLSBub3RoaW5nIHRvIGFjdGl2YXRlIGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDA5NiAvKiBjdXJySXNBY3RpdmUgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgYWN0aXZhdGVGcm9tVmlld3BvcnQoKSAtIGFjdGl2YXRpbmcgZXhpc3RpbmcgY29tcG9uZW50QWdlbnQgYXQgJXNgLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1ckNBLmFjdGl2YXRlKGluaXRpYXRvciwgcGFyZW50LCBmbGFncyk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZXhwZWN0ZWRTdGF0ZSgnYWN0aXZhdGVGcm9tVmlld3BvcnQgMScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMiAvKiBuZXh0TG9hZERvbmUgKi86IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyVHJhbnNpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgdmlld3BvcnQgYWN0aXZhdGlvbiBvdXRzaWRlIG9mIGEgdHJhbnNpdGlvbiBjb250ZXh0IGF0ICR7dGhpc31gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJlc29sdXRpb24gIT09ICdzdGF0aWMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB2aWV3cG9ydCBhY3RpdmF0aW9uIGF0ICR7dGhpc31gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGFjdGl2YXRlRnJvbVZpZXdwb3J0KCkgLSBydW5uaW5nIG9yZGluYXJ5IGFjdGl2YXRlIGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYiA9IEJhdGNoLnN0YXJ0KGIxID0+IHsgdGhpcy5hY3RpdmF0ZShpbml0aWF0b3IsIHRoaXMuY3VyclRyYW5zaXRpb24sIGIxKTsgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4geyBiLmNvbnRpbnVlV2l0aCgoKSA9PiB7IHJlc29sdmUoKTsgfSk7IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBiLnN0YXJ0KCkuZG9uZSA/IHZvaWQgMCA6IHA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMudW5leHBlY3RlZFN0YXRlKCdhY3RpdmF0ZUZyb21WaWV3cG9ydCAyJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVhY3RpdmF0ZUZyb21WaWV3cG9ydChpbml0aWF0b3IsIHBhcmVudCwgZmxhZ3MpIHtcbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLmN1cnJUcmFuc2l0aW9uO1xuICAgICAgICBpZiAodHIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGVuc3VyZVRyYW5zaXRpb25IYXNOb3RFcnJvcmVkKHRyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jdXJyU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgODE5MiAvKiBjdXJySXNFbXB0eSAqLzpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgZGVhY3RpdmF0ZUZyb21WaWV3cG9ydCgpIC0gbm90aGluZyB0byBkZWFjdGl2YXRlIGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSA0MDk2IC8qIGN1cnJJc0FjdGl2ZSAqLzpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgZGVhY3RpdmF0ZUZyb21WaWV3cG9ydCgpIC0gZGVhY3RpdmF0aW5nIGV4aXN0aW5nIGNvbXBvbmVudEFnZW50IGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VyQ0EuZGVhY3RpdmF0ZShpbml0aWF0b3IsIHBhcmVudCwgZmxhZ3MpO1xuICAgICAgICAgICAgY2FzZSAxMjggLyogY3VyckRlYWN0aXZhdGUgKi86XG4gICAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGhhcHBlbiB3aXRoIGJvdHRvbS11cCBkZWFjdGl2YXRpb24gYmVjYXVzZSB0aGUgY2hpbGQgaXMgYWxyZWFkeSBkZWFjdGl2YXRlZCwgdGhlIHBhcmVudFxuICAgICAgICAgICAgICAgIC8vIGFnYWluIHRyaWVzIHRvIGRlYWN0aXZhdGUgdGhlIGNoaWxkICh0aGF0IHdvdWxkIGJlIHRoaXMgdmlld3BvcnQpIGJ1dCB0aGUgcm91dGVyIGhhc24ndCBmaW5hbGl6ZWQgdGhlIHRyYW5zaXRpb24geWV0LlxuICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgaXMgdmlld3BvcnQgd2FzIGFscmVhZHkgZGVhY3RpdmF0ZWQsIGFuZCB3ZSBrbm93IHRoZSBwcmVjaXNlIGNpcmN1bXN0YW5jZSB1bmRlciB3aGljaCB0aGF0IGhhcHBlbnMsIHdlIGNhbiBzYWZlbHkgaWdub3JlIHRoZSBjYWxsLlxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBkZWFjdGl2YXRlRnJvbVZpZXdwb3J0KCkgLSBhbHJlYWR5IGRlYWN0aXZhdGluZyBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyVHJhbnNpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgdmlld3BvcnQgZGVhY3RpdmF0aW9uIG91dHNpZGUgb2YgYSB0cmFuc2l0aW9uIGNvbnRleHQgYXQgJHt0aGlzfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgZGVhY3RpdmF0ZUZyb21WaWV3cG9ydCgpIC0gcnVubmluZyBvcmRpbmFyeSBkZWFjdGl2YXRlIGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYiA9IEJhdGNoLnN0YXJ0KGIxID0+IHsgdGhpcy5kZWFjdGl2YXRlKGluaXRpYXRvciwgdGhpcy5jdXJyVHJhbnNpdGlvbiwgYjEpOyB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7IGIuY29udGludWVXaXRoKCgpID0+IHsgcmVzb2x2ZSgpOyB9KTsgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGIuc3RhcnQoKS5kb25lID8gdm9pZCAwIDogcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVzKHJlcSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNBdmFpbGFibGUocmVxLnJlc29sdXRpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcS5hcHBlbmQgJiYgdGhpcy5jdXJyU3RhdGUgPT09IDQwOTYgLyogY3VycklzQWN0aXZlICovKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgaGFuZGxlcyhyZXE6JXMpIC0+IGZhbHNlIChhcHBlbmQgbW9kZSwgdmlld3BvcnQgYWxyZWFkeSBoYXMgY29udGVudCAlcylgLCByZXEsIHRoaXMuY3VyQ0EpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEudmlld3BvcnROYW1lLmxlbmd0aCA+IDAgJiYgdGhpcy52aWV3cG9ydC5uYW1lICE9PSByZXEudmlld3BvcnROYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgaGFuZGxlcyhyZXE6JXMpIC0+IGZhbHNlIChuYW1lcyBkb24ndCBtYXRjaClgLCByZXEpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZpZXdwb3J0LnVzZWRCeS5sZW5ndGggPiAwICYmICF0aGlzLnZpZXdwb3J0LnVzZWRCeS5zcGxpdCgnLCcpLmluY2x1ZGVzKHJlcS5jb21wb25lbnROYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGhhbmRsZXMocmVxOiVzKSAtPiBmYWxzZSAoY29tcG9uZW50TmFtZSBub3QgaW5jbHVkZWQgaW4gdXNlZEJ5KWAsIHJlcSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGhhbmRsZXMocmVxOiVzKSAtPiB0cnVlYCwgcmVxKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlzQXZhaWxhYmxlKHJlc29sdXRpb24pIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09ICdkeW5hbWljJyAmJiAhdGhpcy5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGlzQXZhaWxhYmxlKHJlc29sdXRpb246JXMpIC0+IGZhbHNlICh2aWV3cG9ydCBpcyBub3QgYWN0aXZlIGFuZCB3ZSdyZSBpbiBkeW5hbWljIHJlc29sdXRpb24gcmVzb2x1dGlvbilgLCByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5uZXh0U3RhdGUgIT09IDY0IC8qIG5leHRJc0VtcHR5ICovKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgaXNBdmFpbGFibGUocmVzb2x1dGlvbjolcykgLT4gZmFsc2UgKHVwZGF0ZSBhbHJlYWR5IHNjaGVkdWxlZCBmb3IgJXMpYCwgcmVzb2x1dGlvbiwgdGhpcy5uZXh0Tm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhblVubG9hZCh0ciwgYikge1xuICAgICAgICBpZiAodGhpcy5jdXJyVHJhbnNpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyVHJhbnNpdGlvbiA9IHRyO1xuICAgICAgICB9XG4gICAgICAgIGVuc3VyZVRyYW5zaXRpb25IYXNOb3RFcnJvcmVkKHRyKTtcbiAgICAgICAgaWYgKHRyLmd1YXJkc1Jlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGIucHVzaCgpO1xuICAgICAgICAvLyBydW4gY2FuVW5sb2FkIGJvdHRvbS11cFxuICAgICAgICBCYXRjaC5zdGFydChiMSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgY2FuVW5sb2FkKCkgLSBpbnZva2luZyBvbiBjaGlsZHJlbiBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMuY3Vyck5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBub2RlLmNvbnRleHQudnBhLmNhblVubG9hZCh0ciwgYjEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jb250aW51ZVdpdGgoYjEgPT4ge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgNDA5NiAvKiBjdXJySXNBY3RpdmUgKi86XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBjYW5VbmxvYWQoKSAtIGludm9raW5nIG9uIGV4aXN0aW5nIGNvbXBvbmVudCBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuJHBsYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyclN0YXRlID0gMTAyNCAvKiBjdXJyQ2FuVW5sb2FkRG9uZSAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnZva2UtbGlmZWN5Y2xlcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyZXBsYWNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJTdGF0ZSA9IDIwNDggLyogY3VyckNhblVubG9hZCAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiMS5wdXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQmF0Y2guc3RhcnQoYjIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgY2FuVW5sb2FkKCkgLSBmaW5pc2hlZCBpbnZva2luZyBvbiBjaGlsZHJlbiwgbm93IGludm9raW5nIG9uIG93biBjb21wb25lbnQgYXQgJXNgLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJDQS5jYW5VbmxvYWQodHIsIHRoaXMubmV4dE5vZGUsIGIyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jb250aW51ZVdpdGgoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgY2FuVW5sb2FkKCkgLSBmaW5pc2hlZCBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJTdGF0ZSA9IDEwMjQgLyogY3VyckNhblVubG9hZERvbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIxLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSA4MTkyIC8qIGN1cnJJc0VtcHR5ICovOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgY2FuVW5sb2FkKCkgLSBub3RoaW5nIHRvIHVubG9hZCBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdHIuaGFuZGxlRXJyb3IobmV3IEVycm9yKGBVbmV4cGVjdGVkIHN0YXRlIGF0IGNhblVubG9hZCBvZiAke3RoaXN9YCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jb250aW51ZVdpdGgoKCkgPT4ge1xuICAgICAgICAgICAgYi5wb3AoKTtcbiAgICAgICAgfSkuc3RhcnQoKTtcbiAgICB9XG4gICAgY2FuTG9hZCh0ciwgYikge1xuICAgICAgICBpZiAodGhpcy5jdXJyVHJhbnNpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyVHJhbnNpdGlvbiA9IHRyO1xuICAgICAgICB9XG4gICAgICAgIGVuc3VyZVRyYW5zaXRpb25IYXNOb3RFcnJvcmVkKHRyKTtcbiAgICAgICAgaWYgKHRyLmd1YXJkc1Jlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGIucHVzaCgpO1xuICAgICAgICAvLyBydW4gY2FuTG9hZCB0b3AtZG93blxuICAgICAgICBCYXRjaC5zdGFydChiMSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMubmV4dFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzMiAvKiBuZXh0SXNTY2hlZHVsZWQgKi86XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBjYW5Mb2FkKCkgLSBpbnZva2luZyBvbiBuZXcgY29tcG9uZW50IGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFN0YXRlID0gMTYgLyogbmV4dENhbkxvYWQgKi87XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy4kcGxhbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW52b2tlLWxpZmVjeWNsZXMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1ckNBLmNhbkxvYWQodHIsIHRoaXMubmV4dE5vZGUsIGIxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dENBID0gdGhpcy5uZXh0Tm9kZS5jb250ZXh0LmNyZWF0ZUNvbXBvbmVudEFnZW50KHRoaXMuaG9zdENvbnRyb2xsZXIsIHRoaXMubmV4dE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5leHRDQS5jYW5Mb2FkKHRyLCB0aGlzLm5leHROb2RlLCBiMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDY0IC8qIG5leHRJc0VtcHR5ICovOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgY2FuTG9hZCgpIC0gbm90aGluZyB0byBsb2FkIGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZXhwZWN0ZWRTdGF0ZSgnY2FuTG9hZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jb250aW51ZVdpdGgoYjEgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMubmV4dE5vZGU7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuJHBsYW4pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICAgICAgICBjYXNlICdpbnZva2UtbGlmZWN5Y2xlcyc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBjYW5Mb2FkKG5leHQ6JXMpIC0gcGxhbiBzZXQgdG8gJyVzJywgY29tcGlsaW5nIHJlc2lkdWVgLCBuZXh0LCB0aGlzLiRwbGFuKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgcGxhbnMgY2FuIG9ubHkgb2NjdXIgaWYgdGhlcmUgaXMgYWxyZWFkeSBhIGN1cnJlbnQgY29tcG9uZW50IGFjdGl2ZSBpbiB0aGlzIHZpZXdwb3J0LFxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgaXQgaXMgdGhlIHNhbWUgY29tcG9uZW50IGFzIGBuZXh0YC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB0aGUgUm91dGVDb250ZXh0IG9mIGBuZXh0YCB3YXMgY3JlYXRlZCBkdXJpbmcgYSBwcmV2aW91cyB0cmFuc2l0aW9uIGFuZCBtaWdodCBjb250YWluXG4gICAgICAgICAgICAgICAgICAgIC8vIGFscmVhZHktYWN0aXZlIGNoaWxkcmVuLiBJZiB0aGF0IGlzIHRoZSBjYXNlLCB3ZSB3YW50IHRvIGVhZ2VybHkgY2FsbCB0aGUgcm91dGVyIGhvb2tzIG9uIHRoZW0gZHVyaW5nIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBmaXJzdCBwYXNzIG9mIGFjdGl2YXRpb24sIGluc3RlYWQgb2YgbGF6aWx5IGluIGEgbGF0ZXIgcGFzcyBhZnRlciBgcHJvY2Vzc1Jlc2lkdWVgLlxuICAgICAgICAgICAgICAgICAgICAvLyBCeSBjYWxsaW5nIGBjb21waWxlUmVzaWR1ZWAgaGVyZSBvbiB0aGUgY3VycmVudCBjb250ZXh0LCB3ZSdyZSBlbnN1cmluZyB0aGF0IHN1Y2ggbm9kZXMgYXJlIGNyZWF0ZWQgYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZWlyIHRhcmdldCB2aWV3cG9ydHMgaGF2ZSB0aGUgYXBwcm9wcmlhdGUgdXBkYXRlcyBzY2hlZHVsZWQuXG4gICAgICAgICAgICAgICAgICAgIGIxLnB1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCBvblJlc29sdmUocHJvY2Vzc1Jlc2lkdWUobmV4dCksICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIxLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2UnOlxuICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGUgY2FzZSBvZiAncmVwbGFjZScsIGFsd2F5cyBwcm9jZXNzIHRoaXMgbm9kZSBhbmQgaXRzIHN1YnRyZWUgYXMgaWYgaXQncyBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLiRyZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkeW5hbWljJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNpZHVlIGNvbXBpbGF0aW9uIHdpbGwgaGFwcGVuIGF0IGBWaWV3cG9ydEFnZW50I3Byb2Nlc3NSZXNpZHVlYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBjYW5Mb2FkKG5leHQ6JXMpIC0gKHJlc29sdXRpb246ICdkeW5hbWljJyksIGRlbGF5aW5nIHJlc2lkdWUgY29tcGlsYXRpb24gdW50aWwgYWN0aXZhdGVgLCBuZXh0LCB0aGlzLiRwbGFuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzdGF0aWMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBjYW5Mb2FkKG5leHQ6JXMpIC0gKHJlc29sdXRpb246ICcke3RoaXMuJHJlc29sdXRpb259JyksIGNyZWF0aW5nIG5leHRDQSBhbmQgY29tcGlsaW5nIHJlc2lkdWVgLCBuZXh0LCB0aGlzLiRwbGFuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiMS5wdXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCBvblJlc29sdmUocHJvY2Vzc1Jlc2lkdWUobmV4dCksICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYjEucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNvbnRpbnVlV2l0aChiMSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMubmV4dFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxNiAvKiBuZXh0Q2FuTG9hZCAqLzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGNhbkxvYWQoKSAtIGZpbmlzaGVkIG93biBjb21wb25lbnQsIG5vdyBpbnZva2luZyBvbiBjaGlsZHJlbiBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRTdGF0ZSA9IDggLyogbmV4dENhbkxvYWREb25lICovO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5uZXh0Tm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5jb250ZXh0LnZwYS5jYW5Mb2FkKHRyLCBiMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgNjQgLyogbmV4dElzRW1wdHkgKi86XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZXhwZWN0ZWRTdGF0ZSgnY2FuTG9hZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jb250aW51ZVdpdGgoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGNhbkxvYWQoKSAtIGZpbmlzaGVkIGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICBiLnBvcCgpO1xuICAgICAgICB9KS5zdGFydCgpO1xuICAgIH1cbiAgICB1bmxvYWQodHIsIGIpIHtcbiAgICAgICAgZW5zdXJlVHJhbnNpdGlvbkhhc05vdEVycm9yZWQodHIpO1xuICAgICAgICBlbnN1cmVHdWFyZHNSZXN1bHRJc1RydWUodGhpcywgdHIpO1xuICAgICAgICBiLnB1c2goKTtcbiAgICAgICAgLy8gcnVuIHVubG9hZCBib3R0b20tdXBcbiAgICAgICAgQmF0Y2guc3RhcnQoYjEgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHVubG9hZCgpIC0gaW52b2tpbmcgb24gY2hpbGRyZW4gYXQgJXNgLCB0aGlzKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLmN1cnJOb2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5jb250ZXh0LnZwYS51bmxvYWQodHIsIGIxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuY29udGludWVXaXRoKGIxID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5jdXJyU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEwMjQgLyogY3VyckNhblVubG9hZERvbmUgKi86XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGB1bmxvYWQoKSAtIGludm9raW5nIG9uIGV4aXN0aW5nIGNvbXBvbmVudCBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuJHBsYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyclN0YXRlID0gMjU2IC8qIGN1cnJVbmxvYWREb25lICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ludm9rZS1saWZlY3ljbGVzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyclN0YXRlID0gNTEyIC8qIGN1cnJVbmxvYWQgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYjEucHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJhdGNoLnN0YXJ0KGIyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHVubG9hZCgpIC0gZmluaXNoZWQgaW52b2tpbmcgb24gY2hpbGRyZW4sIG5vdyBpbnZva2luZyBvbiBvd24gY29tcG9uZW50IGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyQ0EudW5sb2FkKHRyLCB0aGlzLm5leHROb2RlLCBiMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY29udGludWVXaXRoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHVubG9hZCgpIC0gZmluaXNoZWQgYXQgJXNgLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyU3RhdGUgPSAyNTYgLyogY3VyclVubG9hZERvbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIxLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSA4MTkyIC8qIGN1cnJJc0VtcHR5ICovOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgdW5sb2FkKCkgLSBub3RoaW5nIHRvIHVubG9hZCBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5jdXJyTm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5jb250ZXh0LnZwYS51bmxvYWQodHIsIGIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZXhwZWN0ZWRTdGF0ZSgndW5sb2FkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNvbnRpbnVlV2l0aCgoKSA9PiB7XG4gICAgICAgICAgICBiLnBvcCgpO1xuICAgICAgICB9KS5zdGFydCgpO1xuICAgIH1cbiAgICBsb2FkKHRyLCBiKSB7XG4gICAgICAgIGVuc3VyZVRyYW5zaXRpb25IYXNOb3RFcnJvcmVkKHRyKTtcbiAgICAgICAgZW5zdXJlR3VhcmRzUmVzdWx0SXNUcnVlKHRoaXMsIHRyKTtcbiAgICAgICAgYi5wdXNoKCk7XG4gICAgICAgIC8vIHJ1biBsb2FkIHRvcC1kb3duXG4gICAgICAgIEJhdGNoLnN0YXJ0KGIxID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5uZXh0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDggLyogbmV4dENhbkxvYWREb25lICovOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBsb2FkKCkgLSBpbnZva2luZyBvbiBuZXcgY29tcG9uZW50IGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFN0YXRlID0gNCAvKiBuZXh0TG9hZCAqLztcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLiRwbGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnZva2UtbGlmZWN5Y2xlcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VyQ0EubG9hZCh0ciwgdGhpcy5uZXh0Tm9kZSwgYjEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmV4dENBLmxvYWQodHIsIHRoaXMubmV4dE5vZGUsIGIxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDY0IC8qIG5leHRJc0VtcHR5ICovOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgbG9hZCgpIC0gbm90aGluZyB0byBsb2FkIGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZXhwZWN0ZWRTdGF0ZSgnbG9hZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jb250aW51ZVdpdGgoYjEgPT4ge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm5leHRTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBuZXh0TG9hZCAqLzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGxvYWQoKSAtIGZpbmlzaGVkIG93biBjb21wb25lbnQsIG5vdyBpbnZva2luZyBvbiBjaGlsZHJlbiBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRTdGF0ZSA9IDIgLyogbmV4dExvYWREb25lICovO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5uZXh0Tm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5jb250ZXh0LnZwYS5sb2FkKHRyLCBiMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgNjQgLyogbmV4dElzRW1wdHkgKi86XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZXhwZWN0ZWRTdGF0ZSgnbG9hZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jb250aW51ZVdpdGgoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGxvYWQoKSAtIGZpbmlzaGVkIGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICBiLnBvcCgpO1xuICAgICAgICB9KS5zdGFydCgpO1xuICAgIH1cbiAgICBkZWFjdGl2YXRlKGluaXRpYXRvciwgdHIsIGIpIHtcbiAgICAgICAgZW5zdXJlVHJhbnNpdGlvbkhhc05vdEVycm9yZWQodHIpO1xuICAgICAgICBlbnN1cmVHdWFyZHNSZXN1bHRJc1RydWUodGhpcywgdHIpO1xuICAgICAgICBiLnB1c2goKTtcbiAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAyNTYgLyogY3VyclVubG9hZERvbmUgKi86XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGRlYWN0aXZhdGUoKSAtIGludm9raW5nIG9uIGV4aXN0aW5nIGNvbXBvbmVudCBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VyclN0YXRlID0gMTI4IC8qIGN1cnJEZWFjdGl2YXRlICovO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy4kcGxhbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW52b2tlLWxpZmVjeWNsZXMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYi5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB0aGlzLmhvc3RDb250cm9sbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVhY3RpdmF0ZUZsYWdzID0gdGhpcy52aWV3cG9ydC5zdGF0ZWZ1bCA/IDAgLyogbm9uZSAqLyA6IDMyIC8qIGRpc3Bvc2UgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1ckNBLmRlYWN0aXZhdGUoaW5pdGlhdG9yLCBjb250cm9sbGVyLCBkZWFjdGl2YXRlRmxhZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIDgxOTIgLyogY3VycklzRW1wdHkgKi86XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGRlYWN0aXZhdGUoKSAtIG5vdGhpbmcgdG8gZGVhY3RpdmF0ZSBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGIucG9wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAxMjggLyogY3VyckRlYWN0aXZhdGUgKi86XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGRlYWN0aXZhdGUoKSAtIGFscmVhZHkgZGVhY3RpdmF0aW5nIGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgYi5wb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMudW5leHBlY3RlZFN0YXRlKCdkZWFjdGl2YXRlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWN0aXZhdGUoaW5pdGlhdG9yLCB0ciwgYikge1xuICAgICAgICBlbnN1cmVUcmFuc2l0aW9uSGFzTm90RXJyb3JlZCh0cik7XG4gICAgICAgIGVuc3VyZUd1YXJkc1Jlc3VsdElzVHJ1ZSh0aGlzLCB0cik7XG4gICAgICAgIGIucHVzaCgpO1xuICAgICAgICBpZiAodGhpcy5uZXh0U3RhdGUgPT09IDMyIC8qIG5leHRJc1NjaGVkdWxlZCAqLyAmJlxuICAgICAgICAgICAgdGhpcy4kcmVzb2x1dGlvbiA9PT0gJ2R5bmFtaWMnKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgYWN0aXZhdGUoKSAtIGludm9raW5nIGNhbkxvYWQoKSwgbG9hZCgpIGFuZCBhY3RpdmF0ZSgpIG9uIG5ldyBjb21wb25lbnQgZHVlIHRvIHJlc29sdXRpb24gJ2R5bmFtaWMnIGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBkZWZhdWx0IHYyIG1vZGUgXCJsYXp5IGxvYWRpbmdcIiBzaXR1YXRpb25cbiAgICAgICAgICAgIEJhdGNoLnN0YXJ0KGIxID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbkxvYWQodHIsIGIxKTtcbiAgICAgICAgICAgIH0pLmNvbnRpbnVlV2l0aChiMSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkKHRyLCBiMSk7XG4gICAgICAgICAgICB9KS5jb250aW51ZVdpdGgoYjEgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGUoaW5pdGlhdG9yLCB0ciwgYjEpO1xuICAgICAgICAgICAgfSkuY29udGludWVXaXRoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBiLnBvcCgpO1xuICAgICAgICAgICAgfSkuc3RhcnQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMubmV4dFN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDIgLyogbmV4dExvYWREb25lICovOlxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBhY3RpdmF0ZSgpIC0gaW52b2tpbmcgb24gZXhpc3RpbmcgY29tcG9uZW50IGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0U3RhdGUgPSAxIC8qIG5leHRBY3RpdmF0ZSAqLztcbiAgICAgICAgICAgICAgICAvLyBydW4gYWN0aXZhdGUgdG9wLWRvd25cbiAgICAgICAgICAgICAgICBCYXRjaC5zdGFydChiMSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy4kcGxhbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnZva2UtbGlmZWN5Y2xlcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcy5ob3N0Q29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmF0ZUZsYWdzID0gMCAvKiBub25lICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIxLnB1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmV4dENBLmFjdGl2YXRlKGluaXRpYXRvciwgY29udHJvbGxlciwgYWN0aXZhdGVGbGFncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiMS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLmNvbnRpbnVlV2l0aChiMSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0R5bmFtaWNDaGlsZHJlbih0ciwgYjEpO1xuICAgICAgICAgICAgICAgIH0pLmNvbnRpbnVlV2l0aCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGIucG9wKCk7XG4gICAgICAgICAgICAgICAgfSkuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIDY0IC8qIG5leHRJc0VtcHR5ICovOlxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBhY3RpdmF0ZSgpIC0gbm90aGluZyB0byBhY3RpdmF0ZSBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGIucG9wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLnVuZXhwZWN0ZWRTdGF0ZSgnYWN0aXZhdGUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzd2FwKHRyLCBiKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJTdGF0ZSA9PT0gODE5MiAvKiBjdXJySXNFbXB0eSAqLykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHN3YXAoKSAtIHJ1bm5pbmcgYWN0aXZhdGUgb24gbmV4dCBpbnN0ZWFkLCBiZWNhdXNlIHRoZXJlIGlzIG5vdGhpbmcgdG8gZGVhY3RpdmF0ZSBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZShudWxsLCB0ciwgYik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubmV4dFN0YXRlID09PSA2NCAvKiBuZXh0SXNFbXB0eSAqLykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHN3YXAoKSAtIHJ1bm5pbmcgZGVhY3RpdmF0ZSBvbiBjdXJyZW50IGluc3RlYWQsIGJlY2F1c2UgdGhlcmUgaXMgbm90aGluZyB0byBhY3RpdmF0ZSBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlKG51bGwsIHRyLCBiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbnN1cmVUcmFuc2l0aW9uSGFzTm90RXJyb3JlZCh0cik7XG4gICAgICAgIGVuc3VyZUd1YXJkc1Jlc3VsdElzVHJ1ZSh0aGlzLCB0cik7XG4gICAgICAgIGlmICghKHRoaXMuY3VyclN0YXRlID09PSAyNTYgLyogY3VyclVubG9hZERvbmUgKi8gJiZcbiAgICAgICAgICAgIHRoaXMubmV4dFN0YXRlID09PSAyIC8qIG5leHRMb2FkRG9uZSAqLykpIHtcbiAgICAgICAgICAgIHRoaXMudW5leHBlY3RlZFN0YXRlKCdzd2FwJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyU3RhdGUgPSAxMjggLyogY3VyckRlYWN0aXZhdGUgKi87XG4gICAgICAgIHRoaXMubmV4dFN0YXRlID0gMSAvKiBuZXh0QWN0aXZhdGUgKi87XG4gICAgICAgIHN3aXRjaCAodGhpcy4kcGxhbikge1xuICAgICAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgICAgICBjYXNlICdpbnZva2UtbGlmZWN5Y2xlcyc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgc3dhcCgpIC0gc2tpcHBpbmcgdGhpcyBsZXZlbCBhbmQgc3dhcHBpbmcgY2hpbGRyZW4gaW5zdGVhZCBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gbWVyZ2VEaXN0aW5jdCh0aGlzLm5leHROb2RlLmNoaWxkcmVuLCB0aGlzLmN1cnJOb2RlLmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5jb250ZXh0LnZwYS5zd2FwKHRyLCBiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncmVwbGFjZSc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgc3dhcCgpIC0gcnVubmluZyBub3JtYWxseSBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB0aGlzLmhvc3RDb250cm9sbGVyO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1ckNBID0gdGhpcy5jdXJDQTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q0EgPSB0aGlzLm5leHRDQTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWFjdGl2YXRlRmxhZ3MgPSB0aGlzLnZpZXdwb3J0LnN0YXRlZnVsID8gMCAvKiBub25lICovIDogMzIgLyogZGlzcG9zZSAqLztcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmF0ZUZsYWdzID0gMCAvKiBub25lICovO1xuICAgICAgICAgICAgICAgIGIucHVzaCgpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodHIub3B0aW9ucy5zd2FwU3RyYXRlZ3kpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2VxdWVudGlhbC1hZGQtZmlyc3QnOlxuICAgICAgICAgICAgICAgICAgICAgICAgQmF0Y2guc3RhcnQoYjEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIxLnB1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRDQS5hY3RpdmF0ZShudWxsLCBjb250cm9sbGVyLCBhY3RpdmF0ZUZsYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIxLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY29udGludWVXaXRoKGIxID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NEeW5hbWljQ2hpbGRyZW4odHIsIGIxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNvbnRpbnVlV2l0aCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHIucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1ckNBLmRlYWN0aXZhdGUobnVsbCwgY29udHJvbGxlciwgZGVhY3RpdmF0ZUZsYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdzZXF1ZW50aWFsLXJlbW92ZS1maXJzdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBCYXRjaC5zdGFydChiMSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHIucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYjEucHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyQ0EuZGVhY3RpdmF0ZShudWxsLCBjb250cm9sbGVyLCBkZWFjdGl2YXRlRmxhZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYjEucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5jb250aW51ZVdpdGgoYjEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIxLnB1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRDQS5hY3RpdmF0ZShudWxsLCBjb250cm9sbGVyLCBhY3RpdmF0ZUZsYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIxLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY29udGludWVXaXRoKGIxID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NEeW5hbWljQ2hpbGRyZW4odHIsIGIxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNvbnRpbnVlV2l0aCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BhcmFsbGVsLXJlbW92ZS1maXJzdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIucHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJDQS5kZWFjdGl2YXRlKG51bGwsIGNvbnRyb2xsZXIsIGRlYWN0aXZhdGVGbGFncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgQmF0Y2guc3RhcnQoYjEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIxLnB1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRDQS5hY3RpdmF0ZShudWxsLCBjb250cm9sbGVyLCBhY3RpdmF0ZUZsYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIxLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY29udGludWVXaXRoKGIxID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NEeW5hbWljQ2hpbGRyZW4odHIsIGIxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNvbnRpbnVlV2l0aCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NEeW5hbWljQ2hpbGRyZW4odHIsIGIpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHByb2Nlc3NEeW5hbWljQ2hpbGRyZW4oKSAtICVzYCwgdGhpcyk7XG4gICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLm5leHROb2RlO1xuICAgICAgICB0ci5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgYi5wdXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RHluYW1pY0NoaWxkcmVuKG5leHQpO1xuICAgICAgICB9LCBuZXdDaGlsZHJlbiA9PiB7XG4gICAgICAgICAgICBCYXRjaC5zdGFydChiMSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG5ld0NoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiMS5wdXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5jb250ZXh0LnZwYS5jYW5Mb2FkKHRyLCBiMSk7XG4gICAgICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIxLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jb250aW51ZVdpdGgoYjEgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBuZXdDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICB0ci5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYjEucHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuY29udGV4dC52cGEubG9hZCh0ciwgYjEpO1xuICAgICAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiMS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY29udGludWVXaXRoKGIxID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbmV3Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdHIucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIxLnB1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmNvbnRleHQudnBhLmFjdGl2YXRlKG51bGwsIHRyLCBiMSk7XG4gICAgICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIxLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jb250aW51ZVdpdGgoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGIucG9wKCk7XG4gICAgICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2NoZWR1bGVVcGRhdGUob3B0aW9ucywgbmV4dCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBzd2l0Y2ggKHRoaXMubmV4dFN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDY0IC8qIG5leHRJc0VtcHR5ICovOlxuICAgICAgICAgICAgICAgIHRoaXMubmV4dE5vZGUgPSBuZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dFN0YXRlID0gMzIgLyogbmV4dElzU2NoZWR1bGVkICovO1xuICAgICAgICAgICAgICAgIHRoaXMuJHJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb25Nb2RlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLnVuZXhwZWN0ZWRTdGF0ZSgnc2NoZWR1bGVVcGRhdGUgMScpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5jdXJyU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgODE5MiAvKiBjdXJySXNFbXB0eSAqLzpcbiAgICAgICAgICAgIGNhc2UgNDA5NiAvKiBjdXJySXNBY3RpdmUgKi86XG4gICAgICAgICAgICBjYXNlIDEwMjQgLyogY3VyckNhblVubG9hZERvbmUgKi86XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMudW5leHBlY3RlZFN0YXRlKCdzY2hlZHVsZVVwZGF0ZSAyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VyID0gKF9iID0gKF9hID0gdGhpcy5jdXJDQSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJvdXRlTm9kZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICAgICAgaWYgKGN1ciA9PT0gbnVsbCB8fCBjdXIuY29tcG9uZW50ICE9PSBuZXh0LmNvbXBvbmVudCkge1xuICAgICAgICAgICAgLy8gQ29tcG9uZW50IGNoYW5nZWQgKG9yIGlzIGNsZWFyZWQpLCBzbyBzZXQgdG8gJ3JlcGxhY2UnXG4gICAgICAgICAgICB0aGlzLiRwbGFuID0gJ3JlcGxhY2UnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQ29tcG9uZW50IGlzIHRoZSBzYW1lLCBzbyBkZXRlcm1pbmUgcGxhbiBiYXNlZCBvbiBjb25maWcgYW5kL29yIGNvbnZlbnRpb25cbiAgICAgICAgICAgIGNvbnN0IHBsYW4gPSBuZXh0LmNvbnRleHQuZGVmaW5pdGlvbi5jb25maWcudHJhbnNpdGlvblBsYW47XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBsYW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRwbGFuID0gcGxhbihjdXIsIG5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kcGxhbiA9IHBsYW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHNjaGVkdWxlVXBkYXRlKG5leHQ6JXMpIC0gcGxhbiBzZXQgdG8gJyVzJ2AsIG5leHQsIHRoaXMuJHBsYW4pO1xuICAgIH1cbiAgICBjYW5jZWxVcGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJOb2RlLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlLmNvbnRleHQudnBhLmNhbmNlbFVwZGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubmV4dE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dE5vZGUuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgIG5vZGUuY29udGV4dC52cGEuY2FuY2VsVXBkYXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgY2FuY2VsVXBkYXRlKG5leHROb2RlOiVzKWAsIHRoaXMubmV4dE5vZGUpO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY3VyclN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDgxOTIgLyogY3VycklzRW1wdHkgKi86XG4gICAgICAgICAgICBjYXNlIDQwOTYgLyogY3VycklzQWN0aXZlICovOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyMDQ4IC8qIGN1cnJDYW5VbmxvYWQgKi86XG4gICAgICAgICAgICBjYXNlIDEwMjQgLyogY3VyckNhblVubG9hZERvbmUgKi86XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyU3RhdGUgPSA0MDk2IC8qIGN1cnJJc0FjdGl2ZSAqLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTEyIC8qIGN1cnJVbmxvYWQgKi86XG4gICAgICAgICAgICBjYXNlIDEyOCAvKiBjdXJyRGVhY3RpdmF0ZSAqLzpcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgc2NoZWR1bGUgYW4gJ3VuZG8nIGFjdGlvblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5uZXh0U3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgNjQgLyogbmV4dElzRW1wdHkgKi86XG4gICAgICAgICAgICBjYXNlIDMyIC8qIG5leHRJc1NjaGVkdWxlZCAqLzpcbiAgICAgICAgICAgIGNhc2UgMTYgLyogbmV4dENhbkxvYWQgKi86XG4gICAgICAgICAgICBjYXNlIDggLyogbmV4dENhbkxvYWREb25lICovOlxuICAgICAgICAgICAgICAgIHRoaXMubmV4dE5vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dFN0YXRlID0gNjQgLyogbmV4dElzRW1wdHkgKi87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQgLyogbmV4dExvYWQgKi86XG4gICAgICAgICAgICBjYXNlIDEgLyogbmV4dEFjdGl2YXRlICovOlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IHNob3VsZCBzY2hlZHVsZSBhbiAndW5kbycgYWN0aW9uXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW5kVHJhbnNpdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3Vyck5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyck5vZGUuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgIG5vZGUuY29udGV4dC52cGEuZW5kVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubmV4dE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dE5vZGUuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgIG5vZGUuY29udGV4dC52cGEuZW5kVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY3VyclRyYW5zaXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGVuc3VyZVRyYW5zaXRpb25IYXNOb3RFcnJvcmVkKHRoaXMuY3VyclRyYW5zaXRpb24pO1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm5leHRTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgNjQgLyogbmV4dElzRW1wdHkgKi86XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5jdXJyU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI4IC8qIGN1cnJEZWFjdGl2YXRlICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBlbmRUcmFuc2l0aW9uKCkgLSBzZXR0aW5nIGN1cnJTdGF0ZSB0byBTdGF0ZS5uZXh0SXNFbXB0eSBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyclN0YXRlID0gODE5MiAvKiBjdXJySXNFbXB0eSAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ckNBID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmV4cGVjdGVkU3RhdGUoJ2VuZFRyYW5zaXRpb24gMScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBuZXh0QWN0aXZhdGUgKi86XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5jdXJyU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODE5MiAvKiBjdXJySXNFbXB0eSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI4IC8qIGN1cnJEZWFjdGl2YXRlICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy4kcGxhbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW52b2tlLWxpZmVjeWNsZXMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGVuZFRyYW5zaXRpb24oKSAtIHNldHRpbmcgY3VyclN0YXRlIHRvIFN0YXRlLmN1cnJJc0FjdGl2ZSBhdCAlc2AsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyU3RhdGUgPSA0MDk2IC8qIGN1cnJJc0FjdGl2ZSAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyZXBsYWNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBlbmRUcmFuc2l0aW9uKCkgLSBzZXR0aW5nIGN1cnJTdGF0ZSB0byBTdGF0ZS5jdXJySXNBY3RpdmUgYW5kIHJlYXNzaWduaW5nIGN1ckNBIGF0ICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJTdGF0ZSA9IDQwOTYgLyogY3VycklzQWN0aXZlICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJDQSA9IHRoaXMubmV4dENBO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3Vyck5vZGUgPSB0aGlzLm5leHROb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZXhwZWN0ZWRTdGF0ZSgnZW5kVHJhbnNpdGlvbiAyJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bmV4cGVjdGVkU3RhdGUoJ2VuZFRyYW5zaXRpb24gMycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4kcGxhbiA9ICdyZXBsYWNlJztcbiAgICAgICAgICAgIHRoaXMubmV4dFN0YXRlID0gNjQgLyogbmV4dElzRW1wdHkgKi87XG4gICAgICAgICAgICB0aGlzLm5leHROb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubmV4dENBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucHJldlRyYW5zaXRpb24gPSB0aGlzLmN1cnJUcmFuc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5jdXJyVHJhbnNpdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgVlBBKHN0YXRlOiR7dGhpcy4kc3RhdGV9LHBsYW46JyR7dGhpcy4kcGxhbn0nLHJlc29sdXRpb246JyR7dGhpcy4kcmVzb2x1dGlvbn0nLG46JHt0aGlzLm5leHROb2RlfSxjOiR7dGhpcy5jdXJyTm9kZX0sdmlld3BvcnQ6JHt0aGlzLnZpZXdwb3J0fSlgO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLnZpZXdwb3J0LnN0YXRlZnVsIC8qIFRPRE86IGluY29ycG9yYXRlIHN0YXRlZnVsSGlzdG9yeUxlbmd0aCAvIHJvdXRlciBvcHRzIGFzIHdlbGwgKi8pIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBkaXNwb3NlKCkgLSBub3QgZGlzcG9zaW5nIHN0YXRlZnVsIHZpZXdwb3J0IGF0ICVzYCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgZGlzcG9zZSgpIC0gZGlzcG9zaW5nICVzYCwgdGhpcyk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmN1ckNBKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuZXhwZWN0ZWRTdGF0ZShsYWJlbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgc3RhdGUgYXQgJHtsYWJlbH0gb2YgJHt0aGlzfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVuc3VyZUd1YXJkc1Jlc3VsdElzVHJ1ZSh2cGEsIHRyKSB7XG4gICAgaWYgKHRyLmd1YXJkc1Jlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZ3VhcmRzUmVzdWx0ICR7dHIuZ3VhcmRzUmVzdWx0fSBhdCAke3ZwYX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbnN1cmVUcmFuc2l0aW9uSGFzTm90RXJyb3JlZCh0cikge1xuICAgIGlmICh0ci5lcnJvciAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHRocm93IHRyLmVycm9yO1xuICAgIH1cbn1cbnZhciBTdGF0ZTtcbihmdW5jdGlvbiAoU3RhdGUpIHtcbiAgICBTdGF0ZVtTdGF0ZVtcImN1cnJcIl0gPSAxNjI1Nl0gPSBcImN1cnJcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcImN1cnJJc0VtcHR5XCJdID0gODE5Ml0gPSBcImN1cnJJc0VtcHR5XCI7XG4gICAgU3RhdGVbU3RhdGVbXCJjdXJySXNBY3RpdmVcIl0gPSA0MDk2XSA9IFwiY3VycklzQWN0aXZlXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJjdXJyQ2FuVW5sb2FkXCJdID0gMjA0OF0gPSBcImN1cnJDYW5VbmxvYWRcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcImN1cnJDYW5VbmxvYWREb25lXCJdID0gMTAyNF0gPSBcImN1cnJDYW5VbmxvYWREb25lXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJjdXJyVW5sb2FkXCJdID0gNTEyXSA9IFwiY3VyclVubG9hZFwiO1xuICAgIFN0YXRlW1N0YXRlW1wiY3VyclVubG9hZERvbmVcIl0gPSAyNTZdID0gXCJjdXJyVW5sb2FkRG9uZVwiO1xuICAgIFN0YXRlW1N0YXRlW1wiY3VyckRlYWN0aXZhdGVcIl0gPSAxMjhdID0gXCJjdXJyRGVhY3RpdmF0ZVwiO1xuICAgIFN0YXRlW1N0YXRlW1wibmV4dFwiXSA9IDEyN10gPSBcIm5leHRcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIm5leHRJc0VtcHR5XCJdID0gNjRdID0gXCJuZXh0SXNFbXB0eVwiO1xuICAgIFN0YXRlW1N0YXRlW1wibmV4dElzU2NoZWR1bGVkXCJdID0gMzJdID0gXCJuZXh0SXNTY2hlZHVsZWRcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIm5leHRDYW5Mb2FkXCJdID0gMTZdID0gXCJuZXh0Q2FuTG9hZFwiO1xuICAgIFN0YXRlW1N0YXRlW1wibmV4dENhbkxvYWREb25lXCJdID0gOF0gPSBcIm5leHRDYW5Mb2FkRG9uZVwiO1xuICAgIFN0YXRlW1N0YXRlW1wibmV4dExvYWRcIl0gPSA0XSA9IFwibmV4dExvYWRcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIm5leHRMb2FkRG9uZVwiXSA9IDJdID0gXCJuZXh0TG9hZERvbmVcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIm5leHRBY3RpdmF0ZVwiXSA9IDFdID0gXCJuZXh0QWN0aXZhdGVcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcImJvdGhBcmVFbXB0eVwiXSA9IDgyNTZdID0gXCJib3RoQXJlRW1wdHlcIjtcbn0pKFN0YXRlIHx8IChTdGF0ZSA9IHt9KSk7XG4vLyBTdHJpbmdpZnlpbmcgdXNlcyBhcnJheXMgYW5kIGRvZXMgbm90IGhhdmUgYSBuZWdsaWdpYmxlIGNvc3QsIHNvIGNhY2hlIHRoZSByZXN1bHRzIHRvIG5vdCBsZXQgdHJhY2UgbG9nZ2luZ1xuLy8gaW4gYW5kIG9mIGl0cyBvd24gc2xvdyB0aGluZ3MgZG93biB0b28gbXVjaC5cbmNvbnN0ICRzdGF0ZUNhY2hlID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gJHN0YXRlKHN0YXRlKSB7XG4gICAgbGV0IHN0ciA9ICRzdGF0ZUNhY2hlLmdldChzdGF0ZSk7XG4gICAgaWYgKHN0ciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICRzdGF0ZUNhY2hlLnNldChzdGF0ZSwgc3RyID0gc3RyaW5naWZ5U3RhdGUoc3RhdGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVN0YXRlKHN0YXRlKSB7XG4gICAgY29uc3QgZmxhZ3MgPSBbXTtcbiAgICBpZiAoKHN0YXRlICYgODE5MiAvKiBjdXJySXNFbXB0eSAqLykgPT09IDgxOTIgLyogY3VycklzRW1wdHkgKi8pIHtcbiAgICAgICAgZmxhZ3MucHVzaCgnY3VycklzRW1wdHknKTtcbiAgICB9XG4gICAgaWYgKChzdGF0ZSAmIDQwOTYgLyogY3VycklzQWN0aXZlICovKSA9PT0gNDA5NiAvKiBjdXJySXNBY3RpdmUgKi8pIHtcbiAgICAgICAgZmxhZ3MucHVzaCgnY3VycklzQWN0aXZlJyk7XG4gICAgfVxuICAgIGlmICgoc3RhdGUgJiAyMDQ4IC8qIGN1cnJDYW5VbmxvYWQgKi8pID09PSAyMDQ4IC8qIGN1cnJDYW5VbmxvYWQgKi8pIHtcbiAgICAgICAgZmxhZ3MucHVzaCgnY3VyckNhblVubG9hZCcpO1xuICAgIH1cbiAgICBpZiAoKHN0YXRlICYgMTAyNCAvKiBjdXJyQ2FuVW5sb2FkRG9uZSAqLykgPT09IDEwMjQgLyogY3VyckNhblVubG9hZERvbmUgKi8pIHtcbiAgICAgICAgZmxhZ3MucHVzaCgnY3VyckNhblVubG9hZERvbmUnKTtcbiAgICB9XG4gICAgaWYgKChzdGF0ZSAmIDUxMiAvKiBjdXJyVW5sb2FkICovKSA9PT0gNTEyIC8qIGN1cnJVbmxvYWQgKi8pIHtcbiAgICAgICAgZmxhZ3MucHVzaCgnY3VyclVubG9hZCcpO1xuICAgIH1cbiAgICBpZiAoKHN0YXRlICYgMjU2IC8qIGN1cnJVbmxvYWREb25lICovKSA9PT0gMjU2IC8qIGN1cnJVbmxvYWREb25lICovKSB7XG4gICAgICAgIGZsYWdzLnB1c2goJ2N1cnJVbmxvYWREb25lJyk7XG4gICAgfVxuICAgIGlmICgoc3RhdGUgJiAxMjggLyogY3VyckRlYWN0aXZhdGUgKi8pID09PSAxMjggLyogY3VyckRlYWN0aXZhdGUgKi8pIHtcbiAgICAgICAgZmxhZ3MucHVzaCgnY3VyckRlYWN0aXZhdGUnKTtcbiAgICB9XG4gICAgaWYgKChzdGF0ZSAmIDY0IC8qIG5leHRJc0VtcHR5ICovKSA9PT0gNjQgLyogbmV4dElzRW1wdHkgKi8pIHtcbiAgICAgICAgZmxhZ3MucHVzaCgnbmV4dElzRW1wdHknKTtcbiAgICB9XG4gICAgaWYgKChzdGF0ZSAmIDMyIC8qIG5leHRJc1NjaGVkdWxlZCAqLykgPT09IDMyIC8qIG5leHRJc1NjaGVkdWxlZCAqLykge1xuICAgICAgICBmbGFncy5wdXNoKCduZXh0SXNTY2hlZHVsZWQnKTtcbiAgICB9XG4gICAgaWYgKChzdGF0ZSAmIDE2IC8qIG5leHRDYW5Mb2FkICovKSA9PT0gMTYgLyogbmV4dENhbkxvYWQgKi8pIHtcbiAgICAgICAgZmxhZ3MucHVzaCgnbmV4dENhbkxvYWQnKTtcbiAgICB9XG4gICAgaWYgKChzdGF0ZSAmIDggLyogbmV4dENhbkxvYWREb25lICovKSA9PT0gOCAvKiBuZXh0Q2FuTG9hZERvbmUgKi8pIHtcbiAgICAgICAgZmxhZ3MucHVzaCgnbmV4dENhbkxvYWREb25lJyk7XG4gICAgfVxuICAgIGlmICgoc3RhdGUgJiA0IC8qIG5leHRMb2FkICovKSA9PT0gNCAvKiBuZXh0TG9hZCAqLykge1xuICAgICAgICBmbGFncy5wdXNoKCduZXh0TG9hZCcpO1xuICAgIH1cbiAgICBpZiAoKHN0YXRlICYgMiAvKiBuZXh0TG9hZERvbmUgKi8pID09PSAyIC8qIG5leHRMb2FkRG9uZSAqLykge1xuICAgICAgICBmbGFncy5wdXNoKCduZXh0TG9hZERvbmUnKTtcbiAgICB9XG4gICAgaWYgKChzdGF0ZSAmIDEgLyogbmV4dEFjdGl2YXRlICovKSA9PT0gMSAvKiBuZXh0QWN0aXZhdGUgKi8pIHtcbiAgICAgICAgZmxhZ3MucHVzaCgnbmV4dEFjdGl2YXRlJyk7XG4gICAgfVxuICAgIHJldHVybiBmbGFncy5qb2luKCd8Jyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3cG9ydC1hZ2VudC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/router/dist/esm/viewport-agent.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/app-root.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/app-root.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IAppRoot\": () => (/* binding */ IAppRoot),\n/* harmony export */   \"IWorkTracker\": () => (/* binding */ IWorkTracker),\n/* harmony export */   \"WorkTracker\": () => (/* binding */ WorkTracker),\n/* harmony export */   \"AppRoot\": () => (/* binding */ AppRoot)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _app_task_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app-task.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/app-task.js\");\n/* harmony import */ var _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resources/custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\n/* harmony import */ var _templating_controller_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./templating/controller.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/controller.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\nconst IAppRoot = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IAppRoot');\nconst IWorkTracker = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IWorkTracker', x => x.singleton(WorkTracker));\nlet WorkTracker = class WorkTracker {\n    constructor(logger) {\n        this.logger = logger;\n        this.stack = 0;\n        this.promise = null;\n        this.resolve = null;\n        this.logger = logger.scopeTo('WorkTracker');\n    }\n    start() {\n        this.logger.trace(`start(stack:${this.stack})`);\n        ++this.stack;\n    }\n    finish() {\n        this.logger.trace(`finish(stack:${this.stack})`);\n        if (--this.stack === 0) {\n            const resolve = this.resolve;\n            if (resolve !== null) {\n                this.resolve = this.promise = null;\n                resolve();\n            }\n        }\n    }\n    wait() {\n        this.logger.trace(`wait(stack:${this.stack})`);\n        if (this.promise === null) {\n            if (this.stack === 0) {\n                return Promise.resolve();\n            }\n            this.promise = new Promise(resolve => {\n                this.resolve = resolve;\n            });\n        }\n        return this.promise;\n    }\n};\nWorkTracker = __decorate([\n    __param(0, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger)\n], WorkTracker);\n\nclass AppRoot {\n    constructor(config, platform, container, rootProvider, enhance = false) {\n        this.config = config;\n        this.platform = platform;\n        this.container = container;\n        this.controller = (void 0);\n        this.hydratePromise = void 0;\n        this.host = config.host;\n        this.work = container.get(IWorkTracker);\n        rootProvider.prepare(this);\n        if (container.has(_dom_js__WEBPACK_IMPORTED_MODULE_1__.INode, false) && container.get(_dom_js__WEBPACK_IMPORTED_MODULE_1__.INode) !== config.host) {\n            this.container = container.createChild();\n        }\n        this.container.register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.instance(_dom_js__WEBPACK_IMPORTED_MODULE_1__.INode, config.host));\n        if (enhance) {\n            const component = config.component;\n            this.enhanceDefinition = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_3__.CustomElement.getDefinition(_resources_custom_element_js__WEBPACK_IMPORTED_MODULE_3__.CustomElement.isType(component)\n                ? _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_3__.CustomElement.define({ ..._resources_custom_element_js__WEBPACK_IMPORTED_MODULE_3__.CustomElement.getDefinition(component), template: this.host, enhance: true }, component)\n                : _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_3__.CustomElement.define({ name: (void 0), template: this.host, enhance: true }));\n        }\n        this.hydratePromise = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.runAppTasks('beforeCreate'), () => {\n            const instance = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_3__.CustomElement.isType(config.component)\n                ? this.container.get(config.component)\n                : config.component;\n            const controller = (this.controller = _templating_controller_js__WEBPACK_IMPORTED_MODULE_4__.Controller.forCustomElement(this, container, instance, this.host, null, 0 /* none */, false, this.enhanceDefinition));\n            controller.hydrateCustomElement(container, null);\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.runAppTasks('hydrating'), () => {\n                controller.hydrate(null);\n                return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.runAppTasks('hydrated'), () => {\n                    controller.hydrateChildren();\n                    this.hydratePromise = void 0;\n                });\n            });\n        });\n    }\n    activate() {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.hydratePromise, () => {\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.runAppTasks('beforeActivate'), () => {\n                return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.controller.activate(this.controller, null, 2 /* fromBind */, void 0), () => {\n                    return this.runAppTasks('afterActivate');\n                });\n            });\n        });\n    }\n    deactivate() {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.runAppTasks('beforeDeactivate'), () => {\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.controller.deactivate(this.controller, null, 0 /* none */), () => {\n                return this.runAppTasks('afterDeactivate');\n            });\n        });\n    }\n    /** @internal */\n    runAppTasks(slot) {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolveAll)(...this.container.getAll(_app_task_js__WEBPACK_IMPORTED_MODULE_2__.IAppTask).reduce((results, task) => {\n            if (task.slot === slot) {\n                results.push(task.run());\n            }\n            return results;\n        }, []));\n    }\n    dispose() {\n        var _a;\n        (_a = this.controller) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n}\n//# sourceMappingURL=app-root.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2FwcC1yb290LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9hcHAtcm9vdC5qcz84MzBhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xuaW1wb3J0IHsgREksIFJlZ2lzdHJhdGlvbiwgb25SZXNvbHZlLCByZXNvbHZlQWxsLCBJTG9nZ2VyIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IElOb2RlIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgSUFwcFRhc2sgfSBmcm9tICcuL2FwcC10YXNrLmpzJztcbmltcG9ydCB7IEN1c3RvbUVsZW1lbnQgfSBmcm9tICcuL3Jlc291cmNlcy9jdXN0b20tZWxlbWVudC5qcyc7XG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSAnLi90ZW1wbGF0aW5nL2NvbnRyb2xsZXIuanMnO1xuZXhwb3J0IGNvbnN0IElBcHBSb290ID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJQXBwUm9vdCcpO1xuZXhwb3J0IGNvbnN0IElXb3JrVHJhY2tlciA9IERJLmNyZWF0ZUludGVyZmFjZSgnSVdvcmtUcmFja2VyJywgeCA9PiB4LnNpbmdsZXRvbihXb3JrVHJhY2tlcikpO1xubGV0IFdvcmtUcmFja2VyID0gY2xhc3MgV29ya1RyYWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKGxvZ2dlcikge1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgdGhpcy5zdGFjayA9IDA7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyLnNjb3BlVG8oJ1dvcmtUcmFja2VyJyk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgc3RhcnQoc3RhY2s6JHt0aGlzLnN0YWNrfSlgKTtcbiAgICAgICAgKyt0aGlzLnN0YWNrO1xuICAgIH1cbiAgICBmaW5pc2goKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBmaW5pc2goc3RhY2s6JHt0aGlzLnN0YWNrfSlgKTtcbiAgICAgICAgaWYgKC0tdGhpcy5zdGFjayA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZSA9IHRoaXMucmVzb2x2ZTtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gdGhpcy5wcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2FpdCgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHdhaXQoc3RhY2s6JHt0aGlzLnN0YWNrfSlgKTtcbiAgICAgICAgaWYgKHRoaXMucHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhY2sgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbiAgICB9XG59O1xuV29ya1RyYWNrZXIgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDAsIElMb2dnZXIpXG5dLCBXb3JrVHJhY2tlcik7XG5leHBvcnQgeyBXb3JrVHJhY2tlciB9O1xuZXhwb3J0IGNsYXNzIEFwcFJvb3Qge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgcGxhdGZvcm0sIGNvbnRhaW5lciwgcm9vdFByb3ZpZGVyLCBlbmhhbmNlID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9ICh2b2lkIDApO1xuICAgICAgICB0aGlzLmh5ZHJhdGVQcm9taXNlID0gdm9pZCAwO1xuICAgICAgICB0aGlzLmhvc3QgPSBjb25maWcuaG9zdDtcbiAgICAgICAgdGhpcy53b3JrID0gY29udGFpbmVyLmdldChJV29ya1RyYWNrZXIpO1xuICAgICAgICByb290UHJvdmlkZXIucHJlcGFyZSh0aGlzKTtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5oYXMoSU5vZGUsIGZhbHNlKSAmJiBjb250YWluZXIuZ2V0KElOb2RlKSAhPT0gY29uZmlnLmhvc3QpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZUNoaWxkKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250YWluZXIucmVnaXN0ZXIoUmVnaXN0cmF0aW9uLmluc3RhbmNlKElOb2RlLCBjb25maWcuaG9zdCkpO1xuICAgICAgICBpZiAoZW5oYW5jZSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gY29uZmlnLmNvbXBvbmVudDtcbiAgICAgICAgICAgIHRoaXMuZW5oYW5jZURlZmluaXRpb24gPSBDdXN0b21FbGVtZW50LmdldERlZmluaXRpb24oQ3VzdG9tRWxlbWVudC5pc1R5cGUoY29tcG9uZW50KVxuICAgICAgICAgICAgICAgID8gQ3VzdG9tRWxlbWVudC5kZWZpbmUoeyAuLi5DdXN0b21FbGVtZW50LmdldERlZmluaXRpb24oY29tcG9uZW50KSwgdGVtcGxhdGU6IHRoaXMuaG9zdCwgZW5oYW5jZTogdHJ1ZSB9LCBjb21wb25lbnQpXG4gICAgICAgICAgICAgICAgOiBDdXN0b21FbGVtZW50LmRlZmluZSh7IG5hbWU6ICh2b2lkIDApLCB0ZW1wbGF0ZTogdGhpcy5ob3N0LCBlbmhhbmNlOiB0cnVlIH0pKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmh5ZHJhdGVQcm9taXNlID0gb25SZXNvbHZlKHRoaXMucnVuQXBwVGFza3MoJ2JlZm9yZUNyZWF0ZScpLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IEN1c3RvbUVsZW1lbnQuaXNUeXBlKGNvbmZpZy5jb21wb25lbnQpXG4gICAgICAgICAgICAgICAgPyB0aGlzLmNvbnRhaW5lci5nZXQoY29uZmlnLmNvbXBvbmVudClcbiAgICAgICAgICAgICAgICA6IGNvbmZpZy5jb21wb25lbnQ7XG4gICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gKHRoaXMuY29udHJvbGxlciA9IENvbnRyb2xsZXIuZm9yQ3VzdG9tRWxlbWVudCh0aGlzLCBjb250YWluZXIsIGluc3RhbmNlLCB0aGlzLmhvc3QsIG51bGwsIDAgLyogbm9uZSAqLywgZmFsc2UsIHRoaXMuZW5oYW5jZURlZmluaXRpb24pKTtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuaHlkcmF0ZUN1c3RvbUVsZW1lbnQoY29udGFpbmVyLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybiBvblJlc29sdmUodGhpcy5ydW5BcHBUYXNrcygnaHlkcmF0aW5nJyksICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmh5ZHJhdGUobnVsbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZSh0aGlzLnJ1bkFwcFRhc2tzKCdoeWRyYXRlZCcpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuaHlkcmF0ZUNoaWxkcmVuKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaHlkcmF0ZVByb21pc2UgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFjdGl2YXRlKCkge1xuICAgICAgICByZXR1cm4gb25SZXNvbHZlKHRoaXMuaHlkcmF0ZVByb21pc2UsICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBvblJlc29sdmUodGhpcy5ydW5BcHBUYXNrcygnYmVmb3JlQWN0aXZhdGUnKSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBvblJlc29sdmUodGhpcy5jb250cm9sbGVyLmFjdGl2YXRlKHRoaXMuY29udHJvbGxlciwgbnVsbCwgMiAvKiBmcm9tQmluZCAqLywgdm9pZCAwKSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ydW5BcHBUYXNrcygnYWZ0ZXJBY3RpdmF0ZScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWFjdGl2YXRlKCkge1xuICAgICAgICByZXR1cm4gb25SZXNvbHZlKHRoaXMucnVuQXBwVGFza3MoJ2JlZm9yZURlYWN0aXZhdGUnKSwgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZSh0aGlzLmNvbnRyb2xsZXIuZGVhY3RpdmF0ZSh0aGlzLmNvbnRyb2xsZXIsIG51bGwsIDAgLyogbm9uZSAqLyksICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ydW5BcHBUYXNrcygnYWZ0ZXJEZWFjdGl2YXRlJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBydW5BcHBUYXNrcyhzbG90KSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlQWxsKC4uLnRoaXMuY29udGFpbmVyLmdldEFsbChJQXBwVGFzaykucmVkdWNlKChyZXN1bHRzLCB0YXNrKSA9PiB7XG4gICAgICAgICAgICBpZiAodGFzay5zbG90ID09PSBzbG90KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHRhc2sucnVuKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgIH0sIFtdKSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzcG9zZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb290LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/app-root.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/app-task.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/app-task.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IAppTask\": () => (/* binding */ IAppTask),\n/* harmony export */   \"AppTask\": () => (/* binding */ AppTask)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n\nconst IAppTask = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IAppTask');\nclass $AppTask {\n    constructor(key) {\n        this.key = key;\n        this.slot = (void 0);\n        this.callback = (void 0);\n        this.container = (void 0);\n    }\n    static with(key) {\n        return new $AppTask(key);\n    }\n    beforeCreate() {\n        return this.at('beforeCreate');\n    }\n    hydrating() {\n        return this.at('hydrating');\n    }\n    hydrated() {\n        return this.at('hydrated');\n    }\n    beforeActivate() {\n        return this.at('beforeActivate');\n    }\n    afterActivate() {\n        return this.at('afterActivate');\n    }\n    beforeDeactivate() {\n        return this.at('beforeDeactivate');\n    }\n    afterDeactivate() {\n        return this.at('afterDeactivate');\n    }\n    at(slot) {\n        this.slot = slot;\n        return this;\n    }\n    call(fn) {\n        this.callback = fn;\n        return this;\n    }\n    register(container) {\n        return this.container = container.register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.instance(IAppTask, this));\n    }\n    run() {\n        const callback = this.callback;\n        const instance = this.container.get(this.key);\n        return callback(instance);\n    }\n}\nconst AppTask = $AppTask;\n//# sourceMappingURL=app-task.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2FwcC10YXNrLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9hcHAtdGFzay5qcz8wNDU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERJLCBSZWdpc3RyYXRpb24sIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmV4cG9ydCBjb25zdCBJQXBwVGFzayA9IERJLmNyZWF0ZUludGVyZmFjZSgnSUFwcFRhc2snKTtcbmNsYXNzICRBcHBUYXNrIHtcbiAgICBjb25zdHJ1Y3RvcihrZXkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuc2xvdCA9ICh2b2lkIDApO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gKHZvaWQgMCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gKHZvaWQgMCk7XG4gICAgfVxuICAgIHN0YXRpYyB3aXRoKGtleSkge1xuICAgICAgICByZXR1cm4gbmV3ICRBcHBUYXNrKGtleSk7XG4gICAgfVxuICAgIGJlZm9yZUNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXQoJ2JlZm9yZUNyZWF0ZScpO1xuICAgIH1cbiAgICBoeWRyYXRpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0KCdoeWRyYXRpbmcnKTtcbiAgICB9XG4gICAgaHlkcmF0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0KCdoeWRyYXRlZCcpO1xuICAgIH1cbiAgICBiZWZvcmVBY3RpdmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXQoJ2JlZm9yZUFjdGl2YXRlJyk7XG4gICAgfVxuICAgIGFmdGVyQWN0aXZhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0KCdhZnRlckFjdGl2YXRlJyk7XG4gICAgfVxuICAgIGJlZm9yZURlYWN0aXZhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0KCdiZWZvcmVEZWFjdGl2YXRlJyk7XG4gICAgfVxuICAgIGFmdGVyRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXQoJ2FmdGVyRGVhY3RpdmF0ZScpO1xuICAgIH1cbiAgICBhdChzbG90KSB7XG4gICAgICAgIHRoaXMuc2xvdCA9IHNsb3Q7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjYWxsKGZuKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlZ2lzdGVyKGNvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIgPSBjb250YWluZXIucmVnaXN0ZXIoUmVnaXN0cmF0aW9uLmluc3RhbmNlKElBcHBUYXNrLCB0aGlzKSk7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLmNhbGxiYWNrO1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuY29udGFpbmVyLmdldCh0aGlzLmtleSk7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhpbnN0YW5jZSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEFwcFRhc2sgPSAkQXBwVGFzaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC10YXNrLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/app-task.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/attribute-syntax-transformer.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/attribute-syntax-transformer.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IAttrSyntaxTransformer\": () => (/* binding */ IAttrSyntaxTransformer),\n/* harmony export */   \"AttrSyntaxTransformer\": () => (/* binding */ AttrSyntaxTransformer)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _utilities_html_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities-html.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/utilities-html.js\");\n/* harmony import */ var _observation_svg_analyzer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./observation/svg-analyzer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/svg-analyzer.js\");\n\n\n\nconst IAttrSyntaxTransformer = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IAttrSyntaxTransformer', x => x.singleton(AttrSyntaxTransformer));\nclass AttrSyntaxTransformer {\n    constructor(svg) {\n        this.svg = svg;\n        /**\n         * @internal\n         */\n        this.fns = [];\n        /**\n         * @internal\n         */\n        this.tagAttrMap = (0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n        /**\n         * @internal\n         */\n        this.globalAttrMap = (0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_1__.createLookup)();\n        this.useMapping({\n            LABEL: { for: 'htmlFor' },\n            IMG: { usemap: 'useMap' },\n            INPUT: {\n                maxlength: 'maxLength',\n                minlength: 'minLength',\n                formaction: 'formAction',\n                formenctype: 'formEncType',\n                formmethod: 'formMethod',\n                formnovalidate: 'formNoValidate',\n                formtarget: 'formTarget',\n                inputmode: 'inputMode',\n            },\n            TEXTAREA: { maxlength: 'maxLength' },\n            TD: { rowspan: 'rowSpan', colspan: 'colSpan' },\n            TH: { rowspan: 'rowSpan', colspan: 'colSpan' },\n        });\n        this.useGlobalMapping({\n            accesskey: 'accessKey',\n            contenteditable: 'contentEditable',\n            tabindex: 'tabIndex',\n            textcontent: 'textContent',\n            innerhtml: 'innerHTML',\n            scrolltop: 'scrollTop',\n            scrollleft: 'scrollLeft',\n            readonly: 'readOnly',\n        });\n    }\n    static get inject() { return [_observation_svg_analyzer_js__WEBPACK_IMPORTED_MODULE_2__.ISVGAnalyzer]; }\n    /**\n     * Allow application to teach Aurelia how to define how to map attributes to properties\n     * based on element tagName\n     */\n    useMapping(config) {\n        var _a;\n        var _b;\n        let newAttrMapping;\n        let targetAttrMapping;\n        let tagName;\n        let attr;\n        for (tagName in config) {\n            newAttrMapping = config[tagName];\n            targetAttrMapping = (_a = (_b = this.tagAttrMap)[tagName]) !== null && _a !== void 0 ? _a : (_b[tagName] = (0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_1__.createLookup)());\n            for (attr in newAttrMapping) {\n                if (targetAttrMapping[attr] !== void 0) {\n                    throw createMappedError(attr, tagName);\n                }\n                targetAttrMapping[attr] = newAttrMapping[attr];\n            }\n        }\n    }\n    /**\n     * Allow applications to teach Aurelia how to define how to map attributes to properties\n     * for all elements\n     */\n    useGlobalMapping(config) {\n        const mapper = this.globalAttrMap;\n        for (const attr in config) {\n            if (mapper[attr] !== void 0) {\n                throw createMappedError(attr, '*');\n            }\n            mapper[attr] = config[attr];\n        }\n    }\n    /**\n     * Add a given function to a list of fns that will be used\n     * to check if `'bind'` command can be transformed to `'two-way'` command.\n     *\n     * If one of those functions in this lists returns true, the `'bind'` command\n     * will be transformed into `'two-way'` command.\n     *\n     * The function will be called with 2 parameters:\n     * - element: the element that the template compiler is currently working with\n     * - property: the target property name\n     */\n    useTwoWay(fn) {\n        this.fns.push(fn);\n    }\n    /**\n     * @internal\n     */\n    transform(node, attrSyntax) {\n        var _a, _b, _c;\n        if (attrSyntax.command === 'bind' &&\n            (\n            // note: even though target could possibly be mapped to a different name\n            // the final property name shouldn't affect the two way transformation\n            // as they both should work with original source attribute name\n            shouldDefaultToTwoWay(node, attrSyntax.target) ||\n                this.fns.length > 0 && this.fns.some(fn => fn(node, attrSyntax.target)))) {\n            attrSyntax.command = 'two-way';\n        }\n        const attr = attrSyntax.target;\n        attrSyntax.target = (_c = (_b = (_a = this.tagAttrMap[node.tagName]) === null || _a === void 0 ? void 0 : _a[attr]) !== null && _b !== void 0 ? _b : this.globalAttrMap[attr]) !== null && _c !== void 0 ? _c : ((0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_1__.isDataAttribute)(node, attr, this.svg)\n            ? attr\n            : (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(attr));\n        // attrSyntax.target = this.map(node.tagName, attrSyntax.target);\n    }\n}\nfunction shouldDefaultToTwoWay(element, attr) {\n    switch (element.tagName) {\n        case 'INPUT':\n            switch (element.type) {\n                case 'checkbox':\n                case 'radio':\n                    return attr === 'checked';\n                // note:\n                // ideally, it should check for corresponding input type first\n                // as 'files' shouldn't be two way on a number input, for example\n                // but doing it this way is acceptable-ish, as the common user expectations,\n                // and the behavior of the control for these properties are the same,\n                // regardless the type of the <input>\n                default:\n                    return attr === 'value' || attr === 'files' || attr === 'value-as-number' || attr === 'value-as-date';\n            }\n        case 'TEXTAREA':\n        case 'SELECT':\n            return attr === 'value';\n        default:\n            switch (attr) {\n                case 'textcontent':\n                case 'innerhtml':\n                    return element.hasAttribute('contenteditable');\n                case 'scrolltop':\n                case 'scrollleft':\n                    return true;\n                default:\n                    return false;\n            }\n    }\n}\nfunction createMappedError(attr, tagName) {\n    return new Error(`Attribute ${attr} has been already registered for ${tagName === '*' ? 'all elements' : `<${tagName}/>`}`);\n}\n//# sourceMappingURL=attribute-syntax-transformer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2F0dHJpYnV0ZS1zeW50YXgtdHJhbnNmb3JtZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2F0dHJpYnV0ZS1zeW50YXgtdHJhbnNmb3JtZXIuanM/ODE2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYW1lbENhc2UsIERJIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IGNyZWF0ZUxvb2t1cCwgaXNEYXRhQXR0cmlidXRlIH0gZnJvbSAnLi91dGlsaXRpZXMtaHRtbC5qcyc7XG5pbXBvcnQgeyBJU1ZHQW5hbHl6ZXIgfSBmcm9tICcuL29ic2VydmF0aW9uL3N2Zy1hbmFseXplci5qcyc7XG5leHBvcnQgY29uc3QgSUF0dHJTeW50YXhUcmFuc2Zvcm1lciA9IERJXG4gICAgLmNyZWF0ZUludGVyZmFjZSgnSUF0dHJTeW50YXhUcmFuc2Zvcm1lcicsIHggPT4geC5zaW5nbGV0b24oQXR0clN5bnRheFRyYW5zZm9ybWVyKSk7XG5leHBvcnQgY2xhc3MgQXR0clN5bnRheFRyYW5zZm9ybWVyIHtcbiAgICBjb25zdHJ1Y3RvcihzdmcpIHtcbiAgICAgICAgdGhpcy5zdmcgPSBzdmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm5zID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFnQXR0ck1hcCA9IGNyZWF0ZUxvb2t1cCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsb2JhbEF0dHJNYXAgPSBjcmVhdGVMb29rdXAoKTtcbiAgICAgICAgdGhpcy51c2VNYXBwaW5nKHtcbiAgICAgICAgICAgIExBQkVMOiB7IGZvcjogJ2h0bWxGb3InIH0sXG4gICAgICAgICAgICBJTUc6IHsgdXNlbWFwOiAndXNlTWFwJyB9LFxuICAgICAgICAgICAgSU5QVVQ6IHtcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6ICdtYXhMZW5ndGgnLFxuICAgICAgICAgICAgICAgIG1pbmxlbmd0aDogJ21pbkxlbmd0aCcsXG4gICAgICAgICAgICAgICAgZm9ybWFjdGlvbjogJ2Zvcm1BY3Rpb24nLFxuICAgICAgICAgICAgICAgIGZvcm1lbmN0eXBlOiAnZm9ybUVuY1R5cGUnLFxuICAgICAgICAgICAgICAgIGZvcm1tZXRob2Q6ICdmb3JtTWV0aG9kJyxcbiAgICAgICAgICAgICAgICBmb3Jtbm92YWxpZGF0ZTogJ2Zvcm1Ob1ZhbGlkYXRlJyxcbiAgICAgICAgICAgICAgICBmb3JtdGFyZ2V0OiAnZm9ybVRhcmdldCcsXG4gICAgICAgICAgICAgICAgaW5wdXRtb2RlOiAnaW5wdXRNb2RlJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBURVhUQVJFQTogeyBtYXhsZW5ndGg6ICdtYXhMZW5ndGgnIH0sXG4gICAgICAgICAgICBURDogeyByb3dzcGFuOiAncm93U3BhbicsIGNvbHNwYW46ICdjb2xTcGFuJyB9LFxuICAgICAgICAgICAgVEg6IHsgcm93c3BhbjogJ3Jvd1NwYW4nLCBjb2xzcGFuOiAnY29sU3BhbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXNlR2xvYmFsTWFwcGluZyh7XG4gICAgICAgICAgICBhY2Nlc3NrZXk6ICdhY2Nlc3NLZXknLFxuICAgICAgICAgICAgY29udGVudGVkaXRhYmxlOiAnY29udGVudEVkaXRhYmxlJyxcbiAgICAgICAgICAgIHRhYmluZGV4OiAndGFiSW5kZXgnLFxuICAgICAgICAgICAgdGV4dGNvbnRlbnQ6ICd0ZXh0Q29udGVudCcsXG4gICAgICAgICAgICBpbm5lcmh0bWw6ICdpbm5lckhUTUwnLFxuICAgICAgICAgICAgc2Nyb2xsdG9wOiAnc2Nyb2xsVG9wJyxcbiAgICAgICAgICAgIHNjcm9sbGxlZnQ6ICdzY3JvbGxMZWZ0JyxcbiAgICAgICAgICAgIHJlYWRvbmx5OiAncmVhZE9ubHknLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBpbmplY3QoKSB7IHJldHVybiBbSVNWR0FuYWx5emVyXTsgfVxuICAgIC8qKlxuICAgICAqIEFsbG93IGFwcGxpY2F0aW9uIHRvIHRlYWNoIEF1cmVsaWEgaG93IHRvIGRlZmluZSBob3cgdG8gbWFwIGF0dHJpYnV0ZXMgdG8gcHJvcGVydGllc1xuICAgICAqIGJhc2VkIG9uIGVsZW1lbnQgdGFnTmFtZVxuICAgICAqL1xuICAgIHVzZU1hcHBpbmcoY29uZmlnKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIF9iO1xuICAgICAgICBsZXQgbmV3QXR0ck1hcHBpbmc7XG4gICAgICAgIGxldCB0YXJnZXRBdHRyTWFwcGluZztcbiAgICAgICAgbGV0IHRhZ05hbWU7XG4gICAgICAgIGxldCBhdHRyO1xuICAgICAgICBmb3IgKHRhZ05hbWUgaW4gY29uZmlnKSB7XG4gICAgICAgICAgICBuZXdBdHRyTWFwcGluZyA9IGNvbmZpZ1t0YWdOYW1lXTtcbiAgICAgICAgICAgIHRhcmdldEF0dHJNYXBwaW5nID0gKF9hID0gKF9iID0gdGhpcy50YWdBdHRyTWFwKVt0YWdOYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKF9iW3RhZ05hbWVdID0gY3JlYXRlTG9va3VwKCkpO1xuICAgICAgICAgICAgZm9yIChhdHRyIGluIG5ld0F0dHJNYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEF0dHJNYXBwaW5nW2F0dHJdICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlTWFwcGVkRXJyb3IoYXR0ciwgdGFnTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhcmdldEF0dHJNYXBwaW5nW2F0dHJdID0gbmV3QXR0ck1hcHBpbmdbYXR0cl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3cgYXBwbGljYXRpb25zIHRvIHRlYWNoIEF1cmVsaWEgaG93IHRvIGRlZmluZSBob3cgdG8gbWFwIGF0dHJpYnV0ZXMgdG8gcHJvcGVydGllc1xuICAgICAqIGZvciBhbGwgZWxlbWVudHNcbiAgICAgKi9cbiAgICB1c2VHbG9iYWxNYXBwaW5nKGNvbmZpZykge1xuICAgICAgICBjb25zdCBtYXBwZXIgPSB0aGlzLmdsb2JhbEF0dHJNYXA7XG4gICAgICAgIGZvciAoY29uc3QgYXR0ciBpbiBjb25maWcpIHtcbiAgICAgICAgICAgIGlmIChtYXBwZXJbYXR0cl0gIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZU1hcHBlZEVycm9yKGF0dHIsICcqJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXBwZXJbYXR0cl0gPSBjb25maWdbYXR0cl07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgZ2l2ZW4gZnVuY3Rpb24gdG8gYSBsaXN0IG9mIGZucyB0aGF0IHdpbGwgYmUgdXNlZFxuICAgICAqIHRvIGNoZWNrIGlmIGAnYmluZCdgIGNvbW1hbmQgY2FuIGJlIHRyYW5zZm9ybWVkIHRvIGAndHdvLXdheSdgIGNvbW1hbmQuXG4gICAgICpcbiAgICAgKiBJZiBvbmUgb2YgdGhvc2UgZnVuY3Rpb25zIGluIHRoaXMgbGlzdHMgcmV0dXJucyB0cnVlLCB0aGUgYCdiaW5kJ2AgY29tbWFuZFxuICAgICAqIHdpbGwgYmUgdHJhbnNmb3JtZWQgaW50byBgJ3R3by13YXknYCBjb21tYW5kLlxuICAgICAqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggMiBwYXJhbWV0ZXJzOlxuICAgICAqIC0gZWxlbWVudDogdGhlIGVsZW1lbnQgdGhhdCB0aGUgdGVtcGxhdGUgY29tcGlsZXIgaXMgY3VycmVudGx5IHdvcmtpbmcgd2l0aFxuICAgICAqIC0gcHJvcGVydHk6IHRoZSB0YXJnZXQgcHJvcGVydHkgbmFtZVxuICAgICAqL1xuICAgIHVzZVR3b1dheShmbikge1xuICAgICAgICB0aGlzLmZucy5wdXNoKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdHJhbnNmb3JtKG5vZGUsIGF0dHJTeW50YXgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmIChhdHRyU3ludGF4LmNvbW1hbmQgPT09ICdiaW5kJyAmJlxuICAgICAgICAgICAgKFxuICAgICAgICAgICAgLy8gbm90ZTogZXZlbiB0aG91Z2ggdGFyZ2V0IGNvdWxkIHBvc3NpYmx5IGJlIG1hcHBlZCB0byBhIGRpZmZlcmVudCBuYW1lXG4gICAgICAgICAgICAvLyB0aGUgZmluYWwgcHJvcGVydHkgbmFtZSBzaG91bGRuJ3QgYWZmZWN0IHRoZSB0d28gd2F5IHRyYW5zZm9ybWF0aW9uXG4gICAgICAgICAgICAvLyBhcyB0aGV5IGJvdGggc2hvdWxkIHdvcmsgd2l0aCBvcmlnaW5hbCBzb3VyY2UgYXR0cmlidXRlIG5hbWVcbiAgICAgICAgICAgIHNob3VsZERlZmF1bHRUb1R3b1dheShub2RlLCBhdHRyU3ludGF4LnRhcmdldCkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmZucy5sZW5ndGggPiAwICYmIHRoaXMuZm5zLnNvbWUoZm4gPT4gZm4obm9kZSwgYXR0clN5bnRheC50YXJnZXQpKSkpIHtcbiAgICAgICAgICAgIGF0dHJTeW50YXguY29tbWFuZCA9ICd0d28td2F5JztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdHRyID0gYXR0clN5bnRheC50YXJnZXQ7XG4gICAgICAgIGF0dHJTeW50YXgudGFyZ2V0ID0gKF9jID0gKF9iID0gKF9hID0gdGhpcy50YWdBdHRyTWFwW25vZGUudGFnTmFtZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVthdHRyXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5nbG9iYWxBdHRyTWFwW2F0dHJdKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAoaXNEYXRhQXR0cmlidXRlKG5vZGUsIGF0dHIsIHRoaXMuc3ZnKVxuICAgICAgICAgICAgPyBhdHRyXG4gICAgICAgICAgICA6IGNhbWVsQ2FzZShhdHRyKSk7XG4gICAgICAgIC8vIGF0dHJTeW50YXgudGFyZ2V0ID0gdGhpcy5tYXAobm9kZS50YWdOYW1lLCBhdHRyU3ludGF4LnRhcmdldCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2hvdWxkRGVmYXVsdFRvVHdvV2F5KGVsZW1lbnQsIGF0dHIpIHtcbiAgICBzd2l0Y2ggKGVsZW1lbnQudGFnTmFtZSkge1xuICAgICAgICBjYXNlICdJTlBVVCc6XG4gICAgICAgICAgICBzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRyID09PSAnY2hlY2tlZCc7XG4gICAgICAgICAgICAgICAgLy8gbm90ZTpcbiAgICAgICAgICAgICAgICAvLyBpZGVhbGx5LCBpdCBzaG91bGQgY2hlY2sgZm9yIGNvcnJlc3BvbmRpbmcgaW5wdXQgdHlwZSBmaXJzdFxuICAgICAgICAgICAgICAgIC8vIGFzICdmaWxlcycgc2hvdWxkbid0IGJlIHR3byB3YXkgb24gYSBudW1iZXIgaW5wdXQsIGZvciBleGFtcGxlXG4gICAgICAgICAgICAgICAgLy8gYnV0IGRvaW5nIGl0IHRoaXMgd2F5IGlzIGFjY2VwdGFibGUtaXNoLCBhcyB0aGUgY29tbW9uIHVzZXIgZXhwZWN0YXRpb25zLFxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aGUgYmVoYXZpb3Igb2YgdGhlIGNvbnRyb2wgZm9yIHRoZXNlIHByb3BlcnRpZXMgYXJlIHRoZSBzYW1lLFxuICAgICAgICAgICAgICAgIC8vIHJlZ2FyZGxlc3MgdGhlIHR5cGUgb2YgdGhlIDxpbnB1dD5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0ciA9PT0gJ3ZhbHVlJyB8fCBhdHRyID09PSAnZmlsZXMnIHx8IGF0dHIgPT09ICd2YWx1ZS1hcy1udW1iZXInIHx8IGF0dHIgPT09ICd2YWx1ZS1hcy1kYXRlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnVEVYVEFSRUEnOlxuICAgICAgICBjYXNlICdTRUxFQ1QnOlxuICAgICAgICAgICAgcmV0dXJuIGF0dHIgPT09ICd2YWx1ZSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzd2l0Y2ggKGF0dHIpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0Y29udGVudCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnaW5uZXJodG1sJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKTtcbiAgICAgICAgICAgICAgICBjYXNlICdzY3JvbGx0b3AnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3Njcm9sbGxlZnQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlTWFwcGVkRXJyb3IoYXR0ciwgdGFnTmFtZSkge1xuICAgIHJldHVybiBuZXcgRXJyb3IoYEF0dHJpYnV0ZSAke2F0dHJ9IGhhcyBiZWVuIGFscmVhZHkgcmVnaXN0ZXJlZCBmb3IgJHt0YWdOYW1lID09PSAnKicgPyAnYWxsIGVsZW1lbnRzJyA6IGA8JHt0YWdOYW1lfS8+YH1gKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF0dHJpYnV0ZS1zeW50YXgtdHJhbnNmb3JtZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLDhGQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/attribute-syntax-transformer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/aurelia.js":
/*!****************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/aurelia.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IAurelia\": () => (/* binding */ IAurelia),\n/* harmony export */   \"Aurelia\": () => (/* binding */ Aurelia)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/platform-browser */ \"./node_modules/@aurelia/platform-browser/dist/esm/index.js\");\n/* harmony import */ var _app_root_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app-root.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/app-root.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n\n\n\n\nconst IAurelia = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IAurelia');\nclass Aurelia {\n    constructor(container = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createContainer()) {\n        this.container = container;\n        this._isRunning = false;\n        this._isStarting = false;\n        this._isStopping = false;\n        this._root = void 0;\n        this.next = void 0;\n        this.startPromise = void 0;\n        this.stopPromise = void 0;\n        if (container.has(IAurelia, true)) {\n            throw new Error('An instance of Aurelia is already registered with the container or an ancestor of it.');\n        }\n        container.register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.instance(IAurelia, this));\n        container.registerResolver(_app_root_js__WEBPACK_IMPORTED_MODULE_2__.IAppRoot, this.rootProvider = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.InstanceProvider('IAppRoot'));\n    }\n    get isRunning() { return this._isRunning; }\n    get isStarting() { return this._isStarting; }\n    get isStopping() { return this._isStopping; }\n    get root() {\n        if (this._root == void 0) {\n            if (this.next == void 0) {\n                throw new Error(`root is not defined`); // TODO: create error code\n            }\n            return this.next;\n        }\n        return this._root;\n    }\n    register(...params) {\n        this.container.register(...params);\n        return this;\n    }\n    app(config) {\n        this.next = new _app_root_js__WEBPACK_IMPORTED_MODULE_2__.AppRoot(config, this.initPlatform(config.host), this.container, this.rootProvider, false);\n        return this;\n    }\n    enhance(config) {\n        this.next = new _app_root_js__WEBPACK_IMPORTED_MODULE_2__.AppRoot(config, this.initPlatform(config.host), this.container, this.rootProvider, true);\n        return this;\n    }\n    async waitForIdle() {\n        const platform = this.root.platform;\n        await platform.domWriteQueue.yield();\n        await platform.domReadQueue.yield();\n        await platform.taskQueue.yield();\n    }\n    initPlatform(host) {\n        let p;\n        if (!this.container.has(_platform_js__WEBPACK_IMPORTED_MODULE_3__.IPlatform, false)) {\n            if (host.ownerDocument.defaultView === null) {\n                throw new Error(`Failed to initialize the platform object. The host element's ownerDocument does not have a defaultView`);\n            }\n            p = new _aurelia_platform_browser__WEBPACK_IMPORTED_MODULE_1__.BrowserPlatform(host.ownerDocument.defaultView);\n            this.container.register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.instance(_platform_js__WEBPACK_IMPORTED_MODULE_3__.IPlatform, p));\n        }\n        else {\n            p = this.container.get(_platform_js__WEBPACK_IMPORTED_MODULE_3__.IPlatform);\n        }\n        return p;\n    }\n    start(root = this.next) {\n        if (root == void 0) {\n            throw new Error(`There is no composition root`);\n        }\n        if (this.startPromise instanceof Promise) {\n            return this.startPromise;\n        }\n        return this.startPromise = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.stop(), () => {\n            Reflect.set(root.host, '$aurelia', this);\n            this.rootProvider.prepare(this._root = root);\n            this._isStarting = true;\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(root.activate(), () => {\n                this._isRunning = true;\n                this._isStarting = false;\n                this.startPromise = void 0;\n                this.dispatchEvent(root, 'au-started', root.host);\n            });\n        });\n    }\n    stop(dispose = false) {\n        if (this.stopPromise instanceof Promise) {\n            return this.stopPromise;\n        }\n        if (this._isRunning === true) {\n            const root = this._root;\n            this._isRunning = false;\n            this._isStopping = true;\n            return this.stopPromise = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(root.deactivate(), () => {\n                Reflect.deleteProperty(root.host, '$aurelia');\n                if (dispose) {\n                    root.dispose();\n                }\n                this._root = void 0;\n                this.rootProvider.dispose();\n                this._isStopping = false;\n                this.dispatchEvent(root, 'au-stopped', root.host);\n            });\n        }\n    }\n    dispose() {\n        if (this._isRunning || this._isStopping) {\n            throw new Error(`The aurelia instance must be fully stopped before it can be disposed`);\n        }\n        this.container.dispose();\n    }\n    dispatchEvent(root, name, target) {\n        const ev = new root.platform.window.CustomEvent(name, { detail: this, bubbles: true, cancelable: true });\n        target.dispatchEvent(ev);\n    }\n}\n//# sourceMappingURL=aurelia.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2F1cmVsaWEuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2F1cmVsaWEuanM/YjgwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBESSwgUmVnaXN0cmF0aW9uLCBJbnN0YW5jZVByb3ZpZGVyLCBvblJlc29sdmUgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgQnJvd3NlclBsYXRmb3JtIH0gZnJvbSAnQGF1cmVsaWEvcGxhdGZvcm0tYnJvd3Nlcic7XG5pbXBvcnQgeyBBcHBSb290LCBJQXBwUm9vdCB9IGZyb20gJy4vYXBwLXJvb3QuanMnO1xuaW1wb3J0IHsgSVBsYXRmb3JtIH0gZnJvbSAnLi9wbGF0Zm9ybS5qcyc7XG5leHBvcnQgY29uc3QgSUF1cmVsaWEgPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lBdXJlbGlhJyk7XG5leHBvcnQgY2xhc3MgQXVyZWxpYSB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyID0gREkuY3JlYXRlQ29udGFpbmVyKCkpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuX2lzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc1N0YXJ0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzU3RvcHBpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcm9vdCA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnN0YXJ0UHJvbWlzZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5zdG9wUHJvbWlzZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5oYXMoSUF1cmVsaWEsIHRydWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIGluc3RhbmNlIG9mIEF1cmVsaWEgaXMgYWxyZWFkeSByZWdpc3RlcmVkIHdpdGggdGhlIGNvbnRhaW5lciBvciBhbiBhbmNlc3RvciBvZiBpdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIucmVnaXN0ZXIoUmVnaXN0cmF0aW9uLmluc3RhbmNlKElBdXJlbGlhLCB0aGlzKSk7XG4gICAgICAgIGNvbnRhaW5lci5yZWdpc3RlclJlc29sdmVyKElBcHBSb290LCB0aGlzLnJvb3RQcm92aWRlciA9IG5ldyBJbnN0YW5jZVByb3ZpZGVyKCdJQXBwUm9vdCcpKTtcbiAgICB9XG4gICAgZ2V0IGlzUnVubmluZygpIHsgcmV0dXJuIHRoaXMuX2lzUnVubmluZzsgfVxuICAgIGdldCBpc1N0YXJ0aW5nKCkgeyByZXR1cm4gdGhpcy5faXNTdGFydGluZzsgfVxuICAgIGdldCBpc1N0b3BwaW5nKCkgeyByZXR1cm4gdGhpcy5faXNTdG9wcGluZzsgfVxuICAgIGdldCByb290KCkge1xuICAgICAgICBpZiAodGhpcy5fcm9vdCA9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5leHQgPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByb290IGlzIG5vdCBkZWZpbmVkYCk7IC8vIFRPRE86IGNyZWF0ZSBlcnJvciBjb2RlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yb290O1xuICAgIH1cbiAgICByZWdpc3RlciguLi5wYXJhbXMpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVnaXN0ZXIoLi4ucGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGFwcChjb25maWcpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gbmV3IEFwcFJvb3QoY29uZmlnLCB0aGlzLmluaXRQbGF0Zm9ybShjb25maWcuaG9zdCksIHRoaXMuY29udGFpbmVyLCB0aGlzLnJvb3RQcm92aWRlciwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZW5oYW5jZShjb25maWcpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gbmV3IEFwcFJvb3QoY29uZmlnLCB0aGlzLmluaXRQbGF0Zm9ybShjb25maWcuaG9zdCksIHRoaXMuY29udGFpbmVyLCB0aGlzLnJvb3RQcm92aWRlciwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhc3luYyB3YWl0Rm9ySWRsZSgpIHtcbiAgICAgICAgY29uc3QgcGxhdGZvcm0gPSB0aGlzLnJvb3QucGxhdGZvcm07XG4gICAgICAgIGF3YWl0IHBsYXRmb3JtLmRvbVdyaXRlUXVldWUueWllbGQoKTtcbiAgICAgICAgYXdhaXQgcGxhdGZvcm0uZG9tUmVhZFF1ZXVlLnlpZWxkKCk7XG4gICAgICAgIGF3YWl0IHBsYXRmb3JtLnRhc2tRdWV1ZS55aWVsZCgpO1xuICAgIH1cbiAgICBpbml0UGxhdGZvcm0oaG9zdCkge1xuICAgICAgICBsZXQgcDtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lci5oYXMoSVBsYXRmb3JtLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIGlmIChob3N0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBpbml0aWFsaXplIHRoZSBwbGF0Zm9ybSBvYmplY3QuIFRoZSBob3N0IGVsZW1lbnQncyBvd25lckRvY3VtZW50IGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0Vmlld2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcCA9IG5ldyBCcm93c2VyUGxhdGZvcm0oaG9zdC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlZ2lzdGVyKFJlZ2lzdHJhdGlvbi5pbnN0YW5jZShJUGxhdGZvcm0sIHApKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHAgPSB0aGlzLmNvbnRhaW5lci5nZXQoSVBsYXRmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgc3RhcnQocm9vdCA9IHRoaXMubmV4dCkge1xuICAgICAgICBpZiAocm9vdCA9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gY29tcG9zaXRpb24gcm9vdGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0UHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0UHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydFByb21pc2UgPSBvblJlc29sdmUodGhpcy5zdG9wKCksICgpID0+IHtcbiAgICAgICAgICAgIFJlZmxlY3Quc2V0KHJvb3QuaG9zdCwgJyRhdXJlbGlhJywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnJvb3RQcm92aWRlci5wcmVwYXJlKHRoaXMuX3Jvb3QgPSByb290KTtcbiAgICAgICAgICAgIHRoaXMuX2lzU3RhcnRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZShyb290LmFjdGl2YXRlKCksICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1J1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzU3RhcnRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UHJvbWlzZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQocm9vdCwgJ2F1LXN0YXJ0ZWQnLCByb290Lmhvc3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdG9wKGRpc3Bvc2UgPSBmYWxzZSkge1xuICAgICAgICBpZiAodGhpcy5zdG9wUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0b3BQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pc1J1bm5pbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLl9yb290O1xuICAgICAgICAgICAgdGhpcy5faXNSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9pc1N0b3BwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0b3BQcm9taXNlID0gb25SZXNvbHZlKHJvb3QuZGVhY3RpdmF0ZSgpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShyb290Lmhvc3QsICckYXVyZWxpYScpO1xuICAgICAgICAgICAgICAgIGlmIChkaXNwb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3QuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9yb290ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdFByb3ZpZGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1N0b3BwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHJvb3QsICdhdS1zdG9wcGVkJywgcm9vdC5ob3N0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1J1bm5pbmcgfHwgdGhpcy5faXNTdG9wcGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgYXVyZWxpYSBpbnN0YW5jZSBtdXN0IGJlIGZ1bGx5IHN0b3BwZWQgYmVmb3JlIGl0IGNhbiBiZSBkaXNwb3NlZGApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgZGlzcGF0Y2hFdmVudChyb290LCBuYW1lLCB0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgZXYgPSBuZXcgcm9vdC5wbGF0Zm9ybS53aW5kb3cuQ3VzdG9tRXZlbnQobmFtZSwgeyBkZXRhaWw6IHRoaXMsIGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUgfSk7XG4gICAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXJlbGlhLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/aurelia.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/bindable.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/bindable.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"bindable\": () => (/* binding */ bindable),\n/* harmony export */   \"Bindable\": () => (/* binding */ Bindable),\n/* harmony export */   \"BindableDefinition\": () => (/* binding */ BindableDefinition)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\nfunction bindable(configOrTarget, prop) {\n    let config;\n    function decorator($target, $prop) {\n        if (arguments.length > 1) {\n            // Non invocation:\n            // - @bindable\n            // Invocation with or w/o opts:\n            // - @bindable()\n            // - @bindable({...opts})\n            config.property = $prop;\n        }\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(Bindable.name, BindableDefinition.create($prop, config), $target.constructor, $prop);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.appendTo($target.constructor, Bindable.keyFrom($prop));\n    }\n    if (arguments.length > 1) {\n        // Non invocation:\n        // - @bindable\n        config = {};\n        decorator(configOrTarget, prop);\n        return;\n    }\n    else if (typeof configOrTarget === 'string') {\n        // ClassDecorator\n        // - @bindable('bar')\n        // Direct call:\n        // - @bindable('bar')(Foo)\n        config = {};\n        return decorator;\n    }\n    // Invocation with or w/o opts:\n    // - @bindable()\n    // - @bindable({...opts})\n    config = configOrTarget === void 0 ? {} : configOrTarget;\n    return decorator;\n}\nfunction isBindableAnnotation(key) {\n    return key.startsWith(Bindable.name);\n}\nconst Bindable = {\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor('bindable'),\n    keyFrom(name) {\n        return `${Bindable.name}:${name}`;\n    },\n    from(...bindableLists) {\n        const bindables = {};\n        const isArray = Array.isArray;\n        function addName(name) {\n            bindables[name] = BindableDefinition.create(name);\n        }\n        function addDescription(name, def) {\n            bindables[name] = def instanceof BindableDefinition ? def : BindableDefinition.create(name, def);\n        }\n        function addList(maybeList) {\n            if (isArray(maybeList)) {\n                maybeList.forEach(addName);\n            }\n            else if (maybeList instanceof BindableDefinition) {\n                bindables[maybeList.property] = maybeList;\n            }\n            else if (maybeList !== void 0) {\n                Object.keys(maybeList).forEach(name => addDescription(name, maybeList[name]));\n            }\n        }\n        bindableLists.forEach(addList);\n        return bindables;\n    },\n    for(Type) {\n        let def;\n        const builder = {\n            add(configOrProp) {\n                let prop;\n                let config;\n                if (typeof configOrProp === 'string') {\n                    prop = configOrProp;\n                    config = { property: prop };\n                }\n                else {\n                    prop = configOrProp.property;\n                    config = configOrProp;\n                }\n                def = BindableDefinition.create(prop, config);\n                if (!_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.hasOwn(Bindable.name, Type, prop)) {\n                    _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.appendTo(Type, Bindable.keyFrom(prop));\n                }\n                _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(Bindable.name, def, Type, prop);\n                return builder;\n            },\n            mode(mode) {\n                def.mode = mode;\n                return builder;\n            },\n            callback(callback) {\n                def.callback = callback;\n                return builder;\n            },\n            attribute(attribute) {\n                def.attribute = attribute;\n                return builder;\n            },\n            primary() {\n                def.primary = true;\n                return builder;\n            },\n            set(setInterpreter) {\n                def.set = setInterpreter;\n                return builder;\n            }\n        };\n        return builder;\n    },\n    getAll(Type) {\n        const propStart = Bindable.name.length + 1;\n        const defs = [];\n        const prototypeChain = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.getPrototypeChain)(Type);\n        let iProto = prototypeChain.length;\n        let iDefs = 0;\n        let keys;\n        let keysLen;\n        let Class;\n        while (--iProto >= 0) {\n            Class = prototypeChain[iProto];\n            keys = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.getKeys(Class).filter(isBindableAnnotation);\n            keysLen = keys.length;\n            for (let i = 0; i < keysLen; ++i) {\n                defs[iDefs++] = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(Bindable.name, Class, keys[i].slice(propStart));\n            }\n        }\n        return defs;\n    },\n};\nclass BindableDefinition {\n    constructor(attribute, callback, mode, primary, property, set) {\n        this.attribute = attribute;\n        this.callback = callback;\n        this.mode = mode;\n        this.primary = primary;\n        this.property = property;\n        this.set = set;\n    }\n    static create(prop, def = {}) {\n        return new BindableDefinition((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(def.attribute, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.kebabCase)(prop)), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(def.callback, `${prop}Changed`), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(def.mode, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(def.primary, false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(def.property, prop), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(def.set, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.noop));\n    }\n}\n/* eslint-disable @typescript-eslint/no-unused-vars,spaced-comment */\n/**\n * This function serves two purposes:\n * - A playground for contributors to try their changes to the APIs.\n * - Cause the API surface to be properly type-checked and protected against accidental type regressions.\n *\n * It will be automatically removed by dead code elimination.\n */\nfunction apiTypeCheck() {\n    let Foo = \n    // > expected error - class decorator only accepts a string\n    //@bindable({})\n    class Foo {\n    };\n    __decorate([\n        bindable,\n        bindable(),\n        bindable({})\n        // > expected error - 'property' does not exist on decorator input object\n        //@bindable({ property: 'prop' })\n        ,\n        bindable({ mode: _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay }),\n        bindable({ callback: 'propChanged' }),\n        bindable({ attribute: 'prop' }),\n        bindable({ primary: true }),\n        bindable({ set: value => String(value) }),\n        bindable({ set: value => Number(value) }),\n        bindable({\n            mode: _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay,\n            callback: 'propChanged',\n            attribute: 'prop',\n            primary: true,\n            set: value => String(value)\n        })\n    ], Foo.prototype, \"prop\", void 0);\n    Foo = __decorate([\n        bindable('prop')\n        // > expected error - class decorator only accepts a string\n        //@bindable({})\n    ], Foo);\n    Bindable.for(Foo)\n        // > expected error - there is no add() function with only optional params on the fluent api\n        //.add()\n        // > expected error - 'property' is a required property on the fluent api\n        //.add({})\n        .add({ property: 'prop' })\n        .add({ property: 'prop', mode: _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay })\n        .add({ property: 'prop', callback: 'propChanged' })\n        .add({ property: 'prop', attribute: 'prop' })\n        .add({ property: 'prop', primary: true })\n        .add({ property: 'prop', mode: _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay, callback: 'propChanged', attribute: 'prop', primary: true })\n        .add('prop')\n        // > expected error - the add() method that accepts an object literal does not return a fluent api\n        //.add({ property: 'prop' }).mode(BindingMode.twoWay)\n        //.add({ property: 'prop' }).callback('propChanged')\n        //.add({ property: 'prop' }).attribute('prop')\n        //.add({ property: 'prop' }).primary()\n        // > expected error - fluent api methods can only be invoked once per bindable\n        //.add('prop').mode(BindingMode.twoWay).mode(BindingMode.twoWay)\n        //.add('prop').mode(BindingMode.twoWay).callback('propChanged').mode(BindingMode.twoWay)\n        //.add('prop').mode(BindingMode.twoWay).callback('propChanged').callback('propChanged') // etc\n        // > expected error - wrong invocation order\n        //.add('prop').callback('propChanged').mode(BindingMode.twoWay)\n        //.add('prop').primary().mode(BindingMode.twoWay)  // etc\n        .add('prop').mode(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay)\n        .add('prop').mode(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay).callback('propChanged')\n        .add('prop').mode(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay).callback('propChanged').attribute('prop')\n        .add('prop').mode(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay).callback('propChanged').attribute('prop').primary()\n        .add('prop').mode(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay).set((value) => Number(value))\n        .add('prop').mode(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay).callback('propChanged').set(value => Number(value))\n        .add('prop').callback('propChanged')\n        .add('prop').callback('propChanged').attribute('prop')\n        .add('prop').callback('propChanged').attribute('prop').primary()\n        .add('prop').attribute('prop')\n        .add('prop').attribute('prop').primary()\n        .add('prop').primary();\n}\n/* eslint-enable @typescript-eslint/no-unused-vars,spaced-comment */\n//# sourceMappingURL=bindable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRhYmxlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9iaW5kYWJsZS5qcz82MWNhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IGtlYmFiQ2FzZSwgTWV0YWRhdGEsIFByb3RvY29sLCBmaXJzdERlZmluZWQsIGdldFByb3RvdHlwZUNoYWluLCBub29wLCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBCaW5kaW5nTW9kZSwgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lJztcbmV4cG9ydCBmdW5jdGlvbiBiaW5kYWJsZShjb25maWdPclRhcmdldCwgcHJvcCkge1xuICAgIGxldCBjb25maWc7XG4gICAgZnVuY3Rpb24gZGVjb3JhdG9yKCR0YXJnZXQsICRwcm9wKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gTm9uIGludm9jYXRpb246XG4gICAgICAgICAgICAvLyAtIEBiaW5kYWJsZVxuICAgICAgICAgICAgLy8gSW52b2NhdGlvbiB3aXRoIG9yIHcvbyBvcHRzOlxuICAgICAgICAgICAgLy8gLSBAYmluZGFibGUoKVxuICAgICAgICAgICAgLy8gLSBAYmluZGFibGUoey4uLm9wdHN9KVxuICAgICAgICAgICAgY29uZmlnLnByb3BlcnR5ID0gJHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgTWV0YWRhdGEuZGVmaW5lKEJpbmRhYmxlLm5hbWUsIEJpbmRhYmxlRGVmaW5pdGlvbi5jcmVhdGUoJHByb3AsIGNvbmZpZyksICR0YXJnZXQuY29uc3RydWN0b3IsICRwcm9wKTtcbiAgICAgICAgUHJvdG9jb2wuYW5ub3RhdGlvbi5hcHBlbmRUbygkdGFyZ2V0LmNvbnN0cnVjdG9yLCBCaW5kYWJsZS5rZXlGcm9tKCRwcm9wKSk7XG4gICAgfVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBOb24gaW52b2NhdGlvbjpcbiAgICAgICAgLy8gLSBAYmluZGFibGVcbiAgICAgICAgY29uZmlnID0ge307XG4gICAgICAgIGRlY29yYXRvcihjb25maWdPclRhcmdldCwgcHJvcCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZ09yVGFyZ2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBDbGFzc0RlY29yYXRvclxuICAgICAgICAvLyAtIEBiaW5kYWJsZSgnYmFyJylcbiAgICAgICAgLy8gRGlyZWN0IGNhbGw6XG4gICAgICAgIC8vIC0gQGJpbmRhYmxlKCdiYXInKShGb28pXG4gICAgICAgIGNvbmZpZyA9IHt9O1xuICAgICAgICByZXR1cm4gZGVjb3JhdG9yO1xuICAgIH1cbiAgICAvLyBJbnZvY2F0aW9uIHdpdGggb3Igdy9vIG9wdHM6XG4gICAgLy8gLSBAYmluZGFibGUoKVxuICAgIC8vIC0gQGJpbmRhYmxlKHsuLi5vcHRzfSlcbiAgICBjb25maWcgPSBjb25maWdPclRhcmdldCA9PT0gdm9pZCAwID8ge30gOiBjb25maWdPclRhcmdldDtcbiAgICByZXR1cm4gZGVjb3JhdG9yO1xufVxuZnVuY3Rpb24gaXNCaW5kYWJsZUFubm90YXRpb24oa2V5KSB7XG4gICAgcmV0dXJuIGtleS5zdGFydHNXaXRoKEJpbmRhYmxlLm5hbWUpO1xufVxuZXhwb3J0IGNvbnN0IEJpbmRhYmxlID0ge1xuICAgIG5hbWU6IFByb3RvY29sLmFubm90YXRpb24ua2V5Rm9yKCdiaW5kYWJsZScpLFxuICAgIGtleUZyb20obmFtZSkge1xuICAgICAgICByZXR1cm4gYCR7QmluZGFibGUubmFtZX06JHtuYW1lfWA7XG4gICAgfSxcbiAgICBmcm9tKC4uLmJpbmRhYmxlTGlzdHMpIHtcbiAgICAgICAgY29uc3QgYmluZGFibGVzID0ge307XG4gICAgICAgIGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuICAgICAgICBmdW5jdGlvbiBhZGROYW1lKG5hbWUpIHtcbiAgICAgICAgICAgIGJpbmRhYmxlc1tuYW1lXSA9IEJpbmRhYmxlRGVmaW5pdGlvbi5jcmVhdGUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYWRkRGVzY3JpcHRpb24obmFtZSwgZGVmKSB7XG4gICAgICAgICAgICBiaW5kYWJsZXNbbmFtZV0gPSBkZWYgaW5zdGFuY2VvZiBCaW5kYWJsZURlZmluaXRpb24gPyBkZWYgOiBCaW5kYWJsZURlZmluaXRpb24uY3JlYXRlKG5hbWUsIGRlZik7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYWRkTGlzdChtYXliZUxpc3QpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG1heWJlTGlzdCkpIHtcbiAgICAgICAgICAgICAgICBtYXliZUxpc3QuZm9yRWFjaChhZGROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1heWJlTGlzdCBpbnN0YW5jZW9mIEJpbmRhYmxlRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIGJpbmRhYmxlc1ttYXliZUxpc3QucHJvcGVydHldID0gbWF5YmVMaXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF5YmVMaXN0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhtYXliZUxpc3QpLmZvckVhY2gobmFtZSA9PiBhZGREZXNjcmlwdGlvbihuYW1lLCBtYXliZUxpc3RbbmFtZV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBiaW5kYWJsZUxpc3RzLmZvckVhY2goYWRkTGlzdCk7XG4gICAgICAgIHJldHVybiBiaW5kYWJsZXM7XG4gICAgfSxcbiAgICBmb3IoVHlwZSkge1xuICAgICAgICBsZXQgZGVmO1xuICAgICAgICBjb25zdCBidWlsZGVyID0ge1xuICAgICAgICAgICAgYWRkKGNvbmZpZ09yUHJvcCkge1xuICAgICAgICAgICAgICAgIGxldCBwcm9wO1xuICAgICAgICAgICAgICAgIGxldCBjb25maWc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWdPclByb3AgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3AgPSBjb25maWdPclByb3A7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IHsgcHJvcGVydHk6IHByb3AgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3AgPSBjb25maWdPclByb3AucHJvcGVydHk7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZ09yUHJvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmID0gQmluZGFibGVEZWZpbml0aW9uLmNyZWF0ZShwcm9wLCBjb25maWcpO1xuICAgICAgICAgICAgICAgIGlmICghTWV0YWRhdGEuaGFzT3duKEJpbmRhYmxlLm5hbWUsIFR5cGUsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIFByb3RvY29sLmFubm90YXRpb24uYXBwZW5kVG8oVHlwZSwgQmluZGFibGUua2V5RnJvbShwcm9wKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE1ldGFkYXRhLmRlZmluZShCaW5kYWJsZS5uYW1lLCBkZWYsIFR5cGUsIHByb3ApO1xuICAgICAgICAgICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vZGUobW9kZSkge1xuICAgICAgICAgICAgICAgIGRlZi5tb2RlID0gbW9kZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGRlZi5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZShhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICBkZWYuYXR0cmlidXRlID0gYXR0cmlidXRlO1xuICAgICAgICAgICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByaW1hcnkoKSB7XG4gICAgICAgICAgICAgICAgZGVmLnByaW1hcnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldChzZXRJbnRlcnByZXRlcikge1xuICAgICAgICAgICAgICAgIGRlZi5zZXQgPSBzZXRJbnRlcnByZXRlcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfSxcbiAgICBnZXRBbGwoVHlwZSkge1xuICAgICAgICBjb25zdCBwcm9wU3RhcnQgPSBCaW5kYWJsZS5uYW1lLmxlbmd0aCArIDE7XG4gICAgICAgIGNvbnN0IGRlZnMgPSBbXTtcbiAgICAgICAgY29uc3QgcHJvdG90eXBlQ2hhaW4gPSBnZXRQcm90b3R5cGVDaGFpbihUeXBlKTtcbiAgICAgICAgbGV0IGlQcm90byA9IHByb3RvdHlwZUNoYWluLmxlbmd0aDtcbiAgICAgICAgbGV0IGlEZWZzID0gMDtcbiAgICAgICAgbGV0IGtleXM7XG4gICAgICAgIGxldCBrZXlzTGVuO1xuICAgICAgICBsZXQgQ2xhc3M7XG4gICAgICAgIHdoaWxlICgtLWlQcm90byA+PSAwKSB7XG4gICAgICAgICAgICBDbGFzcyA9IHByb3RvdHlwZUNoYWluW2lQcm90b107XG4gICAgICAgICAgICBrZXlzID0gUHJvdG9jb2wuYW5ub3RhdGlvbi5nZXRLZXlzKENsYXNzKS5maWx0ZXIoaXNCaW5kYWJsZUFubm90YXRpb24pO1xuICAgICAgICAgICAga2V5c0xlbiA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzTGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkZWZzW2lEZWZzKytdID0gTWV0YWRhdGEuZ2V0T3duKEJpbmRhYmxlLm5hbWUsIENsYXNzLCBrZXlzW2ldLnNsaWNlKHByb3BTdGFydCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZzO1xuICAgIH0sXG59O1xuZXhwb3J0IGNsYXNzIEJpbmRhYmxlRGVmaW5pdGlvbiB7XG4gICAgY29uc3RydWN0b3IoYXR0cmlidXRlLCBjYWxsYmFjaywgbW9kZSwgcHJpbWFyeSwgcHJvcGVydHksIHNldCkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZSA9IGF0dHJpYnV0ZTtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgICB0aGlzLnByaW1hcnkgPSBwcmltYXJ5O1xuICAgICAgICB0aGlzLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgICAgIHRoaXMuc2V0ID0gc2V0O1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKHByb3AsIGRlZiA9IHt9KSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluZGFibGVEZWZpbml0aW9uKGZpcnN0RGVmaW5lZChkZWYuYXR0cmlidXRlLCBrZWJhYkNhc2UocHJvcCkpLCBmaXJzdERlZmluZWQoZGVmLmNhbGxiYWNrLCBgJHtwcm9wfUNoYW5nZWRgKSwgZmlyc3REZWZpbmVkKGRlZi5tb2RlLCBCaW5kaW5nTW9kZS50b1ZpZXcpLCBmaXJzdERlZmluZWQoZGVmLnByaW1hcnksIGZhbHNlKSwgZmlyc3REZWZpbmVkKGRlZi5wcm9wZXJ0eSwgcHJvcCksIGZpcnN0RGVmaW5lZChkZWYuc2V0LCBub29wKSk7XG4gICAgfVxufVxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzLHNwYWNlZC1jb21tZW50ICovXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2VydmVzIHR3byBwdXJwb3NlczpcbiAqIC0gQSBwbGF5Z3JvdW5kIGZvciBjb250cmlidXRvcnMgdG8gdHJ5IHRoZWlyIGNoYW5nZXMgdG8gdGhlIEFQSXMuXG4gKiAtIENhdXNlIHRoZSBBUEkgc3VyZmFjZSB0byBiZSBwcm9wZXJseSB0eXBlLWNoZWNrZWQgYW5kIHByb3RlY3RlZCBhZ2FpbnN0IGFjY2lkZW50YWwgdHlwZSByZWdyZXNzaW9ucy5cbiAqXG4gKiBJdCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBieSBkZWFkIGNvZGUgZWxpbWluYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGFwaVR5cGVDaGVjaygpIHtcbiAgICBsZXQgRm9vID0gXG4gICAgLy8gPiBleHBlY3RlZCBlcnJvciAtIGNsYXNzIGRlY29yYXRvciBvbmx5IGFjY2VwdHMgYSBzdHJpbmdcbiAgICAvL0BiaW5kYWJsZSh7fSlcbiAgICBjbGFzcyBGb28ge1xuICAgIH07XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGJpbmRhYmxlLFxuICAgICAgICBiaW5kYWJsZSgpLFxuICAgICAgICBiaW5kYWJsZSh7fSlcbiAgICAgICAgLy8gPiBleHBlY3RlZCBlcnJvciAtICdwcm9wZXJ0eScgZG9lcyBub3QgZXhpc3Qgb24gZGVjb3JhdG9yIGlucHV0IG9iamVjdFxuICAgICAgICAvL0BiaW5kYWJsZSh7IHByb3BlcnR5OiAncHJvcCcgfSlcbiAgICAgICAgLFxuICAgICAgICBiaW5kYWJsZSh7IG1vZGU6IEJpbmRpbmdNb2RlLnR3b1dheSB9KSxcbiAgICAgICAgYmluZGFibGUoeyBjYWxsYmFjazogJ3Byb3BDaGFuZ2VkJyB9KSxcbiAgICAgICAgYmluZGFibGUoeyBhdHRyaWJ1dGU6ICdwcm9wJyB9KSxcbiAgICAgICAgYmluZGFibGUoeyBwcmltYXJ5OiB0cnVlIH0pLFxuICAgICAgICBiaW5kYWJsZSh7IHNldDogdmFsdWUgPT4gU3RyaW5nKHZhbHVlKSB9KSxcbiAgICAgICAgYmluZGFibGUoeyBzZXQ6IHZhbHVlID0+IE51bWJlcih2YWx1ZSkgfSksXG4gICAgICAgIGJpbmRhYmxlKHtcbiAgICAgICAgICAgIG1vZGU6IEJpbmRpbmdNb2RlLnR3b1dheSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAncHJvcENoYW5nZWQnLFxuICAgICAgICAgICAgYXR0cmlidXRlOiAncHJvcCcsXG4gICAgICAgICAgICBwcmltYXJ5OiB0cnVlLFxuICAgICAgICAgICAgc2V0OiB2YWx1ZSA9PiBTdHJpbmcodmFsdWUpXG4gICAgICAgIH0pXG4gICAgXSwgRm9vLnByb3RvdHlwZSwgXCJwcm9wXCIsIHZvaWQgMCk7XG4gICAgRm9vID0gX19kZWNvcmF0ZShbXG4gICAgICAgIGJpbmRhYmxlKCdwcm9wJylcbiAgICAgICAgLy8gPiBleHBlY3RlZCBlcnJvciAtIGNsYXNzIGRlY29yYXRvciBvbmx5IGFjY2VwdHMgYSBzdHJpbmdcbiAgICAgICAgLy9AYmluZGFibGUoe30pXG4gICAgXSwgRm9vKTtcbiAgICBCaW5kYWJsZS5mb3IoRm9vKVxuICAgICAgICAvLyA+IGV4cGVjdGVkIGVycm9yIC0gdGhlcmUgaXMgbm8gYWRkKCkgZnVuY3Rpb24gd2l0aCBvbmx5IG9wdGlvbmFsIHBhcmFtcyBvbiB0aGUgZmx1ZW50IGFwaVxuICAgICAgICAvLy5hZGQoKVxuICAgICAgICAvLyA+IGV4cGVjdGVkIGVycm9yIC0gJ3Byb3BlcnR5JyBpcyBhIHJlcXVpcmVkIHByb3BlcnR5IG9uIHRoZSBmbHVlbnQgYXBpXG4gICAgICAgIC8vLmFkZCh7fSlcbiAgICAgICAgLmFkZCh7IHByb3BlcnR5OiAncHJvcCcgfSlcbiAgICAgICAgLmFkZCh7IHByb3BlcnR5OiAncHJvcCcsIG1vZGU6IEJpbmRpbmdNb2RlLnR3b1dheSB9KVxuICAgICAgICAuYWRkKHsgcHJvcGVydHk6ICdwcm9wJywgY2FsbGJhY2s6ICdwcm9wQ2hhbmdlZCcgfSlcbiAgICAgICAgLmFkZCh7IHByb3BlcnR5OiAncHJvcCcsIGF0dHJpYnV0ZTogJ3Byb3AnIH0pXG4gICAgICAgIC5hZGQoeyBwcm9wZXJ0eTogJ3Byb3AnLCBwcmltYXJ5OiB0cnVlIH0pXG4gICAgICAgIC5hZGQoeyBwcm9wZXJ0eTogJ3Byb3AnLCBtb2RlOiBCaW5kaW5nTW9kZS50d29XYXksIGNhbGxiYWNrOiAncHJvcENoYW5nZWQnLCBhdHRyaWJ1dGU6ICdwcm9wJywgcHJpbWFyeTogdHJ1ZSB9KVxuICAgICAgICAuYWRkKCdwcm9wJylcbiAgICAgICAgLy8gPiBleHBlY3RlZCBlcnJvciAtIHRoZSBhZGQoKSBtZXRob2QgdGhhdCBhY2NlcHRzIGFuIG9iamVjdCBsaXRlcmFsIGRvZXMgbm90IHJldHVybiBhIGZsdWVudCBhcGlcbiAgICAgICAgLy8uYWRkKHsgcHJvcGVydHk6ICdwcm9wJyB9KS5tb2RlKEJpbmRpbmdNb2RlLnR3b1dheSlcbiAgICAgICAgLy8uYWRkKHsgcHJvcGVydHk6ICdwcm9wJyB9KS5jYWxsYmFjaygncHJvcENoYW5nZWQnKVxuICAgICAgICAvLy5hZGQoeyBwcm9wZXJ0eTogJ3Byb3AnIH0pLmF0dHJpYnV0ZSgncHJvcCcpXG4gICAgICAgIC8vLmFkZCh7IHByb3BlcnR5OiAncHJvcCcgfSkucHJpbWFyeSgpXG4gICAgICAgIC8vID4gZXhwZWN0ZWQgZXJyb3IgLSBmbHVlbnQgYXBpIG1ldGhvZHMgY2FuIG9ubHkgYmUgaW52b2tlZCBvbmNlIHBlciBiaW5kYWJsZVxuICAgICAgICAvLy5hZGQoJ3Byb3AnKS5tb2RlKEJpbmRpbmdNb2RlLnR3b1dheSkubW9kZShCaW5kaW5nTW9kZS50d29XYXkpXG4gICAgICAgIC8vLmFkZCgncHJvcCcpLm1vZGUoQmluZGluZ01vZGUudHdvV2F5KS5jYWxsYmFjaygncHJvcENoYW5nZWQnKS5tb2RlKEJpbmRpbmdNb2RlLnR3b1dheSlcbiAgICAgICAgLy8uYWRkKCdwcm9wJykubW9kZShCaW5kaW5nTW9kZS50d29XYXkpLmNhbGxiYWNrKCdwcm9wQ2hhbmdlZCcpLmNhbGxiYWNrKCdwcm9wQ2hhbmdlZCcpIC8vIGV0Y1xuICAgICAgICAvLyA+IGV4cGVjdGVkIGVycm9yIC0gd3JvbmcgaW52b2NhdGlvbiBvcmRlclxuICAgICAgICAvLy5hZGQoJ3Byb3AnKS5jYWxsYmFjaygncHJvcENoYW5nZWQnKS5tb2RlKEJpbmRpbmdNb2RlLnR3b1dheSlcbiAgICAgICAgLy8uYWRkKCdwcm9wJykucHJpbWFyeSgpLm1vZGUoQmluZGluZ01vZGUudHdvV2F5KSAgLy8gZXRjXG4gICAgICAgIC5hZGQoJ3Byb3AnKS5tb2RlKEJpbmRpbmdNb2RlLnR3b1dheSlcbiAgICAgICAgLmFkZCgncHJvcCcpLm1vZGUoQmluZGluZ01vZGUudHdvV2F5KS5jYWxsYmFjaygncHJvcENoYW5nZWQnKVxuICAgICAgICAuYWRkKCdwcm9wJykubW9kZShCaW5kaW5nTW9kZS50d29XYXkpLmNhbGxiYWNrKCdwcm9wQ2hhbmdlZCcpLmF0dHJpYnV0ZSgncHJvcCcpXG4gICAgICAgIC5hZGQoJ3Byb3AnKS5tb2RlKEJpbmRpbmdNb2RlLnR3b1dheSkuY2FsbGJhY2soJ3Byb3BDaGFuZ2VkJykuYXR0cmlidXRlKCdwcm9wJykucHJpbWFyeSgpXG4gICAgICAgIC5hZGQoJ3Byb3AnKS5tb2RlKEJpbmRpbmdNb2RlLnR3b1dheSkuc2V0KCh2YWx1ZSkgPT4gTnVtYmVyKHZhbHVlKSlcbiAgICAgICAgLmFkZCgncHJvcCcpLm1vZGUoQmluZGluZ01vZGUudHdvV2F5KS5jYWxsYmFjaygncHJvcENoYW5nZWQnKS5zZXQodmFsdWUgPT4gTnVtYmVyKHZhbHVlKSlcbiAgICAgICAgLmFkZCgncHJvcCcpLmNhbGxiYWNrKCdwcm9wQ2hhbmdlZCcpXG4gICAgICAgIC5hZGQoJ3Byb3AnKS5jYWxsYmFjaygncHJvcENoYW5nZWQnKS5hdHRyaWJ1dGUoJ3Byb3AnKVxuICAgICAgICAuYWRkKCdwcm9wJykuY2FsbGJhY2soJ3Byb3BDaGFuZ2VkJykuYXR0cmlidXRlKCdwcm9wJykucHJpbWFyeSgpXG4gICAgICAgIC5hZGQoJ3Byb3AnKS5hdHRyaWJ1dGUoJ3Byb3AnKVxuICAgICAgICAuYWRkKCdwcm9wJykuYXR0cmlidXRlKCdwcm9wJykucHJpbWFyeSgpXG4gICAgICAgIC5hZGQoJ3Byb3AnKS5wcmltYXJ5KCk7XG59XG4vKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyxzcGFjZWQtY29tbWVudCAqL1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmluZGFibGUuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/binding-mode.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/binding-mode.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BindingModeBehavior\": () => (/* binding */ BindingModeBehavior),\n/* harmony export */   \"OneTimeBindingBehavior\": () => (/* binding */ OneTimeBindingBehavior),\n/* harmony export */   \"ToViewBindingBehavior\": () => (/* binding */ ToViewBindingBehavior),\n/* harmony export */   \"FromViewBindingBehavior\": () => (/* binding */ FromViewBindingBehavior),\n/* harmony export */   \"TwoWayBindingBehavior\": () => (/* binding */ TwoWayBindingBehavior)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n\nclass BindingModeBehavior {\n    constructor(mode) {\n        this.mode = mode;\n        this.originalModes = new Map();\n    }\n    bind(flags, scope, hostScope, binding) {\n        this.originalModes.set(binding, binding.mode);\n        binding.mode = this.mode;\n    }\n    unbind(flags, scope, hostScope, binding) {\n        binding.mode = this.originalModes.get(binding);\n        this.originalModes.delete(binding);\n    }\n}\nclass OneTimeBindingBehavior extends BindingModeBehavior {\n    constructor() {\n        super(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode.oneTime);\n    }\n}\nclass ToViewBindingBehavior extends BindingModeBehavior {\n    constructor() {\n        super(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode.toView);\n    }\n}\nclass FromViewBindingBehavior extends BindingModeBehavior {\n    constructor() {\n        super(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode.fromView);\n    }\n}\nclass TwoWayBindingBehavior extends BindingModeBehavior {\n    constructor() {\n        super(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode.twoWay);\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.bindingBehavior)('oneTime')(OneTimeBindingBehavior);\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.bindingBehavior)('toView')(ToViewBindingBehavior);\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.bindingBehavior)('fromView')(FromViewBindingBehavior);\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.bindingBehavior)('twoWay')(TwoWayBindingBehavior);\n//# sourceMappingURL=binding-mode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmctYmVoYXZpb3JzL2JpbmRpbmctbW9kZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vYmluZGluZy1iZWhhdmlvcnMvYmluZGluZy1tb2RlLmpzP2MyYzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYmluZGluZ0JlaGF2aW9yLCBCaW5kaW5nTW9kZSB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuZXhwb3J0IGNsYXNzIEJpbmRpbmdNb2RlQmVoYXZpb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1vZGUpIHtcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbE1vZGVzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBiaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlLCBiaW5kaW5nKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxNb2Rlcy5zZXQoYmluZGluZywgYmluZGluZy5tb2RlKTtcbiAgICAgICAgYmluZGluZy5tb2RlID0gdGhpcy5tb2RlO1xuICAgIH1cbiAgICB1bmJpbmQoZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUsIGJpbmRpbmcpIHtcbiAgICAgICAgYmluZGluZy5tb2RlID0gdGhpcy5vcmlnaW5hbE1vZGVzLmdldChiaW5kaW5nKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbE1vZGVzLmRlbGV0ZShiaW5kaW5nKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgT25lVGltZUJpbmRpbmdCZWhhdmlvciBleHRlbmRzIEJpbmRpbmdNb2RlQmVoYXZpb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihCaW5kaW5nTW9kZS5vbmVUaW1lKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVG9WaWV3QmluZGluZ0JlaGF2aW9yIGV4dGVuZHMgQmluZGluZ01vZGVCZWhhdmlvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKEJpbmRpbmdNb2RlLnRvVmlldyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEZyb21WaWV3QmluZGluZ0JlaGF2aW9yIGV4dGVuZHMgQmluZGluZ01vZGVCZWhhdmlvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKEJpbmRpbmdNb2RlLmZyb21WaWV3KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVHdvV2F5QmluZGluZ0JlaGF2aW9yIGV4dGVuZHMgQmluZGluZ01vZGVCZWhhdmlvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKEJpbmRpbmdNb2RlLnR3b1dheSk7XG4gICAgfVxufVxuYmluZGluZ0JlaGF2aW9yKCdvbmVUaW1lJykoT25lVGltZUJpbmRpbmdCZWhhdmlvcik7XG5iaW5kaW5nQmVoYXZpb3IoJ3RvVmlldycpKFRvVmlld0JpbmRpbmdCZWhhdmlvcik7XG5iaW5kaW5nQmVoYXZpb3IoJ2Zyb21WaWV3JykoRnJvbVZpZXdCaW5kaW5nQmVoYXZpb3IpO1xuYmluZGluZ0JlaGF2aW9yKCd0d29XYXknKShUd29XYXlCaW5kaW5nQmVoYXZpb3IpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmluZGluZy1tb2RlLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/binding-mode.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/debounce.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/debounce.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DebounceBindingBehavior\": () => (/* binding */ DebounceBindingBehavior)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n\n\nconst defaultDelay = 200;\n//\n// A binding behavior that prevents\n// - (v1 + v2) the view-model from being updated in two-way binding, OR\n// - (v1) the the view from being updated in to-view binding,\n// until a specified interval has passed without any changes\n//\nclass DebounceBindingBehavior extends _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingInterceptor {\n    constructor(binding, expr) {\n        super(binding, expr);\n        this.opts = { delay: 0 };\n        this.firstArg = null;\n        this.task = null;\n        this.taskQueue = binding.locator.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IPlatform).taskQueue;\n        if (expr.args.length > 0) {\n            this.firstArg = expr.args[0];\n        }\n    }\n    callSource(args) {\n        this.queueTask(() => this.binding.callSource(args));\n        return void 0;\n    }\n    handleChange(newValue, oldValue, flags) {\n        // when source has changed before the latest debounced value from target\n        // then discard that value, and take latest value from source only\n        if (this.task !== null) {\n            this.task.cancel();\n            this.task = null;\n        }\n        this.binding.handleChange(newValue, oldValue, flags);\n    }\n    updateSource(newValue, flags) {\n        this.queueTask(() => this.binding.updateSource(newValue, flags));\n    }\n    queueTask(callback) {\n        // Queue the new one before canceling the old one, to prevent early yield\n        const task = this.task;\n        this.task = this.taskQueue.queueTask(() => {\n            this.task = null;\n            return callback();\n        }, this.opts);\n        task === null || task === void 0 ? void 0 : task.cancel();\n    }\n    $bind(flags, scope, hostScope) {\n        if (this.firstArg !== null) {\n            const delay = Number(this.firstArg.evaluate(flags, scope, hostScope, this.locator, null));\n            this.opts.delay = isNaN(delay) ? defaultDelay : delay;\n        }\n        this.binding.$bind(flags, scope, hostScope);\n    }\n    $unbind(flags) {\n        var _a;\n        (_a = this.task) === null || _a === void 0 ? void 0 : _a.cancel();\n        this.task = null;\n        this.binding.$unbind(flags);\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.bindingBehavior)('debounce')(DebounceBindingBehavior);\n//# sourceMappingURL=debounce.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmctYmVoYXZpb3JzL2RlYm91bmNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9iaW5kaW5nLWJlaGF2aW9ycy9kZWJvdW5jZS5qcz9iZjZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElQbGF0Zm9ybSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBiaW5kaW5nQmVoYXZpb3IsIEJpbmRpbmdJbnRlcmNlcHRvciB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuY29uc3QgZGVmYXVsdERlbGF5ID0gMjAwO1xuLy9cbi8vIEEgYmluZGluZyBiZWhhdmlvciB0aGF0IHByZXZlbnRzXG4vLyAtICh2MSArIHYyKSB0aGUgdmlldy1tb2RlbCBmcm9tIGJlaW5nIHVwZGF0ZWQgaW4gdHdvLXdheSBiaW5kaW5nLCBPUlxuLy8gLSAodjEpIHRoZSB0aGUgdmlldyBmcm9tIGJlaW5nIHVwZGF0ZWQgaW4gdG8tdmlldyBiaW5kaW5nLFxuLy8gdW50aWwgYSBzcGVjaWZpZWQgaW50ZXJ2YWwgaGFzIHBhc3NlZCB3aXRob3V0IGFueSBjaGFuZ2VzXG4vL1xuZXhwb3J0IGNsYXNzIERlYm91bmNlQmluZGluZ0JlaGF2aW9yIGV4dGVuZHMgQmluZGluZ0ludGVyY2VwdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihiaW5kaW5nLCBleHByKSB7XG4gICAgICAgIHN1cGVyKGJpbmRpbmcsIGV4cHIpO1xuICAgICAgICB0aGlzLm9wdHMgPSB7IGRlbGF5OiAwIH07XG4gICAgICAgIHRoaXMuZmlyc3RBcmcgPSBudWxsO1xuICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgICAgICB0aGlzLnRhc2tRdWV1ZSA9IGJpbmRpbmcubG9jYXRvci5nZXQoSVBsYXRmb3JtKS50YXNrUXVldWU7XG4gICAgICAgIGlmIChleHByLmFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5maXJzdEFyZyA9IGV4cHIuYXJnc1swXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxsU291cmNlKGFyZ3MpIHtcbiAgICAgICAgdGhpcy5xdWV1ZVRhc2soKCkgPT4gdGhpcy5iaW5kaW5nLmNhbGxTb3VyY2UoYXJncykpO1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlLCBmbGFncykge1xuICAgICAgICAvLyB3aGVuIHNvdXJjZSBoYXMgY2hhbmdlZCBiZWZvcmUgdGhlIGxhdGVzdCBkZWJvdW5jZWQgdmFsdWUgZnJvbSB0YXJnZXRcbiAgICAgICAgLy8gdGhlbiBkaXNjYXJkIHRoYXQgdmFsdWUsIGFuZCB0YWtlIGxhdGVzdCB2YWx1ZSBmcm9tIHNvdXJjZSBvbmx5XG4gICAgICAgIGlmICh0aGlzLnRhc2sgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudGFzay5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMudGFzayA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iaW5kaW5nLmhhbmRsZUNoYW5nZShuZXdWYWx1ZSwgb2xkVmFsdWUsIGZsYWdzKTtcbiAgICB9XG4gICAgdXBkYXRlU291cmNlKG5ld1ZhbHVlLCBmbGFncykge1xuICAgICAgICB0aGlzLnF1ZXVlVGFzaygoKSA9PiB0aGlzLmJpbmRpbmcudXBkYXRlU291cmNlKG5ld1ZhbHVlLCBmbGFncykpO1xuICAgIH1cbiAgICBxdWV1ZVRhc2soY2FsbGJhY2spIHtcbiAgICAgICAgLy8gUXVldWUgdGhlIG5ldyBvbmUgYmVmb3JlIGNhbmNlbGluZyB0aGUgb2xkIG9uZSwgdG8gcHJldmVudCBlYXJseSB5aWVsZFxuICAgICAgICBjb25zdCB0YXNrID0gdGhpcy50YXNrO1xuICAgICAgICB0aGlzLnRhc2sgPSB0aGlzLnRhc2tRdWV1ZS5xdWV1ZVRhc2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICB9LCB0aGlzLm9wdHMpO1xuICAgICAgICB0YXNrID09PSBudWxsIHx8IHRhc2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhc2suY2FuY2VsKCk7XG4gICAgfVxuICAgICRiaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0QXJnICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBkZWxheSA9IE51bWJlcih0aGlzLmZpcnN0QXJnLmV2YWx1YXRlKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlLCB0aGlzLmxvY2F0b3IsIG51bGwpKTtcbiAgICAgICAgICAgIHRoaXMub3B0cy5kZWxheSA9IGlzTmFOKGRlbGF5KSA/IGRlZmF1bHREZWxheSA6IGRlbGF5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmluZGluZy4kYmluZChmbGFncywgc2NvcGUsIGhvc3RTY29wZSk7XG4gICAgfVxuICAgICR1bmJpbmQoZmxhZ3MpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLnRhc2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWwoKTtcbiAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5iaW5kaW5nLiR1bmJpbmQoZmxhZ3MpO1xuICAgIH1cbn1cbmJpbmRpbmdCZWhhdmlvcignZGVib3VuY2UnKShEZWJvdW5jZUJpbmRpbmdCZWhhdmlvcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWJvdW5jZS5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/debounce.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/signals.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/signals.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SignalBindingBehavior\": () => (/* binding */ SignalBindingBehavior)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\nlet SignalBindingBehavior = class SignalBindingBehavior {\n    constructor(signaler) {\n        this.signaler = signaler;\n        this.lookup = new Map();\n    }\n    bind(flags, scope, hostScope, binding, ...names) {\n        if (!('handleChange' in binding)) {\n            throw new Error(`The signal behavior can only be used with bindings that have a 'handleChange' method`);\n        }\n        if (names.length === 0) {\n            throw new Error(`At least one signal name must be passed to the signal behavior, e.g. \\`expr & signal:'my-signal'\\``);\n        }\n        this.lookup.set(binding, names);\n        for (const name of names) {\n            this.signaler.addSignalListener(name, binding);\n        }\n    }\n    unbind(flags, scope, hostScope, binding) {\n        const names = this.lookup.get(binding);\n        this.lookup.delete(binding);\n        for (const name of names) {\n            this.signaler.removeSignalListener(name, binding);\n        }\n    }\n};\nSignalBindingBehavior = __decorate([\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.ISignaler)\n], SignalBindingBehavior);\n\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.bindingBehavior)('signal')(SignalBindingBehavior);\n//# sourceMappingURL=signals.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmctYmVoYXZpb3JzL3NpZ25hbHMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmctYmVoYXZpb3JzL3NpZ25hbHMuanM/N2NkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19wYXJhbSA9ICh0aGlzICYmIHRoaXMuX19wYXJhbSkgfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufTtcbmltcG9ydCB7IGJpbmRpbmdCZWhhdmlvciwgSVNpZ25hbGVyIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZSc7XG5sZXQgU2lnbmFsQmluZGluZ0JlaGF2aW9yID0gY2xhc3MgU2lnbmFsQmluZGluZ0JlaGF2aW9yIHtcbiAgICBjb25zdHJ1Y3RvcihzaWduYWxlcikge1xuICAgICAgICB0aGlzLnNpZ25hbGVyID0gc2lnbmFsZXI7XG4gICAgICAgIHRoaXMubG9va3VwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBiaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlLCBiaW5kaW5nLCAuLi5uYW1lcykge1xuICAgICAgICBpZiAoISgnaGFuZGxlQ2hhbmdlJyBpbiBiaW5kaW5nKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgc2lnbmFsIGJlaGF2aW9yIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBiaW5kaW5ncyB0aGF0IGhhdmUgYSAnaGFuZGxlQ2hhbmdlJyBtZXRob2RgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0IGxlYXN0IG9uZSBzaWduYWwgbmFtZSBtdXN0IGJlIHBhc3NlZCB0byB0aGUgc2lnbmFsIGJlaGF2aW9yLCBlLmcuIFxcYGV4cHIgJiBzaWduYWw6J215LXNpZ25hbCdcXGBgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvb2t1cC5zZXQoYmluZGluZywgbmFtZXMpO1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgbmFtZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc2lnbmFsZXIuYWRkU2lnbmFsTGlzdGVuZXIobmFtZSwgYmluZGluZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5iaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlLCBiaW5kaW5nKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzID0gdGhpcy5sb29rdXAuZ2V0KGJpbmRpbmcpO1xuICAgICAgICB0aGlzLmxvb2t1cC5kZWxldGUoYmluZGluZyk7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBuYW1lcykge1xuICAgICAgICAgICAgdGhpcy5zaWduYWxlci5yZW1vdmVTaWduYWxMaXN0ZW5lcihuYW1lLCBiaW5kaW5nKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5TaWduYWxCaW5kaW5nQmVoYXZpb3IgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDAsIElTaWduYWxlcilcbl0sIFNpZ25hbEJpbmRpbmdCZWhhdmlvcik7XG5leHBvcnQgeyBTaWduYWxCaW5kaW5nQmVoYXZpb3IgfTtcbmJpbmRpbmdCZWhhdmlvcignc2lnbmFsJykoU2lnbmFsQmluZGluZ0JlaGF2aW9yKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpZ25hbHMuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/signals.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/throttle.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/throttle.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ThrottleBindingBehavior\": () => (/* binding */ ThrottleBindingBehavior)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n\n\nconst defaultDelay = 200;\n// A binding behavior that limits\n// - (v1) the rate at which the view-model is updated in two-way bindings, OR\n// - (v1 + v2) the rate at which the view is updated in to-view binding scenarios.\nclass ThrottleBindingBehavior extends _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingInterceptor {\n    constructor(binding, expr) {\n        super(binding, expr);\n        this.opts = { delay: 0 };\n        this.firstArg = null;\n        this.task = null;\n        this.lastCall = 0;\n        this.delay = 0;\n        this.platform = binding.locator.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IPlatform);\n        this.taskQueue = this.platform.taskQueue;\n        if (expr.args.length > 0) {\n            this.firstArg = expr.args[0];\n        }\n    }\n    callSource(args) {\n        this.queueTask(() => this.binding.callSource(args));\n        return void 0;\n    }\n    handleChange(newValue, oldValue, flags) {\n        // when source has changed before the latest throttled value from target\n        // then discard that value, and take latest value from source only\n        if (this.task !== null) {\n            this.task.cancel();\n            this.task = null;\n            this.lastCall = this.platform.performanceNow();\n        }\n        this.binding.handleChange(newValue, oldValue, flags);\n    }\n    updateSource(newValue, flags) {\n        this.queueTask(() => this.binding.updateSource(newValue, flags));\n    }\n    queueTask(callback) {\n        const opts = this.opts;\n        const platform = this.platform;\n        const nextDelay = this.lastCall + opts.delay - platform.performanceNow();\n        if (nextDelay > 0) {\n            // Queue the new one before canceling the old one, to prevent early yield\n            const task = this.task;\n            opts.delay = nextDelay;\n            this.task = this.taskQueue.queueTask(() => {\n                this.lastCall = platform.performanceNow();\n                this.task = null;\n                opts.delay = this.delay;\n                callback();\n            }, opts);\n            task === null || task === void 0 ? void 0 : task.cancel();\n        }\n        else {\n            this.lastCall = platform.performanceNow();\n            callback();\n        }\n    }\n    $bind(flags, scope, hostScope) {\n        if (this.firstArg !== null) {\n            const delay = Number(this.firstArg.evaluate(flags, scope, hostScope, this.locator, null));\n            this.opts.delay = this.delay = isNaN(delay) ? defaultDelay : delay;\n        }\n        this.binding.$bind(flags, scope, hostScope);\n    }\n    $unbind(flags) {\n        var _a;\n        (_a = this.task) === null || _a === void 0 ? void 0 : _a.cancel();\n        this.task = null;\n        super.$unbind(flags);\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.bindingBehavior)('throttle')(ThrottleBindingBehavior);\n//# sourceMappingURL=throttle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmctYmVoYXZpb3JzL3Rocm90dGxlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9iaW5kaW5nLWJlaGF2aW9ycy90aHJvdHRsZS5qcz9mZTUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElQbGF0Zm9ybSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBiaW5kaW5nQmVoYXZpb3IsIEJpbmRpbmdJbnRlcmNlcHRvciB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuY29uc3QgZGVmYXVsdERlbGF5ID0gMjAwO1xuLy8gQSBiaW5kaW5nIGJlaGF2aW9yIHRoYXQgbGltaXRzXG4vLyAtICh2MSkgdGhlIHJhdGUgYXQgd2hpY2ggdGhlIHZpZXctbW9kZWwgaXMgdXBkYXRlZCBpbiB0d28td2F5IGJpbmRpbmdzLCBPUlxuLy8gLSAodjEgKyB2MikgdGhlIHJhdGUgYXQgd2hpY2ggdGhlIHZpZXcgaXMgdXBkYXRlZCBpbiB0by12aWV3IGJpbmRpbmcgc2NlbmFyaW9zLlxuZXhwb3J0IGNsYXNzIFRocm90dGxlQmluZGluZ0JlaGF2aW9yIGV4dGVuZHMgQmluZGluZ0ludGVyY2VwdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihiaW5kaW5nLCBleHByKSB7XG4gICAgICAgIHN1cGVyKGJpbmRpbmcsIGV4cHIpO1xuICAgICAgICB0aGlzLm9wdHMgPSB7IGRlbGF5OiAwIH07XG4gICAgICAgIHRoaXMuZmlyc3RBcmcgPSBudWxsO1xuICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RDYWxsID0gMDtcbiAgICAgICAgdGhpcy5kZWxheSA9IDA7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBiaW5kaW5nLmxvY2F0b3IuZ2V0KElQbGF0Zm9ybSk7XG4gICAgICAgIHRoaXMudGFza1F1ZXVlID0gdGhpcy5wbGF0Zm9ybS50YXNrUXVldWU7XG4gICAgICAgIGlmIChleHByLmFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5maXJzdEFyZyA9IGV4cHIuYXJnc1swXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxsU291cmNlKGFyZ3MpIHtcbiAgICAgICAgdGhpcy5xdWV1ZVRhc2soKCkgPT4gdGhpcy5iaW5kaW5nLmNhbGxTb3VyY2UoYXJncykpO1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlLCBmbGFncykge1xuICAgICAgICAvLyB3aGVuIHNvdXJjZSBoYXMgY2hhbmdlZCBiZWZvcmUgdGhlIGxhdGVzdCB0aHJvdHRsZWQgdmFsdWUgZnJvbSB0YXJnZXRcbiAgICAgICAgLy8gdGhlbiBkaXNjYXJkIHRoYXQgdmFsdWUsIGFuZCB0YWtlIGxhdGVzdCB2YWx1ZSBmcm9tIHNvdXJjZSBvbmx5XG4gICAgICAgIGlmICh0aGlzLnRhc2sgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudGFzay5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMudGFzayA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RDYWxsID0gdGhpcy5wbGF0Zm9ybS5wZXJmb3JtYW5jZU5vdygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmluZGluZy5oYW5kbGVDaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlLCBmbGFncyk7XG4gICAgfVxuICAgIHVwZGF0ZVNvdXJjZShuZXdWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5xdWV1ZVRhc2soKCkgPT4gdGhpcy5iaW5kaW5nLnVwZGF0ZVNvdXJjZShuZXdWYWx1ZSwgZmxhZ3MpKTtcbiAgICB9XG4gICAgcXVldWVUYXNrKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdHM7XG4gICAgICAgIGNvbnN0IHBsYXRmb3JtID0gdGhpcy5wbGF0Zm9ybTtcbiAgICAgICAgY29uc3QgbmV4dERlbGF5ID0gdGhpcy5sYXN0Q2FsbCArIG9wdHMuZGVsYXkgLSBwbGF0Zm9ybS5wZXJmb3JtYW5jZU5vdygpO1xuICAgICAgICBpZiAobmV4dERlbGF5ID4gMCkge1xuICAgICAgICAgICAgLy8gUXVldWUgdGhlIG5ldyBvbmUgYmVmb3JlIGNhbmNlbGluZyB0aGUgb2xkIG9uZSwgdG8gcHJldmVudCBlYXJseSB5aWVsZFxuICAgICAgICAgICAgY29uc3QgdGFzayA9IHRoaXMudGFzaztcbiAgICAgICAgICAgIG9wdHMuZGVsYXkgPSBuZXh0RGVsYXk7XG4gICAgICAgICAgICB0aGlzLnRhc2sgPSB0aGlzLnRhc2tRdWV1ZS5xdWV1ZVRhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdENhbGwgPSBwbGF0Zm9ybS5wZXJmb3JtYW5jZU5vdygpO1xuICAgICAgICAgICAgICAgIHRoaXMudGFzayA9IG51bGw7XG4gICAgICAgICAgICAgICAgb3B0cy5kZWxheSA9IHRoaXMuZGVsYXk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0sIG9wdHMpO1xuICAgICAgICAgICAgdGFzayA9PT0gbnVsbCB8fCB0YXNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YXNrLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sYXN0Q2FsbCA9IHBsYXRmb3JtLnBlcmZvcm1hbmNlTm93KCk7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgICRiaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0QXJnICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBkZWxheSA9IE51bWJlcih0aGlzLmZpcnN0QXJnLmV2YWx1YXRlKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlLCB0aGlzLmxvY2F0b3IsIG51bGwpKTtcbiAgICAgICAgICAgIHRoaXMub3B0cy5kZWxheSA9IHRoaXMuZGVsYXkgPSBpc05hTihkZWxheSkgPyBkZWZhdWx0RGVsYXkgOiBkZWxheTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJpbmRpbmcuJGJpbmQoZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUpO1xuICAgIH1cbiAgICAkdW5iaW5kKGZsYWdzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy50YXNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMudGFzayA9IG51bGw7XG4gICAgICAgIHN1cGVyLiR1bmJpbmQoZmxhZ3MpO1xuICAgIH1cbn1cbmJpbmRpbmdCZWhhdmlvcigndGhyb3R0bGUnKShUaHJvdHRsZUJpbmRpbmdCZWhhdmlvcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvdHRsZS5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/throttle.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding/attribute.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding/attribute.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AttributeBinding\": () => (/* binding */ AttributeBinding)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _observation_element_attribute_observer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observation/element-attribute-observer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/element-attribute-observer.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _binding_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./binding-utils.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/binding-utils.js\");\n\n\n\n\n// BindingMode is not a const enum (and therefore not inlined), so assigning them to a variable to save a member accessor is a minor perf tweak\nconst { oneTime, toView, fromView } = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode;\n// pre-combining flags for bitwise checks is a minor perf tweak\nconst toViewOrOneTime = toView | oneTime;\nconst taskOptions = {\n    reusable: false,\n    preempt: true,\n};\n/**\n * Attribute binding. Handle attribute binding betwen view/view model. Understand Html special attributes\n */\nclass AttributeBinding {\n    constructor(sourceExpression, target, \n    // some attributes may have inner structure\n    // such as class -> collection of class names\n    // such as style -> collection of style rules\n    //\n    // for normal attributes, targetAttribute and targetProperty are the same and can be ignore\n    targetAttribute, targetProperty, mode, observerLocator, locator) {\n        this.sourceExpression = sourceExpression;\n        this.targetAttribute = targetAttribute;\n        this.targetProperty = targetProperty;\n        this.mode = mode;\n        this.observerLocator = observerLocator;\n        this.locator = locator;\n        this.interceptor = this;\n        this.isBound = false;\n        this.$scope = null;\n        this.$hostScope = null;\n        this.task = null;\n        this.targetSubscriber = null;\n        this.persistentFlags = 0 /* none */;\n        this.value = void 0;\n        this.target = target;\n        this.$platform = locator.get(_platform_js__WEBPACK_IMPORTED_MODULE_2__.IPlatform);\n    }\n    updateTarget(value, flags) {\n        flags |= this.persistentFlags;\n        this.targetObserver.setValue(value, flags, this.target, this.targetProperty);\n    }\n    updateSource(value, flags) {\n        flags |= this.persistentFlags;\n        this.sourceExpression.assign(flags, this.$scope, this.$hostScope, this.locator, value);\n    }\n    handleChange(newValue, _previousValue, flags) {\n        if (!this.isBound) {\n            return;\n        }\n        flags |= this.persistentFlags;\n        const mode = this.mode;\n        const interceptor = this.interceptor;\n        const sourceExpression = this.sourceExpression;\n        const $scope = this.$scope;\n        const locator = this.locator;\n        const targetObserver = this.targetObserver;\n        // Alpha: during bind a simple strategy for bind is always flush immediately\n        // todo:\n        //  (1). determine whether this should be the behavior\n        //  (2). if not, then fix tests to reflect the changes/platform to properly yield all with aurelia.start()\n        const shouldQueueFlush = (flags & 2 /* fromBind */) === 0 && (targetObserver.type & 4 /* Layout */) > 0;\n        if (sourceExpression.$kind !== 10082 /* AccessScope */ || this.obs.count > 1) {\n            const shouldConnect = (mode & oneTime) === 0;\n            if (shouldConnect) {\n                this.obs.version++;\n            }\n            newValue = sourceExpression.evaluate(flags, $scope, this.$hostScope, locator, interceptor);\n            if (shouldConnect) {\n                this.obs.clear(false);\n            }\n        }\n        let task;\n        if (newValue !== this.value) {\n            this.value = newValue;\n            if (shouldQueueFlush) {\n                // Queue the new one before canceling the old one, to prevent early yield\n                task = this.task;\n                this.task = this.$platform.domWriteQueue.queueTask(() => {\n                    this.task = null;\n                    interceptor.updateTarget(newValue, flags);\n                }, taskOptions);\n                task === null || task === void 0 ? void 0 : task.cancel();\n            }\n            else {\n                interceptor.updateTarget(newValue, flags);\n            }\n        }\n    }\n    $bind(flags, scope, hostScope, projection) {\n        var _a;\n        if (this.isBound) {\n            if (this.$scope === scope) {\n                return;\n            }\n            this.interceptor.$unbind(flags | 2 /* fromBind */);\n        }\n        // Store flags which we can only receive during $bind and need to pass on\n        // to the AST during evaluate/connect/assign\n        this.persistentFlags = flags & 961 /* persistentBindingFlags */;\n        this.$scope = scope;\n        this.$hostScope = hostScope;\n        this.projection = projection;\n        let sourceExpression = this.sourceExpression;\n        if (sourceExpression.hasBind) {\n            sourceExpression.bind(flags, scope, hostScope, this.interceptor);\n        }\n        let targetObserver = this.targetObserver;\n        if (!targetObserver) {\n            targetObserver = this.targetObserver = new _observation_element_attribute_observer_js__WEBPACK_IMPORTED_MODULE_1__.AttributeObserver(this.$platform, this.observerLocator, this.target, this.targetProperty, this.targetAttribute);\n        }\n        // during bind, binding behavior might have changed sourceExpression\n        sourceExpression = this.sourceExpression;\n        const $mode = this.mode;\n        const interceptor = this.interceptor;\n        if ($mode & toViewOrOneTime) {\n            const shouldConnect = ($mode & toView) > 0;\n            interceptor.updateTarget(this.value = sourceExpression.evaluate(flags, scope, this.$hostScope, this.locator, shouldConnect ? interceptor : null), flags);\n        }\n        if ($mode & fromView) {\n            targetObserver.subscribe((_a = this.targetSubscriber) !== null && _a !== void 0 ? _a : (this.targetSubscriber = new _binding_utils_js__WEBPACK_IMPORTED_MODULE_3__.BindingTargetSubscriber(interceptor)));\n        }\n        this.isBound = true;\n    }\n    $unbind(flags) {\n        var _a;\n        if (!this.isBound) {\n            return;\n        }\n        // clear persistent flags\n        this.persistentFlags = 0 /* none */;\n        if (this.sourceExpression.hasUnbind) {\n            this.sourceExpression.unbind(flags, this.$scope, this.$hostScope, this.interceptor);\n        }\n        this.$scope\n            = this.$hostScope\n                = null;\n        this.value = void 0;\n        if (this.targetSubscriber) {\n            this.targetObserver.unsubscribe(this.targetSubscriber);\n        }\n        (_a = this.task) === null || _a === void 0 ? void 0 : _a.cancel();\n        this.task = null;\n        this.obs.clear(true);\n        // remove isBound and isUnbinding flags\n        this.isBound = false;\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.connectable)(AttributeBinding);\n//# sourceMappingURL=attribute.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmcvYXR0cmlidXRlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9iaW5kaW5nL2F0dHJpYnV0ZS5qcz9iYjVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJpbmRpbmdNb2RlLCBjb25uZWN0YWJsZSwgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lJztcbmltcG9ydCB7IEF0dHJpYnV0ZU9ic2VydmVyIH0gZnJvbSAnLi4vb2JzZXJ2YXRpb24vZWxlbWVudC1hdHRyaWJ1dGUtb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgSVBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0uanMnO1xuaW1wb3J0IHsgQmluZGluZ1RhcmdldFN1YnNjcmliZXIgfSBmcm9tICcuL2JpbmRpbmctdXRpbHMuanMnO1xuLy8gQmluZGluZ01vZGUgaXMgbm90IGEgY29uc3QgZW51bSAoYW5kIHRoZXJlZm9yZSBub3QgaW5saW5lZCksIHNvIGFzc2lnbmluZyB0aGVtIHRvIGEgdmFyaWFibGUgdG8gc2F2ZSBhIG1lbWJlciBhY2Nlc3NvciBpcyBhIG1pbm9yIHBlcmYgdHdlYWtcbmNvbnN0IHsgb25lVGltZSwgdG9WaWV3LCBmcm9tVmlldyB9ID0gQmluZGluZ01vZGU7XG4vLyBwcmUtY29tYmluaW5nIGZsYWdzIGZvciBiaXR3aXNlIGNoZWNrcyBpcyBhIG1pbm9yIHBlcmYgdHdlYWtcbmNvbnN0IHRvVmlld09yT25lVGltZSA9IHRvVmlldyB8IG9uZVRpbWU7XG5jb25zdCB0YXNrT3B0aW9ucyA9IHtcbiAgICByZXVzYWJsZTogZmFsc2UsXG4gICAgcHJlZW1wdDogdHJ1ZSxcbn07XG4vKipcbiAqIEF0dHJpYnV0ZSBiaW5kaW5nLiBIYW5kbGUgYXR0cmlidXRlIGJpbmRpbmcgYmV0d2VuIHZpZXcvdmlldyBtb2RlbC4gVW5kZXJzdGFuZCBIdG1sIHNwZWNpYWwgYXR0cmlidXRlc1xuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQmluZGluZyB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlRXhwcmVzc2lvbiwgdGFyZ2V0LCBcbiAgICAvLyBzb21lIGF0dHJpYnV0ZXMgbWF5IGhhdmUgaW5uZXIgc3RydWN0dXJlXG4gICAgLy8gc3VjaCBhcyBjbGFzcyAtPiBjb2xsZWN0aW9uIG9mIGNsYXNzIG5hbWVzXG4gICAgLy8gc3VjaCBhcyBzdHlsZSAtPiBjb2xsZWN0aW9uIG9mIHN0eWxlIHJ1bGVzXG4gICAgLy9cbiAgICAvLyBmb3Igbm9ybWFsIGF0dHJpYnV0ZXMsIHRhcmdldEF0dHJpYnV0ZSBhbmQgdGFyZ2V0UHJvcGVydHkgYXJlIHRoZSBzYW1lIGFuZCBjYW4gYmUgaWdub3JlXG4gICAgdGFyZ2V0QXR0cmlidXRlLCB0YXJnZXRQcm9wZXJ0eSwgbW9kZSwgb2JzZXJ2ZXJMb2NhdG9yLCBsb2NhdG9yKSB7XG4gICAgICAgIHRoaXMuc291cmNlRXhwcmVzc2lvbiA9IHNvdXJjZUV4cHJlc3Npb247XG4gICAgICAgIHRoaXMudGFyZ2V0QXR0cmlidXRlID0gdGFyZ2V0QXR0cmlidXRlO1xuICAgICAgICB0aGlzLnRhcmdldFByb3BlcnR5ID0gdGFyZ2V0UHJvcGVydHk7XG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJMb2NhdG9yID0gb2JzZXJ2ZXJMb2NhdG9yO1xuICAgICAgICB0aGlzLmxvY2F0b3IgPSBsb2NhdG9yO1xuICAgICAgICB0aGlzLmludGVyY2VwdG9yID0gdGhpcztcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMuJHNjb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy4kaG9zdFNjb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW50RmxhZ3MgPSAwIC8qIG5vbmUgKi87XG4gICAgICAgIHRoaXMudmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLiRwbGF0Zm9ybSA9IGxvY2F0b3IuZ2V0KElQbGF0Zm9ybSk7XG4gICAgfVxuICAgIHVwZGF0ZVRhcmdldCh2YWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgZmxhZ3MgfD0gdGhpcy5wZXJzaXN0ZW50RmxhZ3M7XG4gICAgICAgIHRoaXMudGFyZ2V0T2JzZXJ2ZXIuc2V0VmFsdWUodmFsdWUsIGZsYWdzLCB0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRQcm9wZXJ0eSk7XG4gICAgfVxuICAgIHVwZGF0ZVNvdXJjZSh2YWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgZmxhZ3MgfD0gdGhpcy5wZXJzaXN0ZW50RmxhZ3M7XG4gICAgICAgIHRoaXMuc291cmNlRXhwcmVzc2lvbi5hc3NpZ24oZmxhZ3MsIHRoaXMuJHNjb3BlLCB0aGlzLiRob3N0U2NvcGUsIHRoaXMubG9jYXRvciwgdmFsdWUpO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UobmV3VmFsdWUsIF9wcmV2aW91c1ZhbHVlLCBmbGFncykge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZsYWdzIHw9IHRoaXMucGVyc2lzdGVudEZsYWdzO1xuICAgICAgICBjb25zdCBtb2RlID0gdGhpcy5tb2RlO1xuICAgICAgICBjb25zdCBpbnRlcmNlcHRvciA9IHRoaXMuaW50ZXJjZXB0b3I7XG4gICAgICAgIGNvbnN0IHNvdXJjZUV4cHJlc3Npb24gPSB0aGlzLnNvdXJjZUV4cHJlc3Npb247XG4gICAgICAgIGNvbnN0ICRzY29wZSA9IHRoaXMuJHNjb3BlO1xuICAgICAgICBjb25zdCBsb2NhdG9yID0gdGhpcy5sb2NhdG9yO1xuICAgICAgICBjb25zdCB0YXJnZXRPYnNlcnZlciA9IHRoaXMudGFyZ2V0T2JzZXJ2ZXI7XG4gICAgICAgIC8vIEFscGhhOiBkdXJpbmcgYmluZCBhIHNpbXBsZSBzdHJhdGVneSBmb3IgYmluZCBpcyBhbHdheXMgZmx1c2ggaW1tZWRpYXRlbHlcbiAgICAgICAgLy8gdG9kbzpcbiAgICAgICAgLy8gICgxKS4gZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBzaG91bGQgYmUgdGhlIGJlaGF2aW9yXG4gICAgICAgIC8vICAoMikuIGlmIG5vdCwgdGhlbiBmaXggdGVzdHMgdG8gcmVmbGVjdCB0aGUgY2hhbmdlcy9wbGF0Zm9ybSB0byBwcm9wZXJseSB5aWVsZCBhbGwgd2l0aCBhdXJlbGlhLnN0YXJ0KClcbiAgICAgICAgY29uc3Qgc2hvdWxkUXVldWVGbHVzaCA9IChmbGFncyAmIDIgLyogZnJvbUJpbmQgKi8pID09PSAwICYmICh0YXJnZXRPYnNlcnZlci50eXBlICYgNCAvKiBMYXlvdXQgKi8pID4gMDtcbiAgICAgICAgaWYgKHNvdXJjZUV4cHJlc3Npb24uJGtpbmQgIT09IDEwMDgyIC8qIEFjY2Vzc1Njb3BlICovIHx8IHRoaXMub2JzLmNvdW50ID4gMSkge1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkQ29ubmVjdCA9IChtb2RlICYgb25lVGltZSkgPT09IDA7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQ29ubmVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzLnZlcnNpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1ZhbHVlID0gc291cmNlRXhwcmVzc2lvbi5ldmFsdWF0ZShmbGFncywgJHNjb3BlLCB0aGlzLiRob3N0U2NvcGUsIGxvY2F0b3IsIGludGVyY2VwdG9yKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRDb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYnMuY2xlYXIoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB0YXNrO1xuICAgICAgICBpZiAobmV3VmFsdWUgIT09IHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIGlmIChzaG91bGRRdWV1ZUZsdXNoKSB7XG4gICAgICAgICAgICAgICAgLy8gUXVldWUgdGhlIG5ldyBvbmUgYmVmb3JlIGNhbmNlbGluZyB0aGUgb2xkIG9uZSwgdG8gcHJldmVudCBlYXJseSB5aWVsZFxuICAgICAgICAgICAgICAgIHRhc2sgPSB0aGlzLnRhc2s7XG4gICAgICAgICAgICAgICAgdGhpcy50YXNrID0gdGhpcy4kcGxhdGZvcm0uZG9tV3JpdGVRdWV1ZS5xdWV1ZVRhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmNlcHRvci51cGRhdGVUYXJnZXQobmV3VmFsdWUsIGZsYWdzKTtcbiAgICAgICAgICAgICAgICB9LCB0YXNrT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGFzayA9PT0gbnVsbCB8fCB0YXNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YXNrLmNhbmNlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW50ZXJjZXB0b3IudXBkYXRlVGFyZ2V0KG5ld1ZhbHVlLCBmbGFncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgJGJpbmQoZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUsIHByb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUgPT09IHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbnRlcmNlcHRvci4kdW5iaW5kKGZsYWdzIHwgMiAvKiBmcm9tQmluZCAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RvcmUgZmxhZ3Mgd2hpY2ggd2UgY2FuIG9ubHkgcmVjZWl2ZSBkdXJpbmcgJGJpbmQgYW5kIG5lZWQgdG8gcGFzcyBvblxuICAgICAgICAvLyB0byB0aGUgQVNUIGR1cmluZyBldmFsdWF0ZS9jb25uZWN0L2Fzc2lnblxuICAgICAgICB0aGlzLnBlcnNpc3RlbnRGbGFncyA9IGZsYWdzICYgOTYxIC8qIHBlcnNpc3RlbnRCaW5kaW5nRmxhZ3MgKi87XG4gICAgICAgIHRoaXMuJHNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuJGhvc3RTY29wZSA9IGhvc3RTY29wZTtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcbiAgICAgICAgbGV0IHNvdXJjZUV4cHJlc3Npb24gPSB0aGlzLnNvdXJjZUV4cHJlc3Npb247XG4gICAgICAgIGlmIChzb3VyY2VFeHByZXNzaW9uLmhhc0JpbmQpIHtcbiAgICAgICAgICAgIHNvdXJjZUV4cHJlc3Npb24uYmluZChmbGFncywgc2NvcGUsIGhvc3RTY29wZSwgdGhpcy5pbnRlcmNlcHRvcik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhcmdldE9ic2VydmVyID0gdGhpcy50YXJnZXRPYnNlcnZlcjtcbiAgICAgICAgaWYgKCF0YXJnZXRPYnNlcnZlcikge1xuICAgICAgICAgICAgdGFyZ2V0T2JzZXJ2ZXIgPSB0aGlzLnRhcmdldE9ic2VydmVyID0gbmV3IEF0dHJpYnV0ZU9ic2VydmVyKHRoaXMuJHBsYXRmb3JtLCB0aGlzLm9ic2VydmVyTG9jYXRvciwgdGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0UHJvcGVydHksIHRoaXMudGFyZ2V0QXR0cmlidXRlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkdXJpbmcgYmluZCwgYmluZGluZyBiZWhhdmlvciBtaWdodCBoYXZlIGNoYW5nZWQgc291cmNlRXhwcmVzc2lvblxuICAgICAgICBzb3VyY2VFeHByZXNzaW9uID0gdGhpcy5zb3VyY2VFeHByZXNzaW9uO1xuICAgICAgICBjb25zdCAkbW9kZSA9IHRoaXMubW9kZTtcbiAgICAgICAgY29uc3QgaW50ZXJjZXB0b3IgPSB0aGlzLmludGVyY2VwdG9yO1xuICAgICAgICBpZiAoJG1vZGUgJiB0b1ZpZXdPck9uZVRpbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZENvbm5lY3QgPSAoJG1vZGUgJiB0b1ZpZXcpID4gMDtcbiAgICAgICAgICAgIGludGVyY2VwdG9yLnVwZGF0ZVRhcmdldCh0aGlzLnZhbHVlID0gc291cmNlRXhwcmVzc2lvbi5ldmFsdWF0ZShmbGFncywgc2NvcGUsIHRoaXMuJGhvc3RTY29wZSwgdGhpcy5sb2NhdG9yLCBzaG91bGRDb25uZWN0ID8gaW50ZXJjZXB0b3IgOiBudWxsKSwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkbW9kZSAmIGZyb21WaWV3KSB7XG4gICAgICAgICAgICB0YXJnZXRPYnNlcnZlci5zdWJzY3JpYmUoKF9hID0gdGhpcy50YXJnZXRTdWJzY3JpYmVyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAodGhpcy50YXJnZXRTdWJzY3JpYmVyID0gbmV3IEJpbmRpbmdUYXJnZXRTdWJzY3JpYmVyKGludGVyY2VwdG9yKSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IHRydWU7XG4gICAgfVxuICAgICR1bmJpbmQoZmxhZ3MpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNsZWFyIHBlcnNpc3RlbnQgZmxhZ3NcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW50RmxhZ3MgPSAwIC8qIG5vbmUgKi87XG4gICAgICAgIGlmICh0aGlzLnNvdXJjZUV4cHJlc3Npb24uaGFzVW5iaW5kKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUV4cHJlc3Npb24udW5iaW5kKGZsYWdzLCB0aGlzLiRzY29wZSwgdGhpcy4kaG9zdFNjb3BlLCB0aGlzLmludGVyY2VwdG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRzY29wZVxuICAgICAgICAgICAgPSB0aGlzLiRob3N0U2NvcGVcbiAgICAgICAgICAgICAgICA9IG51bGw7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0T2JzZXJ2ZXIudW5zdWJzY3JpYmUodGhpcy50YXJnZXRTdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICAoX2EgPSB0aGlzLnRhc2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWwoKTtcbiAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXIodHJ1ZSk7XG4gICAgICAgIC8vIHJlbW92ZSBpc0JvdW5kIGFuZCBpc1VuYmluZGluZyBmbGFnc1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICB9XG59XG5jb25uZWN0YWJsZShBdHRyaWJ1dGVCaW5kaW5nKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF0dHJpYnV0ZS5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding/attribute.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding/binding-utils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding/binding-utils.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BindingTargetSubscriber\": () => (/* binding */ BindingTargetSubscriber)\n/* harmony export */ });\n/**\n * A subscriber that is used for subcribing to target observer & invoking `updateSource` on a binding\n */\nclass BindingTargetSubscriber {\n    constructor(b) {\n        this.b = b;\n    }\n    // deepscan-disable-next-line\n    handleChange(value, _, flags) {\n        const b = this.b;\n        if (value !== b.sourceExpression.evaluate(flags, b.$scope, b.$hostScope, b.locator, null)) {\n            b.updateSource(value, flags);\n        }\n    }\n}\n//# sourceMappingURL=binding-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmcvYmluZGluZy11dGlscy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vYmluZGluZy9iaW5kaW5nLXV0aWxzLmpzPzZkNmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIHN1YnNjcmliZXIgdGhhdCBpcyB1c2VkIGZvciBzdWJjcmliaW5nIHRvIHRhcmdldCBvYnNlcnZlciAmIGludm9raW5nIGB1cGRhdGVTb3VyY2VgIG9uIGEgYmluZGluZ1xuICovXG5leHBvcnQgY2xhc3MgQmluZGluZ1RhcmdldFN1YnNjcmliZXIge1xuICAgIGNvbnN0cnVjdG9yKGIpIHtcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICB9XG4gICAgLy8gZGVlcHNjYW4tZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBoYW5kbGVDaGFuZ2UodmFsdWUsIF8sIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLmI7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gYi5zb3VyY2VFeHByZXNzaW9uLmV2YWx1YXRlKGZsYWdzLCBiLiRzY29wZSwgYi4kaG9zdFNjb3BlLCBiLmxvY2F0b3IsIG51bGwpKSB7XG4gICAgICAgICAgICBiLnVwZGF0ZVNvdXJjZSh2YWx1ZSwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmluZGluZy11dGlscy5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding/binding-utils.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding/call-binding.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding/call-binding.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CallBinding\": () => (/* binding */ CallBinding)\n/* harmony export */ });\nclass CallBinding {\n    constructor(sourceExpression, target, targetProperty, observerLocator, locator) {\n        this.sourceExpression = sourceExpression;\n        this.target = target;\n        this.targetProperty = targetProperty;\n        this.locator = locator;\n        this.interceptor = this;\n        this.isBound = false;\n        this.$hostScope = null;\n        this.targetObserver = observerLocator.getObserver(target, targetProperty);\n    }\n    callSource(args) {\n        const overrideContext = this.$scope.overrideContext;\n        // really need to delete the following line\n        // and the for..in loop below\n        // convenience in the template won't outweight the draw back of such confusing feature\n        // OR, at the very least, use getter/setter for each property in args to get/set original source\n        // ---\n        Object.assign(overrideContext, args);\n        const result = this.sourceExpression.evaluate(8 /* mustEvaluate */, this.$scope, this.$hostScope, this.locator, null);\n        for (const prop in args) {\n            Reflect.deleteProperty(overrideContext, prop);\n        }\n        return result;\n    }\n    $bind(flags, scope, hostScope) {\n        if (this.isBound) {\n            if (this.$scope === scope) {\n                return;\n            }\n            this.interceptor.$unbind(flags | 2 /* fromBind */);\n        }\n        this.$scope = scope;\n        this.$hostScope = hostScope;\n        if (this.sourceExpression.hasBind) {\n            this.sourceExpression.bind(flags, scope, hostScope, this.interceptor);\n        }\n        this.targetObserver.setValue(($args) => this.interceptor.callSource($args), flags, this.target, this.targetProperty);\n        // add isBound flag and remove isBinding flag\n        this.isBound = true;\n    }\n    $unbind(flags) {\n        if (!this.isBound) {\n            return;\n        }\n        if (this.sourceExpression.hasUnbind) {\n            this.sourceExpression.unbind(flags, this.$scope, this.$hostScope, this.interceptor);\n        }\n        this.$scope = void 0;\n        this.targetObserver.setValue(null, flags, this.target, this.targetProperty);\n        this.isBound = false;\n    }\n    observeProperty(obj, propertyName) {\n        return;\n    }\n    handleChange(newValue, previousValue, flags) {\n        return;\n    }\n}\n//# sourceMappingURL=call-binding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmcvY2FsbC1iaW5kaW5nLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9iaW5kaW5nL2NhbGwtYmluZGluZy5qcz8xYmY4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDYWxsQmluZGluZyB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlRXhwcmVzc2lvbiwgdGFyZ2V0LCB0YXJnZXRQcm9wZXJ0eSwgb2JzZXJ2ZXJMb2NhdG9yLCBsb2NhdG9yKSB7XG4gICAgICAgIHRoaXMuc291cmNlRXhwcmVzc2lvbiA9IHNvdXJjZUV4cHJlc3Npb247XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLnRhcmdldFByb3BlcnR5ID0gdGFyZ2V0UHJvcGVydHk7XG4gICAgICAgIHRoaXMubG9jYXRvciA9IGxvY2F0b3I7XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0b3IgPSB0aGlzO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy4kaG9zdFNjb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXRPYnNlcnZlciA9IG9ic2VydmVyTG9jYXRvci5nZXRPYnNlcnZlcih0YXJnZXQsIHRhcmdldFByb3BlcnR5KTtcbiAgICB9XG4gICAgY2FsbFNvdXJjZShhcmdzKSB7XG4gICAgICAgIGNvbnN0IG92ZXJyaWRlQ29udGV4dCA9IHRoaXMuJHNjb3BlLm92ZXJyaWRlQ29udGV4dDtcbiAgICAgICAgLy8gcmVhbGx5IG5lZWQgdG8gZGVsZXRlIHRoZSBmb2xsb3dpbmcgbGluZVxuICAgICAgICAvLyBhbmQgdGhlIGZvci4uaW4gbG9vcCBiZWxvd1xuICAgICAgICAvLyBjb252ZW5pZW5jZSBpbiB0aGUgdGVtcGxhdGUgd29uJ3Qgb3V0d2VpZ2h0IHRoZSBkcmF3IGJhY2sgb2Ygc3VjaCBjb25mdXNpbmcgZmVhdHVyZVxuICAgICAgICAvLyBPUiwgYXQgdGhlIHZlcnkgbGVhc3QsIHVzZSBnZXR0ZXIvc2V0dGVyIGZvciBlYWNoIHByb3BlcnR5IGluIGFyZ3MgdG8gZ2V0L3NldCBvcmlnaW5hbCBzb3VyY2VcbiAgICAgICAgLy8gLS0tXG4gICAgICAgIE9iamVjdC5hc3NpZ24ob3ZlcnJpZGVDb250ZXh0LCBhcmdzKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zb3VyY2VFeHByZXNzaW9uLmV2YWx1YXRlKDggLyogbXVzdEV2YWx1YXRlICovLCB0aGlzLiRzY29wZSwgdGhpcy4kaG9zdFNjb3BlLCB0aGlzLmxvY2F0b3IsIG51bGwpO1xuICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gYXJncykge1xuICAgICAgICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShvdmVycmlkZUNvbnRleHQsIHByb3ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgICRiaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiRzY29wZSA9PT0gc2NvcGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmludGVyY2VwdG9yLiR1bmJpbmQoZmxhZ3MgfCAyIC8qIGZyb21CaW5kICovKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRzY29wZSA9IHNjb3BlO1xuICAgICAgICB0aGlzLiRob3N0U2NvcGUgPSBob3N0U2NvcGU7XG4gICAgICAgIGlmICh0aGlzLnNvdXJjZUV4cHJlc3Npb24uaGFzQmluZCkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VFeHByZXNzaW9uLmJpbmQoZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUsIHRoaXMuaW50ZXJjZXB0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFyZ2V0T2JzZXJ2ZXIuc2V0VmFsdWUoKCRhcmdzKSA9PiB0aGlzLmludGVyY2VwdG9yLmNhbGxTb3VyY2UoJGFyZ3MpLCBmbGFncywgdGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0UHJvcGVydHkpO1xuICAgICAgICAvLyBhZGQgaXNCb3VuZCBmbGFnIGFuZCByZW1vdmUgaXNCaW5kaW5nIGZsYWdcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICB9XG4gICAgJHVuYmluZChmbGFncykge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNvdXJjZUV4cHJlc3Npb24uaGFzVW5iaW5kKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUV4cHJlc3Npb24udW5iaW5kKGZsYWdzLCB0aGlzLiRzY29wZSwgdGhpcy4kaG9zdFNjb3BlLCB0aGlzLmludGVyY2VwdG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRzY29wZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy50YXJnZXRPYnNlcnZlci5zZXRWYWx1ZShudWxsLCBmbGFncywgdGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0UHJvcGVydHkpO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICB9XG4gICAgb2JzZXJ2ZVByb3BlcnR5KG9iaiwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKG5ld1ZhbHVlLCBwcmV2aW91c1ZhbHVlLCBmbGFncykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsbC1iaW5kaW5nLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding/call-binding.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding/interpolation-binding.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding/interpolation-binding.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InterpolationBinding\": () => (/* binding */ InterpolationBinding),\n/* harmony export */   \"InterpolationPartBinding\": () => (/* binding */ InterpolationPartBinding),\n/* harmony export */   \"ContentBinding\": () => (/* binding */ ContentBinding)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n\nconst { toView } = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode;\nconst queueTaskOptions = {\n    reusable: false,\n    preempt: true,\n};\n// a pseudo binding to manage multiple InterpolationBinding s\n// ========\n// Note: the child expressions of an Interpolation expression are full Aurelia expressions, meaning they may include\n// value converters and binding behaviors.\n// Each expression represents one ${interpolation}, and for each we create a child TextBinding unless there is only one,\n// in which case the renderer will create the TextBinding directly\nclass InterpolationBinding {\n    constructor(observerLocator, interpolation, target, targetProperty, mode, locator, taskQueue) {\n        this.observerLocator = observerLocator;\n        this.interpolation = interpolation;\n        this.target = target;\n        this.targetProperty = targetProperty;\n        this.mode = mode;\n        this.locator = locator;\n        this.taskQueue = taskQueue;\n        this.interceptor = this;\n        this.isBound = false;\n        this.$scope = void 0;\n        this.$hostScope = null;\n        this.task = null;\n        this.targetObserver = observerLocator.getAccessor(target, targetProperty);\n        const expressions = interpolation.expressions;\n        const partBindings = this.partBindings = Array(expressions.length);\n        for (let i = 0, ii = expressions.length; i < ii; ++i) {\n            partBindings[i] = new InterpolationPartBinding(expressions[i], target, targetProperty, locator, observerLocator, this);\n        }\n    }\n    updateTarget(value, flags) {\n        const partBindings = this.partBindings;\n        const staticParts = this.interpolation.parts;\n        const ii = partBindings.length;\n        let result = '';\n        if (ii === 1) {\n            result = staticParts[0] + partBindings[0].value + staticParts[1];\n        }\n        else {\n            result = staticParts[0];\n            for (let i = 0; ii > i; ++i) {\n                result += partBindings[i].value + staticParts[i + 1];\n            }\n        }\n        const targetObserver = this.targetObserver;\n        // Alpha: during bind a simple strategy for bind is always flush immediately\n        // todo:\n        //  (1). determine whether this should be the behavior\n        //  (2). if not, then fix tests to reflect the changes/platform to properly yield all with aurelia.start().wait()\n        const shouldQueueFlush = (flags & 2 /* fromBind */) === 0 && (targetObserver.type & 4 /* Layout */) > 0;\n        if (shouldQueueFlush) {\n            // Queue the new one before canceling the old one, to prevent early yield\n            const task = this.task;\n            this.task = this.taskQueue.queueTask(() => {\n                this.task = null;\n                targetObserver.setValue(result, flags, this.target, this.targetProperty);\n            }, queueTaskOptions);\n            task === null || task === void 0 ? void 0 : task.cancel();\n        }\n        else {\n            targetObserver.setValue(result, flags, this.target, this.targetProperty);\n        }\n    }\n    $bind(flags, scope, hostScope) {\n        if (this.isBound) {\n            if (this.$scope === scope) {\n                return;\n            }\n            this.interceptor.$unbind(flags);\n        }\n        this.isBound = true;\n        this.$scope = scope;\n        const partBindings = this.partBindings;\n        for (let i = 0, ii = partBindings.length; ii > i; ++i) {\n            partBindings[i].$bind(flags, scope, hostScope);\n        }\n        this.updateTarget(void 0, flags);\n    }\n    $unbind(flags) {\n        var _a;\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        this.$scope = void 0;\n        const partBindings = this.partBindings;\n        for (let i = 0, ii = partBindings.length; i < ii; ++i) {\n            partBindings[i].interceptor.$unbind(flags);\n        }\n        (_a = this.task) === null || _a === void 0 ? void 0 : _a.cancel();\n        this.task = null;\n    }\n}\nclass InterpolationPartBinding {\n    constructor(sourceExpression, target, targetProperty, locator, observerLocator, owner) {\n        this.sourceExpression = sourceExpression;\n        this.target = target;\n        this.targetProperty = targetProperty;\n        this.locator = locator;\n        this.observerLocator = observerLocator;\n        this.owner = owner;\n        this.interceptor = this;\n        // at runtime, mode may be overriden by binding behavior\n        // but it wouldn't matter here, just start with something for later check\n        this.mode = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode.toView;\n        this.value = '';\n        this.$hostScope = null;\n        this.task = null;\n        this.isBound = false;\n    }\n    handleChange(newValue, oldValue, flags) {\n        if (!this.isBound) {\n            return;\n        }\n        const sourceExpression = this.sourceExpression;\n        const obsRecord = this.obs;\n        const canOptimize = sourceExpression.$kind === 10082 /* AccessScope */ && obsRecord.count === 1;\n        if (!canOptimize) {\n            const shouldConnect = (this.mode & toView) > 0;\n            if (shouldConnect) {\n                obsRecord.version++;\n            }\n            newValue = sourceExpression.evaluate(flags, this.$scope, this.$hostScope, this.locator, shouldConnect ? this.interceptor : null);\n            if (shouldConnect) {\n                obsRecord.clear(false);\n            }\n        }\n        if (newValue != this.value) {\n            this.value = newValue;\n            if (newValue instanceof Array) {\n                this.observeCollection(newValue);\n            }\n            this.owner.updateTarget(newValue, flags);\n        }\n    }\n    handleCollectionChange(indexMap, flags) {\n        this.owner.updateTarget(void 0, flags);\n    }\n    $bind(flags, scope, hostScope) {\n        if (this.isBound) {\n            if (this.$scope === scope) {\n                return;\n            }\n            this.interceptor.$unbind(flags);\n        }\n        this.isBound = true;\n        this.$scope = scope;\n        this.$hostScope = hostScope;\n        if (this.sourceExpression.hasBind) {\n            this.sourceExpression.bind(flags, scope, hostScope, this.interceptor);\n        }\n        const v = this.value = this.sourceExpression.evaluate(flags, scope, hostScope, this.locator, (this.mode & toView) > 0 ? this.interceptor : null);\n        if (v instanceof Array) {\n            this.observeCollection(v);\n        }\n    }\n    $unbind(flags) {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        if (this.sourceExpression.hasUnbind) {\n            this.sourceExpression.unbind(flags, this.$scope, this.$hostScope, this.interceptor);\n        }\n        this.$scope = void 0;\n        this.$hostScope = null;\n        this.obs.clear(true);\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.connectable)(InterpolationPartBinding);\n/**\n * A binding for handling the element content interpolation\n */\nclass ContentBinding {\n    constructor(sourceExpression, target, locator, observerLocator, p) {\n        this.sourceExpression = sourceExpression;\n        this.target = target;\n        this.locator = locator;\n        this.observerLocator = observerLocator;\n        this.p = p;\n        this.interceptor = this;\n        // at runtime, mode may be overriden by binding behavior\n        // but it wouldn't matter here, just start with something for later check\n        this.mode = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode.toView;\n        this.value = '';\n        this.$hostScope = null;\n        this.task = null;\n        this.isBound = false;\n    }\n    updateTarget(value, flags) {\n        var _a, _b;\n        const target = this.target;\n        const NodeCtor = this.p.Node;\n        const oldValue = this.value;\n        this.value = value;\n        if (oldValue instanceof NodeCtor) {\n            (_a = oldValue.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(oldValue);\n        }\n        if (value instanceof NodeCtor) {\n            target.textContent = '';\n            (_b = target.parentNode) === null || _b === void 0 ? void 0 : _b.insertBefore(value, target);\n        }\n        else {\n            target.textContent = String(value);\n        }\n    }\n    handleChange(newValue, oldValue, flags) {\n        var _a;\n        if (!this.isBound) {\n            return;\n        }\n        const sourceExpression = this.sourceExpression;\n        const obsRecord = this.obs;\n        const canOptimize = sourceExpression.$kind === 10082 /* AccessScope */ && obsRecord.count === 1;\n        if (!canOptimize) {\n            const shouldConnect = (this.mode & toView) > 0;\n            if (shouldConnect) {\n                obsRecord.version++;\n            }\n            newValue = sourceExpression.evaluate(flags, this.$scope, this.$hostScope, this.locator, shouldConnect ? this.interceptor : null);\n            if (shouldConnect) {\n                obsRecord.clear(false);\n            }\n        }\n        if (newValue === this.value) {\n            // in a frequent update, e.g collection mutation in a loop\n            // value could be changing frequently and previous update task may be stale at this point\n            // cancel if any task going on because the latest value is already the same\n            (_a = this.task) === null || _a === void 0 ? void 0 : _a.cancel();\n            this.task = null;\n            return;\n        }\n        // Alpha: during bind a simple strategy for bind is always flush immediately\n        // todo:\n        //  (1). determine whether this should be the behavior\n        //  (2). if not, then fix tests to reflect the changes/platform to properly yield all with aurelia.start().wait()\n        const shouldQueueFlush = (flags & 2 /* fromBind */) === 0;\n        if (shouldQueueFlush) {\n            this.queueUpdate(newValue, flags);\n        }\n        else {\n            this.updateTarget(newValue, flags);\n        }\n    }\n    handleCollectionChange() {\n        this.queueUpdate(String(this.value), 0 /* none */);\n    }\n    $bind(flags, scope, hostScope) {\n        if (this.isBound) {\n            if (this.$scope === scope) {\n                return;\n            }\n            this.interceptor.$unbind(flags);\n        }\n        this.isBound = true;\n        this.$scope = scope;\n        this.$hostScope = hostScope;\n        if (this.sourceExpression.hasBind) {\n            this.sourceExpression.bind(flags, scope, hostScope, this.interceptor);\n        }\n        const v = this.value = this.sourceExpression.evaluate(flags, scope, hostScope, this.locator, (this.mode & toView) > 0 ? this.interceptor : null);\n        if (v instanceof Array) {\n            this.observeCollection(v);\n        }\n        this.updateTarget(v, flags);\n    }\n    $unbind(flags) {\n        var _a;\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        if (this.sourceExpression.hasUnbind) {\n            this.sourceExpression.unbind(flags, this.$scope, this.$hostScope, this.interceptor);\n        }\n        // TODO: should existing value (either connected node, or a string)\n        // be removed when this binding is unbound?\n        // this.updateTarget('', flags);\n        this.$scope = void 0;\n        this.$hostScope = null;\n        this.obs.clear(true);\n        (_a = this.task) === null || _a === void 0 ? void 0 : _a.cancel();\n        this.task = null;\n    }\n    queueUpdate(newValue, flags) {\n        const task = this.task;\n        this.task = this.p.domWriteQueue.queueTask(() => {\n            this.task = null;\n            this.updateTarget(newValue, flags);\n        }, queueTaskOptions);\n        task === null || task === void 0 ? void 0 : task.cancel();\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.connectable)(ContentBinding);\n//# sourceMappingURL=interpolation-binding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmcvaW50ZXJwb2xhdGlvbi1iaW5kaW5nLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9iaW5kaW5nL2ludGVycG9sYXRpb24tYmluZGluZy5qcz8wMjcyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJpbmRpbmdNb2RlLCBjb25uZWN0YWJsZSwgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lJztcbmNvbnN0IHsgdG9WaWV3IH0gPSBCaW5kaW5nTW9kZTtcbmNvbnN0IHF1ZXVlVGFza09wdGlvbnMgPSB7XG4gICAgcmV1c2FibGU6IGZhbHNlLFxuICAgIHByZWVtcHQ6IHRydWUsXG59O1xuLy8gYSBwc2V1ZG8gYmluZGluZyB0byBtYW5hZ2UgbXVsdGlwbGUgSW50ZXJwb2xhdGlvbkJpbmRpbmcgc1xuLy8gPT09PT09PT1cbi8vIE5vdGU6IHRoZSBjaGlsZCBleHByZXNzaW9ucyBvZiBhbiBJbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24gYXJlIGZ1bGwgQXVyZWxpYSBleHByZXNzaW9ucywgbWVhbmluZyB0aGV5IG1heSBpbmNsdWRlXG4vLyB2YWx1ZSBjb252ZXJ0ZXJzIGFuZCBiaW5kaW5nIGJlaGF2aW9ycy5cbi8vIEVhY2ggZXhwcmVzc2lvbiByZXByZXNlbnRzIG9uZSAke2ludGVycG9sYXRpb259LCBhbmQgZm9yIGVhY2ggd2UgY3JlYXRlIGEgY2hpbGQgVGV4dEJpbmRpbmcgdW5sZXNzIHRoZXJlIGlzIG9ubHkgb25lLFxuLy8gaW4gd2hpY2ggY2FzZSB0aGUgcmVuZGVyZXIgd2lsbCBjcmVhdGUgdGhlIFRleHRCaW5kaW5nIGRpcmVjdGx5XG5leHBvcnQgY2xhc3MgSW50ZXJwb2xhdGlvbkJpbmRpbmcge1xuICAgIGNvbnN0cnVjdG9yKG9ic2VydmVyTG9jYXRvciwgaW50ZXJwb2xhdGlvbiwgdGFyZ2V0LCB0YXJnZXRQcm9wZXJ0eSwgbW9kZSwgbG9jYXRvciwgdGFza1F1ZXVlKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJMb2NhdG9yID0gb2JzZXJ2ZXJMb2NhdG9yO1xuICAgICAgICB0aGlzLmludGVycG9sYXRpb24gPSBpbnRlcnBvbGF0aW9uO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy50YXJnZXRQcm9wZXJ0eSA9IHRhcmdldFByb3BlcnR5O1xuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgICB0aGlzLmxvY2F0b3IgPSBsb2NhdG9yO1xuICAgICAgICB0aGlzLnRhc2tRdWV1ZSA9IHRhc2tRdWV1ZTtcbiAgICAgICAgdGhpcy5pbnRlcmNlcHRvciA9IHRoaXM7XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLiRzY29wZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy4kaG9zdFNjb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXRPYnNlcnZlciA9IG9ic2VydmVyTG9jYXRvci5nZXRBY2Nlc3Nvcih0YXJnZXQsIHRhcmdldFByb3BlcnR5KTtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbnMgPSBpbnRlcnBvbGF0aW9uLmV4cHJlc3Npb25zO1xuICAgICAgICBjb25zdCBwYXJ0QmluZGluZ3MgPSB0aGlzLnBhcnRCaW5kaW5ncyA9IEFycmF5KGV4cHJlc3Npb25zLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGV4cHJlc3Npb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHBhcnRCaW5kaW5nc1tpXSA9IG5ldyBJbnRlcnBvbGF0aW9uUGFydEJpbmRpbmcoZXhwcmVzc2lvbnNbaV0sIHRhcmdldCwgdGFyZ2V0UHJvcGVydHksIGxvY2F0b3IsIG9ic2VydmVyTG9jYXRvciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlVGFyZ2V0KHZhbHVlLCBmbGFncykge1xuICAgICAgICBjb25zdCBwYXJ0QmluZGluZ3MgPSB0aGlzLnBhcnRCaW5kaW5ncztcbiAgICAgICAgY29uc3Qgc3RhdGljUGFydHMgPSB0aGlzLmludGVycG9sYXRpb24ucGFydHM7XG4gICAgICAgIGNvbnN0IGlpID0gcGFydEJpbmRpbmdzLmxlbmd0aDtcbiAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgICAgICBpZiAoaWkgPT09IDEpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN0YXRpY1BhcnRzWzBdICsgcGFydEJpbmRpbmdzWzBdLnZhbHVlICsgc3RhdGljUGFydHNbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBzdGF0aWNQYXJ0c1swXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpaSA+IGk7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBwYXJ0QmluZGluZ3NbaV0udmFsdWUgKyBzdGF0aWNQYXJ0c1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0T2JzZXJ2ZXIgPSB0aGlzLnRhcmdldE9ic2VydmVyO1xuICAgICAgICAvLyBBbHBoYTogZHVyaW5nIGJpbmQgYSBzaW1wbGUgc3RyYXRlZ3kgZm9yIGJpbmQgaXMgYWx3YXlzIGZsdXNoIGltbWVkaWF0ZWx5XG4gICAgICAgIC8vIHRvZG86XG4gICAgICAgIC8vICAoMSkuIGRldGVybWluZSB3aGV0aGVyIHRoaXMgc2hvdWxkIGJlIHRoZSBiZWhhdmlvclxuICAgICAgICAvLyAgKDIpLiBpZiBub3QsIHRoZW4gZml4IHRlc3RzIHRvIHJlZmxlY3QgdGhlIGNoYW5nZXMvcGxhdGZvcm0gdG8gcHJvcGVybHkgeWllbGQgYWxsIHdpdGggYXVyZWxpYS5zdGFydCgpLndhaXQoKVxuICAgICAgICBjb25zdCBzaG91bGRRdWV1ZUZsdXNoID0gKGZsYWdzICYgMiAvKiBmcm9tQmluZCAqLykgPT09IDAgJiYgKHRhcmdldE9ic2VydmVyLnR5cGUgJiA0IC8qIExheW91dCAqLykgPiAwO1xuICAgICAgICBpZiAoc2hvdWxkUXVldWVGbHVzaCkge1xuICAgICAgICAgICAgLy8gUXVldWUgdGhlIG5ldyBvbmUgYmVmb3JlIGNhbmNlbGluZyB0aGUgb2xkIG9uZSwgdG8gcHJldmVudCBlYXJseSB5aWVsZFxuICAgICAgICAgICAgY29uc3QgdGFzayA9IHRoaXMudGFzaztcbiAgICAgICAgICAgIHRoaXMudGFzayA9IHRoaXMudGFza1F1ZXVlLnF1ZXVlVGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0YXJnZXRPYnNlcnZlci5zZXRWYWx1ZShyZXN1bHQsIGZsYWdzLCB0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRQcm9wZXJ0eSk7XG4gICAgICAgICAgICB9LCBxdWV1ZVRhc2tPcHRpb25zKTtcbiAgICAgICAgICAgIHRhc2sgPT09IG51bGwgfHwgdGFzayA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFzay5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldE9ic2VydmVyLnNldFZhbHVlKHJlc3VsdCwgZmxhZ3MsIHRoaXMudGFyZ2V0LCB0aGlzLnRhcmdldFByb3BlcnR5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAkYmluZChmbGFncywgc2NvcGUsIGhvc3RTY29wZSkge1xuICAgICAgICBpZiAodGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUgPT09IHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbnRlcmNlcHRvci4kdW5iaW5kKGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQm91bmQgPSB0cnVlO1xuICAgICAgICB0aGlzLiRzY29wZSA9IHNjb3BlO1xuICAgICAgICBjb25zdCBwYXJ0QmluZGluZ3MgPSB0aGlzLnBhcnRCaW5kaW5ncztcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gcGFydEJpbmRpbmdzLmxlbmd0aDsgaWkgPiBpOyArK2kpIHtcbiAgICAgICAgICAgIHBhcnRCaW5kaW5nc1tpXS4kYmluZChmbGFncywgc2NvcGUsIGhvc3RTY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQodm9pZCAwLCBmbGFncyk7XG4gICAgfVxuICAgICR1bmJpbmQoZmxhZ3MpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLiRzY29wZSA9IHZvaWQgMDtcbiAgICAgICAgY29uc3QgcGFydEJpbmRpbmdzID0gdGhpcy5wYXJ0QmluZGluZ3M7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHBhcnRCaW5kaW5ncy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBwYXJ0QmluZGluZ3NbaV0uaW50ZXJjZXB0b3IuJHVuYmluZChmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgKF9hID0gdGhpcy50YXNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMudGFzayA9IG51bGw7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludGVycG9sYXRpb25QYXJ0QmluZGluZyB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlRXhwcmVzc2lvbiwgdGFyZ2V0LCB0YXJnZXRQcm9wZXJ0eSwgbG9jYXRvciwgb2JzZXJ2ZXJMb2NhdG9yLCBvd25lcikge1xuICAgICAgICB0aGlzLnNvdXJjZUV4cHJlc3Npb24gPSBzb3VyY2VFeHByZXNzaW9uO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy50YXJnZXRQcm9wZXJ0eSA9IHRhcmdldFByb3BlcnR5O1xuICAgICAgICB0aGlzLmxvY2F0b3IgPSBsb2NhdG9yO1xuICAgICAgICB0aGlzLm9ic2VydmVyTG9jYXRvciA9IG9ic2VydmVyTG9jYXRvcjtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLmludGVyY2VwdG9yID0gdGhpcztcbiAgICAgICAgLy8gYXQgcnVudGltZSwgbW9kZSBtYXkgYmUgb3ZlcnJpZGVuIGJ5IGJpbmRpbmcgYmVoYXZpb3JcbiAgICAgICAgLy8gYnV0IGl0IHdvdWxkbid0IG1hdHRlciBoZXJlLCBqdXN0IHN0YXJ0IHdpdGggc29tZXRoaW5nIGZvciBsYXRlciBjaGVja1xuICAgICAgICB0aGlzLm1vZGUgPSBCaW5kaW5nTW9kZS50b1ZpZXc7XG4gICAgICAgIHRoaXMudmFsdWUgPSAnJztcbiAgICAgICAgdGhpcy4kaG9zdFNjb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZShuZXdWYWx1ZSwgb2xkVmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc291cmNlRXhwcmVzc2lvbiA9IHRoaXMuc291cmNlRXhwcmVzc2lvbjtcbiAgICAgICAgY29uc3Qgb2JzUmVjb3JkID0gdGhpcy5vYnM7XG4gICAgICAgIGNvbnN0IGNhbk9wdGltaXplID0gc291cmNlRXhwcmVzc2lvbi4ka2luZCA9PT0gMTAwODIgLyogQWNjZXNzU2NvcGUgKi8gJiYgb2JzUmVjb3JkLmNvdW50ID09PSAxO1xuICAgICAgICBpZiAoIWNhbk9wdGltaXplKSB7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRDb25uZWN0ID0gKHRoaXMubW9kZSAmIHRvVmlldykgPiAwO1xuICAgICAgICAgICAgaWYgKHNob3VsZENvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICBvYnNSZWNvcmQudmVyc2lvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2VFeHByZXNzaW9uLmV2YWx1YXRlKGZsYWdzLCB0aGlzLiRzY29wZSwgdGhpcy4kaG9zdFNjb3BlLCB0aGlzLmxvY2F0b3IsIHNob3VsZENvbm5lY3QgPyB0aGlzLmludGVyY2VwdG9yIDogbnVsbCk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQ29ubmVjdCkge1xuICAgICAgICAgICAgICAgIG9ic1JlY29yZC5jbGVhcihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9IHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIGlmIChuZXdWYWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlQ29sbGVjdGlvbihuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm93bmVyLnVwZGF0ZVRhcmdldChuZXdWYWx1ZSwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoaW5kZXhNYXAsIGZsYWdzKSB7XG4gICAgICAgIHRoaXMub3duZXIudXBkYXRlVGFyZ2V0KHZvaWQgMCwgZmxhZ3MpO1xuICAgIH1cbiAgICAkYmluZChmbGFncywgc2NvcGUsIGhvc3RTY29wZSkge1xuICAgICAgICBpZiAodGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUgPT09IHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbnRlcmNlcHRvci4kdW5iaW5kKGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQm91bmQgPSB0cnVlO1xuICAgICAgICB0aGlzLiRzY29wZSA9IHNjb3BlO1xuICAgICAgICB0aGlzLiRob3N0U2NvcGUgPSBob3N0U2NvcGU7XG4gICAgICAgIGlmICh0aGlzLnNvdXJjZUV4cHJlc3Npb24uaGFzQmluZCkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VFeHByZXNzaW9uLmJpbmQoZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUsIHRoaXMuaW50ZXJjZXB0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHYgPSB0aGlzLnZhbHVlID0gdGhpcy5zb3VyY2VFeHByZXNzaW9uLmV2YWx1YXRlKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlLCB0aGlzLmxvY2F0b3IsICh0aGlzLm1vZGUgJiB0b1ZpZXcpID4gMCA/IHRoaXMuaW50ZXJjZXB0b3IgOiBudWxsKTtcbiAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlQ29sbGVjdGlvbih2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAkdW5iaW5kKGZsYWdzKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnNvdXJjZUV4cHJlc3Npb24uaGFzVW5iaW5kKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUV4cHJlc3Npb24udW5iaW5kKGZsYWdzLCB0aGlzLiRzY29wZSwgdGhpcy4kaG9zdFNjb3BlLCB0aGlzLmludGVyY2VwdG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRzY29wZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy4kaG9zdFNjb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXIodHJ1ZSk7XG4gICAgfVxufVxuY29ubmVjdGFibGUoSW50ZXJwb2xhdGlvblBhcnRCaW5kaW5nKTtcbi8qKlxuICogQSBiaW5kaW5nIGZvciBoYW5kbGluZyB0aGUgZWxlbWVudCBjb250ZW50IGludGVycG9sYXRpb25cbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRlbnRCaW5kaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VFeHByZXNzaW9uLCB0YXJnZXQsIGxvY2F0b3IsIG9ic2VydmVyTG9jYXRvciwgcCkge1xuICAgICAgICB0aGlzLnNvdXJjZUV4cHJlc3Npb24gPSBzb3VyY2VFeHByZXNzaW9uO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5sb2NhdG9yID0gbG9jYXRvcjtcbiAgICAgICAgdGhpcy5vYnNlcnZlckxvY2F0b3IgPSBvYnNlcnZlckxvY2F0b3I7XG4gICAgICAgIHRoaXMucCA9IHA7XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0b3IgPSB0aGlzO1xuICAgICAgICAvLyBhdCBydW50aW1lLCBtb2RlIG1heSBiZSBvdmVycmlkZW4gYnkgYmluZGluZyBiZWhhdmlvclxuICAgICAgICAvLyBidXQgaXQgd291bGRuJ3QgbWF0dGVyIGhlcmUsIGp1c3Qgc3RhcnQgd2l0aCBzb21ldGhpbmcgZm9yIGxhdGVyIGNoZWNrXG4gICAgICAgIHRoaXMubW9kZSA9IEJpbmRpbmdNb2RlLnRvVmlldztcbiAgICAgICAgdGhpcy52YWx1ZSA9ICcnO1xuICAgICAgICB0aGlzLiRob3N0U2NvcGUgPSBudWxsO1xuICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICB9XG4gICAgdXBkYXRlVGFyZ2V0KHZhbHVlLCBmbGFncykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnRhcmdldDtcbiAgICAgICAgY29uc3QgTm9kZUN0b3IgPSB0aGlzLnAuTm9kZTtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmIChvbGRWYWx1ZSBpbnN0YW5jZW9mIE5vZGVDdG9yKSB7XG4gICAgICAgICAgICAoX2EgPSBvbGRWYWx1ZS5wYXJlbnROb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlQ2hpbGQob2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE5vZGVDdG9yKSB7XG4gICAgICAgICAgICB0YXJnZXQudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgICAgIChfYiA9IHRhcmdldC5wYXJlbnROb2RlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5zZXJ0QmVmb3JlKHZhbHVlLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LnRleHRDb250ZW50ID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlLCBmbGFncykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc291cmNlRXhwcmVzc2lvbiA9IHRoaXMuc291cmNlRXhwcmVzc2lvbjtcbiAgICAgICAgY29uc3Qgb2JzUmVjb3JkID0gdGhpcy5vYnM7XG4gICAgICAgIGNvbnN0IGNhbk9wdGltaXplID0gc291cmNlRXhwcmVzc2lvbi4ka2luZCA9PT0gMTAwODIgLyogQWNjZXNzU2NvcGUgKi8gJiYgb2JzUmVjb3JkLmNvdW50ID09PSAxO1xuICAgICAgICBpZiAoIWNhbk9wdGltaXplKSB7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRDb25uZWN0ID0gKHRoaXMubW9kZSAmIHRvVmlldykgPiAwO1xuICAgICAgICAgICAgaWYgKHNob3VsZENvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICBvYnNSZWNvcmQudmVyc2lvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2VFeHByZXNzaW9uLmV2YWx1YXRlKGZsYWdzLCB0aGlzLiRzY29wZSwgdGhpcy4kaG9zdFNjb3BlLCB0aGlzLmxvY2F0b3IsIHNob3VsZENvbm5lY3QgPyB0aGlzLmludGVyY2VwdG9yIDogbnVsbCk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQ29ubmVjdCkge1xuICAgICAgICAgICAgICAgIG9ic1JlY29yZC5jbGVhcihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICAvLyBpbiBhIGZyZXF1ZW50IHVwZGF0ZSwgZS5nIGNvbGxlY3Rpb24gbXV0YXRpb24gaW4gYSBsb29wXG4gICAgICAgICAgICAvLyB2YWx1ZSBjb3VsZCBiZSBjaGFuZ2luZyBmcmVxdWVudGx5IGFuZCBwcmV2aW91cyB1cGRhdGUgdGFzayBtYXkgYmUgc3RhbGUgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgLy8gY2FuY2VsIGlmIGFueSB0YXNrIGdvaW5nIG9uIGJlY2F1c2UgdGhlIGxhdGVzdCB2YWx1ZSBpcyBhbHJlYWR5IHRoZSBzYW1lXG4gICAgICAgICAgICAoX2EgPSB0aGlzLnRhc2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMudGFzayA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWxwaGE6IGR1cmluZyBiaW5kIGEgc2ltcGxlIHN0cmF0ZWd5IGZvciBiaW5kIGlzIGFsd2F5cyBmbHVzaCBpbW1lZGlhdGVseVxuICAgICAgICAvLyB0b2RvOlxuICAgICAgICAvLyAgKDEpLiBkZXRlcm1pbmUgd2hldGhlciB0aGlzIHNob3VsZCBiZSB0aGUgYmVoYXZpb3JcbiAgICAgICAgLy8gICgyKS4gaWYgbm90LCB0aGVuIGZpeCB0ZXN0cyB0byByZWZsZWN0IHRoZSBjaGFuZ2VzL3BsYXRmb3JtIHRvIHByb3Blcmx5IHlpZWxkIGFsbCB3aXRoIGF1cmVsaWEuc3RhcnQoKS53YWl0KClcbiAgICAgICAgY29uc3Qgc2hvdWxkUXVldWVGbHVzaCA9IChmbGFncyAmIDIgLyogZnJvbUJpbmQgKi8pID09PSAwO1xuICAgICAgICBpZiAoc2hvdWxkUXVldWVGbHVzaCkge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZVVwZGF0ZShuZXdWYWx1ZSwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQobmV3VmFsdWUsIGZsYWdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnF1ZXVlVXBkYXRlKFN0cmluZyh0aGlzLnZhbHVlKSwgMCAvKiBub25lICovKTtcbiAgICB9XG4gICAgJGJpbmQoZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJHNjb3BlID09PSBzY29wZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaW50ZXJjZXB0b3IuJHVuYmluZChmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICAgICAgdGhpcy4kc2NvcGUgPSBzY29wZTtcbiAgICAgICAgdGhpcy4kaG9zdFNjb3BlID0gaG9zdFNjb3BlO1xuICAgICAgICBpZiAodGhpcy5zb3VyY2VFeHByZXNzaW9uLmhhc0JpbmQpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlRXhwcmVzc2lvbi5iaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlLCB0aGlzLmludGVyY2VwdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ID0gdGhpcy52YWx1ZSA9IHRoaXMuc291cmNlRXhwcmVzc2lvbi5ldmFsdWF0ZShmbGFncywgc2NvcGUsIGhvc3RTY29wZSwgdGhpcy5sb2NhdG9yLCAodGhpcy5tb2RlICYgdG9WaWV3KSA+IDAgPyB0aGlzLmludGVyY2VwdG9yIDogbnVsbCk7XG4gICAgICAgIGlmICh2IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUNvbGxlY3Rpb24odik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQodiwgZmxhZ3MpO1xuICAgIH1cbiAgICAkdW5iaW5kKGZsYWdzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuc291cmNlRXhwcmVzc2lvbi5oYXNVbmJpbmQpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlRXhwcmVzc2lvbi51bmJpbmQoZmxhZ3MsIHRoaXMuJHNjb3BlLCB0aGlzLiRob3N0U2NvcGUsIHRoaXMuaW50ZXJjZXB0b3IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IHNob3VsZCBleGlzdGluZyB2YWx1ZSAoZWl0aGVyIGNvbm5lY3RlZCBub2RlLCBvciBhIHN0cmluZylcbiAgICAgICAgLy8gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgYmluZGluZyBpcyB1bmJvdW5kP1xuICAgICAgICAvLyB0aGlzLnVwZGF0ZVRhcmdldCgnJywgZmxhZ3MpO1xuICAgICAgICB0aGlzLiRzY29wZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy4kaG9zdFNjb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXIodHJ1ZSk7XG4gICAgICAgIChfYSA9IHRoaXMudGFzaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbmNlbCgpO1xuICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgIH1cbiAgICBxdWV1ZVVwZGF0ZShuZXdWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgY29uc3QgdGFzayA9IHRoaXMudGFzaztcbiAgICAgICAgdGhpcy50YXNrID0gdGhpcy5wLmRvbVdyaXRlUXVldWUucXVldWVUYXNrKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGFzayA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldChuZXdWYWx1ZSwgZmxhZ3MpO1xuICAgICAgICB9LCBxdWV1ZVRhc2tPcHRpb25zKTtcbiAgICAgICAgdGFzayA9PT0gbnVsbCB8fCB0YXNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YXNrLmNhbmNlbCgpO1xuICAgIH1cbn1cbmNvbm5lY3RhYmxlKENvbnRlbnRCaW5kaW5nKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVycG9sYXRpb24tYmluZGluZy5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding/interpolation-binding.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding/let-binding.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding/let-binding.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LetBinding\": () => (/* binding */ LetBinding)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n\nclass LetBinding {\n    constructor(sourceExpression, targetProperty, observerLocator, locator, toBindingContext = false) {\n        this.sourceExpression = sourceExpression;\n        this.targetProperty = targetProperty;\n        this.observerLocator = observerLocator;\n        this.locator = locator;\n        this.toBindingContext = toBindingContext;\n        this.interceptor = this;\n        this.isBound = false;\n        this.$scope = void 0;\n        this.$hostScope = null;\n        this.task = null;\n        this.target = null;\n    }\n    handleChange(newValue, _previousValue, flags) {\n        if (!this.isBound) {\n            return;\n        }\n        const target = this.target;\n        const targetProperty = this.targetProperty;\n        const previousValue = target[targetProperty];\n        this.obs.version++;\n        newValue = this.sourceExpression.evaluate(flags, this.$scope, this.$hostScope, this.locator, this.interceptor);\n        this.obs.clear(false);\n        if (newValue !== previousValue) {\n            target[targetProperty] = newValue;\n        }\n    }\n    $bind(flags, scope, hostScope) {\n        if (this.isBound) {\n            if (this.$scope === scope) {\n                return;\n            }\n            this.interceptor.$unbind(flags | 2 /* fromBind */);\n        }\n        this.$scope = scope;\n        this.$hostScope = hostScope;\n        this.target = (this.toBindingContext ? (hostScope !== null && hostScope !== void 0 ? hostScope : scope).bindingContext : (hostScope !== null && hostScope !== void 0 ? hostScope : scope).overrideContext);\n        const sourceExpression = this.sourceExpression;\n        if (sourceExpression.hasBind) {\n            sourceExpression.bind(flags, scope, hostScope, this.interceptor);\n        }\n        // sourceExpression might have been changed during bind\n        this.target[this.targetProperty]\n            = this.sourceExpression.evaluate(flags | 2 /* fromBind */, scope, hostScope, this.locator, this.interceptor);\n        // add isBound flag and remove isBinding flag\n        this.isBound = true;\n    }\n    $unbind(flags) {\n        if (!this.isBound) {\n            return;\n        }\n        const sourceExpression = this.sourceExpression;\n        if (sourceExpression.hasUnbind) {\n            sourceExpression.unbind(flags, this.$scope, this.$hostScope, this.interceptor);\n        }\n        this.$scope = void 0;\n        this.$hostScope = null;\n        this.obs.clear(true);\n        // remove isBound and isUnbinding flags\n        this.isBound = false;\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.connectable)(LetBinding);\n//# sourceMappingURL=let-binding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmcvbGV0LWJpbmRpbmcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmcvbGV0LWJpbmRpbmcuanM/NjE2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25uZWN0YWJsZSB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuZXhwb3J0IGNsYXNzIExldEJpbmRpbmcge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZUV4cHJlc3Npb24sIHRhcmdldFByb3BlcnR5LCBvYnNlcnZlckxvY2F0b3IsIGxvY2F0b3IsIHRvQmluZGluZ0NvbnRleHQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnNvdXJjZUV4cHJlc3Npb24gPSBzb3VyY2VFeHByZXNzaW9uO1xuICAgICAgICB0aGlzLnRhcmdldFByb3BlcnR5ID0gdGFyZ2V0UHJvcGVydHk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJMb2NhdG9yID0gb2JzZXJ2ZXJMb2NhdG9yO1xuICAgICAgICB0aGlzLmxvY2F0b3IgPSBsb2NhdG9yO1xuICAgICAgICB0aGlzLnRvQmluZGluZ0NvbnRleHQgPSB0b0JpbmRpbmdDb250ZXh0O1xuICAgICAgICB0aGlzLmludGVyY2VwdG9yID0gdGhpcztcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMuJHNjb3BlID0gdm9pZCAwO1xuICAgICAgICB0aGlzLiRob3N0U2NvcGUgPSBudWxsO1xuICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZShuZXdWYWx1ZSwgX3ByZXZpb3VzVmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG4gICAgICAgIGNvbnN0IHRhcmdldFByb3BlcnR5ID0gdGhpcy50YXJnZXRQcm9wZXJ0eTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHRhcmdldFt0YXJnZXRQcm9wZXJ0eV07XG4gICAgICAgIHRoaXMub2JzLnZlcnNpb24rKztcbiAgICAgICAgbmV3VmFsdWUgPSB0aGlzLnNvdXJjZUV4cHJlc3Npb24uZXZhbHVhdGUoZmxhZ3MsIHRoaXMuJHNjb3BlLCB0aGlzLiRob3N0U2NvcGUsIHRoaXMubG9jYXRvciwgdGhpcy5pbnRlcmNlcHRvcik7XG4gICAgICAgIHRoaXMub2JzLmNsZWFyKGZhbHNlKTtcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBwcmV2aW91c1ZhbHVlKSB7XG4gICAgICAgICAgICB0YXJnZXRbdGFyZ2V0UHJvcGVydHldID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgJGJpbmQoZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJHNjb3BlID09PSBzY29wZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaW50ZXJjZXB0b3IuJHVuYmluZChmbGFncyB8IDIgLyogZnJvbUJpbmQgKi8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuJGhvc3RTY29wZSA9IGhvc3RTY29wZTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSAodGhpcy50b0JpbmRpbmdDb250ZXh0ID8gKGhvc3RTY29wZSAhPT0gbnVsbCAmJiBob3N0U2NvcGUgIT09IHZvaWQgMCA/IGhvc3RTY29wZSA6IHNjb3BlKS5iaW5kaW5nQ29udGV4dCA6IChob3N0U2NvcGUgIT09IG51bGwgJiYgaG9zdFNjb3BlICE9PSB2b2lkIDAgPyBob3N0U2NvcGUgOiBzY29wZSkub3ZlcnJpZGVDb250ZXh0KTtcbiAgICAgICAgY29uc3Qgc291cmNlRXhwcmVzc2lvbiA9IHRoaXMuc291cmNlRXhwcmVzc2lvbjtcbiAgICAgICAgaWYgKHNvdXJjZUV4cHJlc3Npb24uaGFzQmluZCkge1xuICAgICAgICAgICAgc291cmNlRXhwcmVzc2lvbi5iaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlLCB0aGlzLmludGVyY2VwdG9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzb3VyY2VFeHByZXNzaW9uIG1pZ2h0IGhhdmUgYmVlbiBjaGFuZ2VkIGR1cmluZyBiaW5kXG4gICAgICAgIHRoaXMudGFyZ2V0W3RoaXMudGFyZ2V0UHJvcGVydHldXG4gICAgICAgICAgICA9IHRoaXMuc291cmNlRXhwcmVzc2lvbi5ldmFsdWF0ZShmbGFncyB8IDIgLyogZnJvbUJpbmQgKi8sIHNjb3BlLCBob3N0U2NvcGUsIHRoaXMubG9jYXRvciwgdGhpcy5pbnRlcmNlcHRvcik7XG4gICAgICAgIC8vIGFkZCBpc0JvdW5kIGZsYWcgYW5kIHJlbW92ZSBpc0JpbmRpbmcgZmxhZ1xuICAgICAgICB0aGlzLmlzQm91bmQgPSB0cnVlO1xuICAgIH1cbiAgICAkdW5iaW5kKGZsYWdzKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc291cmNlRXhwcmVzc2lvbiA9IHRoaXMuc291cmNlRXhwcmVzc2lvbjtcbiAgICAgICAgaWYgKHNvdXJjZUV4cHJlc3Npb24uaGFzVW5iaW5kKSB7XG4gICAgICAgICAgICBzb3VyY2VFeHByZXNzaW9uLnVuYmluZChmbGFncywgdGhpcy4kc2NvcGUsIHRoaXMuJGhvc3RTY29wZSwgdGhpcy5pbnRlcmNlcHRvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kc2NvcGUgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuJGhvc3RTY29wZSA9IG51bGw7XG4gICAgICAgIHRoaXMub2JzLmNsZWFyKHRydWUpO1xuICAgICAgICAvLyByZW1vdmUgaXNCb3VuZCBhbmQgaXNVbmJpbmRpbmcgZmxhZ3NcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgfVxufVxuY29ubmVjdGFibGUoTGV0QmluZGluZyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXQtYmluZGluZy5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding/let-binding.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding/listener.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding/listener.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Listener\": () => (/* binding */ Listener)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n\n\nconst options = {\n    [_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.DelegationStrategy.capturing]: { capture: true },\n    [_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.DelegationStrategy.bubbling]: { capture: false },\n};\n/**\n * Listener binding. Handle event binding between view and view model\n */\nclass Listener {\n    constructor(platform, targetEvent, delegationStrategy, sourceExpression, target, preventDefault, eventDelegator, locator) {\n        this.platform = platform;\n        this.targetEvent = targetEvent;\n        this.delegationStrategy = delegationStrategy;\n        this.sourceExpression = sourceExpression;\n        this.target = target;\n        this.preventDefault = preventDefault;\n        this.eventDelegator = eventDelegator;\n        this.locator = locator;\n        this.interceptor = this;\n        this.isBound = false;\n        this.$hostScope = null;\n        this.handler = null;\n    }\n    callSource(event) {\n        const overrideContext = this.$scope.overrideContext;\n        overrideContext.$event = event;\n        const result = this.sourceExpression.evaluate(8 /* mustEvaluate */, this.$scope, this.$hostScope, this.locator, null);\n        Reflect.deleteProperty(overrideContext, '$event');\n        if (result !== true && this.preventDefault) {\n            event.preventDefault();\n        }\n        return result;\n    }\n    handleEvent(event) {\n        this.interceptor.callSource(event);\n    }\n    $bind(flags, scope, hostScope) {\n        if (this.isBound) {\n            if (this.$scope === scope) {\n                return;\n            }\n            this.interceptor.$unbind(flags | 2 /* fromBind */);\n        }\n        this.$scope = scope;\n        this.$hostScope = hostScope;\n        const sourceExpression = this.sourceExpression;\n        if (sourceExpression.hasBind) {\n            sourceExpression.bind(flags, scope, hostScope, this.interceptor);\n        }\n        if (this.delegationStrategy === _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.DelegationStrategy.none) {\n            this.target.addEventListener(this.targetEvent, this);\n        }\n        else {\n            const eventTarget = this.locator.get(_dom_js__WEBPACK_IMPORTED_MODULE_1__.IEventTarget);\n            this.handler = this.eventDelegator.addEventListener(eventTarget, this.target, this.targetEvent, this, options[this.delegationStrategy]);\n        }\n        // add isBound flag and remove isBinding flag\n        this.isBound = true;\n    }\n    $unbind(flags) {\n        if (!this.isBound) {\n            return;\n        }\n        const sourceExpression = this.sourceExpression;\n        if (sourceExpression.hasUnbind) {\n            sourceExpression.unbind(flags, this.$scope, this.$hostScope, this.interceptor);\n        }\n        this.$scope = null;\n        if (this.delegationStrategy === _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.DelegationStrategy.none) {\n            this.target.removeEventListener(this.targetEvent, this);\n        }\n        else {\n            this.handler.dispose();\n            this.handler = null;\n        }\n        // remove isBound and isUnbinding flags\n        this.isBound = false;\n    }\n    observeProperty(obj, propertyName) {\n        return;\n    }\n    handleChange(newValue, previousValue, flags) {\n        return;\n    }\n}\n//# sourceMappingURL=listener.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmcvbGlzdGVuZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmcvbGlzdGVuZXIuanM/MGRlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWxlZ2F0aW9uU3RyYXRlZ3ksIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZSc7XG5pbXBvcnQgeyBJRXZlbnRUYXJnZXQgfSBmcm9tICcuLi9kb20uanMnO1xuY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBbRGVsZWdhdGlvblN0cmF0ZWd5LmNhcHR1cmluZ106IHsgY2FwdHVyZTogdHJ1ZSB9LFxuICAgIFtEZWxlZ2F0aW9uU3RyYXRlZ3kuYnViYmxpbmddOiB7IGNhcHR1cmU6IGZhbHNlIH0sXG59O1xuLyoqXG4gKiBMaXN0ZW5lciBiaW5kaW5nLiBIYW5kbGUgZXZlbnQgYmluZGluZyBiZXR3ZWVuIHZpZXcgYW5kIHZpZXcgbW9kZWxcbiAqL1xuZXhwb3J0IGNsYXNzIExpc3RlbmVyIHtcbiAgICBjb25zdHJ1Y3RvcihwbGF0Zm9ybSwgdGFyZ2V0RXZlbnQsIGRlbGVnYXRpb25TdHJhdGVneSwgc291cmNlRXhwcmVzc2lvbiwgdGFyZ2V0LCBwcmV2ZW50RGVmYXVsdCwgZXZlbnREZWxlZ2F0b3IsIGxvY2F0b3IpIHtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xuICAgICAgICB0aGlzLnRhcmdldEV2ZW50ID0gdGFyZ2V0RXZlbnQ7XG4gICAgICAgIHRoaXMuZGVsZWdhdGlvblN0cmF0ZWd5ID0gZGVsZWdhdGlvblN0cmF0ZWd5O1xuICAgICAgICB0aGlzLnNvdXJjZUV4cHJlc3Npb24gPSBzb3VyY2VFeHByZXNzaW9uO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5wcmV2ZW50RGVmYXVsdCA9IHByZXZlbnREZWZhdWx0O1xuICAgICAgICB0aGlzLmV2ZW50RGVsZWdhdG9yID0gZXZlbnREZWxlZ2F0b3I7XG4gICAgICAgIHRoaXMubG9jYXRvciA9IGxvY2F0b3I7XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0b3IgPSB0aGlzO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy4kaG9zdFNjb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gbnVsbDtcbiAgICB9XG4gICAgY2FsbFNvdXJjZShldmVudCkge1xuICAgICAgICBjb25zdCBvdmVycmlkZUNvbnRleHQgPSB0aGlzLiRzY29wZS5vdmVycmlkZUNvbnRleHQ7XG4gICAgICAgIG92ZXJyaWRlQ29udGV4dC4kZXZlbnQgPSBldmVudDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zb3VyY2VFeHByZXNzaW9uLmV2YWx1YXRlKDggLyogbXVzdEV2YWx1YXRlICovLCB0aGlzLiRzY29wZSwgdGhpcy4kaG9zdFNjb3BlLCB0aGlzLmxvY2F0b3IsIG51bGwpO1xuICAgICAgICBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KG92ZXJyaWRlQ29udGV4dCwgJyRldmVudCcpO1xuICAgICAgICBpZiAocmVzdWx0ICE9PSB0cnVlICYmIHRoaXMucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5pbnRlcmNlcHRvci5jYWxsU291cmNlKGV2ZW50KTtcbiAgICB9XG4gICAgJGJpbmQoZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJHNjb3BlID09PSBzY29wZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaW50ZXJjZXB0b3IuJHVuYmluZChmbGFncyB8IDIgLyogZnJvbUJpbmQgKi8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuJGhvc3RTY29wZSA9IGhvc3RTY29wZTtcbiAgICAgICAgY29uc3Qgc291cmNlRXhwcmVzc2lvbiA9IHRoaXMuc291cmNlRXhwcmVzc2lvbjtcbiAgICAgICAgaWYgKHNvdXJjZUV4cHJlc3Npb24uaGFzQmluZCkge1xuICAgICAgICAgICAgc291cmNlRXhwcmVzc2lvbi5iaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlLCB0aGlzLmludGVyY2VwdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0aW9uU3RyYXRlZ3kgPT09IERlbGVnYXRpb25TdHJhdGVneS5ub25lKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKHRoaXMudGFyZ2V0RXZlbnQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXZlbnRUYXJnZXQgPSB0aGlzLmxvY2F0b3IuZ2V0KElFdmVudFRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXIgPSB0aGlzLmV2ZW50RGVsZWdhdG9yLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUYXJnZXQsIHRoaXMudGFyZ2V0LCB0aGlzLnRhcmdldEV2ZW50LCB0aGlzLCBvcHRpb25zW3RoaXMuZGVsZWdhdGlvblN0cmF0ZWd5XSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIGlzQm91bmQgZmxhZyBhbmQgcmVtb3ZlIGlzQmluZGluZyBmbGFnXG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IHRydWU7XG4gICAgfVxuICAgICR1bmJpbmQoZmxhZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzb3VyY2VFeHByZXNzaW9uID0gdGhpcy5zb3VyY2VFeHByZXNzaW9uO1xuICAgICAgICBpZiAoc291cmNlRXhwcmVzc2lvbi5oYXNVbmJpbmQpIHtcbiAgICAgICAgICAgIHNvdXJjZUV4cHJlc3Npb24udW5iaW5kKGZsYWdzLCB0aGlzLiRzY29wZSwgdGhpcy4kaG9zdFNjb3BlLCB0aGlzLmludGVyY2VwdG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRzY29wZSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRpb25TdHJhdGVneSA9PT0gRGVsZWdhdGlvblN0cmF0ZWd5Lm5vbmUpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50YXJnZXRFdmVudCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgaXNCb3VuZCBhbmQgaXNVbmJpbmRpbmcgZmxhZ3NcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgfVxuICAgIG9ic2VydmVQcm9wZXJ0eShvYmosIHByb3BlcnR5TmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZShuZXdWYWx1ZSwgcHJldmlvdXNWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpc3RlbmVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding/listener.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding/property-binding.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding/property-binding.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PropertyBinding\": () => (/* binding */ PropertyBinding)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _binding_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./binding-utils.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/binding-utils.js\");\n\n\n// BindingMode is not a const enum (and therefore not inlined), so assigning them to a variable to save a member accessor is a minor perf tweak\nconst { oneTime, toView, fromView } = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode;\n// pre-combining flags for bitwise checks is a minor perf tweak\nconst toViewOrOneTime = toView | oneTime;\nconst updateTaskOpts = {\n    reusable: false,\n    preempt: true,\n};\nclass PropertyBinding {\n    constructor(sourceExpression, target, targetProperty, mode, observerLocator, locator, taskQueue) {\n        this.sourceExpression = sourceExpression;\n        this.target = target;\n        this.targetProperty = targetProperty;\n        this.mode = mode;\n        this.observerLocator = observerLocator;\n        this.locator = locator;\n        this.taskQueue = taskQueue;\n        this.interceptor = this;\n        this.isBound = false;\n        this.$scope = void 0;\n        this.$hostScope = null;\n        this.targetObserver = void 0;\n        this.persistentFlags = 0 /* none */;\n        this.task = null;\n        this.targetSubscriber = null;\n    }\n    updateTarget(value, flags) {\n        flags |= this.persistentFlags;\n        this.targetObserver.setValue(value, flags, this.target, this.targetProperty);\n    }\n    updateSource(value, flags) {\n        flags |= this.persistentFlags;\n        this.sourceExpression.assign(flags, this.$scope, this.$hostScope, this.locator, value);\n    }\n    handleChange(newValue, _previousValue, flags) {\n        if (!this.isBound) {\n            return;\n        }\n        flags |= this.persistentFlags;\n        const targetObserver = this.targetObserver;\n        const interceptor = this.interceptor;\n        const sourceExpression = this.sourceExpression;\n        const $scope = this.$scope;\n        const locator = this.locator;\n        // Alpha: during bind a simple strategy for bind is always flush immediately\n        // todo:\n        //  (1). determine whether this should be the behavior\n        //  (2). if not, then fix tests to reflect the changes/platform to properly yield all with aurelia.start()\n        const shouldQueueFlush = (flags & 2 /* fromBind */) === 0 && (targetObserver.type & 4 /* Layout */) > 0;\n        const obsRecord = this.obs;\n        // if the only observable is an AccessScope then we can assume the passed-in newValue is the correct and latest value\n        if (sourceExpression.$kind !== 10082 /* AccessScope */ || obsRecord.count > 1) {\n            // todo: in VC expressions, from view also requires connect\n            const shouldConnect = this.mode > oneTime;\n            if (shouldConnect) {\n                obsRecord.version++;\n            }\n            newValue = sourceExpression.evaluate(flags, $scope, this.$hostScope, locator, interceptor);\n            if (shouldConnect) {\n                obsRecord.clear(false);\n            }\n        }\n        if (shouldQueueFlush) {\n            // Queue the new one before canceling the old one, to prevent early yield\n            const task = this.task;\n            this.task = this.taskQueue.queueTask(() => {\n                interceptor.updateTarget(newValue, flags);\n                this.task = null;\n            }, updateTaskOpts);\n            task === null || task === void 0 ? void 0 : task.cancel();\n        }\n        else {\n            interceptor.updateTarget(newValue, flags);\n        }\n    }\n    $bind(flags, scope, hostScope) {\n        var _a;\n        if (this.isBound) {\n            if (this.$scope === scope) {\n                return;\n            }\n            this.interceptor.$unbind(flags | 2 /* fromBind */);\n        }\n        // Force property binding to always be strict\n        flags |= 1 /* isStrictBindingStrategy */;\n        // Store flags which we can only receive during $bind and need to pass on\n        // to the AST during evaluate/connect/assign\n        this.persistentFlags = flags & 961 /* persistentBindingFlags */;\n        this.$scope = scope;\n        this.$hostScope = hostScope;\n        let sourceExpression = this.sourceExpression;\n        if (sourceExpression.hasBind) {\n            sourceExpression.bind(flags, scope, hostScope, this.interceptor);\n        }\n        const $mode = this.mode;\n        let targetObserver = this.targetObserver;\n        if (!targetObserver) {\n            const observerLocator = this.observerLocator;\n            if ($mode & fromView) {\n                targetObserver = observerLocator.getObserver(this.target, this.targetProperty);\n            }\n            else {\n                targetObserver = observerLocator.getAccessor(this.target, this.targetProperty);\n            }\n            this.targetObserver = targetObserver;\n        }\n        // during bind, binding behavior might have changed sourceExpression\n        // deepscan-disable-next-line\n        sourceExpression = this.sourceExpression;\n        const interceptor = this.interceptor;\n        const shouldConnect = ($mode & toView) > 0;\n        if ($mode & toViewOrOneTime) {\n            interceptor.updateTarget(sourceExpression.evaluate(flags, scope, this.$hostScope, this.locator, shouldConnect ? interceptor : null), flags);\n        }\n        if ($mode & fromView) {\n            targetObserver.subscribe((_a = this.targetSubscriber) !== null && _a !== void 0 ? _a : (this.targetSubscriber = new _binding_utils_js__WEBPACK_IMPORTED_MODULE_1__.BindingTargetSubscriber(interceptor)));\n            if (!shouldConnect) {\n                interceptor.updateSource(targetObserver.getValue(this.target, this.targetProperty), flags);\n            }\n        }\n        this.isBound = true;\n    }\n    $unbind(flags) {\n        if (!this.isBound) {\n            return;\n        }\n        this.persistentFlags = 0 /* none */;\n        if (this.sourceExpression.hasUnbind) {\n            this.sourceExpression.unbind(flags, this.$scope, this.$hostScope, this.interceptor);\n        }\n        this.$scope = void 0;\n        this.$hostScope = null;\n        const task = this.task;\n        if (this.targetSubscriber) {\n            this.targetObserver.unsubscribe(this.targetSubscriber);\n        }\n        if (task != null) {\n            task.cancel();\n            this.task = null;\n        }\n        this.obs.clear(true);\n        this.isBound = false;\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.connectable)(PropertyBinding);\n//# sourceMappingURL=property-binding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmcvcHJvcGVydHktYmluZGluZy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vYmluZGluZy9wcm9wZXJ0eS1iaW5kaW5nLmpzP2ZlNmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmluZGluZ01vZGUsIGNvbm5lY3RhYmxlIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZSc7XG5pbXBvcnQgeyBCaW5kaW5nVGFyZ2V0U3Vic2NyaWJlciB9IGZyb20gJy4vYmluZGluZy11dGlscy5qcyc7XG4vLyBCaW5kaW5nTW9kZSBpcyBub3QgYSBjb25zdCBlbnVtIChhbmQgdGhlcmVmb3JlIG5vdCBpbmxpbmVkKSwgc28gYXNzaWduaW5nIHRoZW0gdG8gYSB2YXJpYWJsZSB0byBzYXZlIGEgbWVtYmVyIGFjY2Vzc29yIGlzIGEgbWlub3IgcGVyZiB0d2Vha1xuY29uc3QgeyBvbmVUaW1lLCB0b1ZpZXcsIGZyb21WaWV3IH0gPSBCaW5kaW5nTW9kZTtcbi8vIHByZS1jb21iaW5pbmcgZmxhZ3MgZm9yIGJpdHdpc2UgY2hlY2tzIGlzIGEgbWlub3IgcGVyZiB0d2Vha1xuY29uc3QgdG9WaWV3T3JPbmVUaW1lID0gdG9WaWV3IHwgb25lVGltZTtcbmNvbnN0IHVwZGF0ZVRhc2tPcHRzID0ge1xuICAgIHJldXNhYmxlOiBmYWxzZSxcbiAgICBwcmVlbXB0OiB0cnVlLFxufTtcbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUJpbmRpbmcge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZUV4cHJlc3Npb24sIHRhcmdldCwgdGFyZ2V0UHJvcGVydHksIG1vZGUsIG9ic2VydmVyTG9jYXRvciwgbG9jYXRvciwgdGFza1F1ZXVlKSB7XG4gICAgICAgIHRoaXMuc291cmNlRXhwcmVzc2lvbiA9IHNvdXJjZUV4cHJlc3Npb247XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLnRhcmdldFByb3BlcnR5ID0gdGFyZ2V0UHJvcGVydHk7XG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJMb2NhdG9yID0gb2JzZXJ2ZXJMb2NhdG9yO1xuICAgICAgICB0aGlzLmxvY2F0b3IgPSBsb2NhdG9yO1xuICAgICAgICB0aGlzLnRhc2tRdWV1ZSA9IHRhc2tRdWV1ZTtcbiAgICAgICAgdGhpcy5pbnRlcmNlcHRvciA9IHRoaXM7XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLiRzY29wZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy4kaG9zdFNjb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXRPYnNlcnZlciA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW50RmxhZ3MgPSAwIC8qIG5vbmUgKi87XG4gICAgICAgIHRoaXMudGFzayA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0U3Vic2NyaWJlciA9IG51bGw7XG4gICAgfVxuICAgIHVwZGF0ZVRhcmdldCh2YWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgZmxhZ3MgfD0gdGhpcy5wZXJzaXN0ZW50RmxhZ3M7XG4gICAgICAgIHRoaXMudGFyZ2V0T2JzZXJ2ZXIuc2V0VmFsdWUodmFsdWUsIGZsYWdzLCB0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRQcm9wZXJ0eSk7XG4gICAgfVxuICAgIHVwZGF0ZVNvdXJjZSh2YWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgZmxhZ3MgfD0gdGhpcy5wZXJzaXN0ZW50RmxhZ3M7XG4gICAgICAgIHRoaXMuc291cmNlRXhwcmVzc2lvbi5hc3NpZ24oZmxhZ3MsIHRoaXMuJHNjb3BlLCB0aGlzLiRob3N0U2NvcGUsIHRoaXMubG9jYXRvciwgdmFsdWUpO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UobmV3VmFsdWUsIF9wcmV2aW91c1ZhbHVlLCBmbGFncykge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZsYWdzIHw9IHRoaXMucGVyc2lzdGVudEZsYWdzO1xuICAgICAgICBjb25zdCB0YXJnZXRPYnNlcnZlciA9IHRoaXMudGFyZ2V0T2JzZXJ2ZXI7XG4gICAgICAgIGNvbnN0IGludGVyY2VwdG9yID0gdGhpcy5pbnRlcmNlcHRvcjtcbiAgICAgICAgY29uc3Qgc291cmNlRXhwcmVzc2lvbiA9IHRoaXMuc291cmNlRXhwcmVzc2lvbjtcbiAgICAgICAgY29uc3QgJHNjb3BlID0gdGhpcy4kc2NvcGU7XG4gICAgICAgIGNvbnN0IGxvY2F0b3IgPSB0aGlzLmxvY2F0b3I7XG4gICAgICAgIC8vIEFscGhhOiBkdXJpbmcgYmluZCBhIHNpbXBsZSBzdHJhdGVneSBmb3IgYmluZCBpcyBhbHdheXMgZmx1c2ggaW1tZWRpYXRlbHlcbiAgICAgICAgLy8gdG9kbzpcbiAgICAgICAgLy8gICgxKS4gZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBzaG91bGQgYmUgdGhlIGJlaGF2aW9yXG4gICAgICAgIC8vICAoMikuIGlmIG5vdCwgdGhlbiBmaXggdGVzdHMgdG8gcmVmbGVjdCB0aGUgY2hhbmdlcy9wbGF0Zm9ybSB0byBwcm9wZXJseSB5aWVsZCBhbGwgd2l0aCBhdXJlbGlhLnN0YXJ0KClcbiAgICAgICAgY29uc3Qgc2hvdWxkUXVldWVGbHVzaCA9IChmbGFncyAmIDIgLyogZnJvbUJpbmQgKi8pID09PSAwICYmICh0YXJnZXRPYnNlcnZlci50eXBlICYgNCAvKiBMYXlvdXQgKi8pID4gMDtcbiAgICAgICAgY29uc3Qgb2JzUmVjb3JkID0gdGhpcy5vYnM7XG4gICAgICAgIC8vIGlmIHRoZSBvbmx5IG9ic2VydmFibGUgaXMgYW4gQWNjZXNzU2NvcGUgdGhlbiB3ZSBjYW4gYXNzdW1lIHRoZSBwYXNzZWQtaW4gbmV3VmFsdWUgaXMgdGhlIGNvcnJlY3QgYW5kIGxhdGVzdCB2YWx1ZVxuICAgICAgICBpZiAoc291cmNlRXhwcmVzc2lvbi4ka2luZCAhPT0gMTAwODIgLyogQWNjZXNzU2NvcGUgKi8gfHwgb2JzUmVjb3JkLmNvdW50ID4gMSkge1xuICAgICAgICAgICAgLy8gdG9kbzogaW4gVkMgZXhwcmVzc2lvbnMsIGZyb20gdmlldyBhbHNvIHJlcXVpcmVzIGNvbm5lY3RcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZENvbm5lY3QgPSB0aGlzLm1vZGUgPiBvbmVUaW1lO1xuICAgICAgICAgICAgaWYgKHNob3VsZENvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICBvYnNSZWNvcmQudmVyc2lvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2VFeHByZXNzaW9uLmV2YWx1YXRlKGZsYWdzLCAkc2NvcGUsIHRoaXMuJGhvc3RTY29wZSwgbG9jYXRvciwgaW50ZXJjZXB0b3IpO1xuICAgICAgICAgICAgaWYgKHNob3VsZENvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICBvYnNSZWNvcmQuY2xlYXIoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRRdWV1ZUZsdXNoKSB7XG4gICAgICAgICAgICAvLyBRdWV1ZSB0aGUgbmV3IG9uZSBiZWZvcmUgY2FuY2VsaW5nIHRoZSBvbGQgb25lLCB0byBwcmV2ZW50IGVhcmx5IHlpZWxkXG4gICAgICAgICAgICBjb25zdCB0YXNrID0gdGhpcy50YXNrO1xuICAgICAgICAgICAgdGhpcy50YXNrID0gdGhpcy50YXNrUXVldWUucXVldWVUYXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpbnRlcmNlcHRvci51cGRhdGVUYXJnZXQobmV3VmFsdWUsIGZsYWdzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgICAgICAgICAgfSwgdXBkYXRlVGFza09wdHMpO1xuICAgICAgICAgICAgdGFzayA9PT0gbnVsbCB8fCB0YXNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YXNrLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJjZXB0b3IudXBkYXRlVGFyZ2V0KG5ld1ZhbHVlLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgJGJpbmQoZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUgPT09IHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbnRlcmNlcHRvci4kdW5iaW5kKGZsYWdzIHwgMiAvKiBmcm9tQmluZCAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yY2UgcHJvcGVydHkgYmluZGluZyB0byBhbHdheXMgYmUgc3RyaWN0XG4gICAgICAgIGZsYWdzIHw9IDEgLyogaXNTdHJpY3RCaW5kaW5nU3RyYXRlZ3kgKi87XG4gICAgICAgIC8vIFN0b3JlIGZsYWdzIHdoaWNoIHdlIGNhbiBvbmx5IHJlY2VpdmUgZHVyaW5nICRiaW5kIGFuZCBuZWVkIHRvIHBhc3Mgb25cbiAgICAgICAgLy8gdG8gdGhlIEFTVCBkdXJpbmcgZXZhbHVhdGUvY29ubmVjdC9hc3NpZ25cbiAgICAgICAgdGhpcy5wZXJzaXN0ZW50RmxhZ3MgPSBmbGFncyAmIDk2MSAvKiBwZXJzaXN0ZW50QmluZGluZ0ZsYWdzICovO1xuICAgICAgICB0aGlzLiRzY29wZSA9IHNjb3BlO1xuICAgICAgICB0aGlzLiRob3N0U2NvcGUgPSBob3N0U2NvcGU7XG4gICAgICAgIGxldCBzb3VyY2VFeHByZXNzaW9uID0gdGhpcy5zb3VyY2VFeHByZXNzaW9uO1xuICAgICAgICBpZiAoc291cmNlRXhwcmVzc2lvbi5oYXNCaW5kKSB7XG4gICAgICAgICAgICBzb3VyY2VFeHByZXNzaW9uLmJpbmQoZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUsIHRoaXMuaW50ZXJjZXB0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0ICRtb2RlID0gdGhpcy5tb2RlO1xuICAgICAgICBsZXQgdGFyZ2V0T2JzZXJ2ZXIgPSB0aGlzLnRhcmdldE9ic2VydmVyO1xuICAgICAgICBpZiAoIXRhcmdldE9ic2VydmVyKSB7XG4gICAgICAgICAgICBjb25zdCBvYnNlcnZlckxvY2F0b3IgPSB0aGlzLm9ic2VydmVyTG9jYXRvcjtcbiAgICAgICAgICAgIGlmICgkbW9kZSAmIGZyb21WaWV3KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0T2JzZXJ2ZXIgPSBvYnNlcnZlckxvY2F0b3IuZ2V0T2JzZXJ2ZXIodGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0UHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0T2JzZXJ2ZXIgPSBvYnNlcnZlckxvY2F0b3IuZ2V0QWNjZXNzb3IodGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0UHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50YXJnZXRPYnNlcnZlciA9IHRhcmdldE9ic2VydmVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIGR1cmluZyBiaW5kLCBiaW5kaW5nIGJlaGF2aW9yIG1pZ2h0IGhhdmUgY2hhbmdlZCBzb3VyY2VFeHByZXNzaW9uXG4gICAgICAgIC8vIGRlZXBzY2FuLWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHNvdXJjZUV4cHJlc3Npb24gPSB0aGlzLnNvdXJjZUV4cHJlc3Npb247XG4gICAgICAgIGNvbnN0IGludGVyY2VwdG9yID0gdGhpcy5pbnRlcmNlcHRvcjtcbiAgICAgICAgY29uc3Qgc2hvdWxkQ29ubmVjdCA9ICgkbW9kZSAmIHRvVmlldykgPiAwO1xuICAgICAgICBpZiAoJG1vZGUgJiB0b1ZpZXdPck9uZVRpbWUpIHtcbiAgICAgICAgICAgIGludGVyY2VwdG9yLnVwZGF0ZVRhcmdldChzb3VyY2VFeHByZXNzaW9uLmV2YWx1YXRlKGZsYWdzLCBzY29wZSwgdGhpcy4kaG9zdFNjb3BlLCB0aGlzLmxvY2F0b3IsIHNob3VsZENvbm5lY3QgPyBpbnRlcmNlcHRvciA6IG51bGwpLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRtb2RlICYgZnJvbVZpZXcpIHtcbiAgICAgICAgICAgIHRhcmdldE9ic2VydmVyLnN1YnNjcmliZSgoX2EgPSB0aGlzLnRhcmdldFN1YnNjcmliZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICh0aGlzLnRhcmdldFN1YnNjcmliZXIgPSBuZXcgQmluZGluZ1RhcmdldFN1YnNjcmliZXIoaW50ZXJjZXB0b3IpKSk7XG4gICAgICAgICAgICBpZiAoIXNob3VsZENvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICBpbnRlcmNlcHRvci51cGRhdGVTb3VyY2UodGFyZ2V0T2JzZXJ2ZXIuZ2V0VmFsdWUodGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0UHJvcGVydHkpLCBmbGFncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICB9XG4gICAgJHVuYmluZChmbGFncykge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVyc2lzdGVudEZsYWdzID0gMCAvKiBub25lICovO1xuICAgICAgICBpZiAodGhpcy5zb3VyY2VFeHByZXNzaW9uLmhhc1VuYmluZCkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VFeHByZXNzaW9uLnVuYmluZChmbGFncywgdGhpcy4kc2NvcGUsIHRoaXMuJGhvc3RTY29wZSwgdGhpcy5pbnRlcmNlcHRvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kc2NvcGUgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuJGhvc3RTY29wZSA9IG51bGw7XG4gICAgICAgIGNvbnN0IHRhc2sgPSB0aGlzLnRhc2s7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0T2JzZXJ2ZXIudW5zdWJzY3JpYmUodGhpcy50YXJnZXRTdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFzayAhPSBudWxsKSB7XG4gICAgICAgICAgICB0YXNrLmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9icy5jbGVhcih0cnVlKTtcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgfVxufVxuY29ubmVjdGFibGUoUHJvcGVydHlCaW5kaW5nKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3BlcnR5LWJpbmRpbmcuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding/property-binding.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/binding/ref-binding.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/binding/ref-binding.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RefBinding\": () => (/* binding */ RefBinding)\n/* harmony export */ });\nclass RefBinding {\n    constructor(sourceExpression, target, locator) {\n        this.sourceExpression = sourceExpression;\n        this.target = target;\n        this.locator = locator;\n        this.interceptor = this;\n        this.isBound = false;\n        this.$scope = void 0;\n        this.$hostScope = null;\n    }\n    $bind(flags, scope, hostScope) {\n        if (this.isBound) {\n            if (this.$scope === scope) {\n                return;\n            }\n            this.interceptor.$unbind(flags | 2 /* fromBind */);\n        }\n        this.$scope = scope;\n        this.$hostScope = hostScope;\n        if (this.sourceExpression.hasBind) {\n            this.sourceExpression.bind(flags, scope, hostScope, this);\n        }\n        this.sourceExpression.assign(flags, this.$scope, hostScope, this.locator, this.target);\n        // add isBound flag and remove isBinding flag\n        this.isBound = true;\n    }\n    $unbind(flags) {\n        if (!this.isBound) {\n            return;\n        }\n        let sourceExpression = this.sourceExpression;\n        if (sourceExpression.evaluate(flags, this.$scope, this.$hostScope, this.locator, null) === this.target) {\n            sourceExpression.assign(flags, this.$scope, this.$hostScope, this.locator, null);\n        }\n        // source expression might have been modified durring assign, via a BB\n        // deepscan-disable-next-line\n        sourceExpression = this.sourceExpression;\n        if (sourceExpression.hasUnbind) {\n            sourceExpression.unbind(flags, this.$scope, this.$hostScope, this.interceptor);\n        }\n        this.$scope = void 0;\n        this.$hostScope = null;\n        this.isBound = false;\n    }\n    observeProperty(obj, propertyName) {\n        return;\n    }\n    handleChange(newValue, previousValue, flags) {\n        return;\n    }\n}\n//# sourceMappingURL=ref-binding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmcvcmVmLWJpbmRpbmcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2JpbmRpbmcvcmVmLWJpbmRpbmcuanM/MWRlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgUmVmQmluZGluZyB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlRXhwcmVzc2lvbiwgdGFyZ2V0LCBsb2NhdG9yKSB7XG4gICAgICAgIHRoaXMuc291cmNlRXhwcmVzc2lvbiA9IHNvdXJjZUV4cHJlc3Npb247XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmxvY2F0b3IgPSBsb2NhdG9yO1xuICAgICAgICB0aGlzLmludGVyY2VwdG9yID0gdGhpcztcbiAgICAgICAgdGhpcy5pc0JvdW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMuJHNjb3BlID0gdm9pZCAwO1xuICAgICAgICB0aGlzLiRob3N0U2NvcGUgPSBudWxsO1xuICAgIH1cbiAgICAkYmluZChmbGFncywgc2NvcGUsIGhvc3RTY29wZSkge1xuICAgICAgICBpZiAodGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUgPT09IHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbnRlcmNlcHRvci4kdW5iaW5kKGZsYWdzIHwgMiAvKiBmcm9tQmluZCAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kc2NvcGUgPSBzY29wZTtcbiAgICAgICAgdGhpcy4kaG9zdFNjb3BlID0gaG9zdFNjb3BlO1xuICAgICAgICBpZiAodGhpcy5zb3VyY2VFeHByZXNzaW9uLmhhc0JpbmQpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlRXhwcmVzc2lvbi5iaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvdXJjZUV4cHJlc3Npb24uYXNzaWduKGZsYWdzLCB0aGlzLiRzY29wZSwgaG9zdFNjb3BlLCB0aGlzLmxvY2F0b3IsIHRoaXMudGFyZ2V0KTtcbiAgICAgICAgLy8gYWRkIGlzQm91bmQgZmxhZyBhbmQgcmVtb3ZlIGlzQmluZGluZyBmbGFnXG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IHRydWU7XG4gICAgfVxuICAgICR1bmJpbmQoZmxhZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc291cmNlRXhwcmVzc2lvbiA9IHRoaXMuc291cmNlRXhwcmVzc2lvbjtcbiAgICAgICAgaWYgKHNvdXJjZUV4cHJlc3Npb24uZXZhbHVhdGUoZmxhZ3MsIHRoaXMuJHNjb3BlLCB0aGlzLiRob3N0U2NvcGUsIHRoaXMubG9jYXRvciwgbnVsbCkgPT09IHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICBzb3VyY2VFeHByZXNzaW9uLmFzc2lnbihmbGFncywgdGhpcy4kc2NvcGUsIHRoaXMuJGhvc3RTY29wZSwgdGhpcy5sb2NhdG9yLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzb3VyY2UgZXhwcmVzc2lvbiBtaWdodCBoYXZlIGJlZW4gbW9kaWZpZWQgZHVycmluZyBhc3NpZ24sIHZpYSBhIEJCXG4gICAgICAgIC8vIGRlZXBzY2FuLWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHNvdXJjZUV4cHJlc3Npb24gPSB0aGlzLnNvdXJjZUV4cHJlc3Npb247XG4gICAgICAgIGlmIChzb3VyY2VFeHByZXNzaW9uLmhhc1VuYmluZCkge1xuICAgICAgICAgICAgc291cmNlRXhwcmVzc2lvbi51bmJpbmQoZmxhZ3MsIHRoaXMuJHNjb3BlLCB0aGlzLiRob3N0U2NvcGUsIHRoaXMuaW50ZXJjZXB0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHNjb3BlID0gdm9pZCAwO1xuICAgICAgICB0aGlzLiRob3N0U2NvcGUgPSBudWxsO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICB9XG4gICAgb2JzZXJ2ZVByb3BlcnR5KG9iaiwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKG5ld1ZhbHVlLCBwcmV2aW91c1ZhbHVlLCBmbGFncykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVmLWJpbmRpbmcuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/binding/ref-binding.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/configuration.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/configuration.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DebounceBindingBehaviorRegistration\": () => (/* binding */ DebounceBindingBehaviorRegistration),\n/* harmony export */   \"OneTimeBindingBehaviorRegistration\": () => (/* binding */ OneTimeBindingBehaviorRegistration),\n/* harmony export */   \"ToViewBindingBehaviorRegistration\": () => (/* binding */ ToViewBindingBehaviorRegistration),\n/* harmony export */   \"FromViewBindingBehaviorRegistration\": () => (/* binding */ FromViewBindingBehaviorRegistration),\n/* harmony export */   \"SignalBindingBehaviorRegistration\": () => (/* binding */ SignalBindingBehaviorRegistration),\n/* harmony export */   \"ThrottleBindingBehaviorRegistration\": () => (/* binding */ ThrottleBindingBehaviorRegistration),\n/* harmony export */   \"TwoWayBindingBehaviorRegistration\": () => (/* binding */ TwoWayBindingBehaviorRegistration),\n/* harmony export */   \"ITemplateCompilerRegistration\": () => (/* binding */ ITemplateCompilerRegistration),\n/* harmony export */   \"INodeObserverLocatorRegistration\": () => (/* binding */ INodeObserverLocatorRegistration),\n/* harmony export */   \"DefaultComponents\": () => (/* binding */ DefaultComponents),\n/* harmony export */   \"SVGAnalyzerRegistration\": () => (/* binding */ SVGAnalyzerRegistration),\n/* harmony export */   \"AtPrefixedTriggerAttributePatternRegistration\": () => (/* binding */ AtPrefixedTriggerAttributePatternRegistration),\n/* harmony export */   \"ColonPrefixedBindAttributePatternRegistration\": () => (/* binding */ ColonPrefixedBindAttributePatternRegistration),\n/* harmony export */   \"RefAttributePatternRegistration\": () => (/* binding */ RefAttributePatternRegistration),\n/* harmony export */   \"DotSeparatedAttributePatternRegistration\": () => (/* binding */ DotSeparatedAttributePatternRegistration),\n/* harmony export */   \"DefaultBindingSyntax\": () => (/* binding */ DefaultBindingSyntax),\n/* harmony export */   \"ShortHandBindingSyntax\": () => (/* binding */ ShortHandBindingSyntax),\n/* harmony export */   \"CallBindingCommandRegistration\": () => (/* binding */ CallBindingCommandRegistration),\n/* harmony export */   \"DefaultBindingCommandRegistration\": () => (/* binding */ DefaultBindingCommandRegistration),\n/* harmony export */   \"ForBindingCommandRegistration\": () => (/* binding */ ForBindingCommandRegistration),\n/* harmony export */   \"FromViewBindingCommandRegistration\": () => (/* binding */ FromViewBindingCommandRegistration),\n/* harmony export */   \"OneTimeBindingCommandRegistration\": () => (/* binding */ OneTimeBindingCommandRegistration),\n/* harmony export */   \"ToViewBindingCommandRegistration\": () => (/* binding */ ToViewBindingCommandRegistration),\n/* harmony export */   \"TwoWayBindingCommandRegistration\": () => (/* binding */ TwoWayBindingCommandRegistration),\n/* harmony export */   \"RefBindingCommandRegistration\": () => (/* binding */ RefBindingCommandRegistration),\n/* harmony export */   \"TriggerBindingCommandRegistration\": () => (/* binding */ TriggerBindingCommandRegistration),\n/* harmony export */   \"DelegateBindingCommandRegistration\": () => (/* binding */ DelegateBindingCommandRegistration),\n/* harmony export */   \"CaptureBindingCommandRegistration\": () => (/* binding */ CaptureBindingCommandRegistration),\n/* harmony export */   \"AttrBindingCommandRegistration\": () => (/* binding */ AttrBindingCommandRegistration),\n/* harmony export */   \"ClassBindingCommandRegistration\": () => (/* binding */ ClassBindingCommandRegistration),\n/* harmony export */   \"StyleBindingCommandRegistration\": () => (/* binding */ StyleBindingCommandRegistration),\n/* harmony export */   \"DefaultBindingLanguage\": () => (/* binding */ DefaultBindingLanguage),\n/* harmony export */   \"SanitizeValueConverterRegistration\": () => (/* binding */ SanitizeValueConverterRegistration),\n/* harmony export */   \"ViewValueConverterRegistration\": () => (/* binding */ ViewValueConverterRegistration),\n/* harmony export */   \"FrequentMutationsRegistration\": () => (/* binding */ FrequentMutationsRegistration),\n/* harmony export */   \"ObserveShallowRegistration\": () => (/* binding */ ObserveShallowRegistration),\n/* harmony export */   \"IfRegistration\": () => (/* binding */ IfRegistration),\n/* harmony export */   \"ElseRegistration\": () => (/* binding */ ElseRegistration),\n/* harmony export */   \"RepeatRegistration\": () => (/* binding */ RepeatRegistration),\n/* harmony export */   \"WithRegistration\": () => (/* binding */ WithRegistration),\n/* harmony export */   \"SwitchRegistration\": () => (/* binding */ SwitchRegistration),\n/* harmony export */   \"CaseRegistration\": () => (/* binding */ CaseRegistration),\n/* harmony export */   \"DefaultCaseRegistration\": () => (/* binding */ DefaultCaseRegistration),\n/* harmony export */   \"AttrBindingBehaviorRegistration\": () => (/* binding */ AttrBindingBehaviorRegistration),\n/* harmony export */   \"SelfBindingBehaviorRegistration\": () => (/* binding */ SelfBindingBehaviorRegistration),\n/* harmony export */   \"UpdateTriggerBindingBehaviorRegistration\": () => (/* binding */ UpdateTriggerBindingBehaviorRegistration),\n/* harmony export */   \"ComposeRegistration\": () => (/* binding */ ComposeRegistration),\n/* harmony export */   \"PortalRegistration\": () => (/* binding */ PortalRegistration),\n/* harmony export */   \"FocusRegistration\": () => (/* binding */ FocusRegistration),\n/* harmony export */   \"BlurRegistration\": () => (/* binding */ BlurRegistration),\n/* harmony export */   \"ShowRegistration\": () => (/* binding */ ShowRegistration),\n/* harmony export */   \"DefaultResources\": () => (/* binding */ DefaultResources),\n/* harmony export */   \"CallBindingRendererRegistration\": () => (/* binding */ CallBindingRendererRegistration),\n/* harmony export */   \"CustomAttributeRendererRegistration\": () => (/* binding */ CustomAttributeRendererRegistration),\n/* harmony export */   \"CustomElementRendererRegistration\": () => (/* binding */ CustomElementRendererRegistration),\n/* harmony export */   \"InterpolationBindingRendererRegistration\": () => (/* binding */ InterpolationBindingRendererRegistration),\n/* harmony export */   \"IteratorBindingRendererRegistration\": () => (/* binding */ IteratorBindingRendererRegistration),\n/* harmony export */   \"LetElementRendererRegistration\": () => (/* binding */ LetElementRendererRegistration),\n/* harmony export */   \"PropertyBindingRendererRegistration\": () => (/* binding */ PropertyBindingRendererRegistration),\n/* harmony export */   \"RefBindingRendererRegistration\": () => (/* binding */ RefBindingRendererRegistration),\n/* harmony export */   \"SetPropertyRendererRegistration\": () => (/* binding */ SetPropertyRendererRegistration),\n/* harmony export */   \"TemplateControllerRendererRegistration\": () => (/* binding */ TemplateControllerRendererRegistration),\n/* harmony export */   \"ListenerBindingRendererRegistration\": () => (/* binding */ ListenerBindingRendererRegistration),\n/* harmony export */   \"AttributeBindingRendererRegistration\": () => (/* binding */ AttributeBindingRendererRegistration),\n/* harmony export */   \"SetAttributeRendererRegistration\": () => (/* binding */ SetAttributeRendererRegistration),\n/* harmony export */   \"SetClassAttributeRendererRegistration\": () => (/* binding */ SetClassAttributeRendererRegistration),\n/* harmony export */   \"SetStyleAttributeRendererRegistration\": () => (/* binding */ SetStyleAttributeRendererRegistration),\n/* harmony export */   \"StylePropertyBindingRendererRegistration\": () => (/* binding */ StylePropertyBindingRendererRegistration),\n/* harmony export */   \"TextBindingRendererRegistration\": () => (/* binding */ TextBindingRendererRegistration),\n/* harmony export */   \"DefaultRenderers\": () => (/* binding */ DefaultRenderers),\n/* harmony export */   \"StandardConfiguration\": () => (/* binding */ StandardConfiguration)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./resources/attribute-pattern.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/attribute-pattern.js\");\n/* harmony import */ var _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resources/binding-command.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-command.js\");\n/* harmony import */ var _template_compiler_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./template-compiler.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/template-compiler.js\");\n/* harmony import */ var _renderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./renderer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/renderer.js\");\n/* harmony import */ var _binding_behaviors_binding_mode_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./binding-behaviors/binding-mode.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/binding-mode.js\");\n/* harmony import */ var _binding_behaviors_debounce_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./binding-behaviors/debounce.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/debounce.js\");\n/* harmony import */ var _binding_behaviors_signals_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./binding-behaviors/signals.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/signals.js\");\n/* harmony import */ var _binding_behaviors_throttle_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./binding-behaviors/throttle.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/throttle.js\");\n/* harmony import */ var _observation_svg_analyzer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./observation/svg-analyzer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/svg-analyzer.js\");\n/* harmony import */ var _resources_binding_behaviors_attr_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./resources/binding-behaviors/attr.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/attr.js\");\n/* harmony import */ var _resources_binding_behaviors_self_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./resources/binding-behaviors/self.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/self.js\");\n/* harmony import */ var _resources_binding_behaviors_update_trigger_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./resources/binding-behaviors/update-trigger.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/update-trigger.js\");\n/* harmony import */ var _resources_custom_attributes_blur_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./resources/custom-attributes/blur.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/blur.js\");\n/* harmony import */ var _resources_custom_attributes_focus_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./resources/custom-attributes/focus.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/focus.js\");\n/* harmony import */ var _resources_custom_attributes_show_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./resources/custom-attributes/show.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/show.js\");\n/* harmony import */ var _resources_template_controllers_portal_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./resources/template-controllers/portal.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/portal.js\");\n/* harmony import */ var _resources_template_controllers_flags_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./resources/template-controllers/flags.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/flags.js\");\n/* harmony import */ var _resources_template_controllers_if_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./resources/template-controllers/if.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/if.js\");\n/* harmony import */ var _resources_template_controllers_repeat_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./resources/template-controllers/repeat.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/repeat.js\");\n/* harmony import */ var _resources_template_controllers_with_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./resources/template-controllers/with.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/with.js\");\n/* harmony import */ var _resources_template_controllers_switch_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./resources/template-controllers/switch.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/switch.js\");\n/* harmony import */ var _resources_custom_elements_compose_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./resources/custom-elements/compose.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/compose.js\");\n/* harmony import */ var _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./resources/custom-elements/au-slot.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/au-slot.js\");\n/* harmony import */ var _resources_value_converters_sanitize_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./resources/value-converters/sanitize.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/value-converters/sanitize.js\");\n/* harmony import */ var _resources_value_converters_view_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./resources/value-converters/view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/value-converters/view.js\");\n/* harmony import */ var _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./observation/observer-locator.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/observer-locator.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DebounceBindingBehaviorRegistration = _binding_behaviors_debounce_js__WEBPACK_IMPORTED_MODULE_6__.DebounceBindingBehavior;\nconst OneTimeBindingBehaviorRegistration = _binding_behaviors_binding_mode_js__WEBPACK_IMPORTED_MODULE_5__.OneTimeBindingBehavior;\nconst ToViewBindingBehaviorRegistration = _binding_behaviors_binding_mode_js__WEBPACK_IMPORTED_MODULE_5__.ToViewBindingBehavior;\nconst FromViewBindingBehaviorRegistration = _binding_behaviors_binding_mode_js__WEBPACK_IMPORTED_MODULE_5__.FromViewBindingBehavior;\nconst SignalBindingBehaviorRegistration = _binding_behaviors_signals_js__WEBPACK_IMPORTED_MODULE_7__.SignalBindingBehavior;\nconst ThrottleBindingBehaviorRegistration = _binding_behaviors_throttle_js__WEBPACK_IMPORTED_MODULE_8__.ThrottleBindingBehavior;\nconst TwoWayBindingBehaviorRegistration = _binding_behaviors_binding_mode_js__WEBPACK_IMPORTED_MODULE_5__.TwoWayBindingBehavior;\nconst ITemplateCompilerRegistration = _template_compiler_js__WEBPACK_IMPORTED_MODULE_3__.TemplateCompiler;\nconst INodeObserverLocatorRegistration = _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_26__.NodeObserverLocator;\n/**\n * Default HTML-specific (but environment-agnostic) implementations for the following interfaces:\n * - `ITemplateCompiler`\n * - `ITargetAccessorLocator`\n * - `ITargetObserverLocator`\n */\nconst DefaultComponents = [\n    ITemplateCompilerRegistration,\n    INodeObserverLocatorRegistration,\n];\nconst SVGAnalyzerRegistration = _observation_svg_analyzer_js__WEBPACK_IMPORTED_MODULE_9__.SVGAnalyzer;\nconst AtPrefixedTriggerAttributePatternRegistration = _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_1__.AtPrefixedTriggerAttributePattern;\nconst ColonPrefixedBindAttributePatternRegistration = _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_1__.ColonPrefixedBindAttributePattern;\nconst RefAttributePatternRegistration = _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_1__.RefAttributePattern;\nconst DotSeparatedAttributePatternRegistration = _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_1__.DotSeparatedAttributePattern;\n/**\n * Default binding syntax for the following attribute name patterns:\n * - `ref`\n * - `target.command` (dot-separated)\n */\nconst DefaultBindingSyntax = [\n    RefAttributePatternRegistration,\n    DotSeparatedAttributePatternRegistration\n];\n/**\n * Binding syntax for short-hand attribute name patterns:\n * - `@target` (short-hand for `target.trigger`)\n * - `:target` (short-hand for `target.bind`)\n */\nconst ShortHandBindingSyntax = [\n    AtPrefixedTriggerAttributePatternRegistration,\n    ColonPrefixedBindAttributePatternRegistration\n];\nconst CallBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.CallBindingCommand;\nconst DefaultBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.DefaultBindingCommand;\nconst ForBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.ForBindingCommand;\nconst FromViewBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.FromViewBindingCommand;\nconst OneTimeBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.OneTimeBindingCommand;\nconst ToViewBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.ToViewBindingCommand;\nconst TwoWayBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.TwoWayBindingCommand;\nconst RefBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.RefBindingCommand;\nconst TriggerBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.TriggerBindingCommand;\nconst DelegateBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.DelegateBindingCommand;\nconst CaptureBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.CaptureBindingCommand;\nconst AttrBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.AttrBindingCommand;\nconst ClassBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.ClassBindingCommand;\nconst StyleBindingCommandRegistration = _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.StyleBindingCommand;\n/**\n * Default HTML-specific (but environment-agnostic) binding commands:\n * - Property observation: `.bind`, `.one-time`, `.from-view`, `.to-view`, `.two-way`\n * - Function call: `.call`\n * - Collection observation: `.for`\n * - Event listeners: `.trigger`, `.delegate`, `.capture`\n */\nconst DefaultBindingLanguage = [\n    DefaultBindingCommandRegistration,\n    OneTimeBindingCommandRegistration,\n    FromViewBindingCommandRegistration,\n    ToViewBindingCommandRegistration,\n    TwoWayBindingCommandRegistration,\n    CallBindingCommandRegistration,\n    ForBindingCommandRegistration,\n    RefBindingCommandRegistration,\n    TriggerBindingCommandRegistration,\n    DelegateBindingCommandRegistration,\n    CaptureBindingCommandRegistration,\n    ClassBindingCommandRegistration,\n    StyleBindingCommandRegistration,\n    AttrBindingCommandRegistration,\n];\nconst SanitizeValueConverterRegistration = _resources_value_converters_sanitize_js__WEBPACK_IMPORTED_MODULE_24__.SanitizeValueConverter;\nconst ViewValueConverterRegistration = _resources_value_converters_view_js__WEBPACK_IMPORTED_MODULE_25__.ViewValueConverter;\nconst FrequentMutationsRegistration = _resources_template_controllers_flags_js__WEBPACK_IMPORTED_MODULE_17__.FrequentMutations;\nconst ObserveShallowRegistration = _resources_template_controllers_flags_js__WEBPACK_IMPORTED_MODULE_17__.ObserveShallow;\nconst IfRegistration = _resources_template_controllers_if_js__WEBPACK_IMPORTED_MODULE_18__.If;\nconst ElseRegistration = _resources_template_controllers_if_js__WEBPACK_IMPORTED_MODULE_18__.Else;\nconst RepeatRegistration = _resources_template_controllers_repeat_js__WEBPACK_IMPORTED_MODULE_19__.Repeat;\nconst WithRegistration = _resources_template_controllers_with_js__WEBPACK_IMPORTED_MODULE_20__.With;\nconst SwitchRegistration = _resources_template_controllers_switch_js__WEBPACK_IMPORTED_MODULE_21__.Switch;\nconst CaseRegistration = _resources_template_controllers_switch_js__WEBPACK_IMPORTED_MODULE_21__.Case;\nconst DefaultCaseRegistration = _resources_template_controllers_switch_js__WEBPACK_IMPORTED_MODULE_21__.DefaultCase;\nconst AttrBindingBehaviorRegistration = _resources_binding_behaviors_attr_js__WEBPACK_IMPORTED_MODULE_10__.AttrBindingBehavior;\nconst SelfBindingBehaviorRegistration = _resources_binding_behaviors_self_js__WEBPACK_IMPORTED_MODULE_11__.SelfBindingBehavior;\nconst UpdateTriggerBindingBehaviorRegistration = _resources_binding_behaviors_update_trigger_js__WEBPACK_IMPORTED_MODULE_12__.UpdateTriggerBindingBehavior;\nconst ComposeRegistration = _resources_custom_elements_compose_js__WEBPACK_IMPORTED_MODULE_22__.Compose;\nconst PortalRegistration = _resources_template_controllers_portal_js__WEBPACK_IMPORTED_MODULE_16__.Portal;\nconst FocusRegistration = _resources_custom_attributes_focus_js__WEBPACK_IMPORTED_MODULE_14__.Focus;\nconst BlurRegistration = _resources_custom_attributes_blur_js__WEBPACK_IMPORTED_MODULE_13__.Blur;\nconst ShowRegistration = _resources_custom_attributes_show_js__WEBPACK_IMPORTED_MODULE_15__.Show;\n/**\n * Default HTML-specific (but environment-agnostic) resources:\n * - Binding Behaviors: `oneTime`, `toView`, `fromView`, `twoWay`, `signal`, `debounce`, `throttle`, `attr`, `self`, `updateTrigger`\n * - Custom Elements: `au-compose`, `au-slot`\n * - Custom Attributes: `blur`, `focus`, `portal`\n * - Template controllers: `if`/`else`, `repeat`, `with`\n * - Value Converters: `sanitize`\n */\nconst DefaultResources = [\n    DebounceBindingBehaviorRegistration,\n    OneTimeBindingBehaviorRegistration,\n    ToViewBindingBehaviorRegistration,\n    FromViewBindingBehaviorRegistration,\n    SignalBindingBehaviorRegistration,\n    ThrottleBindingBehaviorRegistration,\n    TwoWayBindingBehaviorRegistration,\n    SanitizeValueConverterRegistration,\n    ViewValueConverterRegistration,\n    FrequentMutationsRegistration,\n    ObserveShallowRegistration,\n    IfRegistration,\n    ElseRegistration,\n    RepeatRegistration,\n    WithRegistration,\n    SwitchRegistration,\n    CaseRegistration,\n    DefaultCaseRegistration,\n    AttrBindingBehaviorRegistration,\n    SelfBindingBehaviorRegistration,\n    UpdateTriggerBindingBehaviorRegistration,\n    ComposeRegistration,\n    PortalRegistration,\n    FocusRegistration,\n    BlurRegistration,\n    ShowRegistration,\n    _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_23__.AuSlot,\n];\nconst CallBindingRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.CallBindingRenderer;\nconst CustomAttributeRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.CustomAttributeRenderer;\nconst CustomElementRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.CustomElementRenderer;\nconst InterpolationBindingRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.InterpolationBindingRenderer;\nconst IteratorBindingRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.IteratorBindingRenderer;\nconst LetElementRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.LetElementRenderer;\nconst PropertyBindingRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.PropertyBindingRenderer;\nconst RefBindingRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.RefBindingRenderer;\nconst SetPropertyRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.SetPropertyRenderer;\nconst TemplateControllerRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.TemplateControllerRenderer;\nconst ListenerBindingRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.ListenerBindingRenderer;\nconst AttributeBindingRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.AttributeBindingRenderer;\nconst SetAttributeRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.SetAttributeRenderer;\nconst SetClassAttributeRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.SetClassAttributeRenderer;\nconst SetStyleAttributeRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.SetStyleAttributeRenderer;\nconst StylePropertyBindingRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.StylePropertyBindingRenderer;\nconst TextBindingRendererRegistration = _renderer_js__WEBPACK_IMPORTED_MODULE_4__.TextBindingRenderer;\n/**\n * Default renderers for:\n * - PropertyBinding: `bind`, `one-time`, `to-view`, `from-view`, `two-way`\n * - IteratorBinding: `for`\n * - CallBinding: `call`\n * - RefBinding: `ref`\n * - InterpolationBinding: `${}`\n * - SetProperty\n * - `customElement` hydration\n * - `customAttribute` hydration\n * - `templateController` hydration\n * - `let` element hydration\n * - Listener Bindings: `trigger`, `capture`, `delegate`\n * - SetAttribute\n * - StyleProperty: `style`, `css`\n * - TextBinding: `${}`\n */\nconst DefaultRenderers = [\n    PropertyBindingRendererRegistration,\n    IteratorBindingRendererRegistration,\n    CallBindingRendererRegistration,\n    RefBindingRendererRegistration,\n    InterpolationBindingRendererRegistration,\n    SetPropertyRendererRegistration,\n    CustomElementRendererRegistration,\n    CustomAttributeRendererRegistration,\n    TemplateControllerRendererRegistration,\n    LetElementRendererRegistration,\n    ListenerBindingRendererRegistration,\n    AttributeBindingRendererRegistration,\n    SetAttributeRendererRegistration,\n    SetClassAttributeRendererRegistration,\n    SetStyleAttributeRendererRegistration,\n    StylePropertyBindingRendererRegistration,\n    TextBindingRendererRegistration,\n];\n/**\n * A DI configuration object containing html-specific (but environment-agnostic) registrations:\n * - `RuntimeConfiguration` from `@aurelia/runtime`\n * - `DefaultComponents`\n * - `DefaultResources`\n * - `DefaultRenderers`\n */\nconst StandardConfiguration = {\n    /**\n     * Apply this configuration to the provided container.\n     */\n    register(container) {\n        return container.register(...DefaultComponents, ...DefaultResources, ...DefaultBindingSyntax, ...DefaultBindingLanguage, ...DefaultRenderers);\n    },\n    /**\n     * Create a new container with this configuration applied to it.\n     */\n    createContainer() {\n        return this.register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createContainer());\n    }\n};\n//# sourceMappingURL=configuration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2NvbmZpZ3VyYXRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2NvbmZpZ3VyYXRpb24uanM/YTc4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBESSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBBdFByZWZpeGVkVHJpZ2dlckF0dHJpYnV0ZVBhdHRlcm4sIENvbG9uUHJlZml4ZWRCaW5kQXR0cmlidXRlUGF0dGVybiwgRG90U2VwYXJhdGVkQXR0cmlidXRlUGF0dGVybiwgUmVmQXR0cmlidXRlUGF0dGVybiwgfSBmcm9tICcuL3Jlc291cmNlcy9hdHRyaWJ1dGUtcGF0dGVybi5qcyc7XG5pbXBvcnQgeyBDYWxsQmluZGluZ0NvbW1hbmQsIERlZmF1bHRCaW5kaW5nQ29tbWFuZCwgRm9yQmluZGluZ0NvbW1hbmQsIEZyb21WaWV3QmluZGluZ0NvbW1hbmQsIE9uZVRpbWVCaW5kaW5nQ29tbWFuZCwgVG9WaWV3QmluZGluZ0NvbW1hbmQsIFR3b1dheUJpbmRpbmdDb21tYW5kLCBBdHRyQmluZGluZ0NvbW1hbmQsIENhcHR1cmVCaW5kaW5nQ29tbWFuZCwgQ2xhc3NCaW5kaW5nQ29tbWFuZCwgRGVsZWdhdGVCaW5kaW5nQ29tbWFuZCwgUmVmQmluZGluZ0NvbW1hbmQsIFN0eWxlQmluZGluZ0NvbW1hbmQsIFRyaWdnZXJCaW5kaW5nQ29tbWFuZCwgfSBmcm9tICcuL3Jlc291cmNlcy9iaW5kaW5nLWNvbW1hbmQuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVDb21waWxlciB9IGZyb20gJy4vdGVtcGxhdGUtY29tcGlsZXIuanMnO1xuaW1wb3J0IHsgQ2FsbEJpbmRpbmdSZW5kZXJlciwgQ3VzdG9tQXR0cmlidXRlUmVuZGVyZXIsIEN1c3RvbUVsZW1lbnRSZW5kZXJlciwgSW50ZXJwb2xhdGlvbkJpbmRpbmdSZW5kZXJlciwgSXRlcmF0b3JCaW5kaW5nUmVuZGVyZXIsIExldEVsZW1lbnRSZW5kZXJlciwgUHJvcGVydHlCaW5kaW5nUmVuZGVyZXIsIFJlZkJpbmRpbmdSZW5kZXJlciwgU2V0UHJvcGVydHlSZW5kZXJlciwgVGVtcGxhdGVDb250cm9sbGVyUmVuZGVyZXIsIEF0dHJpYnV0ZUJpbmRpbmdSZW5kZXJlciwgTGlzdGVuZXJCaW5kaW5nUmVuZGVyZXIsIFNldEF0dHJpYnV0ZVJlbmRlcmVyLCBTdHlsZVByb3BlcnR5QmluZGluZ1JlbmRlcmVyLCBUZXh0QmluZGluZ1JlbmRlcmVyLCBTZXRDbGFzc0F0dHJpYnV0ZVJlbmRlcmVyLCBTZXRTdHlsZUF0dHJpYnV0ZVJlbmRlcmVyLCB9IGZyb20gJy4vcmVuZGVyZXIuanMnO1xuaW1wb3J0IHsgRnJvbVZpZXdCaW5kaW5nQmVoYXZpb3IsIE9uZVRpbWVCaW5kaW5nQmVoYXZpb3IsIFRvVmlld0JpbmRpbmdCZWhhdmlvciwgVHdvV2F5QmluZGluZ0JlaGF2aW9yLCB9IGZyb20gJy4vYmluZGluZy1iZWhhdmlvcnMvYmluZGluZy1tb2RlLmpzJztcbmltcG9ydCB7IERlYm91bmNlQmluZGluZ0JlaGF2aW9yIH0gZnJvbSAnLi9iaW5kaW5nLWJlaGF2aW9ycy9kZWJvdW5jZS5qcyc7XG5pbXBvcnQgeyBTaWduYWxCaW5kaW5nQmVoYXZpb3IgfSBmcm9tICcuL2JpbmRpbmctYmVoYXZpb3JzL3NpZ25hbHMuanMnO1xuaW1wb3J0IHsgVGhyb3R0bGVCaW5kaW5nQmVoYXZpb3IgfSBmcm9tICcuL2JpbmRpbmctYmVoYXZpb3JzL3Rocm90dGxlLmpzJztcbmltcG9ydCB7IFNWR0FuYWx5emVyIH0gZnJvbSAnLi9vYnNlcnZhdGlvbi9zdmctYW5hbHl6ZXIuanMnO1xuaW1wb3J0IHsgQXR0ckJpbmRpbmdCZWhhdmlvciB9IGZyb20gJy4vcmVzb3VyY2VzL2JpbmRpbmctYmVoYXZpb3JzL2F0dHIuanMnO1xuaW1wb3J0IHsgU2VsZkJpbmRpbmdCZWhhdmlvciB9IGZyb20gJy4vcmVzb3VyY2VzL2JpbmRpbmctYmVoYXZpb3JzL3NlbGYuanMnO1xuaW1wb3J0IHsgVXBkYXRlVHJpZ2dlckJpbmRpbmdCZWhhdmlvciB9IGZyb20gJy4vcmVzb3VyY2VzL2JpbmRpbmctYmVoYXZpb3JzL3VwZGF0ZS10cmlnZ2VyLmpzJztcbmltcG9ydCB7IEJsdXIgfSBmcm9tICcuL3Jlc291cmNlcy9jdXN0b20tYXR0cmlidXRlcy9ibHVyLmpzJztcbmltcG9ydCB7IEZvY3VzIH0gZnJvbSAnLi9yZXNvdXJjZXMvY3VzdG9tLWF0dHJpYnV0ZXMvZm9jdXMuanMnO1xuaW1wb3J0IHsgU2hvdyB9IGZyb20gJy4vcmVzb3VyY2VzL2N1c3RvbS1hdHRyaWJ1dGVzL3Nob3cuanMnO1xuaW1wb3J0IHsgUG9ydGFsIH0gZnJvbSAnLi9yZXNvdXJjZXMvdGVtcGxhdGUtY29udHJvbGxlcnMvcG9ydGFsLmpzJztcbmltcG9ydCB7IEZyZXF1ZW50TXV0YXRpb25zLCBPYnNlcnZlU2hhbGxvdyB9IGZyb20gJy4vcmVzb3VyY2VzL3RlbXBsYXRlLWNvbnRyb2xsZXJzL2ZsYWdzLmpzJztcbmltcG9ydCB7IEVsc2UsIElmIH0gZnJvbSAnLi9yZXNvdXJjZXMvdGVtcGxhdGUtY29udHJvbGxlcnMvaWYuanMnO1xuaW1wb3J0IHsgUmVwZWF0IH0gZnJvbSAnLi9yZXNvdXJjZXMvdGVtcGxhdGUtY29udHJvbGxlcnMvcmVwZWF0LmpzJztcbmltcG9ydCB7IFdpdGggfSBmcm9tICcuL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy93aXRoLmpzJztcbmltcG9ydCB7IFN3aXRjaCwgQ2FzZSwgRGVmYXVsdENhc2UgfSBmcm9tICcuL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9zd2l0Y2guanMnO1xuaW1wb3J0IHsgQ29tcG9zZSB9IGZyb20gJy4vcmVzb3VyY2VzL2N1c3RvbS1lbGVtZW50cy9jb21wb3NlLmpzJztcbmltcG9ydCB7IEF1U2xvdCB9IGZyb20gJy4vcmVzb3VyY2VzL2N1c3RvbS1lbGVtZW50cy9hdS1zbG90LmpzJztcbmltcG9ydCB7IFNhbml0aXplVmFsdWVDb252ZXJ0ZXIgfSBmcm9tICcuL3Jlc291cmNlcy92YWx1ZS1jb252ZXJ0ZXJzL3Nhbml0aXplLmpzJztcbmltcG9ydCB7IFZpZXdWYWx1ZUNvbnZlcnRlciB9IGZyb20gJy4vcmVzb3VyY2VzL3ZhbHVlLWNvbnZlcnRlcnMvdmlldy5qcyc7XG5pbXBvcnQgeyBOb2RlT2JzZXJ2ZXJMb2NhdG9yIH0gZnJvbSAnLi9vYnNlcnZhdGlvbi9vYnNlcnZlci1sb2NhdG9yLmpzJztcbmV4cG9ydCBjb25zdCBEZWJvdW5jZUJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiA9IERlYm91bmNlQmluZGluZ0JlaGF2aW9yO1xuZXhwb3J0IGNvbnN0IE9uZVRpbWVCaW5kaW5nQmVoYXZpb3JSZWdpc3RyYXRpb24gPSBPbmVUaW1lQmluZGluZ0JlaGF2aW9yO1xuZXhwb3J0IGNvbnN0IFRvVmlld0JpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiA9IFRvVmlld0JpbmRpbmdCZWhhdmlvcjtcbmV4cG9ydCBjb25zdCBGcm9tVmlld0JpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiA9IEZyb21WaWV3QmluZGluZ0JlaGF2aW9yO1xuZXhwb3J0IGNvbnN0IFNpZ25hbEJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiA9IFNpZ25hbEJpbmRpbmdCZWhhdmlvcjtcbmV4cG9ydCBjb25zdCBUaHJvdHRsZUJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiA9IFRocm90dGxlQmluZGluZ0JlaGF2aW9yO1xuZXhwb3J0IGNvbnN0IFR3b1dheUJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiA9IFR3b1dheUJpbmRpbmdCZWhhdmlvcjtcbmV4cG9ydCBjb25zdCBJVGVtcGxhdGVDb21waWxlclJlZ2lzdHJhdGlvbiA9IFRlbXBsYXRlQ29tcGlsZXI7XG5leHBvcnQgY29uc3QgSU5vZGVPYnNlcnZlckxvY2F0b3JSZWdpc3RyYXRpb24gPSBOb2RlT2JzZXJ2ZXJMb2NhdG9yO1xuLyoqXG4gKiBEZWZhdWx0IEhUTUwtc3BlY2lmaWMgKGJ1dCBlbnZpcm9ubWVudC1hZ25vc3RpYykgaW1wbGVtZW50YXRpb25zIGZvciB0aGUgZm9sbG93aW5nIGludGVyZmFjZXM6XG4gKiAtIGBJVGVtcGxhdGVDb21waWxlcmBcbiAqIC0gYElUYXJnZXRBY2Nlc3NvckxvY2F0b3JgXG4gKiAtIGBJVGFyZ2V0T2JzZXJ2ZXJMb2NhdG9yYFxuICovXG5leHBvcnQgY29uc3QgRGVmYXVsdENvbXBvbmVudHMgPSBbXG4gICAgSVRlbXBsYXRlQ29tcGlsZXJSZWdpc3RyYXRpb24sXG4gICAgSU5vZGVPYnNlcnZlckxvY2F0b3JSZWdpc3RyYXRpb24sXG5dO1xuZXhwb3J0IGNvbnN0IFNWR0FuYWx5emVyUmVnaXN0cmF0aW9uID0gU1ZHQW5hbHl6ZXI7XG5leHBvcnQgY29uc3QgQXRQcmVmaXhlZFRyaWdnZXJBdHRyaWJ1dGVQYXR0ZXJuUmVnaXN0cmF0aW9uID0gQXRQcmVmaXhlZFRyaWdnZXJBdHRyaWJ1dGVQYXR0ZXJuO1xuZXhwb3J0IGNvbnN0IENvbG9uUHJlZml4ZWRCaW5kQXR0cmlidXRlUGF0dGVyblJlZ2lzdHJhdGlvbiA9IENvbG9uUHJlZml4ZWRCaW5kQXR0cmlidXRlUGF0dGVybjtcbmV4cG9ydCBjb25zdCBSZWZBdHRyaWJ1dGVQYXR0ZXJuUmVnaXN0cmF0aW9uID0gUmVmQXR0cmlidXRlUGF0dGVybjtcbmV4cG9ydCBjb25zdCBEb3RTZXBhcmF0ZWRBdHRyaWJ1dGVQYXR0ZXJuUmVnaXN0cmF0aW9uID0gRG90U2VwYXJhdGVkQXR0cmlidXRlUGF0dGVybjtcbi8qKlxuICogRGVmYXVsdCBiaW5kaW5nIHN5bnRheCBmb3IgdGhlIGZvbGxvd2luZyBhdHRyaWJ1dGUgbmFtZSBwYXR0ZXJuczpcbiAqIC0gYHJlZmBcbiAqIC0gYHRhcmdldC5jb21tYW5kYCAoZG90LXNlcGFyYXRlZClcbiAqL1xuZXhwb3J0IGNvbnN0IERlZmF1bHRCaW5kaW5nU3ludGF4ID0gW1xuICAgIFJlZkF0dHJpYnV0ZVBhdHRlcm5SZWdpc3RyYXRpb24sXG4gICAgRG90U2VwYXJhdGVkQXR0cmlidXRlUGF0dGVyblJlZ2lzdHJhdGlvblxuXTtcbi8qKlxuICogQmluZGluZyBzeW50YXggZm9yIHNob3J0LWhhbmQgYXR0cmlidXRlIG5hbWUgcGF0dGVybnM6XG4gKiAtIGBAdGFyZ2V0YCAoc2hvcnQtaGFuZCBmb3IgYHRhcmdldC50cmlnZ2VyYClcbiAqIC0gYDp0YXJnZXRgIChzaG9ydC1oYW5kIGZvciBgdGFyZ2V0LmJpbmRgKVxuICovXG5leHBvcnQgY29uc3QgU2hvcnRIYW5kQmluZGluZ1N5bnRheCA9IFtcbiAgICBBdFByZWZpeGVkVHJpZ2dlckF0dHJpYnV0ZVBhdHRlcm5SZWdpc3RyYXRpb24sXG4gICAgQ29sb25QcmVmaXhlZEJpbmRBdHRyaWJ1dGVQYXR0ZXJuUmVnaXN0cmF0aW9uXG5dO1xuZXhwb3J0IGNvbnN0IENhbGxCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbiA9IENhbGxCaW5kaW5nQ29tbWFuZDtcbmV4cG9ydCBjb25zdCBEZWZhdWx0QmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24gPSBEZWZhdWx0QmluZGluZ0NvbW1hbmQ7XG5leHBvcnQgY29uc3QgRm9yQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24gPSBGb3JCaW5kaW5nQ29tbWFuZDtcbmV4cG9ydCBjb25zdCBGcm9tVmlld0JpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uID0gRnJvbVZpZXdCaW5kaW5nQ29tbWFuZDtcbmV4cG9ydCBjb25zdCBPbmVUaW1lQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24gPSBPbmVUaW1lQmluZGluZ0NvbW1hbmQ7XG5leHBvcnQgY29uc3QgVG9WaWV3QmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24gPSBUb1ZpZXdCaW5kaW5nQ29tbWFuZDtcbmV4cG9ydCBjb25zdCBUd29XYXlCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbiA9IFR3b1dheUJpbmRpbmdDb21tYW5kO1xuZXhwb3J0IGNvbnN0IFJlZkJpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uID0gUmVmQmluZGluZ0NvbW1hbmQ7XG5leHBvcnQgY29uc3QgVHJpZ2dlckJpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uID0gVHJpZ2dlckJpbmRpbmdDb21tYW5kO1xuZXhwb3J0IGNvbnN0IERlbGVnYXRlQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24gPSBEZWxlZ2F0ZUJpbmRpbmdDb21tYW5kO1xuZXhwb3J0IGNvbnN0IENhcHR1cmVCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbiA9IENhcHR1cmVCaW5kaW5nQ29tbWFuZDtcbmV4cG9ydCBjb25zdCBBdHRyQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24gPSBBdHRyQmluZGluZ0NvbW1hbmQ7XG5leHBvcnQgY29uc3QgQ2xhc3NCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbiA9IENsYXNzQmluZGluZ0NvbW1hbmQ7XG5leHBvcnQgY29uc3QgU3R5bGVCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbiA9IFN0eWxlQmluZGluZ0NvbW1hbmQ7XG4vKipcbiAqIERlZmF1bHQgSFRNTC1zcGVjaWZpYyAoYnV0IGVudmlyb25tZW50LWFnbm9zdGljKSBiaW5kaW5nIGNvbW1hbmRzOlxuICogLSBQcm9wZXJ0eSBvYnNlcnZhdGlvbjogYC5iaW5kYCwgYC5vbmUtdGltZWAsIGAuZnJvbS12aWV3YCwgYC50by12aWV3YCwgYC50d28td2F5YFxuICogLSBGdW5jdGlvbiBjYWxsOiBgLmNhbGxgXG4gKiAtIENvbGxlY3Rpb24gb2JzZXJ2YXRpb246IGAuZm9yYFxuICogLSBFdmVudCBsaXN0ZW5lcnM6IGAudHJpZ2dlcmAsIGAuZGVsZWdhdGVgLCBgLmNhcHR1cmVgXG4gKi9cbmV4cG9ydCBjb25zdCBEZWZhdWx0QmluZGluZ0xhbmd1YWdlID0gW1xuICAgIERlZmF1bHRCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbixcbiAgICBPbmVUaW1lQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4gICAgRnJvbVZpZXdCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbixcbiAgICBUb1ZpZXdCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbixcbiAgICBUd29XYXlCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbixcbiAgICBDYWxsQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4gICAgRm9yQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4gICAgUmVmQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4gICAgVHJpZ2dlckJpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uLFxuICAgIERlbGVnYXRlQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4gICAgQ2FwdHVyZUJpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uLFxuICAgIENsYXNzQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4gICAgU3R5bGVCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbixcbiAgICBBdHRyQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG5dO1xuZXhwb3J0IGNvbnN0IFNhbml0aXplVmFsdWVDb252ZXJ0ZXJSZWdpc3RyYXRpb24gPSBTYW5pdGl6ZVZhbHVlQ29udmVydGVyO1xuZXhwb3J0IGNvbnN0IFZpZXdWYWx1ZUNvbnZlcnRlclJlZ2lzdHJhdGlvbiA9IFZpZXdWYWx1ZUNvbnZlcnRlcjtcbmV4cG9ydCBjb25zdCBGcmVxdWVudE11dGF0aW9uc1JlZ2lzdHJhdGlvbiA9IEZyZXF1ZW50TXV0YXRpb25zO1xuZXhwb3J0IGNvbnN0IE9ic2VydmVTaGFsbG93UmVnaXN0cmF0aW9uID0gT2JzZXJ2ZVNoYWxsb3c7XG5leHBvcnQgY29uc3QgSWZSZWdpc3RyYXRpb24gPSBJZjtcbmV4cG9ydCBjb25zdCBFbHNlUmVnaXN0cmF0aW9uID0gRWxzZTtcbmV4cG9ydCBjb25zdCBSZXBlYXRSZWdpc3RyYXRpb24gPSBSZXBlYXQ7XG5leHBvcnQgY29uc3QgV2l0aFJlZ2lzdHJhdGlvbiA9IFdpdGg7XG5leHBvcnQgY29uc3QgU3dpdGNoUmVnaXN0cmF0aW9uID0gU3dpdGNoO1xuZXhwb3J0IGNvbnN0IENhc2VSZWdpc3RyYXRpb24gPSBDYXNlO1xuZXhwb3J0IGNvbnN0IERlZmF1bHRDYXNlUmVnaXN0cmF0aW9uID0gRGVmYXVsdENhc2U7XG5leHBvcnQgY29uc3QgQXR0ckJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiA9IEF0dHJCaW5kaW5nQmVoYXZpb3I7XG5leHBvcnQgY29uc3QgU2VsZkJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiA9IFNlbGZCaW5kaW5nQmVoYXZpb3I7XG5leHBvcnQgY29uc3QgVXBkYXRlVHJpZ2dlckJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiA9IFVwZGF0ZVRyaWdnZXJCaW5kaW5nQmVoYXZpb3I7XG5leHBvcnQgY29uc3QgQ29tcG9zZVJlZ2lzdHJhdGlvbiA9IENvbXBvc2U7XG5leHBvcnQgY29uc3QgUG9ydGFsUmVnaXN0cmF0aW9uID0gUG9ydGFsO1xuZXhwb3J0IGNvbnN0IEZvY3VzUmVnaXN0cmF0aW9uID0gRm9jdXM7XG5leHBvcnQgY29uc3QgQmx1clJlZ2lzdHJhdGlvbiA9IEJsdXI7XG5leHBvcnQgY29uc3QgU2hvd1JlZ2lzdHJhdGlvbiA9IFNob3c7XG4vKipcbiAqIERlZmF1bHQgSFRNTC1zcGVjaWZpYyAoYnV0IGVudmlyb25tZW50LWFnbm9zdGljKSByZXNvdXJjZXM6XG4gKiAtIEJpbmRpbmcgQmVoYXZpb3JzOiBgb25lVGltZWAsIGB0b1ZpZXdgLCBgZnJvbVZpZXdgLCBgdHdvV2F5YCwgYHNpZ25hbGAsIGBkZWJvdW5jZWAsIGB0aHJvdHRsZWAsIGBhdHRyYCwgYHNlbGZgLCBgdXBkYXRlVHJpZ2dlcmBcbiAqIC0gQ3VzdG9tIEVsZW1lbnRzOiBgYXUtY29tcG9zZWAsIGBhdS1zbG90YFxuICogLSBDdXN0b20gQXR0cmlidXRlczogYGJsdXJgLCBgZm9jdXNgLCBgcG9ydGFsYFxuICogLSBUZW1wbGF0ZSBjb250cm9sbGVyczogYGlmYC9gZWxzZWAsIGByZXBlYXRgLCBgd2l0aGBcbiAqIC0gVmFsdWUgQ29udmVydGVyczogYHNhbml0aXplYFxuICovXG5leHBvcnQgY29uc3QgRGVmYXVsdFJlc291cmNlcyA9IFtcbiAgICBEZWJvdW5jZUJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbixcbiAgICBPbmVUaW1lQmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLFxuICAgIFRvVmlld0JpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbixcbiAgICBGcm9tVmlld0JpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbixcbiAgICBTaWduYWxCaW5kaW5nQmVoYXZpb3JSZWdpc3RyYXRpb24sXG4gICAgVGhyb3R0bGVCaW5kaW5nQmVoYXZpb3JSZWdpc3RyYXRpb24sXG4gICAgVHdvV2F5QmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLFxuICAgIFNhbml0aXplVmFsdWVDb252ZXJ0ZXJSZWdpc3RyYXRpb24sXG4gICAgVmlld1ZhbHVlQ29udmVydGVyUmVnaXN0cmF0aW9uLFxuICAgIEZyZXF1ZW50TXV0YXRpb25zUmVnaXN0cmF0aW9uLFxuICAgIE9ic2VydmVTaGFsbG93UmVnaXN0cmF0aW9uLFxuICAgIElmUmVnaXN0cmF0aW9uLFxuICAgIEVsc2VSZWdpc3RyYXRpb24sXG4gICAgUmVwZWF0UmVnaXN0cmF0aW9uLFxuICAgIFdpdGhSZWdpc3RyYXRpb24sXG4gICAgU3dpdGNoUmVnaXN0cmF0aW9uLFxuICAgIENhc2VSZWdpc3RyYXRpb24sXG4gICAgRGVmYXVsdENhc2VSZWdpc3RyYXRpb24sXG4gICAgQXR0ckJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbixcbiAgICBTZWxmQmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLFxuICAgIFVwZGF0ZVRyaWdnZXJCaW5kaW5nQmVoYXZpb3JSZWdpc3RyYXRpb24sXG4gICAgQ29tcG9zZVJlZ2lzdHJhdGlvbixcbiAgICBQb3J0YWxSZWdpc3RyYXRpb24sXG4gICAgRm9jdXNSZWdpc3RyYXRpb24sXG4gICAgQmx1clJlZ2lzdHJhdGlvbixcbiAgICBTaG93UmVnaXN0cmF0aW9uLFxuICAgIEF1U2xvdCxcbl07XG5leHBvcnQgY29uc3QgQ2FsbEJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbiA9IENhbGxCaW5kaW5nUmVuZGVyZXI7XG5leHBvcnQgY29uc3QgQ3VzdG9tQXR0cmlidXRlUmVuZGVyZXJSZWdpc3RyYXRpb24gPSBDdXN0b21BdHRyaWJ1dGVSZW5kZXJlcjtcbmV4cG9ydCBjb25zdCBDdXN0b21FbGVtZW50UmVuZGVyZXJSZWdpc3RyYXRpb24gPSBDdXN0b21FbGVtZW50UmVuZGVyZXI7XG5leHBvcnQgY29uc3QgSW50ZXJwb2xhdGlvbkJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbiA9IEludGVycG9sYXRpb25CaW5kaW5nUmVuZGVyZXI7XG5leHBvcnQgY29uc3QgSXRlcmF0b3JCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24gPSBJdGVyYXRvckJpbmRpbmdSZW5kZXJlcjtcbmV4cG9ydCBjb25zdCBMZXRFbGVtZW50UmVuZGVyZXJSZWdpc3RyYXRpb24gPSBMZXRFbGVtZW50UmVuZGVyZXI7XG5leHBvcnQgY29uc3QgUHJvcGVydHlCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24gPSBQcm9wZXJ0eUJpbmRpbmdSZW5kZXJlcjtcbmV4cG9ydCBjb25zdCBSZWZCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24gPSBSZWZCaW5kaW5nUmVuZGVyZXI7XG5leHBvcnQgY29uc3QgU2V0UHJvcGVydHlSZW5kZXJlclJlZ2lzdHJhdGlvbiA9IFNldFByb3BlcnR5UmVuZGVyZXI7XG5leHBvcnQgY29uc3QgVGVtcGxhdGVDb250cm9sbGVyUmVuZGVyZXJSZWdpc3RyYXRpb24gPSBUZW1wbGF0ZUNvbnRyb2xsZXJSZW5kZXJlcjtcbmV4cG9ydCBjb25zdCBMaXN0ZW5lckJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbiA9IExpc3RlbmVyQmluZGluZ1JlbmRlcmVyO1xuZXhwb3J0IGNvbnN0IEF0dHJpYnV0ZUJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbiA9IEF0dHJpYnV0ZUJpbmRpbmdSZW5kZXJlcjtcbmV4cG9ydCBjb25zdCBTZXRBdHRyaWJ1dGVSZW5kZXJlclJlZ2lzdHJhdGlvbiA9IFNldEF0dHJpYnV0ZVJlbmRlcmVyO1xuZXhwb3J0IGNvbnN0IFNldENsYXNzQXR0cmlidXRlUmVuZGVyZXJSZWdpc3RyYXRpb24gPSBTZXRDbGFzc0F0dHJpYnV0ZVJlbmRlcmVyO1xuZXhwb3J0IGNvbnN0IFNldFN0eWxlQXR0cmlidXRlUmVuZGVyZXJSZWdpc3RyYXRpb24gPSBTZXRTdHlsZUF0dHJpYnV0ZVJlbmRlcmVyO1xuZXhwb3J0IGNvbnN0IFN0eWxlUHJvcGVydHlCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24gPSBTdHlsZVByb3BlcnR5QmluZGluZ1JlbmRlcmVyO1xuZXhwb3J0IGNvbnN0IFRleHRCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24gPSBUZXh0QmluZGluZ1JlbmRlcmVyO1xuLyoqXG4gKiBEZWZhdWx0IHJlbmRlcmVycyBmb3I6XG4gKiAtIFByb3BlcnR5QmluZGluZzogYGJpbmRgLCBgb25lLXRpbWVgLCBgdG8tdmlld2AsIGBmcm9tLXZpZXdgLCBgdHdvLXdheWBcbiAqIC0gSXRlcmF0b3JCaW5kaW5nOiBgZm9yYFxuICogLSBDYWxsQmluZGluZzogYGNhbGxgXG4gKiAtIFJlZkJpbmRpbmc6IGByZWZgXG4gKiAtIEludGVycG9sYXRpb25CaW5kaW5nOiBgJHt9YFxuICogLSBTZXRQcm9wZXJ0eVxuICogLSBgY3VzdG9tRWxlbWVudGAgaHlkcmF0aW9uXG4gKiAtIGBjdXN0b21BdHRyaWJ1dGVgIGh5ZHJhdGlvblxuICogLSBgdGVtcGxhdGVDb250cm9sbGVyYCBoeWRyYXRpb25cbiAqIC0gYGxldGAgZWxlbWVudCBoeWRyYXRpb25cbiAqIC0gTGlzdGVuZXIgQmluZGluZ3M6IGB0cmlnZ2VyYCwgYGNhcHR1cmVgLCBgZGVsZWdhdGVgXG4gKiAtIFNldEF0dHJpYnV0ZVxuICogLSBTdHlsZVByb3BlcnR5OiBgc3R5bGVgLCBgY3NzYFxuICogLSBUZXh0QmluZGluZzogYCR7fWBcbiAqL1xuZXhwb3J0IGNvbnN0IERlZmF1bHRSZW5kZXJlcnMgPSBbXG4gICAgUHJvcGVydHlCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24sXG4gICAgSXRlcmF0b3JCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24sXG4gICAgQ2FsbEJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbixcbiAgICBSZWZCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24sXG4gICAgSW50ZXJwb2xhdGlvbkJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbixcbiAgICBTZXRQcm9wZXJ0eVJlbmRlcmVyUmVnaXN0cmF0aW9uLFxuICAgIEN1c3RvbUVsZW1lbnRSZW5kZXJlclJlZ2lzdHJhdGlvbixcbiAgICBDdXN0b21BdHRyaWJ1dGVSZW5kZXJlclJlZ2lzdHJhdGlvbixcbiAgICBUZW1wbGF0ZUNvbnRyb2xsZXJSZW5kZXJlclJlZ2lzdHJhdGlvbixcbiAgICBMZXRFbGVtZW50UmVuZGVyZXJSZWdpc3RyYXRpb24sXG4gICAgTGlzdGVuZXJCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24sXG4gICAgQXR0cmlidXRlQmluZGluZ1JlbmRlcmVyUmVnaXN0cmF0aW9uLFxuICAgIFNldEF0dHJpYnV0ZVJlbmRlcmVyUmVnaXN0cmF0aW9uLFxuICAgIFNldENsYXNzQXR0cmlidXRlUmVuZGVyZXJSZWdpc3RyYXRpb24sXG4gICAgU2V0U3R5bGVBdHRyaWJ1dGVSZW5kZXJlclJlZ2lzdHJhdGlvbixcbiAgICBTdHlsZVByb3BlcnR5QmluZGluZ1JlbmRlcmVyUmVnaXN0cmF0aW9uLFxuICAgIFRleHRCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24sXG5dO1xuLyoqXG4gKiBBIERJIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgaHRtbC1zcGVjaWZpYyAoYnV0IGVudmlyb25tZW50LWFnbm9zdGljKSByZWdpc3RyYXRpb25zOlxuICogLSBgUnVudGltZUNvbmZpZ3VyYXRpb25gIGZyb20gYEBhdXJlbGlhL3J1bnRpbWVgXG4gKiAtIGBEZWZhdWx0Q29tcG9uZW50c2BcbiAqIC0gYERlZmF1bHRSZXNvdXJjZXNgXG4gKiAtIGBEZWZhdWx0UmVuZGVyZXJzYFxuICovXG5leHBvcnQgY29uc3QgU3RhbmRhcmRDb25maWd1cmF0aW9uID0ge1xuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoaXMgY29uZmlndXJhdGlvbiB0byB0aGUgcHJvdmlkZWQgY29udGFpbmVyLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyKGNvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gY29udGFpbmVyLnJlZ2lzdGVyKC4uLkRlZmF1bHRDb21wb25lbnRzLCAuLi5EZWZhdWx0UmVzb3VyY2VzLCAuLi5EZWZhdWx0QmluZGluZ1N5bnRheCwgLi4uRGVmYXVsdEJpbmRpbmdMYW5ndWFnZSwgLi4uRGVmYXVsdFJlbmRlcmVycyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgY29udGFpbmVyIHdpdGggdGhpcyBjb25maWd1cmF0aW9uIGFwcGxpZWQgdG8gaXQuXG4gICAgICovXG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlcihESS5jcmVhdGVDb250YWluZXIoKSk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZ3VyYXRpb24uanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/configuration.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/create-element.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/create-element.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createElement\": () => (/* binding */ createElement),\n/* harmony export */   \"RenderPlan\": () => (/* binding */ RenderPlan)\n/* harmony export */ });\n/* harmony import */ var _renderer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/renderer.js\");\n/* harmony import */ var _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./resources/custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\n/* harmony import */ var _templating_render_context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./templating/render-context.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/render-context.js\");\n\n\n\nfunction createElement(p, tagOrType, props, children) {\n    if (typeof tagOrType === 'string') {\n        return createElementForTag(p, tagOrType, props, children);\n    }\n    else if (_resources_custom_element_js__WEBPACK_IMPORTED_MODULE_1__.CustomElement.isType(tagOrType)) {\n        return createElementForType(p, tagOrType, props, children);\n    }\n    else {\n        throw new Error(`Invalid tagOrType.`);\n    }\n}\n/**\n * RenderPlan. Todo: describe goal of this class\n */\nclass RenderPlan {\n    constructor(node, instructions, dependencies) {\n        this.node = node;\n        this.instructions = instructions;\n        this.dependencies = dependencies;\n        this.lazyDefinition = void 0;\n    }\n    get definition() {\n        if (this.lazyDefinition === void 0) {\n            this.lazyDefinition = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_1__.CustomElementDefinition.create({\n                name: _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_1__.CustomElement.generateName(),\n                template: this.node,\n                needsCompile: typeof this.node === 'string',\n                instructions: this.instructions,\n                dependencies: this.dependencies,\n            });\n        }\n        return this.lazyDefinition;\n    }\n    getContext(parentContainer) {\n        return (0,_templating_render_context_js__WEBPACK_IMPORTED_MODULE_2__.getRenderContext)(this.definition, parentContainer);\n    }\n    createView(parentContainer) {\n        return this.getViewFactory(parentContainer).create();\n    }\n    getViewFactory(parentContainer) {\n        return this.getContext(parentContainer).getViewFactory();\n    }\n    /** @internal */\n    mergeInto(parent, instructions, dependencies) {\n        parent.appendChild(this.node);\n        instructions.push(...this.instructions);\n        dependencies.push(...this.dependencies);\n    }\n}\nfunction createElementForTag(p, tagName, props, children) {\n    const instructions = [];\n    const allInstructions = [];\n    const dependencies = [];\n    const element = p.document.createElement(tagName);\n    let hasInstructions = false;\n    if (props) {\n        Object.keys(props)\n            .forEach(to => {\n            const value = props[to];\n            if ((0,_renderer_js__WEBPACK_IMPORTED_MODULE_0__.isInstruction)(value)) {\n                hasInstructions = true;\n                instructions.push(value);\n            }\n            else {\n                element.setAttribute(to, value);\n            }\n        });\n    }\n    if (hasInstructions) {\n        element.className = 'au';\n        allInstructions.push(instructions);\n    }\n    if (children) {\n        addChildren(p, element, children, allInstructions, dependencies);\n    }\n    return new RenderPlan(element, allInstructions, dependencies);\n}\nfunction createElementForType(p, Type, props, children) {\n    const definition = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_1__.CustomElement.getDefinition(Type);\n    const tagName = definition.name;\n    const instructions = [];\n    const allInstructions = [instructions];\n    const dependencies = [];\n    const childInstructions = [];\n    const bindables = definition.bindables;\n    const element = p.document.createElement(tagName);\n    element.className = 'au';\n    if (!dependencies.includes(Type)) {\n        dependencies.push(Type);\n    }\n    instructions.push(new _renderer_js__WEBPACK_IMPORTED_MODULE_0__.HydrateElementInstruction(tagName, void 0, childInstructions, null));\n    if (props) {\n        Object.keys(props)\n            .forEach(to => {\n            const value = props[to];\n            if ((0,_renderer_js__WEBPACK_IMPORTED_MODULE_0__.isInstruction)(value)) {\n                childInstructions.push(value);\n            }\n            else {\n                const bindable = bindables[to];\n                if (bindable !== void 0) {\n                    childInstructions.push({\n                        type: \"re\" /* setProperty */,\n                        to,\n                        value\n                    });\n                }\n                else {\n                    childInstructions.push(new _renderer_js__WEBPACK_IMPORTED_MODULE_0__.SetAttributeInstruction(value, to));\n                }\n            }\n        });\n    }\n    if (children) {\n        addChildren(p, element, children, allInstructions, dependencies);\n    }\n    return new RenderPlan(element, allInstructions, dependencies);\n}\nfunction addChildren(p, parent, children, allInstructions, dependencies) {\n    for (let i = 0, ii = children.length; i < ii; ++i) {\n        const current = children[i];\n        switch (typeof current) {\n            case 'string':\n                parent.appendChild(p.document.createTextNode(current));\n                break;\n            case 'object':\n                if (current instanceof p.Node) {\n                    parent.appendChild(current);\n                }\n                else if ('mergeInto' in current) {\n                    current.mergeInto(parent, allInstructions, dependencies);\n                }\n        }\n    }\n}\n//# sourceMappingURL=create-element.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2NyZWF0ZS1lbGVtZW50LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9jcmVhdGUtZWxlbWVudC5qcz8xYmQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh5ZHJhdGVFbGVtZW50SW5zdHJ1Y3Rpb24sIGlzSW5zdHJ1Y3Rpb24sIFNldEF0dHJpYnV0ZUluc3RydWN0aW9uLCB9IGZyb20gJy4vcmVuZGVyZXIuanMnO1xuaW1wb3J0IHsgQ3VzdG9tRWxlbWVudCwgQ3VzdG9tRWxlbWVudERlZmluaXRpb24gfSBmcm9tICcuL3Jlc291cmNlcy9jdXN0b20tZWxlbWVudC5qcyc7XG5pbXBvcnQgeyBnZXRSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi90ZW1wbGF0aW5nL3JlbmRlci1jb250ZXh0LmpzJztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHAsIHRhZ09yVHlwZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gICAgaWYgKHR5cGVvZiB0YWdPclR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50Rm9yVGFnKHAsIHRhZ09yVHlwZSwgcHJvcHMsIGNoaWxkcmVuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoQ3VzdG9tRWxlbWVudC5pc1R5cGUodGFnT3JUeXBlKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudEZvclR5cGUocCwgdGFnT3JUeXBlLCBwcm9wcywgY2hpbGRyZW4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRhZ09yVHlwZS5gKTtcbiAgICB9XG59XG4vKipcbiAqIFJlbmRlclBsYW4uIFRvZG86IGRlc2NyaWJlIGdvYWwgb2YgdGhpcyBjbGFzc1xuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyUGxhbiB7XG4gICAgY29uc3RydWN0b3Iobm9kZSwgaW5zdHJ1Y3Rpb25zLCBkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnM7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgICAgICB0aGlzLmxhenlEZWZpbml0aW9uID0gdm9pZCAwO1xuICAgIH1cbiAgICBnZXQgZGVmaW5pdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMubGF6eURlZmluaXRpb24gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhpcy5sYXp5RGVmaW5pdGlvbiA9IEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogQ3VzdG9tRWxlbWVudC5nZW5lcmF0ZU5hbWUoKSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy5ub2RlLFxuICAgICAgICAgICAgICAgIG5lZWRzQ29tcGlsZTogdHlwZW9mIHRoaXMubm9kZSA9PT0gJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiB0aGlzLmluc3RydWN0aW9ucyxcbiAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXM6IHRoaXMuZGVwZW5kZW5jaWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGF6eURlZmluaXRpb247XG4gICAgfVxuICAgIGdldENvbnRleHQocGFyZW50Q29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiBnZXRSZW5kZXJDb250ZXh0KHRoaXMuZGVmaW5pdGlvbiwgcGFyZW50Q29udGFpbmVyKTtcbiAgICB9XG4gICAgY3JlYXRlVmlldyhwYXJlbnRDb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Vmlld0ZhY3RvcnkocGFyZW50Q29udGFpbmVyKS5jcmVhdGUoKTtcbiAgICB9XG4gICAgZ2V0Vmlld0ZhY3RvcnkocGFyZW50Q29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbnRleHQocGFyZW50Q29udGFpbmVyKS5nZXRWaWV3RmFjdG9yeSgpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgbWVyZ2VJbnRvKHBhcmVudCwgaW5zdHJ1Y3Rpb25zLCBkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMubm9kZSk7XG4gICAgICAgIGluc3RydWN0aW9ucy5wdXNoKC4uLnRoaXMuaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goLi4udGhpcy5kZXBlbmRlbmNpZXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRGb3JUYWcocCwgdGFnTmFtZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gW107XG4gICAgY29uc3QgYWxsSW5zdHJ1Y3Rpb25zID0gW107XG4gICAgY29uc3QgZGVwZW5kZW5jaWVzID0gW107XG4gICAgY29uc3QgZWxlbWVudCA9IHAuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICBsZXQgaGFzSW5zdHJ1Y3Rpb25zID0gZmFsc2U7XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHByb3BzKVxuICAgICAgICAgICAgLmZvckVhY2godG8gPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wc1t0b107XG4gICAgICAgICAgICBpZiAoaXNJbnN0cnVjdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBoYXNJbnN0cnVjdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGluc3RydWN0aW9ucy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKHRvLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaGFzSW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gJ2F1JztcbiAgICAgICAgYWxsSW5zdHJ1Y3Rpb25zLnB1c2goaW5zdHJ1Y3Rpb25zKTtcbiAgICB9XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgIGFkZENoaWxkcmVuKHAsIGVsZW1lbnQsIGNoaWxkcmVuLCBhbGxJbnN0cnVjdGlvbnMsIGRlcGVuZGVuY2llcyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVuZGVyUGxhbihlbGVtZW50LCBhbGxJbnN0cnVjdGlvbnMsIGRlcGVuZGVuY2llcyk7XG59XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50Rm9yVHlwZShwLCBUeXBlLCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgICBjb25zdCBkZWZpbml0aW9uID0gQ3VzdG9tRWxlbWVudC5nZXREZWZpbml0aW9uKFR5cGUpO1xuICAgIGNvbnN0IHRhZ05hbWUgPSBkZWZpbml0aW9uLm5hbWU7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gW107XG4gICAgY29uc3QgYWxsSW5zdHJ1Y3Rpb25zID0gW2luc3RydWN0aW9uc107XG4gICAgY29uc3QgZGVwZW5kZW5jaWVzID0gW107XG4gICAgY29uc3QgY2hpbGRJbnN0cnVjdGlvbnMgPSBbXTtcbiAgICBjb25zdCBiaW5kYWJsZXMgPSBkZWZpbml0aW9uLmJpbmRhYmxlcztcbiAgICBjb25zdCBlbGVtZW50ID0gcC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gJ2F1JztcbiAgICBpZiAoIWRlcGVuZGVuY2llcy5pbmNsdWRlcyhUeXBlKSkge1xuICAgICAgICBkZXBlbmRlbmNpZXMucHVzaChUeXBlKTtcbiAgICB9XG4gICAgaW5zdHJ1Y3Rpb25zLnB1c2gobmV3IEh5ZHJhdGVFbGVtZW50SW5zdHJ1Y3Rpb24odGFnTmFtZSwgdm9pZCAwLCBjaGlsZEluc3RydWN0aW9ucywgbnVsbCkpO1xuICAgIGlmIChwcm9wcykge1xuICAgICAgICBPYmplY3Qua2V5cyhwcm9wcylcbiAgICAgICAgICAgIC5mb3JFYWNoKHRvID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcHJvcHNbdG9dO1xuICAgICAgICAgICAgaWYgKGlzSW5zdHJ1Y3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRJbnN0cnVjdGlvbnMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiaW5kYWJsZSA9IGJpbmRhYmxlc1t0b107XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRhYmxlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRJbnN0cnVjdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInJlXCIgLyogc2V0UHJvcGVydHkgKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRJbnN0cnVjdGlvbnMucHVzaChuZXcgU2V0QXR0cmlidXRlSW5zdHJ1Y3Rpb24odmFsdWUsIHRvKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgIGFkZENoaWxkcmVuKHAsIGVsZW1lbnQsIGNoaWxkcmVuLCBhbGxJbnN0cnVjdGlvbnMsIGRlcGVuZGVuY2llcyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVuZGVyUGxhbihlbGVtZW50LCBhbGxJbnN0cnVjdGlvbnMsIGRlcGVuZGVuY2llcyk7XG59XG5mdW5jdGlvbiBhZGRDaGlsZHJlbihwLCBwYXJlbnQsIGNoaWxkcmVuLCBhbGxJbnN0cnVjdGlvbnMsIGRlcGVuZGVuY2llcykge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBjdXJyZW50KSB7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChwLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGN1cnJlbnQpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgaW5zdGFuY2VvZiBwLk5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgnbWVyZ2VJbnRvJyBpbiBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQubWVyZ2VJbnRvKHBhcmVudCwgYWxsSW5zdHJ1Y3Rpb25zLCBkZXBlbmRlbmNpZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1lbGVtZW50LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/create-element.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/dom.js":
/*!************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/dom.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Refs\": () => (/* binding */ Refs),\n/* harmony export */   \"getRef\": () => (/* binding */ getRef),\n/* harmony export */   \"setRef\": () => (/* binding */ setRef),\n/* harmony export */   \"INode\": () => (/* binding */ INode),\n/* harmony export */   \"IEventTarget\": () => (/* binding */ IEventTarget),\n/* harmony export */   \"IRenderLocation\": () => (/* binding */ IRenderLocation),\n/* harmony export */   \"NodeType\": () => (/* binding */ NodeType),\n/* harmony export */   \"getEffectiveParentNode\": () => (/* binding */ getEffectiveParentNode),\n/* harmony export */   \"setEffectiveParentNode\": () => (/* binding */ setEffectiveParentNode),\n/* harmony export */   \"convertToRenderLocation\": () => (/* binding */ convertToRenderLocation),\n/* harmony export */   \"isRenderLocation\": () => (/* binding */ isRenderLocation),\n/* harmony export */   \"FragmentNodeSequence\": () => (/* binding */ FragmentNodeSequence),\n/* harmony export */   \"IWindow\": () => (/* binding */ IWindow),\n/* harmony export */   \"ILocation\": () => (/* binding */ ILocation),\n/* harmony export */   \"IHistory\": () => (/* binding */ IHistory)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _app_root_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app-root.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/app-root.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resources/custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\n\n\n\n\nclass Refs {\n}\nfunction getRef(node, name) {\n    var _a, _b;\n    return (_b = (_a = node.$au) === null || _a === void 0 ? void 0 : _a[name]) !== null && _b !== void 0 ? _b : null;\n}\nfunction setRef(node, name, controller) {\n    var _a;\n    var _b;\n    ((_a = (_b = node).$au) !== null && _a !== void 0 ? _a : (_b.$au = new Refs()))[name] = controller;\n}\nconst INode = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('INode');\nconst IEventTarget = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IEventTarget', x => x.cachedCallback(handler => {\n    if (handler.has(_app_root_js__WEBPACK_IMPORTED_MODULE_1__.IAppRoot, true)) {\n        return handler.get(_app_root_js__WEBPACK_IMPORTED_MODULE_1__.IAppRoot).host;\n    }\n    return handler.get(_platform_js__WEBPACK_IMPORTED_MODULE_2__.IPlatform).document;\n}));\nconst IRenderLocation = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IRenderLocation');\nvar NodeType;\n(function (NodeType) {\n    NodeType[NodeType[\"Element\"] = 1] = \"Element\";\n    NodeType[NodeType[\"Attr\"] = 2] = \"Attr\";\n    NodeType[NodeType[\"Text\"] = 3] = \"Text\";\n    NodeType[NodeType[\"CDATASection\"] = 4] = \"CDATASection\";\n    NodeType[NodeType[\"EntityReference\"] = 5] = \"EntityReference\";\n    NodeType[NodeType[\"Entity\"] = 6] = \"Entity\";\n    NodeType[NodeType[\"ProcessingInstruction\"] = 7] = \"ProcessingInstruction\";\n    NodeType[NodeType[\"Comment\"] = 8] = \"Comment\";\n    NodeType[NodeType[\"Document\"] = 9] = \"Document\";\n    NodeType[NodeType[\"DocumentType\"] = 10] = \"DocumentType\";\n    NodeType[NodeType[\"DocumentFragment\"] = 11] = \"DocumentFragment\";\n    NodeType[NodeType[\"Notation\"] = 12] = \"Notation\";\n})(NodeType || (NodeType = {}));\nconst effectiveParentNodeOverrides = new WeakMap();\n/**\n * Returns the effective parentNode according to Aurelia's component hierarchy.\n *\n * Used by Aurelia to find the closest parent controller relative to a node.\n *\n * This method supports 3 additional scenarios that `node.parentNode` does not support:\n * - Containerless elements. The parentNode in this case is a comment precending the element under specific conditions, rather than a node wrapping the element.\n * - ShadowDOM. If a `ShadowRoot` is encountered, this method retrieves the associated controller via the metadata api to locate the original host.\n * - Portals. If the provided node was moved to a different location in the DOM by a `portal` attribute, then the original parent of the node will be returned.\n *\n * @param node - The node to get the parent for.\n * @returns Either the closest parent node, the closest `IRenderLocation` (comment node that is the containerless host), original portal host, or `null` if this is either the absolute document root or a disconnected node.\n */\nfunction getEffectiveParentNode(node) {\n    // TODO: this method needs more tests!\n    // First look for any overrides\n    if (effectiveParentNodeOverrides.has(node)) {\n        return effectiveParentNodeOverrides.get(node);\n    }\n    // Then try to get the nearest au-start render location, which would be the containerless parent,\n    // again looking for any overrides along the way.\n    // otherwise return the normal parent node\n    let containerlessOffset = 0;\n    let next = node.nextSibling;\n    while (next !== null) {\n        if (next.nodeType === 8 /* Comment */) {\n            switch (next.textContent) {\n                case 'au-start':\n                    // If we see an au-start before we see au-end, it will precede the host of a sibling containerless element rather than a parent.\n                    // So we use the offset to ignore the next au-end\n                    ++containerlessOffset;\n                    break;\n                case 'au-end':\n                    if (containerlessOffset-- === 0) {\n                        return next;\n                    }\n            }\n        }\n        next = next.nextSibling;\n    }\n    if (node.parentNode === null && node.nodeType === 11 /* DocumentFragment */) {\n        // Could be a shadow root; see if there's a controller and if so, get the original host via the projector\n        const controller = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_3__.CustomElement.for(node);\n        if (controller === void 0) {\n            // Not a shadow root (or at least, not one created by Aurelia)\n            // Nothing more we can try, just return null\n            return null;\n        }\n        if (controller.mountTarget === 2 /* shadowRoot */) {\n            return getEffectiveParentNode(controller.host);\n        }\n    }\n    return node.parentNode;\n}\nfunction setEffectiveParentNode(childNodeOrNodeSequence, parentNode) {\n    if (childNodeOrNodeSequence.platform !== void 0 && !(childNodeOrNodeSequence instanceof childNodeOrNodeSequence.platform.Node)) {\n        const nodes = childNodeOrNodeSequence.childNodes;\n        for (let i = 0, ii = nodes.length; i < ii; ++i) {\n            effectiveParentNodeOverrides.set(nodes[i], parentNode);\n        }\n    }\n    else {\n        effectiveParentNodeOverrides.set(childNodeOrNodeSequence, parentNode);\n    }\n}\nfunction convertToRenderLocation(node) {\n    if (isRenderLocation(node)) {\n        return node; // it's already a IRenderLocation (converted by FragmentNodeSequence)\n    }\n    const locationEnd = node.ownerDocument.createComment('au-end');\n    const locationStart = node.ownerDocument.createComment('au-start');\n    if (node.parentNode !== null) {\n        node.parentNode.replaceChild(locationEnd, node);\n        locationEnd.parentNode.insertBefore(locationStart, locationEnd);\n    }\n    locationEnd.$start = locationStart;\n    return locationEnd;\n}\nfunction isRenderLocation(node) {\n    return node.textContent === 'au-end';\n}\nclass FragmentNodeSequence {\n    constructor(platform, fragment) {\n        this.platform = platform;\n        this.fragment = fragment;\n        this.isMounted = false;\n        this.isLinked = false;\n        this.next = void 0;\n        this.refNode = void 0;\n        const targetNodeList = fragment.querySelectorAll('.au');\n        let i = 0;\n        let ii = targetNodeList.length;\n        const targets = this.targets = Array(ii);\n        while (i < ii) {\n            // eagerly convert all markers to RenderLocations (otherwise the renderer\n            // will do it anyway) and store them in the target list (since the comments\n            // can't be queried)\n            const target = targetNodeList[i];\n            if (target.nodeName === 'AU-M') {\n                // note the renderer will still call this method, but it will just return the\n                // location if it sees it's already a location\n                targets[i] = convertToRenderLocation(target);\n            }\n            else {\n                // also store non-markers for consistent ordering\n                targets[i] = target;\n            }\n            ++i;\n        }\n        const childNodeList = fragment.childNodes;\n        i = 0;\n        ii = childNodeList.length;\n        const childNodes = this.childNodes = Array(ii);\n        while (i < ii) {\n            childNodes[i] = childNodeList[i];\n            ++i;\n        }\n        this.firstChild = fragment.firstChild;\n        this.lastChild = fragment.lastChild;\n    }\n    findTargets() {\n        return this.targets;\n    }\n    insertBefore(refNode) {\n        if (this.isLinked && !!this.refNode) {\n            this.addToLinked();\n        }\n        else {\n            const parent = refNode.parentNode;\n            if (this.isMounted) {\n                let current = this.firstChild;\n                const end = this.lastChild;\n                let next;\n                while (current != null) {\n                    next = current.nextSibling;\n                    parent.insertBefore(current, refNode);\n                    if (current === end) {\n                        break;\n                    }\n                    current = next;\n                }\n            }\n            else {\n                this.isMounted = true;\n                refNode.parentNode.insertBefore(this.fragment, refNode);\n            }\n        }\n    }\n    appendTo(parent, enhance = false) {\n        if (this.isMounted) {\n            let current = this.firstChild;\n            const end = this.lastChild;\n            let next;\n            while (current != null) {\n                next = current.nextSibling;\n                parent.appendChild(current);\n                if (current === end) {\n                    break;\n                }\n                current = next;\n            }\n        }\n        else {\n            this.isMounted = true;\n            if (!enhance) {\n                parent.appendChild(this.fragment);\n            }\n        }\n    }\n    remove() {\n        if (this.isMounted) {\n            this.isMounted = false;\n            const fragment = this.fragment;\n            const end = this.lastChild;\n            let next;\n            let current = this.firstChild;\n            while (current !== null) {\n                next = current.nextSibling;\n                fragment.appendChild(current);\n                if (current === end) {\n                    break;\n                }\n                current = next;\n            }\n        }\n    }\n    addToLinked() {\n        const refNode = this.refNode;\n        const parent = refNode.parentNode;\n        if (this.isMounted) {\n            let current = this.firstChild;\n            const end = this.lastChild;\n            let next;\n            while (current != null) {\n                next = current.nextSibling;\n                parent.insertBefore(current, refNode);\n                if (current === end) {\n                    break;\n                }\n                current = next;\n            }\n        }\n        else {\n            this.isMounted = true;\n            parent.insertBefore(this.fragment, refNode);\n        }\n    }\n    unlink() {\n        this.isLinked = false;\n        this.next = void 0;\n        this.refNode = void 0;\n    }\n    link(next) {\n        this.isLinked = true;\n        if (isRenderLocation(next)) {\n            this.refNode = next;\n        }\n        else {\n            this.next = next;\n            this.obtainRefNode();\n        }\n    }\n    obtainRefNode() {\n        if (this.next !== void 0) {\n            this.refNode = this.next.firstChild;\n        }\n        else {\n            this.refNode = void 0;\n        }\n    }\n}\nconst IWindow = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IWindow', x => x.callback(handler => handler.get(_platform_js__WEBPACK_IMPORTED_MODULE_2__.IPlatform).window));\nconst ILocation = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ILocation', x => x.callback(handler => handler.get(IWindow).location));\nconst IHistory = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IHistory', x => x.callback(handler => handler.get(IWindow).history));\n//# sourceMappingURL=dom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2RvbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vZG9tLmpzPzU2NjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREkgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgSUFwcFJvb3QgfSBmcm9tICcuL2FwcC1yb290LmpzJztcbmltcG9ydCB7IElQbGF0Zm9ybSB9IGZyb20gJy4vcGxhdGZvcm0uanMnO1xuaW1wb3J0IHsgQ3VzdG9tRWxlbWVudCB9IGZyb20gJy4vcmVzb3VyY2VzL2N1c3RvbS1lbGVtZW50LmpzJztcbmV4cG9ydCBjbGFzcyBSZWZzIHtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWYobm9kZSwgbmFtZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IG5vZGUuJGF1KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbbmFtZV0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0UmVmKG5vZGUsIG5hbWUsIGNvbnRyb2xsZXIpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIF9iO1xuICAgICgoX2EgPSAoX2IgPSBub2RlKS4kYXUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChfYi4kYXUgPSBuZXcgUmVmcygpKSlbbmFtZV0gPSBjb250cm9sbGVyO1xufVxuZXhwb3J0IGNvbnN0IElOb2RlID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJTm9kZScpO1xuZXhwb3J0IGNvbnN0IElFdmVudFRhcmdldCA9IERJLmNyZWF0ZUludGVyZmFjZSgnSUV2ZW50VGFyZ2V0JywgeCA9PiB4LmNhY2hlZENhbGxiYWNrKGhhbmRsZXIgPT4ge1xuICAgIGlmIChoYW5kbGVyLmhhcyhJQXBwUm9vdCwgdHJ1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIuZ2V0KElBcHBSb290KS5ob3N0O1xuICAgIH1cbiAgICByZXR1cm4gaGFuZGxlci5nZXQoSVBsYXRmb3JtKS5kb2N1bWVudDtcbn0pKTtcbmV4cG9ydCBjb25zdCBJUmVuZGVyTG9jYXRpb24gPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lSZW5kZXJMb2NhdGlvbicpO1xuZXhwb3J0IHZhciBOb2RlVHlwZTtcbihmdW5jdGlvbiAoTm9kZVR5cGUpIHtcbiAgICBOb2RlVHlwZVtOb2RlVHlwZVtcIkVsZW1lbnRcIl0gPSAxXSA9IFwiRWxlbWVudFwiO1xuICAgIE5vZGVUeXBlW05vZGVUeXBlW1wiQXR0clwiXSA9IDJdID0gXCJBdHRyXCI7XG4gICAgTm9kZVR5cGVbTm9kZVR5cGVbXCJUZXh0XCJdID0gM10gPSBcIlRleHRcIjtcbiAgICBOb2RlVHlwZVtOb2RlVHlwZVtcIkNEQVRBU2VjdGlvblwiXSA9IDRdID0gXCJDREFUQVNlY3Rpb25cIjtcbiAgICBOb2RlVHlwZVtOb2RlVHlwZVtcIkVudGl0eVJlZmVyZW5jZVwiXSA9IDVdID0gXCJFbnRpdHlSZWZlcmVuY2VcIjtcbiAgICBOb2RlVHlwZVtOb2RlVHlwZVtcIkVudGl0eVwiXSA9IDZdID0gXCJFbnRpdHlcIjtcbiAgICBOb2RlVHlwZVtOb2RlVHlwZVtcIlByb2Nlc3NpbmdJbnN0cnVjdGlvblwiXSA9IDddID0gXCJQcm9jZXNzaW5nSW5zdHJ1Y3Rpb25cIjtcbiAgICBOb2RlVHlwZVtOb2RlVHlwZVtcIkNvbW1lbnRcIl0gPSA4XSA9IFwiQ29tbWVudFwiO1xuICAgIE5vZGVUeXBlW05vZGVUeXBlW1wiRG9jdW1lbnRcIl0gPSA5XSA9IFwiRG9jdW1lbnRcIjtcbiAgICBOb2RlVHlwZVtOb2RlVHlwZVtcIkRvY3VtZW50VHlwZVwiXSA9IDEwXSA9IFwiRG9jdW1lbnRUeXBlXCI7XG4gICAgTm9kZVR5cGVbTm9kZVR5cGVbXCJEb2N1bWVudEZyYWdtZW50XCJdID0gMTFdID0gXCJEb2N1bWVudEZyYWdtZW50XCI7XG4gICAgTm9kZVR5cGVbTm9kZVR5cGVbXCJOb3RhdGlvblwiXSA9IDEyXSA9IFwiTm90YXRpb25cIjtcbn0pKE5vZGVUeXBlIHx8IChOb2RlVHlwZSA9IHt9KSk7XG5jb25zdCBlZmZlY3RpdmVQYXJlbnROb2RlT3ZlcnJpZGVzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogUmV0dXJucyB0aGUgZWZmZWN0aXZlIHBhcmVudE5vZGUgYWNjb3JkaW5nIHRvIEF1cmVsaWEncyBjb21wb25lbnQgaGllcmFyY2h5LlxuICpcbiAqIFVzZWQgYnkgQXVyZWxpYSB0byBmaW5kIHRoZSBjbG9zZXN0IHBhcmVudCBjb250cm9sbGVyIHJlbGF0aXZlIHRvIGEgbm9kZS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyAzIGFkZGl0aW9uYWwgc2NlbmFyaW9zIHRoYXQgYG5vZGUucGFyZW50Tm9kZWAgZG9lcyBub3Qgc3VwcG9ydDpcbiAqIC0gQ29udGFpbmVybGVzcyBlbGVtZW50cy4gVGhlIHBhcmVudE5vZGUgaW4gdGhpcyBjYXNlIGlzIGEgY29tbWVudCBwcmVjZW5kaW5nIHRoZSBlbGVtZW50IHVuZGVyIHNwZWNpZmljIGNvbmRpdGlvbnMsIHJhdGhlciB0aGFuIGEgbm9kZSB3cmFwcGluZyB0aGUgZWxlbWVudC5cbiAqIC0gU2hhZG93RE9NLiBJZiBhIGBTaGFkb3dSb290YCBpcyBlbmNvdW50ZXJlZCwgdGhpcyBtZXRob2QgcmV0cmlldmVzIHRoZSBhc3NvY2lhdGVkIGNvbnRyb2xsZXIgdmlhIHRoZSBtZXRhZGF0YSBhcGkgdG8gbG9jYXRlIHRoZSBvcmlnaW5hbCBob3N0LlxuICogLSBQb3J0YWxzLiBJZiB0aGUgcHJvdmlkZWQgbm9kZSB3YXMgbW92ZWQgdG8gYSBkaWZmZXJlbnQgbG9jYXRpb24gaW4gdGhlIERPTSBieSBhIGBwb3J0YWxgIGF0dHJpYnV0ZSwgdGhlbiB0aGUgb3JpZ2luYWwgcGFyZW50IG9mIHRoZSBub2RlIHdpbGwgYmUgcmV0dXJuZWQuXG4gKlxuICogQHBhcmFtIG5vZGUgLSBUaGUgbm9kZSB0byBnZXQgdGhlIHBhcmVudCBmb3IuXG4gKiBAcmV0dXJucyBFaXRoZXIgdGhlIGNsb3Nlc3QgcGFyZW50IG5vZGUsIHRoZSBjbG9zZXN0IGBJUmVuZGVyTG9jYXRpb25gIChjb21tZW50IG5vZGUgdGhhdCBpcyB0aGUgY29udGFpbmVybGVzcyBob3N0KSwgb3JpZ2luYWwgcG9ydGFsIGhvc3QsIG9yIGBudWxsYCBpZiB0aGlzIGlzIGVpdGhlciB0aGUgYWJzb2x1dGUgZG9jdW1lbnQgcm9vdCBvciBhIGRpc2Nvbm5lY3RlZCBub2RlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWZmZWN0aXZlUGFyZW50Tm9kZShub2RlKSB7XG4gICAgLy8gVE9ETzogdGhpcyBtZXRob2QgbmVlZHMgbW9yZSB0ZXN0cyFcbiAgICAvLyBGaXJzdCBsb29rIGZvciBhbnkgb3ZlcnJpZGVzXG4gICAgaWYgKGVmZmVjdGl2ZVBhcmVudE5vZGVPdmVycmlkZXMuaGFzKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBlZmZlY3RpdmVQYXJlbnROb2RlT3ZlcnJpZGVzLmdldChub2RlKTtcbiAgICB9XG4gICAgLy8gVGhlbiB0cnkgdG8gZ2V0IHRoZSBuZWFyZXN0IGF1LXN0YXJ0IHJlbmRlciBsb2NhdGlvbiwgd2hpY2ggd291bGQgYmUgdGhlIGNvbnRhaW5lcmxlc3MgcGFyZW50LFxuICAgIC8vIGFnYWluIGxvb2tpbmcgZm9yIGFueSBvdmVycmlkZXMgYWxvbmcgdGhlIHdheS5cbiAgICAvLyBvdGhlcndpc2UgcmV0dXJuIHRoZSBub3JtYWwgcGFyZW50IG5vZGVcbiAgICBsZXQgY29udGFpbmVybGVzc09mZnNldCA9IDA7XG4gICAgbGV0IG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgIHdoaWxlIChuZXh0ICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChuZXh0Lm5vZGVUeXBlID09PSA4IC8qIENvbW1lbnQgKi8pIHtcbiAgICAgICAgICAgIHN3aXRjaCAobmV4dC50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2F1LXN0YXJ0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2Ugc2VlIGFuIGF1LXN0YXJ0IGJlZm9yZSB3ZSBzZWUgYXUtZW5kLCBpdCB3aWxsIHByZWNlZGUgdGhlIGhvc3Qgb2YgYSBzaWJsaW5nIGNvbnRhaW5lcmxlc3MgZWxlbWVudCByYXRoZXIgdGhhbiBhIHBhcmVudC5cbiAgICAgICAgICAgICAgICAgICAgLy8gU28gd2UgdXNlIHRoZSBvZmZzZXQgdG8gaWdub3JlIHRoZSBuZXh0IGF1LWVuZFxuICAgICAgICAgICAgICAgICAgICArK2NvbnRhaW5lcmxlc3NPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2F1LWVuZCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJsZXNzT2Zmc2V0LS0gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIGlmIChub2RlLnBhcmVudE5vZGUgPT09IG51bGwgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMTEgLyogRG9jdW1lbnRGcmFnbWVudCAqLykge1xuICAgICAgICAvLyBDb3VsZCBiZSBhIHNoYWRvdyByb290OyBzZWUgaWYgdGhlcmUncyBhIGNvbnRyb2xsZXIgYW5kIGlmIHNvLCBnZXQgdGhlIG9yaWdpbmFsIGhvc3QgdmlhIHRoZSBwcm9qZWN0b3JcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IEN1c3RvbUVsZW1lbnQuZm9yKG5vZGUpO1xuICAgICAgICBpZiAoY29udHJvbGxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAvLyBOb3QgYSBzaGFkb3cgcm9vdCAob3IgYXQgbGVhc3QsIG5vdCBvbmUgY3JlYXRlZCBieSBBdXJlbGlhKVxuICAgICAgICAgICAgLy8gTm90aGluZyBtb3JlIHdlIGNhbiB0cnksIGp1c3QgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250cm9sbGVyLm1vdW50VGFyZ2V0ID09PSAyIC8qIHNoYWRvd1Jvb3QgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRFZmZlY3RpdmVQYXJlbnROb2RlKGNvbnRyb2xsZXIuaG9zdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRFZmZlY3RpdmVQYXJlbnROb2RlKGNoaWxkTm9kZU9yTm9kZVNlcXVlbmNlLCBwYXJlbnROb2RlKSB7XG4gICAgaWYgKGNoaWxkTm9kZU9yTm9kZVNlcXVlbmNlLnBsYXRmb3JtICE9PSB2b2lkIDAgJiYgIShjaGlsZE5vZGVPck5vZGVTZXF1ZW5jZSBpbnN0YW5jZW9mIGNoaWxkTm9kZU9yTm9kZVNlcXVlbmNlLnBsYXRmb3JtLk5vZGUpKSB7XG4gICAgICAgIGNvbnN0IG5vZGVzID0gY2hpbGROb2RlT3JOb2RlU2VxdWVuY2UuY2hpbGROb2RlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gbm9kZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgZWZmZWN0aXZlUGFyZW50Tm9kZU92ZXJyaWRlcy5zZXQobm9kZXNbaV0sIHBhcmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlZmZlY3RpdmVQYXJlbnROb2RlT3ZlcnJpZGVzLnNldChjaGlsZE5vZGVPck5vZGVTZXF1ZW5jZSwgcGFyZW50Tm9kZSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb1JlbmRlckxvY2F0aW9uKG5vZGUpIHtcbiAgICBpZiAoaXNSZW5kZXJMb2NhdGlvbihub2RlKSkge1xuICAgICAgICByZXR1cm4gbm9kZTsgLy8gaXQncyBhbHJlYWR5IGEgSVJlbmRlckxvY2F0aW9uIChjb252ZXJ0ZWQgYnkgRnJhZ21lbnROb2RlU2VxdWVuY2UpXG4gICAgfVxuICAgIGNvbnN0IGxvY2F0aW9uRW5kID0gbm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ2F1LWVuZCcpO1xuICAgIGNvbnN0IGxvY2F0aW9uU3RhcnQgPSBub2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnYXUtc3RhcnQnKTtcbiAgICBpZiAobm9kZS5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobG9jYXRpb25FbmQsIG5vZGUpO1xuICAgICAgICBsb2NhdGlvbkVuZC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsb2NhdGlvblN0YXJ0LCBsb2NhdGlvbkVuZCk7XG4gICAgfVxuICAgIGxvY2F0aW9uRW5kLiRzdGFydCA9IGxvY2F0aW9uU3RhcnQ7XG4gICAgcmV0dXJuIGxvY2F0aW9uRW5kO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVuZGVyTG9jYXRpb24obm9kZSkge1xuICAgIHJldHVybiBub2RlLnRleHRDb250ZW50ID09PSAnYXUtZW5kJztcbn1cbmV4cG9ydCBjbGFzcyBGcmFnbWVudE5vZGVTZXF1ZW5jZSB7XG4gICAgY29uc3RydWN0b3IocGxhdGZvcm0sIGZyYWdtZW50KSB7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbiAgICAgICAgdGhpcy5mcmFnbWVudCA9IGZyYWdtZW50O1xuICAgICAgICB0aGlzLmlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzTGlua2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubmV4dCA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5yZWZOb2RlID0gdm9pZCAwO1xuICAgICAgICBjb25zdCB0YXJnZXROb2RlTGlzdCA9IGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hdScpO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBpaSA9IHRhcmdldE5vZGVMaXN0Lmxlbmd0aDtcbiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHRoaXMudGFyZ2V0cyA9IEFycmF5KGlpKTtcbiAgICAgICAgd2hpbGUgKGkgPCBpaSkge1xuICAgICAgICAgICAgLy8gZWFnZXJseSBjb252ZXJ0IGFsbCBtYXJrZXJzIHRvIFJlbmRlckxvY2F0aW9ucyAob3RoZXJ3aXNlIHRoZSByZW5kZXJlclxuICAgICAgICAgICAgLy8gd2lsbCBkbyBpdCBhbnl3YXkpIGFuZCBzdG9yZSB0aGVtIGluIHRoZSB0YXJnZXQgbGlzdCAoc2luY2UgdGhlIGNvbW1lbnRzXG4gICAgICAgICAgICAvLyBjYW4ndCBiZSBxdWVyaWVkKVxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGFyZ2V0Tm9kZUxpc3RbaV07XG4gICAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnQVUtTScpIHtcbiAgICAgICAgICAgICAgICAvLyBub3RlIHRoZSByZW5kZXJlciB3aWxsIHN0aWxsIGNhbGwgdGhpcyBtZXRob2QsIGJ1dCBpdCB3aWxsIGp1c3QgcmV0dXJuIHRoZVxuICAgICAgICAgICAgICAgIC8vIGxvY2F0aW9uIGlmIGl0IHNlZXMgaXQncyBhbHJlYWR5IGEgbG9jYXRpb25cbiAgICAgICAgICAgICAgICB0YXJnZXRzW2ldID0gY29udmVydFRvUmVuZGVyTG9jYXRpb24odGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFsc28gc3RvcmUgbm9uLW1hcmtlcnMgZm9yIGNvbnNpc3RlbnQgb3JkZXJpbmdcbiAgICAgICAgICAgICAgICB0YXJnZXRzW2ldID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKytpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZUxpc3QgPSBmcmFnbWVudC5jaGlsZE5vZGVzO1xuICAgICAgICBpID0gMDtcbiAgICAgICAgaWkgPSBjaGlsZE5vZGVMaXN0Lmxlbmd0aDtcbiAgICAgICAgY29uc3QgY2hpbGROb2RlcyA9IHRoaXMuY2hpbGROb2RlcyA9IEFycmF5KGlpKTtcbiAgICAgICAgd2hpbGUgKGkgPCBpaSkge1xuICAgICAgICAgICAgY2hpbGROb2Rlc1tpXSA9IGNoaWxkTm9kZUxpc3RbaV07XG4gICAgICAgICAgICArK2k7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maXJzdENoaWxkID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgdGhpcy5sYXN0Q2hpbGQgPSBmcmFnbWVudC5sYXN0Q2hpbGQ7XG4gICAgfVxuICAgIGZpbmRUYXJnZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRzO1xuICAgIH1cbiAgICBpbnNlcnRCZWZvcmUocmVmTm9kZSkge1xuICAgICAgICBpZiAodGhpcy5pc0xpbmtlZCAmJiAhIXRoaXMucmVmTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5hZGRUb0xpbmtlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gcmVmTm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gdGhpcy5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gY3VycmVudC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjdXJyZW50LCByZWZOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlZk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5mcmFnbWVudCwgcmVmTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXBwZW5kVG8ocGFyZW50LCBlbmhhbmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHRoaXMubGFzdENoaWxkO1xuICAgICAgICAgICAgbGV0IG5leHQ7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmV4dCA9IGN1cnJlbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFlbmhhbmNlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZnJhZ21lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50O1xuICAgICAgICAgICAgY29uc3QgZW5kID0gdGhpcy5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdENoaWxkO1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBuZXh0ID0gY3VycmVudC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRUb0xpbmtlZCgpIHtcbiAgICAgICAgY29uc3QgcmVmTm9kZSA9IHRoaXMucmVmTm9kZTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcmVmTm9kZS5wYXJlbnROb2RlO1xuICAgICAgICBpZiAodGhpcy5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdENoaWxkO1xuICAgICAgICAgICAgY29uc3QgZW5kID0gdGhpcy5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBuZXh0ID0gY3VycmVudC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGN1cnJlbnQsIHJlZk5vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLmZyYWdtZW50LCByZWZOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bmxpbmsoKSB7XG4gICAgICAgIHRoaXMuaXNMaW5rZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnJlZk5vZGUgPSB2b2lkIDA7XG4gICAgfVxuICAgIGxpbmsobmV4dCkge1xuICAgICAgICB0aGlzLmlzTGlua2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGlzUmVuZGVyTG9jYXRpb24obmV4dCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVmTm9kZSA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBuZXh0O1xuICAgICAgICAgICAgdGhpcy5vYnRhaW5SZWZOb2RlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb2J0YWluUmVmTm9kZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubmV4dCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlZk5vZGUgPSB0aGlzLm5leHQuZmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVmTm9kZSA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJV2luZG93ID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJV2luZG93JywgeCA9PiB4LmNhbGxiYWNrKGhhbmRsZXIgPT4gaGFuZGxlci5nZXQoSVBsYXRmb3JtKS53aW5kb3cpKTtcbmV4cG9ydCBjb25zdCBJTG9jYXRpb24gPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lMb2NhdGlvbicsIHggPT4geC5jYWxsYmFjayhoYW5kbGVyID0+IGhhbmRsZXIuZ2V0KElXaW5kb3cpLmxvY2F0aW9uKSk7XG5leHBvcnQgY29uc3QgSUhpc3RvcnkgPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lIaXN0b3J5JywgeCA9PiB4LmNhbGxiYWNrKGhhbmRsZXIgPT4gaGFuZGxlci5nZXQoSVdpbmRvdykuaGlzdG9yeSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9tLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/dom.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Platform\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__.Platform),\n/* harmony export */   \"TaskQueue\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__.TaskQueue),\n/* harmony export */   \"Task\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__.Task),\n/* harmony export */   \"TaskAbortError\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__.TaskAbortError),\n/* harmony export */   \"TaskQueuePriority\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__.TaskQueuePriority),\n/* harmony export */   \"TaskStatus\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__.TaskStatus),\n/* harmony export */   \"BrowserPlatform\": () => (/* reexport safe */ _aurelia_platform_browser__WEBPACK_IMPORTED_MODULE_1__.BrowserPlatform),\n/* harmony export */   \"bindable\": () => (/* reexport safe */ _bindable_js__WEBPACK_IMPORTED_MODULE_2__.bindable),\n/* harmony export */   \"Bindable\": () => (/* reexport safe */ _bindable_js__WEBPACK_IMPORTED_MODULE_2__.Bindable),\n/* harmony export */   \"BindableDefinition\": () => (/* reexport safe */ _bindable_js__WEBPACK_IMPORTED_MODULE_2__.BindableDefinition),\n/* harmony export */   \"BindableObserver\": () => (/* reexport safe */ _observation_bindable_observer_js__WEBPACK_IMPORTED_MODULE_3__.BindableObserver),\n/* harmony export */   \"DebounceBindingBehaviorRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.DebounceBindingBehaviorRegistration),\n/* harmony export */   \"OneTimeBindingBehaviorRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.OneTimeBindingBehaviorRegistration),\n/* harmony export */   \"ToViewBindingBehaviorRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ToViewBindingBehaviorRegistration),\n/* harmony export */   \"FromViewBindingBehaviorRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.FromViewBindingBehaviorRegistration),\n/* harmony export */   \"SignalBindingBehaviorRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.SignalBindingBehaviorRegistration),\n/* harmony export */   \"ThrottleBindingBehaviorRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ThrottleBindingBehaviorRegistration),\n/* harmony export */   \"TwoWayBindingBehaviorRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.TwoWayBindingBehaviorRegistration),\n/* harmony export */   \"BindingModeBehavior\": () => (/* reexport safe */ _binding_behaviors_binding_mode_js__WEBPACK_IMPORTED_MODULE_5__.BindingModeBehavior),\n/* harmony export */   \"OneTimeBindingBehavior\": () => (/* reexport safe */ _binding_behaviors_binding_mode_js__WEBPACK_IMPORTED_MODULE_5__.OneTimeBindingBehavior),\n/* harmony export */   \"ToViewBindingBehavior\": () => (/* reexport safe */ _binding_behaviors_binding_mode_js__WEBPACK_IMPORTED_MODULE_5__.ToViewBindingBehavior),\n/* harmony export */   \"FromViewBindingBehavior\": () => (/* reexport safe */ _binding_behaviors_binding_mode_js__WEBPACK_IMPORTED_MODULE_5__.FromViewBindingBehavior),\n/* harmony export */   \"TwoWayBindingBehavior\": () => (/* reexport safe */ _binding_behaviors_binding_mode_js__WEBPACK_IMPORTED_MODULE_5__.TwoWayBindingBehavior),\n/* harmony export */   \"DebounceBindingBehavior\": () => (/* reexport safe */ _binding_behaviors_debounce_js__WEBPACK_IMPORTED_MODULE_6__.DebounceBindingBehavior),\n/* harmony export */   \"SignalBindingBehavior\": () => (/* reexport safe */ _binding_behaviors_signals_js__WEBPACK_IMPORTED_MODULE_7__.SignalBindingBehavior),\n/* harmony export */   \"ThrottleBindingBehavior\": () => (/* reexport safe */ _binding_behaviors_throttle_js__WEBPACK_IMPORTED_MODULE_8__.ThrottleBindingBehavior),\n/* harmony export */   \"alias\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.alias),\n/* harmony export */   \"registerAliases\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.registerAliases),\n/* harmony export */   \"CallFunctionExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.CallFunctionExpression),\n/* harmony export */   \"CustomExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.CustomExpression),\n/* harmony export */   \"BindingBehaviorExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BindingBehaviorExpression),\n/* harmony export */   \"ValueConverterExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ValueConverterExpression),\n/* harmony export */   \"AssignExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.AssignExpression),\n/* harmony export */   \"ConditionalExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ConditionalExpression),\n/* harmony export */   \"AccessThisExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.AccessThisExpression),\n/* harmony export */   \"AccessScopeExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.AccessScopeExpression),\n/* harmony export */   \"AccessMemberExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.AccessMemberExpression),\n/* harmony export */   \"AccessKeyedExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.AccessKeyedExpression),\n/* harmony export */   \"CallScopeExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.CallScopeExpression),\n/* harmony export */   \"CallMemberExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.CallMemberExpression),\n/* harmony export */   \"BinaryExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BinaryExpression),\n/* harmony export */   \"UnaryExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.UnaryExpression),\n/* harmony export */   \"PrimitiveLiteralExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.PrimitiveLiteralExpression),\n/* harmony export */   \"HtmlLiteralExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.HtmlLiteralExpression),\n/* harmony export */   \"ArrayLiteralExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ArrayLiteralExpression),\n/* harmony export */   \"ObjectLiteralExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ObjectLiteralExpression),\n/* harmony export */   \"TemplateExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.TemplateExpression),\n/* harmony export */   \"TaggedTemplateExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.TaggedTemplateExpression),\n/* harmony export */   \"ArrayBindingPattern\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ArrayBindingPattern),\n/* harmony export */   \"ObjectBindingPattern\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ObjectBindingPattern),\n/* harmony export */   \"BindingIdentifier\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BindingIdentifier),\n/* harmony export */   \"ForOfStatement\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ForOfStatement),\n/* harmony export */   \"Interpolation\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.Interpolation),\n/* harmony export */   \"connectable\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.connectable),\n/* harmony export */   \"BindingMediator\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BindingMediator),\n/* harmony export */   \"IExpressionParser\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.IExpressionParser),\n/* harmony export */   \"BindingType\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BindingType),\n/* harmony export */   \"parseExpression\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.parseExpression),\n/* harmony export */   \"Char\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.Char),\n/* harmony export */   \"Access\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.Access),\n/* harmony export */   \"Precedence\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.Precedence),\n/* harmony export */   \"parse\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.parse),\n/* harmony export */   \"ParserState\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ParserState),\n/* harmony export */   \"ArrayObserver\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ArrayObserver),\n/* harmony export */   \"ArrayIndexObserver\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ArrayIndexObserver),\n/* harmony export */   \"enableArrayObservation\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.enableArrayObservation),\n/* harmony export */   \"disableArrayObservation\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.disableArrayObservation),\n/* harmony export */   \"applyMutationsToIndices\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.applyMutationsToIndices),\n/* harmony export */   \"synchronizeIndices\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.synchronizeIndices),\n/* harmony export */   \"MapObserver\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.MapObserver),\n/* harmony export */   \"enableMapObservation\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.enableMapObservation),\n/* harmony export */   \"disableMapObservation\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.disableMapObservation),\n/* harmony export */   \"SetObserver\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.SetObserver),\n/* harmony export */   \"enableSetObservation\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.enableSetObservation),\n/* harmony export */   \"disableSetObservation\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.disableSetObservation),\n/* harmony export */   \"BindingContext\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BindingContext),\n/* harmony export */   \"Scope\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.Scope),\n/* harmony export */   \"OverrideContext\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.OverrideContext),\n/* harmony export */   \"CollectionLengthObserver\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.CollectionLengthObserver),\n/* harmony export */   \"CollectionSizeObserver\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.CollectionSizeObserver),\n/* harmony export */   \"IDirtyChecker\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.IDirtyChecker),\n/* harmony export */   \"DirtyCheckProperty\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.DirtyCheckProperty),\n/* harmony export */   \"DirtyCheckSettings\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.DirtyCheckSettings),\n/* harmony export */   \"ComputedObserver\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ComputedObserver),\n/* harmony export */   \"observable\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.observable),\n/* harmony export */   \"IObserverLocator\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.IObserverLocator),\n/* harmony export */   \"INodeObserverLocator\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.INodeObserverLocator),\n/* harmony export */   \"getCollectionObserver\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.getCollectionObserver),\n/* harmony export */   \"ObserverLocator\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ObserverLocator),\n/* harmony export */   \"PrimitiveObserver\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.PrimitiveObserver),\n/* harmony export */   \"PropertyAccessor\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.PropertyAccessor),\n/* harmony export */   \"SetterObserver\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.SetterObserver),\n/* harmony export */   \"ISignaler\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ISignaler),\n/* harmony export */   \"subscriberCollection\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.subscriberCollection),\n/* harmony export */   \"bindingBehavior\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.bindingBehavior),\n/* harmony export */   \"BindingBehavior\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BindingBehavior),\n/* harmony export */   \"BindingBehaviorDefinition\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BindingBehaviorDefinition),\n/* harmony export */   \"BindingInterceptor\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BindingInterceptor),\n/* harmony export */   \"BindingBehaviorFactory\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BindingBehaviorFactory),\n/* harmony export */   \"BindingBehaviorStrategy\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BindingBehaviorStrategy),\n/* harmony export */   \"ValueConverter\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ValueConverter),\n/* harmony export */   \"ValueConverterDefinition\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ValueConverterDefinition),\n/* harmony export */   \"valueConverter\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.valueConverter),\n/* harmony export */   \"BindingMode\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.BindingMode),\n/* harmony export */   \"ExpressionKind\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.ExpressionKind),\n/* harmony export */   \"LifecycleFlags\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.LifecycleFlags),\n/* harmony export */   \"AccessorType\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.AccessorType),\n/* harmony export */   \"CollectionKind\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.CollectionKind),\n/* harmony export */   \"DelegationStrategy\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.DelegationStrategy),\n/* harmony export */   \"isIndexMap\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.isIndexMap),\n/* harmony export */   \"copyIndexMap\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.copyIndexMap),\n/* harmony export */   \"cloneIndexMap\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.cloneIndexMap),\n/* harmony export */   \"createIndexMap\": () => (/* reexport safe */ _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__.createIndexMap),\n/* harmony export */   \"Aurelia\": () => (/* reexport safe */ _aurelia_js__WEBPACK_IMPORTED_MODULE_10__.Aurelia),\n/* harmony export */   \"IAurelia\": () => (/* reexport safe */ _aurelia_js__WEBPACK_IMPORTED_MODULE_10__.IAurelia),\n/* harmony export */   \"AppRoot\": () => (/* reexport safe */ _app_root_js__WEBPACK_IMPORTED_MODULE_11__.AppRoot),\n/* harmony export */   \"IAppRoot\": () => (/* reexport safe */ _app_root_js__WEBPACK_IMPORTED_MODULE_11__.IAppRoot),\n/* harmony export */   \"IWorkTracker\": () => (/* reexport safe */ _app_root_js__WEBPACK_IMPORTED_MODULE_11__.IWorkTracker),\n/* harmony export */   \"AppTask\": () => (/* reexport safe */ _app_task_js__WEBPACK_IMPORTED_MODULE_12__.AppTask),\n/* harmony export */   \"IAppTask\": () => (/* reexport safe */ _app_task_js__WEBPACK_IMPORTED_MODULE_12__.IAppTask),\n/* harmony export */   \"AttrSyntax\": () => (/* reexport safe */ _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__.AttrSyntax),\n/* harmony export */   \"IAttributeParser\": () => (/* reexport safe */ _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__.IAttributeParser),\n/* harmony export */   \"attributePattern\": () => (/* reexport safe */ _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__.attributePattern),\n/* harmony export */   \"IAttributePattern\": () => (/* reexport safe */ _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__.IAttributePattern),\n/* harmony export */   \"AttributePattern\": () => (/* reexport safe */ _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__.AttributePattern),\n/* harmony export */   \"Interpretation\": () => (/* reexport safe */ _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__.Interpretation),\n/* harmony export */   \"ISyntaxInterpreter\": () => (/* reexport safe */ _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__.ISyntaxInterpreter),\n/* harmony export */   \"AtPrefixedTriggerAttributePattern\": () => (/* reexport safe */ _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__.AtPrefixedTriggerAttributePattern),\n/* harmony export */   \"ColonPrefixedBindAttributePattern\": () => (/* reexport safe */ _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__.ColonPrefixedBindAttributePattern),\n/* harmony export */   \"DotSeparatedAttributePattern\": () => (/* reexport safe */ _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__.DotSeparatedAttributePattern),\n/* harmony export */   \"RefAttributePattern\": () => (/* reexport safe */ _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__.RefAttributePattern),\n/* harmony export */   \"bindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.bindingCommand),\n/* harmony export */   \"BindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.BindingCommand),\n/* harmony export */   \"BindingCommandDefinition\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.BindingCommandDefinition),\n/* harmony export */   \"getTarget\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.getTarget),\n/* harmony export */   \"CallBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.CallBindingCommand),\n/* harmony export */   \"DefaultBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.DefaultBindingCommand),\n/* harmony export */   \"ForBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.ForBindingCommand),\n/* harmony export */   \"FromViewBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.FromViewBindingCommand),\n/* harmony export */   \"OneTimeBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.OneTimeBindingCommand),\n/* harmony export */   \"ToViewBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.ToViewBindingCommand),\n/* harmony export */   \"TwoWayBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.TwoWayBindingCommand),\n/* harmony export */   \"TriggerBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.TriggerBindingCommand),\n/* harmony export */   \"DelegateBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.DelegateBindingCommand),\n/* harmony export */   \"CaptureBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.CaptureBindingCommand),\n/* harmony export */   \"AttrBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.AttrBindingCommand),\n/* harmony export */   \"ClassBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.ClassBindingCommand),\n/* harmony export */   \"StyleBindingCommand\": () => (/* reexport safe */ _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__.StyleBindingCommand),\n/* harmony export */   \"IAttrSyntaxTransformer\": () => (/* reexport safe */ _attribute_syntax_transformer_js__WEBPACK_IMPORTED_MODULE_15__.IAttrSyntaxTransformer),\n/* harmony export */   \"Listener\": () => (/* reexport safe */ _binding_listener_js__WEBPACK_IMPORTED_MODULE_16__.Listener),\n/* harmony export */   \"AttributeBinding\": () => (/* reexport safe */ _binding_attribute_js__WEBPACK_IMPORTED_MODULE_17__.AttributeBinding),\n/* harmony export */   \"CallBinding\": () => (/* reexport safe */ _binding_call_binding_js__WEBPACK_IMPORTED_MODULE_18__.CallBinding),\n/* harmony export */   \"InterpolationBinding\": () => (/* reexport safe */ _binding_interpolation_binding_js__WEBPACK_IMPORTED_MODULE_19__.InterpolationBinding),\n/* harmony export */   \"LetBinding\": () => (/* reexport safe */ _binding_let_binding_js__WEBPACK_IMPORTED_MODULE_20__.LetBinding),\n/* harmony export */   \"PropertyBinding\": () => (/* reexport safe */ _binding_property_binding_js__WEBPACK_IMPORTED_MODULE_21__.PropertyBinding),\n/* harmony export */   \"RefBinding\": () => (/* reexport safe */ _binding_ref_binding_js__WEBPACK_IMPORTED_MODULE_22__.RefBinding),\n/* harmony export */   \"IRenderer\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.IRenderer),\n/* harmony export */   \"ITemplateCompiler\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.ITemplateCompiler),\n/* harmony export */   \"renderer\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.renderer),\n/* harmony export */   \"CallBindingInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.CallBindingInstruction),\n/* harmony export */   \"HydrateAttributeInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.HydrateAttributeInstruction),\n/* harmony export */   \"HydrateElementInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.HydrateElementInstruction),\n/* harmony export */   \"HydrateTemplateController\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.HydrateTemplateController),\n/* harmony export */   \"InterpolationInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.InterpolationInstruction),\n/* harmony export */   \"IteratorBindingInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.IteratorBindingInstruction),\n/* harmony export */   \"LetBindingInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.LetBindingInstruction),\n/* harmony export */   \"HydrateLetElementInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.HydrateLetElementInstruction),\n/* harmony export */   \"RefBindingInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.RefBindingInstruction),\n/* harmony export */   \"SetPropertyInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.SetPropertyInstruction),\n/* harmony export */   \"AttributeBindingInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.AttributeBindingInstruction),\n/* harmony export */   \"ListenerBindingInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.ListenerBindingInstruction),\n/* harmony export */   \"PropertyBindingInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.PropertyBindingInstruction),\n/* harmony export */   \"SetAttributeInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.SetAttributeInstruction),\n/* harmony export */   \"SetClassAttributeInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.SetClassAttributeInstruction),\n/* harmony export */   \"SetStyleAttributeInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.SetStyleAttributeInstruction),\n/* harmony export */   \"StylePropertyBindingInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.StylePropertyBindingInstruction),\n/* harmony export */   \"TextBindingInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.TextBindingInstruction),\n/* harmony export */   \"isInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.isInstruction),\n/* harmony export */   \"IInstruction\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.IInstruction),\n/* harmony export */   \"InstructionType\": () => (/* reexport safe */ _renderer_js__WEBPACK_IMPORTED_MODULE_23__.InstructionType),\n/* harmony export */   \"AttributeNSAccessor\": () => (/* reexport safe */ _observation_attribute_ns_accessor_js__WEBPACK_IMPORTED_MODULE_24__.AttributeNSAccessor),\n/* harmony export */   \"CheckedObserver\": () => (/* reexport safe */ _observation_checked_observer_js__WEBPACK_IMPORTED_MODULE_25__.CheckedObserver),\n/* harmony export */   \"ClassAttributeAccessor\": () => (/* reexport safe */ _observation_class_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_26__.ClassAttributeAccessor),\n/* harmony export */   \"DataAttributeAccessor\": () => (/* reexport safe */ _observation_data_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_27__.DataAttributeAccessor),\n/* harmony export */   \"IEventDelegator\": () => (/* reexport safe */ _observation_event_delegator_js__WEBPACK_IMPORTED_MODULE_28__.IEventDelegator),\n/* harmony export */   \"EventSubscriber\": () => (/* reexport safe */ _observation_event_delegator_js__WEBPACK_IMPORTED_MODULE_28__.EventSubscriber),\n/* harmony export */   \"EventDelegator\": () => (/* reexport safe */ _observation_event_delegator_js__WEBPACK_IMPORTED_MODULE_28__.EventDelegator),\n/* harmony export */   \"NodeObserverConfig\": () => (/* reexport safe */ _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_29__.NodeObserverConfig),\n/* harmony export */   \"NodeObserverLocator\": () => (/* reexport safe */ _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_29__.NodeObserverLocator),\n/* harmony export */   \"SelectValueObserver\": () => (/* reexport safe */ _observation_select_value_observer_js__WEBPACK_IMPORTED_MODULE_30__.SelectValueObserver),\n/* harmony export */   \"StyleAttributeAccessor\": () => (/* reexport safe */ _observation_style_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_31__.StyleAttributeAccessor),\n/* harmony export */   \"ISVGAnalyzer\": () => (/* reexport safe */ _observation_svg_analyzer_js__WEBPACK_IMPORTED_MODULE_32__.ISVGAnalyzer),\n/* harmony export */   \"SVGAnalyzer\": () => (/* reexport safe */ _observation_svg_analyzer_js__WEBPACK_IMPORTED_MODULE_32__.SVGAnalyzer),\n/* harmony export */   \"NoopSVGAnalyzer\": () => (/* reexport safe */ _observation_svg_analyzer_js__WEBPACK_IMPORTED_MODULE_32__.NoopSVGAnalyzer),\n/* harmony export */   \"ValueAttributeObserver\": () => (/* reexport safe */ _observation_value_attribute_observer_js__WEBPACK_IMPORTED_MODULE_33__.ValueAttributeObserver),\n/* harmony export */   \"AttrBindingBehavior\": () => (/* reexport safe */ _resources_binding_behaviors_attr_js__WEBPACK_IMPORTED_MODULE_34__.AttrBindingBehavior),\n/* harmony export */   \"SelfBindingBehavior\": () => (/* reexport safe */ _resources_binding_behaviors_self_js__WEBPACK_IMPORTED_MODULE_35__.SelfBindingBehavior),\n/* harmony export */   \"UpdateTriggerBindingBehavior\": () => (/* reexport safe */ _resources_binding_behaviors_update_trigger_js__WEBPACK_IMPORTED_MODULE_36__.UpdateTriggerBindingBehavior),\n/* harmony export */   \"customAttribute\": () => (/* reexport safe */ _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_37__.customAttribute),\n/* harmony export */   \"CustomAttribute\": () => (/* reexport safe */ _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_37__.CustomAttribute),\n/* harmony export */   \"CustomAttributeDefinition\": () => (/* reexport safe */ _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_37__.CustomAttributeDefinition),\n/* harmony export */   \"templateController\": () => (/* reexport safe */ _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_37__.templateController),\n/* harmony export */   \"FrequentMutations\": () => (/* reexport safe */ _resources_template_controllers_flags_js__WEBPACK_IMPORTED_MODULE_38__.FrequentMutations),\n/* harmony export */   \"ObserveShallow\": () => (/* reexport safe */ _resources_template_controllers_flags_js__WEBPACK_IMPORTED_MODULE_38__.ObserveShallow),\n/* harmony export */   \"If\": () => (/* reexport safe */ _resources_template_controllers_if_js__WEBPACK_IMPORTED_MODULE_39__.If),\n/* harmony export */   \"Else\": () => (/* reexport safe */ _resources_template_controllers_if_js__WEBPACK_IMPORTED_MODULE_39__.Else),\n/* harmony export */   \"Repeat\": () => (/* reexport safe */ _resources_template_controllers_repeat_js__WEBPACK_IMPORTED_MODULE_40__.Repeat),\n/* harmony export */   \"With\": () => (/* reexport safe */ _resources_template_controllers_with_js__WEBPACK_IMPORTED_MODULE_41__.With),\n/* harmony export */   \"Switch\": () => (/* reexport safe */ _resources_template_controllers_switch_js__WEBPACK_IMPORTED_MODULE_42__.Switch),\n/* harmony export */   \"Case\": () => (/* reexport safe */ _resources_template_controllers_switch_js__WEBPACK_IMPORTED_MODULE_42__.Case),\n/* harmony export */   \"DefaultCase\": () => (/* reexport safe */ _resources_template_controllers_switch_js__WEBPACK_IMPORTED_MODULE_42__.DefaultCase),\n/* harmony export */   \"Blur\": () => (/* reexport safe */ _resources_custom_attributes_blur_js__WEBPACK_IMPORTED_MODULE_43__.Blur),\n/* harmony export */   \"BlurManager\": () => (/* reexport safe */ _resources_custom_attributes_blur_js__WEBPACK_IMPORTED_MODULE_43__.BlurManager),\n/* harmony export */   \"Focus\": () => (/* reexport safe */ _resources_custom_attributes_focus_js__WEBPACK_IMPORTED_MODULE_44__.Focus),\n/* harmony export */   \"Portal\": () => (/* reexport safe */ _resources_template_controllers_portal_js__WEBPACK_IMPORTED_MODULE_45__.Portal),\n/* harmony export */   \"AuSlot\": () => (/* reexport safe */ _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_46__.AuSlot),\n/* harmony export */   \"IProjections\": () => (/* reexport safe */ _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_46__.IProjections),\n/* harmony export */   \"SlotInfo\": () => (/* reexport safe */ _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_46__.SlotInfo),\n/* harmony export */   \"AuSlotContentType\": () => (/* reexport safe */ _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_46__.AuSlotContentType),\n/* harmony export */   \"RegisteredProjections\": () => (/* reexport safe */ _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_46__.RegisteredProjections),\n/* harmony export */   \"IProjectionProvider\": () => (/* reexport safe */ _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_46__.IProjectionProvider),\n/* harmony export */   \"ProjectionContext\": () => (/* reexport safe */ _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_46__.ProjectionContext),\n/* harmony export */   \"AuSlotsInfo\": () => (/* reexport safe */ _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_46__.AuSlotsInfo),\n/* harmony export */   \"IAuSlotsInfo\": () => (/* reexport safe */ _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_46__.IAuSlotsInfo),\n/* harmony export */   \"containerless\": () => (/* reexport safe */ _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_47__.containerless),\n/* harmony export */   \"customElement\": () => (/* reexport safe */ _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_47__.customElement),\n/* harmony export */   \"CustomElement\": () => (/* reexport safe */ _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_47__.CustomElement),\n/* harmony export */   \"CustomElementDefinition\": () => (/* reexport safe */ _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_47__.CustomElementDefinition),\n/* harmony export */   \"useShadowDOM\": () => (/* reexport safe */ _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_47__.useShadowDOM),\n/* harmony export */   \"processContent\": () => (/* reexport safe */ _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_47__.processContent),\n/* harmony export */   \"Compose\": () => (/* reexport safe */ _resources_custom_elements_compose_js__WEBPACK_IMPORTED_MODULE_48__.Compose),\n/* harmony export */   \"ISanitizer\": () => (/* reexport safe */ _resources_value_converters_sanitize_js__WEBPACK_IMPORTED_MODULE_49__.ISanitizer),\n/* harmony export */   \"SanitizeValueConverter\": () => (/* reexport safe */ _resources_value_converters_sanitize_js__WEBPACK_IMPORTED_MODULE_49__.SanitizeValueConverter),\n/* harmony export */   \"ViewValueConverter\": () => (/* reexport safe */ _resources_value_converters_view_js__WEBPACK_IMPORTED_MODULE_50__.ViewValueConverter),\n/* harmony export */   \"ITemplateCompilerRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ITemplateCompilerRegistration),\n/* harmony export */   \"INodeObserverLocatorRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.INodeObserverLocatorRegistration),\n/* harmony export */   \"DefaultComponents\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultComponents),\n/* harmony export */   \"RefAttributePatternRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.RefAttributePatternRegistration),\n/* harmony export */   \"DotSeparatedAttributePatternRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.DotSeparatedAttributePatternRegistration),\n/* harmony export */   \"DefaultBindingSyntax\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultBindingSyntax),\n/* harmony export */   \"AtPrefixedTriggerAttributePatternRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.AtPrefixedTriggerAttributePatternRegistration),\n/* harmony export */   \"ColonPrefixedBindAttributePatternRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ColonPrefixedBindAttributePatternRegistration),\n/* harmony export */   \"ShortHandBindingSyntax\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ShortHandBindingSyntax),\n/* harmony export */   \"SVGAnalyzerRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.SVGAnalyzerRegistration),\n/* harmony export */   \"CallBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.CallBindingCommandRegistration),\n/* harmony export */   \"DefaultBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultBindingCommandRegistration),\n/* harmony export */   \"ForBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ForBindingCommandRegistration),\n/* harmony export */   \"RefBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.RefBindingCommandRegistration),\n/* harmony export */   \"FromViewBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.FromViewBindingCommandRegistration),\n/* harmony export */   \"OneTimeBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.OneTimeBindingCommandRegistration),\n/* harmony export */   \"ToViewBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ToViewBindingCommandRegistration),\n/* harmony export */   \"TwoWayBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.TwoWayBindingCommandRegistration),\n/* harmony export */   \"TriggerBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.TriggerBindingCommandRegistration),\n/* harmony export */   \"DelegateBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.DelegateBindingCommandRegistration),\n/* harmony export */   \"CaptureBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.CaptureBindingCommandRegistration),\n/* harmony export */   \"AttrBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.AttrBindingCommandRegistration),\n/* harmony export */   \"ClassBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ClassBindingCommandRegistration),\n/* harmony export */   \"StyleBindingCommandRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.StyleBindingCommandRegistration),\n/* harmony export */   \"DefaultBindingLanguage\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultBindingLanguage),\n/* harmony export */   \"ViewValueConverterRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ViewValueConverterRegistration),\n/* harmony export */   \"SanitizeValueConverterRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.SanitizeValueConverterRegistration),\n/* harmony export */   \"IfRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.IfRegistration),\n/* harmony export */   \"ElseRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ElseRegistration),\n/* harmony export */   \"RepeatRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.RepeatRegistration),\n/* harmony export */   \"WithRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.WithRegistration),\n/* harmony export */   \"AttrBindingBehaviorRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.AttrBindingBehaviorRegistration),\n/* harmony export */   \"SelfBindingBehaviorRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.SelfBindingBehaviorRegistration),\n/* harmony export */   \"UpdateTriggerBindingBehaviorRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.UpdateTriggerBindingBehaviorRegistration),\n/* harmony export */   \"ComposeRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ComposeRegistration),\n/* harmony export */   \"DefaultResources\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultResources),\n/* harmony export */   \"AttributeBindingRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.AttributeBindingRendererRegistration),\n/* harmony export */   \"ListenerBindingRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.ListenerBindingRendererRegistration),\n/* harmony export */   \"SetAttributeRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.SetAttributeRendererRegistration),\n/* harmony export */   \"SetClassAttributeRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.SetClassAttributeRendererRegistration),\n/* harmony export */   \"SetStyleAttributeRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.SetStyleAttributeRendererRegistration),\n/* harmony export */   \"StylePropertyBindingRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.StylePropertyBindingRendererRegistration),\n/* harmony export */   \"TextBindingRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.TextBindingRendererRegistration),\n/* harmony export */   \"RefBindingRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.RefBindingRendererRegistration),\n/* harmony export */   \"CallBindingRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.CallBindingRendererRegistration),\n/* harmony export */   \"CustomAttributeRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.CustomAttributeRendererRegistration),\n/* harmony export */   \"CustomElementRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.CustomElementRendererRegistration),\n/* harmony export */   \"InterpolationBindingRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.InterpolationBindingRendererRegistration),\n/* harmony export */   \"IteratorBindingRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.IteratorBindingRendererRegistration),\n/* harmony export */   \"LetElementRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.LetElementRendererRegistration),\n/* harmony export */   \"PropertyBindingRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.PropertyBindingRendererRegistration),\n/* harmony export */   \"SetPropertyRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.SetPropertyRendererRegistration),\n/* harmony export */   \"TemplateControllerRendererRegistration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.TemplateControllerRendererRegistration),\n/* harmony export */   \"DefaultRenderers\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultRenderers),\n/* harmony export */   \"StandardConfiguration\": () => (/* reexport safe */ _configuration_js__WEBPACK_IMPORTED_MODULE_4__.StandardConfiguration),\n/* harmony export */   \"TemplateBinder\": () => (/* reexport safe */ _template_binder_js__WEBPACK_IMPORTED_MODULE_51__.TemplateBinder),\n/* harmony export */   \"ITemplateElementFactory\": () => (/* reexport safe */ _template_element_factory_js__WEBPACK_IMPORTED_MODULE_52__.ITemplateElementFactory),\n/* harmony export */   \"ChildrenDefinition\": () => (/* reexport safe */ _templating_children_js__WEBPACK_IMPORTED_MODULE_53__.ChildrenDefinition),\n/* harmony export */   \"Children\": () => (/* reexport safe */ _templating_children_js__WEBPACK_IMPORTED_MODULE_53__.Children),\n/* harmony export */   \"children\": () => (/* reexport safe */ _templating_children_js__WEBPACK_IMPORTED_MODULE_53__.children),\n/* harmony export */   \"ChildrenObserver\": () => (/* reexport safe */ _templating_children_js__WEBPACK_IMPORTED_MODULE_53__.ChildrenObserver),\n/* harmony export */   \"Controller\": () => (/* reexport safe */ _templating_controller_js__WEBPACK_IMPORTED_MODULE_54__.Controller),\n/* harmony export */   \"isCustomElementController\": () => (/* reexport safe */ _templating_controller_js__WEBPACK_IMPORTED_MODULE_54__.isCustomElementController),\n/* harmony export */   \"isCustomElementViewModel\": () => (/* reexport safe */ _templating_controller_js__WEBPACK_IMPORTED_MODULE_54__.isCustomElementViewModel),\n/* harmony export */   \"ViewModelKind\": () => (/* reexport safe */ _templating_controller_js__WEBPACK_IMPORTED_MODULE_54__.ViewModelKind),\n/* harmony export */   \"IController\": () => (/* reexport safe */ _templating_controller_js__WEBPACK_IMPORTED_MODULE_54__.IController),\n/* harmony export */   \"ILifecycleHooks\": () => (/* reexport safe */ _templating_lifecycle_hooks_js__WEBPACK_IMPORTED_MODULE_55__.ILifecycleHooks),\n/* harmony export */   \"LifecycleHooksEntry\": () => (/* reexport safe */ _templating_lifecycle_hooks_js__WEBPACK_IMPORTED_MODULE_55__.LifecycleHooksEntry),\n/* harmony export */   \"LifecycleHooksDefinition\": () => (/* reexport safe */ _templating_lifecycle_hooks_js__WEBPACK_IMPORTED_MODULE_55__.LifecycleHooksDefinition),\n/* harmony export */   \"LifecycleHooks\": () => (/* reexport safe */ _templating_lifecycle_hooks_js__WEBPACK_IMPORTED_MODULE_55__.LifecycleHooks),\n/* harmony export */   \"lifecycleHooks\": () => (/* reexport safe */ _templating_lifecycle_hooks_js__WEBPACK_IMPORTED_MODULE_55__.lifecycleHooks),\n/* harmony export */   \"getRenderContext\": () => (/* reexport safe */ _templating_render_context_js__WEBPACK_IMPORTED_MODULE_56__.getRenderContext),\n/* harmony export */   \"isRenderContext\": () => (/* reexport safe */ _templating_render_context_js__WEBPACK_IMPORTED_MODULE_56__.isRenderContext),\n/* harmony export */   \"ViewFactory\": () => (/* reexport safe */ _templating_view_js__WEBPACK_IMPORTED_MODULE_57__.ViewFactory),\n/* harmony export */   \"IViewFactory\": () => (/* reexport safe */ _templating_view_js__WEBPACK_IMPORTED_MODULE_57__.IViewFactory),\n/* harmony export */   \"IViewLocator\": () => (/* reexport safe */ _templating_view_js__WEBPACK_IMPORTED_MODULE_57__.IViewLocator),\n/* harmony export */   \"ViewLocator\": () => (/* reexport safe */ _templating_view_js__WEBPACK_IMPORTED_MODULE_57__.ViewLocator),\n/* harmony export */   \"view\": () => (/* reexport safe */ _templating_view_js__WEBPACK_IMPORTED_MODULE_57__.view),\n/* harmony export */   \"Views\": () => (/* reexport safe */ _templating_view_js__WEBPACK_IMPORTED_MODULE_57__.Views),\n/* harmony export */   \"createElement\": () => (/* reexport safe */ _create_element_js__WEBPACK_IMPORTED_MODULE_58__.createElement),\n/* harmony export */   \"RenderPlan\": () => (/* reexport safe */ _create_element_js__WEBPACK_IMPORTED_MODULE_58__.RenderPlan),\n/* harmony export */   \"INode\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.INode),\n/* harmony export */   \"IEventTarget\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.IEventTarget),\n/* harmony export */   \"IRenderLocation\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.IRenderLocation),\n/* harmony export */   \"NodeType\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.NodeType),\n/* harmony export */   \"FragmentNodeSequence\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.FragmentNodeSequence),\n/* harmony export */   \"IHistory\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.IHistory),\n/* harmony export */   \"IWindow\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.IWindow),\n/* harmony export */   \"ILocation\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.ILocation),\n/* harmony export */   \"getEffectiveParentNode\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.getEffectiveParentNode),\n/* harmony export */   \"setEffectiveParentNode\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.setEffectiveParentNode),\n/* harmony export */   \"convertToRenderLocation\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.convertToRenderLocation),\n/* harmony export */   \"isRenderLocation\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.isRenderLocation),\n/* harmony export */   \"getRef\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.getRef),\n/* harmony export */   \"setRef\": () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_59__.setRef),\n/* harmony export */   \"IPlatform\": () => (/* reexport safe */ _platform_js__WEBPACK_IMPORTED_MODULE_60__.IPlatform),\n/* harmony export */   \"BindableInfo\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.BindableInfo),\n/* harmony export */   \"ElementInfo\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.ElementInfo),\n/* harmony export */   \"AttrInfo\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.AttrInfo),\n/* harmony export */   \"BindingSymbol\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.BindingSymbol),\n/* harmony export */   \"CustomAttributeSymbol\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.CustomAttributeSymbol),\n/* harmony export */   \"CustomElementSymbol\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.CustomElementSymbol),\n/* harmony export */   \"LetElementSymbol\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.LetElementSymbol),\n/* harmony export */   \"PlainAttributeSymbol\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.PlainAttributeSymbol),\n/* harmony export */   \"PlainElementSymbol\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.PlainElementSymbol),\n/* harmony export */   \"SymbolFlags\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.SymbolFlags),\n/* harmony export */   \"TemplateControllerSymbol\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.TemplateControllerSymbol),\n/* harmony export */   \"TextSymbol\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.TextSymbol),\n/* harmony export */   \"ProjectionSymbol\": () => (/* reexport safe */ _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__.ProjectionSymbol),\n/* harmony export */   \"CSSModulesProcessorRegistry\": () => (/* reexport safe */ _templating_styles_js__WEBPACK_IMPORTED_MODULE_62__.CSSModulesProcessorRegistry),\n/* harmony export */   \"cssModules\": () => (/* reexport safe */ _templating_styles_js__WEBPACK_IMPORTED_MODULE_62__.cssModules),\n/* harmony export */   \"ShadowDOMRegistry\": () => (/* reexport safe */ _templating_styles_js__WEBPACK_IMPORTED_MODULE_62__.ShadowDOMRegistry),\n/* harmony export */   \"IShadowDOMStyleFactory\": () => (/* reexport safe */ _templating_styles_js__WEBPACK_IMPORTED_MODULE_62__.IShadowDOMStyleFactory),\n/* harmony export */   \"shadowCSS\": () => (/* reexport safe */ _templating_styles_js__WEBPACK_IMPORTED_MODULE_62__.shadowCSS),\n/* harmony export */   \"StyleConfiguration\": () => (/* reexport safe */ _templating_styles_js__WEBPACK_IMPORTED_MODULE_62__.StyleConfiguration),\n/* harmony export */   \"AdoptedStyleSheetsStyles\": () => (/* reexport safe */ _templating_styles_js__WEBPACK_IMPORTED_MODULE_62__.AdoptedStyleSheetsStyles),\n/* harmony export */   \"StyleElementStyles\": () => (/* reexport safe */ _templating_styles_js__WEBPACK_IMPORTED_MODULE_62__.StyleElementStyles),\n/* harmony export */   \"IShadowDOMStyles\": () => (/* reexport safe */ _templating_styles_js__WEBPACK_IMPORTED_MODULE_62__.IShadowDOMStyles),\n/* harmony export */   \"IShadowDOMGlobalStyles\": () => (/* reexport safe */ _templating_styles_js__WEBPACK_IMPORTED_MODULE_62__.IShadowDOMGlobalStyles),\n/* harmony export */   \"Watch\": () => (/* reexport safe */ _watch_js__WEBPACK_IMPORTED_MODULE_63__.Watch),\n/* harmony export */   \"watch\": () => (/* reexport safe */ _watch_js__WEBPACK_IMPORTED_MODULE_63__.watch),\n/* harmony export */   \"ComputedWatcher\": () => (/* reexport safe */ _templating_watchers_js__WEBPACK_IMPORTED_MODULE_64__.ComputedWatcher),\n/* harmony export */   \"ExpressionWatcher\": () => (/* reexport safe */ _templating_watchers_js__WEBPACK_IMPORTED_MODULE_64__.ExpressionWatcher)\n/* harmony export */ });\n/* harmony import */ var _aurelia_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/platform */ \"./node_modules/@aurelia/platform/dist/esm/index.js\");\n/* harmony import */ var _aurelia_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/platform-browser */ \"./node_modules/@aurelia/platform-browser/dist/esm/index.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\n/* harmony import */ var _observation_bindable_observer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./observation/bindable-observer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/bindable-observer.js\");\n/* harmony import */ var _configuration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./configuration.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/configuration.js\");\n/* harmony import */ var _binding_behaviors_binding_mode_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./binding-behaviors/binding-mode.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/binding-mode.js\");\n/* harmony import */ var _binding_behaviors_debounce_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./binding-behaviors/debounce.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/debounce.js\");\n/* harmony import */ var _binding_behaviors_signals_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./binding-behaviors/signals.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/signals.js\");\n/* harmony import */ var _binding_behaviors_throttle_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./binding-behaviors/throttle.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding-behaviors/throttle.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _aurelia_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./aurelia.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/aurelia.js\");\n/* harmony import */ var _app_root_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./app-root.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/app-root.js\");\n/* harmony import */ var _app_task_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./app-task.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/app-task.js\");\n/* harmony import */ var _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./resources/attribute-pattern.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/attribute-pattern.js\");\n/* harmony import */ var _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./resources/binding-command.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-command.js\");\n/* harmony import */ var _attribute_syntax_transformer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./attribute-syntax-transformer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/attribute-syntax-transformer.js\");\n/* harmony import */ var _binding_listener_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./binding/listener.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/listener.js\");\n/* harmony import */ var _binding_attribute_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./binding/attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/attribute.js\");\n/* harmony import */ var _binding_call_binding_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./binding/call-binding.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/call-binding.js\");\n/* harmony import */ var _binding_interpolation_binding_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./binding/interpolation-binding.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/interpolation-binding.js\");\n/* harmony import */ var _binding_let_binding_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./binding/let-binding.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/let-binding.js\");\n/* harmony import */ var _binding_property_binding_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./binding/property-binding.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/property-binding.js\");\n/* harmony import */ var _binding_ref_binding_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./binding/ref-binding.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/ref-binding.js\");\n/* harmony import */ var _renderer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./renderer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/renderer.js\");\n/* harmony import */ var _observation_attribute_ns_accessor_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./observation/attribute-ns-accessor.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/attribute-ns-accessor.js\");\n/* harmony import */ var _observation_checked_observer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./observation/checked-observer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/checked-observer.js\");\n/* harmony import */ var _observation_class_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./observation/class-attribute-accessor.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/class-attribute-accessor.js\");\n/* harmony import */ var _observation_data_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./observation/data-attribute-accessor.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/data-attribute-accessor.js\");\n/* harmony import */ var _observation_event_delegator_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./observation/event-delegator.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/event-delegator.js\");\n/* harmony import */ var _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./observation/observer-locator.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/observer-locator.js\");\n/* harmony import */ var _observation_select_value_observer_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./observation/select-value-observer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/select-value-observer.js\");\n/* harmony import */ var _observation_style_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./observation/style-attribute-accessor.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/style-attribute-accessor.js\");\n/* harmony import */ var _observation_svg_analyzer_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./observation/svg-analyzer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/svg-analyzer.js\");\n/* harmony import */ var _observation_value_attribute_observer_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./observation/value-attribute-observer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/value-attribute-observer.js\");\n/* harmony import */ var _resources_binding_behaviors_attr_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./resources/binding-behaviors/attr.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/attr.js\");\n/* harmony import */ var _resources_binding_behaviors_self_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./resources/binding-behaviors/self.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/self.js\");\n/* harmony import */ var _resources_binding_behaviors_update_trigger_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./resources/binding-behaviors/update-trigger.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/update-trigger.js\");\n/* harmony import */ var _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./resources/custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _resources_template_controllers_flags_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./resources/template-controllers/flags.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/flags.js\");\n/* harmony import */ var _resources_template_controllers_if_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./resources/template-controllers/if.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/if.js\");\n/* harmony import */ var _resources_template_controllers_repeat_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./resources/template-controllers/repeat.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/repeat.js\");\n/* harmony import */ var _resources_template_controllers_with_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./resources/template-controllers/with.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/with.js\");\n/* harmony import */ var _resources_template_controllers_switch_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./resources/template-controllers/switch.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/switch.js\");\n/* harmony import */ var _resources_custom_attributes_blur_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./resources/custom-attributes/blur.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/blur.js\");\n/* harmony import */ var _resources_custom_attributes_focus_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./resources/custom-attributes/focus.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/focus.js\");\n/* harmony import */ var _resources_template_controllers_portal_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./resources/template-controllers/portal.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/portal.js\");\n/* harmony import */ var _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./resources/custom-elements/au-slot.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/au-slot.js\");\n/* harmony import */ var _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./resources/custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\n/* harmony import */ var _resources_custom_elements_compose_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./resources/custom-elements/compose.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/compose.js\");\n/* harmony import */ var _resources_value_converters_sanitize_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./resources/value-converters/sanitize.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/value-converters/sanitize.js\");\n/* harmony import */ var _resources_value_converters_view_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./resources/value-converters/view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/value-converters/view.js\");\n/* harmony import */ var _template_binder_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./template-binder.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/template-binder.js\");\n/* harmony import */ var _template_element_factory_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./template-element-factory.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/template-element-factory.js\");\n/* harmony import */ var _templating_children_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./templating/children.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/children.js\");\n/* harmony import */ var _templating_controller_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./templating/controller.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/controller.js\");\n/* harmony import */ var _templating_lifecycle_hooks_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./templating/lifecycle-hooks.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/lifecycle-hooks.js\");\n/* harmony import */ var _templating_render_context_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./templating/render-context.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/render-context.js\");\n/* harmony import */ var _templating_view_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./templating/view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js\");\n/* harmony import */ var _create_element_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./create-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/create-element.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _semantic_model_js__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./semantic-model.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/semantic-model.js\");\n/* harmony import */ var _templating_styles_js__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./templating/styles.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/styles.js\");\n/* harmony import */ var _watch_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./watch.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/watch.js\");\n/* harmony import */ var _templating_watchers_js__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./templating/watchers.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/watchers.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// These exports are temporary until we have a proper way to unit test them\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9pbmRleC5qcz8xNWZhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IFBsYXRmb3JtLCBUYXNrUXVldWUsIFRhc2ssIFRhc2tBYm9ydEVycm9yLCBUYXNrUXVldWVQcmlvcml0eSwgVGFza1N0YXR1cywgfSBmcm9tICdAYXVyZWxpYS9wbGF0Zm9ybSc7XG5leHBvcnQgeyBCcm93c2VyUGxhdGZvcm0sIH0gZnJvbSAnQGF1cmVsaWEvcGxhdGZvcm0tYnJvd3Nlcic7XG5leHBvcnQgeyBiaW5kYWJsZSwgQmluZGFibGUsIEJpbmRhYmxlRGVmaW5pdGlvbiwgfSBmcm9tICcuL2JpbmRhYmxlLmpzJztcbmV4cG9ydCB7IEJpbmRhYmxlT2JzZXJ2ZXIsIH0gZnJvbSAnLi9vYnNlcnZhdGlvbi9iaW5kYWJsZS1vYnNlcnZlci5qcyc7XG5leHBvcnQgeyBEZWJvdW5jZUJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiwgT25lVGltZUJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiwgVG9WaWV3QmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLCBGcm9tVmlld0JpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiwgU2lnbmFsQmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLCBUaHJvdHRsZUJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbiwgVHdvV2F5QmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLCB9IGZyb20gJy4vY29uZmlndXJhdGlvbi5qcyc7XG5leHBvcnQgeyBCaW5kaW5nTW9kZUJlaGF2aW9yLCBPbmVUaW1lQmluZGluZ0JlaGF2aW9yLCBUb1ZpZXdCaW5kaW5nQmVoYXZpb3IsIEZyb21WaWV3QmluZGluZ0JlaGF2aW9yLCBUd29XYXlCaW5kaW5nQmVoYXZpb3IsIH0gZnJvbSAnLi9iaW5kaW5nLWJlaGF2aW9ycy9iaW5kaW5nLW1vZGUuanMnO1xuZXhwb3J0IHsgRGVib3VuY2VCaW5kaW5nQmVoYXZpb3IsIH0gZnJvbSAnLi9iaW5kaW5nLWJlaGF2aW9ycy9kZWJvdW5jZS5qcyc7XG5leHBvcnQgeyBTaWduYWxCaW5kaW5nQmVoYXZpb3IsIH0gZnJvbSAnLi9iaW5kaW5nLWJlaGF2aW9ycy9zaWduYWxzLmpzJztcbmV4cG9ydCB7IFRocm90dGxlQmluZGluZ0JlaGF2aW9yLCB9IGZyb20gJy4vYmluZGluZy1iZWhhdmlvcnMvdGhyb3R0bGUuanMnO1xuZXhwb3J0IHsgYWxpYXMsIHJlZ2lzdGVyQWxpYXNlcywgQ2FsbEZ1bmN0aW9uRXhwcmVzc2lvbiwgQ3VzdG9tRXhwcmVzc2lvbiwgQmluZGluZ0JlaGF2aW9yRXhwcmVzc2lvbiwgVmFsdWVDb252ZXJ0ZXJFeHByZXNzaW9uLCBBc3NpZ25FeHByZXNzaW9uLCBDb25kaXRpb25hbEV4cHJlc3Npb24sIEFjY2Vzc1RoaXNFeHByZXNzaW9uLCBBY2Nlc3NTY29wZUV4cHJlc3Npb24sIEFjY2Vzc01lbWJlckV4cHJlc3Npb24sIEFjY2Vzc0tleWVkRXhwcmVzc2lvbiwgQ2FsbFNjb3BlRXhwcmVzc2lvbiwgQ2FsbE1lbWJlckV4cHJlc3Npb24sIEJpbmFyeUV4cHJlc3Npb24sIFVuYXJ5RXhwcmVzc2lvbiwgUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24sIEh0bWxMaXRlcmFsRXhwcmVzc2lvbiwgQXJyYXlMaXRlcmFsRXhwcmVzc2lvbiwgT2JqZWN0TGl0ZXJhbEV4cHJlc3Npb24sIFRlbXBsYXRlRXhwcmVzc2lvbiwgVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uLCBBcnJheUJpbmRpbmdQYXR0ZXJuLCBPYmplY3RCaW5kaW5nUGF0dGVybiwgQmluZGluZ0lkZW50aWZpZXIsIEZvck9mU3RhdGVtZW50LCBJbnRlcnBvbGF0aW9uLCBjb25uZWN0YWJsZSwgQmluZGluZ01lZGlhdG9yLCBJRXhwcmVzc2lvblBhcnNlciwgQmluZGluZ1R5cGUsIHBhcnNlRXhwcmVzc2lvbiwgQ2hhciwgQWNjZXNzLCBQcmVjZWRlbmNlLCBwYXJzZSwgUGFyc2VyU3RhdGUsIEFycmF5T2JzZXJ2ZXIsIEFycmF5SW5kZXhPYnNlcnZlciwgZW5hYmxlQXJyYXlPYnNlcnZhdGlvbiwgZGlzYWJsZUFycmF5T2JzZXJ2YXRpb24sIGFwcGx5TXV0YXRpb25zVG9JbmRpY2VzLCBzeW5jaHJvbml6ZUluZGljZXMsIE1hcE9ic2VydmVyLCBlbmFibGVNYXBPYnNlcnZhdGlvbiwgZGlzYWJsZU1hcE9ic2VydmF0aW9uLCBTZXRPYnNlcnZlciwgZW5hYmxlU2V0T2JzZXJ2YXRpb24sIGRpc2FibGVTZXRPYnNlcnZhdGlvbiwgQmluZGluZ0NvbnRleHQsIFNjb3BlLCBPdmVycmlkZUNvbnRleHQsIENvbGxlY3Rpb25MZW5ndGhPYnNlcnZlciwgQ29sbGVjdGlvblNpemVPYnNlcnZlciwgSURpcnR5Q2hlY2tlciwgRGlydHlDaGVja1Byb3BlcnR5LCBEaXJ0eUNoZWNrU2V0dGluZ3MsIENvbXB1dGVkT2JzZXJ2ZXIsIG9ic2VydmFibGUsIElPYnNlcnZlckxvY2F0b3IsIElOb2RlT2JzZXJ2ZXJMb2NhdG9yLCBnZXRDb2xsZWN0aW9uT2JzZXJ2ZXIsIE9ic2VydmVyTG9jYXRvciwgUHJpbWl0aXZlT2JzZXJ2ZXIsIFByb3BlcnR5QWNjZXNzb3IsIFNldHRlck9ic2VydmVyLCBJU2lnbmFsZXIsIHN1YnNjcmliZXJDb2xsZWN0aW9uLCBiaW5kaW5nQmVoYXZpb3IsIEJpbmRpbmdCZWhhdmlvciwgQmluZGluZ0JlaGF2aW9yRGVmaW5pdGlvbiwgQmluZGluZ0ludGVyY2VwdG9yLCBCaW5kaW5nQmVoYXZpb3JGYWN0b3J5LCBCaW5kaW5nQmVoYXZpb3JTdHJhdGVneSwgVmFsdWVDb252ZXJ0ZXIsIFZhbHVlQ29udmVydGVyRGVmaW5pdGlvbiwgdmFsdWVDb252ZXJ0ZXIsIEJpbmRpbmdNb2RlLCBFeHByZXNzaW9uS2luZCwgTGlmZWN5Y2xlRmxhZ3MsIEFjY2Vzc29yVHlwZSwgQ29sbGVjdGlvbktpbmQsIERlbGVnYXRpb25TdHJhdGVneSwgaXNJbmRleE1hcCwgY29weUluZGV4TWFwLCBjbG9uZUluZGV4TWFwLCBjcmVhdGVJbmRleE1hcCwgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lJztcbmV4cG9ydCB7IEF1cmVsaWEsIElBdXJlbGlhLCB9IGZyb20gJy4vYXVyZWxpYS5qcyc7XG5leHBvcnQgeyBBcHBSb290LCBJQXBwUm9vdCwgSVdvcmtUcmFja2VyLCB9IGZyb20gJy4vYXBwLXJvb3QuanMnO1xuZXhwb3J0IHsgQXBwVGFzaywgSUFwcFRhc2ssIH0gZnJvbSAnLi9hcHAtdGFzay5qcyc7XG5leHBvcnQgeyBBdHRyU3ludGF4LCBJQXR0cmlidXRlUGFyc2VyLCBhdHRyaWJ1dGVQYXR0ZXJuLCBJQXR0cmlidXRlUGF0dGVybiwgQXR0cmlidXRlUGF0dGVybiwgSW50ZXJwcmV0YXRpb24sIElTeW50YXhJbnRlcnByZXRlciwgQXRQcmVmaXhlZFRyaWdnZXJBdHRyaWJ1dGVQYXR0ZXJuLCBDb2xvblByZWZpeGVkQmluZEF0dHJpYnV0ZVBhdHRlcm4sIERvdFNlcGFyYXRlZEF0dHJpYnV0ZVBhdHRlcm4sIFJlZkF0dHJpYnV0ZVBhdHRlcm4sIH0gZnJvbSAnLi9yZXNvdXJjZXMvYXR0cmlidXRlLXBhdHRlcm4uanMnO1xuZXhwb3J0IHsgYmluZGluZ0NvbW1hbmQsIEJpbmRpbmdDb21tYW5kLCBCaW5kaW5nQ29tbWFuZERlZmluaXRpb24sIGdldFRhcmdldCwgQ2FsbEJpbmRpbmdDb21tYW5kLCBEZWZhdWx0QmluZGluZ0NvbW1hbmQsIEZvckJpbmRpbmdDb21tYW5kLCBGcm9tVmlld0JpbmRpbmdDb21tYW5kLCBPbmVUaW1lQmluZGluZ0NvbW1hbmQsIFRvVmlld0JpbmRpbmdDb21tYW5kLCBUd29XYXlCaW5kaW5nQ29tbWFuZCwgVHJpZ2dlckJpbmRpbmdDb21tYW5kLCBEZWxlZ2F0ZUJpbmRpbmdDb21tYW5kLCBDYXB0dXJlQmluZGluZ0NvbW1hbmQsIEF0dHJCaW5kaW5nQ29tbWFuZCwgQ2xhc3NCaW5kaW5nQ29tbWFuZCwgU3R5bGVCaW5kaW5nQ29tbWFuZCwgfSBmcm9tICcuL3Jlc291cmNlcy9iaW5kaW5nLWNvbW1hbmQuanMnO1xuZXhwb3J0IHsgSUF0dHJTeW50YXhUcmFuc2Zvcm1lciwgfSBmcm9tICcuL2F0dHJpYnV0ZS1zeW50YXgtdHJhbnNmb3JtZXIuanMnO1xuZXhwb3J0IHsgTGlzdGVuZXIsIH0gZnJvbSAnLi9iaW5kaW5nL2xpc3RlbmVyLmpzJztcbmV4cG9ydCB7IEF0dHJpYnV0ZUJpbmRpbmcsIH0gZnJvbSAnLi9iaW5kaW5nL2F0dHJpYnV0ZS5qcyc7XG5leHBvcnQgeyBDYWxsQmluZGluZywgfSBmcm9tICcuL2JpbmRpbmcvY2FsbC1iaW5kaW5nLmpzJztcbmV4cG9ydCB7IEludGVycG9sYXRpb25CaW5kaW5nLCB9IGZyb20gJy4vYmluZGluZy9pbnRlcnBvbGF0aW9uLWJpbmRpbmcuanMnO1xuZXhwb3J0IHsgTGV0QmluZGluZywgfSBmcm9tICcuL2JpbmRpbmcvbGV0LWJpbmRpbmcuanMnO1xuZXhwb3J0IHsgUHJvcGVydHlCaW5kaW5nLCB9IGZyb20gJy4vYmluZGluZy9wcm9wZXJ0eS1iaW5kaW5nLmpzJztcbmV4cG9ydCB7IFJlZkJpbmRpbmcsIH0gZnJvbSAnLi9iaW5kaW5nL3JlZi1iaW5kaW5nLmpzJztcbmV4cG9ydCB7IElSZW5kZXJlciwgSVRlbXBsYXRlQ29tcGlsZXIsIHJlbmRlcmVyLCBDYWxsQmluZGluZ0luc3RydWN0aW9uLCBIeWRyYXRlQXR0cmlidXRlSW5zdHJ1Y3Rpb24sIEh5ZHJhdGVFbGVtZW50SW5zdHJ1Y3Rpb24sIEh5ZHJhdGVUZW1wbGF0ZUNvbnRyb2xsZXIsIEludGVycG9sYXRpb25JbnN0cnVjdGlvbiwgSXRlcmF0b3JCaW5kaW5nSW5zdHJ1Y3Rpb24sIExldEJpbmRpbmdJbnN0cnVjdGlvbiwgSHlkcmF0ZUxldEVsZW1lbnRJbnN0cnVjdGlvbiwgUmVmQmluZGluZ0luc3RydWN0aW9uLCBTZXRQcm9wZXJ0eUluc3RydWN0aW9uLCBBdHRyaWJ1dGVCaW5kaW5nSW5zdHJ1Y3Rpb24sIExpc3RlbmVyQmluZGluZ0luc3RydWN0aW9uLCBQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbiwgU2V0QXR0cmlidXRlSW5zdHJ1Y3Rpb24sIFNldENsYXNzQXR0cmlidXRlSW5zdHJ1Y3Rpb24sIFNldFN0eWxlQXR0cmlidXRlSW5zdHJ1Y3Rpb24sIFN0eWxlUHJvcGVydHlCaW5kaW5nSW5zdHJ1Y3Rpb24sIFRleHRCaW5kaW5nSW5zdHJ1Y3Rpb24sIGlzSW5zdHJ1Y3Rpb24sIElJbnN0cnVjdGlvbiwgSW5zdHJ1Y3Rpb25UeXBlLCB9IGZyb20gJy4vcmVuZGVyZXIuanMnO1xuZXhwb3J0IHsgQXR0cmlidXRlTlNBY2Nlc3NvciwgfSBmcm9tICcuL29ic2VydmF0aW9uL2F0dHJpYnV0ZS1ucy1hY2Nlc3Nvci5qcyc7XG5leHBvcnQgeyBDaGVja2VkT2JzZXJ2ZXIsIH0gZnJvbSAnLi9vYnNlcnZhdGlvbi9jaGVja2VkLW9ic2VydmVyLmpzJztcbmV4cG9ydCB7IENsYXNzQXR0cmlidXRlQWNjZXNzb3IsIH0gZnJvbSAnLi9vYnNlcnZhdGlvbi9jbGFzcy1hdHRyaWJ1dGUtYWNjZXNzb3IuanMnO1xuZXhwb3J0IHsgRGF0YUF0dHJpYnV0ZUFjY2Vzc29yLCB9IGZyb20gJy4vb2JzZXJ2YXRpb24vZGF0YS1hdHRyaWJ1dGUtYWNjZXNzb3IuanMnO1xuZXhwb3J0IHsgSUV2ZW50RGVsZWdhdG9yLCBFdmVudFN1YnNjcmliZXIsIEV2ZW50RGVsZWdhdG9yLCB9IGZyb20gJy4vb2JzZXJ2YXRpb24vZXZlbnQtZGVsZWdhdG9yLmpzJztcbmV4cG9ydCB7IE5vZGVPYnNlcnZlckNvbmZpZywgTm9kZU9ic2VydmVyTG9jYXRvciwgfSBmcm9tICcuL29ic2VydmF0aW9uL29ic2VydmVyLWxvY2F0b3IuanMnO1xuZXhwb3J0IHsgU2VsZWN0VmFsdWVPYnNlcnZlciB9IGZyb20gJy4vb2JzZXJ2YXRpb24vc2VsZWN0LXZhbHVlLW9ic2VydmVyLmpzJztcbmV4cG9ydCB7IFN0eWxlQXR0cmlidXRlQWNjZXNzb3IgfSBmcm9tICcuL29ic2VydmF0aW9uL3N0eWxlLWF0dHJpYnV0ZS1hY2Nlc3Nvci5qcyc7XG5leHBvcnQgeyBJU1ZHQW5hbHl6ZXIsIFNWR0FuYWx5emVyLCBOb29wU1ZHQW5hbHl6ZXIsIH0gZnJvbSAnLi9vYnNlcnZhdGlvbi9zdmctYW5hbHl6ZXIuanMnO1xuZXhwb3J0IHsgVmFsdWVBdHRyaWJ1dGVPYnNlcnZlciwgfSBmcm9tICcuL29ic2VydmF0aW9uL3ZhbHVlLWF0dHJpYnV0ZS1vYnNlcnZlci5qcyc7XG5leHBvcnQgeyBBdHRyQmluZGluZ0JlaGF2aW9yLCB9IGZyb20gJy4vcmVzb3VyY2VzL2JpbmRpbmctYmVoYXZpb3JzL2F0dHIuanMnO1xuZXhwb3J0IHsgU2VsZkJpbmRpbmdCZWhhdmlvciwgfSBmcm9tICcuL3Jlc291cmNlcy9iaW5kaW5nLWJlaGF2aW9ycy9zZWxmLmpzJztcbmV4cG9ydCB7IFVwZGF0ZVRyaWdnZXJCaW5kaW5nQmVoYXZpb3IsIH0gZnJvbSAnLi9yZXNvdXJjZXMvYmluZGluZy1iZWhhdmlvcnMvdXBkYXRlLXRyaWdnZXIuanMnO1xuZXhwb3J0IHsgY3VzdG9tQXR0cmlidXRlLCBDdXN0b21BdHRyaWJ1dGUsIEN1c3RvbUF0dHJpYnV0ZURlZmluaXRpb24sIHRlbXBsYXRlQ29udHJvbGxlciwgfSBmcm9tICcuL3Jlc291cmNlcy9jdXN0b20tYXR0cmlidXRlLmpzJztcbmV4cG9ydCB7IEZyZXF1ZW50TXV0YXRpb25zLCBPYnNlcnZlU2hhbGxvdywgfSBmcm9tICcuL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9mbGFncy5qcyc7XG5leHBvcnQgeyBJZiwgRWxzZSwgfSBmcm9tICcuL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9pZi5qcyc7XG5leHBvcnQgeyBSZXBlYXQgfSBmcm9tICcuL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9yZXBlYXQuanMnO1xuZXhwb3J0IHsgV2l0aCB9IGZyb20gJy4vcmVzb3VyY2VzL3RlbXBsYXRlLWNvbnRyb2xsZXJzL3dpdGguanMnO1xuZXhwb3J0IHsgU3dpdGNoLCBDYXNlLCBEZWZhdWx0Q2FzZSwgfSBmcm9tICcuL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9zd2l0Y2guanMnO1xuZXhwb3J0IHsgQmx1ciwgQmx1ck1hbmFnZXIsIH0gZnJvbSAnLi9yZXNvdXJjZXMvY3VzdG9tLWF0dHJpYnV0ZXMvYmx1ci5qcyc7XG5leHBvcnQgeyBGb2N1cywgfSBmcm9tICcuL3Jlc291cmNlcy9jdXN0b20tYXR0cmlidXRlcy9mb2N1cy5qcyc7XG5leHBvcnQgeyBQb3J0YWwsIH0gZnJvbSAnLi9yZXNvdXJjZXMvdGVtcGxhdGUtY29udHJvbGxlcnMvcG9ydGFsLmpzJztcbmV4cG9ydCB7IEF1U2xvdCwgSVByb2plY3Rpb25zLCBTbG90SW5mbywgQXVTbG90Q29udGVudFR5cGUsIFJlZ2lzdGVyZWRQcm9qZWN0aW9ucywgSVByb2plY3Rpb25Qcm92aWRlciwgUHJvamVjdGlvbkNvbnRleHQsIEF1U2xvdHNJbmZvLCBJQXVTbG90c0luZm8sIH0gZnJvbSAnLi9yZXNvdXJjZXMvY3VzdG9tLWVsZW1lbnRzL2F1LXNsb3QuanMnO1xuZXhwb3J0IHsgY29udGFpbmVybGVzcywgY3VzdG9tRWxlbWVudCwgQ3VzdG9tRWxlbWVudCwgQ3VzdG9tRWxlbWVudERlZmluaXRpb24sIHVzZVNoYWRvd0RPTSwgcHJvY2Vzc0NvbnRlbnQsIH0gZnJvbSAnLi9yZXNvdXJjZXMvY3VzdG9tLWVsZW1lbnQuanMnO1xuZXhwb3J0IHsgQ29tcG9zZSwgfSBmcm9tICcuL3Jlc291cmNlcy9jdXN0b20tZWxlbWVudHMvY29tcG9zZS5qcyc7XG5leHBvcnQgeyBJU2FuaXRpemVyLCBTYW5pdGl6ZVZhbHVlQ29udmVydGVyLCB9IGZyb20gJy4vcmVzb3VyY2VzL3ZhbHVlLWNvbnZlcnRlcnMvc2FuaXRpemUuanMnO1xuZXhwb3J0IHsgVmlld1ZhbHVlQ29udmVydGVyLCB9IGZyb20gJy4vcmVzb3VyY2VzL3ZhbHVlLWNvbnZlcnRlcnMvdmlldy5qcyc7XG5leHBvcnQgeyBJVGVtcGxhdGVDb21waWxlclJlZ2lzdHJhdGlvbiwgSU5vZGVPYnNlcnZlckxvY2F0b3JSZWdpc3RyYXRpb24sIERlZmF1bHRDb21wb25lbnRzLCBSZWZBdHRyaWJ1dGVQYXR0ZXJuUmVnaXN0cmF0aW9uLCBEb3RTZXBhcmF0ZWRBdHRyaWJ1dGVQYXR0ZXJuUmVnaXN0cmF0aW9uLCBEZWZhdWx0QmluZGluZ1N5bnRheCwgQXRQcmVmaXhlZFRyaWdnZXJBdHRyaWJ1dGVQYXR0ZXJuUmVnaXN0cmF0aW9uLCBDb2xvblByZWZpeGVkQmluZEF0dHJpYnV0ZVBhdHRlcm5SZWdpc3RyYXRpb24sIFNob3J0SGFuZEJpbmRpbmdTeW50YXgsIFNWR0FuYWx5emVyUmVnaXN0cmF0aW9uLCBDYWxsQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sIERlZmF1bHRCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbiwgRm9yQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sIFJlZkJpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uLCBGcm9tVmlld0JpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uLCBPbmVUaW1lQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sIFRvVmlld0JpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uLCBUd29XYXlCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbiwgVHJpZ2dlckJpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uLCBEZWxlZ2F0ZUJpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uLCBDYXB0dXJlQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sIEF0dHJCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbiwgQ2xhc3NCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbiwgU3R5bGVCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbiwgRGVmYXVsdEJpbmRpbmdMYW5ndWFnZSwgVmlld1ZhbHVlQ29udmVydGVyUmVnaXN0cmF0aW9uLCBTYW5pdGl6ZVZhbHVlQ29udmVydGVyUmVnaXN0cmF0aW9uLCBJZlJlZ2lzdHJhdGlvbiwgRWxzZVJlZ2lzdHJhdGlvbiwgUmVwZWF0UmVnaXN0cmF0aW9uLCBXaXRoUmVnaXN0cmF0aW9uLCBBdHRyQmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLCBTZWxmQmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLCBVcGRhdGVUcmlnZ2VyQmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLCBDb21wb3NlUmVnaXN0cmF0aW9uLCBEZWZhdWx0UmVzb3VyY2VzLCBBdHRyaWJ1dGVCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24sIExpc3RlbmVyQmluZGluZ1JlbmRlcmVyUmVnaXN0cmF0aW9uLCBTZXRBdHRyaWJ1dGVSZW5kZXJlclJlZ2lzdHJhdGlvbiwgU2V0Q2xhc3NBdHRyaWJ1dGVSZW5kZXJlclJlZ2lzdHJhdGlvbiwgU2V0U3R5bGVBdHRyaWJ1dGVSZW5kZXJlclJlZ2lzdHJhdGlvbiwgU3R5bGVQcm9wZXJ0eUJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbiwgVGV4dEJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbiwgUmVmQmluZGluZ1JlbmRlcmVyUmVnaXN0cmF0aW9uLCBDYWxsQmluZGluZ1JlbmRlcmVyUmVnaXN0cmF0aW9uLCBDdXN0b21BdHRyaWJ1dGVSZW5kZXJlclJlZ2lzdHJhdGlvbiwgQ3VzdG9tRWxlbWVudFJlbmRlcmVyUmVnaXN0cmF0aW9uLCBJbnRlcnBvbGF0aW9uQmluZGluZ1JlbmRlcmVyUmVnaXN0cmF0aW9uLCBJdGVyYXRvckJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbiwgTGV0RWxlbWVudFJlbmRlcmVyUmVnaXN0cmF0aW9uLCBQcm9wZXJ0eUJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbiwgU2V0UHJvcGVydHlSZW5kZXJlclJlZ2lzdHJhdGlvbiwgVGVtcGxhdGVDb250cm9sbGVyUmVuZGVyZXJSZWdpc3RyYXRpb24sIERlZmF1bHRSZW5kZXJlcnMsIFN0YW5kYXJkQ29uZmlndXJhdGlvbiB9IGZyb20gJy4vY29uZmlndXJhdGlvbi5qcyc7XG5leHBvcnQgeyBUZW1wbGF0ZUJpbmRlciwgfSBmcm9tICcuL3RlbXBsYXRlLWJpbmRlci5qcyc7XG5leHBvcnQgeyBJVGVtcGxhdGVFbGVtZW50RmFjdG9yeSB9IGZyb20gJy4vdGVtcGxhdGUtZWxlbWVudC1mYWN0b3J5LmpzJztcbmV4cG9ydCB7IENoaWxkcmVuRGVmaW5pdGlvbiwgQ2hpbGRyZW4sIGNoaWxkcmVuLCBDaGlsZHJlbk9ic2VydmVyLCB9IGZyb20gJy4vdGVtcGxhdGluZy9jaGlsZHJlbi5qcyc7XG4vLyBUaGVzZSBleHBvcnRzIGFyZSB0ZW1wb3JhcnkgdW50aWwgd2UgaGF2ZSBhIHByb3BlciB3YXkgdG8gdW5pdCB0ZXN0IHRoZW1cbmV4cG9ydCB7IENvbnRyb2xsZXIsIGlzQ3VzdG9tRWxlbWVudENvbnRyb2xsZXIsIGlzQ3VzdG9tRWxlbWVudFZpZXdNb2RlbCwgVmlld01vZGVsS2luZCwgSUNvbnRyb2xsZXIsIH0gZnJvbSAnLi90ZW1wbGF0aW5nL2NvbnRyb2xsZXIuanMnO1xuZXhwb3J0IHsgSUxpZmVjeWNsZUhvb2tzLCBMaWZlY3ljbGVIb29rc0VudHJ5LCBMaWZlY3ljbGVIb29rc0RlZmluaXRpb24sIExpZmVjeWNsZUhvb2tzLCBsaWZlY3ljbGVIb29rcywgfSBmcm9tICcuL3RlbXBsYXRpbmcvbGlmZWN5Y2xlLWhvb2tzLmpzJztcbmV4cG9ydCB7IGdldFJlbmRlckNvbnRleHQsIGlzUmVuZGVyQ29udGV4dCwgfSBmcm9tICcuL3RlbXBsYXRpbmcvcmVuZGVyLWNvbnRleHQuanMnO1xuZXhwb3J0IHsgVmlld0ZhY3RvcnksIElWaWV3RmFjdG9yeSwgSVZpZXdMb2NhdG9yLCBWaWV3TG9jYXRvciwgdmlldywgVmlld3MsIH0gZnJvbSAnLi90ZW1wbGF0aW5nL3ZpZXcuanMnO1xuZXhwb3J0IHsgY3JlYXRlRWxlbWVudCwgUmVuZGVyUGxhbiB9IGZyb20gJy4vY3JlYXRlLWVsZW1lbnQuanMnO1xuZXhwb3J0IHsgSU5vZGUsIElFdmVudFRhcmdldCwgSVJlbmRlckxvY2F0aW9uLCBOb2RlVHlwZSwgRnJhZ21lbnROb2RlU2VxdWVuY2UsIElIaXN0b3J5LCBJV2luZG93LCBJTG9jYXRpb24sIGdldEVmZmVjdGl2ZVBhcmVudE5vZGUsIHNldEVmZmVjdGl2ZVBhcmVudE5vZGUsIGNvbnZlcnRUb1JlbmRlckxvY2F0aW9uLCBpc1JlbmRlckxvY2F0aW9uLCBnZXRSZWYsIHNldFJlZiwgfSBmcm9tICcuL2RvbS5qcyc7XG5leHBvcnQgeyBJUGxhdGZvcm0sIH0gZnJvbSAnLi9wbGF0Zm9ybS5qcyc7XG5leHBvcnQgeyBCaW5kYWJsZUluZm8sIEVsZW1lbnRJbmZvLCBBdHRySW5mbywgQmluZGluZ1N5bWJvbCwgQ3VzdG9tQXR0cmlidXRlU3ltYm9sLCBDdXN0b21FbGVtZW50U3ltYm9sLCBMZXRFbGVtZW50U3ltYm9sLCBQbGFpbkF0dHJpYnV0ZVN5bWJvbCwgUGxhaW5FbGVtZW50U3ltYm9sLCBTeW1ib2xGbGFncywgVGVtcGxhdGVDb250cm9sbGVyU3ltYm9sLCBUZXh0U3ltYm9sLCBQcm9qZWN0aW9uU3ltYm9sLCB9IGZyb20gJy4vc2VtYW50aWMtbW9kZWwuanMnO1xuZXhwb3J0IHsgQ1NTTW9kdWxlc1Byb2Nlc3NvclJlZ2lzdHJ5LCBjc3NNb2R1bGVzLCBTaGFkb3dET01SZWdpc3RyeSwgSVNoYWRvd0RPTVN0eWxlRmFjdG9yeSwgc2hhZG93Q1NTLCBTdHlsZUNvbmZpZ3VyYXRpb24sIEFkb3B0ZWRTdHlsZVNoZWV0c1N0eWxlcywgU3R5bGVFbGVtZW50U3R5bGVzLCBJU2hhZG93RE9NU3R5bGVzLCBJU2hhZG93RE9NR2xvYmFsU3R5bGVzLCB9IGZyb20gJy4vdGVtcGxhdGluZy9zdHlsZXMuanMnO1xuZXhwb3J0IHsgV2F0Y2gsIHdhdGNoLCB9IGZyb20gJy4vd2F0Y2guanMnO1xuZXhwb3J0IHsgQ29tcHV0ZWRXYXRjaGVyLCBFeHByZXNzaW9uV2F0Y2hlciwgfSBmcm9tICcuL3RlbXBsYXRpbmcvd2F0Y2hlcnMuanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/attribute-ns-accessor.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/attribute-ns-accessor.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AttributeNSAccessor\": () => (/* binding */ AttributeNSAccessor)\n/* harmony export */ });\nconst nsMap = Object.create(null);\n/**\n * Attribute accessor in a XML document/element that can be accessed via a namespace.\n * Wraps [`getAttributeNS`](https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttributeNS).\n */\nclass AttributeNSAccessor {\n    constructor(namespace) {\n        this.namespace = namespace;\n        this.currentValue = null;\n        // ObserverType.Layout is not always true, it depends on the property\n        // but for simplicity, always treat as such\n        this.type = 2 /* Node */ | 4 /* Layout */;\n    }\n    static forNs(ns) {\n        var _a;\n        return (_a = nsMap[ns]) !== null && _a !== void 0 ? _a : (nsMap[ns] = new AttributeNSAccessor(ns));\n    }\n    getValue(obj, propertyKey) {\n        return obj.getAttributeNS(this.namespace, propertyKey);\n    }\n    setValue(newValue, flags, obj, key) {\n        if (newValue == void 0) {\n            obj.removeAttributeNS(this.namespace, key);\n        }\n        else {\n            obj.setAttributeNS(this.namespace, key, newValue);\n        }\n    }\n}\n//# sourceMappingURL=attribute-ns-accessor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL2F0dHJpYnV0ZS1ucy1hY2Nlc3Nvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vb2JzZXJ2YXRpb24vYXR0cmlidXRlLW5zLWFjY2Vzc29yLmpzPzViMjciXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbnNNYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG4gKiBBdHRyaWJ1dGUgYWNjZXNzb3IgaW4gYSBYTUwgZG9jdW1lbnQvZWxlbWVudCB0aGF0IGNhbiBiZSBhY2Nlc3NlZCB2aWEgYSBuYW1lc3BhY2UuXG4gKiBXcmFwcyBbYGdldEF0dHJpYnV0ZU5TYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvZ2V0QXR0cmlidXRlTlMpLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlTlNBY2Nlc3NvciB7XG4gICAgY29uc3RydWN0b3IobmFtZXNwYWNlKSB7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG51bGw7XG4gICAgICAgIC8vIE9ic2VydmVyVHlwZS5MYXlvdXQgaXMgbm90IGFsd2F5cyB0cnVlLCBpdCBkZXBlbmRzIG9uIHRoZSBwcm9wZXJ0eVxuICAgICAgICAvLyBidXQgZm9yIHNpbXBsaWNpdHksIGFsd2F5cyB0cmVhdCBhcyBzdWNoXG4gICAgICAgIHRoaXMudHlwZSA9IDIgLyogTm9kZSAqLyB8IDQgLyogTGF5b3V0ICovO1xuICAgIH1cbiAgICBzdGF0aWMgZm9yTnMobnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gbnNNYXBbbnNdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAobnNNYXBbbnNdID0gbmV3IEF0dHJpYnV0ZU5TQWNjZXNzb3IobnMpKTtcbiAgICB9XG4gICAgZ2V0VmFsdWUob2JqLCBwcm9wZXJ0eUtleSkge1xuICAgICAgICByZXR1cm4gb2JqLmdldEF0dHJpYnV0ZU5TKHRoaXMubmFtZXNwYWNlLCBwcm9wZXJ0eUtleSk7XG4gICAgfVxuICAgIHNldFZhbHVlKG5ld1ZhbHVlLCBmbGFncywgb2JqLCBrZXkpIHtcbiAgICAgICAgaWYgKG5ld1ZhbHVlID09IHZvaWQgMCkge1xuICAgICAgICAgICAgb2JqLnJlbW92ZUF0dHJpYnV0ZU5TKHRoaXMubmFtZXNwYWNlLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLnNldEF0dHJpYnV0ZU5TKHRoaXMubmFtZXNwYWNlLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF0dHJpYnV0ZS1ucy1hY2Nlc3Nvci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/attribute-ns-accessor.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/bindable-observer.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/bindable-observer.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BindableObserver\": () => (/* binding */ BindableObserver)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n\n\nclass BindableObserver {\n    constructor(obj, propertyKey, cbName, set, \n    // todo: a future feature where the observer is not instantiated via a controller\n    // this observer can become more static, as in immediately available when used\n    // in the form of a decorator\n    $controller) {\n        this.obj = obj;\n        this.propertyKey = propertyKey;\n        this.set = set;\n        this.$controller = $controller;\n        this.currentValue = void 0;\n        this.oldValue = void 0;\n        const cb = obj[cbName];\n        const cbAll = obj.propertyChanged;\n        const hasCb = this.hasCb = typeof cb === 'function';\n        const hasCbAll = this.hasCbAll = typeof cbAll === 'function';\n        const hasSetter = this.hasSetter = set !== _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.noop;\n        this.cb = hasCb ? cb : _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.noop;\n        this.cbAll = hasCbAll ? cbAll : _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.noop;\n        // when user declare @bindable({ set })\n        // it's expected to work from the start,\n        // regardless where the assignment comes from: either direct view model assignment or from binding during render\n        // so if either getter/setter config is present, alter the accessor straight await\n        if (this.cb === void 0 && !hasCbAll && !hasSetter) {\n            this.observing = false;\n        }\n        else {\n            this.observing = true;\n            const val = obj[propertyKey];\n            this.currentValue = hasSetter && val !== void 0 ? set(val) : val;\n            this.createGetterSetter();\n        }\n    }\n    get type() { return 1 /* Observer */; }\n    getValue() {\n        return this.currentValue;\n    }\n    setValue(newValue, flags) {\n        if (this.hasSetter) {\n            newValue = this.set(newValue);\n        }\n        if (this.observing) {\n            const currentValue = this.currentValue;\n            if (Object.is(newValue, currentValue)) {\n                return;\n            }\n            this.currentValue = newValue;\n            // todo: controller (if any) state should determine the invocation instead\n            if ( /* either not instantiated via a controller */this.$controller == null\n                /* or the controller instantiating this is bound */ || this.$controller.isBound) {\n                if (this.hasCb) {\n                    this.cb.call(this.obj, newValue, currentValue, flags);\n                }\n                if (this.hasCbAll) {\n                    this.cbAll.call(this.obj, this.propertyKey, newValue, currentValue, flags);\n                }\n            }\n            this.subs.notify(newValue, currentValue, flags);\n        }\n        else {\n            // See SetterObserver.setValue for explanation\n            this.obj[this.propertyKey] = newValue;\n        }\n    }\n    subscribe(subscriber) {\n        if (!this.observing === false) {\n            this.observing = true;\n            const currentValue = this.obj[this.propertyKey];\n            this.currentValue = this.hasSetter\n                ? this.set(currentValue)\n                : currentValue;\n            this.createGetterSetter();\n        }\n        this.subs.add(subscriber);\n    }\n    createGetterSetter() {\n        Reflect.defineProperty(this.obj, this.propertyKey, {\n            enumerable: true,\n            configurable: true,\n            get: ( /* Bindable Observer */) => this.currentValue,\n            set: (/* Bindable Observer */ value) => {\n                this.setValue(value, 0 /* none */);\n            }\n        });\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.subscriberCollection)(BindableObserver);\n//# sourceMappingURL=bindable-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL2JpbmRhYmxlLW9ic2VydmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9vYnNlcnZhdGlvbi9iaW5kYWJsZS1vYnNlcnZlci5qcz9hMTU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG5vb3AgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgc3Vic2NyaWJlckNvbGxlY3Rpb24gfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lJztcbmV4cG9ydCBjbGFzcyBCaW5kYWJsZU9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihvYmosIHByb3BlcnR5S2V5LCBjYk5hbWUsIHNldCwgXG4gICAgLy8gdG9kbzogYSBmdXR1cmUgZmVhdHVyZSB3aGVyZSB0aGUgb2JzZXJ2ZXIgaXMgbm90IGluc3RhbnRpYXRlZCB2aWEgYSBjb250cm9sbGVyXG4gICAgLy8gdGhpcyBvYnNlcnZlciBjYW4gYmVjb21lIG1vcmUgc3RhdGljLCBhcyBpbiBpbW1lZGlhdGVseSBhdmFpbGFibGUgd2hlbiB1c2VkXG4gICAgLy8gaW4gdGhlIGZvcm0gb2YgYSBkZWNvcmF0b3JcbiAgICAkY29udHJvbGxlcikge1xuICAgICAgICB0aGlzLm9iaiA9IG9iajtcbiAgICAgICAgdGhpcy5wcm9wZXJ0eUtleSA9IHByb3BlcnR5S2V5O1xuICAgICAgICB0aGlzLnNldCA9IHNldDtcbiAgICAgICAgdGhpcy4kY29udHJvbGxlciA9ICRjb250cm9sbGVyO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5vbGRWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgY29uc3QgY2IgPSBvYmpbY2JOYW1lXTtcbiAgICAgICAgY29uc3QgY2JBbGwgPSBvYmoucHJvcGVydHlDaGFuZ2VkO1xuICAgICAgICBjb25zdCBoYXNDYiA9IHRoaXMuaGFzQ2IgPSB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbic7XG4gICAgICAgIGNvbnN0IGhhc0NiQWxsID0gdGhpcy5oYXNDYkFsbCA9IHR5cGVvZiBjYkFsbCA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgY29uc3QgaGFzU2V0dGVyID0gdGhpcy5oYXNTZXR0ZXIgPSBzZXQgIT09IG5vb3A7XG4gICAgICAgIHRoaXMuY2IgPSBoYXNDYiA/IGNiIDogbm9vcDtcbiAgICAgICAgdGhpcy5jYkFsbCA9IGhhc0NiQWxsID8gY2JBbGwgOiBub29wO1xuICAgICAgICAvLyB3aGVuIHVzZXIgZGVjbGFyZSBAYmluZGFibGUoeyBzZXQgfSlcbiAgICAgICAgLy8gaXQncyBleHBlY3RlZCB0byB3b3JrIGZyb20gdGhlIHN0YXJ0LFxuICAgICAgICAvLyByZWdhcmRsZXNzIHdoZXJlIHRoZSBhc3NpZ25tZW50IGNvbWVzIGZyb206IGVpdGhlciBkaXJlY3QgdmlldyBtb2RlbCBhc3NpZ25tZW50IG9yIGZyb20gYmluZGluZyBkdXJpbmcgcmVuZGVyXG4gICAgICAgIC8vIHNvIGlmIGVpdGhlciBnZXR0ZXIvc2V0dGVyIGNvbmZpZyBpcyBwcmVzZW50LCBhbHRlciB0aGUgYWNjZXNzb3Igc3RyYWlnaHQgYXdhaXRcbiAgICAgICAgaWYgKHRoaXMuY2IgPT09IHZvaWQgMCAmJiAhaGFzQ2JBbGwgJiYgIWhhc1NldHRlcikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IG9ialtwcm9wZXJ0eUtleV07XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGhhc1NldHRlciAmJiB2YWwgIT09IHZvaWQgMCA/IHNldCh2YWwpIDogdmFsO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVHZXR0ZXJTZXR0ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIDEgLyogT2JzZXJ2ZXIgKi87IH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlO1xuICAgIH1cbiAgICBzZXRWYWx1ZShuZXdWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzU2V0dGVyKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHRoaXMuc2V0KG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vYnNlcnZpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5pcyhuZXdWYWx1ZSwgY3VycmVudFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAvLyB0b2RvOiBjb250cm9sbGVyIChpZiBhbnkpIHN0YXRlIHNob3VsZCBkZXRlcm1pbmUgdGhlIGludm9jYXRpb24gaW5zdGVhZFxuICAgICAgICAgICAgaWYgKCAvKiBlaXRoZXIgbm90IGluc3RhbnRpYXRlZCB2aWEgYSBjb250cm9sbGVyICovdGhpcy4kY29udHJvbGxlciA9PSBudWxsXG4gICAgICAgICAgICAgICAgLyogb3IgdGhlIGNvbnRyb2xsZXIgaW5zdGFudGlhdGluZyB0aGlzIGlzIGJvdW5kICovIHx8IHRoaXMuJGNvbnRyb2xsZXIuaXNCb3VuZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0NiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLm9iaiwgbmV3VmFsdWUsIGN1cnJlbnRWYWx1ZSwgZmxhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNDYkFsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNiQWxsLmNhbGwodGhpcy5vYmosIHRoaXMucHJvcGVydHlLZXksIG5ld1ZhbHVlLCBjdXJyZW50VmFsdWUsIGZsYWdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN1YnMubm90aWZ5KG5ld1ZhbHVlLCBjdXJyZW50VmFsdWUsIGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNlZSBTZXR0ZXJPYnNlcnZlci5zZXRWYWx1ZSBmb3IgZXhwbGFuYXRpb25cbiAgICAgICAgICAgIHRoaXMub2JqW3RoaXMucHJvcGVydHlLZXldID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3Vic2NyaWJlKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9ic2VydmluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMub2JqW3RoaXMucHJvcGVydHlLZXldO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB0aGlzLmhhc1NldHRlclxuICAgICAgICAgICAgICAgID8gdGhpcy5zZXQoY3VycmVudFZhbHVlKVxuICAgICAgICAgICAgICAgIDogY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVHZXR0ZXJTZXR0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YnMuYWRkKHN1YnNjcmliZXIpO1xuICAgIH1cbiAgICBjcmVhdGVHZXR0ZXJTZXR0ZXIoKSB7XG4gICAgICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGhpcy5vYmosIHRoaXMucHJvcGVydHlLZXksIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQ6ICggLyogQmluZGFibGUgT2JzZXJ2ZXIgKi8pID0+IHRoaXMuY3VycmVudFZhbHVlLFxuICAgICAgICAgICAgc2V0OiAoLyogQmluZGFibGUgT2JzZXJ2ZXIgKi8gdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZhbHVlKHZhbHVlLCAwIC8qIG5vbmUgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5zdWJzY3JpYmVyQ29sbGVjdGlvbihCaW5kYWJsZU9ic2VydmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpbmRhYmxlLW9ic2VydmVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/bindable-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/checked-observer.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/checked-observer.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CheckedObserver\": () => (/* binding */ CheckedObserver)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _observer_locator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./observer-locator.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/observer-locator.js\");\n\n\nfunction defaultMatcher(a, b) {\n    return a === b;\n}\nclass CheckedObserver {\n    constructor(obj, \n    // deepscan-disable-next-line\n    _key, handler, observerLocator) {\n        this.handler = handler;\n        this.observerLocator = observerLocator;\n        this.value = void 0;\n        this.oldValue = void 0;\n        this.type = 2 /* Node */ | 1 /* Observer */ | 4 /* Layout */;\n        this.collectionObserver = void 0;\n        this.valueObserver = void 0;\n        this.obj = obj;\n    }\n    getValue() {\n        return this.value;\n    }\n    setValue(newValue, flags) {\n        const currentValue = this.value;\n        if (newValue === currentValue) {\n            return;\n        }\n        this.value = newValue;\n        this.oldValue = currentValue;\n        this.observe();\n        this.synchronizeElement();\n        this.subs.notify(newValue, currentValue, flags);\n    }\n    handleCollectionChange(indexMap, flags) {\n        this.synchronizeElement();\n    }\n    handleChange(newValue, previousValue, flags) {\n        this.synchronizeElement();\n    }\n    synchronizeElement() {\n        const currentValue = this.value;\n        const obj = this.obj;\n        const elementValue = Object.prototype.hasOwnProperty.call(obj, 'model') ? obj.model : obj.value;\n        const isRadio = obj.type === 'radio';\n        const matcher = obj.matcher !== void 0 ? obj.matcher : defaultMatcher;\n        if (isRadio) {\n            obj.checked = !!matcher(currentValue, elementValue);\n        }\n        else if (currentValue === true) {\n            obj.checked = true;\n        }\n        else {\n            let hasMatch = false;\n            if (currentValue instanceof Array) {\n                hasMatch = currentValue.findIndex(item => !!matcher(item, elementValue)) !== -1;\n            }\n            else if (currentValue instanceof Set) {\n                for (const v of currentValue) {\n                    if (matcher(v, elementValue)) {\n                        hasMatch = true;\n                        break;\n                    }\n                }\n            }\n            else if (currentValue instanceof Map) {\n                for (const pair of currentValue) {\n                    const existingItem = pair[0];\n                    const $isChecked = pair[1];\n                    // a potential complain, when only `true` is supported\n                    // but it's consistent with array\n                    if (matcher(existingItem, elementValue) && $isChecked === true) {\n                        hasMatch = true;\n                        break;\n                    }\n                }\n            }\n            obj.checked = hasMatch;\n        }\n    }\n    handleEvent() {\n        let currentValue = this.oldValue = this.value;\n        const obj = this.obj;\n        const elementValue = Object.prototype.hasOwnProperty.call(obj, 'model') ? obj.model : obj.value;\n        const isChecked = obj.checked;\n        const matcher = obj.matcher !== void 0 ? obj.matcher : defaultMatcher;\n        if (obj.type === 'checkbox') {\n            if (currentValue instanceof Array) {\n                // Array binding steps on a change event:\n                // 1. find corresponding item INDEX in the Set based on current model/value and matcher\n                // 2. is the checkbox checked?\n                //    2.1. Yes: is the corresponding item in the Array (index === -1)?\n                //        2.1.1 No: push the current model/value to the Array\n                //    2.2. No: is the corresponding item in the Array (index !== -1)?\n                //        2.2.1: Yes: remove the corresponding item\n                // =================================================\n                const index = currentValue.findIndex(item => !!matcher(item, elementValue));\n                // if the checkbox is checkde, and there's no matching value in the existing array\n                // add the checkbox model/value to the array\n                if (isChecked && index === -1) {\n                    currentValue.push(elementValue);\n                }\n                else if (!isChecked && index !== -1) {\n                    // if the checkbox is not checked, and found a matching item in the array\n                    // based on the checkbox model/value\n                    // remove the existing item\n                    currentValue.splice(index, 1);\n                }\n                // when existing currentValue is an array,\n                // do not invoke callback as only the array obj has changed\n                return;\n            }\n            else if (currentValue instanceof Set) {\n                // Set binding steps on a change event:\n                // 1. find corresponding item in the Set based on current model/value and matcher\n                // 2. is the checkbox checked?\n                //    2.1. Yes: is the corresponding item in the Set?\n                //        2.1.1 No: add the current model/value to the Set\n                //    2.2. No: is the corresponding item in the Set?\n                //        2.2.1: Yes: remove the corresponding item\n                // =================================================\n                // 1. find corresponding item\n                const unset = {};\n                let existingItem = unset;\n                for (const value of currentValue) {\n                    if (matcher(value, elementValue) === true) {\n                        existingItem = value;\n                        break;\n                    }\n                }\n                // 2.1. Checkbox is checked, is the corresponding item in the Set?\n                //\n                // if checkbox is checked and there's no value in the existing Set\n                // add the checkbox model/value to the Set\n                if (isChecked && existingItem === unset) {\n                    // 2.1.1. add the current model/value to the Set\n                    currentValue.add(elementValue);\n                }\n                else if (!isChecked && existingItem !== unset) {\n                    // 2.2.1 Checkbox is unchecked, corresponding is in the Set\n                    //\n                    // if checkbox is not checked, and found a matching item in the Set\n                    // based on the checkbox model/value\n                    // remove the existing item\n                    currentValue.delete(existingItem);\n                }\n                // when existing value is a Set,\n                // do not invoke callback as only the Set has been mutated\n                return;\n            }\n            else if (currentValue instanceof Map) {\n                // Map binding steps on a change event\n                // 1. find corresponding item in the Map based on current model/value and matcher\n                // 2. Set the value of the corresponding item in the Map based on checked state of the checkbox\n                // =================================================\n                // 1. find the corresponding item\n                let existingItem;\n                for (const pair of currentValue) {\n                    const currItem = pair[0];\n                    if (matcher(currItem, elementValue) === true) {\n                        existingItem = currItem;\n                        break;\n                    }\n                }\n                // 2. set the value of the corresponding item in the map\n                // if checkbox is checked and there's no value in the existing Map\n                // add the checkbox model/value to the Map as key,\n                // and value will be checked state of the checkbox\n                currentValue.set(existingItem, isChecked);\n                // when existing value is a Map,\n                // do not invoke callback as only the Map has been mutated\n                return;\n            }\n            currentValue = isChecked;\n        }\n        else if (isChecked) {\n            currentValue = elementValue;\n        }\n        else {\n            // if it's a radio and it has been unchecked\n            // do nothing, as the radio that was checked will fire change event and it will be handle there\n            // a radio cannot be unchecked by user\n            return;\n        }\n        this.value = currentValue;\n        this.subs.notify(this.value, this.oldValue, 0 /* none */);\n    }\n    start() {\n        this.handler.subscribe(this.obj, this);\n        this.observe();\n    }\n    stop() {\n        var _a, _b;\n        this.handler.dispose();\n        (_a = this.collectionObserver) === null || _a === void 0 ? void 0 : _a.unsubscribe(this);\n        this.collectionObserver = void 0;\n        (_b = this.valueObserver) === null || _b === void 0 ? void 0 : _b.unsubscribe(this);\n    }\n    subscribe(subscriber) {\n        if (this.subs.add(subscriber) && this.subs.count === 1) {\n            this.start();\n        }\n    }\n    unsubscribe(subscriber) {\n        if (this.subs.remove(subscriber) && this.subs.count === 0) {\n            this.stop();\n        }\n    }\n    observe() {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const obj = this.obj;\n        (_e = ((_a = this.valueObserver) !== null && _a !== void 0 ? _a : (this.valueObserver = (_c = (_b = obj.$observers) === null || _b === void 0 ? void 0 : _b.model) !== null && _c !== void 0 ? _c : (_d = obj.$observers) === null || _d === void 0 ? void 0 : _d.value))) === null || _e === void 0 ? void 0 : _e.subscribe(this);\n        (_f = this.collectionObserver) === null || _f === void 0 ? void 0 : _f.unsubscribe(this);\n        this.collectionObserver = void 0;\n        if (obj.type === 'checkbox') {\n            (_g = (this.collectionObserver = (0,_observer_locator_js__WEBPACK_IMPORTED_MODULE_1__.getCollectionObserver)(this.value, this.observerLocator))) === null || _g === void 0 ? void 0 : _g.subscribe(this);\n        }\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.subscriberCollection)(CheckedObserver);\n//# sourceMappingURL=checked-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL2NoZWNrZWQtb2JzZXJ2ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL2NoZWNrZWQtb2JzZXJ2ZXIuanM/MTcwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdWJzY3JpYmVyQ29sbGVjdGlvbiwgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lJztcbmltcG9ydCB7IGdldENvbGxlY3Rpb25PYnNlcnZlciB9IGZyb20gJy4vb2JzZXJ2ZXItbG9jYXRvci5qcyc7XG5mdW5jdGlvbiBkZWZhdWx0TWF0Y2hlcihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG59XG5leHBvcnQgY2xhc3MgQ2hlY2tlZE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihvYmosIFxuICAgIC8vIGRlZXBzY2FuLWRpc2FibGUtbmV4dC1saW5lXG4gICAgX2tleSwgaGFuZGxlciwgb2JzZXJ2ZXJMb2NhdG9yKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJMb2NhdG9yID0gb2JzZXJ2ZXJMb2NhdG9yO1xuICAgICAgICB0aGlzLnZhbHVlID0gdm9pZCAwO1xuICAgICAgICB0aGlzLm9sZFZhbHVlID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnR5cGUgPSAyIC8qIE5vZGUgKi8gfCAxIC8qIE9ic2VydmVyICovIHwgNCAvKiBMYXlvdXQgKi87XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbk9ic2VydmVyID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnZhbHVlT2JzZXJ2ZXIgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMub2JqID0gb2JqO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIHNldFZhbHVlKG5ld1ZhbHVlLCBmbGFncykge1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICBpZiAobmV3VmFsdWUgPT09IGN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgdGhpcy5vbGRWYWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgdGhpcy5vYnNlcnZlKCk7XG4gICAgICAgIHRoaXMuc3luY2hyb25pemVFbGVtZW50KCk7XG4gICAgICAgIHRoaXMuc3Vicy5ub3RpZnkobmV3VmFsdWUsIGN1cnJlbnRWYWx1ZSwgZmxhZ3MpO1xuICAgIH1cbiAgICBoYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKGluZGV4TWFwLCBmbGFncykge1xuICAgICAgICB0aGlzLnN5bmNocm9uaXplRWxlbWVudCgpO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UobmV3VmFsdWUsIHByZXZpb3VzVmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIHRoaXMuc3luY2hyb25pemVFbGVtZW50KCk7XG4gICAgfVxuICAgIHN5bmNocm9uaXplRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5vYmo7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosICdtb2RlbCcpID8gb2JqLm1vZGVsIDogb2JqLnZhbHVlO1xuICAgICAgICBjb25zdCBpc1JhZGlvID0gb2JqLnR5cGUgPT09ICdyYWRpbyc7XG4gICAgICAgIGNvbnN0IG1hdGNoZXIgPSBvYmoubWF0Y2hlciAhPT0gdm9pZCAwID8gb2JqLm1hdGNoZXIgOiBkZWZhdWx0TWF0Y2hlcjtcbiAgICAgICAgaWYgKGlzUmFkaW8pIHtcbiAgICAgICAgICAgIG9iai5jaGVja2VkID0gISFtYXRjaGVyKGN1cnJlbnRWYWx1ZSwgZWxlbWVudFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50VmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG9iai5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBoYXNNYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgaGFzTWF0Y2ggPSBjdXJyZW50VmFsdWUuZmluZEluZGV4KGl0ZW0gPT4gISFtYXRjaGVyKGl0ZW0sIGVsZW1lbnRWYWx1ZSkpICE9PSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRWYWx1ZSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXIodiwgZWxlbWVudFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50VmFsdWUgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbSA9IHBhaXJbMF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0ICRpc0NoZWNrZWQgPSBwYWlyWzFdO1xuICAgICAgICAgICAgICAgICAgICAvLyBhIHBvdGVudGlhbCBjb21wbGFpbiwgd2hlbiBvbmx5IGB0cnVlYCBpcyBzdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGl0J3MgY29uc2lzdGVudCB3aXRoIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVyKGV4aXN0aW5nSXRlbSwgZWxlbWVudFZhbHVlKSAmJiAkaXNDaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNNYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9iai5jaGVja2VkID0gaGFzTWF0Y2g7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlRXZlbnQoKSB7XG4gICAgICAgIGxldCBjdXJyZW50VmFsdWUgPSB0aGlzLm9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5vYmo7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosICdtb2RlbCcpID8gb2JqLm1vZGVsIDogb2JqLnZhbHVlO1xuICAgICAgICBjb25zdCBpc0NoZWNrZWQgPSBvYmouY2hlY2tlZDtcbiAgICAgICAgY29uc3QgbWF0Y2hlciA9IG9iai5tYXRjaGVyICE9PSB2b2lkIDAgPyBvYmoubWF0Y2hlciA6IGRlZmF1bHRNYXRjaGVyO1xuICAgICAgICBpZiAob2JqLnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIC8vIEFycmF5IGJpbmRpbmcgc3RlcHMgb24gYSBjaGFuZ2UgZXZlbnQ6XG4gICAgICAgICAgICAgICAgLy8gMS4gZmluZCBjb3JyZXNwb25kaW5nIGl0ZW0gSU5ERVggaW4gdGhlIFNldCBiYXNlZCBvbiBjdXJyZW50IG1vZGVsL3ZhbHVlIGFuZCBtYXRjaGVyXG4gICAgICAgICAgICAgICAgLy8gMi4gaXMgdGhlIGNoZWNrYm94IGNoZWNrZWQ/XG4gICAgICAgICAgICAgICAgLy8gICAgMi4xLiBZZXM6IGlzIHRoZSBjb3JyZXNwb25kaW5nIGl0ZW0gaW4gdGhlIEFycmF5IChpbmRleCA9PT0gLTEpP1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAyLjEuMSBObzogcHVzaCB0aGUgY3VycmVudCBtb2RlbC92YWx1ZSB0byB0aGUgQXJyYXlcbiAgICAgICAgICAgICAgICAvLyAgICAyLjIuIE5vOiBpcyB0aGUgY29ycmVzcG9uZGluZyBpdGVtIGluIHRoZSBBcnJheSAoaW5kZXggIT09IC0xKT9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgMi4yLjE6IFllczogcmVtb3ZlIHRoZSBjb3JyZXNwb25kaW5nIGl0ZW1cbiAgICAgICAgICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjdXJyZW50VmFsdWUuZmluZEluZGV4KGl0ZW0gPT4gISFtYXRjaGVyKGl0ZW0sIGVsZW1lbnRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBjaGVja2JveCBpcyBjaGVja2RlLCBhbmQgdGhlcmUncyBubyBtYXRjaGluZyB2YWx1ZSBpbiB0aGUgZXhpc3RpbmcgYXJyYXlcbiAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIGNoZWNrYm94IG1vZGVsL3ZhbHVlIHRvIHRoZSBhcnJheVxuICAgICAgICAgICAgICAgIGlmIChpc0NoZWNrZWQgJiYgaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZS5wdXNoKGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFpc0NoZWNrZWQgJiYgaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBjaGVja2JveCBpcyBub3QgY2hlY2tlZCwgYW5kIGZvdW5kIGEgbWF0Y2hpbmcgaXRlbSBpbiB0aGUgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgLy8gYmFzZWQgb24gdGhlIGNoZWNrYm94IG1vZGVsL3ZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgZXhpc3RpbmcgaXRlbVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gd2hlbiBleGlzdGluZyBjdXJyZW50VmFsdWUgaXMgYW4gYXJyYXksXG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IGludm9rZSBjYWxsYmFjayBhcyBvbmx5IHRoZSBhcnJheSBvYmogaGFzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50VmFsdWUgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgYmluZGluZyBzdGVwcyBvbiBhIGNoYW5nZSBldmVudDpcbiAgICAgICAgICAgICAgICAvLyAxLiBmaW5kIGNvcnJlc3BvbmRpbmcgaXRlbSBpbiB0aGUgU2V0IGJhc2VkIG9uIGN1cnJlbnQgbW9kZWwvdmFsdWUgYW5kIG1hdGNoZXJcbiAgICAgICAgICAgICAgICAvLyAyLiBpcyB0aGUgY2hlY2tib3ggY2hlY2tlZD9cbiAgICAgICAgICAgICAgICAvLyAgICAyLjEuIFllczogaXMgdGhlIGNvcnJlc3BvbmRpbmcgaXRlbSBpbiB0aGUgU2V0P1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAyLjEuMSBObzogYWRkIHRoZSBjdXJyZW50IG1vZGVsL3ZhbHVlIHRvIHRoZSBTZXRcbiAgICAgICAgICAgICAgICAvLyAgICAyLjIuIE5vOiBpcyB0aGUgY29ycmVzcG9uZGluZyBpdGVtIGluIHRoZSBTZXQ/XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIDIuMi4xOiBZZXM6IHJlbW92ZSB0aGUgY29ycmVzcG9uZGluZyBpdGVtXG4gICAgICAgICAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgICAgICAgIC8vIDEuIGZpbmQgY29ycmVzcG9uZGluZyBpdGVtXG4gICAgICAgICAgICAgICAgY29uc3QgdW5zZXQgPSB7fTtcbiAgICAgICAgICAgICAgICBsZXQgZXhpc3RpbmdJdGVtID0gdW5zZXQ7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXIodmFsdWUsIGVsZW1lbnRWYWx1ZSkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nSXRlbSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gMi4xLiBDaGVja2JveCBpcyBjaGVja2VkLCBpcyB0aGUgY29ycmVzcG9uZGluZyBpdGVtIGluIHRoZSBTZXQ/XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBpZiBjaGVja2JveCBpcyBjaGVja2VkIGFuZCB0aGVyZSdzIG5vIHZhbHVlIGluIHRoZSBleGlzdGluZyBTZXRcbiAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIGNoZWNrYm94IG1vZGVsL3ZhbHVlIHRvIHRoZSBTZXRcbiAgICAgICAgICAgICAgICBpZiAoaXNDaGVja2VkICYmIGV4aXN0aW5nSXRlbSA9PT0gdW5zZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMi4xLjEuIGFkZCB0aGUgY3VycmVudCBtb2RlbC92YWx1ZSB0byB0aGUgU2V0XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZS5hZGQoZWxlbWVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWlzQ2hlY2tlZCAmJiBleGlzdGluZ0l0ZW0gIT09IHVuc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDIuMi4xIENoZWNrYm94IGlzIHVuY2hlY2tlZCwgY29ycmVzcG9uZGluZyBpcyBpbiB0aGUgU2V0XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGNoZWNrYm94IGlzIG5vdCBjaGVja2VkLCBhbmQgZm91bmQgYSBtYXRjaGluZyBpdGVtIGluIHRoZSBTZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gYmFzZWQgb24gdGhlIGNoZWNrYm94IG1vZGVsL3ZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgZXhpc3RpbmcgaXRlbVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUuZGVsZXRlKGV4aXN0aW5nSXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHdoZW4gZXhpc3RpbmcgdmFsdWUgaXMgYSBTZXQsXG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IGludm9rZSBjYWxsYmFjayBhcyBvbmx5IHRoZSBTZXQgaGFzIGJlZW4gbXV0YXRlZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRWYWx1ZSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgICAgIC8vIE1hcCBiaW5kaW5nIHN0ZXBzIG9uIGEgY2hhbmdlIGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gMS4gZmluZCBjb3JyZXNwb25kaW5nIGl0ZW0gaW4gdGhlIE1hcCBiYXNlZCBvbiBjdXJyZW50IG1vZGVsL3ZhbHVlIGFuZCBtYXRjaGVyXG4gICAgICAgICAgICAgICAgLy8gMi4gU2V0IHRoZSB2YWx1ZSBvZiB0aGUgY29ycmVzcG9uZGluZyBpdGVtIGluIHRoZSBNYXAgYmFzZWQgb24gY2hlY2tlZCBzdGF0ZSBvZiB0aGUgY2hlY2tib3hcbiAgICAgICAgICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAgICAgICAgLy8gMS4gZmluZCB0aGUgY29ycmVzcG9uZGluZyBpdGVtXG4gICAgICAgICAgICAgICAgbGV0IGV4aXN0aW5nSXRlbTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJJdGVtID0gcGFpclswXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXIoY3Vyckl0ZW0sIGVsZW1lbnRWYWx1ZSkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nSXRlbSA9IGN1cnJJdGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gMi4gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgY29ycmVzcG9uZGluZyBpdGVtIGluIHRoZSBtYXBcbiAgICAgICAgICAgICAgICAvLyBpZiBjaGVja2JveCBpcyBjaGVja2VkIGFuZCB0aGVyZSdzIG5vIHZhbHVlIGluIHRoZSBleGlzdGluZyBNYXBcbiAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIGNoZWNrYm94IG1vZGVsL3ZhbHVlIHRvIHRoZSBNYXAgYXMga2V5LFxuICAgICAgICAgICAgICAgIC8vIGFuZCB2YWx1ZSB3aWxsIGJlIGNoZWNrZWQgc3RhdGUgb2YgdGhlIGNoZWNrYm94XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlLnNldChleGlzdGluZ0l0ZW0sIGlzQ2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgLy8gd2hlbiBleGlzdGluZyB2YWx1ZSBpcyBhIE1hcCxcbiAgICAgICAgICAgICAgICAvLyBkbyBub3QgaW52b2tlIGNhbGxiYWNrIGFzIG9ubHkgdGhlIE1hcCBoYXMgYmVlbiBtdXRhdGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gaXNDaGVja2VkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ2hlY2tlZCkge1xuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gZWxlbWVudFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgaXQncyBhIHJhZGlvIGFuZCBpdCBoYXMgYmVlbiB1bmNoZWNrZWRcbiAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcsIGFzIHRoZSByYWRpbyB0aGF0IHdhcyBjaGVja2VkIHdpbGwgZmlyZSBjaGFuZ2UgZXZlbnQgYW5kIGl0IHdpbGwgYmUgaGFuZGxlIHRoZXJlXG4gICAgICAgICAgICAvLyBhIHJhZGlvIGNhbm5vdCBiZSB1bmNoZWNrZWQgYnkgdXNlclxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgIHRoaXMuc3Vicy5ub3RpZnkodGhpcy52YWx1ZSwgdGhpcy5vbGRWYWx1ZSwgMCAvKiBub25lICovKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlci5zdWJzY3JpYmUodGhpcy5vYmosIHRoaXMpO1xuICAgICAgICB0aGlzLm9ic2VydmUoKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5oYW5kbGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgKF9hID0gdGhpcy5jb2xsZWN0aW9uT2JzZXJ2ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51bnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uT2JzZXJ2ZXIgPSB2b2lkIDA7XG4gICAgICAgIChfYiA9IHRoaXMudmFsdWVPYnNlcnZlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgIH1cbiAgICBzdWJzY3JpYmUoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5zdWJzLmFkZChzdWJzY3JpYmVyKSAmJiB0aGlzLnN1YnMuY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnN1YnNjcmliZShzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMucmVtb3ZlKHN1YnNjcmliZXIpICYmIHRoaXMuc3Vicy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb2JzZXJ2ZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm9iajtcbiAgICAgICAgKF9lID0gKChfYSA9IHRoaXMudmFsdWVPYnNlcnZlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKHRoaXMudmFsdWVPYnNlcnZlciA9IChfYyA9IChfYiA9IG9iai4kb2JzZXJ2ZXJzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubW9kZWwpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IChfZCA9IG9iai4kb2JzZXJ2ZXJzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudmFsdWUpKSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgKF9mID0gdGhpcy5jb2xsZWN0aW9uT2JzZXJ2ZXIpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi51bnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uT2JzZXJ2ZXIgPSB2b2lkIDA7XG4gICAgICAgIGlmIChvYmoudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgICAgKF9nID0gKHRoaXMuY29sbGVjdGlvbk9ic2VydmVyID0gZ2V0Q29sbGVjdGlvbk9ic2VydmVyKHRoaXMudmFsdWUsIHRoaXMub2JzZXJ2ZXJMb2NhdG9yKSkpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5zdWJzY3JpYmUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5zdWJzY3JpYmVyQ29sbGVjdGlvbihDaGVja2VkT2JzZXJ2ZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2tlZC1vYnNlcnZlci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/checked-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/class-attribute-accessor.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/class-attribute-accessor.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ClassAttributeAccessor\": () => (/* binding */ ClassAttributeAccessor),\n/* harmony export */   \"getClassesToAdd\": () => (/* binding */ getClassesToAdd)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n\nclass ClassAttributeAccessor {\n    constructor(obj) {\n        this.obj = obj;\n        this.currentValue = '';\n        this.oldValue = '';\n        this.doNotCache = true;\n        this.nameIndex = {};\n        this.version = 0;\n        this.hasChanges = false;\n        this.isActive = false;\n        this.type = 2 /* Node */ | 4 /* Layout */;\n    }\n    getValue() {\n        // is it safe to assume the observer has the latest value?\n        // todo: ability to turn on/off cache based on type\n        return this.currentValue;\n    }\n    setValue(newValue, flags) {\n        this.currentValue = newValue;\n        this.hasChanges = newValue !== this.oldValue;\n        if ((flags & 256 /* noFlush */) === 0) {\n            this.flushChanges(flags);\n        }\n    }\n    flushChanges(flags) {\n        if (this.hasChanges) {\n            this.hasChanges = false;\n            const currentValue = this.currentValue;\n            const nameIndex = this.nameIndex;\n            let version = this.version;\n            this.oldValue = currentValue;\n            const classesToAdd = getClassesToAdd(currentValue);\n            // Get strings split on a space not including empties\n            if (classesToAdd.length > 0) {\n                this.addClassesAndUpdateIndex(classesToAdd);\n            }\n            this.version += 1;\n            // First call to setValue?  We're done.\n            if (version === 0) {\n                return;\n            }\n            // Remove classes from previous version.\n            version -= 1;\n            for (const name in nameIndex) {\n                if (!Object.prototype.hasOwnProperty.call(nameIndex, name) || nameIndex[name] !== version) {\n                    continue;\n                }\n                // TODO: this has the side-effect that classes already present which are added again,\n                // will be removed if they're not present in the next update.\n                // Better would be do have some configurability for this behavior, allowing the user to\n                // decide whether initial classes always need to be kept, always removed, or something in between\n                this.obj.classList.remove(name);\n            }\n        }\n    }\n    addClassesAndUpdateIndex(classes) {\n        const node = this.obj;\n        for (let i = 0, ii = classes.length; i < ii; i++) {\n            const className = classes[i];\n            if (className.length === 0) {\n                continue;\n            }\n            this.nameIndex[className] = this.version;\n            node.classList.add(className);\n        }\n    }\n}\nfunction getClassesToAdd(object) {\n    if (typeof object === 'string') {\n        return splitClassString(object);\n    }\n    if (typeof object !== 'object') {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n    }\n    if (object instanceof Array) {\n        const len = object.length;\n        if (len > 0) {\n            const classes = [];\n            for (let i = 0; i < len; ++i) {\n                classes.push(...getClassesToAdd(object[i]));\n            }\n            return classes;\n        }\n        else {\n            return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n        }\n    }\n    const classes = [];\n    for (const property in object) {\n        // Let non typical values also evaluate true so disable bool check\n        if (Boolean(object[property])) {\n            // We must do this in case object property has a space in the name which results in two classes\n            if (property.includes(' ')) {\n                classes.push(...splitClassString(property));\n            }\n            else {\n                classes.push(property);\n            }\n        }\n    }\n    return classes;\n}\nfunction splitClassString(classString) {\n    const matches = classString.match(/\\S+/g);\n    if (matches === null) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n    }\n    return matches;\n}\n//# sourceMappingURL=class-attribute-accessor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL2NsYXNzLWF0dHJpYnV0ZS1hY2Nlc3Nvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vb2JzZXJ2YXRpb24vY2xhc3MtYXR0cmlidXRlLWFjY2Vzc29yLmpzP2M5MWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW1wdHlBcnJheSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5leHBvcnQgY2xhc3MgQ2xhc3NBdHRyaWJ1dGVBY2Nlc3NvciB7XG4gICAgY29uc3RydWN0b3Iob2JqKSB7XG4gICAgICAgIHRoaXMub2JqID0gb2JqO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9ICcnO1xuICAgICAgICB0aGlzLm9sZFZhbHVlID0gJyc7XG4gICAgICAgIHRoaXMuZG9Ob3RDYWNoZSA9IHRydWU7XG4gICAgICAgIHRoaXMubmFtZUluZGV4ID0ge307XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IDA7XG4gICAgICAgIHRoaXMuaGFzQ2hhbmdlcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHlwZSA9IDIgLyogTm9kZSAqLyB8IDQgLyogTGF5b3V0ICovO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgLy8gaXMgaXQgc2FmZSB0byBhc3N1bWUgdGhlIG9ic2VydmVyIGhhcyB0aGUgbGF0ZXN0IHZhbHVlP1xuICAgICAgICAvLyB0b2RvOiBhYmlsaXR5IHRvIHR1cm4gb24vb2ZmIGNhY2hlIGJhc2VkIG9uIHR5cGVcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlO1xuICAgIH1cbiAgICBzZXRWYWx1ZShuZXdWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gbmV3VmFsdWUgIT09IHRoaXMub2xkVmFsdWU7XG4gICAgICAgIGlmICgoZmxhZ3MgJiAyNTYgLyogbm9GbHVzaCAqLykgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hDaGFuZ2VzKGZsYWdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmbHVzaENoYW5nZXMoZmxhZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVJbmRleCA9IHRoaXMubmFtZUluZGV4O1xuICAgICAgICAgICAgbGV0IHZlcnNpb24gPSB0aGlzLnZlcnNpb247XG4gICAgICAgICAgICB0aGlzLm9sZFZhbHVlID0gY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgY29uc3QgY2xhc3Nlc1RvQWRkID0gZ2V0Q2xhc3Nlc1RvQWRkKGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICAvLyBHZXQgc3RyaW5ncyBzcGxpdCBvbiBhIHNwYWNlIG5vdCBpbmNsdWRpbmcgZW1wdGllc1xuICAgICAgICAgICAgaWYgKGNsYXNzZXNUb0FkZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDbGFzc2VzQW5kVXBkYXRlSW5kZXgoY2xhc3Nlc1RvQWRkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmVyc2lvbiArPSAxO1xuICAgICAgICAgICAgLy8gRmlyc3QgY2FsbCB0byBzZXRWYWx1ZT8gIFdlJ3JlIGRvbmUuXG4gICAgICAgICAgICBpZiAodmVyc2lvbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92ZSBjbGFzc2VzIGZyb20gcHJldmlvdXMgdmVyc2lvbi5cbiAgICAgICAgICAgIHZlcnNpb24gLT0gMTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBuYW1lSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuYW1lSW5kZXgsIG5hbWUpIHx8IG5hbWVJbmRleFtuYW1lXSAhPT0gdmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBoYXMgdGhlIHNpZGUtZWZmZWN0IHRoYXQgY2xhc3NlcyBhbHJlYWR5IHByZXNlbnQgd2hpY2ggYXJlIGFkZGVkIGFnYWluLFxuICAgICAgICAgICAgICAgIC8vIHdpbGwgYmUgcmVtb3ZlZCBpZiB0aGV5J3JlIG5vdCBwcmVzZW50IGluIHRoZSBuZXh0IHVwZGF0ZS5cbiAgICAgICAgICAgICAgICAvLyBCZXR0ZXIgd291bGQgYmUgZG8gaGF2ZSBzb21lIGNvbmZpZ3VyYWJpbGl0eSBmb3IgdGhpcyBiZWhhdmlvciwgYWxsb3dpbmcgdGhlIHVzZXIgdG9cbiAgICAgICAgICAgICAgICAvLyBkZWNpZGUgd2hldGhlciBpbml0aWFsIGNsYXNzZXMgYWx3YXlzIG5lZWQgdG8gYmUga2VwdCwgYWx3YXlzIHJlbW92ZWQsIG9yIHNvbWV0aGluZyBpbiBiZXR3ZWVuXG4gICAgICAgICAgICAgICAgdGhpcy5vYmouY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRDbGFzc2VzQW5kVXBkYXRlSW5kZXgoY2xhc3Nlcykge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5vYmo7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNsYXNzZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gY2xhc3Nlc1tpXTtcbiAgICAgICAgICAgIGlmIChjbGFzc05hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5hbWVJbmRleFtjbGFzc05hbWVdID0gdGhpcy52ZXJzaW9uO1xuICAgICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xhc3Nlc1RvQWRkKG9iamVjdCkge1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gc3BsaXRDbGFzc1N0cmluZyhvYmplY3QpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5QXJyYXk7XG4gICAgfVxuICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBjb25zdCBsZW4gPSBvYmplY3QubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID4gMCkge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaCguLi5nZXRDbGFzc2VzVG9BZGQob2JqZWN0W2ldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xhc3NlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbXB0eUFycmF5O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNsYXNzZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIG9iamVjdCkge1xuICAgICAgICAvLyBMZXQgbm9uIHR5cGljYWwgdmFsdWVzIGFsc28gZXZhbHVhdGUgdHJ1ZSBzbyBkaXNhYmxlIGJvb2wgY2hlY2tcbiAgICAgICAgaWYgKEJvb2xlYW4ob2JqZWN0W3Byb3BlcnR5XSkpIHtcbiAgICAgICAgICAgIC8vIFdlIG11c3QgZG8gdGhpcyBpbiBjYXNlIG9iamVjdCBwcm9wZXJ0eSBoYXMgYSBzcGFjZSBpbiB0aGUgbmFtZSB3aGljaCByZXN1bHRzIGluIHR3byBjbGFzc2VzXG4gICAgICAgICAgICBpZiAocHJvcGVydHkuaW5jbHVkZXMoJyAnKSkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaCguLi5zcGxpdENsYXNzU3RyaW5nKHByb3BlcnR5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbGFzc2VzO1xufVxuZnVuY3Rpb24gc3BsaXRDbGFzc1N0cmluZyhjbGFzc1N0cmluZykge1xuICAgIGNvbnN0IG1hdGNoZXMgPSBjbGFzc1N0cmluZy5tYXRjaCgvXFxTKy9nKTtcbiAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZW1wdHlBcnJheTtcbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoZXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGFzcy1hdHRyaWJ1dGUtYWNjZXNzb3IuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/class-attribute-accessor.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/data-attribute-accessor.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/data-attribute-accessor.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DataAttributeAccessor\": () => (/* binding */ DataAttributeAccessor),\n/* harmony export */   \"attrAccessor\": () => (/* binding */ attrAccessor)\n/* harmony export */ });\n/**\n * Attribute accessor for HTML elements.\n * Note that Aurelia works with properties, so in all case it will try to assign to property instead of attributes.\n * Unless the property falls into a special set, then it will use attribute for it.\n *\n * @see ElementPropertyAccessor\n */\nclass DataAttributeAccessor {\n    constructor() {\n        this.propertyKey = '';\n        this.currentValue = null;\n        // ObserverType.Layout is not always true, it depends on the property\n        // but for simplicity, always treat as such\n        this.type = 2 /* Node */ | 4 /* Layout */;\n    }\n    getValue(obj, key) {\n        return obj.getAttribute(key);\n    }\n    setValue(newValue, flags, obj, key) {\n        if (newValue == void 0) {\n            obj.removeAttribute(key);\n        }\n        else {\n            obj.setAttribute(key, newValue);\n        }\n    }\n}\nconst attrAccessor = new DataAttributeAccessor();\n//# sourceMappingURL=data-attribute-accessor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL2RhdGEtYXR0cmlidXRlLWFjY2Vzc29yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9vYnNlcnZhdGlvbi9kYXRhLWF0dHJpYnV0ZS1hY2Nlc3Nvci5qcz82YWVkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXR0cmlidXRlIGFjY2Vzc29yIGZvciBIVE1MIGVsZW1lbnRzLlxuICogTm90ZSB0aGF0IEF1cmVsaWEgd29ya3Mgd2l0aCBwcm9wZXJ0aWVzLCBzbyBpbiBhbGwgY2FzZSBpdCB3aWxsIHRyeSB0byBhc3NpZ24gdG8gcHJvcGVydHkgaW5zdGVhZCBvZiBhdHRyaWJ1dGVzLlxuICogVW5sZXNzIHRoZSBwcm9wZXJ0eSBmYWxscyBpbnRvIGEgc3BlY2lhbCBzZXQsIHRoZW4gaXQgd2lsbCB1c2UgYXR0cmlidXRlIGZvciBpdC5cbiAqXG4gKiBAc2VlIEVsZW1lbnRQcm9wZXJ0eUFjY2Vzc29yXG4gKi9cbmV4cG9ydCBjbGFzcyBEYXRhQXR0cmlidXRlQWNjZXNzb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnByb3BlcnR5S2V5ID0gJyc7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gbnVsbDtcbiAgICAgICAgLy8gT2JzZXJ2ZXJUeXBlLkxheW91dCBpcyBub3QgYWx3YXlzIHRydWUsIGl0IGRlcGVuZHMgb24gdGhlIHByb3BlcnR5XG4gICAgICAgIC8vIGJ1dCBmb3Igc2ltcGxpY2l0eSwgYWx3YXlzIHRyZWF0IGFzIHN1Y2hcbiAgICAgICAgdGhpcy50eXBlID0gMiAvKiBOb2RlICovIHwgNCAvKiBMYXlvdXQgKi87XG4gICAgfVxuICAgIGdldFZhbHVlKG9iaiwga2V5KSB7XG4gICAgICAgIHJldHVybiBvYmouZ2V0QXR0cmlidXRlKGtleSk7XG4gICAgfVxuICAgIHNldFZhbHVlKG5ld1ZhbHVlLCBmbGFncywgb2JqLCBrZXkpIHtcbiAgICAgICAgaWYgKG5ld1ZhbHVlID09IHZvaWQgMCkge1xuICAgICAgICAgICAgb2JqLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLnNldEF0dHJpYnV0ZShrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBhdHRyQWNjZXNzb3IgPSBuZXcgRGF0YUF0dHJpYnV0ZUFjY2Vzc29yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhLWF0dHJpYnV0ZS1hY2Nlc3Nvci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/data-attribute-accessor.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/element-attribute-observer.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/element-attribute-observer.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AttributeObserver\": () => (/* binding */ AttributeObserver)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n\n/**\n * Observer for handling two-way binding with attributes\n * Has different strategy for class/style and normal attributes\n * TODO: handle SVG/attributes with namespace\n */\nclass AttributeObserver {\n    constructor(platform, observerLocator, obj, propertyKey, targetAttribute) {\n        this.platform = platform;\n        this.observerLocator = observerLocator;\n        this.obj = obj;\n        this.propertyKey = propertyKey;\n        this.targetAttribute = targetAttribute;\n        this.currentValue = null;\n        this.oldValue = null;\n        this.hasChanges = false;\n        // layout is not certain, depends on the attribute being flushed to owner element\n        // but for simple start, always treat as such\n        this.type = 2 /* Node */ | 1 /* Observer */ | 4 /* Layout */;\n    }\n    getValue() {\n        // is it safe to assume the observer has the latest value?\n        // todo: ability to turn on/off cache based on type\n        return this.currentValue;\n    }\n    setValue(newValue, flags) {\n        this.currentValue = newValue;\n        this.hasChanges = newValue !== this.oldValue;\n        if ((flags & 256 /* noFlush */) === 0) {\n            this.flushChanges(flags);\n        }\n    }\n    flushChanges(flags) {\n        if (this.hasChanges) {\n            this.hasChanges = false;\n            const currentValue = this.currentValue;\n            this.oldValue = currentValue;\n            switch (this.targetAttribute) {\n                case 'class': {\n                    // Why does class attribute observer setValue look different with class attribute accessor?\n                    // ==============\n                    // For class list\n                    // newValue is simply checked if truthy or falsy\n                    // and toggle the class accordingly\n                    // -- the rule of this is quite different to normal attribute\n                    //\n                    // for class attribute, observer is different in a way that it only observes one class at a time\n                    // this also comes from syntax, where it would typically be my-class.class=\"someProperty\"\n                    //\n                    // so there is no need for separating class by space and add all of them like class accessor\n                    //\n                    // note: not using .toggle API so that environment with broken impl (IE11) won't need to polfyfill by default\n                    if (!!currentValue) {\n                        this.obj.classList.add(this.propertyKey);\n                    }\n                    else {\n                        this.obj.classList.remove(this.propertyKey);\n                    }\n                    break;\n                }\n                case 'style': {\n                    let priority = '';\n                    let newValue = currentValue;\n                    if (typeof newValue === 'string' && newValue.includes('!important')) {\n                        priority = 'important';\n                        newValue = newValue.replace('!important', '');\n                    }\n                    this.obj.style.setProperty(this.propertyKey, newValue, priority);\n                }\n            }\n        }\n    }\n    handleMutation(mutationRecords) {\n        let shouldProcess = false;\n        for (let i = 0, ii = mutationRecords.length; ii > i; ++i) {\n            const record = mutationRecords[i];\n            if (record.type === 'attributes' && record.attributeName === this.propertyKey) {\n                shouldProcess = true;\n                break;\n            }\n        }\n        if (shouldProcess) {\n            let newValue;\n            switch (this.targetAttribute) {\n                case 'class':\n                    newValue = this.obj.classList.contains(this.propertyKey);\n                    break;\n                case 'style':\n                    newValue = this.obj.style.getPropertyValue(this.propertyKey);\n                    break;\n                default:\n                    throw new Error(`Unsupported targetAttribute: ${this.targetAttribute}`);\n            }\n            if (newValue !== this.currentValue) {\n                const { currentValue } = this;\n                this.currentValue = this.oldValue = newValue;\n                this.hasChanges = false;\n                this.subs.notify(newValue, currentValue, 0 /* none */);\n            }\n        }\n    }\n    subscribe(subscriber) {\n        if (this.subs.add(subscriber) && this.subs.count === 1) {\n            this.currentValue = this.oldValue = this.obj.getAttribute(this.propertyKey);\n            startObservation(this.obj.ownerDocument.defaultView.MutationObserver, this.obj, this);\n        }\n    }\n    unsubscribe(subscriber) {\n        if (this.subs.remove(subscriber) && this.subs.count === 0) {\n            stopObservation(this.obj, this);\n        }\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.subscriberCollection)(AttributeObserver);\nconst startObservation = ($MutationObserver, element, subscription) => {\n    if (element.$eMObservers === undefined) {\n        element.$eMObservers = new Set();\n    }\n    if (element.$mObserver === undefined) {\n        (element.$mObserver = new $MutationObserver(handleMutation)).observe(element, { attributes: true });\n    }\n    element.$eMObservers.add(subscription);\n};\nconst stopObservation = (element, subscription) => {\n    const $eMObservers = element.$eMObservers;\n    if ($eMObservers && $eMObservers.delete(subscription)) {\n        if ($eMObservers.size === 0) {\n            element.$mObserver.disconnect();\n            element.$mObserver = undefined;\n        }\n        return true;\n    }\n    return false;\n};\nconst handleMutation = (mutationRecords) => {\n    mutationRecords[0].target.$eMObservers.forEach(invokeHandleMutation, mutationRecords);\n};\nfunction invokeHandleMutation(s) {\n    s.handleMutation(this);\n}\n//# sourceMappingURL=element-attribute-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL2VsZW1lbnQtYXR0cmlidXRlLW9ic2VydmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9vYnNlcnZhdGlvbi9lbGVtZW50LWF0dHJpYnV0ZS1vYnNlcnZlci5qcz8zZDIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1YnNjcmliZXJDb2xsZWN0aW9uIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZSc7XG4vKipcbiAqIE9ic2VydmVyIGZvciBoYW5kbGluZyB0d28td2F5IGJpbmRpbmcgd2l0aCBhdHRyaWJ1dGVzXG4gKiBIYXMgZGlmZmVyZW50IHN0cmF0ZWd5IGZvciBjbGFzcy9zdHlsZSBhbmQgbm9ybWFsIGF0dHJpYnV0ZXNcbiAqIFRPRE86IGhhbmRsZSBTVkcvYXR0cmlidXRlcyB3aXRoIG5hbWVzcGFjZVxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKHBsYXRmb3JtLCBvYnNlcnZlckxvY2F0b3IsIG9iaiwgcHJvcGVydHlLZXksIHRhcmdldEF0dHJpYnV0ZSkge1xuICAgICAgICB0aGlzLnBsYXRmb3JtID0gcGxhdGZvcm07XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJMb2NhdG9yID0gb2JzZXJ2ZXJMb2NhdG9yO1xuICAgICAgICB0aGlzLm9iaiA9IG9iajtcbiAgICAgICAgdGhpcy5wcm9wZXJ0eUtleSA9IHByb3BlcnR5S2V5O1xuICAgICAgICB0aGlzLnRhcmdldEF0dHJpYnV0ZSA9IHRhcmdldEF0dHJpYnV0ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBudWxsO1xuICAgICAgICB0aGlzLm9sZFZhbHVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgIC8vIGxheW91dCBpcyBub3QgY2VydGFpbiwgZGVwZW5kcyBvbiB0aGUgYXR0cmlidXRlIGJlaW5nIGZsdXNoZWQgdG8gb3duZXIgZWxlbWVudFxuICAgICAgICAvLyBidXQgZm9yIHNpbXBsZSBzdGFydCwgYWx3YXlzIHRyZWF0IGFzIHN1Y2hcbiAgICAgICAgdGhpcy50eXBlID0gMiAvKiBOb2RlICovIHwgMSAvKiBPYnNlcnZlciAqLyB8IDQgLyogTGF5b3V0ICovO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgLy8gaXMgaXQgc2FmZSB0byBhc3N1bWUgdGhlIG9ic2VydmVyIGhhcyB0aGUgbGF0ZXN0IHZhbHVlP1xuICAgICAgICAvLyB0b2RvOiBhYmlsaXR5IHRvIHR1cm4gb24vb2ZmIGNhY2hlIGJhc2VkIG9uIHR5cGVcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlO1xuICAgIH1cbiAgICBzZXRWYWx1ZShuZXdWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gbmV3VmFsdWUgIT09IHRoaXMub2xkVmFsdWU7XG4gICAgICAgIGlmICgoZmxhZ3MgJiAyNTYgLyogbm9GbHVzaCAqLykgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hDaGFuZ2VzKGZsYWdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmbHVzaENoYW5nZXMoZmxhZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMub2xkVmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMudGFyZ2V0QXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnY2xhc3MnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdoeSBkb2VzIGNsYXNzIGF0dHJpYnV0ZSBvYnNlcnZlciBzZXRWYWx1ZSBsb29rIGRpZmZlcmVudCB3aXRoIGNsYXNzIGF0dHJpYnV0ZSBhY2Nlc3Nvcj9cbiAgICAgICAgICAgICAgICAgICAgLy8gPT09PT09PT09PT09PT1cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGNsYXNzIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3VmFsdWUgaXMgc2ltcGx5IGNoZWNrZWQgaWYgdHJ1dGh5IG9yIGZhbHN5XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0b2dnbGUgdGhlIGNsYXNzIGFjY29yZGluZ2x5XG4gICAgICAgICAgICAgICAgICAgIC8vIC0tIHRoZSBydWxlIG9mIHRoaXMgaXMgcXVpdGUgZGlmZmVyZW50IHRvIG5vcm1hbCBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGNsYXNzIGF0dHJpYnV0ZSwgb2JzZXJ2ZXIgaXMgZGlmZmVyZW50IGluIGEgd2F5IHRoYXQgaXQgb25seSBvYnNlcnZlcyBvbmUgY2xhc3MgYXQgYSB0aW1lXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgYWxzbyBjb21lcyBmcm9tIHN5bnRheCwgd2hlcmUgaXQgd291bGQgdHlwaWNhbGx5IGJlIG15LWNsYXNzLmNsYXNzPVwic29tZVByb3BlcnR5XCJcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gc28gdGhlcmUgaXMgbm8gbmVlZCBmb3Igc2VwYXJhdGluZyBjbGFzcyBieSBzcGFjZSBhbmQgYWRkIGFsbCBvZiB0aGVtIGxpa2UgY2xhc3MgYWNjZXNzb3JcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gbm90ZTogbm90IHVzaW5nIC50b2dnbGUgQVBJIHNvIHRoYXQgZW52aXJvbm1lbnQgd2l0aCBicm9rZW4gaW1wbCAoSUUxMSkgd29uJ3QgbmVlZCB0byBwb2xmeWZpbGwgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICBpZiAoISFjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqLmNsYXNzTGlzdC5hZGQodGhpcy5wcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iai5jbGFzc0xpc3QucmVtb3ZlKHRoaXMucHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdzdHlsZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdWYWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ3N0cmluZycgJiYgbmV3VmFsdWUuaW5jbHVkZXMoJyFpbXBvcnRhbnQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSAnaW1wb3J0YW50JztcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gbmV3VmFsdWUucmVwbGFjZSgnIWltcG9ydGFudCcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9iai5zdHlsZS5zZXRQcm9wZXJ0eSh0aGlzLnByb3BlcnR5S2V5LCBuZXdWYWx1ZSwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVNdXRhdGlvbihtdXRhdGlvblJlY29yZHMpIHtcbiAgICAgICAgbGV0IHNob3VsZFByb2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gbXV0YXRpb25SZWNvcmRzLmxlbmd0aDsgaWkgPiBpOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZCA9IG11dGF0aW9uUmVjb3Jkc1tpXTtcbiAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gJ2F0dHJpYnV0ZXMnICYmIHJlY29yZC5hdHRyaWJ1dGVOYW1lID09PSB0aGlzLnByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkUHJvY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZFByb2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCBuZXdWYWx1ZTtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy50YXJnZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdjbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gdGhpcy5vYmouY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMucHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdHlsZSc6XG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gdGhpcy5vYmouc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh0aGlzLnByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0YXJnZXRBdHRyaWJ1dGU6ICR7dGhpcy50YXJnZXRBdHRyaWJ1dGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHRoaXMuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjdXJyZW50VmFsdWUgfSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB0aGlzLm9sZFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzLm5vdGlmeShuZXdWYWx1ZSwgY3VycmVudFZhbHVlLCAwIC8qIG5vbmUgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN1YnNjcmliZShzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMuYWRkKHN1YnNjcmliZXIpICYmIHRoaXMuc3Vicy5jb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB0aGlzLm9sZFZhbHVlID0gdGhpcy5vYmouZ2V0QXR0cmlidXRlKHRoaXMucHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgc3RhcnRPYnNlcnZhdGlvbih0aGlzLm9iai5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Lk11dGF0aW9uT2JzZXJ2ZXIsIHRoaXMub2JqLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnN1YnNjcmliZShzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMucmVtb3ZlKHN1YnNjcmliZXIpICYmIHRoaXMuc3Vicy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgc3RvcE9ic2VydmF0aW9uKHRoaXMub2JqLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbnN1YnNjcmliZXJDb2xsZWN0aW9uKEF0dHJpYnV0ZU9ic2VydmVyKTtcbmNvbnN0IHN0YXJ0T2JzZXJ2YXRpb24gPSAoJE11dGF0aW9uT2JzZXJ2ZXIsIGVsZW1lbnQsIHN1YnNjcmlwdGlvbikgPT4ge1xuICAgIGlmIChlbGVtZW50LiRlTU9ic2VydmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVsZW1lbnQuJGVNT2JzZXJ2ZXJzID0gbmV3IFNldCgpO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC4kbU9ic2VydmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgKGVsZW1lbnQuJG1PYnNlcnZlciA9IG5ldyAkTXV0YXRpb25PYnNlcnZlcihoYW5kbGVNdXRhdGlvbikpLm9ic2VydmUoZWxlbWVudCwgeyBhdHRyaWJ1dGVzOiB0cnVlIH0pO1xuICAgIH1cbiAgICBlbGVtZW50LiRlTU9ic2VydmVycy5hZGQoc3Vic2NyaXB0aW9uKTtcbn07XG5jb25zdCBzdG9wT2JzZXJ2YXRpb24gPSAoZWxlbWVudCwgc3Vic2NyaXB0aW9uKSA9PiB7XG4gICAgY29uc3QgJGVNT2JzZXJ2ZXJzID0gZWxlbWVudC4kZU1PYnNlcnZlcnM7XG4gICAgaWYgKCRlTU9ic2VydmVycyAmJiAkZU1PYnNlcnZlcnMuZGVsZXRlKHN1YnNjcmlwdGlvbikpIHtcbiAgICAgICAgaWYgKCRlTU9ic2VydmVycy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICBlbGVtZW50LiRtT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgZWxlbWVudC4kbU9ic2VydmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuY29uc3QgaGFuZGxlTXV0YXRpb24gPSAobXV0YXRpb25SZWNvcmRzKSA9PiB7XG4gICAgbXV0YXRpb25SZWNvcmRzWzBdLnRhcmdldC4kZU1PYnNlcnZlcnMuZm9yRWFjaChpbnZva2VIYW5kbGVNdXRhdGlvbiwgbXV0YXRpb25SZWNvcmRzKTtcbn07XG5mdW5jdGlvbiBpbnZva2VIYW5kbGVNdXRhdGlvbihzKSB7XG4gICAgcy5oYW5kbGVNdXRhdGlvbih0aGlzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZW1lbnQtYXR0cmlidXRlLW9ic2VydmVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/element-attribute-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/event-delegator.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/event-delegator.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DelegateSubscription\": () => (/* binding */ DelegateSubscription),\n/* harmony export */   \"EventSubscriber\": () => (/* binding */ EventSubscriber),\n/* harmony export */   \"IEventDelegator\": () => (/* binding */ IEventDelegator),\n/* harmony export */   \"EventDelegator\": () => (/* binding */ EventDelegator)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n\nconst defaultOptions = {\n    capture: false,\n};\nclass ListenerTracker {\n    constructor(publisher, eventName, options = defaultOptions) {\n        this.publisher = publisher;\n        this.eventName = eventName;\n        this.options = options;\n        this.count = 0;\n        this.captureLookups = new Map();\n        this.bubbleLookups = new Map();\n    }\n    increment() {\n        if (++this.count === 1) {\n            this.publisher.addEventListener(this.eventName, this, this.options);\n        }\n    }\n    decrement() {\n        if (--this.count === 0) {\n            this.publisher.removeEventListener(this.eventName, this, this.options);\n        }\n    }\n    dispose() {\n        if (this.count > 0) {\n            this.count = 0;\n            this.publisher.removeEventListener(this.eventName, this, this.options);\n        }\n        this.captureLookups.clear();\n        this.bubbleLookups.clear();\n    }\n    /** @internal */\n    getLookup(target) {\n        const lookups = this.options.capture === true ? this.captureLookups : this.bubbleLookups;\n        let lookup = lookups.get(target);\n        if (lookup === void 0) {\n            lookups.set(target, lookup = Object.create(null));\n        }\n        return lookup;\n    }\n    /** @internal */\n    handleEvent(event) {\n        const lookups = this.options.capture === true ? this.captureLookups : this.bubbleLookups;\n        const path = event.composedPath();\n        if (this.options.capture === true) {\n            path.reverse();\n        }\n        for (const target of path) {\n            const lookup = lookups.get(target);\n            if (lookup === void 0) {\n                continue;\n            }\n            const listener = lookup[this.eventName];\n            if (listener === void 0) {\n                continue;\n            }\n            if (typeof listener === 'function') {\n                listener(event);\n            }\n            else {\n                listener.handleEvent(event);\n            }\n            if (event.cancelBubble === true) {\n                return;\n            }\n        }\n    }\n}\n/**\n * Enable dispose() pattern for `delegate` & `capture` commands\n */\nclass DelegateSubscription {\n    constructor(tracker, lookup, eventName, callback) {\n        this.tracker = tracker;\n        this.lookup = lookup;\n        this.eventName = eventName;\n        tracker.increment();\n        lookup[eventName] = callback;\n    }\n    dispose() {\n        this.tracker.decrement();\n        this.lookup[this.eventName] = void 0;\n    }\n}\nclass EventSubscriber {\n    constructor(config) {\n        this.config = config;\n        this.target = null;\n        this.handler = null;\n    }\n    subscribe(node, callbackOrListener) {\n        this.target = node;\n        this.handler = callbackOrListener;\n        for (const event of this.config.events) {\n            node.addEventListener(event, callbackOrListener);\n        }\n    }\n    dispose() {\n        const { target, handler } = this;\n        if (target !== null && handler !== null) {\n            for (const event of this.config.events) {\n                target.removeEventListener(event, handler);\n            }\n        }\n        this.target = this.handler = null;\n    }\n}\nconst IEventDelegator = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IEventDelegator', x => x.singleton(EventDelegator));\nclass EventDelegator {\n    // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n    constructor() {\n        this.trackerMaps = Object.create(null);\n    }\n    addEventListener(publisher, target, eventName, listener, options) {\n        var _a;\n        var _b;\n        const trackerMap = (_a = (_b = this.trackerMaps)[eventName]) !== null && _a !== void 0 ? _a : (_b[eventName] = new Map());\n        let tracker = trackerMap.get(publisher);\n        if (tracker === void 0) {\n            trackerMap.set(publisher, tracker = new ListenerTracker(publisher, eventName, options));\n        }\n        return new DelegateSubscription(tracker, tracker.getLookup(target), eventName, listener);\n    }\n    dispose() {\n        for (const eventName in this.trackerMaps) {\n            const trackerMap = this.trackerMaps[eventName];\n            for (const tracker of trackerMap.values()) {\n                tracker.dispose();\n            }\n            trackerMap.clear();\n        }\n    }\n}\n//# sourceMappingURL=event-delegator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL2V2ZW50LWRlbGVnYXRvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vb2JzZXJ2YXRpb24vZXZlbnQtZGVsZWdhdG9yLmpzPzE3N2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREkgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgY2FwdHVyZTogZmFsc2UsXG59O1xuY2xhc3MgTGlzdGVuZXJUcmFja2VyIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaXNoZXIsIGV2ZW50TmFtZSwgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zKSB7XG4gICAgICAgIHRoaXMucHVibGlzaGVyID0gcHVibGlzaGVyO1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHRoaXMuY2FwdHVyZUxvb2t1cHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuYnViYmxlTG9va3VwcyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgaW5jcmVtZW50KCkge1xuICAgICAgICBpZiAoKyt0aGlzLmNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlY3JlbWVudCgpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50TmFtZSwgdGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5jb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50TmFtZSwgdGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhcHR1cmVMb29rdXBzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuYnViYmxlTG9va3Vwcy5jbGVhcigpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgZ2V0TG9va3VwKHRhcmdldCkge1xuICAgICAgICBjb25zdCBsb29rdXBzID0gdGhpcy5vcHRpb25zLmNhcHR1cmUgPT09IHRydWUgPyB0aGlzLmNhcHR1cmVMb29rdXBzIDogdGhpcy5idWJibGVMb29rdXBzO1xuICAgICAgICBsZXQgbG9va3VwID0gbG9va3Vwcy5nZXQodGFyZ2V0KTtcbiAgICAgICAgaWYgKGxvb2t1cCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBsb29rdXBzLnNldCh0YXJnZXQsIGxvb2t1cCA9IE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb29rdXA7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBjb25zdCBsb29rdXBzID0gdGhpcy5vcHRpb25zLmNhcHR1cmUgPT09IHRydWUgPyB0aGlzLmNhcHR1cmVMb29rdXBzIDogdGhpcy5idWJibGVMb29rdXBzO1xuICAgICAgICBjb25zdCBwYXRoID0gZXZlbnQuY29tcG9zZWRQYXRoKCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2FwdHVyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgcGF0aCkge1xuICAgICAgICAgICAgY29uc3QgbG9va3VwID0gbG9va3Vwcy5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChsb29rdXAgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBsb29rdXBbdGhpcy5ldmVudE5hbWVdO1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlbnQuY2FuY2VsQnViYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBFbmFibGUgZGlzcG9zZSgpIHBhdHRlcm4gZm9yIGBkZWxlZ2F0ZWAgJiBgY2FwdHVyZWAgY29tbWFuZHNcbiAqL1xuZXhwb3J0IGNsYXNzIERlbGVnYXRlU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0cmFja2VyLCBsb29rdXAsIGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy50cmFja2VyID0gdHJhY2tlcjtcbiAgICAgICAgdGhpcy5sb29rdXAgPSBsb29rdXA7XG4gICAgICAgIHRoaXMuZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICB0cmFja2VyLmluY3JlbWVudCgpO1xuICAgICAgICBsb29rdXBbZXZlbnROYW1lXSA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnRyYWNrZXIuZGVjcmVtZW50KCk7XG4gICAgICAgIHRoaXMubG9va3VwW3RoaXMuZXZlbnROYW1lXSA9IHZvaWQgMDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXZlbnRTdWJzY3JpYmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gbnVsbDtcbiAgICB9XG4gICAgc3Vic2NyaWJlKG5vZGUsIGNhbGxiYWNrT3JMaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnRhcmdldCA9IG5vZGU7XG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGNhbGxiYWNrT3JMaXN0ZW5lcjtcbiAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiB0aGlzLmNvbmZpZy5ldmVudHMpIHtcbiAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2tPckxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBjb25zdCB7IHRhcmdldCwgaGFuZGxlciB9ID0gdGhpcztcbiAgICAgICAgaWYgKHRhcmdldCAhPT0gbnVsbCAmJiBoYW5kbGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIHRoaXMuY29uZmlnLmV2ZW50cykge1xuICAgICAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuaGFuZGxlciA9IG51bGw7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IElFdmVudERlbGVnYXRvciA9IERJLmNyZWF0ZUludGVyZmFjZSgnSUV2ZW50RGVsZWdhdG9yJywgeCA9PiB4LnNpbmdsZXRvbihFdmVudERlbGVnYXRvcikpO1xuZXhwb3J0IGNsYXNzIEV2ZW50RGVsZWdhdG9yIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZWxlc3MtY29uc3RydWN0b3JcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50cmFja2VyTWFwcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIGFkZEV2ZW50TGlzdGVuZXIocHVibGlzaGVyLCB0YXJnZXQsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgX2I7XG4gICAgICAgIGNvbnN0IHRyYWNrZXJNYXAgPSAoX2EgPSAoX2IgPSB0aGlzLnRyYWNrZXJNYXBzKVtldmVudE5hbWVdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoX2JbZXZlbnROYW1lXSA9IG5ldyBNYXAoKSk7XG4gICAgICAgIGxldCB0cmFja2VyID0gdHJhY2tlck1hcC5nZXQocHVibGlzaGVyKTtcbiAgICAgICAgaWYgKHRyYWNrZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdHJhY2tlck1hcC5zZXQocHVibGlzaGVyLCB0cmFja2VyID0gbmV3IExpc3RlbmVyVHJhY2tlcihwdWJsaXNoZXIsIGV2ZW50TmFtZSwgb3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGVsZWdhdGVTdWJzY3JpcHRpb24odHJhY2tlciwgdHJhY2tlci5nZXRMb29rdXAodGFyZ2V0KSwgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZXZlbnROYW1lIGluIHRoaXMudHJhY2tlck1hcHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrZXJNYXAgPSB0aGlzLnRyYWNrZXJNYXBzW2V2ZW50TmFtZV07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWNrZXIgb2YgdHJhY2tlck1hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIHRyYWNrZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2tlck1hcC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnQtZGVsZWdhdG9yLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/event-delegator.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/observer-locator.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/observer-locator.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NodeObserverConfig\": () => (/* binding */ NodeObserverConfig),\n/* harmony export */   \"NodeObserverLocator\": () => (/* binding */ NodeObserverLocator),\n/* harmony export */   \"getCollectionObserver\": () => (/* binding */ getCollectionObserver)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _attribute_ns_accessor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./attribute-ns-accessor.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/attribute-ns-accessor.js\");\n/* harmony import */ var _checked_observer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./checked-observer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/checked-observer.js\");\n/* harmony import */ var _class_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./class-attribute-accessor.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/class-attribute-accessor.js\");\n/* harmony import */ var _data_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./data-attribute-accessor.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/data-attribute-accessor.js\");\n/* harmony import */ var _event_delegator_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./event-delegator.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/event-delegator.js\");\n/* harmony import */ var _select_value_observer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./select-value-observer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/select-value-observer.js\");\n/* harmony import */ var _style_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./style-attribute-accessor.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/style-attribute-accessor.js\");\n/* harmony import */ var _svg_analyzer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./svg-analyzer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/svg-analyzer.js\");\n/* harmony import */ var _value_attribute_observer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./value-attribute-observer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/value-attribute-observer.js\");\n/* harmony import */ var _utilities_html_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utilities-html.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/utilities-html.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n// https://infra.spec.whatwg.org/#namespaces\nconst htmlNS = 'http://www.w3.org/1999/xhtml';\nconst mathmlNS = 'http://www.w3.org/1998/Math/MathML';\nconst svgNS = 'http://www.w3.org/2000/svg';\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\nconst xmlNS = 'http://www.w3.org/XML/1998/namespace';\nconst xmlnsNS = 'http://www.w3.org/2000/xmlns/';\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\nconst nsAttributes = Object.assign((0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_12__.createLookup)(), {\n    'xlink:actuate': ['actuate', xlinkNS],\n    'xlink:arcrole': ['arcrole', xlinkNS],\n    'xlink:href': ['href', xlinkNS],\n    'xlink:role': ['role', xlinkNS],\n    'xlink:show': ['show', xlinkNS],\n    'xlink:title': ['title', xlinkNS],\n    'xlink:type': ['type', xlinkNS],\n    'xml:lang': ['lang', xmlNS],\n    'xml:space': ['space', xmlNS],\n    'xmlns': ['xmlns', xmlnsNS],\n    'xmlns:xlink': ['xlink', xmlnsNS],\n});\nconst elementPropertyAccessor = new _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.PropertyAccessor();\nelementPropertyAccessor.type = 2 /* Node */ | 4 /* Layout */;\nclass NodeObserverConfig {\n    constructor(config) {\n        var _a;\n        this.type = (_a = config.type) !== null && _a !== void 0 ? _a : _value_attribute_observer_js__WEBPACK_IMPORTED_MODULE_11__.ValueAttributeObserver;\n        this.events = config.events;\n        this.readonly = config.readonly;\n        this.default = config.default;\n    }\n}\nclass NodeObserverLocator {\n    constructor(locator, platform, dirtyChecker, svgAnalyzer) {\n        this.locator = locator;\n        this.platform = platform;\n        this.dirtyChecker = dirtyChecker;\n        this.svgAnalyzer = svgAnalyzer;\n        this.allowDirtyCheck = true;\n        this.events = (0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_12__.createLookup)();\n        this.globalEvents = (0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_12__.createLookup)();\n        this.overrides = (0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_12__.createLookup)();\n        this.globalOverrides = (0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_12__.createLookup)();\n        // todo: atm, platform is required to be resolved too eagerly for the `.handles()` check\n        // also a lot of tests assume default availability of observation\n        // those 2 assumptions make it not the right time to extract the following line into a\n        // default configuration for NodeObserverLocator yet\n        // but in the future, they should be, so apps that don't use check box/select, or implement a different\n        // observer don't have to pay the of the default implementation\n        const inputEvents = ['change', 'input'];\n        const inputEventsConfig = { events: inputEvents, default: '' };\n        this.useConfig({\n            INPUT: {\n                value: inputEventsConfig,\n                valueAsNumber: { events: inputEvents, default: 0 },\n                checked: { type: _checked_observer_js__WEBPACK_IMPORTED_MODULE_4__.CheckedObserver, events: inputEvents },\n                files: { events: inputEvents, readonly: true },\n            },\n            SELECT: {\n                value: { type: _select_value_observer_js__WEBPACK_IMPORTED_MODULE_8__.SelectValueObserver, events: ['change'], default: '' },\n            },\n            TEXTAREA: {\n                value: inputEventsConfig,\n            },\n        });\n        const contentEventsConfig = { events: ['change', 'input', 'blur', 'keyup', 'paste'], default: '' };\n        const scrollEventsConfig = { events: ['scroll'], default: 0 };\n        this.useConfigGlobal({\n            scrollTop: scrollEventsConfig,\n            scrollLeft: scrollEventsConfig,\n            textContent: contentEventsConfig,\n            innerHTML: contentEventsConfig,\n        });\n        this.overrideAccessorGlobal('css', 'style', 'class');\n        this.overrideAccessor({\n            INPUT: ['value', 'checked', 'model'],\n            SELECT: ['value'],\n            TEXTAREA: ['value'],\n        });\n    }\n    static register(container) {\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.aliasTo(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.INodeObserverLocator, NodeObserverLocator).register(container);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.INodeObserverLocator, NodeObserverLocator).register(container);\n    }\n    // deepscan-disable-next-line\n    handles(obj, _key) {\n        return obj instanceof this.platform.Node;\n    }\n    useConfig(nodeNameOrConfig, key, eventsConfig) {\n        var _a, _b;\n        const lookup = this.events;\n        let existingMapping;\n        if (typeof nodeNameOrConfig === 'string') {\n            existingMapping = (_a = lookup[nodeNameOrConfig]) !== null && _a !== void 0 ? _a : (lookup[nodeNameOrConfig] = (0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_12__.createLookup)());\n            if (existingMapping[key] == null) {\n                existingMapping[key] = new NodeObserverConfig(eventsConfig);\n            }\n            else {\n                throwMappingExisted(nodeNameOrConfig, key);\n            }\n        }\n        else {\n            for (const nodeName in nodeNameOrConfig) {\n                existingMapping = (_b = lookup[nodeName]) !== null && _b !== void 0 ? _b : (lookup[nodeName] = (0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_12__.createLookup)());\n                const newMapping = nodeNameOrConfig[nodeName];\n                for (key in newMapping) {\n                    if (existingMapping[key] == null) {\n                        existingMapping[key] = new NodeObserverConfig(newMapping[key]);\n                    }\n                    else {\n                        throwMappingExisted(nodeName, key);\n                    }\n                }\n            }\n        }\n    }\n    useConfigGlobal(configOrKey, eventsConfig) {\n        const lookup = this.globalEvents;\n        if (typeof configOrKey === 'object') {\n            for (const key in configOrKey) {\n                if (lookup[key] == null) {\n                    lookup[key] = new NodeObserverConfig(configOrKey[key]);\n                }\n                else {\n                    throwMappingExisted('*', key);\n                }\n            }\n        }\n        else {\n            if (lookup[configOrKey] == null) {\n                lookup[configOrKey] = new NodeObserverConfig(eventsConfig);\n            }\n            else {\n                throwMappingExisted('*', configOrKey);\n            }\n        }\n    }\n    // deepscan-disable-nextline\n    getAccessor(obj, key, requestor) {\n        var _a;\n        if (key in this.globalOverrides || (key in ((_a = this.overrides[obj.tagName]) !== null && _a !== void 0 ? _a : _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyObject))) {\n            return this.getObserver(obj, key, requestor);\n        }\n        switch (key) {\n            // class / style / css attribute will be observed using .getObserver() per overrides\n            //\n            // TODO: there are (many) more situation where we want to default to DataAttributeAccessor,\n            // but for now stick to what vCurrent does\n            case 'src':\n            case 'href':\n            // https://html.spec.whatwg.org/multipage/dom.html#wai-aria\n            case 'role':\n                return _data_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_6__.attrAccessor;\n            default: {\n                const nsProps = nsAttributes[key];\n                if (nsProps !== undefined) {\n                    return _attribute_ns_accessor_js__WEBPACK_IMPORTED_MODULE_3__.AttributeNSAccessor.forNs(nsProps[1]);\n                }\n                if ((0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_12__.isDataAttribute)(obj, key, this.svgAnalyzer)) {\n                    return _data_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_6__.attrAccessor;\n                }\n                return elementPropertyAccessor;\n            }\n        }\n    }\n    overrideAccessor(tagNameOrOverrides, key) {\n        var _a, _b;\n        var _c, _d;\n        let existingTagOverride;\n        if (typeof tagNameOrOverrides === 'string') {\n            existingTagOverride = (_a = (_c = this.overrides)[tagNameOrOverrides]) !== null && _a !== void 0 ? _a : (_c[tagNameOrOverrides] = (0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_12__.createLookup)());\n            existingTagOverride[key] = true;\n        }\n        else {\n            for (const tagName in tagNameOrOverrides) {\n                for (const key of tagNameOrOverrides[tagName]) {\n                    existingTagOverride = (_b = (_d = this.overrides)[tagName]) !== null && _b !== void 0 ? _b : (_d[tagName] = (0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_12__.createLookup)());\n                    existingTagOverride[key] = true;\n                }\n            }\n        }\n    }\n    /**\n     * For all elements:\n     * compose a list of properties,\n     * to indicate that an overser should be returned instead of an accessor in `.getAccessor()`\n     */\n    overrideAccessorGlobal(...keys) {\n        for (const key of keys) {\n            this.globalOverrides[key] = true;\n        }\n    }\n    getObserver(el, key, requestor) {\n        var _a, _b;\n        switch (key) {\n            case 'role':\n                return _data_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_6__.attrAccessor;\n            case 'class':\n                return new _class_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_5__.ClassAttributeAccessor(el);\n            case 'css':\n            case 'style':\n                return new _style_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_9__.StyleAttributeAccessor(el);\n        }\n        const eventsConfig = (_b = (_a = this.events[el.tagName]) === null || _a === void 0 ? void 0 : _a[key]) !== null && _b !== void 0 ? _b : this.globalEvents[key];\n        if (eventsConfig != null) {\n            return new eventsConfig.type(el, key, new _event_delegator_js__WEBPACK_IMPORTED_MODULE_7__.EventSubscriber(eventsConfig), requestor, this.locator);\n        }\n        const nsProps = nsAttributes[key];\n        if (nsProps !== undefined) {\n            return _attribute_ns_accessor_js__WEBPACK_IMPORTED_MODULE_3__.AttributeNSAccessor.forNs(nsProps[1]);\n        }\n        if ((0,_utilities_html_js__WEBPACK_IMPORTED_MODULE_12__.isDataAttribute)(el, key, this.svgAnalyzer)) {\n            // todo: should observe\n            return _data_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_6__.attrAccessor;\n        }\n        if (key in el.constructor.prototype) {\n            if (this.allowDirtyCheck) {\n                return this.dirtyChecker.createProperty(el, key);\n            }\n            // consider:\n            // - maybe add a adapter API to handle unknown obj/key combo\n            throw new Error(`Unable to observe property ${String(key)}. Register observation mapping with .useConfig().`);\n        }\n        else {\n            // todo: probably still needs to get the property descriptor via getOwnPropertyDescriptor\n            // but let's start with simplest scenario\n            return new _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.SetterObserver(el, key);\n        }\n    }\n}\nNodeObserverLocator.inject = [_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IServiceLocator, _platform_js__WEBPACK_IMPORTED_MODULE_2__.IPlatform, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IDirtyChecker, _svg_analyzer_js__WEBPACK_IMPORTED_MODULE_10__.ISVGAnalyzer];\nfunction getCollectionObserver(collection, observerLocator) {\n    if (collection instanceof Array) {\n        return observerLocator.getArrayObserver(collection);\n    }\n    if (collection instanceof Map) {\n        return observerLocator.getMapObserver(collection);\n    }\n    if (collection instanceof Set) {\n        return observerLocator.getSetObserver(collection);\n    }\n}\nfunction throwMappingExisted(nodeName, key) {\n    throw new Error(`Mapping for property ${String(key)} of <${nodeName} /> already exists`);\n}\n//# sourceMappingURL=observer-locator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL29ic2VydmVyLWxvY2F0b3IuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL29ic2VydmVyLWxvY2F0b3IuanM/M2RhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbXB0eU9iamVjdCwgSVNlcnZpY2VMb2NhdG9yLCBSZWdpc3RyYXRpb24gfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgSURpcnR5Q2hlY2tlciwgSU5vZGVPYnNlcnZlckxvY2F0b3IsIFByb3BlcnR5QWNjZXNzb3IsIFNldHRlck9ic2VydmVyLCB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuaW1wb3J0IHsgSVBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0uanMnO1xuaW1wb3J0IHsgQXR0cmlidXRlTlNBY2Nlc3NvciB9IGZyb20gJy4vYXR0cmlidXRlLW5zLWFjY2Vzc29yLmpzJztcbmltcG9ydCB7IENoZWNrZWRPYnNlcnZlciB9IGZyb20gJy4vY2hlY2tlZC1vYnNlcnZlci5qcyc7XG5pbXBvcnQgeyBDbGFzc0F0dHJpYnV0ZUFjY2Vzc29yIH0gZnJvbSAnLi9jbGFzcy1hdHRyaWJ1dGUtYWNjZXNzb3IuanMnO1xuaW1wb3J0IHsgYXR0ckFjY2Vzc29yIH0gZnJvbSAnLi9kYXRhLWF0dHJpYnV0ZS1hY2Nlc3Nvci5qcyc7XG5pbXBvcnQgeyBFdmVudFN1YnNjcmliZXIgfSBmcm9tICcuL2V2ZW50LWRlbGVnYXRvci5qcyc7XG5pbXBvcnQgeyBTZWxlY3RWYWx1ZU9ic2VydmVyIH0gZnJvbSAnLi9zZWxlY3QtdmFsdWUtb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgU3R5bGVBdHRyaWJ1dGVBY2Nlc3NvciB9IGZyb20gJy4vc3R5bGUtYXR0cmlidXRlLWFjY2Vzc29yLmpzJztcbmltcG9ydCB7IElTVkdBbmFseXplciB9IGZyb20gJy4vc3ZnLWFuYWx5emVyLmpzJztcbmltcG9ydCB7IFZhbHVlQXR0cmlidXRlT2JzZXJ2ZXIgfSBmcm9tICcuL3ZhbHVlLWF0dHJpYnV0ZS1vYnNlcnZlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVMb29rdXAsIGlzRGF0YUF0dHJpYnV0ZSB9IGZyb20gJy4uL3V0aWxpdGllcy1odG1sLmpzJztcbi8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNuYW1lc3BhY2VzXG5jb25zdCBodG1sTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG5jb25zdCBtYXRobWxOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MJztcbmNvbnN0IHN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbmNvbnN0IHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XG5jb25zdCB4bWxOUyA9ICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnO1xuY29uc3QgeG1sbnNOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLyc7XG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTJcbmNvbnN0IG5zQXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oY3JlYXRlTG9va3VwKCksIHtcbiAgICAneGxpbms6YWN0dWF0ZSc6IFsnYWN0dWF0ZScsIHhsaW5rTlNdLFxuICAgICd4bGluazphcmNyb2xlJzogWydhcmNyb2xlJywgeGxpbmtOU10sXG4gICAgJ3hsaW5rOmhyZWYnOiBbJ2hyZWYnLCB4bGlua05TXSxcbiAgICAneGxpbms6cm9sZSc6IFsncm9sZScsIHhsaW5rTlNdLFxuICAgICd4bGluazpzaG93JzogWydzaG93JywgeGxpbmtOU10sXG4gICAgJ3hsaW5rOnRpdGxlJzogWyd0aXRsZScsIHhsaW5rTlNdLFxuICAgICd4bGluazp0eXBlJzogWyd0eXBlJywgeGxpbmtOU10sXG4gICAgJ3htbDpsYW5nJzogWydsYW5nJywgeG1sTlNdLFxuICAgICd4bWw6c3BhY2UnOiBbJ3NwYWNlJywgeG1sTlNdLFxuICAgICd4bWxucyc6IFsneG1sbnMnLCB4bWxuc05TXSxcbiAgICAneG1sbnM6eGxpbmsnOiBbJ3hsaW5rJywgeG1sbnNOU10sXG59KTtcbmNvbnN0IGVsZW1lbnRQcm9wZXJ0eUFjY2Vzc29yID0gbmV3IFByb3BlcnR5QWNjZXNzb3IoKTtcbmVsZW1lbnRQcm9wZXJ0eUFjY2Vzc29yLnR5cGUgPSAyIC8qIE5vZGUgKi8gfCA0IC8qIExheW91dCAqLztcbmV4cG9ydCBjbGFzcyBOb2RlT2JzZXJ2ZXJDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudHlwZSA9IChfYSA9IGNvbmZpZy50eXBlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBWYWx1ZUF0dHJpYnV0ZU9ic2VydmVyO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IGNvbmZpZy5ldmVudHM7XG4gICAgICAgIHRoaXMucmVhZG9ubHkgPSBjb25maWcucmVhZG9ubHk7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IGNvbmZpZy5kZWZhdWx0O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb2RlT2JzZXJ2ZXJMb2NhdG9yIHtcbiAgICBjb25zdHJ1Y3Rvcihsb2NhdG9yLCBwbGF0Zm9ybSwgZGlydHlDaGVja2VyLCBzdmdBbmFseXplcikge1xuICAgICAgICB0aGlzLmxvY2F0b3IgPSBsb2NhdG9yO1xuICAgICAgICB0aGlzLnBsYXRmb3JtID0gcGxhdGZvcm07XG4gICAgICAgIHRoaXMuZGlydHlDaGVja2VyID0gZGlydHlDaGVja2VyO1xuICAgICAgICB0aGlzLnN2Z0FuYWx5emVyID0gc3ZnQW5hbHl6ZXI7XG4gICAgICAgIHRoaXMuYWxsb3dEaXJ0eUNoZWNrID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBjcmVhdGVMb29rdXAoKTtcbiAgICAgICAgdGhpcy5nbG9iYWxFdmVudHMgPSBjcmVhdGVMb29rdXAoKTtcbiAgICAgICAgdGhpcy5vdmVycmlkZXMgPSBjcmVhdGVMb29rdXAoKTtcbiAgICAgICAgdGhpcy5nbG9iYWxPdmVycmlkZXMgPSBjcmVhdGVMb29rdXAoKTtcbiAgICAgICAgLy8gdG9kbzogYXRtLCBwbGF0Zm9ybSBpcyByZXF1aXJlZCB0byBiZSByZXNvbHZlZCB0b28gZWFnZXJseSBmb3IgdGhlIGAuaGFuZGxlcygpYCBjaGVja1xuICAgICAgICAvLyBhbHNvIGEgbG90IG9mIHRlc3RzIGFzc3VtZSBkZWZhdWx0IGF2YWlsYWJpbGl0eSBvZiBvYnNlcnZhdGlvblxuICAgICAgICAvLyB0aG9zZSAyIGFzc3VtcHRpb25zIG1ha2UgaXQgbm90IHRoZSByaWdodCB0aW1lIHRvIGV4dHJhY3QgdGhlIGZvbGxvd2luZyBsaW5lIGludG8gYVxuICAgICAgICAvLyBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gZm9yIE5vZGVPYnNlcnZlckxvY2F0b3IgeWV0XG4gICAgICAgIC8vIGJ1dCBpbiB0aGUgZnV0dXJlLCB0aGV5IHNob3VsZCBiZSwgc28gYXBwcyB0aGF0IGRvbid0IHVzZSBjaGVjayBib3gvc2VsZWN0LCBvciBpbXBsZW1lbnQgYSBkaWZmZXJlbnRcbiAgICAgICAgLy8gb2JzZXJ2ZXIgZG9uJ3QgaGF2ZSB0byBwYXkgdGhlIG9mIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uXG4gICAgICAgIGNvbnN0IGlucHV0RXZlbnRzID0gWydjaGFuZ2UnLCAnaW5wdXQnXTtcbiAgICAgICAgY29uc3QgaW5wdXRFdmVudHNDb25maWcgPSB7IGV2ZW50czogaW5wdXRFdmVudHMsIGRlZmF1bHQ6ICcnIH07XG4gICAgICAgIHRoaXMudXNlQ29uZmlnKHtcbiAgICAgICAgICAgIElOUFVUOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGlucHV0RXZlbnRzQ29uZmlnLFxuICAgICAgICAgICAgICAgIHZhbHVlQXNOdW1iZXI6IHsgZXZlbnRzOiBpbnB1dEV2ZW50cywgZGVmYXVsdDogMCB9LFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHsgdHlwZTogQ2hlY2tlZE9ic2VydmVyLCBldmVudHM6IGlucHV0RXZlbnRzIH0sXG4gICAgICAgICAgICAgICAgZmlsZXM6IHsgZXZlbnRzOiBpbnB1dEV2ZW50cywgcmVhZG9ubHk6IHRydWUgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBTRUxFQ1Q6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogeyB0eXBlOiBTZWxlY3RWYWx1ZU9ic2VydmVyLCBldmVudHM6IFsnY2hhbmdlJ10sIGRlZmF1bHQ6ICcnIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVEVYVEFSRUE6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogaW5wdXRFdmVudHNDb25maWcsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY29udGVudEV2ZW50c0NvbmZpZyA9IHsgZXZlbnRzOiBbJ2NoYW5nZScsICdpbnB1dCcsICdibHVyJywgJ2tleXVwJywgJ3Bhc3RlJ10sIGRlZmF1bHQ6ICcnIH07XG4gICAgICAgIGNvbnN0IHNjcm9sbEV2ZW50c0NvbmZpZyA9IHsgZXZlbnRzOiBbJ3Njcm9sbCddLCBkZWZhdWx0OiAwIH07XG4gICAgICAgIHRoaXMudXNlQ29uZmlnR2xvYmFsKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsRXZlbnRzQ29uZmlnLFxuICAgICAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsRXZlbnRzQ29uZmlnLFxuICAgICAgICAgICAgdGV4dENvbnRlbnQ6IGNvbnRlbnRFdmVudHNDb25maWcsXG4gICAgICAgICAgICBpbm5lckhUTUw6IGNvbnRlbnRFdmVudHNDb25maWcsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm92ZXJyaWRlQWNjZXNzb3JHbG9iYWwoJ2NzcycsICdzdHlsZScsICdjbGFzcycpO1xuICAgICAgICB0aGlzLm92ZXJyaWRlQWNjZXNzb3Ioe1xuICAgICAgICAgICAgSU5QVVQ6IFsndmFsdWUnLCAnY2hlY2tlZCcsICdtb2RlbCddLFxuICAgICAgICAgICAgU0VMRUNUOiBbJ3ZhbHVlJ10sXG4gICAgICAgICAgICBURVhUQVJFQTogWyd2YWx1ZSddLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIHJlZ2lzdGVyKGNvbnRhaW5lcikge1xuICAgICAgICBSZWdpc3RyYXRpb24uYWxpYXNUbyhJTm9kZU9ic2VydmVyTG9jYXRvciwgTm9kZU9ic2VydmVyTG9jYXRvcikucmVnaXN0ZXIoY29udGFpbmVyKTtcbiAgICAgICAgUmVnaXN0cmF0aW9uLnNpbmdsZXRvbihJTm9kZU9ic2VydmVyTG9jYXRvciwgTm9kZU9ic2VydmVyTG9jYXRvcikucmVnaXN0ZXIoY29udGFpbmVyKTtcbiAgICB9XG4gICAgLy8gZGVlcHNjYW4tZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBoYW5kbGVzKG9iaiwgX2tleSkge1xuICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgdGhpcy5wbGF0Zm9ybS5Ob2RlO1xuICAgIH1cbiAgICB1c2VDb25maWcobm9kZU5hbWVPckNvbmZpZywga2V5LCBldmVudHNDb25maWcpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgbG9va3VwID0gdGhpcy5ldmVudHM7XG4gICAgICAgIGxldCBleGlzdGluZ01hcHBpbmc7XG4gICAgICAgIGlmICh0eXBlb2Ygbm9kZU5hbWVPckNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGV4aXN0aW5nTWFwcGluZyA9IChfYSA9IGxvb2t1cFtub2RlTmFtZU9yQ29uZmlnXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGxvb2t1cFtub2RlTmFtZU9yQ29uZmlnXSA9IGNyZWF0ZUxvb2t1cCgpKTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ01hcHBpbmdba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdNYXBwaW5nW2tleV0gPSBuZXcgTm9kZU9ic2VydmVyQ29uZmlnKGV2ZW50c0NvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvd01hcHBpbmdFeGlzdGVkKG5vZGVOYW1lT3JDb25maWcsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGVOYW1lIGluIG5vZGVOYW1lT3JDb25maWcpIHtcbiAgICAgICAgICAgICAgICBleGlzdGluZ01hcHBpbmcgPSAoX2IgPSBsb29rdXBbbm9kZU5hbWVdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAobG9va3VwW25vZGVOYW1lXSA9IGNyZWF0ZUxvb2t1cCgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNYXBwaW5nID0gbm9kZU5hbWVPckNvbmZpZ1tub2RlTmFtZV07XG4gICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gbmV3TWFwcGluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdNYXBwaW5nW2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdNYXBwaW5nW2tleV0gPSBuZXcgTm9kZU9ic2VydmVyQ29uZmlnKG5ld01hcHBpbmdba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvd01hcHBpbmdFeGlzdGVkKG5vZGVOYW1lLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVzZUNvbmZpZ0dsb2JhbChjb25maWdPcktleSwgZXZlbnRzQ29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGxvb2t1cCA9IHRoaXMuZ2xvYmFsRXZlbnRzO1xuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZ09yS2V5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnT3JLZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9va3VwW2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsb29rdXBba2V5XSA9IG5ldyBOb2RlT2JzZXJ2ZXJDb25maWcoY29uZmlnT3JLZXlba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvd01hcHBpbmdFeGlzdGVkKCcqJywga2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobG9va3VwW2NvbmZpZ09yS2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbG9va3VwW2NvbmZpZ09yS2V5XSA9IG5ldyBOb2RlT2JzZXJ2ZXJDb25maWcoZXZlbnRzQ29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93TWFwcGluZ0V4aXN0ZWQoJyonLCBjb25maWdPcktleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZGVlcHNjYW4tZGlzYWJsZS1uZXh0bGluZVxuICAgIGdldEFjY2Vzc29yKG9iaiwga2V5LCByZXF1ZXN0b3IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoa2V5IGluIHRoaXMuZ2xvYmFsT3ZlcnJpZGVzIHx8IChrZXkgaW4gKChfYSA9IHRoaXMub3ZlcnJpZGVzW29iai50YWdOYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZW1wdHlPYmplY3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JzZXJ2ZXIob2JqLCBrZXksIHJlcXVlc3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIC8vIGNsYXNzIC8gc3R5bGUgLyBjc3MgYXR0cmlidXRlIHdpbGwgYmUgb2JzZXJ2ZWQgdXNpbmcgLmdldE9ic2VydmVyKCkgcGVyIG92ZXJyaWRlc1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRPRE86IHRoZXJlIGFyZSAobWFueSkgbW9yZSBzaXR1YXRpb24gd2hlcmUgd2Ugd2FudCB0byBkZWZhdWx0IHRvIERhdGFBdHRyaWJ1dGVBY2Nlc3NvcixcbiAgICAgICAgICAgIC8vIGJ1dCBmb3Igbm93IHN0aWNrIHRvIHdoYXQgdkN1cnJlbnQgZG9lc1xuICAgICAgICAgICAgY2FzZSAnc3JjJzpcbiAgICAgICAgICAgIGNhc2UgJ2hyZWYnOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZG9tLmh0bWwjd2FpLWFyaWFcbiAgICAgICAgICAgIGNhc2UgJ3JvbGUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyQWNjZXNzb3I7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbnNQcm9wcyA9IG5zQXR0cmlidXRlc1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChuc1Byb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEF0dHJpYnV0ZU5TQWNjZXNzb3IuZm9yTnMobnNQcm9wc1sxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0RhdGFBdHRyaWJ1dGUob2JqLCBrZXksIHRoaXMuc3ZnQW5hbHl6ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRyQWNjZXNzb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50UHJvcGVydHlBY2Nlc3NvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBvdmVycmlkZUFjY2Vzc29yKHRhZ05hbWVPck92ZXJyaWRlcywga2V5KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHZhciBfYywgX2Q7XG4gICAgICAgIGxldCBleGlzdGluZ1RhZ092ZXJyaWRlO1xuICAgICAgICBpZiAodHlwZW9mIHRhZ05hbWVPck92ZXJyaWRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGV4aXN0aW5nVGFnT3ZlcnJpZGUgPSAoX2EgPSAoX2MgPSB0aGlzLm92ZXJyaWRlcylbdGFnTmFtZU9yT3ZlcnJpZGVzXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKF9jW3RhZ05hbWVPck92ZXJyaWRlc10gPSBjcmVhdGVMb29rdXAoKSk7XG4gICAgICAgICAgICBleGlzdGluZ1RhZ092ZXJyaWRlW2tleV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0YWdOYW1lIGluIHRhZ05hbWVPck92ZXJyaWRlcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRhZ05hbWVPck92ZXJyaWRlc1t0YWdOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1RhZ092ZXJyaWRlID0gKF9iID0gKF9kID0gdGhpcy5vdmVycmlkZXMpW3RhZ05hbWVdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAoX2RbdGFnTmFtZV0gPSBjcmVhdGVMb29rdXAoKSk7XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nVGFnT3ZlcnJpZGVba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciBhbGwgZWxlbWVudHM6XG4gICAgICogY29tcG9zZSBhIGxpc3Qgb2YgcHJvcGVydGllcyxcbiAgICAgKiB0byBpbmRpY2F0ZSB0aGF0IGFuIG92ZXJzZXIgc2hvdWxkIGJlIHJldHVybmVkIGluc3RlYWQgb2YgYW4gYWNjZXNzb3IgaW4gYC5nZXRBY2Nlc3NvcigpYFxuICAgICAqL1xuICAgIG92ZXJyaWRlQWNjZXNzb3JHbG9iYWwoLi4ua2V5cykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgICB0aGlzLmdsb2JhbE92ZXJyaWRlc1trZXldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRPYnNlcnZlcihlbCwga2V5LCByZXF1ZXN0b3IpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JvbGUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyQWNjZXNzb3I7XG4gICAgICAgICAgICBjYXNlICdjbGFzcyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDbGFzc0F0dHJpYnV0ZUFjY2Vzc29yKGVsKTtcbiAgICAgICAgICAgIGNhc2UgJ2Nzcyc6XG4gICAgICAgICAgICBjYXNlICdzdHlsZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHlsZUF0dHJpYnV0ZUFjY2Vzc29yKGVsKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBldmVudHNDb25maWcgPSAoX2IgPSAoX2EgPSB0aGlzLmV2ZW50c1tlbC50YWdOYW1lXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW2tleV0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuZ2xvYmFsRXZlbnRzW2tleV07XG4gICAgICAgIGlmIChldmVudHNDb25maWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBldmVudHNDb25maWcudHlwZShlbCwga2V5LCBuZXcgRXZlbnRTdWJzY3JpYmVyKGV2ZW50c0NvbmZpZyksIHJlcXVlc3RvciwgdGhpcy5sb2NhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuc1Byb3BzID0gbnNBdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIGlmIChuc1Byb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBBdHRyaWJ1dGVOU0FjY2Vzc29yLmZvck5zKG5zUHJvcHNbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RhdGFBdHRyaWJ1dGUoZWwsIGtleSwgdGhpcy5zdmdBbmFseXplcikpIHtcbiAgICAgICAgICAgIC8vIHRvZG86IHNob3VsZCBvYnNlcnZlXG4gICAgICAgICAgICByZXR1cm4gYXR0ckFjY2Vzc29yO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkgaW4gZWwuY29uc3RydWN0b3IucHJvdG90eXBlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxvd0RpcnR5Q2hlY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kaXJ0eUNoZWNrZXIuY3JlYXRlUHJvcGVydHkoZWwsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb25zaWRlcjpcbiAgICAgICAgICAgIC8vIC0gbWF5YmUgYWRkIGEgYWRhcHRlciBBUEkgdG8gaGFuZGxlIHVua25vd24gb2JqL2tleSBjb21ib1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gb2JzZXJ2ZSBwcm9wZXJ0eSAke1N0cmluZyhrZXkpfS4gUmVnaXN0ZXIgb2JzZXJ2YXRpb24gbWFwcGluZyB3aXRoIC51c2VDb25maWcoKS5gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRvZG86IHByb2JhYmx5IHN0aWxsIG5lZWRzIHRvIGdldCB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciB2aWEgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXG4gICAgICAgICAgICAvLyBidXQgbGV0J3Mgc3RhcnQgd2l0aCBzaW1wbGVzdCBzY2VuYXJpb1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXR0ZXJPYnNlcnZlcihlbCwga2V5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbk5vZGVPYnNlcnZlckxvY2F0b3IuaW5qZWN0ID0gW0lTZXJ2aWNlTG9jYXRvciwgSVBsYXRmb3JtLCBJRGlydHlDaGVja2VyLCBJU1ZHQW5hbHl6ZXJdO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbGxlY3Rpb25PYnNlcnZlcihjb2xsZWN0aW9uLCBvYnNlcnZlckxvY2F0b3IpIHtcbiAgICBpZiAoY29sbGVjdGlvbiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHJldHVybiBvYnNlcnZlckxvY2F0b3IuZ2V0QXJyYXlPYnNlcnZlcihjb2xsZWN0aW9uKTtcbiAgICB9XG4gICAgaWYgKGNvbGxlY3Rpb24gaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyTG9jYXRvci5nZXRNYXBPYnNlcnZlcihjb2xsZWN0aW9uKTtcbiAgICB9XG4gICAgaWYgKGNvbGxlY3Rpb24gaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyTG9jYXRvci5nZXRTZXRPYnNlcnZlcihjb2xsZWN0aW9uKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0aHJvd01hcHBpbmdFeGlzdGVkKG5vZGVOYW1lLCBrZXkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE1hcHBpbmcgZm9yIHByb3BlcnR5ICR7U3RyaW5nKGtleSl9IG9mIDwke25vZGVOYW1lfSAvPiBhbHJlYWR5IGV4aXN0c2ApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2ZXItbG9jYXRvci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/observer-locator.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/select-value-observer.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/select-value-observer.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SelectValueObserver\": () => (/* binding */ SelectValueObserver)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n\nconst hasOwn = Object.prototype.hasOwnProperty;\nconst childObserverOptions = {\n    childList: true,\n    subtree: true,\n    characterData: true\n};\nfunction defaultMatcher(a, b) {\n    return a === b;\n}\nclass SelectValueObserver {\n    constructor(obj, \n    // deepscan-disable-next-line\n    _key, handler, observerLocator) {\n        this.handler = handler;\n        this.observerLocator = observerLocator;\n        this.currentValue = void 0;\n        this.oldValue = void 0;\n        this.hasChanges = false;\n        // ObserverType.Layout is not always true\n        // but for simplicity, always treat as such\n        this.type = 2 /* Node */ | 1 /* Observer */ | 4 /* Layout */;\n        this.arrayObserver = void 0;\n        this.nodeObserver = void 0;\n        this.observing = false;\n        this.obj = obj;\n    }\n    getValue() {\n        // is it safe to assume the observer has the latest value?\n        // todo: ability to turn on/off cache based on type\n        return this.observing\n            ? this.currentValue\n            : this.obj.multiple\n                ? Array.from(this.obj.options).map(o => o.value)\n                : this.obj.value;\n    }\n    setValue(newValue, flags) {\n        this.currentValue = newValue;\n        this.hasChanges = newValue !== this.oldValue;\n        this.observeArray(newValue instanceof Array ? newValue : null);\n        if ((flags & 256 /* noFlush */) === 0) {\n            this.flushChanges(flags);\n        }\n    }\n    flushChanges(flags) {\n        if (this.hasChanges) {\n            this.hasChanges = false;\n            this.synchronizeOptions();\n        }\n    }\n    handleCollectionChange() {\n        // always sync \"selected\" property of <options/>\n        // immediately whenever the array notifies its mutation\n        this.synchronizeOptions();\n    }\n    notify(flags) {\n        if ((flags & 2 /* fromBind */) > 0) {\n            return;\n        }\n        const oldValue = this.oldValue;\n        const newValue = this.currentValue;\n        if (newValue === oldValue) {\n            return;\n        }\n        this.subs.notify(newValue, oldValue, flags);\n    }\n    handleEvent() {\n        const shouldNotify = this.synchronizeValue();\n        if (shouldNotify) {\n            this.subs.notify(this.currentValue, this.oldValue, 0 /* none */);\n        }\n    }\n    synchronizeOptions(indexMap) {\n        const { currentValue, obj } = this;\n        const isArray = Array.isArray(currentValue);\n        const matcher = obj.matcher !== void 0 ? obj.matcher : defaultMatcher;\n        const options = obj.options;\n        let i = options.length;\n        while (i-- > 0) {\n            const option = options[i];\n            const optionValue = hasOwn.call(option, 'model') ? option.model : option.value;\n            if (isArray) {\n                option.selected = currentValue.findIndex(item => !!matcher(optionValue, item)) !== -1;\n                continue;\n            }\n            option.selected = !!matcher(optionValue, currentValue);\n        }\n    }\n    synchronizeValue() {\n        // Spec for synchronizing value from `<select/>`  to `SelectObserver`\n        // When synchronizing value to observed <select/> element, do the following steps:\n        // A. If `<select/>` is multiple\n        //    1. Check if current value, called `currentValue` is an array\n        //      a. If not an array, return true to signal value has changed\n        //      b. If is an array:\n        //        i. gather all current selected <option/>, in to array called `values`\n        //        ii. loop through the `currentValue` array and remove items that are nolonger selected based on matcher\n        //        iii. loop through the `values` array and add items that are selected based on matcher\n        //        iv. Return false to signal value hasn't changed\n        // B. If the select is single\n        //    1. Let `value` equal the first selected option, if no option selected, then `value` is `null`\n        //    2. assign `this.currentValue` to `this.oldValue`\n        //    3. assign `value` to `this.currentValue`\n        //    4. return `true` to signal value has changed\n        const obj = this.obj;\n        const options = obj.options;\n        const len = options.length;\n        const currentValue = this.currentValue;\n        let i = 0;\n        if (obj.multiple) {\n            // A.\n            if (!(currentValue instanceof Array)) {\n                // A.1.a\n                return true;\n            }\n            // A.1.b\n            // multi select\n            let option;\n            const matcher = obj.matcher || defaultMatcher;\n            // A.1.b.i\n            const values = [];\n            while (i < len) {\n                option = options[i];\n                if (option.selected) {\n                    values.push(hasOwn.call(option, 'model')\n                        ? option.model\n                        : option.value);\n                }\n                ++i;\n            }\n            // A.1.b.ii\n            i = 0;\n            while (i < currentValue.length) {\n                const a = currentValue[i];\n                // Todo: remove arrow fn\n                if (values.findIndex(b => !!matcher(a, b)) === -1) {\n                    currentValue.splice(i, 1);\n                }\n                else {\n                    ++i;\n                }\n            }\n            // A.1.b.iii\n            i = 0;\n            while (i < values.length) {\n                const a = values[i];\n                // Todo: remove arrow fn\n                if (currentValue.findIndex(b => !!matcher(a, b)) === -1) {\n                    currentValue.push(a);\n                }\n                ++i;\n            }\n            // A.1.b.iv\n            return false;\n        }\n        // B. single select\n        // B.1\n        let value = null;\n        while (i < len) {\n            const option = options[i];\n            if (option.selected) {\n                value = hasOwn.call(option, 'model')\n                    ? option.model\n                    : option.value;\n                break;\n            }\n            ++i;\n        }\n        // B.2\n        this.oldValue = this.currentValue;\n        // B.3\n        this.currentValue = value;\n        // B.4\n        return true;\n    }\n    start() {\n        (this.nodeObserver = new this.obj.ownerDocument.defaultView.MutationObserver(this.handleNodeChange.bind(this)))\n            .observe(this.obj, childObserverOptions);\n        this.observeArray(this.currentValue instanceof Array ? this.currentValue : null);\n        this.observing = true;\n    }\n    stop() {\n        var _a;\n        this.nodeObserver.disconnect();\n        (_a = this.arrayObserver) === null || _a === void 0 ? void 0 : _a.unsubscribe(this);\n        this.nodeObserver\n            = this.arrayObserver\n                = void 0;\n        this.observing = false;\n    }\n    // todo: observe all kind of collection\n    observeArray(array) {\n        var _a;\n        (_a = this.arrayObserver) === null || _a === void 0 ? void 0 : _a.unsubscribe(this);\n        this.arrayObserver = void 0;\n        if (array != null) {\n            if (!this.obj.multiple) {\n                throw new Error('Only null or Array instances can be bound to a multi-select.');\n            }\n            (this.arrayObserver = this.observerLocator.getArrayObserver(array)).subscribe(this);\n        }\n    }\n    handleNodeChange() {\n        this.synchronizeOptions();\n        const shouldNotify = this.synchronizeValue();\n        if (shouldNotify) {\n            this.notify(0 /* none */);\n        }\n    }\n    subscribe(subscriber) {\n        if (this.subs.add(subscriber) && this.subs.count === 1) {\n            this.handler.subscribe(this.obj, this);\n            this.start();\n        }\n    }\n    unsubscribe(subscriber) {\n        if (this.subs.remove(subscriber) && this.subs.count === 0) {\n            this.handler.dispose();\n            this.stop();\n        }\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.subscriberCollection)(SelectValueObserver);\n//# sourceMappingURL=select-value-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL3NlbGVjdC12YWx1ZS1vYnNlcnZlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vb2JzZXJ2YXRpb24vc2VsZWN0LXZhbHVlLW9ic2VydmVyLmpzP2I5NjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3Vic2NyaWJlckNvbGxlY3Rpb24sIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZSc7XG5jb25zdCBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuY29uc3QgY2hpbGRPYnNlcnZlck9wdGlvbnMgPSB7XG4gICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIHN1YnRyZWU6IHRydWUsXG4gICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxufTtcbmZ1bmN0aW9uIGRlZmF1bHRNYXRjaGVyKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbn1cbmV4cG9ydCBjbGFzcyBTZWxlY3RWYWx1ZU9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihvYmosIFxuICAgIC8vIGRlZXBzY2FuLWRpc2FibGUtbmV4dC1saW5lXG4gICAgX2tleSwgaGFuZGxlciwgb2JzZXJ2ZXJMb2NhdG9yKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJMb2NhdG9yID0gb2JzZXJ2ZXJMb2NhdG9yO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5vbGRWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgIC8vIE9ic2VydmVyVHlwZS5MYXlvdXQgaXMgbm90IGFsd2F5cyB0cnVlXG4gICAgICAgIC8vIGJ1dCBmb3Igc2ltcGxpY2l0eSwgYWx3YXlzIHRyZWF0IGFzIHN1Y2hcbiAgICAgICAgdGhpcy50eXBlID0gMiAvKiBOb2RlICovIHwgMSAvKiBPYnNlcnZlciAqLyB8IDQgLyogTGF5b3V0ICovO1xuICAgICAgICB0aGlzLmFycmF5T2JzZXJ2ZXIgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMubm9kZU9ic2VydmVyID0gdm9pZCAwO1xuICAgICAgICB0aGlzLm9ic2VydmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9iaiA9IG9iajtcbiAgICB9XG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIC8vIGlzIGl0IHNhZmUgdG8gYXNzdW1lIHRoZSBvYnNlcnZlciBoYXMgdGhlIGxhdGVzdCB2YWx1ZT9cbiAgICAgICAgLy8gdG9kbzogYWJpbGl0eSB0byB0dXJuIG9uL29mZiBjYWNoZSBiYXNlZCBvbiB0eXBlXG4gICAgICAgIHJldHVybiB0aGlzLm9ic2VydmluZ1xuICAgICAgICAgICAgPyB0aGlzLmN1cnJlbnRWYWx1ZVxuICAgICAgICAgICAgOiB0aGlzLm9iai5tdWx0aXBsZVxuICAgICAgICAgICAgICAgID8gQXJyYXkuZnJvbSh0aGlzLm9iai5vcHRpb25zKS5tYXAobyA9PiBvLnZhbHVlKVxuICAgICAgICAgICAgICAgIDogdGhpcy5vYmoudmFsdWU7XG4gICAgfVxuICAgIHNldFZhbHVlKG5ld1ZhbHVlLCBmbGFncykge1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB0aGlzLmhhc0NoYW5nZXMgPSBuZXdWYWx1ZSAhPT0gdGhpcy5vbGRWYWx1ZTtcbiAgICAgICAgdGhpcy5vYnNlcnZlQXJyYXkobmV3VmFsdWUgaW5zdGFuY2VvZiBBcnJheSA/IG5ld1ZhbHVlIDogbnVsbCk7XG4gICAgICAgIGlmICgoZmxhZ3MgJiAyNTYgLyogbm9GbHVzaCAqLykgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hDaGFuZ2VzKGZsYWdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmbHVzaENoYW5nZXMoZmxhZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN5bmNocm9uaXplT3B0aW9ucygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoKSB7XG4gICAgICAgIC8vIGFsd2F5cyBzeW5jIFwic2VsZWN0ZWRcIiBwcm9wZXJ0eSBvZiA8b3B0aW9ucy8+XG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IHdoZW5ldmVyIHRoZSBhcnJheSBub3RpZmllcyBpdHMgbXV0YXRpb25cbiAgICAgICAgdGhpcy5zeW5jaHJvbml6ZU9wdGlvbnMoKTtcbiAgICB9XG4gICAgbm90aWZ5KGZsYWdzKSB7XG4gICAgICAgIGlmICgoZmxhZ3MgJiAyIC8qIGZyb21CaW5kICovKSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMub2xkVmFsdWU7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdGhpcy5jdXJyZW50VmFsdWU7XG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YnMubm90aWZ5KG5ld1ZhbHVlLCBvbGRWYWx1ZSwgZmxhZ3MpO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudCgpIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkTm90aWZ5ID0gdGhpcy5zeW5jaHJvbml6ZVZhbHVlKCk7XG4gICAgICAgIGlmIChzaG91bGROb3RpZnkpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vicy5ub3RpZnkodGhpcy5jdXJyZW50VmFsdWUsIHRoaXMub2xkVmFsdWUsIDAgLyogbm9uZSAqLyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3luY2hyb25pemVPcHRpb25zKGluZGV4TWFwKSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFZhbHVlLCBvYmogfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IG1hdGNoZXIgPSBvYmoubWF0Y2hlciAhPT0gdm9pZCAwID8gb2JqLm1hdGNoZXIgOiBkZWZhdWx0TWF0Y2hlcjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9iai5vcHRpb25zO1xuICAgICAgICBsZXQgaSA9IG9wdGlvbnMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gb3B0aW9uc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gaGFzT3duLmNhbGwob3B0aW9uLCAnbW9kZWwnKSA/IG9wdGlvbi5tb2RlbCA6IG9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gY3VycmVudFZhbHVlLmZpbmRJbmRleChpdGVtID0+ICEhbWF0Y2hlcihvcHRpb25WYWx1ZSwgaXRlbSkpICE9PSAtMTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9ICEhbWF0Y2hlcihvcHRpb25WYWx1ZSwgY3VycmVudFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzeW5jaHJvbml6ZVZhbHVlKCkge1xuICAgICAgICAvLyBTcGVjIGZvciBzeW5jaHJvbml6aW5nIHZhbHVlIGZyb20gYDxzZWxlY3QvPmAgIHRvIGBTZWxlY3RPYnNlcnZlcmBcbiAgICAgICAgLy8gV2hlbiBzeW5jaHJvbml6aW5nIHZhbHVlIHRvIG9ic2VydmVkIDxzZWxlY3QvPiBlbGVtZW50LCBkbyB0aGUgZm9sbG93aW5nIHN0ZXBzOlxuICAgICAgICAvLyBBLiBJZiBgPHNlbGVjdC8+YCBpcyBtdWx0aXBsZVxuICAgICAgICAvLyAgICAxLiBDaGVjayBpZiBjdXJyZW50IHZhbHVlLCBjYWxsZWQgYGN1cnJlbnRWYWx1ZWAgaXMgYW4gYXJyYXlcbiAgICAgICAgLy8gICAgICBhLiBJZiBub3QgYW4gYXJyYXksIHJldHVybiB0cnVlIHRvIHNpZ25hbCB2YWx1ZSBoYXMgY2hhbmdlZFxuICAgICAgICAvLyAgICAgIGIuIElmIGlzIGFuIGFycmF5OlxuICAgICAgICAvLyAgICAgICAgaS4gZ2F0aGVyIGFsbCBjdXJyZW50IHNlbGVjdGVkIDxvcHRpb24vPiwgaW4gdG8gYXJyYXkgY2FsbGVkIGB2YWx1ZXNgXG4gICAgICAgIC8vICAgICAgICBpaS4gbG9vcCB0aHJvdWdoIHRoZSBgY3VycmVudFZhbHVlYCBhcnJheSBhbmQgcmVtb3ZlIGl0ZW1zIHRoYXQgYXJlIG5vbG9uZ2VyIHNlbGVjdGVkIGJhc2VkIG9uIG1hdGNoZXJcbiAgICAgICAgLy8gICAgICAgIGlpaS4gbG9vcCB0aHJvdWdoIHRoZSBgdmFsdWVzYCBhcnJheSBhbmQgYWRkIGl0ZW1zIHRoYXQgYXJlIHNlbGVjdGVkIGJhc2VkIG9uIG1hdGNoZXJcbiAgICAgICAgLy8gICAgICAgIGl2LiBSZXR1cm4gZmFsc2UgdG8gc2lnbmFsIHZhbHVlIGhhc24ndCBjaGFuZ2VkXG4gICAgICAgIC8vIEIuIElmIHRoZSBzZWxlY3QgaXMgc2luZ2xlXG4gICAgICAgIC8vICAgIDEuIExldCBgdmFsdWVgIGVxdWFsIHRoZSBmaXJzdCBzZWxlY3RlZCBvcHRpb24sIGlmIG5vIG9wdGlvbiBzZWxlY3RlZCwgdGhlbiBgdmFsdWVgIGlzIGBudWxsYFxuICAgICAgICAvLyAgICAyLiBhc3NpZ24gYHRoaXMuY3VycmVudFZhbHVlYCB0byBgdGhpcy5vbGRWYWx1ZWBcbiAgICAgICAgLy8gICAgMy4gYXNzaWduIGB2YWx1ZWAgdG8gYHRoaXMuY3VycmVudFZhbHVlYFxuICAgICAgICAvLyAgICA0LiByZXR1cm4gYHRydWVgIHRvIHNpZ25hbCB2YWx1ZSBoYXMgY2hhbmdlZFxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm9iajtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG9iai5vcHRpb25zO1xuICAgICAgICBjb25zdCBsZW4gPSBvcHRpb25zLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5jdXJyZW50VmFsdWU7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgaWYgKG9iai5tdWx0aXBsZSkge1xuICAgICAgICAgICAgLy8gQS5cbiAgICAgICAgICAgIGlmICghKGN1cnJlbnRWYWx1ZSBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgIC8vIEEuMS5hXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBLjEuYlxuICAgICAgICAgICAgLy8gbXVsdGkgc2VsZWN0XG4gICAgICAgICAgICBsZXQgb3B0aW9uO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlciA9IG9iai5tYXRjaGVyIHx8IGRlZmF1bHRNYXRjaGVyO1xuICAgICAgICAgICAgLy8gQS4xLmIuaVxuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICAgICAgICAgIG9wdGlvbiA9IG9wdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChoYXNPd24uY2FsbChvcHRpb24sICdtb2RlbCcpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbi5tb2RlbFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBLjEuYi5paVxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IGN1cnJlbnRWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gY3VycmVudFZhbHVlW2ldO1xuICAgICAgICAgICAgICAgIC8vIFRvZG86IHJlbW92ZSBhcnJvdyBmblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMuZmluZEluZGV4KGIgPT4gISFtYXRjaGVyKGEsIGIpKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBLjEuYi5paWlcbiAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBUb2RvOiByZW1vdmUgYXJyb3cgZm5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlLmZpbmRJbmRleChiID0+ICEhbWF0Y2hlcihhLCBiKSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZS5wdXNoKGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBLjEuYi5pdlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEIuIHNpbmdsZSBzZWxlY3RcbiAgICAgICAgLy8gQi4xXG4gICAgICAgIGxldCB2YWx1ZSA9IG51bGw7XG4gICAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBvcHRpb25zW2ldO1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gaGFzT3duLmNhbGwob3B0aW9uLCAnbW9kZWwnKVxuICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbi5tb2RlbFxuICAgICAgICAgICAgICAgICAgICA6IG9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCLjJcbiAgICAgICAgdGhpcy5vbGRWYWx1ZSA9IHRoaXMuY3VycmVudFZhbHVlO1xuICAgICAgICAvLyBCLjNcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgLy8gQi40XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgKHRoaXMubm9kZU9ic2VydmVyID0gbmV3IHRoaXMub2JqLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuTXV0YXRpb25PYnNlcnZlcih0aGlzLmhhbmRsZU5vZGVDaGFuZ2UuYmluZCh0aGlzKSkpXG4gICAgICAgICAgICAub2JzZXJ2ZSh0aGlzLm9iaiwgY2hpbGRPYnNlcnZlck9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9ic2VydmVBcnJheSh0aGlzLmN1cnJlbnRWYWx1ZSBpbnN0YW5jZW9mIEFycmF5ID8gdGhpcy5jdXJyZW50VmFsdWUgOiBudWxsKTtcbiAgICAgICAgdGhpcy5vYnNlcnZpbmcgPSB0cnVlO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubm9kZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgKF9hID0gdGhpcy5hcnJheU9ic2VydmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudW5zdWJzY3JpYmUodGhpcyk7XG4gICAgICAgIHRoaXMubm9kZU9ic2VydmVyXG4gICAgICAgICAgICA9IHRoaXMuYXJyYXlPYnNlcnZlclxuICAgICAgICAgICAgICAgID0gdm9pZCAwO1xuICAgICAgICB0aGlzLm9ic2VydmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyB0b2RvOiBvYnNlcnZlIGFsbCBraW5kIG9mIGNvbGxlY3Rpb25cbiAgICBvYnNlcnZlQXJyYXkoYXJyYXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmFycmF5T2JzZXJ2ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51bnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgdGhpcy5hcnJheU9ic2VydmVyID0gdm9pZCAwO1xuICAgICAgICBpZiAoYXJyYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9iai5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBudWxsIG9yIEFycmF5IGluc3RhbmNlcyBjYW4gYmUgYm91bmQgdG8gYSBtdWx0aS1zZWxlY3QuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAodGhpcy5hcnJheU9ic2VydmVyID0gdGhpcy5vYnNlcnZlckxvY2F0b3IuZ2V0QXJyYXlPYnNlcnZlcihhcnJheSkpLnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVOb2RlQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnN5bmNocm9uaXplT3B0aW9ucygpO1xuICAgICAgICBjb25zdCBzaG91bGROb3RpZnkgPSB0aGlzLnN5bmNocm9uaXplVmFsdWUoKTtcbiAgICAgICAgaWYgKHNob3VsZE5vdGlmeSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnkoMCAvKiBub25lICovKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdWJzY3JpYmUoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5zdWJzLmFkZChzdWJzY3JpYmVyKSAmJiB0aGlzLnN1YnMuY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlci5zdWJzY3JpYmUodGhpcy5vYmosIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuc3Vic2NyaWJlKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vicy5yZW1vdmUoc3Vic2NyaWJlcikgJiYgdGhpcy5zdWJzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5zdWJzY3JpYmVyQ29sbGVjdGlvbihTZWxlY3RWYWx1ZU9ic2VydmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlbGVjdC12YWx1ZS1vYnNlcnZlci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/select-value-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/style-attribute-accessor.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/style-attribute-accessor.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"StyleAttributeAccessor\": () => (/* binding */ StyleAttributeAccessor)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n\nconst customPropertyPrefix = '--';\nclass StyleAttributeAccessor {\n    constructor(obj) {\n        this.obj = obj;\n        this.currentValue = '';\n        this.oldValue = '';\n        this.styles = {};\n        this.version = 0;\n        this.hasChanges = false;\n        this.type = 2 /* Node */ | 4 /* Layout */;\n    }\n    getValue() {\n        return this.obj.style.cssText;\n    }\n    setValue(newValue, flags) {\n        this.currentValue = newValue;\n        this.hasChanges = newValue !== this.oldValue;\n        if ((flags & 256 /* noFlush */) === 0) {\n            this.flushChanges(flags);\n        }\n    }\n    getStyleTuplesFromString(currentValue) {\n        const styleTuples = [];\n        const urlRegexTester = /url\\([^)]+$/;\n        let offset = 0;\n        let currentChunk = '';\n        let nextSplit;\n        let indexOfColon;\n        let attribute;\n        let value;\n        while (offset < currentValue.length) {\n            nextSplit = currentValue.indexOf(';', offset);\n            if (nextSplit === -1) {\n                nextSplit = currentValue.length;\n            }\n            currentChunk += currentValue.substring(offset, nextSplit);\n            offset = nextSplit + 1;\n            // Make sure we never split a url so advance to next\n            if (urlRegexTester.test(currentChunk)) {\n                currentChunk += ';';\n                continue;\n            }\n            indexOfColon = currentChunk.indexOf(':');\n            attribute = currentChunk.substring(0, indexOfColon).trim();\n            value = currentChunk.substring(indexOfColon + 1).trim();\n            styleTuples.push([attribute, value]);\n            currentChunk = '';\n        }\n        return styleTuples;\n    }\n    getStyleTuplesFromObject(currentValue) {\n        let value;\n        const styles = [];\n        for (const property in currentValue) {\n            value = currentValue[property];\n            if (value == null) {\n                continue;\n            }\n            if (typeof value === 'string') {\n                // Custom properties should not be tampered with\n                if (property.startsWith(customPropertyPrefix)) {\n                    styles.push([property, value]);\n                    continue;\n                }\n                styles.push([(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.kebabCase)(property), value]);\n                continue;\n            }\n            styles.push(...this.getStyleTuples(value));\n        }\n        return styles;\n    }\n    getStyleTuplesFromArray(currentValue) {\n        const len = currentValue.length;\n        if (len > 0) {\n            const styles = [];\n            for (let i = 0; i < len; ++i) {\n                styles.push(...this.getStyleTuples(currentValue[i]));\n            }\n            return styles;\n        }\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n    }\n    getStyleTuples(currentValue) {\n        if (typeof currentValue === 'string') {\n            return this.getStyleTuplesFromString(currentValue);\n        }\n        if (currentValue instanceof Array) {\n            return this.getStyleTuplesFromArray(currentValue);\n        }\n        if (currentValue instanceof Object) {\n            return this.getStyleTuplesFromObject(currentValue);\n        }\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n    }\n    flushChanges(flags) {\n        if (this.hasChanges) {\n            this.hasChanges = false;\n            const currentValue = this.currentValue;\n            const styles = this.styles;\n            const styleTuples = this.getStyleTuples(currentValue);\n            let style;\n            let version = this.version;\n            this.oldValue = currentValue;\n            let tuple;\n            let name;\n            let value;\n            const len = styleTuples.length;\n            for (let i = 0; i < len; ++i) {\n                tuple = styleTuples[i];\n                name = tuple[0];\n                value = tuple[1];\n                this.setProperty(name, value);\n                styles[name] = version;\n            }\n            this.styles = styles;\n            this.version += 1;\n            if (version === 0) {\n                return;\n            }\n            version -= 1;\n            for (style in styles) {\n                if (!Object.prototype.hasOwnProperty.call(styles, style) || styles[style] !== version) {\n                    continue;\n                }\n                this.obj.style.removeProperty(style);\n            }\n        }\n    }\n    setProperty(style, value) {\n        let priority = '';\n        if (value != null && typeof value.indexOf === 'function' && value.includes('!important')) {\n            priority = 'important';\n            value = value.replace('!important', '');\n        }\n        this.obj.style.setProperty(style, value, priority);\n    }\n    bind(flags) {\n        this.currentValue = this.oldValue = this.obj.style.cssText;\n    }\n}\n//# sourceMappingURL=style-attribute-accessor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL3N0eWxlLWF0dHJpYnV0ZS1hY2Nlc3Nvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vb2JzZXJ2YXRpb24vc3R5bGUtYXR0cmlidXRlLWFjY2Vzc29yLmpzPzcxMTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW1wdHlBcnJheSwga2ViYWJDYXNlIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmNvbnN0IGN1c3RvbVByb3BlcnR5UHJlZml4ID0gJy0tJztcbmV4cG9ydCBjbGFzcyBTdHlsZUF0dHJpYnV0ZUFjY2Vzc29yIHtcbiAgICBjb25zdHJ1Y3RvcihvYmopIHtcbiAgICAgICAgdGhpcy5vYmogPSBvYmo7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gJyc7XG4gICAgICAgIHRoaXMub2xkVmFsdWUgPSAnJztcbiAgICAgICAgdGhpcy5zdHlsZXMgPSB7fTtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gMDtcbiAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHlwZSA9IDIgLyogTm9kZSAqLyB8IDQgLyogTGF5b3V0ICovO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2JqLnN0eWxlLmNzc1RleHQ7XG4gICAgfVxuICAgIHNldFZhbHVlKG5ld1ZhbHVlLCBmbGFncykge1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB0aGlzLmhhc0NoYW5nZXMgPSBuZXdWYWx1ZSAhPT0gdGhpcy5vbGRWYWx1ZTtcbiAgICAgICAgaWYgKChmbGFncyAmIDI1NiAvKiBub0ZsdXNoICovKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaENoYW5nZXMoZmxhZ3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFN0eWxlVHVwbGVzRnJvbVN0cmluZyhjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVUdXBsZXMgPSBbXTtcbiAgICAgICAgY29uc3QgdXJsUmVnZXhUZXN0ZXIgPSAvdXJsXFwoW14pXSskLztcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50Q2h1bmsgPSAnJztcbiAgICAgICAgbGV0IG5leHRTcGxpdDtcbiAgICAgICAgbGV0IGluZGV4T2ZDb2xvbjtcbiAgICAgICAgbGV0IGF0dHJpYnV0ZTtcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgY3VycmVudFZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgbmV4dFNwbGl0ID0gY3VycmVudFZhbHVlLmluZGV4T2YoJzsnLCBvZmZzZXQpO1xuICAgICAgICAgICAgaWYgKG5leHRTcGxpdCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBuZXh0U3BsaXQgPSBjdXJyZW50VmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudENodW5rICs9IGN1cnJlbnRWYWx1ZS5zdWJzdHJpbmcob2Zmc2V0LCBuZXh0U3BsaXQpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gbmV4dFNwbGl0ICsgMTtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBuZXZlciBzcGxpdCBhIHVybCBzbyBhZHZhbmNlIHRvIG5leHRcbiAgICAgICAgICAgIGlmICh1cmxSZWdleFRlc3Rlci50ZXN0KGN1cnJlbnRDaHVuaykpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsgKz0gJzsnO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXhPZkNvbG9uID0gY3VycmVudENodW5rLmluZGV4T2YoJzonKTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZSA9IGN1cnJlbnRDaHVuay5zdWJzdHJpbmcoMCwgaW5kZXhPZkNvbG9uKS50cmltKCk7XG4gICAgICAgICAgICB2YWx1ZSA9IGN1cnJlbnRDaHVuay5zdWJzdHJpbmcoaW5kZXhPZkNvbG9uICsgMSkudHJpbSgpO1xuICAgICAgICAgICAgc3R5bGVUdXBsZXMucHVzaChbYXR0cmlidXRlLCB2YWx1ZV0pO1xuICAgICAgICAgICAgY3VycmVudENodW5rID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0eWxlVHVwbGVzO1xuICAgIH1cbiAgICBnZXRTdHlsZVR1cGxlc0Zyb21PYmplY3QoY3VycmVudFZhbHVlKSB7XG4gICAgICAgIGxldCB2YWx1ZTtcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcHJvcGVydHkgaW4gY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGN1cnJlbnRWYWx1ZVtwcm9wZXJ0eV07XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBDdXN0b20gcHJvcGVydGllcyBzaG91bGQgbm90IGJlIHRhbXBlcmVkIHdpdGhcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkuc3RhcnRzV2l0aChjdXN0b21Qcm9wZXJ0eVByZWZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnB1c2goW3Byb3BlcnR5LCB2YWx1ZV0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3R5bGVzLnB1c2goW2tlYmFiQ2FzZShwcm9wZXJ0eSksIHZhbHVlXSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHlsZXMucHVzaCguLi50aGlzLmdldFN0eWxlVHVwbGVzKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICB9XG4gICAgZ2V0U3R5bGVUdXBsZXNGcm9tQXJyYXkoY3VycmVudFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IGN1cnJlbnRWYWx1ZS5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzdHlsZXMucHVzaCguLi50aGlzLmdldFN0eWxlVHVwbGVzKGN1cnJlbnRWYWx1ZVtpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1wdHlBcnJheTtcbiAgICB9XG4gICAgZ2V0U3R5bGVUdXBsZXMoY3VycmVudFZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudFZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3R5bGVUdXBsZXNGcm9tU3RyaW5nKGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTdHlsZVR1cGxlc0Zyb21BcnJheShjdXJyZW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50VmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0eWxlVHVwbGVzRnJvbU9iamVjdChjdXJyZW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbXB0eUFycmF5O1xuICAgIH1cbiAgICBmbHVzaENoYW5nZXMoZmxhZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IHRoaXMuc3R5bGVzO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVUdXBsZXMgPSB0aGlzLmdldFN0eWxlVHVwbGVzKGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICBsZXQgc3R5bGU7XG4gICAgICAgICAgICBsZXQgdmVyc2lvbiA9IHRoaXMudmVyc2lvbjtcbiAgICAgICAgICAgIHRoaXMub2xkVmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICBsZXQgdHVwbGU7XG4gICAgICAgICAgICBsZXQgbmFtZTtcbiAgICAgICAgICAgIGxldCB2YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IHN0eWxlVHVwbGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0dXBsZSA9IHN0eWxlVHVwbGVzW2ldO1xuICAgICAgICAgICAgICAgIG5hbWUgPSB0dXBsZVswXTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHR1cGxlWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHN0eWxlc1tuYW1lXSA9IHZlcnNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcztcbiAgICAgICAgICAgIHRoaXMudmVyc2lvbiArPSAxO1xuICAgICAgICAgICAgaWYgKHZlcnNpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2ZXJzaW9uIC09IDE7XG4gICAgICAgICAgICBmb3IgKHN0eWxlIGluIHN0eWxlcykge1xuICAgICAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0eWxlcywgc3R5bGUpIHx8IHN0eWxlc1tzdHlsZV0gIT09IHZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMub2JqLnN0eWxlLnJlbW92ZVByb3BlcnR5KHN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRQcm9wZXJ0eShzdHlsZSwgdmFsdWUpIHtcbiAgICAgICAgbGV0IHByaW9yaXR5ID0gJyc7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS5pbmRleE9mID09PSAnZnVuY3Rpb24nICYmIHZhbHVlLmluY2x1ZGVzKCchaW1wb3J0YW50JykpIHtcbiAgICAgICAgICAgIHByaW9yaXR5ID0gJ2ltcG9ydGFudCc7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoJyFpbXBvcnRhbnQnLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYmouc3R5bGUuc2V0UHJvcGVydHkoc3R5bGUsIHZhbHVlLCBwcmlvcml0eSk7XG4gICAgfVxuICAgIGJpbmQoZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB0aGlzLm9sZFZhbHVlID0gdGhpcy5vYmouc3R5bGUuY3NzVGV4dDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZS1hdHRyaWJ1dGUtYWNjZXNzb3IuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/style-attribute-accessor.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/svg-analyzer.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/svg-analyzer.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ISVGAnalyzer\": () => (/* binding */ ISVGAnalyzer),\n/* harmony export */   \"NoopSVGAnalyzer\": () => (/* binding */ NoopSVGAnalyzer),\n/* harmony export */   \"SVGAnalyzer\": () => (/* binding */ SVGAnalyzer)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n\n\nconst ISVGAnalyzer = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ISVGAnalyzer', x => x.singleton(NoopSVGAnalyzer));\nclass NoopSVGAnalyzer {\n    isStandardSvgAttribute(node, attributeName) {\n        return false;\n    }\n}\nfunction o(keys) {\n    const lookup = Object.create(null);\n    for (const key of keys) {\n        lookup[key] = true;\n    }\n    return lookup;\n}\nclass SVGAnalyzer {\n    constructor(platform) {\n        this.svgElements = Object.assign(Object.create(null), {\n            'a': o(['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'target', 'transform', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'altGlyph': o(['class', 'dx', 'dy', 'externalResourcesRequired', 'format', 'glyphRef', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rotate', 'style', 'systemLanguage', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'altglyph': Object.create(null),\n            'altGlyphDef': o(['id', 'xml:base', 'xml:lang', 'xml:space']),\n            'altglyphdef': Object.create(null),\n            'altGlyphItem': o(['id', 'xml:base', 'xml:lang', 'xml:space']),\n            'altglyphitem': Object.create(null),\n            'animate': o(['accumulate', 'additive', 'attributeName', 'attributeType', 'begin', 'by', 'calcMode', 'dur', 'end', 'externalResourcesRequired', 'fill', 'from', 'id', 'keySplines', 'keyTimes', 'max', 'min', 'onbegin', 'onend', 'onload', 'onrepeat', 'repeatCount', 'repeatDur', 'requiredExtensions', 'requiredFeatures', 'restart', 'systemLanguage', 'to', 'values', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'animateColor': o(['accumulate', 'additive', 'attributeName', 'attributeType', 'begin', 'by', 'calcMode', 'dur', 'end', 'externalResourcesRequired', 'fill', 'from', 'id', 'keySplines', 'keyTimes', 'max', 'min', 'onbegin', 'onend', 'onload', 'onrepeat', 'repeatCount', 'repeatDur', 'requiredExtensions', 'requiredFeatures', 'restart', 'systemLanguage', 'to', 'values', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'animateMotion': o(['accumulate', 'additive', 'begin', 'by', 'calcMode', 'dur', 'end', 'externalResourcesRequired', 'fill', 'from', 'id', 'keyPoints', 'keySplines', 'keyTimes', 'max', 'min', 'onbegin', 'onend', 'onload', 'onrepeat', 'origin', 'path', 'repeatCount', 'repeatDur', 'requiredExtensions', 'requiredFeatures', 'restart', 'rotate', 'systemLanguage', 'to', 'values', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'animateTransform': o(['accumulate', 'additive', 'attributeName', 'attributeType', 'begin', 'by', 'calcMode', 'dur', 'end', 'externalResourcesRequired', 'fill', 'from', 'id', 'keySplines', 'keyTimes', 'max', 'min', 'onbegin', 'onend', 'onload', 'onrepeat', 'repeatCount', 'repeatDur', 'requiredExtensions', 'requiredFeatures', 'restart', 'systemLanguage', 'to', 'type', 'values', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'circle': o(['class', 'cx', 'cy', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'r', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space']),\n            'clipPath': o(['class', 'clipPathUnits', 'externalResourcesRequired', 'id', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space']),\n            'color-profile': o(['id', 'local', 'name', 'rendering-intent', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'cursor': o(['externalResourcesRequired', 'id', 'requiredExtensions', 'requiredFeatures', 'systemLanguage', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'defs': o(['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space']),\n            'desc': o(['class', 'id', 'style', 'xml:base', 'xml:lang', 'xml:space']),\n            'ellipse': o(['class', 'cx', 'cy', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rx', 'ry', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space']),\n            'feBlend': o(['class', 'height', 'id', 'in', 'in2', 'mode', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feColorMatrix': o(['class', 'height', 'id', 'in', 'result', 'style', 'type', 'values', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feComponentTransfer': o(['class', 'height', 'id', 'in', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feComposite': o(['class', 'height', 'id', 'in', 'in2', 'k1', 'k2', 'k3', 'k4', 'operator', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feConvolveMatrix': o(['bias', 'class', 'divisor', 'edgeMode', 'height', 'id', 'in', 'kernelMatrix', 'kernelUnitLength', 'order', 'preserveAlpha', 'result', 'style', 'targetX', 'targetY', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feDiffuseLighting': o(['class', 'diffuseConstant', 'height', 'id', 'in', 'kernelUnitLength', 'result', 'style', 'surfaceScale', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feDisplacementMap': o(['class', 'height', 'id', 'in', 'in2', 'result', 'scale', 'style', 'width', 'x', 'xChannelSelector', 'xml:base', 'xml:lang', 'xml:space', 'y', 'yChannelSelector']),\n            'feDistantLight': o(['azimuth', 'elevation', 'id', 'xml:base', 'xml:lang', 'xml:space']),\n            'feFlood': o(['class', 'height', 'id', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feFuncA': o(['amplitude', 'exponent', 'id', 'intercept', 'offset', 'slope', 'tableValues', 'type', 'xml:base', 'xml:lang', 'xml:space']),\n            'feFuncB': o(['amplitude', 'exponent', 'id', 'intercept', 'offset', 'slope', 'tableValues', 'type', 'xml:base', 'xml:lang', 'xml:space']),\n            'feFuncG': o(['amplitude', 'exponent', 'id', 'intercept', 'offset', 'slope', 'tableValues', 'type', 'xml:base', 'xml:lang', 'xml:space']),\n            'feFuncR': o(['amplitude', 'exponent', 'id', 'intercept', 'offset', 'slope', 'tableValues', 'type', 'xml:base', 'xml:lang', 'xml:space']),\n            'feGaussianBlur': o(['class', 'height', 'id', 'in', 'result', 'stdDeviation', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feImage': o(['class', 'externalResourcesRequired', 'height', 'id', 'preserveAspectRatio', 'result', 'style', 'width', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feMerge': o(['class', 'height', 'id', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feMergeNode': o(['id', 'xml:base', 'xml:lang', 'xml:space']),\n            'feMorphology': o(['class', 'height', 'id', 'in', 'operator', 'radius', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feOffset': o(['class', 'dx', 'dy', 'height', 'id', 'in', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'fePointLight': o(['id', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y', 'z']),\n            'feSpecularLighting': o(['class', 'height', 'id', 'in', 'kernelUnitLength', 'result', 'specularConstant', 'specularExponent', 'style', 'surfaceScale', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feSpotLight': o(['id', 'limitingConeAngle', 'pointsAtX', 'pointsAtY', 'pointsAtZ', 'specularExponent', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y', 'z']),\n            'feTile': o(['class', 'height', 'id', 'in', 'result', 'style', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'feTurbulence': o(['baseFrequency', 'class', 'height', 'id', 'numOctaves', 'result', 'seed', 'stitchTiles', 'style', 'type', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'filter': o(['class', 'externalResourcesRequired', 'filterRes', 'filterUnits', 'height', 'id', 'primitiveUnits', 'style', 'width', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'font': o(['class', 'externalResourcesRequired', 'horiz-adv-x', 'horiz-origin-x', 'horiz-origin-y', 'id', 'style', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'xml:base', 'xml:lang', 'xml:space']),\n            'font-face': o(['accent-height', 'alphabetic', 'ascent', 'bbox', 'cap-height', 'descent', 'font-family', 'font-size', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'hanging', 'id', 'ideographic', 'mathematical', 'overline-position', 'overline-thickness', 'panose-1', 'slope', 'stemh', 'stemv', 'strikethrough-position', 'strikethrough-thickness', 'underline-position', 'underline-thickness', 'unicode-range', 'units-per-em', 'v-alphabetic', 'v-hanging', 'v-ideographic', 'v-mathematical', 'widths', 'x-height', 'xml:base', 'xml:lang', 'xml:space']),\n            'font-face-format': o(['id', 'string', 'xml:base', 'xml:lang', 'xml:space']),\n            'font-face-name': o(['id', 'name', 'xml:base', 'xml:lang', 'xml:space']),\n            'font-face-src': o(['id', 'xml:base', 'xml:lang', 'xml:space']),\n            'font-face-uri': o(['id', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'foreignObject': o(['class', 'externalResourcesRequired', 'height', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'g': o(['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space']),\n            'glyph': o(['arabic-form', 'class', 'd', 'glyph-name', 'horiz-adv-x', 'id', 'lang', 'orientation', 'style', 'unicode', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'xml:base', 'xml:lang', 'xml:space']),\n            'glyphRef': o(['class', 'dx', 'dy', 'format', 'glyphRef', 'id', 'style', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'glyphref': Object.create(null),\n            'hkern': o(['g1', 'g2', 'id', 'k', 'u1', 'u2', 'xml:base', 'xml:lang', 'xml:space']),\n            'image': o(['class', 'externalResourcesRequired', 'height', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'preserveAspectRatio', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'width', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'line': o(['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'x1', 'x2', 'xml:base', 'xml:lang', 'xml:space', 'y1', 'y2']),\n            'linearGradient': o(['class', 'externalResourcesRequired', 'gradientTransform', 'gradientUnits', 'id', 'spreadMethod', 'style', 'x1', 'x2', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y1', 'y2']),\n            'marker': o(['class', 'externalResourcesRequired', 'id', 'markerHeight', 'markerUnits', 'markerWidth', 'orient', 'preserveAspectRatio', 'refX', 'refY', 'style', 'viewBox', 'xml:base', 'xml:lang', 'xml:space']),\n            'mask': o(['class', 'externalResourcesRequired', 'height', 'id', 'maskContentUnits', 'maskUnits', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'metadata': o(['id', 'xml:base', 'xml:lang', 'xml:space']),\n            'missing-glyph': o(['class', 'd', 'horiz-adv-x', 'id', 'style', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'xml:base', 'xml:lang', 'xml:space']),\n            'mpath': o(['externalResourcesRequired', 'id', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'path': o(['class', 'd', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'pathLength', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space']),\n            'pattern': o(['class', 'externalResourcesRequired', 'height', 'id', 'patternContentUnits', 'patternTransform', 'patternUnits', 'preserveAspectRatio', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'viewBox', 'width', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'polygon': o(['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'points', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space']),\n            'polyline': o(['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'points', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space']),\n            'radialGradient': o(['class', 'cx', 'cy', 'externalResourcesRequired', 'fx', 'fy', 'gradientTransform', 'gradientUnits', 'id', 'r', 'spreadMethod', 'style', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'rect': o(['class', 'externalResourcesRequired', 'height', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rx', 'ry', 'style', 'systemLanguage', 'transform', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'script': o(['externalResourcesRequired', 'id', 'type', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'set': o(['attributeName', 'attributeType', 'begin', 'dur', 'end', 'externalResourcesRequired', 'fill', 'id', 'max', 'min', 'onbegin', 'onend', 'onload', 'onrepeat', 'repeatCount', 'repeatDur', 'requiredExtensions', 'requiredFeatures', 'restart', 'systemLanguage', 'to', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'stop': o(['class', 'id', 'offset', 'style', 'xml:base', 'xml:lang', 'xml:space']),\n            'style': o(['id', 'media', 'title', 'type', 'xml:base', 'xml:lang', 'xml:space']),\n            'svg': o(['baseProfile', 'class', 'contentScriptType', 'contentStyleType', 'externalResourcesRequired', 'height', 'id', 'onabort', 'onactivate', 'onclick', 'onerror', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'onresize', 'onscroll', 'onunload', 'onzoom', 'preserveAspectRatio', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'version', 'viewBox', 'width', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y', 'zoomAndPan']),\n            'switch': o(['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'xml:base', 'xml:lang', 'xml:space']),\n            'symbol': o(['class', 'externalResourcesRequired', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'preserveAspectRatio', 'style', 'viewBox', 'xml:base', 'xml:lang', 'xml:space']),\n            'text': o(['class', 'dx', 'dy', 'externalResourcesRequired', 'id', 'lengthAdjust', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rotate', 'style', 'systemLanguage', 'textLength', 'transform', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'textPath': o(['class', 'externalResourcesRequired', 'id', 'lengthAdjust', 'method', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'spacing', 'startOffset', 'style', 'systemLanguage', 'textLength', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space']),\n            'title': o(['class', 'id', 'style', 'xml:base', 'xml:lang', 'xml:space']),\n            'tref': o(['class', 'dx', 'dy', 'externalResourcesRequired', 'id', 'lengthAdjust', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rotate', 'style', 'systemLanguage', 'textLength', 'x', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'tspan': o(['class', 'dx', 'dy', 'externalResourcesRequired', 'id', 'lengthAdjust', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'rotate', 'style', 'systemLanguage', 'textLength', 'x', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'use': o(['class', 'externalResourcesRequired', 'height', 'id', 'onactivate', 'onclick', 'onfocusin', 'onfocusout', 'onload', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'requiredExtensions', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'width', 'x', 'xlink:actuate', 'xlink:arcrole', 'xlink:href', 'xlink:role', 'xlink:show', 'xlink:title', 'xlink:type', 'xml:base', 'xml:lang', 'xml:space', 'y']),\n            'view': o(['externalResourcesRequired', 'id', 'preserveAspectRatio', 'viewBox', 'viewTarget', 'xml:base', 'xml:lang', 'xml:space', 'zoomAndPan']),\n            'vkern': o(['g1', 'g2', 'id', 'k', 'u1', 'u2', 'xml:base', 'xml:lang', 'xml:space']),\n        });\n        this.svgPresentationElements = o([\n            'a',\n            'altGlyph',\n            'animate',\n            'animateColor',\n            'circle',\n            'clipPath',\n            'defs',\n            'ellipse',\n            'feBlend',\n            'feColorMatrix',\n            'feComponentTransfer',\n            'feComposite',\n            'feConvolveMatrix',\n            'feDiffuseLighting',\n            'feDisplacementMap',\n            'feFlood',\n            'feGaussianBlur',\n            'feImage',\n            'feMerge',\n            'feMorphology',\n            'feOffset',\n            'feSpecularLighting',\n            'feTile',\n            'feTurbulence',\n            'filter',\n            'font',\n            'foreignObject',\n            'g',\n            'glyph',\n            'glyphRef',\n            'image',\n            'line',\n            'linearGradient',\n            'marker',\n            'mask',\n            'missing-glyph',\n            'path',\n            'pattern',\n            'polygon',\n            'polyline',\n            'radialGradient',\n            'rect',\n            'stop',\n            'svg',\n            'switch',\n            'symbol',\n            'text',\n            'textPath',\n            'tref',\n            'tspan',\n            'use',\n        ]);\n        this.svgPresentationAttributes = o([\n            'alignment-baseline',\n            'baseline-shift',\n            'clip-path',\n            'clip-rule',\n            'clip',\n            'color-interpolation-filters',\n            'color-interpolation',\n            'color-profile',\n            'color-rendering',\n            'color',\n            'cursor',\n            'direction',\n            'display',\n            'dominant-baseline',\n            'enable-background',\n            'fill-opacity',\n            'fill-rule',\n            'fill',\n            'filter',\n            'flood-color',\n            'flood-opacity',\n            'font-family',\n            'font-size-adjust',\n            'font-size',\n            'font-stretch',\n            'font-style',\n            'font-variant',\n            'font-weight',\n            'glyph-orientation-horizontal',\n            'glyph-orientation-vertical',\n            'image-rendering',\n            'kerning',\n            'letter-spacing',\n            'lighting-color',\n            'marker-end',\n            'marker-mid',\n            'marker-start',\n            'mask',\n            'opacity',\n            'overflow',\n            'pointer-events',\n            'shape-rendering',\n            'stop-color',\n            'stop-opacity',\n            'stroke-dasharray',\n            'stroke-dashoffset',\n            'stroke-linecap',\n            'stroke-linejoin',\n            'stroke-miterlimit',\n            'stroke-opacity',\n            'stroke-width',\n            'stroke',\n            'text-anchor',\n            'text-decoration',\n            'text-rendering',\n            'unicode-bidi',\n            'visibility',\n            'word-spacing',\n            'writing-mode',\n        ]);\n        this.SVGElement = platform.globalThis.SVGElement;\n        const div = platform.document.createElement('div');\n        div.innerHTML = '<svg><altGlyph /></svg>';\n        if (div.firstElementChild.nodeName === 'altglyph') {\n            // handle chrome casing inconsistencies.\n            const svg = this.svgElements;\n            let tmp = svg.altGlyph;\n            svg.altGlyph = svg.altglyph;\n            svg.altglyph = tmp;\n            tmp = svg.altGlyphDef;\n            svg.altGlyphDef = svg.altglyphdef;\n            svg.altglyphdef = tmp;\n            tmp = svg.altGlyphItem;\n            svg.altGlyphItem = svg.altglyphitem;\n            svg.altglyphitem = tmp;\n            tmp = svg.glyphRef;\n            svg.glyphRef = svg.glyphref;\n            svg.glyphref = tmp;\n        }\n    }\n    static register(container) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(ISVGAnalyzer, this).register(container);\n    }\n    isStandardSvgAttribute(node, attributeName) {\n        var _a;\n        if (!(node instanceof this.SVGElement)) {\n            return false;\n        }\n        return (this.svgPresentationElements[node.nodeName] === true && this.svgPresentationAttributes[attributeName] === true ||\n            ((_a = this.svgElements[node.nodeName]) === null || _a === void 0 ? void 0 : _a[attributeName]) === true);\n    }\n}\n/**\n * @internal\n */\nSVGAnalyzer.inject = [_platform_js__WEBPACK_IMPORTED_MODULE_1__.IPlatform];\n//# sourceMappingURL=svg-analyzer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL3N2Zy1hbmFseXplci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vb2JzZXJ2YXRpb24vc3ZnLWFuYWx5emVyLmpzPzU2YzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREksIFJlZ2lzdHJhdGlvbiB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBJUGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS5qcyc7XG5leHBvcnQgY29uc3QgSVNWR0FuYWx5emVyID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJU1ZHQW5hbHl6ZXInLCB4ID0+IHguc2luZ2xldG9uKE5vb3BTVkdBbmFseXplcikpO1xuZXhwb3J0IGNsYXNzIE5vb3BTVkdBbmFseXplciB7XG4gICAgaXNTdGFuZGFyZFN2Z0F0dHJpYnV0ZShub2RlLCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBvKGtleXMpIHtcbiAgICBjb25zdCBsb29rdXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgbG9va3VwW2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gbG9va3VwO1xufVxuZXhwb3J0IGNsYXNzIFNWR0FuYWx5emVyIHtcbiAgICBjb25zdHJ1Y3RvcihwbGF0Zm9ybSkge1xuICAgICAgICB0aGlzLnN2Z0VsZW1lbnRzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCB7XG4gICAgICAgICAgICAnYSc6IG8oWydjbGFzcycsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ29uYWN0aXZhdGUnLCAnb25jbGljaycsICdvbmZvY3VzaW4nLCAnb25mb2N1c291dCcsICdvbmxvYWQnLCAnb25tb3VzZWRvd24nLCAnb25tb3VzZW1vdmUnLCAnb25tb3VzZW91dCcsICdvbm1vdXNlb3ZlcicsICdvbm1vdXNldXAnLCAncmVxdWlyZWRFeHRlbnNpb25zJywgJ3JlcXVpcmVkRmVhdHVyZXMnLCAnc3R5bGUnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndGFyZ2V0JywgJ3RyYW5zZm9ybScsICd4bGluazphY3R1YXRlJywgJ3hsaW5rOmFyY3JvbGUnLCAneGxpbms6aHJlZicsICd4bGluazpyb2xlJywgJ3hsaW5rOnNob3cnLCAneGxpbms6dGl0bGUnLCAneGxpbms6dHlwZScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAnYWx0R2x5cGgnOiBvKFsnY2xhc3MnLCAnZHgnLCAnZHknLCAnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsICdmb3JtYXQnLCAnZ2x5cGhSZWYnLCAnaWQnLCAnb25hY3RpdmF0ZScsICdvbmNsaWNrJywgJ29uZm9jdXNpbicsICdvbmZvY3Vzb3V0JywgJ29ubG9hZCcsICdvbm1vdXNlZG93bicsICdvbm1vdXNlbW92ZScsICdvbm1vdXNlb3V0JywgJ29ubW91c2VvdmVyJywgJ29ubW91c2V1cCcsICdyZXF1aXJlZEV4dGVuc2lvbnMnLCAncmVxdWlyZWRGZWF0dXJlcycsICdyb3RhdGUnLCAnc3R5bGUnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAneCcsICd4bGluazphY3R1YXRlJywgJ3hsaW5rOmFyY3JvbGUnLCAneGxpbms6aHJlZicsICd4bGluazpyb2xlJywgJ3hsaW5rOnNob3cnLCAneGxpbms6dGl0bGUnLCAneGxpbms6dHlwZScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnLCAneSddKSxcbiAgICAgICAgICAgICdhbHRnbHlwaCc6IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgICAgICAnYWx0R2x5cGhEZWYnOiBvKFsnaWQnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2FsdGdseXBoZGVmJzogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgICAgICAgICdhbHRHbHlwaEl0ZW0nOiBvKFsnaWQnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2FsdGdseXBoaXRlbSc6IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgICAgICAnYW5pbWF0ZSc6IG8oWydhY2N1bXVsYXRlJywgJ2FkZGl0aXZlJywgJ2F0dHJpYnV0ZU5hbWUnLCAnYXR0cmlidXRlVHlwZScsICdiZWdpbicsICdieScsICdjYWxjTW9kZScsICdkdXInLCAnZW5kJywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnZmlsbCcsICdmcm9tJywgJ2lkJywgJ2tleVNwbGluZXMnLCAna2V5VGltZXMnLCAnbWF4JywgJ21pbicsICdvbmJlZ2luJywgJ29uZW5kJywgJ29ubG9hZCcsICdvbnJlcGVhdCcsICdyZXBlYXRDb3VudCcsICdyZXBlYXREdXInLCAncmVxdWlyZWRFeHRlbnNpb25zJywgJ3JlcXVpcmVkRmVhdHVyZXMnLCAncmVzdGFydCcsICdzeXN0ZW1MYW5ndWFnZScsICd0bycsICd2YWx1ZXMnLCAneGxpbms6YWN0dWF0ZScsICd4bGluazphcmNyb2xlJywgJ3hsaW5rOmhyZWYnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2FuaW1hdGVDb2xvcic6IG8oWydhY2N1bXVsYXRlJywgJ2FkZGl0aXZlJywgJ2F0dHJpYnV0ZU5hbWUnLCAnYXR0cmlidXRlVHlwZScsICdiZWdpbicsICdieScsICdjYWxjTW9kZScsICdkdXInLCAnZW5kJywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnZmlsbCcsICdmcm9tJywgJ2lkJywgJ2tleVNwbGluZXMnLCAna2V5VGltZXMnLCAnbWF4JywgJ21pbicsICdvbmJlZ2luJywgJ29uZW5kJywgJ29ubG9hZCcsICdvbnJlcGVhdCcsICdyZXBlYXRDb3VudCcsICdyZXBlYXREdXInLCAncmVxdWlyZWRFeHRlbnNpb25zJywgJ3JlcXVpcmVkRmVhdHVyZXMnLCAncmVzdGFydCcsICdzeXN0ZW1MYW5ndWFnZScsICd0bycsICd2YWx1ZXMnLCAneGxpbms6YWN0dWF0ZScsICd4bGluazphcmNyb2xlJywgJ3hsaW5rOmhyZWYnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2FuaW1hdGVNb3Rpb24nOiBvKFsnYWNjdW11bGF0ZScsICdhZGRpdGl2ZScsICdiZWdpbicsICdieScsICdjYWxjTW9kZScsICdkdXInLCAnZW5kJywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnZmlsbCcsICdmcm9tJywgJ2lkJywgJ2tleVBvaW50cycsICdrZXlTcGxpbmVzJywgJ2tleVRpbWVzJywgJ21heCcsICdtaW4nLCAnb25iZWdpbicsICdvbmVuZCcsICdvbmxvYWQnLCAnb25yZXBlYXQnLCAnb3JpZ2luJywgJ3BhdGgnLCAncmVwZWF0Q291bnQnLCAncmVwZWF0RHVyJywgJ3JlcXVpcmVkRXh0ZW5zaW9ucycsICdyZXF1aXJlZEZlYXR1cmVzJywgJ3Jlc3RhcnQnLCAncm90YXRlJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3RvJywgJ3ZhbHVlcycsICd4bGluazphY3R1YXRlJywgJ3hsaW5rOmFyY3JvbGUnLCAneGxpbms6aHJlZicsICd4bGluazpyb2xlJywgJ3hsaW5rOnNob3cnLCAneGxpbms6dGl0bGUnLCAneGxpbms6dHlwZScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAnYW5pbWF0ZVRyYW5zZm9ybSc6IG8oWydhY2N1bXVsYXRlJywgJ2FkZGl0aXZlJywgJ2F0dHJpYnV0ZU5hbWUnLCAnYXR0cmlidXRlVHlwZScsICdiZWdpbicsICdieScsICdjYWxjTW9kZScsICdkdXInLCAnZW5kJywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnZmlsbCcsICdmcm9tJywgJ2lkJywgJ2tleVNwbGluZXMnLCAna2V5VGltZXMnLCAnbWF4JywgJ21pbicsICdvbmJlZ2luJywgJ29uZW5kJywgJ29ubG9hZCcsICdvbnJlcGVhdCcsICdyZXBlYXRDb3VudCcsICdyZXBlYXREdXInLCAncmVxdWlyZWRFeHRlbnNpb25zJywgJ3JlcXVpcmVkRmVhdHVyZXMnLCAncmVzdGFydCcsICdzeXN0ZW1MYW5ndWFnZScsICd0bycsICd0eXBlJywgJ3ZhbHVlcycsICd4bGluazphY3R1YXRlJywgJ3hsaW5rOmFyY3JvbGUnLCAneGxpbms6aHJlZicsICd4bGluazpyb2xlJywgJ3hsaW5rOnNob3cnLCAneGxpbms6dGl0bGUnLCAneGxpbms6dHlwZScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAnY2lyY2xlJzogbyhbJ2NsYXNzJywgJ2N4JywgJ2N5JywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnaWQnLCAnb25hY3RpdmF0ZScsICdvbmNsaWNrJywgJ29uZm9jdXNpbicsICdvbmZvY3Vzb3V0JywgJ29ubG9hZCcsICdvbm1vdXNlZG93bicsICdvbm1vdXNlbW92ZScsICdvbm1vdXNlb3V0JywgJ29ubW91c2VvdmVyJywgJ29ubW91c2V1cCcsICdyJywgJ3JlcXVpcmVkRXh0ZW5zaW9ucycsICdyZXF1aXJlZEZlYXR1cmVzJywgJ3N0eWxlJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3RyYW5zZm9ybScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAnY2xpcFBhdGgnOiBvKFsnY2xhc3MnLCAnY2xpcFBhdGhVbml0cycsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ3JlcXVpcmVkRXh0ZW5zaW9ucycsICdyZXF1aXJlZEZlYXR1cmVzJywgJ3N0eWxlJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3RyYW5zZm9ybScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAnY29sb3ItcHJvZmlsZSc6IG8oWydpZCcsICdsb2NhbCcsICduYW1lJywgJ3JlbmRlcmluZy1pbnRlbnQnLCAneGxpbms6YWN0dWF0ZScsICd4bGluazphcmNyb2xlJywgJ3hsaW5rOmhyZWYnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2N1cnNvcic6IG8oWydleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ3JlcXVpcmVkRXh0ZW5zaW9ucycsICdyZXF1aXJlZEZlYXR1cmVzJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3gnLCAneGxpbms6YWN0dWF0ZScsICd4bGluazphcmNyb2xlJywgJ3hsaW5rOmhyZWYnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJywgJ3knXSksXG4gICAgICAgICAgICAnZGVmcyc6IG8oWydjbGFzcycsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ29uYWN0aXZhdGUnLCAnb25jbGljaycsICdvbmZvY3VzaW4nLCAnb25mb2N1c291dCcsICdvbmxvYWQnLCAnb25tb3VzZWRvd24nLCAnb25tb3VzZW1vdmUnLCAnb25tb3VzZW91dCcsICdvbm1vdXNlb3ZlcicsICdvbm1vdXNldXAnLCAncmVxdWlyZWRFeHRlbnNpb25zJywgJ3JlcXVpcmVkRmVhdHVyZXMnLCAnc3R5bGUnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndHJhbnNmb3JtJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddKSxcbiAgICAgICAgICAgICdkZXNjJzogbyhbJ2NsYXNzJywgJ2lkJywgJ3N0eWxlJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddKSxcbiAgICAgICAgICAgICdlbGxpcHNlJzogbyhbJ2NsYXNzJywgJ2N4JywgJ2N5JywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnaWQnLCAnb25hY3RpdmF0ZScsICdvbmNsaWNrJywgJ29uZm9jdXNpbicsICdvbmZvY3Vzb3V0JywgJ29ubG9hZCcsICdvbm1vdXNlZG93bicsICdvbm1vdXNlbW92ZScsICdvbm1vdXNlb3V0JywgJ29ubW91c2VvdmVyJywgJ29ubW91c2V1cCcsICdyZXF1aXJlZEV4dGVuc2lvbnMnLCAncmVxdWlyZWRGZWF0dXJlcycsICdyeCcsICdyeScsICdzdHlsZScsICdzeXN0ZW1MYW5ndWFnZScsICd0cmFuc2Zvcm0nLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2ZlQmxlbmQnOiBvKFsnY2xhc3MnLCAnaGVpZ2h0JywgJ2lkJywgJ2luJywgJ2luMicsICdtb2RlJywgJ3Jlc3VsdCcsICdzdHlsZScsICd3aWR0aCcsICd4JywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5J10pLFxuICAgICAgICAgICAgJ2ZlQ29sb3JNYXRyaXgnOiBvKFsnY2xhc3MnLCAnaGVpZ2h0JywgJ2lkJywgJ2luJywgJ3Jlc3VsdCcsICdzdHlsZScsICd0eXBlJywgJ3ZhbHVlcycsICd3aWR0aCcsICd4JywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5J10pLFxuICAgICAgICAgICAgJ2ZlQ29tcG9uZW50VHJhbnNmZXInOiBvKFsnY2xhc3MnLCAnaGVpZ2h0JywgJ2lkJywgJ2luJywgJ3Jlc3VsdCcsICdzdHlsZScsICd3aWR0aCcsICd4JywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5J10pLFxuICAgICAgICAgICAgJ2ZlQ29tcG9zaXRlJzogbyhbJ2NsYXNzJywgJ2hlaWdodCcsICdpZCcsICdpbicsICdpbjInLCAnazEnLCAnazInLCAnazMnLCAnazQnLCAnb3BlcmF0b3InLCAncmVzdWx0JywgJ3N0eWxlJywgJ3dpZHRoJywgJ3gnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJywgJ3knXSksXG4gICAgICAgICAgICAnZmVDb252b2x2ZU1hdHJpeCc6IG8oWydiaWFzJywgJ2NsYXNzJywgJ2Rpdmlzb3InLCAnZWRnZU1vZGUnLCAnaGVpZ2h0JywgJ2lkJywgJ2luJywgJ2tlcm5lbE1hdHJpeCcsICdrZXJuZWxVbml0TGVuZ3RoJywgJ29yZGVyJywgJ3ByZXNlcnZlQWxwaGEnLCAncmVzdWx0JywgJ3N0eWxlJywgJ3RhcmdldFgnLCAndGFyZ2V0WScsICd3aWR0aCcsICd4JywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5J10pLFxuICAgICAgICAgICAgJ2ZlRGlmZnVzZUxpZ2h0aW5nJzogbyhbJ2NsYXNzJywgJ2RpZmZ1c2VDb25zdGFudCcsICdoZWlnaHQnLCAnaWQnLCAnaW4nLCAna2VybmVsVW5pdExlbmd0aCcsICdyZXN1bHQnLCAnc3R5bGUnLCAnc3VyZmFjZVNjYWxlJywgJ3dpZHRoJywgJ3gnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJywgJ3knXSksXG4gICAgICAgICAgICAnZmVEaXNwbGFjZW1lbnRNYXAnOiBvKFsnY2xhc3MnLCAnaGVpZ2h0JywgJ2lkJywgJ2luJywgJ2luMicsICdyZXN1bHQnLCAnc2NhbGUnLCAnc3R5bGUnLCAnd2lkdGgnLCAneCcsICd4Q2hhbm5lbFNlbGVjdG9yJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5JywgJ3lDaGFubmVsU2VsZWN0b3InXSksXG4gICAgICAgICAgICAnZmVEaXN0YW50TGlnaHQnOiBvKFsnYXppbXV0aCcsICdlbGV2YXRpb24nLCAnaWQnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2ZlRmxvb2QnOiBvKFsnY2xhc3MnLCAnaGVpZ2h0JywgJ2lkJywgJ3Jlc3VsdCcsICdzdHlsZScsICd3aWR0aCcsICd4JywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5J10pLFxuICAgICAgICAgICAgJ2ZlRnVuY0EnOiBvKFsnYW1wbGl0dWRlJywgJ2V4cG9uZW50JywgJ2lkJywgJ2ludGVyY2VwdCcsICdvZmZzZXQnLCAnc2xvcGUnLCAndGFibGVWYWx1ZXMnLCAndHlwZScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAnZmVGdW5jQic6IG8oWydhbXBsaXR1ZGUnLCAnZXhwb25lbnQnLCAnaWQnLCAnaW50ZXJjZXB0JywgJ29mZnNldCcsICdzbG9wZScsICd0YWJsZVZhbHVlcycsICd0eXBlJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddKSxcbiAgICAgICAgICAgICdmZUZ1bmNHJzogbyhbJ2FtcGxpdHVkZScsICdleHBvbmVudCcsICdpZCcsICdpbnRlcmNlcHQnLCAnb2Zmc2V0JywgJ3Nsb3BlJywgJ3RhYmxlVmFsdWVzJywgJ3R5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2ZlRnVuY1InOiBvKFsnYW1wbGl0dWRlJywgJ2V4cG9uZW50JywgJ2lkJywgJ2ludGVyY2VwdCcsICdvZmZzZXQnLCAnc2xvcGUnLCAndGFibGVWYWx1ZXMnLCAndHlwZScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAnZmVHYXVzc2lhbkJsdXInOiBvKFsnY2xhc3MnLCAnaGVpZ2h0JywgJ2lkJywgJ2luJywgJ3Jlc3VsdCcsICdzdGREZXZpYXRpb24nLCAnc3R5bGUnLCAnd2lkdGgnLCAneCcsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnLCAneSddKSxcbiAgICAgICAgICAgICdmZUltYWdlJzogbyhbJ2NsYXNzJywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnaGVpZ2h0JywgJ2lkJywgJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCAncmVzdWx0JywgJ3N0eWxlJywgJ3dpZHRoJywgJ3gnLCAneGxpbms6YWN0dWF0ZScsICd4bGluazphcmNyb2xlJywgJ3hsaW5rOmhyZWYnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJywgJ3knXSksXG4gICAgICAgICAgICAnZmVNZXJnZSc6IG8oWydjbGFzcycsICdoZWlnaHQnLCAnaWQnLCAncmVzdWx0JywgJ3N0eWxlJywgJ3dpZHRoJywgJ3gnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJywgJ3knXSksXG4gICAgICAgICAgICAnZmVNZXJnZU5vZGUnOiBvKFsnaWQnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2ZlTW9ycGhvbG9neSc6IG8oWydjbGFzcycsICdoZWlnaHQnLCAnaWQnLCAnaW4nLCAnb3BlcmF0b3InLCAncmFkaXVzJywgJ3Jlc3VsdCcsICdzdHlsZScsICd3aWR0aCcsICd4JywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5J10pLFxuICAgICAgICAgICAgJ2ZlT2Zmc2V0JzogbyhbJ2NsYXNzJywgJ2R4JywgJ2R5JywgJ2hlaWdodCcsICdpZCcsICdpbicsICdyZXN1bHQnLCAnc3R5bGUnLCAnd2lkdGgnLCAneCcsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnLCAneSddKSxcbiAgICAgICAgICAgICdmZVBvaW50TGlnaHQnOiBvKFsnaWQnLCAneCcsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnLCAneScsICd6J10pLFxuICAgICAgICAgICAgJ2ZlU3BlY3VsYXJMaWdodGluZyc6IG8oWydjbGFzcycsICdoZWlnaHQnLCAnaWQnLCAnaW4nLCAna2VybmVsVW5pdExlbmd0aCcsICdyZXN1bHQnLCAnc3BlY3VsYXJDb25zdGFudCcsICdzcGVjdWxhckV4cG9uZW50JywgJ3N0eWxlJywgJ3N1cmZhY2VTY2FsZScsICd3aWR0aCcsICd4JywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5J10pLFxuICAgICAgICAgICAgJ2ZlU3BvdExpZ2h0JzogbyhbJ2lkJywgJ2xpbWl0aW5nQ29uZUFuZ2xlJywgJ3BvaW50c0F0WCcsICdwb2ludHNBdFknLCAncG9pbnRzQXRaJywgJ3NwZWN1bGFyRXhwb25lbnQnLCAneCcsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnLCAneScsICd6J10pLFxuICAgICAgICAgICAgJ2ZlVGlsZSc6IG8oWydjbGFzcycsICdoZWlnaHQnLCAnaWQnLCAnaW4nLCAncmVzdWx0JywgJ3N0eWxlJywgJ3dpZHRoJywgJ3gnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJywgJ3knXSksXG4gICAgICAgICAgICAnZmVUdXJidWxlbmNlJzogbyhbJ2Jhc2VGcmVxdWVuY3knLCAnY2xhc3MnLCAnaGVpZ2h0JywgJ2lkJywgJ251bU9jdGF2ZXMnLCAncmVzdWx0JywgJ3NlZWQnLCAnc3RpdGNoVGlsZXMnLCAnc3R5bGUnLCAndHlwZScsICd3aWR0aCcsICd4JywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5J10pLFxuICAgICAgICAgICAgJ2ZpbHRlcic6IG8oWydjbGFzcycsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2ZpbHRlclJlcycsICdmaWx0ZXJVbml0cycsICdoZWlnaHQnLCAnaWQnLCAncHJpbWl0aXZlVW5pdHMnLCAnc3R5bGUnLCAnd2lkdGgnLCAneCcsICd4bGluazphY3R1YXRlJywgJ3hsaW5rOmFyY3JvbGUnLCAneGxpbms6aHJlZicsICd4bGluazpyb2xlJywgJ3hsaW5rOnNob3cnLCAneGxpbms6dGl0bGUnLCAneGxpbms6dHlwZScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnLCAneSddKSxcbiAgICAgICAgICAgICdmb250JzogbyhbJ2NsYXNzJywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnaG9yaXotYWR2LXgnLCAnaG9yaXotb3JpZ2luLXgnLCAnaG9yaXotb3JpZ2luLXknLCAnaWQnLCAnc3R5bGUnLCAndmVydC1hZHYteScsICd2ZXJ0LW9yaWdpbi14JywgJ3ZlcnQtb3JpZ2luLXknLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2ZvbnQtZmFjZSc6IG8oWydhY2NlbnQtaGVpZ2h0JywgJ2FscGhhYmV0aWMnLCAnYXNjZW50JywgJ2Jib3gnLCAnY2FwLWhlaWdodCcsICdkZXNjZW50JywgJ2ZvbnQtZmFtaWx5JywgJ2ZvbnQtc2l6ZScsICdmb250LXN0cmV0Y2gnLCAnZm9udC1zdHlsZScsICdmb250LXZhcmlhbnQnLCAnZm9udC13ZWlnaHQnLCAnaGFuZ2luZycsICdpZCcsICdpZGVvZ3JhcGhpYycsICdtYXRoZW1hdGljYWwnLCAnb3ZlcmxpbmUtcG9zaXRpb24nLCAnb3ZlcmxpbmUtdGhpY2tuZXNzJywgJ3Bhbm9zZS0xJywgJ3Nsb3BlJywgJ3N0ZW1oJywgJ3N0ZW12JywgJ3N0cmlrZXRocm91Z2gtcG9zaXRpb24nLCAnc3RyaWtldGhyb3VnaC10aGlja25lc3MnLCAndW5kZXJsaW5lLXBvc2l0aW9uJywgJ3VuZGVybGluZS10aGlja25lc3MnLCAndW5pY29kZS1yYW5nZScsICd1bml0cy1wZXItZW0nLCAndi1hbHBoYWJldGljJywgJ3YtaGFuZ2luZycsICd2LWlkZW9ncmFwaGljJywgJ3YtbWF0aGVtYXRpY2FsJywgJ3dpZHRocycsICd4LWhlaWdodCcsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAnZm9udC1mYWNlLWZvcm1hdCc6IG8oWydpZCcsICdzdHJpbmcnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2ZvbnQtZmFjZS1uYW1lJzogbyhbJ2lkJywgJ25hbWUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2ZvbnQtZmFjZS1zcmMnOiBvKFsnaWQnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2ZvbnQtZmFjZS11cmknOiBvKFsnaWQnLCAneGxpbms6YWN0dWF0ZScsICd4bGluazphcmNyb2xlJywgJ3hsaW5rOmhyZWYnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2ZvcmVpZ25PYmplY3QnOiBvKFsnY2xhc3MnLCAnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsICdoZWlnaHQnLCAnaWQnLCAnb25hY3RpdmF0ZScsICdvbmNsaWNrJywgJ29uZm9jdXNpbicsICdvbmZvY3Vzb3V0JywgJ29ubG9hZCcsICdvbm1vdXNlZG93bicsICdvbm1vdXNlbW92ZScsICdvbm1vdXNlb3V0JywgJ29ubW91c2VvdmVyJywgJ29ubW91c2V1cCcsICdyZXF1aXJlZEV4dGVuc2lvbnMnLCAncmVxdWlyZWRGZWF0dXJlcycsICdzdHlsZScsICdzeXN0ZW1MYW5ndWFnZScsICd0cmFuc2Zvcm0nLCAnd2lkdGgnLCAneCcsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnLCAneSddKSxcbiAgICAgICAgICAgICdnJzogbyhbJ2NsYXNzJywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnaWQnLCAnb25hY3RpdmF0ZScsICdvbmNsaWNrJywgJ29uZm9jdXNpbicsICdvbmZvY3Vzb3V0JywgJ29ubG9hZCcsICdvbm1vdXNlZG93bicsICdvbm1vdXNlbW92ZScsICdvbm1vdXNlb3V0JywgJ29ubW91c2VvdmVyJywgJ29ubW91c2V1cCcsICdyZXF1aXJlZEV4dGVuc2lvbnMnLCAncmVxdWlyZWRGZWF0dXJlcycsICdzdHlsZScsICdzeXN0ZW1MYW5ndWFnZScsICd0cmFuc2Zvcm0nLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2dseXBoJzogbyhbJ2FyYWJpYy1mb3JtJywgJ2NsYXNzJywgJ2QnLCAnZ2x5cGgtbmFtZScsICdob3Jpei1hZHYteCcsICdpZCcsICdsYW5nJywgJ29yaWVudGF0aW9uJywgJ3N0eWxlJywgJ3VuaWNvZGUnLCAndmVydC1hZHYteScsICd2ZXJ0LW9yaWdpbi14JywgJ3ZlcnQtb3JpZ2luLXknLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ2dseXBoUmVmJzogbyhbJ2NsYXNzJywgJ2R4JywgJ2R5JywgJ2Zvcm1hdCcsICdnbHlwaFJlZicsICdpZCcsICdzdHlsZScsICd4JywgJ3hsaW5rOmFjdHVhdGUnLCAneGxpbms6YXJjcm9sZScsICd4bGluazpocmVmJywgJ3hsaW5rOnJvbGUnLCAneGxpbms6c2hvdycsICd4bGluazp0aXRsZScsICd4bGluazp0eXBlJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5J10pLFxuICAgICAgICAgICAgJ2dseXBocmVmJzogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgICAgICAgICdoa2Vybic6IG8oWydnMScsICdnMicsICdpZCcsICdrJywgJ3UxJywgJ3UyJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddKSxcbiAgICAgICAgICAgICdpbWFnZSc6IG8oWydjbGFzcycsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2hlaWdodCcsICdpZCcsICdvbmFjdGl2YXRlJywgJ29uY2xpY2snLCAnb25mb2N1c2luJywgJ29uZm9jdXNvdXQnLCAnb25sb2FkJywgJ29ubW91c2Vkb3duJywgJ29ubW91c2Vtb3ZlJywgJ29ubW91c2VvdXQnLCAnb25tb3VzZW92ZXInLCAnb25tb3VzZXVwJywgJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCAncmVxdWlyZWRFeHRlbnNpb25zJywgJ3JlcXVpcmVkRmVhdHVyZXMnLCAnc3R5bGUnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndHJhbnNmb3JtJywgJ3dpZHRoJywgJ3gnLCAneGxpbms6YWN0dWF0ZScsICd4bGluazphcmNyb2xlJywgJ3hsaW5rOmhyZWYnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJywgJ3knXSksXG4gICAgICAgICAgICAnbGluZSc6IG8oWydjbGFzcycsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ29uYWN0aXZhdGUnLCAnb25jbGljaycsICdvbmZvY3VzaW4nLCAnb25mb2N1c291dCcsICdvbmxvYWQnLCAnb25tb3VzZWRvd24nLCAnb25tb3VzZW1vdmUnLCAnb25tb3VzZW91dCcsICdvbm1vdXNlb3ZlcicsICdvbm1vdXNldXAnLCAncmVxdWlyZWRFeHRlbnNpb25zJywgJ3JlcXVpcmVkRmVhdHVyZXMnLCAnc3R5bGUnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndHJhbnNmb3JtJywgJ3gxJywgJ3gyJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5MScsICd5MiddKSxcbiAgICAgICAgICAgICdsaW5lYXJHcmFkaWVudCc6IG8oWydjbGFzcycsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2dyYWRpZW50VHJhbnNmb3JtJywgJ2dyYWRpZW50VW5pdHMnLCAnaWQnLCAnc3ByZWFkTWV0aG9kJywgJ3N0eWxlJywgJ3gxJywgJ3gyJywgJ3hsaW5rOmFyY3JvbGUnLCAneGxpbms6aHJlZicsICd4bGluazpyb2xlJywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJywgJ3kxJywgJ3kyJ10pLFxuICAgICAgICAgICAgJ21hcmtlcic6IG8oWydjbGFzcycsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ21hcmtlckhlaWdodCcsICdtYXJrZXJVbml0cycsICdtYXJrZXJXaWR0aCcsICdvcmllbnQnLCAncHJlc2VydmVBc3BlY3RSYXRpbycsICdyZWZYJywgJ3JlZlknLCAnc3R5bGUnLCAndmlld0JveCcsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAnbWFzayc6IG8oWydjbGFzcycsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2hlaWdodCcsICdpZCcsICdtYXNrQ29udGVudFVuaXRzJywgJ21hc2tVbml0cycsICdyZXF1aXJlZEV4dGVuc2lvbnMnLCAncmVxdWlyZWRGZWF0dXJlcycsICdzdHlsZScsICdzeXN0ZW1MYW5ndWFnZScsICd3aWR0aCcsICd4JywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5J10pLFxuICAgICAgICAgICAgJ21ldGFkYXRhJzogbyhbJ2lkJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddKSxcbiAgICAgICAgICAgICdtaXNzaW5nLWdseXBoJzogbyhbJ2NsYXNzJywgJ2QnLCAnaG9yaXotYWR2LXgnLCAnaWQnLCAnc3R5bGUnLCAndmVydC1hZHYteScsICd2ZXJ0LW9yaWdpbi14JywgJ3ZlcnQtb3JpZ2luLXknLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ21wYXRoJzogbyhbJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnaWQnLCAneGxpbms6YWN0dWF0ZScsICd4bGluazphcmNyb2xlJywgJ3hsaW5rOmhyZWYnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ3BhdGgnOiBvKFsnY2xhc3MnLCAnZCcsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ29uYWN0aXZhdGUnLCAnb25jbGljaycsICdvbmZvY3VzaW4nLCAnb25mb2N1c291dCcsICdvbmxvYWQnLCAnb25tb3VzZWRvd24nLCAnb25tb3VzZW1vdmUnLCAnb25tb3VzZW91dCcsICdvbm1vdXNlb3ZlcicsICdvbm1vdXNldXAnLCAncGF0aExlbmd0aCcsICdyZXF1aXJlZEV4dGVuc2lvbnMnLCAncmVxdWlyZWRGZWF0dXJlcycsICdzdHlsZScsICdzeXN0ZW1MYW5ndWFnZScsICd0cmFuc2Zvcm0nLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ3BhdHRlcm4nOiBvKFsnY2xhc3MnLCAnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsICdoZWlnaHQnLCAnaWQnLCAncGF0dGVybkNvbnRlbnRVbml0cycsICdwYXR0ZXJuVHJhbnNmb3JtJywgJ3BhdHRlcm5Vbml0cycsICdwcmVzZXJ2ZUFzcGVjdFJhdGlvJywgJ3JlcXVpcmVkRXh0ZW5zaW9ucycsICdyZXF1aXJlZEZlYXR1cmVzJywgJ3N0eWxlJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3ZpZXdCb3gnLCAnd2lkdGgnLCAneCcsICd4bGluazphY3R1YXRlJywgJ3hsaW5rOmFyY3JvbGUnLCAneGxpbms6aHJlZicsICd4bGluazpyb2xlJywgJ3hsaW5rOnNob3cnLCAneGxpbms6dGl0bGUnLCAneGxpbms6dHlwZScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnLCAneSddKSxcbiAgICAgICAgICAgICdwb2x5Z29uJzogbyhbJ2NsYXNzJywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnaWQnLCAnb25hY3RpdmF0ZScsICdvbmNsaWNrJywgJ29uZm9jdXNpbicsICdvbmZvY3Vzb3V0JywgJ29ubG9hZCcsICdvbm1vdXNlZG93bicsICdvbm1vdXNlbW92ZScsICdvbm1vdXNlb3V0JywgJ29ubW91c2VvdmVyJywgJ29ubW91c2V1cCcsICdwb2ludHMnLCAncmVxdWlyZWRFeHRlbnNpb25zJywgJ3JlcXVpcmVkRmVhdHVyZXMnLCAnc3R5bGUnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndHJhbnNmb3JtJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddKSxcbiAgICAgICAgICAgICdwb2x5bGluZSc6IG8oWydjbGFzcycsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ29uYWN0aXZhdGUnLCAnb25jbGljaycsICdvbmZvY3VzaW4nLCAnb25mb2N1c291dCcsICdvbmxvYWQnLCAnb25tb3VzZWRvd24nLCAnb25tb3VzZW1vdmUnLCAnb25tb3VzZW91dCcsICdvbm1vdXNlb3ZlcicsICdvbm1vdXNldXAnLCAncG9pbnRzJywgJ3JlcXVpcmVkRXh0ZW5zaW9ucycsICdyZXF1aXJlZEZlYXR1cmVzJywgJ3N0eWxlJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3RyYW5zZm9ybScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAncmFkaWFsR3JhZGllbnQnOiBvKFsnY2xhc3MnLCAnY3gnLCAnY3knLCAnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsICdmeCcsICdmeScsICdncmFkaWVudFRyYW5zZm9ybScsICdncmFkaWVudFVuaXRzJywgJ2lkJywgJ3InLCAnc3ByZWFkTWV0aG9kJywgJ3N0eWxlJywgJ3hsaW5rOmFyY3JvbGUnLCAneGxpbms6aHJlZicsICd4bGluazpyb2xlJywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ3JlY3QnOiBvKFsnY2xhc3MnLCAnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsICdoZWlnaHQnLCAnaWQnLCAnb25hY3RpdmF0ZScsICdvbmNsaWNrJywgJ29uZm9jdXNpbicsICdvbmZvY3Vzb3V0JywgJ29ubG9hZCcsICdvbm1vdXNlZG93bicsICdvbm1vdXNlbW92ZScsICdvbm1vdXNlb3V0JywgJ29ubW91c2VvdmVyJywgJ29ubW91c2V1cCcsICdyZXF1aXJlZEV4dGVuc2lvbnMnLCAncmVxdWlyZWRGZWF0dXJlcycsICdyeCcsICdyeScsICdzdHlsZScsICdzeXN0ZW1MYW5ndWFnZScsICd0cmFuc2Zvcm0nLCAnd2lkdGgnLCAneCcsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnLCAneSddKSxcbiAgICAgICAgICAgICdzY3JpcHQnOiBvKFsnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsICdpZCcsICd0eXBlJywgJ3hsaW5rOmFjdHVhdGUnLCAneGxpbms6YXJjcm9sZScsICd4bGluazpocmVmJywgJ3hsaW5rOnJvbGUnLCAneGxpbms6c2hvdycsICd4bGluazp0aXRsZScsICd4bGluazp0eXBlJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddKSxcbiAgICAgICAgICAgICdzZXQnOiBvKFsnYXR0cmlidXRlTmFtZScsICdhdHRyaWJ1dGVUeXBlJywgJ2JlZ2luJywgJ2R1cicsICdlbmQnLCAnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsICdmaWxsJywgJ2lkJywgJ21heCcsICdtaW4nLCAnb25iZWdpbicsICdvbmVuZCcsICdvbmxvYWQnLCAnb25yZXBlYXQnLCAncmVwZWF0Q291bnQnLCAncmVwZWF0RHVyJywgJ3JlcXVpcmVkRXh0ZW5zaW9ucycsICdyZXF1aXJlZEZlYXR1cmVzJywgJ3Jlc3RhcnQnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndG8nLCAneGxpbms6YWN0dWF0ZScsICd4bGluazphcmNyb2xlJywgJ3hsaW5rOmhyZWYnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICAgICAgJ3N0b3AnOiBvKFsnY2xhc3MnLCAnaWQnLCAnb2Zmc2V0JywgJ3N0eWxlJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddKSxcbiAgICAgICAgICAgICdzdHlsZSc6IG8oWydpZCcsICdtZWRpYScsICd0aXRsZScsICd0eXBlJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddKSxcbiAgICAgICAgICAgICdzdmcnOiBvKFsnYmFzZVByb2ZpbGUnLCAnY2xhc3MnLCAnY29udGVudFNjcmlwdFR5cGUnLCAnY29udGVudFN0eWxlVHlwZScsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2hlaWdodCcsICdpZCcsICdvbmFib3J0JywgJ29uYWN0aXZhdGUnLCAnb25jbGljaycsICdvbmVycm9yJywgJ29uZm9jdXNpbicsICdvbmZvY3Vzb3V0JywgJ29ubG9hZCcsICdvbm1vdXNlZG93bicsICdvbm1vdXNlbW92ZScsICdvbm1vdXNlb3V0JywgJ29ubW91c2VvdmVyJywgJ29ubW91c2V1cCcsICdvbnJlc2l6ZScsICdvbnNjcm9sbCcsICdvbnVubG9hZCcsICdvbnpvb20nLCAncHJlc2VydmVBc3BlY3RSYXRpbycsICdyZXF1aXJlZEV4dGVuc2lvbnMnLCAncmVxdWlyZWRGZWF0dXJlcycsICdzdHlsZScsICdzeXN0ZW1MYW5ndWFnZScsICd2ZXJzaW9uJywgJ3ZpZXdCb3gnLCAnd2lkdGgnLCAneCcsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnLCAneScsICd6b29tQW5kUGFuJ10pLFxuICAgICAgICAgICAgJ3N3aXRjaCc6IG8oWydjbGFzcycsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ29uYWN0aXZhdGUnLCAnb25jbGljaycsICdvbmZvY3VzaW4nLCAnb25mb2N1c291dCcsICdvbmxvYWQnLCAnb25tb3VzZWRvd24nLCAnb25tb3VzZW1vdmUnLCAnb25tb3VzZW91dCcsICdvbm1vdXNlb3ZlcicsICdvbm1vdXNldXAnLCAncmVxdWlyZWRFeHRlbnNpb25zJywgJ3JlcXVpcmVkRmVhdHVyZXMnLCAnc3R5bGUnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndHJhbnNmb3JtJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddKSxcbiAgICAgICAgICAgICdzeW1ib2wnOiBvKFsnY2xhc3MnLCAnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsICdpZCcsICdvbmFjdGl2YXRlJywgJ29uY2xpY2snLCAnb25mb2N1c2luJywgJ29uZm9jdXNvdXQnLCAnb25sb2FkJywgJ29ubW91c2Vkb3duJywgJ29ubW91c2Vtb3ZlJywgJ29ubW91c2VvdXQnLCAnb25tb3VzZW92ZXInLCAnb25tb3VzZXVwJywgJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCAnc3R5bGUnLCAndmlld0JveCcsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAndGV4dCc6IG8oWydjbGFzcycsICdkeCcsICdkeScsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ2xlbmd0aEFkanVzdCcsICdvbmFjdGl2YXRlJywgJ29uY2xpY2snLCAnb25mb2N1c2luJywgJ29uZm9jdXNvdXQnLCAnb25sb2FkJywgJ29ubW91c2Vkb3duJywgJ29ubW91c2Vtb3ZlJywgJ29ubW91c2VvdXQnLCAnb25tb3VzZW92ZXInLCAnb25tb3VzZXVwJywgJ3JlcXVpcmVkRXh0ZW5zaW9ucycsICdyZXF1aXJlZEZlYXR1cmVzJywgJ3JvdGF0ZScsICdzdHlsZScsICdzeXN0ZW1MYW5ndWFnZScsICd0ZXh0TGVuZ3RoJywgJ3RyYW5zZm9ybScsICd4JywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd5J10pLFxuICAgICAgICAgICAgJ3RleHRQYXRoJzogbyhbJ2NsYXNzJywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnaWQnLCAnbGVuZ3RoQWRqdXN0JywgJ21ldGhvZCcsICdvbmFjdGl2YXRlJywgJ29uY2xpY2snLCAnb25mb2N1c2luJywgJ29uZm9jdXNvdXQnLCAnb25sb2FkJywgJ29ubW91c2Vkb3duJywgJ29ubW91c2Vtb3ZlJywgJ29ubW91c2VvdXQnLCAnb25tb3VzZW92ZXInLCAnb25tb3VzZXVwJywgJ3JlcXVpcmVkRXh0ZW5zaW9ucycsICdyZXF1aXJlZEZlYXR1cmVzJywgJ3NwYWNpbmcnLCAnc3RhcnRPZmZzZXQnLCAnc3R5bGUnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndGV4dExlbmd0aCcsICd4bGluazphcmNyb2xlJywgJ3hsaW5rOmhyZWYnLCAneGxpbms6cm9sZScsICd4bGluazp0aXRsZScsICd4bGluazp0eXBlJywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddKSxcbiAgICAgICAgICAgICd0aXRsZSc6IG8oWydjbGFzcycsICdpZCcsICdzdHlsZScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXSksXG4gICAgICAgICAgICAndHJlZic6IG8oWydjbGFzcycsICdkeCcsICdkeScsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ2xlbmd0aEFkanVzdCcsICdvbmFjdGl2YXRlJywgJ29uY2xpY2snLCAnb25mb2N1c2luJywgJ29uZm9jdXNvdXQnLCAnb25sb2FkJywgJ29ubW91c2Vkb3duJywgJ29ubW91c2Vtb3ZlJywgJ29ubW91c2VvdXQnLCAnb25tb3VzZW92ZXInLCAnb25tb3VzZXVwJywgJ3JlcXVpcmVkRXh0ZW5zaW9ucycsICdyZXF1aXJlZEZlYXR1cmVzJywgJ3JvdGF0ZScsICdzdHlsZScsICdzeXN0ZW1MYW5ndWFnZScsICd0ZXh0TGVuZ3RoJywgJ3gnLCAneGxpbms6YXJjcm9sZScsICd4bGluazpocmVmJywgJ3hsaW5rOnJvbGUnLCAneGxpbms6dGl0bGUnLCAneGxpbms6dHlwZScsICd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnLCAneSddKSxcbiAgICAgICAgICAgICd0c3Bhbic6IG8oWydjbGFzcycsICdkeCcsICdkeScsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ2xlbmd0aEFkanVzdCcsICdvbmFjdGl2YXRlJywgJ29uY2xpY2snLCAnb25mb2N1c2luJywgJ29uZm9jdXNvdXQnLCAnb25sb2FkJywgJ29ubW91c2Vkb3duJywgJ29ubW91c2Vtb3ZlJywgJ29ubW91c2VvdXQnLCAnb25tb3VzZW92ZXInLCAnb25tb3VzZXVwJywgJ3JlcXVpcmVkRXh0ZW5zaW9ucycsICdyZXF1aXJlZEZlYXR1cmVzJywgJ3JvdGF0ZScsICdzdHlsZScsICdzeXN0ZW1MYW5ndWFnZScsICd0ZXh0TGVuZ3RoJywgJ3gnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJywgJ3knXSksXG4gICAgICAgICAgICAndXNlJzogbyhbJ2NsYXNzJywgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAnaGVpZ2h0JywgJ2lkJywgJ29uYWN0aXZhdGUnLCAnb25jbGljaycsICdvbmZvY3VzaW4nLCAnb25mb2N1c291dCcsICdvbmxvYWQnLCAnb25tb3VzZWRvd24nLCAnb25tb3VzZW1vdmUnLCAnb25tb3VzZW91dCcsICdvbm1vdXNlb3ZlcicsICdvbm1vdXNldXAnLCAncmVxdWlyZWRFeHRlbnNpb25zJywgJ3JlcXVpcmVkRmVhdHVyZXMnLCAnc3R5bGUnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndHJhbnNmb3JtJywgJ3dpZHRoJywgJ3gnLCAneGxpbms6YWN0dWF0ZScsICd4bGluazphcmNyb2xlJywgJ3hsaW5rOmhyZWYnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJywgJ3knXSksXG4gICAgICAgICAgICAndmlldyc6IG8oWydleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2lkJywgJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCAndmlld0JveCcsICd2aWV3VGFyZ2V0JywgJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZScsICd6b29tQW5kUGFuJ10pLFxuICAgICAgICAgICAgJ3ZrZXJuJzogbyhbJ2cxJywgJ2cyJywgJ2lkJywgJ2snLCAndTEnLCAndTInLCAneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10pLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdmdQcmVzZW50YXRpb25FbGVtZW50cyA9IG8oW1xuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgJ2FsdEdseXBoJyxcbiAgICAgICAgICAgICdhbmltYXRlJyxcbiAgICAgICAgICAgICdhbmltYXRlQ29sb3InLFxuICAgICAgICAgICAgJ2NpcmNsZScsXG4gICAgICAgICAgICAnY2xpcFBhdGgnLFxuICAgICAgICAgICAgJ2RlZnMnLFxuICAgICAgICAgICAgJ2VsbGlwc2UnLFxuICAgICAgICAgICAgJ2ZlQmxlbmQnLFxuICAgICAgICAgICAgJ2ZlQ29sb3JNYXRyaXgnLFxuICAgICAgICAgICAgJ2ZlQ29tcG9uZW50VHJhbnNmZXInLFxuICAgICAgICAgICAgJ2ZlQ29tcG9zaXRlJyxcbiAgICAgICAgICAgICdmZUNvbnZvbHZlTWF0cml4JyxcbiAgICAgICAgICAgICdmZURpZmZ1c2VMaWdodGluZycsXG4gICAgICAgICAgICAnZmVEaXNwbGFjZW1lbnRNYXAnLFxuICAgICAgICAgICAgJ2ZlRmxvb2QnLFxuICAgICAgICAgICAgJ2ZlR2F1c3NpYW5CbHVyJyxcbiAgICAgICAgICAgICdmZUltYWdlJyxcbiAgICAgICAgICAgICdmZU1lcmdlJyxcbiAgICAgICAgICAgICdmZU1vcnBob2xvZ3knLFxuICAgICAgICAgICAgJ2ZlT2Zmc2V0JyxcbiAgICAgICAgICAgICdmZVNwZWN1bGFyTGlnaHRpbmcnLFxuICAgICAgICAgICAgJ2ZlVGlsZScsXG4gICAgICAgICAgICAnZmVUdXJidWxlbmNlJyxcbiAgICAgICAgICAgICdmaWx0ZXInLFxuICAgICAgICAgICAgJ2ZvbnQnLFxuICAgICAgICAgICAgJ2ZvcmVpZ25PYmplY3QnLFxuICAgICAgICAgICAgJ2cnLFxuICAgICAgICAgICAgJ2dseXBoJyxcbiAgICAgICAgICAgICdnbHlwaFJlZicsXG4gICAgICAgICAgICAnaW1hZ2UnLFxuICAgICAgICAgICAgJ2xpbmUnLFxuICAgICAgICAgICAgJ2xpbmVhckdyYWRpZW50JyxcbiAgICAgICAgICAgICdtYXJrZXInLFxuICAgICAgICAgICAgJ21hc2snLFxuICAgICAgICAgICAgJ21pc3NpbmctZ2x5cGgnLFxuICAgICAgICAgICAgJ3BhdGgnLFxuICAgICAgICAgICAgJ3BhdHRlcm4nLFxuICAgICAgICAgICAgJ3BvbHlnb24nLFxuICAgICAgICAgICAgJ3BvbHlsaW5lJyxcbiAgICAgICAgICAgICdyYWRpYWxHcmFkaWVudCcsXG4gICAgICAgICAgICAncmVjdCcsXG4gICAgICAgICAgICAnc3RvcCcsXG4gICAgICAgICAgICAnc3ZnJyxcbiAgICAgICAgICAgICdzd2l0Y2gnLFxuICAgICAgICAgICAgJ3N5bWJvbCcsXG4gICAgICAgICAgICAndGV4dCcsXG4gICAgICAgICAgICAndGV4dFBhdGgnLFxuICAgICAgICAgICAgJ3RyZWYnLFxuICAgICAgICAgICAgJ3RzcGFuJyxcbiAgICAgICAgICAgICd1c2UnLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5zdmdQcmVzZW50YXRpb25BdHRyaWJ1dGVzID0gbyhbXG4gICAgICAgICAgICAnYWxpZ25tZW50LWJhc2VsaW5lJyxcbiAgICAgICAgICAgICdiYXNlbGluZS1zaGlmdCcsXG4gICAgICAgICAgICAnY2xpcC1wYXRoJyxcbiAgICAgICAgICAgICdjbGlwLXJ1bGUnLFxuICAgICAgICAgICAgJ2NsaXAnLFxuICAgICAgICAgICAgJ2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVycycsXG4gICAgICAgICAgICAnY29sb3ItaW50ZXJwb2xhdGlvbicsXG4gICAgICAgICAgICAnY29sb3ItcHJvZmlsZScsXG4gICAgICAgICAgICAnY29sb3ItcmVuZGVyaW5nJyxcbiAgICAgICAgICAgICdjb2xvcicsXG4gICAgICAgICAgICAnY3Vyc29yJyxcbiAgICAgICAgICAgICdkaXJlY3Rpb24nLFxuICAgICAgICAgICAgJ2Rpc3BsYXknLFxuICAgICAgICAgICAgJ2RvbWluYW50LWJhc2VsaW5lJyxcbiAgICAgICAgICAgICdlbmFibGUtYmFja2dyb3VuZCcsXG4gICAgICAgICAgICAnZmlsbC1vcGFjaXR5JyxcbiAgICAgICAgICAgICdmaWxsLXJ1bGUnLFxuICAgICAgICAgICAgJ2ZpbGwnLFxuICAgICAgICAgICAgJ2ZpbHRlcicsXG4gICAgICAgICAgICAnZmxvb2QtY29sb3InLFxuICAgICAgICAgICAgJ2Zsb29kLW9wYWNpdHknLFxuICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JyxcbiAgICAgICAgICAgICdmb250LXNpemUtYWRqdXN0JyxcbiAgICAgICAgICAgICdmb250LXNpemUnLFxuICAgICAgICAgICAgJ2ZvbnQtc3RyZXRjaCcsXG4gICAgICAgICAgICAnZm9udC1zdHlsZScsXG4gICAgICAgICAgICAnZm9udC12YXJpYW50JyxcbiAgICAgICAgICAgICdmb250LXdlaWdodCcsXG4gICAgICAgICAgICAnZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCcsXG4gICAgICAgICAgICAnZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwnLFxuICAgICAgICAgICAgJ2ltYWdlLXJlbmRlcmluZycsXG4gICAgICAgICAgICAna2VybmluZycsXG4gICAgICAgICAgICAnbGV0dGVyLXNwYWNpbmcnLFxuICAgICAgICAgICAgJ2xpZ2h0aW5nLWNvbG9yJyxcbiAgICAgICAgICAgICdtYXJrZXItZW5kJyxcbiAgICAgICAgICAgICdtYXJrZXItbWlkJyxcbiAgICAgICAgICAgICdtYXJrZXItc3RhcnQnLFxuICAgICAgICAgICAgJ21hc2snLFxuICAgICAgICAgICAgJ29wYWNpdHknLFxuICAgICAgICAgICAgJ292ZXJmbG93JyxcbiAgICAgICAgICAgICdwb2ludGVyLWV2ZW50cycsXG4gICAgICAgICAgICAnc2hhcGUtcmVuZGVyaW5nJyxcbiAgICAgICAgICAgICdzdG9wLWNvbG9yJyxcbiAgICAgICAgICAgICdzdG9wLW9wYWNpdHknLFxuICAgICAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknLFxuICAgICAgICAgICAgJ3N0cm9rZS1kYXNob2Zmc2V0JyxcbiAgICAgICAgICAgICdzdHJva2UtbGluZWNhcCcsXG4gICAgICAgICAgICAnc3Ryb2tlLWxpbmVqb2luJyxcbiAgICAgICAgICAgICdzdHJva2UtbWl0ZXJsaW1pdCcsXG4gICAgICAgICAgICAnc3Ryb2tlLW9wYWNpdHknLFxuICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCcsXG4gICAgICAgICAgICAnc3Ryb2tlJyxcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcicsXG4gICAgICAgICAgICAndGV4dC1kZWNvcmF0aW9uJyxcbiAgICAgICAgICAgICd0ZXh0LXJlbmRlcmluZycsXG4gICAgICAgICAgICAndW5pY29kZS1iaWRpJyxcbiAgICAgICAgICAgICd2aXNpYmlsaXR5JyxcbiAgICAgICAgICAgICd3b3JkLXNwYWNpbmcnLFxuICAgICAgICAgICAgJ3dyaXRpbmctbW9kZScsXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLlNWR0VsZW1lbnQgPSBwbGF0Zm9ybS5nbG9iYWxUaGlzLlNWR0VsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGRpdiA9IHBsYXRmb3JtLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gJzxzdmc+PGFsdEdseXBoIC8+PC9zdmc+JztcbiAgICAgICAgaWYgKGRpdi5maXJzdEVsZW1lbnRDaGlsZC5ub2RlTmFtZSA9PT0gJ2FsdGdseXBoJykge1xuICAgICAgICAgICAgLy8gaGFuZGxlIGNocm9tZSBjYXNpbmcgaW5jb25zaXN0ZW5jaWVzLlxuICAgICAgICAgICAgY29uc3Qgc3ZnID0gdGhpcy5zdmdFbGVtZW50cztcbiAgICAgICAgICAgIGxldCB0bXAgPSBzdmcuYWx0R2x5cGg7XG4gICAgICAgICAgICBzdmcuYWx0R2x5cGggPSBzdmcuYWx0Z2x5cGg7XG4gICAgICAgICAgICBzdmcuYWx0Z2x5cGggPSB0bXA7XG4gICAgICAgICAgICB0bXAgPSBzdmcuYWx0R2x5cGhEZWY7XG4gICAgICAgICAgICBzdmcuYWx0R2x5cGhEZWYgPSBzdmcuYWx0Z2x5cGhkZWY7XG4gICAgICAgICAgICBzdmcuYWx0Z2x5cGhkZWYgPSB0bXA7XG4gICAgICAgICAgICB0bXAgPSBzdmcuYWx0R2x5cGhJdGVtO1xuICAgICAgICAgICAgc3ZnLmFsdEdseXBoSXRlbSA9IHN2Zy5hbHRnbHlwaGl0ZW07XG4gICAgICAgICAgICBzdmcuYWx0Z2x5cGhpdGVtID0gdG1wO1xuICAgICAgICAgICAgdG1wID0gc3ZnLmdseXBoUmVmO1xuICAgICAgICAgICAgc3ZnLmdseXBoUmVmID0gc3ZnLmdseXBocmVmO1xuICAgICAgICAgICAgc3ZnLmdseXBocmVmID0gdG1wO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIFJlZ2lzdHJhdGlvbi5zaW5nbGV0b24oSVNWR0FuYWx5emVyLCB0aGlzKS5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgIH1cbiAgICBpc1N0YW5kYXJkU3ZnQXR0cmlidXRlKG5vZGUsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgdGhpcy5TVkdFbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5zdmdQcmVzZW50YXRpb25FbGVtZW50c1tub2RlLm5vZGVOYW1lXSA9PT0gdHJ1ZSAmJiB0aGlzLnN2Z1ByZXNlbnRhdGlvbkF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUgfHxcbiAgICAgICAgICAgICgoX2EgPSB0aGlzLnN2Z0VsZW1lbnRzW25vZGUubm9kZU5hbWVdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbYXR0cmlidXRlTmFtZV0pID09PSB0cnVlKTtcbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5TVkdBbmFseXplci5pbmplY3QgPSBbSVBsYXRmb3JtXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN2Zy1hbmFseXplci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/svg-analyzer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/observation/value-attribute-observer.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/observation/value-attribute-observer.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ValueAttributeObserver\": () => (/* binding */ ValueAttributeObserver)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n\n/**\n * Observer for non-radio, non-checkbox input.\n */\nclass ValueAttributeObserver {\n    constructor(obj, propertyKey, handler) {\n        this.propertyKey = propertyKey;\n        this.handler = handler;\n        this.currentValue = '';\n        this.oldValue = '';\n        this.hasChanges = false;\n        // ObserverType.Layout is not always true, it depends on the element & property combo\n        // but for simplicity, always treat as such\n        this.type = 2 /* Node */ | 1 /* Observer */ | 4 /* Layout */;\n        this.obj = obj;\n    }\n    getValue() {\n        // is it safe to assume the observer has the latest value?\n        // todo: ability to turn on/off cache based on type\n        return this.currentValue;\n    }\n    setValue(newValue, flags) {\n        this.currentValue = newValue;\n        this.hasChanges = newValue !== this.oldValue;\n        if (!this.handler.config.readonly && (flags & 256 /* noFlush */) === 0) {\n            this.flushChanges(flags);\n        }\n    }\n    flushChanges(flags) {\n        if (this.hasChanges) {\n            this.hasChanges = false;\n            const currentValue = this.currentValue;\n            const oldValue = this.oldValue;\n            this.oldValue = currentValue;\n            this.obj[this.propertyKey] = currentValue !== null && currentValue !== void 0 ? currentValue : this.handler.config.default;\n            if ((flags & 2 /* fromBind */) === 0) {\n                this.subs.notify(currentValue, oldValue, flags);\n            }\n        }\n    }\n    handleEvent() {\n        const oldValue = this.oldValue = this.currentValue;\n        const currentValue = this.currentValue = this.obj[this.propertyKey];\n        if (oldValue !== currentValue) {\n            this.oldValue = currentValue;\n            this.subs.notify(currentValue, oldValue, 0 /* none */);\n        }\n    }\n    subscribe(subscriber) {\n        if (this.subs.add(subscriber) && this.subs.count === 1) {\n            this.handler.subscribe(this.obj, this);\n            this.currentValue = this.oldValue = this.obj[this.propertyKey];\n        }\n    }\n    unsubscribe(subscriber) {\n        if (this.subs.remove(subscriber) && this.subs.count === 0) {\n            this.handler.dispose();\n        }\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.subscriberCollection)(ValueAttributeObserver);\n//# sourceMappingURL=value-attribute-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL29ic2VydmF0aW9uL3ZhbHVlLWF0dHJpYnV0ZS1vYnNlcnZlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vb2JzZXJ2YXRpb24vdmFsdWUtYXR0cmlidXRlLW9ic2VydmVyLmpzPzU2OTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3Vic2NyaWJlckNvbGxlY3Rpb24gfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lJztcbi8qKlxuICogT2JzZXJ2ZXIgZm9yIG5vbi1yYWRpbywgbm9uLWNoZWNrYm94IGlucHV0LlxuICovXG5leHBvcnQgY2xhc3MgVmFsdWVBdHRyaWJ1dGVPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3Iob2JqLCBwcm9wZXJ0eUtleSwgaGFuZGxlcikge1xuICAgICAgICB0aGlzLnByb3BlcnR5S2V5ID0gcHJvcGVydHlLZXk7XG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gJyc7XG4gICAgICAgIHRoaXMub2xkVmFsdWUgPSAnJztcbiAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgIC8vIE9ic2VydmVyVHlwZS5MYXlvdXQgaXMgbm90IGFsd2F5cyB0cnVlLCBpdCBkZXBlbmRzIG9uIHRoZSBlbGVtZW50ICYgcHJvcGVydHkgY29tYm9cbiAgICAgICAgLy8gYnV0IGZvciBzaW1wbGljaXR5LCBhbHdheXMgdHJlYXQgYXMgc3VjaFxuICAgICAgICB0aGlzLnR5cGUgPSAyIC8qIE5vZGUgKi8gfCAxIC8qIE9ic2VydmVyICovIHwgNCAvKiBMYXlvdXQgKi87XG4gICAgICAgIHRoaXMub2JqID0gb2JqO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgLy8gaXMgaXQgc2FmZSB0byBhc3N1bWUgdGhlIG9ic2VydmVyIGhhcyB0aGUgbGF0ZXN0IHZhbHVlP1xuICAgICAgICAvLyB0b2RvOiBhYmlsaXR5IHRvIHR1cm4gb24vb2ZmIGNhY2hlIGJhc2VkIG9uIHR5cGVcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlO1xuICAgIH1cbiAgICBzZXRWYWx1ZShuZXdWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gbmV3VmFsdWUgIT09IHRoaXMub2xkVmFsdWU7XG4gICAgICAgIGlmICghdGhpcy5oYW5kbGVyLmNvbmZpZy5yZWFkb25seSAmJiAoZmxhZ3MgJiAyNTYgLyogbm9GbHVzaCAqLykgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hDaGFuZ2VzKGZsYWdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmbHVzaENoYW5nZXMoZmxhZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5vbGRWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMub2xkVmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB0aGlzLm9ialt0aGlzLnByb3BlcnR5S2V5XSA9IGN1cnJlbnRWYWx1ZSAhPT0gbnVsbCAmJiBjdXJyZW50VmFsdWUgIT09IHZvaWQgMCA/IGN1cnJlbnRWYWx1ZSA6IHRoaXMuaGFuZGxlci5jb25maWcuZGVmYXVsdDtcbiAgICAgICAgICAgIGlmICgoZmxhZ3MgJiAyIC8qIGZyb21CaW5kICovKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3Vicy5ub3RpZnkoY3VycmVudFZhbHVlLCBvbGRWYWx1ZSwgZmxhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KCkge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMub2xkVmFsdWUgPSB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5jdXJyZW50VmFsdWUgPSB0aGlzLm9ialt0aGlzLnByb3BlcnR5S2V5XTtcbiAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMub2xkVmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB0aGlzLnN1YnMubm90aWZ5KGN1cnJlbnRWYWx1ZSwgb2xkVmFsdWUsIDAgLyogbm9uZSAqLyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3Vic2NyaWJlKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vicy5hZGQoc3Vic2NyaWJlcikgJiYgdGhpcy5zdWJzLmNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXIuc3Vic2NyaWJlKHRoaXMub2JqLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdGhpcy5vbGRWYWx1ZSA9IHRoaXMub2JqW3RoaXMucHJvcGVydHlLZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuc3Vic2NyaWJlKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vicy5yZW1vdmUoc3Vic2NyaWJlcikgJiYgdGhpcy5zdWJzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXIuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuc3Vic2NyaWJlckNvbGxlY3Rpb24oVmFsdWVBdHRyaWJ1dGVPYnNlcnZlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWx1ZS1hdHRyaWJ1dGUtb2JzZXJ2ZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/observation/value-attribute-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/platform.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/platform.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IPlatform\": () => (/* binding */ IPlatform)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n\nconst IPlatform = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IPlatform;\n//# sourceMappingURL=platform.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3BsYXRmb3JtLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9wbGF0Zm9ybS5qcz84Njk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElQbGF0Zm9ybSBhcyAkSVBsYXRmb3JtIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmV4cG9ydCBjb25zdCBJUGxhdGZvcm0gPSAkSVBsYXRmb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxhdGZvcm0uanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/platform.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/renderer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/renderer.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InstructionType\": () => (/* binding */ InstructionType),\n/* harmony export */   \"IInstruction\": () => (/* binding */ IInstruction),\n/* harmony export */   \"isInstruction\": () => (/* binding */ isInstruction),\n/* harmony export */   \"InterpolationInstruction\": () => (/* binding */ InterpolationInstruction),\n/* harmony export */   \"PropertyBindingInstruction\": () => (/* binding */ PropertyBindingInstruction),\n/* harmony export */   \"IteratorBindingInstruction\": () => (/* binding */ IteratorBindingInstruction),\n/* harmony export */   \"CallBindingInstruction\": () => (/* binding */ CallBindingInstruction),\n/* harmony export */   \"RefBindingInstruction\": () => (/* binding */ RefBindingInstruction),\n/* harmony export */   \"SetPropertyInstruction\": () => (/* binding */ SetPropertyInstruction),\n/* harmony export */   \"HydrateElementInstruction\": () => (/* binding */ HydrateElementInstruction),\n/* harmony export */   \"HydrateAttributeInstruction\": () => (/* binding */ HydrateAttributeInstruction),\n/* harmony export */   \"HydrateTemplateController\": () => (/* binding */ HydrateTemplateController),\n/* harmony export */   \"HydrateLetElementInstruction\": () => (/* binding */ HydrateLetElementInstruction),\n/* harmony export */   \"LetBindingInstruction\": () => (/* binding */ LetBindingInstruction),\n/* harmony export */   \"TextBindingInstruction\": () => (/* binding */ TextBindingInstruction),\n/* harmony export */   \"ListenerBindingInstruction\": () => (/* binding */ ListenerBindingInstruction),\n/* harmony export */   \"StylePropertyBindingInstruction\": () => (/* binding */ StylePropertyBindingInstruction),\n/* harmony export */   \"SetAttributeInstruction\": () => (/* binding */ SetAttributeInstruction),\n/* harmony export */   \"SetClassAttributeInstruction\": () => (/* binding */ SetClassAttributeInstruction),\n/* harmony export */   \"SetStyleAttributeInstruction\": () => (/* binding */ SetStyleAttributeInstruction),\n/* harmony export */   \"AttributeBindingInstruction\": () => (/* binding */ AttributeBindingInstruction),\n/* harmony export */   \"ITemplateCompiler\": () => (/* binding */ ITemplateCompiler),\n/* harmony export */   \"IRenderer\": () => (/* binding */ IRenderer),\n/* harmony export */   \"renderer\": () => (/* binding */ renderer),\n/* harmony export */   \"SetPropertyRenderer\": () => (/* binding */ SetPropertyRenderer),\n/* harmony export */   \"CustomElementRenderer\": () => (/* binding */ CustomElementRenderer),\n/* harmony export */   \"CustomAttributeRenderer\": () => (/* binding */ CustomAttributeRenderer),\n/* harmony export */   \"TemplateControllerRenderer\": () => (/* binding */ TemplateControllerRenderer),\n/* harmony export */   \"LetElementRenderer\": () => (/* binding */ LetElementRenderer),\n/* harmony export */   \"CallBindingRenderer\": () => (/* binding */ CallBindingRenderer),\n/* harmony export */   \"RefBindingRenderer\": () => (/* binding */ RefBindingRenderer),\n/* harmony export */   \"InterpolationBindingRenderer\": () => (/* binding */ InterpolationBindingRenderer),\n/* harmony export */   \"PropertyBindingRenderer\": () => (/* binding */ PropertyBindingRenderer),\n/* harmony export */   \"IteratorBindingRenderer\": () => (/* binding */ IteratorBindingRenderer),\n/* harmony export */   \"applyBindingBehavior\": () => (/* binding */ applyBindingBehavior),\n/* harmony export */   \"TextBindingRenderer\": () => (/* binding */ TextBindingRenderer),\n/* harmony export */   \"ListenerBindingRenderer\": () => (/* binding */ ListenerBindingRenderer),\n/* harmony export */   \"SetAttributeRenderer\": () => (/* binding */ SetAttributeRenderer),\n/* harmony export */   \"SetClassAttributeRenderer\": () => (/* binding */ SetClassAttributeRenderer),\n/* harmony export */   \"SetStyleAttributeRenderer\": () => (/* binding */ SetStyleAttributeRenderer),\n/* harmony export */   \"StylePropertyBindingRenderer\": () => (/* binding */ StylePropertyBindingRenderer),\n/* harmony export */   \"AttributeBindingRenderer\": () => (/* binding */ AttributeBindingRenderer)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _binding_call_binding_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./binding/call-binding.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/call-binding.js\");\n/* harmony import */ var _binding_attribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./binding/attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/attribute.js\");\n/* harmony import */ var _binding_interpolation_binding_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./binding/interpolation-binding.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/interpolation-binding.js\");\n/* harmony import */ var _binding_let_binding_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./binding/let-binding.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/let-binding.js\");\n/* harmony import */ var _binding_property_binding_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./binding/property-binding.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/property-binding.js\");\n/* harmony import */ var _binding_ref_binding_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./binding/ref-binding.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/ref-binding.js\");\n/* harmony import */ var _binding_listener_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./binding/listener.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/binding/listener.js\");\n/* harmony import */ var _observation_event_delegator_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./observation/event-delegator.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/event-delegator.js\");\n/* harmony import */ var _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./resources/custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\n/* harmony import */ var _templating_render_context_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./templating/render-context.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/render-context.js\");\n/* harmony import */ var _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./resources/custom-elements/au-slot.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/au-slot.js\");\n/* harmony import */ var _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./resources/custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _templating_controller_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./templating/controller.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/controller.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar InstructionType;\n(function (InstructionType) {\n    InstructionType[\"hydrateElement\"] = \"ra\";\n    InstructionType[\"hydrateAttribute\"] = \"rb\";\n    InstructionType[\"hydrateTemplateController\"] = \"rc\";\n    InstructionType[\"hydrateLetElement\"] = \"rd\";\n    InstructionType[\"setProperty\"] = \"re\";\n    InstructionType[\"interpolation\"] = \"rf\";\n    InstructionType[\"propertyBinding\"] = \"rg\";\n    InstructionType[\"callBinding\"] = \"rh\";\n    InstructionType[\"letBinding\"] = \"ri\";\n    InstructionType[\"refBinding\"] = \"rj\";\n    InstructionType[\"iteratorBinding\"] = \"rk\";\n    InstructionType[\"textBinding\"] = \"ha\";\n    InstructionType[\"listenerBinding\"] = \"hb\";\n    InstructionType[\"attributeBinding\"] = \"hc\";\n    InstructionType[\"stylePropertyBinding\"] = \"hd\";\n    InstructionType[\"setAttribute\"] = \"he\";\n    InstructionType[\"setClassAttribute\"] = \"hf\";\n    InstructionType[\"setStyleAttribute\"] = \"hg\";\n})(InstructionType || (InstructionType = {}));\nconst IInstruction = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('Instruction');\nfunction isInstruction(value) {\n    const type = value.type;\n    return typeof type === 'string' && type.length === 2;\n}\nclass InterpolationInstruction {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n    get type() { return \"rf\" /* interpolation */; }\n}\nclass PropertyBindingInstruction {\n    constructor(from, to, mode) {\n        this.from = from;\n        this.to = to;\n        this.mode = mode;\n    }\n    get type() { return \"rg\" /* propertyBinding */; }\n}\nclass IteratorBindingInstruction {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n    get type() { return \"rk\" /* iteratorBinding */; }\n}\nclass CallBindingInstruction {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n    get type() { return \"rh\" /* callBinding */; }\n}\nclass RefBindingInstruction {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n    get type() { return \"rj\" /* refBinding */; }\n}\nclass SetPropertyInstruction {\n    constructor(value, to) {\n        this.value = value;\n        this.to = to;\n    }\n    get type() { return \"re\" /* setProperty */; }\n}\nclass HydrateElementInstruction {\n    constructor(res, alias, instructions, slotInfo) {\n        this.res = res;\n        this.alias = alias;\n        this.instructions = instructions;\n        this.slotInfo = slotInfo;\n    }\n    get type() { return \"ra\" /* hydrateElement */; }\n}\nclass HydrateAttributeInstruction {\n    constructor(res, alias, instructions) {\n        this.res = res;\n        this.alias = alias;\n        this.instructions = instructions;\n    }\n    get type() { return \"rb\" /* hydrateAttribute */; }\n}\nclass HydrateTemplateController {\n    constructor(def, res, alias, instructions) {\n        this.def = def;\n        this.res = res;\n        this.alias = alias;\n        this.instructions = instructions;\n    }\n    get type() { return \"rc\" /* hydrateTemplateController */; }\n}\nclass HydrateLetElementInstruction {\n    constructor(instructions, toBindingContext) {\n        this.instructions = instructions;\n        this.toBindingContext = toBindingContext;\n    }\n    get type() { return \"rd\" /* hydrateLetElement */; }\n}\nclass LetBindingInstruction {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n    get type() { return \"ri\" /* letBinding */; }\n}\nclass TextBindingInstruction {\n    constructor(from) {\n        this.from = from;\n    }\n    get type() { return \"ha\" /* textBinding */; }\n}\nclass ListenerBindingInstruction {\n    constructor(from, to, preventDefault, strategy) {\n        this.from = from;\n        this.to = to;\n        this.preventDefault = preventDefault;\n        this.strategy = strategy;\n    }\n    get type() { return \"hb\" /* listenerBinding */; }\n}\nclass StylePropertyBindingInstruction {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n    get type() { return \"hd\" /* stylePropertyBinding */; }\n}\nclass SetAttributeInstruction {\n    constructor(value, to) {\n        this.value = value;\n        this.to = to;\n    }\n    get type() { return \"he\" /* setAttribute */; }\n}\nclass SetClassAttributeInstruction {\n    constructor(value) {\n        this.value = value;\n        this.type = \"hf\" /* setClassAttribute */;\n    }\n}\nclass SetStyleAttributeInstruction {\n    constructor(value) {\n        this.value = value;\n        this.type = \"hg\" /* setStyleAttribute */;\n    }\n}\nclass AttributeBindingInstruction {\n    constructor(\n    /**\n     * `attr` and `to` have the same value on a normal attribute\n     * Will be different on `class` and `style`\n     * on `class`: attr = `class` (from binding command), to = attribute name\n     * on `style`: attr = `style` (from binding command), to = attribute name\n     */\n    attr, from, to) {\n        this.attr = attr;\n        this.from = from;\n        this.to = to;\n    }\n    get type() { return \"hc\" /* attributeBinding */; }\n}\nconst ITemplateCompiler = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ITemplateCompiler');\nconst IRenderer = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IRenderer');\nfunction renderer(instructionType) {\n    return function decorator(target) {\n        // wrap the constructor to set the instructionType to the instance (for better performance than when set on the prototype)\n        const decoratedTarget = function (...args) {\n            const instance = new target(...args);\n            instance.instructionType = instructionType;\n            return instance;\n        };\n        // make sure we register the decorated constructor with DI\n        decoratedTarget.register = function register(container) {\n            _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(IRenderer, decoratedTarget).register(container);\n        };\n        // copy over any metadata such as annotations (set by preceding decorators) as well as static properties set by the user\n        // also copy the name, to be less confusing to users (so they can still use constructor.name for whatever reason)\n        // the length (number of ctor arguments) is copied for the same reason\n        const metadataKeys = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwnKeys(target);\n        for (const key of metadataKeys) {\n            _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(key, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(key, target), decoratedTarget);\n        }\n        const ownProperties = Object.getOwnPropertyDescriptors(target);\n        Object.keys(ownProperties).filter(prop => prop !== 'prototype').forEach(prop => {\n            Reflect.defineProperty(decoratedTarget, prop, ownProperties[prop]);\n        });\n        return decoratedTarget;\n    };\n}\nfunction ensureExpression(parser, srcOrExpr, bindingType) {\n    if (typeof srcOrExpr === 'string') {\n        return parser.parse(srcOrExpr, bindingType);\n    }\n    return srcOrExpr;\n}\nfunction getTarget(potentialTarget) {\n    if (potentialTarget.viewModel != null) {\n        return potentialTarget.viewModel;\n    }\n    return potentialTarget;\n}\nfunction getRefTarget(refHost, refTargetName) {\n    if (refTargetName === 'element') {\n        return refHost;\n    }\n    switch (refTargetName) {\n        case 'controller':\n            // this means it supports returning undefined\n            return _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__.CustomElement.for(refHost);\n        case 'view':\n            // todo: returns node sequences for fun?\n            throw new Error('Not supported API');\n        case 'view-model':\n            // this means it supports returning undefined\n            return _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__.CustomElement.for(refHost).viewModel;\n        default: {\n            const caController = _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_13__.CustomAttribute.for(refHost, refTargetName);\n            if (caController !== void 0) {\n                return caController.viewModel;\n            }\n            const ceController = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__.CustomElement.for(refHost, { name: refTargetName });\n            if (ceController === void 0) {\n                throw new Error(`Attempted to reference \"${refTargetName}\", but it was not found amongst the target's API.`);\n            }\n            return ceController.viewModel;\n        }\n    }\n}\nlet SetPropertyRenderer = \n/** @internal */\nclass SetPropertyRenderer {\n    render(flags, context, controller, target, instruction) {\n        const obj = getTarget(target);\n        if (obj.$observers !== void 0 && obj.$observers[instruction.to] !== void 0) {\n            obj.$observers[instruction.to].setValue(instruction.value, 2 /* fromBind */);\n        }\n        else {\n            obj[instruction.to] = instruction.value;\n        }\n    }\n};\nSetPropertyRenderer = __decorate([\n    renderer(\"re\" /* setProperty */)\n    /** @internal */\n], SetPropertyRenderer);\n\nlet CustomElementRenderer = \n/** @internal */\nclass CustomElementRenderer {\n    render(flags, context, controller, target, instruction) {\n        var _a;\n        let viewFactory;\n        const slotInfo = instruction.slotInfo;\n        if (slotInfo !== null) {\n            const projectionCtx = slotInfo.projectionContext;\n            viewFactory = (0,_templating_render_context_js__WEBPACK_IMPORTED_MODULE_11__.getRenderContext)(projectionCtx.content, context).getViewFactory(void 0, slotInfo.type, projectionCtx.scope);\n        }\n        const targetedProjections = context.getProjectionFor(instruction);\n        const factory = context.getComponentFactory(\n        /* parentController */ controller, \n        /* host             */ target, \n        /* instruction      */ instruction, \n        /* viewFactory      */ viewFactory, \n        /* location         */ target, \n        /* auSlotsInfo      */ new _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_12__.AuSlotsInfo(Object.keys((_a = targetedProjections === null || targetedProjections === void 0 ? void 0 : targetedProjections.projections) !== null && _a !== void 0 ? _a : {})));\n        const key = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__.CustomElement.keyFrom(instruction.res);\n        const component = factory.createComponent(key);\n        const childController = _templating_controller_js__WEBPACK_IMPORTED_MODULE_15__.Controller.forCustomElement(\n        /* root                */ controller.root, \n        /* container           */ context, \n        /* viewModel           */ component, \n        /* host                */ target, \n        /* targetedProjections */ targetedProjections, \n        /* flags               */ flags);\n        flags = childController.flags;\n        (0,_dom_js__WEBPACK_IMPORTED_MODULE_14__.setRef)(target, key, childController);\n        context.renderChildren(\n        /* flags        */ flags, \n        /* instructions */ instruction.instructions, \n        /* controller   */ controller, \n        /* target       */ childController);\n        controller.addController(childController);\n        factory.dispose();\n    }\n};\nCustomElementRenderer = __decorate([\n    renderer(\"ra\" /* hydrateElement */)\n    /** @internal */\n], CustomElementRenderer);\n\nlet CustomAttributeRenderer = \n/** @internal */\nclass CustomAttributeRenderer {\n    render(flags, context, controller, target, instruction) {\n        const factory = context.getComponentFactory(\n        /* parentController */ controller, \n        /* host             */ target, \n        /* instruction      */ instruction, \n        /* viewFactory      */ void 0, \n        /* location         */ void 0);\n        const key = _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_13__.CustomAttribute.keyFrom(instruction.res);\n        const component = factory.createComponent(key);\n        const childController = _templating_controller_js__WEBPACK_IMPORTED_MODULE_15__.Controller.forCustomAttribute(\n        /* root      */ controller.root, \n        /* container */ context, \n        /* viewModel */ component, \n        /* host      */ target, \n        /* flags     */ flags);\n        (0,_dom_js__WEBPACK_IMPORTED_MODULE_14__.setRef)(target, key, childController);\n        context.renderChildren(\n        /* flags        */ flags, \n        /* instructions */ instruction.instructions, \n        /* controller   */ controller, \n        /* target       */ childController);\n        controller.addController(childController);\n        factory.dispose();\n    }\n};\nCustomAttributeRenderer = __decorate([\n    renderer(\"rb\" /* hydrateAttribute */)\n    /** @internal */\n], CustomAttributeRenderer);\n\nlet TemplateControllerRenderer = \n/** @internal */\nclass TemplateControllerRenderer {\n    render(flags, context, controller, target, instruction) {\n        var _a;\n        const viewFactory = (0,_templating_render_context_js__WEBPACK_IMPORTED_MODULE_11__.getRenderContext)(instruction.def, context).getViewFactory();\n        const renderLocation = (0,_dom_js__WEBPACK_IMPORTED_MODULE_14__.convertToRenderLocation)(target);\n        const componentFactory = context.getComponentFactory(\n        /* parentController */ controller, \n        /* host             */ target, \n        /* instruction      */ instruction, \n        /* viewFactory      */ viewFactory, \n        /* location         */ renderLocation);\n        const key = _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_13__.CustomAttribute.keyFrom(instruction.res);\n        const component = componentFactory.createComponent(key);\n        const childController = _templating_controller_js__WEBPACK_IMPORTED_MODULE_15__.Controller.forCustomAttribute(\n        /* root      */ controller.root, \n        /* container */ context, \n        /* viewModel */ component, \n        /* host      */ target, \n        /* flags     */ flags);\n        (0,_dom_js__WEBPACK_IMPORTED_MODULE_14__.setRef)(renderLocation, key, childController);\n        (_a = component.link) === null || _a === void 0 ? void 0 : _a.call(component, flags, context, controller, childController, target, instruction);\n        context.renderChildren(\n        /* flags        */ flags, \n        /* instructions */ instruction.instructions, \n        /* controller   */ controller, \n        /* target       */ childController);\n        controller.addController(childController);\n        componentFactory.dispose();\n    }\n};\nTemplateControllerRenderer = __decorate([\n    renderer(\"rc\" /* hydrateTemplateController */)\n    /** @internal */\n], TemplateControllerRenderer);\n\nlet LetElementRenderer = \n/** @internal */\nclass LetElementRenderer {\n    constructor(parser, observerLocator) {\n        this.parser = parser;\n        this.observerLocator = observerLocator;\n    }\n    render(flags, context, controller, target, instruction) {\n        target.remove();\n        const childInstructions = instruction.instructions;\n        const toBindingContext = instruction.toBindingContext;\n        let childInstruction;\n        let expr;\n        let binding;\n        for (let i = 0, ii = childInstructions.length; i < ii; ++i) {\n            childInstruction = childInstructions[i];\n            expr = ensureExpression(this.parser, childInstruction.from, 48 /* IsPropertyCommand */);\n            binding = applyBindingBehavior(new _binding_let_binding_js__WEBPACK_IMPORTED_MODULE_5__.LetBinding(expr, childInstruction.to, this.observerLocator, context, toBindingContext), expr, context);\n            controller.addBinding(binding);\n        }\n    }\n};\nLetElementRenderer = __decorate([\n    renderer(\"rd\" /* hydrateLetElement */)\n    /** @internal */\n    ,\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser),\n    __param(1, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IObserverLocator)\n], LetElementRenderer);\n\nlet CallBindingRenderer = \n/** @internal */\nclass CallBindingRenderer {\n    constructor(parser, observerLocator) {\n        this.parser = parser;\n        this.observerLocator = observerLocator;\n    }\n    render(flags, context, controller, target, instruction) {\n        const expr = ensureExpression(this.parser, instruction.from, 153 /* CallCommand */);\n        const binding = applyBindingBehavior(new _binding_call_binding_js__WEBPACK_IMPORTED_MODULE_2__.CallBinding(expr, getTarget(target), instruction.to, this.observerLocator, context), expr, context);\n        controller.addBinding(binding);\n    }\n};\nCallBindingRenderer = __decorate([\n    renderer(\"rh\" /* callBinding */)\n    /** @internal */\n    ,\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser),\n    __param(1, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IObserverLocator)\n], CallBindingRenderer);\n\nlet RefBindingRenderer = \n/** @internal */\nclass RefBindingRenderer {\n    constructor(parser) {\n        this.parser = parser;\n    }\n    render(flags, context, controller, target, instruction) {\n        const expr = ensureExpression(this.parser, instruction.from, 5376 /* IsRef */);\n        const binding = applyBindingBehavior(new _binding_ref_binding_js__WEBPACK_IMPORTED_MODULE_7__.RefBinding(expr, getRefTarget(target, instruction.to), context), expr, context);\n        controller.addBinding(binding);\n    }\n};\nRefBindingRenderer = __decorate([\n    renderer(\"rj\" /* refBinding */)\n    /** @internal */\n    ,\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser)\n], RefBindingRenderer);\n\nlet InterpolationBindingRenderer = \n/** @internal */\nclass InterpolationBindingRenderer {\n    constructor(parser, observerLocator, platform) {\n        this.parser = parser;\n        this.observerLocator = observerLocator;\n        this.platform = platform;\n    }\n    render(flags, context, controller, target, instruction) {\n        const expr = ensureExpression(this.parser, instruction.from, 2048 /* Interpolation */);\n        const binding = new _binding_interpolation_binding_js__WEBPACK_IMPORTED_MODULE_4__.InterpolationBinding(this.observerLocator, expr, getTarget(target), instruction.to, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView, context, this.platform.domWriteQueue);\n        const partBindings = binding.partBindings;\n        const ii = partBindings.length;\n        let i = 0;\n        let partBinding;\n        for (; ii > i; ++i) {\n            partBinding = partBindings[i];\n            partBindings[i] = applyBindingBehavior(partBinding, partBinding.sourceExpression, context);\n        }\n        controller.addBinding(binding);\n    }\n};\nInterpolationBindingRenderer = __decorate([\n    renderer(\"rf\" /* interpolation */)\n    /** @internal */\n    ,\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser),\n    __param(1, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IObserverLocator),\n    __param(2, _platform_js__WEBPACK_IMPORTED_MODULE_16__.IPlatform)\n], InterpolationBindingRenderer);\n\nlet PropertyBindingRenderer = \n/** @internal */\nclass PropertyBindingRenderer {\n    constructor(parser, observerLocator, platform) {\n        this.parser = parser;\n        this.observerLocator = observerLocator;\n        this.platform = platform;\n    }\n    render(flags, context, controller, target, instruction) {\n        const expr = ensureExpression(this.parser, instruction.from, 48 /* IsPropertyCommand */ | instruction.mode);\n        const binding = applyBindingBehavior(new _binding_property_binding_js__WEBPACK_IMPORTED_MODULE_6__.PropertyBinding(expr, getTarget(target), instruction.to, instruction.mode, this.observerLocator, context, this.platform.domWriteQueue), expr, context);\n        controller.addBinding(binding);\n    }\n};\nPropertyBindingRenderer = __decorate([\n    renderer(\"rg\" /* propertyBinding */)\n    /** @internal */\n    ,\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser),\n    __param(1, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IObserverLocator),\n    __param(2, _platform_js__WEBPACK_IMPORTED_MODULE_16__.IPlatform)\n], PropertyBindingRenderer);\n\nlet IteratorBindingRenderer = \n/** @internal */\nclass IteratorBindingRenderer {\n    constructor(parser, observerLocator, platform) {\n        this.parser = parser;\n        this.observerLocator = observerLocator;\n        this.platform = platform;\n    }\n    render(flags, context, controller, target, instruction) {\n        const expr = ensureExpression(this.parser, instruction.from, 539 /* ForCommand */);\n        const binding = applyBindingBehavior(new _binding_property_binding_js__WEBPACK_IMPORTED_MODULE_6__.PropertyBinding(expr, getTarget(target), instruction.to, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView, this.observerLocator, context, this.platform.domWriteQueue), expr, context);\n        controller.addBinding(binding);\n    }\n};\nIteratorBindingRenderer = __decorate([\n    renderer(\"rk\" /* iteratorBinding */)\n    /** @internal */\n    ,\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser),\n    __param(1, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IObserverLocator),\n    __param(2, _platform_js__WEBPACK_IMPORTED_MODULE_16__.IPlatform)\n], IteratorBindingRenderer);\n\nlet behaviorExpressionIndex = 0;\nconst behaviorExpressions = [];\nfunction applyBindingBehavior(binding, expression, locator) {\n    while (expression instanceof _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingBehaviorExpression) {\n        behaviorExpressions[behaviorExpressionIndex++] = expression;\n        expression = expression.expression;\n    }\n    while (behaviorExpressionIndex > 0) {\n        const behaviorExpression = behaviorExpressions[--behaviorExpressionIndex];\n        const behaviorOrFactory = locator.get(behaviorExpression.behaviorKey);\n        if (behaviorOrFactory instanceof _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingBehaviorFactory) {\n            binding = behaviorOrFactory.construct(binding, behaviorExpression);\n        }\n    }\n    behaviorExpressions.length = 0;\n    return binding;\n}\nlet TextBindingRenderer = \n/** @internal */\nclass TextBindingRenderer {\n    constructor(parser, observerLocator, platform) {\n        this.parser = parser;\n        this.observerLocator = observerLocator;\n        this.platform = platform;\n    }\n    render(flags, context, controller, target, instruction) {\n        const next = target.nextSibling;\n        const parent = target.parentNode;\n        const doc = this.platform.document;\n        const expr = ensureExpression(this.parser, instruction.from, 2048 /* Interpolation */);\n        const staticParts = expr.parts;\n        const dynamicParts = expr.expressions;\n        const ii = dynamicParts.length;\n        let i = 0;\n        let text = staticParts[0];\n        if (text !== '') {\n            parent.insertBefore(doc.createTextNode(text), next);\n        }\n        for (; ii > i; ++i) {\n            // each of the dynamic expression of an interpolation\n            // will be mapped to a ContentBinding\n            controller.addBinding(applyBindingBehavior(new _binding_interpolation_binding_js__WEBPACK_IMPORTED_MODULE_4__.ContentBinding(dynamicParts[i], \n            // using a text node instead of comment, as a mean to:\n            // support seamless transition between a html node, or a text\n            // reduce the noise in the template, caused by html comment\n            parent.insertBefore(doc.createTextNode(''), next), context, this.observerLocator, this.platform), dynamicParts[i], context));\n            // while each of the static part of an interpolation\n            // will just be a text node\n            text = staticParts[i + 1];\n            if (text !== '') {\n                parent.insertBefore(doc.createTextNode(text), next);\n            }\n        }\n        if (target.nodeName === 'AU-M') {\n            target.remove();\n        }\n    }\n};\nTextBindingRenderer = __decorate([\n    renderer(\"ha\" /* textBinding */)\n    /** @internal */\n    ,\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser),\n    __param(1, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IObserverLocator),\n    __param(2, _platform_js__WEBPACK_IMPORTED_MODULE_16__.IPlatform)\n], TextBindingRenderer);\n\nlet ListenerBindingRenderer = \n/** @internal */\nclass ListenerBindingRenderer {\n    constructor(parser, eventDelegator) {\n        this.parser = parser;\n        this.eventDelegator = eventDelegator;\n    }\n    render(flags, context, controller, target, instruction) {\n        const expr = ensureExpression(this.parser, instruction.from, 80 /* IsEventCommand */ | (instruction.strategy + 6 /* DelegationStrategyDelta */));\n        const binding = applyBindingBehavior(new _binding_listener_js__WEBPACK_IMPORTED_MODULE_8__.Listener(context.platform, instruction.to, instruction.strategy, expr, target, instruction.preventDefault, this.eventDelegator, context), expr, context);\n        controller.addBinding(binding);\n    }\n};\nListenerBindingRenderer = __decorate([\n    renderer(\"hb\" /* listenerBinding */)\n    /** @internal */\n    ,\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser),\n    __param(1, _observation_event_delegator_js__WEBPACK_IMPORTED_MODULE_9__.IEventDelegator)\n], ListenerBindingRenderer);\n\nlet SetAttributeRenderer = \n/** @internal */\nclass SetAttributeRenderer {\n    render(flags, context, controller, target, instruction) {\n        target.setAttribute(instruction.to, instruction.value);\n    }\n};\nSetAttributeRenderer = __decorate([\n    renderer(\"he\" /* setAttribute */)\n    /** @internal */\n], SetAttributeRenderer);\n\nlet SetClassAttributeRenderer = class SetClassAttributeRenderer {\n    render(flags, context, controller, target, instruction) {\n        addClasses(target.classList, instruction.value);\n    }\n};\nSetClassAttributeRenderer = __decorate([\n    renderer(\"hf\" /* setClassAttribute */)\n], SetClassAttributeRenderer);\n\nlet SetStyleAttributeRenderer = class SetStyleAttributeRenderer {\n    render(flags, context, controller, target, instruction) {\n        target.style.cssText += instruction.value;\n    }\n};\nSetStyleAttributeRenderer = __decorate([\n    renderer(\"hg\" /* setStyleAttribute */)\n], SetStyleAttributeRenderer);\n\nlet StylePropertyBindingRenderer = \n/** @internal */\nclass StylePropertyBindingRenderer {\n    constructor(parser, observerLocator, platform) {\n        this.parser = parser;\n        this.observerLocator = observerLocator;\n        this.platform = platform;\n    }\n    render(flags, context, controller, target, instruction) {\n        const expr = ensureExpression(this.parser, instruction.from, 48 /* IsPropertyCommand */ | _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView);\n        const binding = applyBindingBehavior(new _binding_property_binding_js__WEBPACK_IMPORTED_MODULE_6__.PropertyBinding(expr, target.style, instruction.to, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView, this.observerLocator, context, this.platform.domWriteQueue), expr, context);\n        controller.addBinding(binding);\n    }\n};\nStylePropertyBindingRenderer = __decorate([\n    renderer(\"hd\" /* stylePropertyBinding */)\n    /** @internal */\n    ,\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser),\n    __param(1, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IObserverLocator),\n    __param(2, _platform_js__WEBPACK_IMPORTED_MODULE_16__.IPlatform)\n], StylePropertyBindingRenderer);\n\nlet AttributeBindingRenderer = \n/** @internal */\nclass AttributeBindingRenderer {\n    constructor(parser, observerLocator) {\n        this.parser = parser;\n        this.observerLocator = observerLocator;\n    }\n    render(flags, context, controller, target, instruction) {\n        const expr = ensureExpression(this.parser, instruction.from, 48 /* IsPropertyCommand */ | _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView);\n        const binding = applyBindingBehavior(new _binding_attribute_js__WEBPACK_IMPORTED_MODULE_3__.AttributeBinding(expr, target, instruction.attr /* targetAttribute */, instruction.to /* targetKey */, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView, this.observerLocator, context), expr, context);\n        controller.addBinding(binding);\n    }\n};\nAttributeBindingRenderer = __decorate([\n    renderer(\"hc\" /* attributeBinding */)\n    /** @internal */\n    ,\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser),\n    __param(1, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IObserverLocator)\n], AttributeBindingRenderer);\n\n// http://jsben.ch/7n5Kt\nfunction addClasses(classList, className) {\n    const len = className.length;\n    let start = 0;\n    for (let i = 0; i < len; ++i) {\n        if (className.charCodeAt(i) === 0x20) {\n            if (i !== start) {\n                classList.add(className.slice(start, i));\n            }\n            start = i + 1;\n        }\n        else if (i + 1 === len) {\n            classList.add(className.slice(start));\n        }\n    }\n}\n//# sourceMappingURL=renderer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3JlbmRlcmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9yZW5kZXJlci5qcz9jOTJiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xuaW1wb3J0IHsgTWV0YWRhdGEsIFJlZ2lzdHJhdGlvbiwgREkgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgQmluZGluZ01vZGUsIElFeHByZXNzaW9uUGFyc2VyLCBJT2JzZXJ2ZXJMb2NhdG9yLCBCaW5kaW5nQmVoYXZpb3JFeHByZXNzaW9uLCBCaW5kaW5nQmVoYXZpb3JGYWN0b3J5LCB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuaW1wb3J0IHsgQ2FsbEJpbmRpbmcgfSBmcm9tICcuL2JpbmRpbmcvY2FsbC1iaW5kaW5nLmpzJztcbmltcG9ydCB7IEF0dHJpYnV0ZUJpbmRpbmcgfSBmcm9tICcuL2JpbmRpbmcvYXR0cmlidXRlLmpzJztcbmltcG9ydCB7IEludGVycG9sYXRpb25CaW5kaW5nLCBDb250ZW50QmluZGluZyB9IGZyb20gJy4vYmluZGluZy9pbnRlcnBvbGF0aW9uLWJpbmRpbmcuanMnO1xuaW1wb3J0IHsgTGV0QmluZGluZyB9IGZyb20gJy4vYmluZGluZy9sZXQtYmluZGluZy5qcyc7XG5pbXBvcnQgeyBQcm9wZXJ0eUJpbmRpbmcgfSBmcm9tICcuL2JpbmRpbmcvcHJvcGVydHktYmluZGluZy5qcyc7XG5pbXBvcnQgeyBSZWZCaW5kaW5nIH0gZnJvbSAnLi9iaW5kaW5nL3JlZi1iaW5kaW5nLmpzJztcbmltcG9ydCB7IExpc3RlbmVyIH0gZnJvbSAnLi9iaW5kaW5nL2xpc3RlbmVyLmpzJztcbmltcG9ydCB7IElFdmVudERlbGVnYXRvciB9IGZyb20gJy4vb2JzZXJ2YXRpb24vZXZlbnQtZGVsZWdhdG9yLmpzJztcbmltcG9ydCB7IEN1c3RvbUVsZW1lbnQgfSBmcm9tICcuL3Jlc291cmNlcy9jdXN0b20tZWxlbWVudC5qcyc7XG5pbXBvcnQgeyBnZXRSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi90ZW1wbGF0aW5nL3JlbmRlci1jb250ZXh0LmpzJztcbmltcG9ydCB7IEF1U2xvdHNJbmZvIH0gZnJvbSAnLi9yZXNvdXJjZXMvY3VzdG9tLWVsZW1lbnRzL2F1LXNsb3QuanMnO1xuaW1wb3J0IHsgQ3VzdG9tQXR0cmlidXRlIH0gZnJvbSAnLi9yZXNvdXJjZXMvY3VzdG9tLWF0dHJpYnV0ZS5qcyc7XG5pbXBvcnQgeyBjb252ZXJ0VG9SZW5kZXJMb2NhdGlvbiwgc2V0UmVmIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gJy4vdGVtcGxhdGluZy9jb250cm9sbGVyLmpzJztcbmltcG9ydCB7IElQbGF0Zm9ybSB9IGZyb20gJy4vcGxhdGZvcm0uanMnO1xuZXhwb3J0IHZhciBJbnN0cnVjdGlvblR5cGU7XG4oZnVuY3Rpb24gKEluc3RydWN0aW9uVHlwZSkge1xuICAgIEluc3RydWN0aW9uVHlwZVtcImh5ZHJhdGVFbGVtZW50XCJdID0gXCJyYVwiO1xuICAgIEluc3RydWN0aW9uVHlwZVtcImh5ZHJhdGVBdHRyaWJ1dGVcIl0gPSBcInJiXCI7XG4gICAgSW5zdHJ1Y3Rpb25UeXBlW1wiaHlkcmF0ZVRlbXBsYXRlQ29udHJvbGxlclwiXSA9IFwicmNcIjtcbiAgICBJbnN0cnVjdGlvblR5cGVbXCJoeWRyYXRlTGV0RWxlbWVudFwiXSA9IFwicmRcIjtcbiAgICBJbnN0cnVjdGlvblR5cGVbXCJzZXRQcm9wZXJ0eVwiXSA9IFwicmVcIjtcbiAgICBJbnN0cnVjdGlvblR5cGVbXCJpbnRlcnBvbGF0aW9uXCJdID0gXCJyZlwiO1xuICAgIEluc3RydWN0aW9uVHlwZVtcInByb3BlcnR5QmluZGluZ1wiXSA9IFwicmdcIjtcbiAgICBJbnN0cnVjdGlvblR5cGVbXCJjYWxsQmluZGluZ1wiXSA9IFwicmhcIjtcbiAgICBJbnN0cnVjdGlvblR5cGVbXCJsZXRCaW5kaW5nXCJdID0gXCJyaVwiO1xuICAgIEluc3RydWN0aW9uVHlwZVtcInJlZkJpbmRpbmdcIl0gPSBcInJqXCI7XG4gICAgSW5zdHJ1Y3Rpb25UeXBlW1wiaXRlcmF0b3JCaW5kaW5nXCJdID0gXCJya1wiO1xuICAgIEluc3RydWN0aW9uVHlwZVtcInRleHRCaW5kaW5nXCJdID0gXCJoYVwiO1xuICAgIEluc3RydWN0aW9uVHlwZVtcImxpc3RlbmVyQmluZGluZ1wiXSA9IFwiaGJcIjtcbiAgICBJbnN0cnVjdGlvblR5cGVbXCJhdHRyaWJ1dGVCaW5kaW5nXCJdID0gXCJoY1wiO1xuICAgIEluc3RydWN0aW9uVHlwZVtcInN0eWxlUHJvcGVydHlCaW5kaW5nXCJdID0gXCJoZFwiO1xuICAgIEluc3RydWN0aW9uVHlwZVtcInNldEF0dHJpYnV0ZVwiXSA9IFwiaGVcIjtcbiAgICBJbnN0cnVjdGlvblR5cGVbXCJzZXRDbGFzc0F0dHJpYnV0ZVwiXSA9IFwiaGZcIjtcbiAgICBJbnN0cnVjdGlvblR5cGVbXCJzZXRTdHlsZUF0dHJpYnV0ZVwiXSA9IFwiaGdcIjtcbn0pKEluc3RydWN0aW9uVHlwZSB8fCAoSW5zdHJ1Y3Rpb25UeXBlID0ge30pKTtcbmV4cG9ydCBjb25zdCBJSW5zdHJ1Y3Rpb24gPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0luc3RydWN0aW9uJyk7XG5leHBvcnQgZnVuY3Rpb24gaXNJbnN0cnVjdGlvbih2YWx1ZSkge1xuICAgIGNvbnN0IHR5cGUgPSB2YWx1ZS50eXBlO1xuICAgIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgJiYgdHlwZS5sZW5ndGggPT09IDI7XG59XG5leHBvcnQgY2xhc3MgSW50ZXJwb2xhdGlvbkluc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bykge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgfVxuICAgIGdldCB0eXBlKCkgeyByZXR1cm4gXCJyZlwiIC8qIGludGVycG9sYXRpb24gKi87IH1cbn1cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8sIG1vZGUpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIFwicmdcIiAvKiBwcm9wZXJ0eUJpbmRpbmcgKi87IH1cbn1cbmV4cG9ydCBjbGFzcyBJdGVyYXRvckJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIFwicmtcIiAvKiBpdGVyYXRvckJpbmRpbmcgKi87IH1cbn1cbmV4cG9ydCBjbGFzcyBDYWxsQmluZGluZ0luc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bykge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgfVxuICAgIGdldCB0eXBlKCkgeyByZXR1cm4gXCJyaFwiIC8qIGNhbGxCaW5kaW5nICovOyB9XG59XG5leHBvcnQgY2xhc3MgUmVmQmluZGluZ0luc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bykge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgfVxuICAgIGdldCB0eXBlKCkgeyByZXR1cm4gXCJyalwiIC8qIHJlZkJpbmRpbmcgKi87IH1cbn1cbmV4cG9ydCBjbGFzcyBTZXRQcm9wZXJ0eUluc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgdG8pIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgfVxuICAgIGdldCB0eXBlKCkgeyByZXR1cm4gXCJyZVwiIC8qIHNldFByb3BlcnR5ICovOyB9XG59XG5leHBvcnQgY2xhc3MgSHlkcmF0ZUVsZW1lbnRJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IocmVzLCBhbGlhcywgaW5zdHJ1Y3Rpb25zLCBzbG90SW5mbykge1xuICAgICAgICB0aGlzLnJlcyA9IHJlcztcbiAgICAgICAgdGhpcy5hbGlhcyA9IGFsaWFzO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucztcbiAgICAgICAgdGhpcy5zbG90SW5mbyA9IHNsb3RJbmZvO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIFwicmFcIiAvKiBoeWRyYXRlRWxlbWVudCAqLzsgfVxufVxuZXhwb3J0IGNsYXNzIEh5ZHJhdGVBdHRyaWJ1dGVJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IocmVzLCBhbGlhcywgaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgIHRoaXMucmVzID0gcmVzO1xuICAgICAgICB0aGlzLmFsaWFzID0gYWxpYXM7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIFwicmJcIiAvKiBoeWRyYXRlQXR0cmlidXRlICovOyB9XG59XG5leHBvcnQgY2xhc3MgSHlkcmF0ZVRlbXBsYXRlQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IoZGVmLCByZXMsIGFsaWFzLCBpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5kZWYgPSBkZWY7XG4gICAgICAgIHRoaXMucmVzID0gcmVzO1xuICAgICAgICB0aGlzLmFsaWFzID0gYWxpYXM7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIFwicmNcIiAvKiBoeWRyYXRlVGVtcGxhdGVDb250cm9sbGVyICovOyB9XG59XG5leHBvcnQgY2xhc3MgSHlkcmF0ZUxldEVsZW1lbnRJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoaW5zdHJ1Y3Rpb25zLCB0b0JpbmRpbmdDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zO1xuICAgICAgICB0aGlzLnRvQmluZGluZ0NvbnRleHQgPSB0b0JpbmRpbmdDb250ZXh0O1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIFwicmRcIiAvKiBoeWRyYXRlTGV0RWxlbWVudCAqLzsgfVxufVxuZXhwb3J0IGNsYXNzIExldEJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIFwicmlcIiAvKiBsZXRCaW5kaW5nICovOyB9XG59XG5leHBvcnQgY2xhc3MgVGV4dEJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZnJvbSkge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIFwiaGFcIiAvKiB0ZXh0QmluZGluZyAqLzsgfVxufVxuZXhwb3J0IGNsYXNzIExpc3RlbmVyQmluZGluZ0luc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgcHJldmVudERlZmF1bHQsIHN0cmF0ZWd5KSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5wcmV2ZW50RGVmYXVsdCA9IHByZXZlbnREZWZhdWx0O1xuICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgfVxuICAgIGdldCB0eXBlKCkgeyByZXR1cm4gXCJoYlwiIC8qIGxpc3RlbmVyQmluZGluZyAqLzsgfVxufVxuZXhwb3J0IGNsYXNzIFN0eWxlUHJvcGVydHlCaW5kaW5nSW5zdHJ1Y3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICB9XG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiBcImhkXCIgLyogc3R5bGVQcm9wZXJ0eUJpbmRpbmcgKi87IH1cbn1cbmV4cG9ydCBjbGFzcyBTZXRBdHRyaWJ1dGVJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIHRvKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIFwiaGVcIiAvKiBzZXRBdHRyaWJ1dGUgKi87IH1cbn1cbmV4cG9ydCBjbGFzcyBTZXRDbGFzc0F0dHJpYnV0ZUluc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMudHlwZSA9IFwiaGZcIiAvKiBzZXRDbGFzc0F0dHJpYnV0ZSAqLztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2V0U3R5bGVBdHRyaWJ1dGVJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnR5cGUgPSBcImhnXCIgLyogc2V0U3R5bGVBdHRyaWJ1dGUgKi87XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZUJpbmRpbmdJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogYGF0dHJgIGFuZCBgdG9gIGhhdmUgdGhlIHNhbWUgdmFsdWUgb24gYSBub3JtYWwgYXR0cmlidXRlXG4gICAgICogV2lsbCBiZSBkaWZmZXJlbnQgb24gYGNsYXNzYCBhbmQgYHN0eWxlYFxuICAgICAqIG9uIGBjbGFzc2A6IGF0dHIgPSBgY2xhc3NgIChmcm9tIGJpbmRpbmcgY29tbWFuZCksIHRvID0gYXR0cmlidXRlIG5hbWVcbiAgICAgKiBvbiBgc3R5bGVgOiBhdHRyID0gYHN0eWxlYCAoZnJvbSBiaW5kaW5nIGNvbW1hbmQpLCB0byA9IGF0dHJpYnV0ZSBuYW1lXG4gICAgICovXG4gICAgYXR0ciwgZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5hdHRyID0gYXR0cjtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIFwiaGNcIiAvKiBhdHRyaWJ1dGVCaW5kaW5nICovOyB9XG59XG5leHBvcnQgY29uc3QgSVRlbXBsYXRlQ29tcGlsZXIgPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lUZW1wbGF0ZUNvbXBpbGVyJyk7XG5leHBvcnQgY29uc3QgSVJlbmRlcmVyID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJUmVuZGVyZXInKTtcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJlcihpbnN0cnVjdGlvblR5cGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGVjb3JhdG9yKHRhcmdldCkge1xuICAgICAgICAvLyB3cmFwIHRoZSBjb25zdHJ1Y3RvciB0byBzZXQgdGhlIGluc3RydWN0aW9uVHlwZSB0byB0aGUgaW5zdGFuY2UgKGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UgdGhhbiB3aGVuIHNldCBvbiB0aGUgcHJvdG90eXBlKVxuICAgICAgICBjb25zdCBkZWNvcmF0ZWRUYXJnZXQgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgdGFyZ2V0KC4uLmFyZ3MpO1xuICAgICAgICAgICAgaW5zdGFuY2UuaW5zdHJ1Y3Rpb25UeXBlID0gaW5zdHJ1Y3Rpb25UeXBlO1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICB9O1xuICAgICAgICAvLyBtYWtlIHN1cmUgd2UgcmVnaXN0ZXIgdGhlIGRlY29yYXRlZCBjb25zdHJ1Y3RvciB3aXRoIERJXG4gICAgICAgIGRlY29yYXRlZFRhcmdldC5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgUmVnaXN0cmF0aW9uLnNpbmdsZXRvbihJUmVuZGVyZXIsIGRlY29yYXRlZFRhcmdldCkucmVnaXN0ZXIoY29udGFpbmVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gY29weSBvdmVyIGFueSBtZXRhZGF0YSBzdWNoIGFzIGFubm90YXRpb25zIChzZXQgYnkgcHJlY2VkaW5nIGRlY29yYXRvcnMpIGFzIHdlbGwgYXMgc3RhdGljIHByb3BlcnRpZXMgc2V0IGJ5IHRoZSB1c2VyXG4gICAgICAgIC8vIGFsc28gY29weSB0aGUgbmFtZSwgdG8gYmUgbGVzcyBjb25mdXNpbmcgdG8gdXNlcnMgKHNvIHRoZXkgY2FuIHN0aWxsIHVzZSBjb25zdHJ1Y3Rvci5uYW1lIGZvciB3aGF0ZXZlciByZWFzb24pXG4gICAgICAgIC8vIHRoZSBsZW5ndGggKG51bWJlciBvZiBjdG9yIGFyZ3VtZW50cykgaXMgY29waWVkIGZvciB0aGUgc2FtZSByZWFzb25cbiAgICAgICAgY29uc3QgbWV0YWRhdGFLZXlzID0gTWV0YWRhdGEuZ2V0T3duS2V5cyh0YXJnZXQpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBtZXRhZGF0YUtleXMpIHtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlZmluZShrZXksIE1ldGFkYXRhLmdldE93bihrZXksIHRhcmdldCksIGRlY29yYXRlZFRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3duUHJvcGVydGllcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHRhcmdldCk7XG4gICAgICAgIE9iamVjdC5rZXlzKG93blByb3BlcnRpZXMpLmZpbHRlcihwcm9wID0+IHByb3AgIT09ICdwcm90b3R5cGUnKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICAgICAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShkZWNvcmF0ZWRUYXJnZXQsIHByb3AsIG93blByb3BlcnRpZXNbcHJvcF0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlY29yYXRlZFRhcmdldDtcbiAgICB9O1xufVxuZnVuY3Rpb24gZW5zdXJlRXhwcmVzc2lvbihwYXJzZXIsIHNyY09yRXhwciwgYmluZGluZ1R5cGUpIHtcbiAgICBpZiAodHlwZW9mIHNyY09yRXhwciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlci5wYXJzZShzcmNPckV4cHIsIGJpbmRpbmdUeXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHNyY09yRXhwcjtcbn1cbmZ1bmN0aW9uIGdldFRhcmdldChwb3RlbnRpYWxUYXJnZXQpIHtcbiAgICBpZiAocG90ZW50aWFsVGFyZ2V0LnZpZXdNb2RlbCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBwb3RlbnRpYWxUYXJnZXQudmlld01vZGVsO1xuICAgIH1cbiAgICByZXR1cm4gcG90ZW50aWFsVGFyZ2V0O1xufVxuZnVuY3Rpb24gZ2V0UmVmVGFyZ2V0KHJlZkhvc3QsIHJlZlRhcmdldE5hbWUpIHtcbiAgICBpZiAocmVmVGFyZ2V0TmFtZSA9PT0gJ2VsZW1lbnQnKSB7XG4gICAgICAgIHJldHVybiByZWZIb3N0O1xuICAgIH1cbiAgICBzd2l0Y2ggKHJlZlRhcmdldE5hbWUpIHtcbiAgICAgICAgY2FzZSAnY29udHJvbGxlcic6XG4gICAgICAgICAgICAvLyB0aGlzIG1lYW5zIGl0IHN1cHBvcnRzIHJldHVybmluZyB1bmRlZmluZWRcbiAgICAgICAgICAgIHJldHVybiBDdXN0b21FbGVtZW50LmZvcihyZWZIb3N0KTtcbiAgICAgICAgY2FzZSAndmlldyc6XG4gICAgICAgICAgICAvLyB0b2RvOiByZXR1cm5zIG5vZGUgc2VxdWVuY2VzIGZvciBmdW4/XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBzdXBwb3J0ZWQgQVBJJyk7XG4gICAgICAgIGNhc2UgJ3ZpZXctbW9kZWwnOlxuICAgICAgICAgICAgLy8gdGhpcyBtZWFucyBpdCBzdXBwb3J0cyByZXR1cm5pbmcgdW5kZWZpbmVkXG4gICAgICAgICAgICByZXR1cm4gQ3VzdG9tRWxlbWVudC5mb3IocmVmSG9zdCkudmlld01vZGVsO1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBjb25zdCBjYUNvbnRyb2xsZXIgPSBDdXN0b21BdHRyaWJ1dGUuZm9yKHJlZkhvc3QsIHJlZlRhcmdldE5hbWUpO1xuICAgICAgICAgICAgaWYgKGNhQ29udHJvbGxlciAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhQ29udHJvbGxlci52aWV3TW9kZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjZUNvbnRyb2xsZXIgPSBDdXN0b21FbGVtZW50LmZvcihyZWZIb3N0LCB7IG5hbWU6IHJlZlRhcmdldE5hbWUgfSk7XG4gICAgICAgICAgICBpZiAoY2VDb250cm9sbGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHRlZCB0byByZWZlcmVuY2UgXCIke3JlZlRhcmdldE5hbWV9XCIsIGJ1dCBpdCB3YXMgbm90IGZvdW5kIGFtb25nc3QgdGhlIHRhcmdldCdzIEFQSS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjZUNvbnRyb2xsZXIudmlld01vZGVsO1xuICAgICAgICB9XG4gICAgfVxufVxubGV0IFNldFByb3BlcnR5UmVuZGVyZXIgPSBcbi8qKiBAaW50ZXJuYWwgKi9cbmNsYXNzIFNldFByb3BlcnR5UmVuZGVyZXIge1xuICAgIHJlbmRlcihmbGFncywgY29udGV4dCwgY29udHJvbGxlciwgdGFyZ2V0LCBpbnN0cnVjdGlvbikge1xuICAgICAgICBjb25zdCBvYmogPSBnZXRUYXJnZXQodGFyZ2V0KTtcbiAgICAgICAgaWYgKG9iai4kb2JzZXJ2ZXJzICE9PSB2b2lkIDAgJiYgb2JqLiRvYnNlcnZlcnNbaW5zdHJ1Y3Rpb24udG9dICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG9iai4kb2JzZXJ2ZXJzW2luc3RydWN0aW9uLnRvXS5zZXRWYWx1ZShpbnN0cnVjdGlvbi52YWx1ZSwgMiAvKiBmcm9tQmluZCAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmpbaW5zdHJ1Y3Rpb24udG9dID0gaW5zdHJ1Y3Rpb24udmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuU2V0UHJvcGVydHlSZW5kZXJlciA9IF9fZGVjb3JhdGUoW1xuICAgIHJlbmRlcmVyKFwicmVcIiAvKiBzZXRQcm9wZXJ0eSAqLylcbiAgICAvKiogQGludGVybmFsICovXG5dLCBTZXRQcm9wZXJ0eVJlbmRlcmVyKTtcbmV4cG9ydCB7IFNldFByb3BlcnR5UmVuZGVyZXIgfTtcbmxldCBDdXN0b21FbGVtZW50UmVuZGVyZXIgPSBcbi8qKiBAaW50ZXJuYWwgKi9cbmNsYXNzIEN1c3RvbUVsZW1lbnRSZW5kZXJlciB7XG4gICAgcmVuZGVyKGZsYWdzLCBjb250ZXh0LCBjb250cm9sbGVyLCB0YXJnZXQsIGluc3RydWN0aW9uKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IHZpZXdGYWN0b3J5O1xuICAgICAgICBjb25zdCBzbG90SW5mbyA9IGluc3RydWN0aW9uLnNsb3RJbmZvO1xuICAgICAgICBpZiAoc2xvdEluZm8gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3Rpb25DdHggPSBzbG90SW5mby5wcm9qZWN0aW9uQ29udGV4dDtcbiAgICAgICAgICAgIHZpZXdGYWN0b3J5ID0gZ2V0UmVuZGVyQ29udGV4dChwcm9qZWN0aW9uQ3R4LmNvbnRlbnQsIGNvbnRleHQpLmdldFZpZXdGYWN0b3J5KHZvaWQgMCwgc2xvdEluZm8udHlwZSwgcHJvamVjdGlvbkN0eC5zY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0ZWRQcm9qZWN0aW9ucyA9IGNvbnRleHQuZ2V0UHJvamVjdGlvbkZvcihpbnN0cnVjdGlvbik7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBjb250ZXh0LmdldENvbXBvbmVudEZhY3RvcnkoXG4gICAgICAgIC8qIHBhcmVudENvbnRyb2xsZXIgKi8gY29udHJvbGxlciwgXG4gICAgICAgIC8qIGhvc3QgICAgICAgICAgICAgKi8gdGFyZ2V0LCBcbiAgICAgICAgLyogaW5zdHJ1Y3Rpb24gICAgICAqLyBpbnN0cnVjdGlvbiwgXG4gICAgICAgIC8qIHZpZXdGYWN0b3J5ICAgICAgKi8gdmlld0ZhY3RvcnksIFxuICAgICAgICAvKiBsb2NhdGlvbiAgICAgICAgICovIHRhcmdldCwgXG4gICAgICAgIC8qIGF1U2xvdHNJbmZvICAgICAgKi8gbmV3IEF1U2xvdHNJbmZvKE9iamVjdC5rZXlzKChfYSA9IHRhcmdldGVkUHJvamVjdGlvbnMgPT09IG51bGwgfHwgdGFyZ2V0ZWRQcm9qZWN0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0ZWRQcm9qZWN0aW9ucy5wcm9qZWN0aW9ucykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30pKSk7XG4gICAgICAgIGNvbnN0IGtleSA9IEN1c3RvbUVsZW1lbnQua2V5RnJvbShpbnN0cnVjdGlvbi5yZXMpO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBmYWN0b3J5LmNyZWF0ZUNvbXBvbmVudChrZXkpO1xuICAgICAgICBjb25zdCBjaGlsZENvbnRyb2xsZXIgPSBDb250cm9sbGVyLmZvckN1c3RvbUVsZW1lbnQoXG4gICAgICAgIC8qIHJvb3QgICAgICAgICAgICAgICAgKi8gY29udHJvbGxlci5yb290LCBcbiAgICAgICAgLyogY29udGFpbmVyICAgICAgICAgICAqLyBjb250ZXh0LCBcbiAgICAgICAgLyogdmlld01vZGVsICAgICAgICAgICAqLyBjb21wb25lbnQsIFxuICAgICAgICAvKiBob3N0ICAgICAgICAgICAgICAgICovIHRhcmdldCwgXG4gICAgICAgIC8qIHRhcmdldGVkUHJvamVjdGlvbnMgKi8gdGFyZ2V0ZWRQcm9qZWN0aW9ucywgXG4gICAgICAgIC8qIGZsYWdzICAgICAgICAgICAgICAgKi8gZmxhZ3MpO1xuICAgICAgICBmbGFncyA9IGNoaWxkQ29udHJvbGxlci5mbGFncztcbiAgICAgICAgc2V0UmVmKHRhcmdldCwga2V5LCBjaGlsZENvbnRyb2xsZXIpO1xuICAgICAgICBjb250ZXh0LnJlbmRlckNoaWxkcmVuKFxuICAgICAgICAvKiBmbGFncyAgICAgICAgKi8gZmxhZ3MsIFxuICAgICAgICAvKiBpbnN0cnVjdGlvbnMgKi8gaW5zdHJ1Y3Rpb24uaW5zdHJ1Y3Rpb25zLCBcbiAgICAgICAgLyogY29udHJvbGxlciAgICovIGNvbnRyb2xsZXIsIFxuICAgICAgICAvKiB0YXJnZXQgICAgICAgKi8gY2hpbGRDb250cm9sbGVyKTtcbiAgICAgICAgY29udHJvbGxlci5hZGRDb250cm9sbGVyKGNoaWxkQ29udHJvbGxlcik7XG4gICAgICAgIGZhY3RvcnkuZGlzcG9zZSgpO1xuICAgIH1cbn07XG5DdXN0b21FbGVtZW50UmVuZGVyZXIgPSBfX2RlY29yYXRlKFtcbiAgICByZW5kZXJlcihcInJhXCIgLyogaHlkcmF0ZUVsZW1lbnQgKi8pXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuXSwgQ3VzdG9tRWxlbWVudFJlbmRlcmVyKTtcbmV4cG9ydCB7IEN1c3RvbUVsZW1lbnRSZW5kZXJlciB9O1xubGV0IEN1c3RvbUF0dHJpYnV0ZVJlbmRlcmVyID0gXG4vKiogQGludGVybmFsICovXG5jbGFzcyBDdXN0b21BdHRyaWJ1dGVSZW5kZXJlciB7XG4gICAgcmVuZGVyKGZsYWdzLCBjb250ZXh0LCBjb250cm9sbGVyLCB0YXJnZXQsIGluc3RydWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBjb250ZXh0LmdldENvbXBvbmVudEZhY3RvcnkoXG4gICAgICAgIC8qIHBhcmVudENvbnRyb2xsZXIgKi8gY29udHJvbGxlciwgXG4gICAgICAgIC8qIGhvc3QgICAgICAgICAgICAgKi8gdGFyZ2V0LCBcbiAgICAgICAgLyogaW5zdHJ1Y3Rpb24gICAgICAqLyBpbnN0cnVjdGlvbiwgXG4gICAgICAgIC8qIHZpZXdGYWN0b3J5ICAgICAgKi8gdm9pZCAwLCBcbiAgICAgICAgLyogbG9jYXRpb24gICAgICAgICAqLyB2b2lkIDApO1xuICAgICAgICBjb25zdCBrZXkgPSBDdXN0b21BdHRyaWJ1dGUua2V5RnJvbShpbnN0cnVjdGlvbi5yZXMpO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBmYWN0b3J5LmNyZWF0ZUNvbXBvbmVudChrZXkpO1xuICAgICAgICBjb25zdCBjaGlsZENvbnRyb2xsZXIgPSBDb250cm9sbGVyLmZvckN1c3RvbUF0dHJpYnV0ZShcbiAgICAgICAgLyogcm9vdCAgICAgICovIGNvbnRyb2xsZXIucm9vdCwgXG4gICAgICAgIC8qIGNvbnRhaW5lciAqLyBjb250ZXh0LCBcbiAgICAgICAgLyogdmlld01vZGVsICovIGNvbXBvbmVudCwgXG4gICAgICAgIC8qIGhvc3QgICAgICAqLyB0YXJnZXQsIFxuICAgICAgICAvKiBmbGFncyAgICAgKi8gZmxhZ3MpO1xuICAgICAgICBzZXRSZWYodGFyZ2V0LCBrZXksIGNoaWxkQ29udHJvbGxlcik7XG4gICAgICAgIGNvbnRleHQucmVuZGVyQ2hpbGRyZW4oXG4gICAgICAgIC8qIGZsYWdzICAgICAgICAqLyBmbGFncywgXG4gICAgICAgIC8qIGluc3RydWN0aW9ucyAqLyBpbnN0cnVjdGlvbi5pbnN0cnVjdGlvbnMsIFxuICAgICAgICAvKiBjb250cm9sbGVyICAgKi8gY29udHJvbGxlciwgXG4gICAgICAgIC8qIHRhcmdldCAgICAgICAqLyBjaGlsZENvbnRyb2xsZXIpO1xuICAgICAgICBjb250cm9sbGVyLmFkZENvbnRyb2xsZXIoY2hpbGRDb250cm9sbGVyKTtcbiAgICAgICAgZmFjdG9yeS5kaXNwb3NlKCk7XG4gICAgfVxufTtcbkN1c3RvbUF0dHJpYnV0ZVJlbmRlcmVyID0gX19kZWNvcmF0ZShbXG4gICAgcmVuZGVyZXIoXCJyYlwiIC8qIGh5ZHJhdGVBdHRyaWJ1dGUgKi8pXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuXSwgQ3VzdG9tQXR0cmlidXRlUmVuZGVyZXIpO1xuZXhwb3J0IHsgQ3VzdG9tQXR0cmlidXRlUmVuZGVyZXIgfTtcbmxldCBUZW1wbGF0ZUNvbnRyb2xsZXJSZW5kZXJlciA9IFxuLyoqIEBpbnRlcm5hbCAqL1xuY2xhc3MgVGVtcGxhdGVDb250cm9sbGVyUmVuZGVyZXIge1xuICAgIHJlbmRlcihmbGFncywgY29udGV4dCwgY29udHJvbGxlciwgdGFyZ2V0LCBpbnN0cnVjdGlvbikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHZpZXdGYWN0b3J5ID0gZ2V0UmVuZGVyQ29udGV4dChpbnN0cnVjdGlvbi5kZWYsIGNvbnRleHQpLmdldFZpZXdGYWN0b3J5KCk7XG4gICAgICAgIGNvbnN0IHJlbmRlckxvY2F0aW9uID0gY29udmVydFRvUmVuZGVyTG9jYXRpb24odGFyZ2V0KTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50RmFjdG9yeSA9IGNvbnRleHQuZ2V0Q29tcG9uZW50RmFjdG9yeShcbiAgICAgICAgLyogcGFyZW50Q29udHJvbGxlciAqLyBjb250cm9sbGVyLCBcbiAgICAgICAgLyogaG9zdCAgICAgICAgICAgICAqLyB0YXJnZXQsIFxuICAgICAgICAvKiBpbnN0cnVjdGlvbiAgICAgICovIGluc3RydWN0aW9uLCBcbiAgICAgICAgLyogdmlld0ZhY3RvcnkgICAgICAqLyB2aWV3RmFjdG9yeSwgXG4gICAgICAgIC8qIGxvY2F0aW9uICAgICAgICAgKi8gcmVuZGVyTG9jYXRpb24pO1xuICAgICAgICBjb25zdCBrZXkgPSBDdXN0b21BdHRyaWJ1dGUua2V5RnJvbShpbnN0cnVjdGlvbi5yZXMpO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBjb21wb25lbnRGYWN0b3J5LmNyZWF0ZUNvbXBvbmVudChrZXkpO1xuICAgICAgICBjb25zdCBjaGlsZENvbnRyb2xsZXIgPSBDb250cm9sbGVyLmZvckN1c3RvbUF0dHJpYnV0ZShcbiAgICAgICAgLyogcm9vdCAgICAgICovIGNvbnRyb2xsZXIucm9vdCwgXG4gICAgICAgIC8qIGNvbnRhaW5lciAqLyBjb250ZXh0LCBcbiAgICAgICAgLyogdmlld01vZGVsICovIGNvbXBvbmVudCwgXG4gICAgICAgIC8qIGhvc3QgICAgICAqLyB0YXJnZXQsIFxuICAgICAgICAvKiBmbGFncyAgICAgKi8gZmxhZ3MpO1xuICAgICAgICBzZXRSZWYocmVuZGVyTG9jYXRpb24sIGtleSwgY2hpbGRDb250cm9sbGVyKTtcbiAgICAgICAgKF9hID0gY29tcG9uZW50LmxpbmspID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGNvbXBvbmVudCwgZmxhZ3MsIGNvbnRleHQsIGNvbnRyb2xsZXIsIGNoaWxkQ29udHJvbGxlciwgdGFyZ2V0LCBpbnN0cnVjdGlvbik7XG4gICAgICAgIGNvbnRleHQucmVuZGVyQ2hpbGRyZW4oXG4gICAgICAgIC8qIGZsYWdzICAgICAgICAqLyBmbGFncywgXG4gICAgICAgIC8qIGluc3RydWN0aW9ucyAqLyBpbnN0cnVjdGlvbi5pbnN0cnVjdGlvbnMsIFxuICAgICAgICAvKiBjb250cm9sbGVyICAgKi8gY29udHJvbGxlciwgXG4gICAgICAgIC8qIHRhcmdldCAgICAgICAqLyBjaGlsZENvbnRyb2xsZXIpO1xuICAgICAgICBjb250cm9sbGVyLmFkZENvbnRyb2xsZXIoY2hpbGRDb250cm9sbGVyKTtcbiAgICAgICAgY29tcG9uZW50RmFjdG9yeS5kaXNwb3NlKCk7XG4gICAgfVxufTtcblRlbXBsYXRlQ29udHJvbGxlclJlbmRlcmVyID0gX19kZWNvcmF0ZShbXG4gICAgcmVuZGVyZXIoXCJyY1wiIC8qIGh5ZHJhdGVUZW1wbGF0ZUNvbnRyb2xsZXIgKi8pXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuXSwgVGVtcGxhdGVDb250cm9sbGVyUmVuZGVyZXIpO1xuZXhwb3J0IHsgVGVtcGxhdGVDb250cm9sbGVyUmVuZGVyZXIgfTtcbmxldCBMZXRFbGVtZW50UmVuZGVyZXIgPSBcbi8qKiBAaW50ZXJuYWwgKi9cbmNsYXNzIExldEVsZW1lbnRSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBvYnNlcnZlckxvY2F0b3IpIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJMb2NhdG9yID0gb2JzZXJ2ZXJMb2NhdG9yO1xuICAgIH1cbiAgICByZW5kZXIoZmxhZ3MsIGNvbnRleHQsIGNvbnRyb2xsZXIsIHRhcmdldCwgaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZSgpO1xuICAgICAgICBjb25zdCBjaGlsZEluc3RydWN0aW9ucyA9IGluc3RydWN0aW9uLmluc3RydWN0aW9ucztcbiAgICAgICAgY29uc3QgdG9CaW5kaW5nQ29udGV4dCA9IGluc3RydWN0aW9uLnRvQmluZGluZ0NvbnRleHQ7XG4gICAgICAgIGxldCBjaGlsZEluc3RydWN0aW9uO1xuICAgICAgICBsZXQgZXhwcjtcbiAgICAgICAgbGV0IGJpbmRpbmc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNoaWxkSW5zdHJ1Y3Rpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGNoaWxkSW5zdHJ1Y3Rpb24gPSBjaGlsZEluc3RydWN0aW9uc1tpXTtcbiAgICAgICAgICAgIGV4cHIgPSBlbnN1cmVFeHByZXNzaW9uKHRoaXMucGFyc2VyLCBjaGlsZEluc3RydWN0aW9uLmZyb20sIDQ4IC8qIElzUHJvcGVydHlDb21tYW5kICovKTtcbiAgICAgICAgICAgIGJpbmRpbmcgPSBhcHBseUJpbmRpbmdCZWhhdmlvcihuZXcgTGV0QmluZGluZyhleHByLCBjaGlsZEluc3RydWN0aW9uLnRvLCB0aGlzLm9ic2VydmVyTG9jYXRvciwgY29udGV4dCwgdG9CaW5kaW5nQ29udGV4dCksIGV4cHIsIGNvbnRleHQpO1xuICAgICAgICAgICAgY29udHJvbGxlci5hZGRCaW5kaW5nKGJpbmRpbmcpO1xuICAgICAgICB9XG4gICAgfVxufTtcbkxldEVsZW1lbnRSZW5kZXJlciA9IF9fZGVjb3JhdGUoW1xuICAgIHJlbmRlcmVyKFwicmRcIiAvKiBoeWRyYXRlTGV0RWxlbWVudCAqLylcbiAgICAvKiogQGludGVybmFsICovXG4gICAgLFxuICAgIF9fcGFyYW0oMCwgSUV4cHJlc3Npb25QYXJzZXIpLFxuICAgIF9fcGFyYW0oMSwgSU9ic2VydmVyTG9jYXRvcilcbl0sIExldEVsZW1lbnRSZW5kZXJlcik7XG5leHBvcnQgeyBMZXRFbGVtZW50UmVuZGVyZXIgfTtcbmxldCBDYWxsQmluZGluZ1JlbmRlcmVyID0gXG4vKiogQGludGVybmFsICovXG5jbGFzcyBDYWxsQmluZGluZ1JlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXIsIG9ic2VydmVyTG9jYXRvcikge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5vYnNlcnZlckxvY2F0b3IgPSBvYnNlcnZlckxvY2F0b3I7XG4gICAgfVxuICAgIHJlbmRlcihmbGFncywgY29udGV4dCwgY29udHJvbGxlciwgdGFyZ2V0LCBpbnN0cnVjdGlvbikge1xuICAgICAgICBjb25zdCBleHByID0gZW5zdXJlRXhwcmVzc2lvbih0aGlzLnBhcnNlciwgaW5zdHJ1Y3Rpb24uZnJvbSwgMTUzIC8qIENhbGxDb21tYW5kICovKTtcbiAgICAgICAgY29uc3QgYmluZGluZyA9IGFwcGx5QmluZGluZ0JlaGF2aW9yKG5ldyBDYWxsQmluZGluZyhleHByLCBnZXRUYXJnZXQodGFyZ2V0KSwgaW5zdHJ1Y3Rpb24udG8sIHRoaXMub2JzZXJ2ZXJMb2NhdG9yLCBjb250ZXh0KSwgZXhwciwgY29udGV4dCk7XG4gICAgICAgIGNvbnRyb2xsZXIuYWRkQmluZGluZyhiaW5kaW5nKTtcbiAgICB9XG59O1xuQ2FsbEJpbmRpbmdSZW5kZXJlciA9IF9fZGVjb3JhdGUoW1xuICAgIHJlbmRlcmVyKFwicmhcIiAvKiBjYWxsQmluZGluZyAqLylcbiAgICAvKiogQGludGVybmFsICovXG4gICAgLFxuICAgIF9fcGFyYW0oMCwgSUV4cHJlc3Npb25QYXJzZXIpLFxuICAgIF9fcGFyYW0oMSwgSU9ic2VydmVyTG9jYXRvcilcbl0sIENhbGxCaW5kaW5nUmVuZGVyZXIpO1xuZXhwb3J0IHsgQ2FsbEJpbmRpbmdSZW5kZXJlciB9O1xubGV0IFJlZkJpbmRpbmdSZW5kZXJlciA9IFxuLyoqIEBpbnRlcm5hbCAqL1xuY2xhc3MgUmVmQmluZGluZ1JlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXIpIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgfVxuICAgIHJlbmRlcihmbGFncywgY29udGV4dCwgY29udHJvbGxlciwgdGFyZ2V0LCBpbnN0cnVjdGlvbikge1xuICAgICAgICBjb25zdCBleHByID0gZW5zdXJlRXhwcmVzc2lvbih0aGlzLnBhcnNlciwgaW5zdHJ1Y3Rpb24uZnJvbSwgNTM3NiAvKiBJc1JlZiAqLyk7XG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSBhcHBseUJpbmRpbmdCZWhhdmlvcihuZXcgUmVmQmluZGluZyhleHByLCBnZXRSZWZUYXJnZXQodGFyZ2V0LCBpbnN0cnVjdGlvbi50byksIGNvbnRleHQpLCBleHByLCBjb250ZXh0KTtcbiAgICAgICAgY29udHJvbGxlci5hZGRCaW5kaW5nKGJpbmRpbmcpO1xuICAgIH1cbn07XG5SZWZCaW5kaW5nUmVuZGVyZXIgPSBfX2RlY29yYXRlKFtcbiAgICByZW5kZXJlcihcInJqXCIgLyogcmVmQmluZGluZyAqLylcbiAgICAvKiogQGludGVybmFsICovXG4gICAgLFxuICAgIF9fcGFyYW0oMCwgSUV4cHJlc3Npb25QYXJzZXIpXG5dLCBSZWZCaW5kaW5nUmVuZGVyZXIpO1xuZXhwb3J0IHsgUmVmQmluZGluZ1JlbmRlcmVyIH07XG5sZXQgSW50ZXJwb2xhdGlvbkJpbmRpbmdSZW5kZXJlciA9IFxuLyoqIEBpbnRlcm5hbCAqL1xuY2xhc3MgSW50ZXJwb2xhdGlvbkJpbmRpbmdSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBvYnNlcnZlckxvY2F0b3IsIHBsYXRmb3JtKSB7XG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgICAgICB0aGlzLm9ic2VydmVyTG9jYXRvciA9IG9ic2VydmVyTG9jYXRvcjtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xuICAgIH1cbiAgICByZW5kZXIoZmxhZ3MsIGNvbnRleHQsIGNvbnRyb2xsZXIsIHRhcmdldCwgaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgY29uc3QgZXhwciA9IGVuc3VyZUV4cHJlc3Npb24odGhpcy5wYXJzZXIsIGluc3RydWN0aW9uLmZyb20sIDIwNDggLyogSW50ZXJwb2xhdGlvbiAqLyk7XG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSBuZXcgSW50ZXJwb2xhdGlvbkJpbmRpbmcodGhpcy5vYnNlcnZlckxvY2F0b3IsIGV4cHIsIGdldFRhcmdldCh0YXJnZXQpLCBpbnN0cnVjdGlvbi50bywgQmluZGluZ01vZGUudG9WaWV3LCBjb250ZXh0LCB0aGlzLnBsYXRmb3JtLmRvbVdyaXRlUXVldWUpO1xuICAgICAgICBjb25zdCBwYXJ0QmluZGluZ3MgPSBiaW5kaW5nLnBhcnRCaW5kaW5ncztcbiAgICAgICAgY29uc3QgaWkgPSBwYXJ0QmluZGluZ3MubGVuZ3RoO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBwYXJ0QmluZGluZztcbiAgICAgICAgZm9yICg7IGlpID4gaTsgKytpKSB7XG4gICAgICAgICAgICBwYXJ0QmluZGluZyA9IHBhcnRCaW5kaW5nc1tpXTtcbiAgICAgICAgICAgIHBhcnRCaW5kaW5nc1tpXSA9IGFwcGx5QmluZGluZ0JlaGF2aW9yKHBhcnRCaW5kaW5nLCBwYXJ0QmluZGluZy5zb3VyY2VFeHByZXNzaW9uLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjb250cm9sbGVyLmFkZEJpbmRpbmcoYmluZGluZyk7XG4gICAgfVxufTtcbkludGVycG9sYXRpb25CaW5kaW5nUmVuZGVyZXIgPSBfX2RlY29yYXRlKFtcbiAgICByZW5kZXJlcihcInJmXCIgLyogaW50ZXJwb2xhdGlvbiAqLylcbiAgICAvKiogQGludGVybmFsICovXG4gICAgLFxuICAgIF9fcGFyYW0oMCwgSUV4cHJlc3Npb25QYXJzZXIpLFxuICAgIF9fcGFyYW0oMSwgSU9ic2VydmVyTG9jYXRvciksXG4gICAgX19wYXJhbSgyLCBJUGxhdGZvcm0pXG5dLCBJbnRlcnBvbGF0aW9uQmluZGluZ1JlbmRlcmVyKTtcbmV4cG9ydCB7IEludGVycG9sYXRpb25CaW5kaW5nUmVuZGVyZXIgfTtcbmxldCBQcm9wZXJ0eUJpbmRpbmdSZW5kZXJlciA9IFxuLyoqIEBpbnRlcm5hbCAqL1xuY2xhc3MgUHJvcGVydHlCaW5kaW5nUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgb2JzZXJ2ZXJMb2NhdG9yLCBwbGF0Zm9ybSkge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5vYnNlcnZlckxvY2F0b3IgPSBvYnNlcnZlckxvY2F0b3I7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbiAgICB9XG4gICAgcmVuZGVyKGZsYWdzLCBjb250ZXh0LCBjb250cm9sbGVyLCB0YXJnZXQsIGluc3RydWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGV4cHIgPSBlbnN1cmVFeHByZXNzaW9uKHRoaXMucGFyc2VyLCBpbnN0cnVjdGlvbi5mcm9tLCA0OCAvKiBJc1Byb3BlcnR5Q29tbWFuZCAqLyB8IGluc3RydWN0aW9uLm1vZGUpO1xuICAgICAgICBjb25zdCBiaW5kaW5nID0gYXBwbHlCaW5kaW5nQmVoYXZpb3IobmV3IFByb3BlcnR5QmluZGluZyhleHByLCBnZXRUYXJnZXQodGFyZ2V0KSwgaW5zdHJ1Y3Rpb24udG8sIGluc3RydWN0aW9uLm1vZGUsIHRoaXMub2JzZXJ2ZXJMb2NhdG9yLCBjb250ZXh0LCB0aGlzLnBsYXRmb3JtLmRvbVdyaXRlUXVldWUpLCBleHByLCBjb250ZXh0KTtcbiAgICAgICAgY29udHJvbGxlci5hZGRCaW5kaW5nKGJpbmRpbmcpO1xuICAgIH1cbn07XG5Qcm9wZXJ0eUJpbmRpbmdSZW5kZXJlciA9IF9fZGVjb3JhdGUoW1xuICAgIHJlbmRlcmVyKFwicmdcIiAvKiBwcm9wZXJ0eUJpbmRpbmcgKi8pXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICxcbiAgICBfX3BhcmFtKDAsIElFeHByZXNzaW9uUGFyc2VyKSxcbiAgICBfX3BhcmFtKDEsIElPYnNlcnZlckxvY2F0b3IpLFxuICAgIF9fcGFyYW0oMiwgSVBsYXRmb3JtKVxuXSwgUHJvcGVydHlCaW5kaW5nUmVuZGVyZXIpO1xuZXhwb3J0IHsgUHJvcGVydHlCaW5kaW5nUmVuZGVyZXIgfTtcbmxldCBJdGVyYXRvckJpbmRpbmdSZW5kZXJlciA9IFxuLyoqIEBpbnRlcm5hbCAqL1xuY2xhc3MgSXRlcmF0b3JCaW5kaW5nUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgb2JzZXJ2ZXJMb2NhdG9yLCBwbGF0Zm9ybSkge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5vYnNlcnZlckxvY2F0b3IgPSBvYnNlcnZlckxvY2F0b3I7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbiAgICB9XG4gICAgcmVuZGVyKGZsYWdzLCBjb250ZXh0LCBjb250cm9sbGVyLCB0YXJnZXQsIGluc3RydWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGV4cHIgPSBlbnN1cmVFeHByZXNzaW9uKHRoaXMucGFyc2VyLCBpbnN0cnVjdGlvbi5mcm9tLCA1MzkgLyogRm9yQ29tbWFuZCAqLyk7XG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSBhcHBseUJpbmRpbmdCZWhhdmlvcihuZXcgUHJvcGVydHlCaW5kaW5nKGV4cHIsIGdldFRhcmdldCh0YXJnZXQpLCBpbnN0cnVjdGlvbi50bywgQmluZGluZ01vZGUudG9WaWV3LCB0aGlzLm9ic2VydmVyTG9jYXRvciwgY29udGV4dCwgdGhpcy5wbGF0Zm9ybS5kb21Xcml0ZVF1ZXVlKSwgZXhwciwgY29udGV4dCk7XG4gICAgICAgIGNvbnRyb2xsZXIuYWRkQmluZGluZyhiaW5kaW5nKTtcbiAgICB9XG59O1xuSXRlcmF0b3JCaW5kaW5nUmVuZGVyZXIgPSBfX2RlY29yYXRlKFtcbiAgICByZW5kZXJlcihcInJrXCIgLyogaXRlcmF0b3JCaW5kaW5nICovKVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAsXG4gICAgX19wYXJhbSgwLCBJRXhwcmVzc2lvblBhcnNlciksXG4gICAgX19wYXJhbSgxLCBJT2JzZXJ2ZXJMb2NhdG9yKSxcbiAgICBfX3BhcmFtKDIsIElQbGF0Zm9ybSlcbl0sIEl0ZXJhdG9yQmluZGluZ1JlbmRlcmVyKTtcbmV4cG9ydCB7IEl0ZXJhdG9yQmluZGluZ1JlbmRlcmVyIH07XG5sZXQgYmVoYXZpb3JFeHByZXNzaW9uSW5kZXggPSAwO1xuY29uc3QgYmVoYXZpb3JFeHByZXNzaW9ucyA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QmluZGluZ0JlaGF2aW9yKGJpbmRpbmcsIGV4cHJlc3Npb24sIGxvY2F0b3IpIHtcbiAgICB3aGlsZSAoZXhwcmVzc2lvbiBpbnN0YW5jZW9mIEJpbmRpbmdCZWhhdmlvckV4cHJlc3Npb24pIHtcbiAgICAgICAgYmVoYXZpb3JFeHByZXNzaW9uc1tiZWhhdmlvckV4cHJlc3Npb25JbmRleCsrXSA9IGV4cHJlc3Npb247XG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLmV4cHJlc3Npb247XG4gICAgfVxuICAgIHdoaWxlIChiZWhhdmlvckV4cHJlc3Npb25JbmRleCA+IDApIHtcbiAgICAgICAgY29uc3QgYmVoYXZpb3JFeHByZXNzaW9uID0gYmVoYXZpb3JFeHByZXNzaW9uc1stLWJlaGF2aW9yRXhwcmVzc2lvbkluZGV4XTtcbiAgICAgICAgY29uc3QgYmVoYXZpb3JPckZhY3RvcnkgPSBsb2NhdG9yLmdldChiZWhhdmlvckV4cHJlc3Npb24uYmVoYXZpb3JLZXkpO1xuICAgICAgICBpZiAoYmVoYXZpb3JPckZhY3RvcnkgaW5zdGFuY2VvZiBCaW5kaW5nQmVoYXZpb3JGYWN0b3J5KSB7XG4gICAgICAgICAgICBiaW5kaW5nID0gYmVoYXZpb3JPckZhY3RvcnkuY29uc3RydWN0KGJpbmRpbmcsIGJlaGF2aW9yRXhwcmVzc2lvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYmVoYXZpb3JFeHByZXNzaW9ucy5sZW5ndGggPSAwO1xuICAgIHJldHVybiBiaW5kaW5nO1xufVxubGV0IFRleHRCaW5kaW5nUmVuZGVyZXIgPSBcbi8qKiBAaW50ZXJuYWwgKi9cbmNsYXNzIFRleHRCaW5kaW5nUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgb2JzZXJ2ZXJMb2NhdG9yLCBwbGF0Zm9ybSkge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5vYnNlcnZlckxvY2F0b3IgPSBvYnNlcnZlckxvY2F0b3I7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbiAgICB9XG4gICAgcmVuZGVyKGZsYWdzLCBjb250ZXh0LCBjb250cm9sbGVyLCB0YXJnZXQsIGluc3RydWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSB0YXJnZXQubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICBjb25zdCBkb2MgPSB0aGlzLnBsYXRmb3JtLmRvY3VtZW50O1xuICAgICAgICBjb25zdCBleHByID0gZW5zdXJlRXhwcmVzc2lvbih0aGlzLnBhcnNlciwgaW5zdHJ1Y3Rpb24uZnJvbSwgMjA0OCAvKiBJbnRlcnBvbGF0aW9uICovKTtcbiAgICAgICAgY29uc3Qgc3RhdGljUGFydHMgPSBleHByLnBhcnRzO1xuICAgICAgICBjb25zdCBkeW5hbWljUGFydHMgPSBleHByLmV4cHJlc3Npb25zO1xuICAgICAgICBjb25zdCBpaSA9IGR5bmFtaWNQYXJ0cy5sZW5ndGg7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgbGV0IHRleHQgPSBzdGF0aWNQYXJ0c1swXTtcbiAgICAgICAgaWYgKHRleHQgIT09ICcnKSB7XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICg7IGlpID4gaTsgKytpKSB7XG4gICAgICAgICAgICAvLyBlYWNoIG9mIHRoZSBkeW5hbWljIGV4cHJlc3Npb24gb2YgYW4gaW50ZXJwb2xhdGlvblxuICAgICAgICAgICAgLy8gd2lsbCBiZSBtYXBwZWQgdG8gYSBDb250ZW50QmluZGluZ1xuICAgICAgICAgICAgY29udHJvbGxlci5hZGRCaW5kaW5nKGFwcGx5QmluZGluZ0JlaGF2aW9yKG5ldyBDb250ZW50QmluZGluZyhkeW5hbWljUGFydHNbaV0sIFxuICAgICAgICAgICAgLy8gdXNpbmcgYSB0ZXh0IG5vZGUgaW5zdGVhZCBvZiBjb21tZW50LCBhcyBhIG1lYW4gdG86XG4gICAgICAgICAgICAvLyBzdXBwb3J0IHNlYW1sZXNzIHRyYW5zaXRpb24gYmV0d2VlbiBhIGh0bWwgbm9kZSwgb3IgYSB0ZXh0XG4gICAgICAgICAgICAvLyByZWR1Y2UgdGhlIG5vaXNlIGluIHRoZSB0ZW1wbGF0ZSwgY2F1c2VkIGJ5IGh0bWwgY29tbWVudFxuICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShkb2MuY3JlYXRlVGV4dE5vZGUoJycpLCBuZXh0KSwgY29udGV4dCwgdGhpcy5vYnNlcnZlckxvY2F0b3IsIHRoaXMucGxhdGZvcm0pLCBkeW5hbWljUGFydHNbaV0sIGNvbnRleHQpKTtcbiAgICAgICAgICAgIC8vIHdoaWxlIGVhY2ggb2YgdGhlIHN0YXRpYyBwYXJ0IG9mIGFuIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIC8vIHdpbGwganVzdCBiZSBhIHRleHQgbm9kZVxuICAgICAgICAgICAgdGV4dCA9IHN0YXRpY1BhcnRzW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh0ZXh0ICE9PSAnJykge1xuICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZG9jLmNyZWF0ZVRleHROb2RlKHRleHQpLCBuZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnQVUtTScpIHtcbiAgICAgICAgICAgIHRhcmdldC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5UZXh0QmluZGluZ1JlbmRlcmVyID0gX19kZWNvcmF0ZShbXG4gICAgcmVuZGVyZXIoXCJoYVwiIC8qIHRleHRCaW5kaW5nICovKVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAsXG4gICAgX19wYXJhbSgwLCBJRXhwcmVzc2lvblBhcnNlciksXG4gICAgX19wYXJhbSgxLCBJT2JzZXJ2ZXJMb2NhdG9yKSxcbiAgICBfX3BhcmFtKDIsIElQbGF0Zm9ybSlcbl0sIFRleHRCaW5kaW5nUmVuZGVyZXIpO1xuZXhwb3J0IHsgVGV4dEJpbmRpbmdSZW5kZXJlciB9O1xubGV0IExpc3RlbmVyQmluZGluZ1JlbmRlcmVyID0gXG4vKiogQGludGVybmFsICovXG5jbGFzcyBMaXN0ZW5lckJpbmRpbmdSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBldmVudERlbGVnYXRvcikge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5ldmVudERlbGVnYXRvciA9IGV2ZW50RGVsZWdhdG9yO1xuICAgIH1cbiAgICByZW5kZXIoZmxhZ3MsIGNvbnRleHQsIGNvbnRyb2xsZXIsIHRhcmdldCwgaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgY29uc3QgZXhwciA9IGVuc3VyZUV4cHJlc3Npb24odGhpcy5wYXJzZXIsIGluc3RydWN0aW9uLmZyb20sIDgwIC8qIElzRXZlbnRDb21tYW5kICovIHwgKGluc3RydWN0aW9uLnN0cmF0ZWd5ICsgNiAvKiBEZWxlZ2F0aW9uU3RyYXRlZ3lEZWx0YSAqLykpO1xuICAgICAgICBjb25zdCBiaW5kaW5nID0gYXBwbHlCaW5kaW5nQmVoYXZpb3IobmV3IExpc3RlbmVyKGNvbnRleHQucGxhdGZvcm0sIGluc3RydWN0aW9uLnRvLCBpbnN0cnVjdGlvbi5zdHJhdGVneSwgZXhwciwgdGFyZ2V0LCBpbnN0cnVjdGlvbi5wcmV2ZW50RGVmYXVsdCwgdGhpcy5ldmVudERlbGVnYXRvciwgY29udGV4dCksIGV4cHIsIGNvbnRleHQpO1xuICAgICAgICBjb250cm9sbGVyLmFkZEJpbmRpbmcoYmluZGluZyk7XG4gICAgfVxufTtcbkxpc3RlbmVyQmluZGluZ1JlbmRlcmVyID0gX19kZWNvcmF0ZShbXG4gICAgcmVuZGVyZXIoXCJoYlwiIC8qIGxpc3RlbmVyQmluZGluZyAqLylcbiAgICAvKiogQGludGVybmFsICovXG4gICAgLFxuICAgIF9fcGFyYW0oMCwgSUV4cHJlc3Npb25QYXJzZXIpLFxuICAgIF9fcGFyYW0oMSwgSUV2ZW50RGVsZWdhdG9yKVxuXSwgTGlzdGVuZXJCaW5kaW5nUmVuZGVyZXIpO1xuZXhwb3J0IHsgTGlzdGVuZXJCaW5kaW5nUmVuZGVyZXIgfTtcbmxldCBTZXRBdHRyaWJ1dGVSZW5kZXJlciA9IFxuLyoqIEBpbnRlcm5hbCAqL1xuY2xhc3MgU2V0QXR0cmlidXRlUmVuZGVyZXIge1xuICAgIHJlbmRlcihmbGFncywgY29udGV4dCwgY29udHJvbGxlciwgdGFyZ2V0LCBpbnN0cnVjdGlvbikge1xuICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKGluc3RydWN0aW9uLnRvLCBpbnN0cnVjdGlvbi52YWx1ZSk7XG4gICAgfVxufTtcblNldEF0dHJpYnV0ZVJlbmRlcmVyID0gX19kZWNvcmF0ZShbXG4gICAgcmVuZGVyZXIoXCJoZVwiIC8qIHNldEF0dHJpYnV0ZSAqLylcbiAgICAvKiogQGludGVybmFsICovXG5dLCBTZXRBdHRyaWJ1dGVSZW5kZXJlcik7XG5leHBvcnQgeyBTZXRBdHRyaWJ1dGVSZW5kZXJlciB9O1xubGV0IFNldENsYXNzQXR0cmlidXRlUmVuZGVyZXIgPSBjbGFzcyBTZXRDbGFzc0F0dHJpYnV0ZVJlbmRlcmVyIHtcbiAgICByZW5kZXIoZmxhZ3MsIGNvbnRleHQsIGNvbnRyb2xsZXIsIHRhcmdldCwgaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgYWRkQ2xhc3Nlcyh0YXJnZXQuY2xhc3NMaXN0LCBpbnN0cnVjdGlvbi52YWx1ZSk7XG4gICAgfVxufTtcblNldENsYXNzQXR0cmlidXRlUmVuZGVyZXIgPSBfX2RlY29yYXRlKFtcbiAgICByZW5kZXJlcihcImhmXCIgLyogc2V0Q2xhc3NBdHRyaWJ1dGUgKi8pXG5dLCBTZXRDbGFzc0F0dHJpYnV0ZVJlbmRlcmVyKTtcbmV4cG9ydCB7IFNldENsYXNzQXR0cmlidXRlUmVuZGVyZXIgfTtcbmxldCBTZXRTdHlsZUF0dHJpYnV0ZVJlbmRlcmVyID0gY2xhc3MgU2V0U3R5bGVBdHRyaWJ1dGVSZW5kZXJlciB7XG4gICAgcmVuZGVyKGZsYWdzLCBjb250ZXh0LCBjb250cm9sbGVyLCB0YXJnZXQsIGluc3RydWN0aW9uKSB7XG4gICAgICAgIHRhcmdldC5zdHlsZS5jc3NUZXh0ICs9IGluc3RydWN0aW9uLnZhbHVlO1xuICAgIH1cbn07XG5TZXRTdHlsZUF0dHJpYnV0ZVJlbmRlcmVyID0gX19kZWNvcmF0ZShbXG4gICAgcmVuZGVyZXIoXCJoZ1wiIC8qIHNldFN0eWxlQXR0cmlidXRlICovKVxuXSwgU2V0U3R5bGVBdHRyaWJ1dGVSZW5kZXJlcik7XG5leHBvcnQgeyBTZXRTdHlsZUF0dHJpYnV0ZVJlbmRlcmVyIH07XG5sZXQgU3R5bGVQcm9wZXJ0eUJpbmRpbmdSZW5kZXJlciA9IFxuLyoqIEBpbnRlcm5hbCAqL1xuY2xhc3MgU3R5bGVQcm9wZXJ0eUJpbmRpbmdSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBvYnNlcnZlckxvY2F0b3IsIHBsYXRmb3JtKSB7XG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgICAgICB0aGlzLm9ic2VydmVyTG9jYXRvciA9IG9ic2VydmVyTG9jYXRvcjtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xuICAgIH1cbiAgICByZW5kZXIoZmxhZ3MsIGNvbnRleHQsIGNvbnRyb2xsZXIsIHRhcmdldCwgaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgY29uc3QgZXhwciA9IGVuc3VyZUV4cHJlc3Npb24odGhpcy5wYXJzZXIsIGluc3RydWN0aW9uLmZyb20sIDQ4IC8qIElzUHJvcGVydHlDb21tYW5kICovIHwgQmluZGluZ01vZGUudG9WaWV3KTtcbiAgICAgICAgY29uc3QgYmluZGluZyA9IGFwcGx5QmluZGluZ0JlaGF2aW9yKG5ldyBQcm9wZXJ0eUJpbmRpbmcoZXhwciwgdGFyZ2V0LnN0eWxlLCBpbnN0cnVjdGlvbi50bywgQmluZGluZ01vZGUudG9WaWV3LCB0aGlzLm9ic2VydmVyTG9jYXRvciwgY29udGV4dCwgdGhpcy5wbGF0Zm9ybS5kb21Xcml0ZVF1ZXVlKSwgZXhwciwgY29udGV4dCk7XG4gICAgICAgIGNvbnRyb2xsZXIuYWRkQmluZGluZyhiaW5kaW5nKTtcbiAgICB9XG59O1xuU3R5bGVQcm9wZXJ0eUJpbmRpbmdSZW5kZXJlciA9IF9fZGVjb3JhdGUoW1xuICAgIHJlbmRlcmVyKFwiaGRcIiAvKiBzdHlsZVByb3BlcnR5QmluZGluZyAqLylcbiAgICAvKiogQGludGVybmFsICovXG4gICAgLFxuICAgIF9fcGFyYW0oMCwgSUV4cHJlc3Npb25QYXJzZXIpLFxuICAgIF9fcGFyYW0oMSwgSU9ic2VydmVyTG9jYXRvciksXG4gICAgX19wYXJhbSgyLCBJUGxhdGZvcm0pXG5dLCBTdHlsZVByb3BlcnR5QmluZGluZ1JlbmRlcmVyKTtcbmV4cG9ydCB7IFN0eWxlUHJvcGVydHlCaW5kaW5nUmVuZGVyZXIgfTtcbmxldCBBdHRyaWJ1dGVCaW5kaW5nUmVuZGVyZXIgPSBcbi8qKiBAaW50ZXJuYWwgKi9cbmNsYXNzIEF0dHJpYnV0ZUJpbmRpbmdSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBvYnNlcnZlckxvY2F0b3IpIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJMb2NhdG9yID0gb2JzZXJ2ZXJMb2NhdG9yO1xuICAgIH1cbiAgICByZW5kZXIoZmxhZ3MsIGNvbnRleHQsIGNvbnRyb2xsZXIsIHRhcmdldCwgaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgY29uc3QgZXhwciA9IGVuc3VyZUV4cHJlc3Npb24odGhpcy5wYXJzZXIsIGluc3RydWN0aW9uLmZyb20sIDQ4IC8qIElzUHJvcGVydHlDb21tYW5kICovIHwgQmluZGluZ01vZGUudG9WaWV3KTtcbiAgICAgICAgY29uc3QgYmluZGluZyA9IGFwcGx5QmluZGluZ0JlaGF2aW9yKG5ldyBBdHRyaWJ1dGVCaW5kaW5nKGV4cHIsIHRhcmdldCwgaW5zdHJ1Y3Rpb24uYXR0ciAvKiB0YXJnZXRBdHRyaWJ1dGUgKi8sIGluc3RydWN0aW9uLnRvIC8qIHRhcmdldEtleSAqLywgQmluZGluZ01vZGUudG9WaWV3LCB0aGlzLm9ic2VydmVyTG9jYXRvciwgY29udGV4dCksIGV4cHIsIGNvbnRleHQpO1xuICAgICAgICBjb250cm9sbGVyLmFkZEJpbmRpbmcoYmluZGluZyk7XG4gICAgfVxufTtcbkF0dHJpYnV0ZUJpbmRpbmdSZW5kZXJlciA9IF9fZGVjb3JhdGUoW1xuICAgIHJlbmRlcmVyKFwiaGNcIiAvKiBhdHRyaWJ1dGVCaW5kaW5nICovKVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAsXG4gICAgX19wYXJhbSgwLCBJRXhwcmVzc2lvblBhcnNlciksXG4gICAgX19wYXJhbSgxLCBJT2JzZXJ2ZXJMb2NhdG9yKVxuXSwgQXR0cmlidXRlQmluZGluZ1JlbmRlcmVyKTtcbmV4cG9ydCB7IEF0dHJpYnV0ZUJpbmRpbmdSZW5kZXJlciB9O1xuLy8gaHR0cDovL2pzYmVuLmNoLzduNUt0XG5mdW5jdGlvbiBhZGRDbGFzc2VzKGNsYXNzTGlzdCwgY2xhc3NOYW1lKSB7XG4gICAgY29uc3QgbGVuID0gY2xhc3NOYW1lLmxlbmd0aDtcbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgaWYgKGNsYXNzTmFtZS5jaGFyQ29kZUF0KGkpID09PSAweDIwKSB7XG4gICAgICAgICAgICBpZiAoaSAhPT0gc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBjbGFzc0xpc3QuYWRkKGNsYXNzTmFtZS5zbGljZShzdGFydCwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpICsgMSA9PT0gbGVuKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKGNsYXNzTmFtZS5zbGljZShzdGFydCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/renderer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/attribute-pattern.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/attribute-pattern.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CharSpec\": () => (/* binding */ CharSpec),\n/* harmony export */   \"Interpretation\": () => (/* binding */ Interpretation),\n/* harmony export */   \"State\": () => (/* binding */ State),\n/* harmony export */   \"StaticSegment\": () => (/* binding */ StaticSegment),\n/* harmony export */   \"DynamicSegment\": () => (/* binding */ DynamicSegment),\n/* harmony export */   \"SymbolSegment\": () => (/* binding */ SymbolSegment),\n/* harmony export */   \"SegmentTypes\": () => (/* binding */ SegmentTypes),\n/* harmony export */   \"ISyntaxInterpreter\": () => (/* binding */ ISyntaxInterpreter),\n/* harmony export */   \"SyntaxInterpreter\": () => (/* binding */ SyntaxInterpreter),\n/* harmony export */   \"AttrSyntax\": () => (/* binding */ AttrSyntax),\n/* harmony export */   \"IAttributePattern\": () => (/* binding */ IAttributePattern),\n/* harmony export */   \"IAttributeParser\": () => (/* binding */ IAttributeParser),\n/* harmony export */   \"AttributeParser\": () => (/* binding */ AttributeParser),\n/* harmony export */   \"attributePattern\": () => (/* binding */ attributePattern),\n/* harmony export */   \"AttributePatternResourceDefinition\": () => (/* binding */ AttributePatternResourceDefinition),\n/* harmony export */   \"AttributePattern\": () => (/* binding */ AttributePattern),\n/* harmony export */   \"DotSeparatedAttributePattern\": () => (/* binding */ DotSeparatedAttributePattern),\n/* harmony export */   \"RefAttributePattern\": () => (/* binding */ RefAttributePattern),\n/* harmony export */   \"ColonPrefixedBindAttributePattern\": () => (/* binding */ ColonPrefixedBindAttributePattern),\n/* harmony export */   \"AtPrefixedTriggerAttributePattern\": () => (/* binding */ AtPrefixedTriggerAttributePattern)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n/** @internal */\nclass CharSpec {\n    constructor(chars, repeat, isSymbol, isInverted) {\n        this.chars = chars;\n        this.repeat = repeat;\n        this.isSymbol = isSymbol;\n        this.isInverted = isInverted;\n        if (isInverted) {\n            switch (chars.length) {\n                case 0:\n                    this.has = this.hasOfNoneInverse;\n                    break;\n                case 1:\n                    this.has = this.hasOfSingleInverse;\n                    break;\n                default:\n                    this.has = this.hasOfMultipleInverse;\n            }\n        }\n        else {\n            switch (chars.length) {\n                case 0:\n                    this.has = this.hasOfNone;\n                    break;\n                case 1:\n                    this.has = this.hasOfSingle;\n                    break;\n                default:\n                    this.has = this.hasOfMultiple;\n            }\n        }\n    }\n    equals(other) {\n        return this.chars === other.chars\n            && this.repeat === other.repeat\n            && this.isSymbol === other.isSymbol\n            && this.isInverted === other.isInverted;\n    }\n    hasOfMultiple(char) {\n        return this.chars.includes(char);\n    }\n    hasOfSingle(char) {\n        return this.chars === char;\n    }\n    hasOfNone(char) {\n        return false;\n    }\n    hasOfMultipleInverse(char) {\n        return !this.chars.includes(char);\n    }\n    hasOfSingleInverse(char) {\n        return this.chars !== char;\n    }\n    hasOfNoneInverse(char) {\n        return true;\n    }\n}\nclass Interpretation {\n    constructor() {\n        this.parts = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n        this._pattern = '';\n        this.currentRecord = {};\n        this.partsRecord = {};\n    }\n    get pattern() {\n        const value = this._pattern;\n        if (value === '') {\n            return null;\n        }\n        else {\n            return value;\n        }\n    }\n    set pattern(value) {\n        if (value == null) {\n            this._pattern = '';\n            this.parts = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n        }\n        else {\n            this._pattern = value;\n            this.parts = this.partsRecord[value];\n        }\n    }\n    append(pattern, ch) {\n        const { currentRecord } = this;\n        if (currentRecord[pattern] === undefined) {\n            currentRecord[pattern] = ch;\n        }\n        else {\n            currentRecord[pattern] += ch;\n        }\n    }\n    next(pattern) {\n        const { currentRecord } = this;\n        if (currentRecord[pattern] !== undefined) {\n            const { partsRecord } = this;\n            if (partsRecord[pattern] === undefined) {\n                partsRecord[pattern] = [currentRecord[pattern]];\n            }\n            else {\n                partsRecord[pattern].push(currentRecord[pattern]);\n            }\n            currentRecord[pattern] = undefined;\n        }\n    }\n}\n/** @internal */\nclass State {\n    constructor(charSpec, ...patterns) {\n        this.charSpec = charSpec;\n        this.nextStates = [];\n        this.types = null;\n        this.isEndpoint = false;\n        this.patterns = patterns;\n    }\n    get pattern() {\n        return this.isEndpoint ? this.patterns[0] : null;\n    }\n    findChild(charSpec) {\n        const nextStates = this.nextStates;\n        const len = nextStates.length;\n        let child = null;\n        for (let i = 0; i < len; ++i) {\n            child = nextStates[i];\n            if (charSpec.equals(child.charSpec)) {\n                return child;\n            }\n        }\n        return null;\n    }\n    append(charSpec, pattern) {\n        const { patterns } = this;\n        if (!patterns.includes(pattern)) {\n            patterns.push(pattern);\n        }\n        let state = this.findChild(charSpec);\n        if (state == null) {\n            state = new State(charSpec, pattern);\n            this.nextStates.push(state);\n            if (charSpec.repeat) {\n                state.nextStates.push(state);\n            }\n        }\n        return state;\n    }\n    findMatches(ch, interpretation) {\n        // TODO: reuse preallocated arrays\n        const results = [];\n        const nextStates = this.nextStates;\n        const len = nextStates.length;\n        let childLen = 0;\n        let child = null;\n        let i = 0;\n        let j = 0;\n        for (; i < len; ++i) {\n            child = nextStates[i];\n            if (child.charSpec.has(ch)) {\n                results.push(child);\n                childLen = child.patterns.length;\n                j = 0;\n                if (child.charSpec.isSymbol) {\n                    for (; j < childLen; ++j) {\n                        interpretation.next(child.patterns[j]);\n                    }\n                }\n                else {\n                    for (; j < childLen; ++j) {\n                        interpretation.append(child.patterns[j], ch);\n                    }\n                }\n            }\n        }\n        return results;\n    }\n}\n/** @internal */\nclass StaticSegment {\n    constructor(text) {\n        this.text = text;\n        const len = this.len = text.length;\n        const specs = this.specs = [];\n        for (let i = 0; i < len; ++i) {\n            specs.push(new CharSpec(text[i], false, false, false));\n        }\n    }\n    eachChar(callback) {\n        const { len, specs } = this;\n        for (let i = 0; i < len; ++i) {\n            callback(specs[i]);\n        }\n    }\n}\n/** @internal */\nclass DynamicSegment {\n    constructor(symbols) {\n        this.text = 'PART';\n        this.spec = new CharSpec(symbols, true, false, true);\n    }\n    eachChar(callback) {\n        callback(this.spec);\n    }\n}\n/** @internal */\nclass SymbolSegment {\n    constructor(text) {\n        this.text = text;\n        this.spec = new CharSpec(text, false, true, false);\n    }\n    eachChar(callback) {\n        callback(this.spec);\n    }\n}\n/** @internal */\nclass SegmentTypes {\n    constructor() {\n        this.statics = 0;\n        this.dynamics = 0;\n        this.symbols = 0;\n    }\n}\nconst ISyntaxInterpreter = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ISyntaxInterpreter', x => x.singleton(SyntaxInterpreter));\nclass SyntaxInterpreter {\n    constructor() {\n        this.rootState = new State(null);\n        this.initialStates = [this.rootState];\n    }\n    add(defOrDefs) {\n        let i = 0;\n        if (Array.isArray(defOrDefs)) {\n            const ii = defOrDefs.length;\n            for (; i < ii; ++i) {\n                this.add(defOrDefs[i]);\n            }\n            return;\n        }\n        let currentState = this.rootState;\n        const def = defOrDefs;\n        const pattern = def.pattern;\n        const types = new SegmentTypes();\n        const segments = this.parse(def, types);\n        const len = segments.length;\n        const callback = (ch) => {\n            currentState = currentState.append(ch, pattern);\n        };\n        for (i = 0; i < len; ++i) {\n            segments[i].eachChar(callback);\n        }\n        currentState.types = types;\n        currentState.isEndpoint = true;\n    }\n    interpret(name) {\n        const interpretation = new Interpretation();\n        let states = this.initialStates;\n        const len = name.length;\n        for (let i = 0; i < len; ++i) {\n            states = this.getNextStates(states, name.charAt(i), interpretation);\n            if (states.length === 0) {\n                break;\n            }\n        }\n        states.sort((a, b) => {\n            if (a.isEndpoint) {\n                if (!b.isEndpoint) {\n                    return -1;\n                }\n            }\n            else if (b.isEndpoint) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n            const aTypes = a.types;\n            const bTypes = b.types;\n            if (aTypes.statics !== bTypes.statics) {\n                return bTypes.statics - aTypes.statics;\n            }\n            if (aTypes.dynamics !== bTypes.dynamics) {\n                return bTypes.dynamics - aTypes.dynamics;\n            }\n            if (aTypes.symbols !== bTypes.symbols) {\n                return bTypes.symbols - aTypes.symbols;\n            }\n            return 0;\n        });\n        if (states.length > 0) {\n            const state = states[0];\n            if (!state.charSpec.isSymbol) {\n                interpretation.next(state.pattern);\n            }\n            interpretation.pattern = state.pattern;\n        }\n        return interpretation;\n    }\n    getNextStates(states, ch, interpretation) {\n        // TODO: reuse preallocated arrays\n        const nextStates = [];\n        let state = null;\n        const len = states.length;\n        for (let i = 0; i < len; ++i) {\n            state = states[i];\n            nextStates.push(...state.findMatches(ch, interpretation));\n        }\n        return nextStates;\n    }\n    parse(def, types) {\n        const result = [];\n        const pattern = def.pattern;\n        const len = pattern.length;\n        let i = 0;\n        let start = 0;\n        let c = '';\n        while (i < len) {\n            c = pattern.charAt(i);\n            if (!def.symbols.includes(c)) {\n                if (i === start) {\n                    if (c === 'P' && pattern.slice(i, i + 4) === 'PART') {\n                        start = i = (i + 4);\n                        result.push(new DynamicSegment(def.symbols));\n                        ++types.dynamics;\n                    }\n                    else {\n                        ++i;\n                    }\n                }\n                else {\n                    ++i;\n                }\n            }\n            else if (i !== start) {\n                result.push(new StaticSegment(pattern.slice(start, i)));\n                ++types.statics;\n                start = i;\n            }\n            else {\n                result.push(new SymbolSegment(pattern.slice(start, i + 1)));\n                ++types.symbols;\n                start = ++i;\n            }\n        }\n        if (start !== i) {\n            result.push(new StaticSegment(pattern.slice(start, i)));\n            ++types.statics;\n        }\n        return result;\n    }\n}\nclass AttrSyntax {\n    constructor(rawName, rawValue, target, command) {\n        this.rawName = rawName;\n        this.rawValue = rawValue;\n        this.target = target;\n        this.command = command;\n    }\n}\nconst IAttributePattern = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IAttributePattern');\nconst IAttributeParser = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IAttributeParser', x => x.singleton(AttributeParser));\nlet AttributeParser = class AttributeParser {\n    constructor(interpreter, attrPatterns) {\n        this.interpreter = interpreter;\n        this.cache = {};\n        const patterns = this.patterns = {};\n        attrPatterns.forEach(attrPattern => {\n            const defs = AttributePattern.getPatternDefinitions(attrPattern.constructor);\n            interpreter.add(defs);\n            defs.forEach(def => {\n                patterns[def.pattern] = attrPattern;\n            });\n        });\n    }\n    parse(name, value) {\n        let interpretation = this.cache[name];\n        if (interpretation == null) {\n            interpretation = this.cache[name] = this.interpreter.interpret(name);\n        }\n        const pattern = interpretation.pattern;\n        if (pattern == null) {\n            return new AttrSyntax(name, value, name, null);\n        }\n        else {\n            return this.patterns[pattern][pattern](name, value, interpretation.parts);\n        }\n    }\n};\nAttributeParser = __decorate([\n    __param(0, ISyntaxInterpreter),\n    __param(1, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.all)(IAttributePattern))\n], AttributeParser);\n\nfunction attributePattern(...patternDefs) {\n    return function decorator(target) {\n        return AttributePattern.define(patternDefs, target);\n    };\n}\nclass AttributePatternResourceDefinition {\n    constructor(Type) {\n        this.Type = Type;\n        this.name = (void 0);\n    }\n    register(container) {\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(IAttributePattern, this.Type).register(container);\n    }\n}\nconst AttributePattern = Object.freeze({\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.keyFor('attribute-pattern'),\n    definitionAnnotationKey: 'attribute-pattern-definitions',\n    define(patternDefs, Type) {\n        const definition = new AttributePatternResourceDefinition(Type);\n        const { name, definitionAnnotationKey } = AttributePattern;\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(name, definition, Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.appendTo(Type, name);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.set(Type, definitionAnnotationKey, patternDefs);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.appendTo(Type, definitionAnnotationKey);\n        return Type;\n    },\n    getPatternDefinitions(Type) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.get(Type, AttributePattern.definitionAnnotationKey);\n    }\n});\nlet DotSeparatedAttributePattern = class DotSeparatedAttributePattern {\n    'PART.PART'(rawName, rawValue, parts) {\n        return new AttrSyntax(rawName, rawValue, parts[0], parts[1]);\n    }\n    'PART.PART.PART'(rawName, rawValue, parts) {\n        return new AttrSyntax(rawName, rawValue, parts[0], parts[2]);\n    }\n};\nDotSeparatedAttributePattern = __decorate([\n    attributePattern({ pattern: 'PART.PART', symbols: '.' }, { pattern: 'PART.PART.PART', symbols: '.' })\n], DotSeparatedAttributePattern);\n\nlet RefAttributePattern = class RefAttributePattern {\n    'ref'(rawName, rawValue, parts) {\n        return new AttrSyntax(rawName, rawValue, 'element', 'ref');\n    }\n    'PART.ref'(rawName, rawValue, parts) {\n        return new AttrSyntax(rawName, rawValue, parts[0], 'ref');\n    }\n};\nRefAttributePattern = __decorate([\n    attributePattern({ pattern: 'ref', symbols: '' }, { pattern: 'PART.ref', symbols: '.' })\n], RefAttributePattern);\n\nlet ColonPrefixedBindAttributePattern = class ColonPrefixedBindAttributePattern {\n    ':PART'(rawName, rawValue, parts) {\n        return new AttrSyntax(rawName, rawValue, parts[0], 'bind');\n    }\n};\nColonPrefixedBindAttributePattern = __decorate([\n    attributePattern({ pattern: ':PART', symbols: ':' })\n], ColonPrefixedBindAttributePattern);\n\nlet AtPrefixedTriggerAttributePattern = class AtPrefixedTriggerAttributePattern {\n    '@PART'(rawName, rawValue, parts) {\n        return new AttrSyntax(rawName, rawValue, parts[0], 'trigger');\n    }\n};\nAtPrefixedTriggerAttributePattern = __decorate([\n    attributePattern({ pattern: '@PART', symbols: '@' })\n], AtPrefixedTriggerAttributePattern);\n\n//# sourceMappingURL=attribute-pattern.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9hdHRyaWJ1dGUtcGF0dGVybi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vcmVzb3VyY2VzL2F0dHJpYnV0ZS1wYXR0ZXJuLmpzPzVlYWQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG5pbXBvcnQgeyBESSwgTWV0YWRhdGEsIGVtcHR5QXJyYXksIFByb3RvY29sLCBSZWdpc3RyYXRpb24sIGFsbCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgQ2hhclNwZWMge1xuICAgIGNvbnN0cnVjdG9yKGNoYXJzLCByZXBlYXQsIGlzU3ltYm9sLCBpc0ludmVydGVkKSB7XG4gICAgICAgIHRoaXMuY2hhcnMgPSBjaGFycztcbiAgICAgICAgdGhpcy5yZXBlYXQgPSByZXBlYXQ7XG4gICAgICAgIHRoaXMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcbiAgICAgICAgdGhpcy5pc0ludmVydGVkID0gaXNJbnZlcnRlZDtcbiAgICAgICAgaWYgKGlzSW52ZXJ0ZWQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2hhcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhcyA9IHRoaXMuaGFzT2ZOb25lSW52ZXJzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhcyA9IHRoaXMuaGFzT2ZTaW5nbGVJbnZlcnNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhcyA9IHRoaXMuaGFzT2ZNdWx0aXBsZUludmVyc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNoYXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXMgPSB0aGlzLmhhc09mTm9uZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhcyA9IHRoaXMuaGFzT2ZTaW5nbGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzID0gdGhpcy5oYXNPZk11bHRpcGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFycyA9PT0gb3RoZXIuY2hhcnNcbiAgICAgICAgICAgICYmIHRoaXMucmVwZWF0ID09PSBvdGhlci5yZXBlYXRcbiAgICAgICAgICAgICYmIHRoaXMuaXNTeW1ib2wgPT09IG90aGVyLmlzU3ltYm9sXG4gICAgICAgICAgICAmJiB0aGlzLmlzSW52ZXJ0ZWQgPT09IG90aGVyLmlzSW52ZXJ0ZWQ7XG4gICAgfVxuICAgIGhhc09mTXVsdGlwbGUoY2hhcikge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFycy5pbmNsdWRlcyhjaGFyKTtcbiAgICB9XG4gICAgaGFzT2ZTaW5nbGUoY2hhcikge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFycyA9PT0gY2hhcjtcbiAgICB9XG4gICAgaGFzT2ZOb25lKGNoYXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBoYXNPZk11bHRpcGxlSW52ZXJzZShjaGFyKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5jaGFycy5pbmNsdWRlcyhjaGFyKTtcbiAgICB9XG4gICAgaGFzT2ZTaW5nbGVJbnZlcnNlKGNoYXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnMgIT09IGNoYXI7XG4gICAgfVxuICAgIGhhc09mTm9uZUludmVyc2UoY2hhcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW50ZXJwcmV0YXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnBhcnRzID0gZW1wdHlBcnJheTtcbiAgICAgICAgdGhpcy5fcGF0dGVybiA9ICcnO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZWNvcmQgPSB7fTtcbiAgICAgICAgdGhpcy5wYXJ0c1JlY29yZCA9IHt9O1xuICAgIH1cbiAgICBnZXQgcGF0dGVybigpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9wYXR0ZXJuO1xuICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQgcGF0dGVybih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcGF0dGVybiA9ICcnO1xuICAgICAgICAgICAgdGhpcy5wYXJ0cyA9IGVtcHR5QXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9wYXR0ZXJuID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhcnRzID0gdGhpcy5wYXJ0c1JlY29yZFt2YWx1ZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXBwZW5kKHBhdHRlcm4sIGNoKSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFJlY29yZCB9ID0gdGhpcztcbiAgICAgICAgaWYgKGN1cnJlbnRSZWNvcmRbcGF0dGVybl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY3VycmVudFJlY29yZFtwYXR0ZXJuXSA9IGNoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudFJlY29yZFtwYXR0ZXJuXSArPSBjaDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXh0KHBhdHRlcm4pIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50UmVjb3JkIH0gPSB0aGlzO1xuICAgICAgICBpZiAoY3VycmVudFJlY29yZFtwYXR0ZXJuXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCB7IHBhcnRzUmVjb3JkIH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHBhcnRzUmVjb3JkW3BhdHRlcm5dID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0c1JlY29yZFtwYXR0ZXJuXSA9IFtjdXJyZW50UmVjb3JkW3BhdHRlcm5dXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnRzUmVjb3JkW3BhdHRlcm5dLnB1c2goY3VycmVudFJlY29yZFtwYXR0ZXJuXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50UmVjb3JkW3BhdHRlcm5dID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFyU3BlYywgLi4ucGF0dGVybnMpIHtcbiAgICAgICAgdGhpcy5jaGFyU3BlYyA9IGNoYXJTcGVjO1xuICAgICAgICB0aGlzLm5leHRTdGF0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy50eXBlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNFbmRwb2ludCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBhdHRlcm5zID0gcGF0dGVybnM7XG4gICAgfVxuICAgIGdldCBwYXR0ZXJuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0VuZHBvaW50ID8gdGhpcy5wYXR0ZXJuc1swXSA6IG51bGw7XG4gICAgfVxuICAgIGZpbmRDaGlsZChjaGFyU3BlYykge1xuICAgICAgICBjb25zdCBuZXh0U3RhdGVzID0gdGhpcy5uZXh0U3RhdGVzO1xuICAgICAgICBjb25zdCBsZW4gPSBuZXh0U3RhdGVzLmxlbmd0aDtcbiAgICAgICAgbGV0IGNoaWxkID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgY2hpbGQgPSBuZXh0U3RhdGVzW2ldO1xuICAgICAgICAgICAgaWYgKGNoYXJTcGVjLmVxdWFscyhjaGlsZC5jaGFyU3BlYykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGFwcGVuZChjaGFyU3BlYywgcGF0dGVybikge1xuICAgICAgICBjb25zdCB7IHBhdHRlcm5zIH0gPSB0aGlzO1xuICAgICAgICBpZiAoIXBhdHRlcm5zLmluY2x1ZGVzKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICBwYXR0ZXJucy5wdXNoKHBhdHRlcm4pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuZmluZENoaWxkKGNoYXJTcGVjKTtcbiAgICAgICAgaWYgKHN0YXRlID09IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXRlID0gbmV3IFN0YXRlKGNoYXJTcGVjLCBwYXR0ZXJuKTtcbiAgICAgICAgICAgIHRoaXMubmV4dFN0YXRlcy5wdXNoKHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChjaGFyU3BlYy5yZXBlYXQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5uZXh0U3RhdGVzLnB1c2goc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgZmluZE1hdGNoZXMoY2gsIGludGVycHJldGF0aW9uKSB7XG4gICAgICAgIC8vIFRPRE86IHJldXNlIHByZWFsbG9jYXRlZCBhcnJheXNcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICBjb25zdCBuZXh0U3RhdGVzID0gdGhpcy5uZXh0U3RhdGVzO1xuICAgICAgICBjb25zdCBsZW4gPSBuZXh0U3RhdGVzLmxlbmd0aDtcbiAgICAgICAgbGV0IGNoaWxkTGVuID0gMDtcbiAgICAgICAgbGV0IGNoaWxkID0gbnVsbDtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgaiA9IDA7XG4gICAgICAgIGZvciAoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIGNoaWxkID0gbmV4dFN0YXRlc1tpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC5jaGFyU3BlYy5oYXMoY2gpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICBjaGlsZExlbiA9IGNoaWxkLnBhdHRlcm5zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBqID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuY2hhclNwZWMuaXNTeW1ib2wpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGogPCBjaGlsZExlbjsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnByZXRhdGlvbi5uZXh0KGNoaWxkLnBhdHRlcm5zW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGogPCBjaGlsZExlbjsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnByZXRhdGlvbi5hcHBlbmQoY2hpbGQucGF0dGVybnNbal0sIGNoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgU3RhdGljU2VnbWVudCB7XG4gICAgY29uc3RydWN0b3IodGV4dCkge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLmxlbiA9IHRleHQubGVuZ3RoO1xuICAgICAgICBjb25zdCBzcGVjcyA9IHRoaXMuc3BlY3MgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgc3BlY3MucHVzaChuZXcgQ2hhclNwZWModGV4dFtpXSwgZmFsc2UsIGZhbHNlLCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVhY2hDaGFyKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHsgbGVuLCBzcGVjcyB9ID0gdGhpcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgY2FsbGJhY2soc3BlY3NbaV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIER5bmFtaWNTZWdtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihzeW1ib2xzKSB7XG4gICAgICAgIHRoaXMudGV4dCA9ICdQQVJUJztcbiAgICAgICAgdGhpcy5zcGVjID0gbmV3IENoYXJTcGVjKHN5bWJvbHMsIHRydWUsIGZhbHNlLCB0cnVlKTtcbiAgICB9XG4gICAgZWFjaENoYXIoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sodGhpcy5zcGVjKTtcbiAgICB9XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgU3ltYm9sU2VnbWVudCB7XG4gICAgY29uc3RydWN0b3IodGV4dCkge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLnNwZWMgPSBuZXcgQ2hhclNwZWModGV4dCwgZmFsc2UsIHRydWUsIGZhbHNlKTtcbiAgICB9XG4gICAgZWFjaENoYXIoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sodGhpcy5zcGVjKTtcbiAgICB9XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgU2VnbWVudFR5cGVzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdGF0aWNzID0gMDtcbiAgICAgICAgdGhpcy5keW5hbWljcyA9IDA7XG4gICAgICAgIHRoaXMuc3ltYm9scyA9IDA7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IElTeW50YXhJbnRlcnByZXRlciA9IERJLmNyZWF0ZUludGVyZmFjZSgnSVN5bnRheEludGVycHJldGVyJywgeCA9PiB4LnNpbmdsZXRvbihTeW50YXhJbnRlcnByZXRlcikpO1xuZXhwb3J0IGNsYXNzIFN5bnRheEludGVycHJldGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5yb290U3RhdGUgPSBuZXcgU3RhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlcyA9IFt0aGlzLnJvb3RTdGF0ZV07XG4gICAgfVxuICAgIGFkZChkZWZPckRlZnMpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkZWZPckRlZnMpKSB7XG4gICAgICAgICAgICBjb25zdCBpaSA9IGRlZk9yRGVmcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChkZWZPckRlZnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJyZW50U3RhdGUgPSB0aGlzLnJvb3RTdGF0ZTtcbiAgICAgICAgY29uc3QgZGVmID0gZGVmT3JEZWZzO1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gZGVmLnBhdHRlcm47XG4gICAgICAgIGNvbnN0IHR5cGVzID0gbmV3IFNlZ21lbnRUeXBlcygpO1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IHRoaXMucGFyc2UoZGVmLCB0eXBlcyk7XG4gICAgICAgIGNvbnN0IGxlbiA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoY2gpID0+IHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRTdGF0ZS5hcHBlbmQoY2gsIHBhdHRlcm4pO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIHNlZ21lbnRzW2ldLmVhY2hDaGFyKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50U3RhdGUudHlwZXMgPSB0eXBlcztcbiAgICAgICAgY3VycmVudFN0YXRlLmlzRW5kcG9pbnQgPSB0cnVlO1xuICAgIH1cbiAgICBpbnRlcnByZXQobmFtZSkge1xuICAgICAgICBjb25zdCBpbnRlcnByZXRhdGlvbiA9IG5ldyBJbnRlcnByZXRhdGlvbigpO1xuICAgICAgICBsZXQgc3RhdGVzID0gdGhpcy5pbml0aWFsU3RhdGVzO1xuICAgICAgICBjb25zdCBsZW4gPSBuYW1lLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgc3RhdGVzID0gdGhpcy5nZXROZXh0U3RhdGVzKHN0YXRlcywgbmFtZS5jaGFyQXQoaSksIGludGVycHJldGF0aW9uKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhLmlzRW5kcG9pbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWIuaXNFbmRwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYi5pc0VuZHBvaW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFUeXBlcyA9IGEudHlwZXM7XG4gICAgICAgICAgICBjb25zdCBiVHlwZXMgPSBiLnR5cGVzO1xuICAgICAgICAgICAgaWYgKGFUeXBlcy5zdGF0aWNzICE9PSBiVHlwZXMuc3RhdGljcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBiVHlwZXMuc3RhdGljcyAtIGFUeXBlcy5zdGF0aWNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFUeXBlcy5keW5hbWljcyAhPT0gYlR5cGVzLmR5bmFtaWNzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJUeXBlcy5keW5hbWljcyAtIGFUeXBlcy5keW5hbWljcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhVHlwZXMuc3ltYm9scyAhPT0gYlR5cGVzLnN5bWJvbHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYlR5cGVzLnN5bWJvbHMgLSBhVHlwZXMuc3ltYm9scztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHN0YXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YXRlc1swXTtcbiAgICAgICAgICAgIGlmICghc3RhdGUuY2hhclNwZWMuaXNTeW1ib2wpIHtcbiAgICAgICAgICAgICAgICBpbnRlcnByZXRhdGlvbi5uZXh0KHN0YXRlLnBhdHRlcm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW50ZXJwcmV0YXRpb24ucGF0dGVybiA9IHN0YXRlLnBhdHRlcm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludGVycHJldGF0aW9uO1xuICAgIH1cbiAgICBnZXROZXh0U3RhdGVzKHN0YXRlcywgY2gsIGludGVycHJldGF0aW9uKSB7XG4gICAgICAgIC8vIFRPRE86IHJldXNlIHByZWFsbG9jYXRlZCBhcnJheXNcbiAgICAgICAgY29uc3QgbmV4dFN0YXRlcyA9IFtdO1xuICAgICAgICBsZXQgc3RhdGUgPSBudWxsO1xuICAgICAgICBjb25zdCBsZW4gPSBzdGF0ZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlc1tpXTtcbiAgICAgICAgICAgIG5leHRTdGF0ZXMucHVzaCguLi5zdGF0ZS5maW5kTWF0Y2hlcyhjaCwgaW50ZXJwcmV0YXRpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dFN0YXRlcztcbiAgICB9XG4gICAgcGFyc2UoZGVmLCB0eXBlcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IGRlZi5wYXR0ZXJuO1xuICAgICAgICBjb25zdCBsZW4gPSBwYXR0ZXJuLmxlbmd0aDtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgc3RhcnQgPSAwO1xuICAgICAgICBsZXQgYyA9ICcnO1xuICAgICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICAgICAgYyA9IHBhdHRlcm4uY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKCFkZWYuc3ltYm9scy5pbmNsdWRlcyhjKSkge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBzdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gJ1AnICYmIHBhdHRlcm4uc2xpY2UoaSwgaSArIDQpID09PSAnUEFSVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gaSA9IChpICsgNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgRHluYW1pY1NlZ21lbnQoZGVmLnN5bWJvbHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrdHlwZXMuZHluYW1pY3M7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpICE9PSBzdGFydCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBTdGF0aWNTZWdtZW50KHBhdHRlcm4uc2xpY2Uoc3RhcnQsIGkpKSk7XG4gICAgICAgICAgICAgICAgKyt0eXBlcy5zdGF0aWNzO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBTeW1ib2xTZWdtZW50KHBhdHRlcm4uc2xpY2Uoc3RhcnQsIGkgKyAxKSkpO1xuICAgICAgICAgICAgICAgICsrdHlwZXMuc3ltYm9scztcbiAgICAgICAgICAgICAgICBzdGFydCA9ICsraTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnQgIT09IGkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBTdGF0aWNTZWdtZW50KHBhdHRlcm4uc2xpY2Uoc3RhcnQsIGkpKSk7XG4gICAgICAgICAgICArK3R5cGVzLnN0YXRpY3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQXR0clN5bnRheCB7XG4gICAgY29uc3RydWN0b3IocmF3TmFtZSwgcmF3VmFsdWUsIHRhcmdldCwgY29tbWFuZCkge1xuICAgICAgICB0aGlzLnJhd05hbWUgPSByYXdOYW1lO1xuICAgICAgICB0aGlzLnJhd1ZhbHVlID0gcmF3VmFsdWU7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmNvbW1hbmQgPSBjb21tYW5kO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJQXR0cmlidXRlUGF0dGVybiA9IERJLmNyZWF0ZUludGVyZmFjZSgnSUF0dHJpYnV0ZVBhdHRlcm4nKTtcbmV4cG9ydCBjb25zdCBJQXR0cmlidXRlUGFyc2VyID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJQXR0cmlidXRlUGFyc2VyJywgeCA9PiB4LnNpbmdsZXRvbihBdHRyaWJ1dGVQYXJzZXIpKTtcbmxldCBBdHRyaWJ1dGVQYXJzZXIgPSBjbGFzcyBBdHRyaWJ1dGVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKGludGVycHJldGVyLCBhdHRyUGF0dGVybnMpIHtcbiAgICAgICAgdGhpcy5pbnRlcnByZXRlciA9IGludGVycHJldGVyO1xuICAgICAgICB0aGlzLmNhY2hlID0ge307XG4gICAgICAgIGNvbnN0IHBhdHRlcm5zID0gdGhpcy5wYXR0ZXJucyA9IHt9O1xuICAgICAgICBhdHRyUGF0dGVybnMuZm9yRWFjaChhdHRyUGF0dGVybiA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZWZzID0gQXR0cmlidXRlUGF0dGVybi5nZXRQYXR0ZXJuRGVmaW5pdGlvbnMoYXR0clBhdHRlcm4uY29uc3RydWN0b3IpO1xuICAgICAgICAgICAgaW50ZXJwcmV0ZXIuYWRkKGRlZnMpO1xuICAgICAgICAgICAgZGVmcy5mb3JFYWNoKGRlZiA9PiB7XG4gICAgICAgICAgICAgICAgcGF0dGVybnNbZGVmLnBhdHRlcm5dID0gYXR0clBhdHRlcm47XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhcnNlKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxldCBpbnRlcnByZXRhdGlvbiA9IHRoaXMuY2FjaGVbbmFtZV07XG4gICAgICAgIGlmIChpbnRlcnByZXRhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnRlcnByZXRhdGlvbiA9IHRoaXMuY2FjaGVbbmFtZV0gPSB0aGlzLmludGVycHJldGVyLmludGVycHJldChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXR0ZXJuID0gaW50ZXJwcmV0YXRpb24ucGF0dGVybjtcbiAgICAgICAgaWYgKHBhdHRlcm4gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBdHRyU3ludGF4KG5hbWUsIHZhbHVlLCBuYW1lLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdHRlcm5zW3BhdHRlcm5dW3BhdHRlcm5dKG5hbWUsIHZhbHVlLCBpbnRlcnByZXRhdGlvbi5wYXJ0cyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuQXR0cmlidXRlUGFyc2VyID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgwLCBJU3ludGF4SW50ZXJwcmV0ZXIpLFxuICAgIF9fcGFyYW0oMSwgYWxsKElBdHRyaWJ1dGVQYXR0ZXJuKSlcbl0sIEF0dHJpYnV0ZVBhcnNlcik7XG5leHBvcnQgeyBBdHRyaWJ1dGVQYXJzZXIgfTtcbmV4cG9ydCBmdW5jdGlvbiBhdHRyaWJ1dGVQYXR0ZXJuKC4uLnBhdHRlcm5EZWZzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRlY29yYXRvcih0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIEF0dHJpYnV0ZVBhdHRlcm4uZGVmaW5lKHBhdHRlcm5EZWZzLCB0YXJnZXQpO1xuICAgIH07XG59XG5leHBvcnQgY2xhc3MgQXR0cmlidXRlUGF0dGVyblJlc291cmNlRGVmaW5pdGlvbiB7XG4gICAgY29uc3RydWN0b3IoVHlwZSkge1xuICAgICAgICB0aGlzLlR5cGUgPSBUeXBlO1xuICAgICAgICB0aGlzLm5hbWUgPSAodm9pZCAwKTtcbiAgICB9XG4gICAgcmVnaXN0ZXIoY29udGFpbmVyKSB7XG4gICAgICAgIFJlZ2lzdHJhdGlvbi5zaW5nbGV0b24oSUF0dHJpYnV0ZVBhdHRlcm4sIHRoaXMuVHlwZSkucmVnaXN0ZXIoY29udGFpbmVyKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgQXR0cmlidXRlUGF0dGVybiA9IE9iamVjdC5mcmVlemUoe1xuICAgIG5hbWU6IFByb3RvY29sLnJlc291cmNlLmtleUZvcignYXR0cmlidXRlLXBhdHRlcm4nKSxcbiAgICBkZWZpbml0aW9uQW5ub3RhdGlvbktleTogJ2F0dHJpYnV0ZS1wYXR0ZXJuLWRlZmluaXRpb25zJyxcbiAgICBkZWZpbmUocGF0dGVybkRlZnMsIFR5cGUpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IG5ldyBBdHRyaWJ1dGVQYXR0ZXJuUmVzb3VyY2VEZWZpbml0aW9uKFR5cGUpO1xuICAgICAgICBjb25zdCB7IG5hbWUsIGRlZmluaXRpb25Bbm5vdGF0aW9uS2V5IH0gPSBBdHRyaWJ1dGVQYXR0ZXJuO1xuICAgICAgICBNZXRhZGF0YS5kZWZpbmUobmFtZSwgZGVmaW5pdGlvbiwgVHlwZSk7XG4gICAgICAgIFByb3RvY29sLnJlc291cmNlLmFwcGVuZFRvKFR5cGUsIG5hbWUpO1xuICAgICAgICBQcm90b2NvbC5hbm5vdGF0aW9uLnNldChUeXBlLCBkZWZpbml0aW9uQW5ub3RhdGlvbktleSwgcGF0dGVybkRlZnMpO1xuICAgICAgICBQcm90b2NvbC5hbm5vdGF0aW9uLmFwcGVuZFRvKFR5cGUsIGRlZmluaXRpb25Bbm5vdGF0aW9uS2V5KTtcbiAgICAgICAgcmV0dXJuIFR5cGU7XG4gICAgfSxcbiAgICBnZXRQYXR0ZXJuRGVmaW5pdGlvbnMoVHlwZSkge1xuICAgICAgICByZXR1cm4gUHJvdG9jb2wuYW5ub3RhdGlvbi5nZXQoVHlwZSwgQXR0cmlidXRlUGF0dGVybi5kZWZpbml0aW9uQW5ub3RhdGlvbktleSk7XG4gICAgfVxufSk7XG5sZXQgRG90U2VwYXJhdGVkQXR0cmlidXRlUGF0dGVybiA9IGNsYXNzIERvdFNlcGFyYXRlZEF0dHJpYnV0ZVBhdHRlcm4ge1xuICAgICdQQVJULlBBUlQnKHJhd05hbWUsIHJhd1ZhbHVlLCBwYXJ0cykge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJTeW50YXgocmF3TmFtZSwgcmF3VmFsdWUsIHBhcnRzWzBdLCBwYXJ0c1sxXSk7XG4gICAgfVxuICAgICdQQVJULlBBUlQuUEFSVCcocmF3TmFtZSwgcmF3VmFsdWUsIHBhcnRzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0clN5bnRheChyYXdOYW1lLCByYXdWYWx1ZSwgcGFydHNbMF0sIHBhcnRzWzJdKTtcbiAgICB9XG59O1xuRG90U2VwYXJhdGVkQXR0cmlidXRlUGF0dGVybiA9IF9fZGVjb3JhdGUoW1xuICAgIGF0dHJpYnV0ZVBhdHRlcm4oeyBwYXR0ZXJuOiAnUEFSVC5QQVJUJywgc3ltYm9sczogJy4nIH0sIHsgcGF0dGVybjogJ1BBUlQuUEFSVC5QQVJUJywgc3ltYm9sczogJy4nIH0pXG5dLCBEb3RTZXBhcmF0ZWRBdHRyaWJ1dGVQYXR0ZXJuKTtcbmV4cG9ydCB7IERvdFNlcGFyYXRlZEF0dHJpYnV0ZVBhdHRlcm4gfTtcbmxldCBSZWZBdHRyaWJ1dGVQYXR0ZXJuID0gY2xhc3MgUmVmQXR0cmlidXRlUGF0dGVybiB7XG4gICAgJ3JlZicocmF3TmFtZSwgcmF3VmFsdWUsIHBhcnRzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0clN5bnRheChyYXdOYW1lLCByYXdWYWx1ZSwgJ2VsZW1lbnQnLCAncmVmJyk7XG4gICAgfVxuICAgICdQQVJULnJlZicocmF3TmFtZSwgcmF3VmFsdWUsIHBhcnRzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0clN5bnRheChyYXdOYW1lLCByYXdWYWx1ZSwgcGFydHNbMF0sICdyZWYnKTtcbiAgICB9XG59O1xuUmVmQXR0cmlidXRlUGF0dGVybiA9IF9fZGVjb3JhdGUoW1xuICAgIGF0dHJpYnV0ZVBhdHRlcm4oeyBwYXR0ZXJuOiAncmVmJywgc3ltYm9sczogJycgfSwgeyBwYXR0ZXJuOiAnUEFSVC5yZWYnLCBzeW1ib2xzOiAnLicgfSlcbl0sIFJlZkF0dHJpYnV0ZVBhdHRlcm4pO1xuZXhwb3J0IHsgUmVmQXR0cmlidXRlUGF0dGVybiB9O1xubGV0IENvbG9uUHJlZml4ZWRCaW5kQXR0cmlidXRlUGF0dGVybiA9IGNsYXNzIENvbG9uUHJlZml4ZWRCaW5kQXR0cmlidXRlUGF0dGVybiB7XG4gICAgJzpQQVJUJyhyYXdOYW1lLCByYXdWYWx1ZSwgcGFydHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyU3ludGF4KHJhd05hbWUsIHJhd1ZhbHVlLCBwYXJ0c1swXSwgJ2JpbmQnKTtcbiAgICB9XG59O1xuQ29sb25QcmVmaXhlZEJpbmRBdHRyaWJ1dGVQYXR0ZXJuID0gX19kZWNvcmF0ZShbXG4gICAgYXR0cmlidXRlUGF0dGVybih7IHBhdHRlcm46ICc6UEFSVCcsIHN5bWJvbHM6ICc6JyB9KVxuXSwgQ29sb25QcmVmaXhlZEJpbmRBdHRyaWJ1dGVQYXR0ZXJuKTtcbmV4cG9ydCB7IENvbG9uUHJlZml4ZWRCaW5kQXR0cmlidXRlUGF0dGVybiB9O1xubGV0IEF0UHJlZml4ZWRUcmlnZ2VyQXR0cmlidXRlUGF0dGVybiA9IGNsYXNzIEF0UHJlZml4ZWRUcmlnZ2VyQXR0cmlidXRlUGF0dGVybiB7XG4gICAgJ0BQQVJUJyhyYXdOYW1lLCByYXdWYWx1ZSwgcGFydHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyU3ludGF4KHJhd05hbWUsIHJhd1ZhbHVlLCBwYXJ0c1swXSwgJ3RyaWdnZXInKTtcbiAgICB9XG59O1xuQXRQcmVmaXhlZFRyaWdnZXJBdHRyaWJ1dGVQYXR0ZXJuID0gX19kZWNvcmF0ZShbXG4gICAgYXR0cmlidXRlUGF0dGVybih7IHBhdHRlcm46ICdAUEFSVCcsIHN5bWJvbHM6ICdAJyB9KVxuXSwgQXRQcmVmaXhlZFRyaWdnZXJBdHRyaWJ1dGVQYXR0ZXJuKTtcbmV4cG9ydCB7IEF0UHJlZml4ZWRUcmlnZ2VyQXR0cmlidXRlUGF0dGVybiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXR0cmlidXRlLXBhdHRlcm4uanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/attribute-pattern.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/attr.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/attr.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AttrBindingBehavior\": () => (/* binding */ AttrBindingBehavior)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _observation_data_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../observation/data-attribute-accessor.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/data-attribute-accessor.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\nlet AttrBindingBehavior = class AttrBindingBehavior {\n    bind(flags, _scope, _hostScope, binding) {\n        binding.targetObserver = _observation_data_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_1__.attrAccessor;\n    }\n    unbind(flags, _scope, _hostScope, binding) {\n        return;\n    }\n};\nAttrBindingBehavior = __decorate([\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.bindingBehavior)('attr')\n], AttrBindingBehavior);\n\n//# sourceMappingURL=attr.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9iaW5kaW5nLWJlaGF2aW9ycy9hdHRyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9yZXNvdXJjZXMvYmluZGluZy1iZWhhdmlvcnMvYXR0ci5qcz8yZGMyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IGJpbmRpbmdCZWhhdmlvciB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuaW1wb3J0IHsgYXR0ckFjY2Vzc29yIH0gZnJvbSAnLi4vLi4vb2JzZXJ2YXRpb24vZGF0YS1hdHRyaWJ1dGUtYWNjZXNzb3IuanMnO1xubGV0IEF0dHJCaW5kaW5nQmVoYXZpb3IgPSBjbGFzcyBBdHRyQmluZGluZ0JlaGF2aW9yIHtcbiAgICBiaW5kKGZsYWdzLCBfc2NvcGUsIF9ob3N0U2NvcGUsIGJpbmRpbmcpIHtcbiAgICAgICAgYmluZGluZy50YXJnZXRPYnNlcnZlciA9IGF0dHJBY2Nlc3NvcjtcbiAgICB9XG4gICAgdW5iaW5kKGZsYWdzLCBfc2NvcGUsIF9ob3N0U2NvcGUsIGJpbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn07XG5BdHRyQmluZGluZ0JlaGF2aW9yID0gX19kZWNvcmF0ZShbXG4gICAgYmluZGluZ0JlaGF2aW9yKCdhdHRyJylcbl0sIEF0dHJCaW5kaW5nQmVoYXZpb3IpO1xuZXhwb3J0IHsgQXR0ckJpbmRpbmdCZWhhdmlvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXR0ci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/attr.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/self.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/self.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"handleSelfEvent\": () => (/* binding */ handleSelfEvent),\n/* harmony export */   \"SelfBindingBehavior\": () => (/* binding */ SelfBindingBehavior)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n/** @internal */\nfunction handleSelfEvent(event) {\n    const target = event.composedPath()[0];\n    if (this.target !== target) {\n        return;\n    }\n    return this.selfEventCallSource(event);\n}\nlet SelfBindingBehavior = class SelfBindingBehavior {\n    bind(flags, _scope, _hostScope, binding) {\n        if (!binding.callSource || !binding.targetEvent) {\n            throw new Error('Self binding behavior only supports events.');\n        }\n        binding.selfEventCallSource = binding.callSource;\n        binding.callSource = handleSelfEvent;\n    }\n    unbind(flags, _scope, _hostScope, binding) {\n        binding.callSource = binding.selfEventCallSource;\n        binding.selfEventCallSource = null;\n    }\n};\nSelfBindingBehavior = __decorate([\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.bindingBehavior)('self')\n], SelfBindingBehavior);\n\n//# sourceMappingURL=self.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9iaW5kaW5nLWJlaGF2aW9ycy9zZWxmLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9yZXNvdXJjZXMvYmluZGluZy1iZWhhdmlvcnMvc2VsZi5qcz9jZWQyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IGJpbmRpbmdCZWhhdmlvciB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVNlbGZFdmVudChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdO1xuICAgIGlmICh0aGlzLnRhcmdldCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2VsZkV2ZW50Q2FsbFNvdXJjZShldmVudCk7XG59XG5sZXQgU2VsZkJpbmRpbmdCZWhhdmlvciA9IGNsYXNzIFNlbGZCaW5kaW5nQmVoYXZpb3Ige1xuICAgIGJpbmQoZmxhZ3MsIF9zY29wZSwgX2hvc3RTY29wZSwgYmluZGluZykge1xuICAgICAgICBpZiAoIWJpbmRpbmcuY2FsbFNvdXJjZSB8fCAhYmluZGluZy50YXJnZXRFdmVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZWxmIGJpbmRpbmcgYmVoYXZpb3Igb25seSBzdXBwb3J0cyBldmVudHMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgYmluZGluZy5zZWxmRXZlbnRDYWxsU291cmNlID0gYmluZGluZy5jYWxsU291cmNlO1xuICAgICAgICBiaW5kaW5nLmNhbGxTb3VyY2UgPSBoYW5kbGVTZWxmRXZlbnQ7XG4gICAgfVxuICAgIHVuYmluZChmbGFncywgX3Njb3BlLCBfaG9zdFNjb3BlLCBiaW5kaW5nKSB7XG4gICAgICAgIGJpbmRpbmcuY2FsbFNvdXJjZSA9IGJpbmRpbmcuc2VsZkV2ZW50Q2FsbFNvdXJjZTtcbiAgICAgICAgYmluZGluZy5zZWxmRXZlbnRDYWxsU291cmNlID0gbnVsbDtcbiAgICB9XG59O1xuU2VsZkJpbmRpbmdCZWhhdmlvciA9IF9fZGVjb3JhdGUoW1xuICAgIGJpbmRpbmdCZWhhdmlvcignc2VsZicpXG5dLCBTZWxmQmluZGluZ0JlaGF2aW9yKTtcbmV4cG9ydCB7IFNlbGZCaW5kaW5nQmVoYXZpb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlbGYuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/self.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/update-trigger.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/update-trigger.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"UpdateTriggerBindingBehavior\": () => (/* binding */ UpdateTriggerBindingBehavior)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _observation_event_delegator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../observation/event-delegator.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/event-delegator.js\");\n/* harmony import */ var _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../observation/observer-locator.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/observer-locator.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\nlet UpdateTriggerBindingBehavior = class UpdateTriggerBindingBehavior {\n    constructor(observerLocator) {\n        this.observerLocator = observerLocator;\n    }\n    bind(flags, _scope, _hostScope, binding, ...events) {\n        if (events.length === 0) {\n            throw new Error('The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:\\'blur\\'\">');\n        }\n        if (binding.mode !== _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode.twoWay && binding.mode !== _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode.fromView) {\n            throw new Error('The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.');\n        }\n        // ensure the binding's target observer has been set.\n        const targetObserver = this.observerLocator.getObserver(binding.target, binding.targetProperty);\n        if (!targetObserver.handler) {\n            throw new Error('The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.');\n        }\n        binding.targetObserver = targetObserver;\n        // stash the original element subscribe function.\n        const originalHandler = targetObserver.handler;\n        targetObserver.originalHandler = originalHandler;\n        // replace the element subscribe function with one that uses the correct events.\n        targetObserver.handler = new _observation_event_delegator_js__WEBPACK_IMPORTED_MODULE_1__.EventSubscriber(new _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_2__.NodeObserverConfig({\n            default: originalHandler.config.default,\n            events,\n            readonly: originalHandler.config.readonly\n        }));\n    }\n    unbind(flags, _scope, _hostScope, binding) {\n        // restore the state of the binding.\n        binding.targetObserver.handler.dispose();\n        binding.targetObserver.handler = binding.targetObserver.originalHandler;\n        binding.targetObserver.originalHandler = null;\n    }\n};\nUpdateTriggerBindingBehavior = __decorate([\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.bindingBehavior)('updateTrigger'),\n    __param(0, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.IObserverLocator)\n], UpdateTriggerBindingBehavior);\n\n//# sourceMappingURL=update-trigger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9iaW5kaW5nLWJlaGF2aW9ycy91cGRhdGUtdHJpZ2dlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vcmVzb3VyY2VzL2JpbmRpbmctYmVoYXZpb3JzL3VwZGF0ZS10cmlnZ2VyLmpzP2E5NWUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG5pbXBvcnQgeyBCaW5kaW5nTW9kZSwgSU9ic2VydmVyTG9jYXRvciwgYmluZGluZ0JlaGF2aW9yIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZSc7XG5pbXBvcnQgeyBFdmVudFN1YnNjcmliZXIgfSBmcm9tICcuLi8uLi9vYnNlcnZhdGlvbi9ldmVudC1kZWxlZ2F0b3IuanMnO1xuaW1wb3J0IHsgTm9kZU9ic2VydmVyQ29uZmlnIH0gZnJvbSAnLi4vLi4vb2JzZXJ2YXRpb24vb2JzZXJ2ZXItbG9jYXRvci5qcyc7XG5sZXQgVXBkYXRlVHJpZ2dlckJpbmRpbmdCZWhhdmlvciA9IGNsYXNzIFVwZGF0ZVRyaWdnZXJCaW5kaW5nQmVoYXZpb3Ige1xuICAgIGNvbnN0cnVjdG9yKG9ic2VydmVyTG9jYXRvcikge1xuICAgICAgICB0aGlzLm9ic2VydmVyTG9jYXRvciA9IG9ic2VydmVyTG9jYXRvcjtcbiAgICB9XG4gICAgYmluZChmbGFncywgX3Njb3BlLCBfaG9zdFNjb3BlLCBiaW5kaW5nLCAuLi5ldmVudHMpIHtcbiAgICAgICAgaWYgKGV2ZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHVwZGF0ZVRyaWdnZXIgYmluZGluZyBiZWhhdmlvciByZXF1aXJlcyBhdCBsZWFzdCBvbmUgZXZlbnQgbmFtZSBhcmd1bWVudDogZWcgPGlucHV0IHZhbHVlLmJpbmQ9XCJmaXJzdE5hbWUgJiB1cGRhdGVUcmlnZ2VyOlxcJ2JsdXJcXCdcIj4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmluZGluZy5tb2RlICE9PSBCaW5kaW5nTW9kZS50d29XYXkgJiYgYmluZGluZy5tb2RlICE9PSBCaW5kaW5nTW9kZS5mcm9tVmlldykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdXBkYXRlVHJpZ2dlciBiaW5kaW5nIGJlaGF2aW9yIGNhbiBvbmx5IGJlIGFwcGxpZWQgdG8gdHdvLXdheS8gZnJvbS12aWV3IGJpbmRpbmdzIG9uIGlucHV0L3NlbGVjdCBlbGVtZW50cy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbnN1cmUgdGhlIGJpbmRpbmcncyB0YXJnZXQgb2JzZXJ2ZXIgaGFzIGJlZW4gc2V0LlxuICAgICAgICBjb25zdCB0YXJnZXRPYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXJMb2NhdG9yLmdldE9ic2VydmVyKGJpbmRpbmcudGFyZ2V0LCBiaW5kaW5nLnRhcmdldFByb3BlcnR5KTtcbiAgICAgICAgaWYgKCF0YXJnZXRPYnNlcnZlci5oYW5kbGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSB1cGRhdGVUcmlnZ2VyIGJpbmRpbmcgYmVoYXZpb3IgY2FuIG9ubHkgYmUgYXBwbGllZCB0byB0d28td2F5LyBmcm9tLXZpZXcgYmluZGluZ3Mgb24gaW5wdXQvc2VsZWN0IGVsZW1lbnRzLicpO1xuICAgICAgICB9XG4gICAgICAgIGJpbmRpbmcudGFyZ2V0T2JzZXJ2ZXIgPSB0YXJnZXRPYnNlcnZlcjtcbiAgICAgICAgLy8gc3Rhc2ggdGhlIG9yaWdpbmFsIGVsZW1lbnQgc3Vic2NyaWJlIGZ1bmN0aW9uLlxuICAgICAgICBjb25zdCBvcmlnaW5hbEhhbmRsZXIgPSB0YXJnZXRPYnNlcnZlci5oYW5kbGVyO1xuICAgICAgICB0YXJnZXRPYnNlcnZlci5vcmlnaW5hbEhhbmRsZXIgPSBvcmlnaW5hbEhhbmRsZXI7XG4gICAgICAgIC8vIHJlcGxhY2UgdGhlIGVsZW1lbnQgc3Vic2NyaWJlIGZ1bmN0aW9uIHdpdGggb25lIHRoYXQgdXNlcyB0aGUgY29ycmVjdCBldmVudHMuXG4gICAgICAgIHRhcmdldE9ic2VydmVyLmhhbmRsZXIgPSBuZXcgRXZlbnRTdWJzY3JpYmVyKG5ldyBOb2RlT2JzZXJ2ZXJDb25maWcoe1xuICAgICAgICAgICAgZGVmYXVsdDogb3JpZ2luYWxIYW5kbGVyLmNvbmZpZy5kZWZhdWx0LFxuICAgICAgICAgICAgZXZlbnRzLFxuICAgICAgICAgICAgcmVhZG9ubHk6IG9yaWdpbmFsSGFuZGxlci5jb25maWcucmVhZG9ubHlcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB1bmJpbmQoZmxhZ3MsIF9zY29wZSwgX2hvc3RTY29wZSwgYmluZGluZykge1xuICAgICAgICAvLyByZXN0b3JlIHRoZSBzdGF0ZSBvZiB0aGUgYmluZGluZy5cbiAgICAgICAgYmluZGluZy50YXJnZXRPYnNlcnZlci5oYW5kbGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgYmluZGluZy50YXJnZXRPYnNlcnZlci5oYW5kbGVyID0gYmluZGluZy50YXJnZXRPYnNlcnZlci5vcmlnaW5hbEhhbmRsZXI7XG4gICAgICAgIGJpbmRpbmcudGFyZ2V0T2JzZXJ2ZXIub3JpZ2luYWxIYW5kbGVyID0gbnVsbDtcbiAgICB9XG59O1xuVXBkYXRlVHJpZ2dlckJpbmRpbmdCZWhhdmlvciA9IF9fZGVjb3JhdGUoW1xuICAgIGJpbmRpbmdCZWhhdmlvcigndXBkYXRlVHJpZ2dlcicpLFxuICAgIF9fcGFyYW0oMCwgSU9ic2VydmVyTG9jYXRvcilcbl0sIFVwZGF0ZVRyaWdnZXJCaW5kaW5nQmVoYXZpb3IpO1xuZXhwb3J0IHsgVXBkYXRlVHJpZ2dlckJpbmRpbmdCZWhhdmlvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBkYXRlLXRyaWdnZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-behaviors/update-trigger.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-command.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-command.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"bindingCommand\": () => (/* binding */ bindingCommand),\n/* harmony export */   \"BindingCommandDefinition\": () => (/* binding */ BindingCommandDefinition),\n/* harmony export */   \"BindingCommand\": () => (/* binding */ BindingCommand),\n/* harmony export */   \"getTarget\": () => (/* binding */ getTarget),\n/* harmony export */   \"OneTimeBindingCommand\": () => (/* binding */ OneTimeBindingCommand),\n/* harmony export */   \"ToViewBindingCommand\": () => (/* binding */ ToViewBindingCommand),\n/* harmony export */   \"FromViewBindingCommand\": () => (/* binding */ FromViewBindingCommand),\n/* harmony export */   \"TwoWayBindingCommand\": () => (/* binding */ TwoWayBindingCommand),\n/* harmony export */   \"DefaultBindingCommand\": () => (/* binding */ DefaultBindingCommand),\n/* harmony export */   \"CallBindingCommand\": () => (/* binding */ CallBindingCommand),\n/* harmony export */   \"ForBindingCommand\": () => (/* binding */ ForBindingCommand),\n/* harmony export */   \"TriggerBindingCommand\": () => (/* binding */ TriggerBindingCommand),\n/* harmony export */   \"DelegateBindingCommand\": () => (/* binding */ DelegateBindingCommand),\n/* harmony export */   \"CaptureBindingCommand\": () => (/* binding */ CaptureBindingCommand),\n/* harmony export */   \"AttrBindingCommand\": () => (/* binding */ AttrBindingCommand),\n/* harmony export */   \"StyleBindingCommand\": () => (/* binding */ StyleBindingCommand),\n/* harmony export */   \"ClassBindingCommand\": () => (/* binding */ ClassBindingCommand),\n/* harmony export */   \"RefBindingCommand\": () => (/* binding */ RefBindingCommand)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _renderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../renderer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/renderer.js\");\n/* harmony import */ var _semantic_model_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../semantic-model.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/semantic-model.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\nfunction bindingCommand(nameOrDefinition) {\n    return function (target) {\n        return BindingCommand.define(nameOrDefinition, target);\n    };\n}\nclass BindingCommandDefinition {\n    constructor(Type, name, aliases, key, type) {\n        this.Type = Type;\n        this.name = name;\n        this.aliases = aliases;\n        this.key = key;\n        this.type = type;\n    }\n    static create(nameOrDef, Type) {\n        let name;\n        let def;\n        if (typeof nameOrDef === 'string') {\n            name = nameOrDef;\n            def = { name };\n        }\n        else {\n            name = nameOrDef.name;\n            def = nameOrDef;\n        }\n        return new BindingCommandDefinition(Type, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(BindingCommand.getAnnotation(Type, 'name'), name), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(BindingCommand.getAnnotation(Type, 'aliases'), def.aliases, Type.aliases), BindingCommand.keyFrom(name), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(BindingCommand.getAnnotation(Type, 'type'), def.type, Type.type, null));\n    }\n    register(container) {\n        const { Type, key, aliases } = this;\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(key, Type).register(container);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.aliasTo(key, Type).register(container);\n        (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.registerAliases)(aliases, BindingCommand, key, container);\n    }\n}\nconst BindingCommand = {\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.keyFor('binding-command'),\n    keyFrom(name) {\n        return `${BindingCommand.name}:${name}`;\n    },\n    isType(value) {\n        return typeof value === 'function' && _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.hasOwn(BindingCommand.name, value);\n    },\n    define(nameOrDef, Type) {\n        const definition = BindingCommandDefinition.create(nameOrDef, Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(BindingCommand.name, definition, definition.Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(BindingCommand.name, definition, definition);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.appendTo(Type, BindingCommand.name);\n        return definition.Type;\n    },\n    getDefinition(Type) {\n        const def = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(BindingCommand.name, Type);\n        if (def === void 0) {\n            throw new Error(`No definition found for type ${Type.name}`);\n        }\n        return def;\n    },\n    annotate(Type, prop, value) {\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor(prop), value, Type);\n    },\n    getAnnotation(Type, prop) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor(prop), Type);\n    },\n};\nfunction getTarget(binding, makeCamelCase) {\n    if (binding.flags & 256 /* isBinding */) {\n        return binding.bindable.propName;\n    }\n    else if (makeCamelCase) {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(binding.syntax.target);\n    }\n    else {\n        return binding.syntax.target;\n    }\n}\nlet OneTimeBindingCommand = class OneTimeBindingCommand {\n    constructor() {\n        this.bindingType = 49 /* OneTimeCommand */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.PropertyBindingInstruction(binding.expression, getTarget(binding, false), _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.oneTime);\n    }\n};\nOneTimeBindingCommand = __decorate([\n    bindingCommand('one-time')\n], OneTimeBindingCommand);\n\nlet ToViewBindingCommand = class ToViewBindingCommand {\n    constructor() {\n        this.bindingType = 50 /* ToViewCommand */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.PropertyBindingInstruction(binding.expression, getTarget(binding, false), _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView);\n    }\n};\nToViewBindingCommand = __decorate([\n    bindingCommand('to-view')\n], ToViewBindingCommand);\n\nlet FromViewBindingCommand = class FromViewBindingCommand {\n    constructor() {\n        this.bindingType = 51 /* FromViewCommand */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.PropertyBindingInstruction(binding.expression, getTarget(binding, false), _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.fromView);\n    }\n};\nFromViewBindingCommand = __decorate([\n    bindingCommand('from-view')\n], FromViewBindingCommand);\n\nlet TwoWayBindingCommand = class TwoWayBindingCommand {\n    constructor() {\n        this.bindingType = 52 /* TwoWayCommand */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.PropertyBindingInstruction(binding.expression, getTarget(binding, false), _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay);\n    }\n};\nTwoWayBindingCommand = __decorate([\n    bindingCommand('two-way')\n], TwoWayBindingCommand);\n\nlet DefaultBindingCommand = class DefaultBindingCommand {\n    constructor() {\n        this.bindingType = 53 /* BindCommand */;\n    }\n    compile(binding) {\n        let mode = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.default;\n        if (binding instanceof _semantic_model_js__WEBPACK_IMPORTED_MODULE_3__.BindingSymbol) {\n            mode = binding.bindable.mode;\n        }\n        else {\n            const command = binding.syntax.command;\n            switch (command) {\n                case 'bind':\n                case 'to-view':\n                    mode = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView;\n                    break;\n                case 'one-time':\n                    mode = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.oneTime;\n                    break;\n                case 'from-view':\n                    mode = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.fromView;\n                    break;\n                case 'two-way':\n                    mode = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay;\n                    break;\n            }\n        }\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.PropertyBindingInstruction(binding.expression, getTarget(binding, false), mode === _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.default ? _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView : mode);\n    }\n};\nDefaultBindingCommand = __decorate([\n    bindingCommand('bind')\n], DefaultBindingCommand);\n\nlet CallBindingCommand = class CallBindingCommand {\n    constructor() {\n        this.bindingType = 153 /* CallCommand */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.CallBindingInstruction(binding.expression, getTarget(binding, true));\n    }\n};\nCallBindingCommand = __decorate([\n    bindingCommand('call')\n], CallBindingCommand);\n\nlet ForBindingCommand = class ForBindingCommand {\n    constructor() {\n        this.bindingType = 539 /* ForCommand */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.IteratorBindingInstruction(binding.expression, getTarget(binding, false));\n    }\n};\nForBindingCommand = __decorate([\n    bindingCommand('for')\n], ForBindingCommand);\n\nlet TriggerBindingCommand = class TriggerBindingCommand {\n    constructor() {\n        this.bindingType = 4182 /* TriggerCommand */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.ListenerBindingInstruction(binding.expression, getTarget(binding, false), true, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.DelegationStrategy.none);\n    }\n};\nTriggerBindingCommand = __decorate([\n    bindingCommand('trigger')\n], TriggerBindingCommand);\n\nlet DelegateBindingCommand = class DelegateBindingCommand {\n    constructor() {\n        this.bindingType = 4184 /* DelegateCommand */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.ListenerBindingInstruction(binding.expression, getTarget(binding, false), false, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.DelegationStrategy.bubbling);\n    }\n};\nDelegateBindingCommand = __decorate([\n    bindingCommand('delegate')\n], DelegateBindingCommand);\n\nlet CaptureBindingCommand = class CaptureBindingCommand {\n    constructor() {\n        this.bindingType = 4183 /* CaptureCommand */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.ListenerBindingInstruction(binding.expression, getTarget(binding, false), false, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.DelegationStrategy.capturing);\n    }\n};\nCaptureBindingCommand = __decorate([\n    bindingCommand('capture')\n], CaptureBindingCommand);\n\n/**\n * Attr binding command. Compile attr with binding symbol with command `attr` to `AttributeBindingInstruction`\n */\nlet AttrBindingCommand = class AttrBindingCommand {\n    constructor() {\n        this.bindingType = 32 /* IsProperty */;\n    }\n    compile(binding) {\n        const target = getTarget(binding, false);\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.AttributeBindingInstruction(target, binding.expression, target);\n    }\n};\nAttrBindingCommand = __decorate([\n    bindingCommand('attr')\n], AttrBindingCommand);\n\n/**\n * Style binding command. Compile attr with binding symbol with command `style` to `AttributeBindingInstruction`\n */\nlet StyleBindingCommand = class StyleBindingCommand {\n    constructor() {\n        this.bindingType = 32 /* IsProperty */ | 4096 /* IgnoreAttr */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.AttributeBindingInstruction('style', binding.expression, getTarget(binding, false));\n    }\n};\nStyleBindingCommand = __decorate([\n    bindingCommand('style')\n], StyleBindingCommand);\n\n/**\n * Class binding command. Compile attr with binding symbol with command `class` to `AttributeBindingInstruction`\n */\nlet ClassBindingCommand = class ClassBindingCommand {\n    constructor() {\n        this.bindingType = 32 /* IsProperty */ | 4096 /* IgnoreAttr */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.AttributeBindingInstruction('class', binding.expression, getTarget(binding, false));\n    }\n};\nClassBindingCommand = __decorate([\n    bindingCommand('class')\n], ClassBindingCommand);\n\n/**\n * Binding command to refer different targets (element, custom element/attribute view models, controller) attached to an element\n */\nlet RefBindingCommand = class RefBindingCommand {\n    constructor() {\n        this.bindingType = 32 /* IsProperty */ | 4096 /* IgnoreAttr */;\n    }\n    compile(binding) {\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_2__.RefBindingInstruction(binding.expression, getTarget(binding, false));\n    }\n};\nRefBindingCommand = __decorate([\n    bindingCommand('ref')\n], RefBindingCommand);\n\n//# sourceMappingURL=binding-command.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9iaW5kaW5nLWNvbW1hbmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9iaW5kaW5nLWNvbW1hbmQuanM/ZDU4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBjYW1lbENhc2UsIFJlZ2lzdHJhdGlvbiwgbWVyZ2VBcnJheXMsIFByb3RvY29sLCBmaXJzdERlZmluZWQsIE1ldGFkYXRhIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IEJpbmRpbmdNb2RlLCBEZWxlZ2F0aW9uU3RyYXRlZ3ksIHJlZ2lzdGVyQWxpYXNlcyB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuaW1wb3J0IHsgQXR0cmlidXRlQmluZGluZ0luc3RydWN0aW9uLCBQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbiwgQ2FsbEJpbmRpbmdJbnN0cnVjdGlvbiwgSXRlcmF0b3JCaW5kaW5nSW5zdHJ1Y3Rpb24sIFJlZkJpbmRpbmdJbnN0cnVjdGlvbiwgTGlzdGVuZXJCaW5kaW5nSW5zdHJ1Y3Rpb24sIH0gZnJvbSAnLi4vcmVuZGVyZXIuanMnO1xuaW1wb3J0IHsgQmluZGluZ1N5bWJvbCB9IGZyb20gJy4uL3NlbWFudGljLW1vZGVsLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBiaW5kaW5nQ29tbWFuZChuYW1lT3JEZWZpbml0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIEJpbmRpbmdDb21tYW5kLmRlZmluZShuYW1lT3JEZWZpbml0aW9uLCB0YXJnZXQpO1xuICAgIH07XG59XG5leHBvcnQgY2xhc3MgQmluZGluZ0NvbW1hbmREZWZpbml0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihUeXBlLCBuYW1lLCBhbGlhc2VzLCBrZXksIHR5cGUpIHtcbiAgICAgICAgdGhpcy5UeXBlID0gVHlwZTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hbGlhc2VzID0gYWxpYXNlcztcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUobmFtZU9yRGVmLCBUeXBlKSB7XG4gICAgICAgIGxldCBuYW1lO1xuICAgICAgICBsZXQgZGVmO1xuICAgICAgICBpZiAodHlwZW9mIG5hbWVPckRlZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lT3JEZWY7XG4gICAgICAgICAgICBkZWYgPSB7IG5hbWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lT3JEZWYubmFtZTtcbiAgICAgICAgICAgIGRlZiA9IG5hbWVPckRlZjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdDb21tYW5kRGVmaW5pdGlvbihUeXBlLCBmaXJzdERlZmluZWQoQmluZGluZ0NvbW1hbmQuZ2V0QW5ub3RhdGlvbihUeXBlLCAnbmFtZScpLCBuYW1lKSwgbWVyZ2VBcnJheXMoQmluZGluZ0NvbW1hbmQuZ2V0QW5ub3RhdGlvbihUeXBlLCAnYWxpYXNlcycpLCBkZWYuYWxpYXNlcywgVHlwZS5hbGlhc2VzKSwgQmluZGluZ0NvbW1hbmQua2V5RnJvbShuYW1lKSwgZmlyc3REZWZpbmVkKEJpbmRpbmdDb21tYW5kLmdldEFubm90YXRpb24oVHlwZSwgJ3R5cGUnKSwgZGVmLnR5cGUsIFR5cGUudHlwZSwgbnVsbCkpO1xuICAgIH1cbiAgICByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgeyBUeXBlLCBrZXksIGFsaWFzZXMgfSA9IHRoaXM7XG4gICAgICAgIFJlZ2lzdHJhdGlvbi5zaW5nbGV0b24oa2V5LCBUeXBlKS5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAgICBSZWdpc3RyYXRpb24uYWxpYXNUbyhrZXksIFR5cGUpLnJlZ2lzdGVyKGNvbnRhaW5lcik7XG4gICAgICAgIHJlZ2lzdGVyQWxpYXNlcyhhbGlhc2VzLCBCaW5kaW5nQ29tbWFuZCwga2V5LCBjb250YWluZXIpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBCaW5kaW5nQ29tbWFuZCA9IHtcbiAgICBuYW1lOiBQcm90b2NvbC5yZXNvdXJjZS5rZXlGb3IoJ2JpbmRpbmctY29tbWFuZCcpLFxuICAgIGtleUZyb20obmFtZSkge1xuICAgICAgICByZXR1cm4gYCR7QmluZGluZ0NvbW1hbmQubmFtZX06JHtuYW1lfWA7XG4gICAgfSxcbiAgICBpc1R5cGUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiBNZXRhZGF0YS5oYXNPd24oQmluZGluZ0NvbW1hbmQubmFtZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgZGVmaW5lKG5hbWVPckRlZiwgVHlwZSkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gQmluZGluZ0NvbW1hbmREZWZpbml0aW9uLmNyZWF0ZShuYW1lT3JEZWYsIFR5cGUpO1xuICAgICAgICBNZXRhZGF0YS5kZWZpbmUoQmluZGluZ0NvbW1hbmQubmFtZSwgZGVmaW5pdGlvbiwgZGVmaW5pdGlvbi5UeXBlKTtcbiAgICAgICAgTWV0YWRhdGEuZGVmaW5lKEJpbmRpbmdDb21tYW5kLm5hbWUsIGRlZmluaXRpb24sIGRlZmluaXRpb24pO1xuICAgICAgICBQcm90b2NvbC5yZXNvdXJjZS5hcHBlbmRUbyhUeXBlLCBCaW5kaW5nQ29tbWFuZC5uYW1lKTtcbiAgICAgICAgcmV0dXJuIGRlZmluaXRpb24uVHlwZTtcbiAgICB9LFxuICAgIGdldERlZmluaXRpb24oVHlwZSkge1xuICAgICAgICBjb25zdCBkZWYgPSBNZXRhZGF0YS5nZXRPd24oQmluZGluZ0NvbW1hbmQubmFtZSwgVHlwZSk7XG4gICAgICAgIGlmIChkZWYgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBkZWZpbml0aW9uIGZvdW5kIGZvciB0eXBlICR7VHlwZS5uYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgfSxcbiAgICBhbm5vdGF0ZShUeXBlLCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICBNZXRhZGF0YS5kZWZpbmUoUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IocHJvcCksIHZhbHVlLCBUeXBlKTtcbiAgICB9LFxuICAgIGdldEFubm90YXRpb24oVHlwZSwgcHJvcCkge1xuICAgICAgICByZXR1cm4gTWV0YWRhdGEuZ2V0T3duKFByb3RvY29sLmFubm90YXRpb24ua2V5Rm9yKHByb3ApLCBUeXBlKTtcbiAgICB9LFxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRUYXJnZXQoYmluZGluZywgbWFrZUNhbWVsQ2FzZSkge1xuICAgIGlmIChiaW5kaW5nLmZsYWdzICYgMjU2IC8qIGlzQmluZGluZyAqLykge1xuICAgICAgICByZXR1cm4gYmluZGluZy5iaW5kYWJsZS5wcm9wTmFtZTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWFrZUNhbWVsQ2FzZSkge1xuICAgICAgICByZXR1cm4gY2FtZWxDYXNlKGJpbmRpbmcuc3ludGF4LnRhcmdldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYmluZGluZy5zeW50YXgudGFyZ2V0O1xuICAgIH1cbn1cbmxldCBPbmVUaW1lQmluZGluZ0NvbW1hbmQgPSBjbGFzcyBPbmVUaW1lQmluZGluZ0NvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJpbmRpbmdUeXBlID0gNDkgLyogT25lVGltZUNvbW1hbmQgKi87XG4gICAgfVxuICAgIGNvbXBpbGUoYmluZGluZykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BlcnR5QmluZGluZ0luc3RydWN0aW9uKGJpbmRpbmcuZXhwcmVzc2lvbiwgZ2V0VGFyZ2V0KGJpbmRpbmcsIGZhbHNlKSwgQmluZGluZ01vZGUub25lVGltZSk7XG4gICAgfVxufTtcbk9uZVRpbWVCaW5kaW5nQ29tbWFuZCA9IF9fZGVjb3JhdGUoW1xuICAgIGJpbmRpbmdDb21tYW5kKCdvbmUtdGltZScpXG5dLCBPbmVUaW1lQmluZGluZ0NvbW1hbmQpO1xuZXhwb3J0IHsgT25lVGltZUJpbmRpbmdDb21tYW5kIH07XG5sZXQgVG9WaWV3QmluZGluZ0NvbW1hbmQgPSBjbGFzcyBUb1ZpZXdCaW5kaW5nQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ1R5cGUgPSA1MCAvKiBUb1ZpZXdDb21tYW5kICovO1xuICAgIH1cbiAgICBjb21waWxlKGJpbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbihiaW5kaW5nLmV4cHJlc3Npb24sIGdldFRhcmdldChiaW5kaW5nLCBmYWxzZSksIEJpbmRpbmdNb2RlLnRvVmlldyk7XG4gICAgfVxufTtcblRvVmlld0JpbmRpbmdDb21tYW5kID0gX19kZWNvcmF0ZShbXG4gICAgYmluZGluZ0NvbW1hbmQoJ3RvLXZpZXcnKVxuXSwgVG9WaWV3QmluZGluZ0NvbW1hbmQpO1xuZXhwb3J0IHsgVG9WaWV3QmluZGluZ0NvbW1hbmQgfTtcbmxldCBGcm9tVmlld0JpbmRpbmdDb21tYW5kID0gY2xhc3MgRnJvbVZpZXdCaW5kaW5nQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ1R5cGUgPSA1MSAvKiBGcm9tVmlld0NvbW1hbmQgKi87XG4gICAgfVxuICAgIGNvbXBpbGUoYmluZGluZykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BlcnR5QmluZGluZ0luc3RydWN0aW9uKGJpbmRpbmcuZXhwcmVzc2lvbiwgZ2V0VGFyZ2V0KGJpbmRpbmcsIGZhbHNlKSwgQmluZGluZ01vZGUuZnJvbVZpZXcpO1xuICAgIH1cbn07XG5Gcm9tVmlld0JpbmRpbmdDb21tYW5kID0gX19kZWNvcmF0ZShbXG4gICAgYmluZGluZ0NvbW1hbmQoJ2Zyb20tdmlldycpXG5dLCBGcm9tVmlld0JpbmRpbmdDb21tYW5kKTtcbmV4cG9ydCB7IEZyb21WaWV3QmluZGluZ0NvbW1hbmQgfTtcbmxldCBUd29XYXlCaW5kaW5nQ29tbWFuZCA9IGNsYXNzIFR3b1dheUJpbmRpbmdDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nVHlwZSA9IDUyIC8qIFR3b1dheUNvbW1hbmQgKi87XG4gICAgfVxuICAgIGNvbXBpbGUoYmluZGluZykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BlcnR5QmluZGluZ0luc3RydWN0aW9uKGJpbmRpbmcuZXhwcmVzc2lvbiwgZ2V0VGFyZ2V0KGJpbmRpbmcsIGZhbHNlKSwgQmluZGluZ01vZGUudHdvV2F5KTtcbiAgICB9XG59O1xuVHdvV2F5QmluZGluZ0NvbW1hbmQgPSBfX2RlY29yYXRlKFtcbiAgICBiaW5kaW5nQ29tbWFuZCgndHdvLXdheScpXG5dLCBUd29XYXlCaW5kaW5nQ29tbWFuZCk7XG5leHBvcnQgeyBUd29XYXlCaW5kaW5nQ29tbWFuZCB9O1xubGV0IERlZmF1bHRCaW5kaW5nQ29tbWFuZCA9IGNsYXNzIERlZmF1bHRCaW5kaW5nQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ1R5cGUgPSA1MyAvKiBCaW5kQ29tbWFuZCAqLztcbiAgICB9XG4gICAgY29tcGlsZShiaW5kaW5nKSB7XG4gICAgICAgIGxldCBtb2RlID0gQmluZGluZ01vZGUuZGVmYXVsdDtcbiAgICAgICAgaWYgKGJpbmRpbmcgaW5zdGFuY2VvZiBCaW5kaW5nU3ltYm9sKSB7XG4gICAgICAgICAgICBtb2RlID0gYmluZGluZy5iaW5kYWJsZS5tb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IGJpbmRpbmcuc3ludGF4LmNvbW1hbmQ7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvbW1hbmQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdiaW5kJzpcbiAgICAgICAgICAgICAgICBjYXNlICd0by12aWV3JzpcbiAgICAgICAgICAgICAgICAgICAgbW9kZSA9IEJpbmRpbmdNb2RlLnRvVmlldztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb25lLXRpbWUnOlxuICAgICAgICAgICAgICAgICAgICBtb2RlID0gQmluZGluZ01vZGUub25lVGltZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZnJvbS12aWV3JzpcbiAgICAgICAgICAgICAgICAgICAgbW9kZSA9IEJpbmRpbmdNb2RlLmZyb21WaWV3O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0d28td2F5JzpcbiAgICAgICAgICAgICAgICAgICAgbW9kZSA9IEJpbmRpbmdNb2RlLnR3b1dheTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbihiaW5kaW5nLmV4cHJlc3Npb24sIGdldFRhcmdldChiaW5kaW5nLCBmYWxzZSksIG1vZGUgPT09IEJpbmRpbmdNb2RlLmRlZmF1bHQgPyBCaW5kaW5nTW9kZS50b1ZpZXcgOiBtb2RlKTtcbiAgICB9XG59O1xuRGVmYXVsdEJpbmRpbmdDb21tYW5kID0gX19kZWNvcmF0ZShbXG4gICAgYmluZGluZ0NvbW1hbmQoJ2JpbmQnKVxuXSwgRGVmYXVsdEJpbmRpbmdDb21tYW5kKTtcbmV4cG9ydCB7IERlZmF1bHRCaW5kaW5nQ29tbWFuZCB9O1xubGV0IENhbGxCaW5kaW5nQ29tbWFuZCA9IGNsYXNzIENhbGxCaW5kaW5nQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ1R5cGUgPSAxNTMgLyogQ2FsbENvbW1hbmQgKi87XG4gICAgfVxuICAgIGNvbXBpbGUoYmluZGluZykge1xuICAgICAgICByZXR1cm4gbmV3IENhbGxCaW5kaW5nSW5zdHJ1Y3Rpb24oYmluZGluZy5leHByZXNzaW9uLCBnZXRUYXJnZXQoYmluZGluZywgdHJ1ZSkpO1xuICAgIH1cbn07XG5DYWxsQmluZGluZ0NvbW1hbmQgPSBfX2RlY29yYXRlKFtcbiAgICBiaW5kaW5nQ29tbWFuZCgnY2FsbCcpXG5dLCBDYWxsQmluZGluZ0NvbW1hbmQpO1xuZXhwb3J0IHsgQ2FsbEJpbmRpbmdDb21tYW5kIH07XG5sZXQgRm9yQmluZGluZ0NvbW1hbmQgPSBjbGFzcyBGb3JCaW5kaW5nQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ1R5cGUgPSA1MzkgLyogRm9yQ29tbWFuZCAqLztcbiAgICB9XG4gICAgY29tcGlsZShiaW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgSXRlcmF0b3JCaW5kaW5nSW5zdHJ1Y3Rpb24oYmluZGluZy5leHByZXNzaW9uLCBnZXRUYXJnZXQoYmluZGluZywgZmFsc2UpKTtcbiAgICB9XG59O1xuRm9yQmluZGluZ0NvbW1hbmQgPSBfX2RlY29yYXRlKFtcbiAgICBiaW5kaW5nQ29tbWFuZCgnZm9yJylcbl0sIEZvckJpbmRpbmdDb21tYW5kKTtcbmV4cG9ydCB7IEZvckJpbmRpbmdDb21tYW5kIH07XG5sZXQgVHJpZ2dlckJpbmRpbmdDb21tYW5kID0gY2xhc3MgVHJpZ2dlckJpbmRpbmdDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nVHlwZSA9IDQxODIgLyogVHJpZ2dlckNvbW1hbmQgKi87XG4gICAgfVxuICAgIGNvbXBpbGUoYmluZGluZykge1xuICAgICAgICByZXR1cm4gbmV3IExpc3RlbmVyQmluZGluZ0luc3RydWN0aW9uKGJpbmRpbmcuZXhwcmVzc2lvbiwgZ2V0VGFyZ2V0KGJpbmRpbmcsIGZhbHNlKSwgdHJ1ZSwgRGVsZWdhdGlvblN0cmF0ZWd5Lm5vbmUpO1xuICAgIH1cbn07XG5UcmlnZ2VyQmluZGluZ0NvbW1hbmQgPSBfX2RlY29yYXRlKFtcbiAgICBiaW5kaW5nQ29tbWFuZCgndHJpZ2dlcicpXG5dLCBUcmlnZ2VyQmluZGluZ0NvbW1hbmQpO1xuZXhwb3J0IHsgVHJpZ2dlckJpbmRpbmdDb21tYW5kIH07XG5sZXQgRGVsZWdhdGVCaW5kaW5nQ29tbWFuZCA9IGNsYXNzIERlbGVnYXRlQmluZGluZ0NvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJpbmRpbmdUeXBlID0gNDE4NCAvKiBEZWxlZ2F0ZUNvbW1hbmQgKi87XG4gICAgfVxuICAgIGNvbXBpbGUoYmluZGluZykge1xuICAgICAgICByZXR1cm4gbmV3IExpc3RlbmVyQmluZGluZ0luc3RydWN0aW9uKGJpbmRpbmcuZXhwcmVzc2lvbiwgZ2V0VGFyZ2V0KGJpbmRpbmcsIGZhbHNlKSwgZmFsc2UsIERlbGVnYXRpb25TdHJhdGVneS5idWJibGluZyk7XG4gICAgfVxufTtcbkRlbGVnYXRlQmluZGluZ0NvbW1hbmQgPSBfX2RlY29yYXRlKFtcbiAgICBiaW5kaW5nQ29tbWFuZCgnZGVsZWdhdGUnKVxuXSwgRGVsZWdhdGVCaW5kaW5nQ29tbWFuZCk7XG5leHBvcnQgeyBEZWxlZ2F0ZUJpbmRpbmdDb21tYW5kIH07XG5sZXQgQ2FwdHVyZUJpbmRpbmdDb21tYW5kID0gY2xhc3MgQ2FwdHVyZUJpbmRpbmdDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nVHlwZSA9IDQxODMgLyogQ2FwdHVyZUNvbW1hbmQgKi87XG4gICAgfVxuICAgIGNvbXBpbGUoYmluZGluZykge1xuICAgICAgICByZXR1cm4gbmV3IExpc3RlbmVyQmluZGluZ0luc3RydWN0aW9uKGJpbmRpbmcuZXhwcmVzc2lvbiwgZ2V0VGFyZ2V0KGJpbmRpbmcsIGZhbHNlKSwgZmFsc2UsIERlbGVnYXRpb25TdHJhdGVneS5jYXB0dXJpbmcpO1xuICAgIH1cbn07XG5DYXB0dXJlQmluZGluZ0NvbW1hbmQgPSBfX2RlY29yYXRlKFtcbiAgICBiaW5kaW5nQ29tbWFuZCgnY2FwdHVyZScpXG5dLCBDYXB0dXJlQmluZGluZ0NvbW1hbmQpO1xuZXhwb3J0IHsgQ2FwdHVyZUJpbmRpbmdDb21tYW5kIH07XG4vKipcbiAqIEF0dHIgYmluZGluZyBjb21tYW5kLiBDb21waWxlIGF0dHIgd2l0aCBiaW5kaW5nIHN5bWJvbCB3aXRoIGNvbW1hbmQgYGF0dHJgIHRvIGBBdHRyaWJ1dGVCaW5kaW5nSW5zdHJ1Y3Rpb25gXG4gKi9cbmxldCBBdHRyQmluZGluZ0NvbW1hbmQgPSBjbGFzcyBBdHRyQmluZGluZ0NvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJpbmRpbmdUeXBlID0gMzIgLyogSXNQcm9wZXJ0eSAqLztcbiAgICB9XG4gICAgY29tcGlsZShiaW5kaW5nKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGdldFRhcmdldChiaW5kaW5nLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBuZXcgQXR0cmlidXRlQmluZGluZ0luc3RydWN0aW9uKHRhcmdldCwgYmluZGluZy5leHByZXNzaW9uLCB0YXJnZXQpO1xuICAgIH1cbn07XG5BdHRyQmluZGluZ0NvbW1hbmQgPSBfX2RlY29yYXRlKFtcbiAgICBiaW5kaW5nQ29tbWFuZCgnYXR0cicpXG5dLCBBdHRyQmluZGluZ0NvbW1hbmQpO1xuZXhwb3J0IHsgQXR0ckJpbmRpbmdDb21tYW5kIH07XG4vKipcbiAqIFN0eWxlIGJpbmRpbmcgY29tbWFuZC4gQ29tcGlsZSBhdHRyIHdpdGggYmluZGluZyBzeW1ib2wgd2l0aCBjb21tYW5kIGBzdHlsZWAgdG8gYEF0dHJpYnV0ZUJpbmRpbmdJbnN0cnVjdGlvbmBcbiAqL1xubGV0IFN0eWxlQmluZGluZ0NvbW1hbmQgPSBjbGFzcyBTdHlsZUJpbmRpbmdDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nVHlwZSA9IDMyIC8qIElzUHJvcGVydHkgKi8gfCA0MDk2IC8qIElnbm9yZUF0dHIgKi87XG4gICAgfVxuICAgIGNvbXBpbGUoYmluZGluZykge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZUJpbmRpbmdJbnN0cnVjdGlvbignc3R5bGUnLCBiaW5kaW5nLmV4cHJlc3Npb24sIGdldFRhcmdldChiaW5kaW5nLCBmYWxzZSkpO1xuICAgIH1cbn07XG5TdHlsZUJpbmRpbmdDb21tYW5kID0gX19kZWNvcmF0ZShbXG4gICAgYmluZGluZ0NvbW1hbmQoJ3N0eWxlJylcbl0sIFN0eWxlQmluZGluZ0NvbW1hbmQpO1xuZXhwb3J0IHsgU3R5bGVCaW5kaW5nQ29tbWFuZCB9O1xuLyoqXG4gKiBDbGFzcyBiaW5kaW5nIGNvbW1hbmQuIENvbXBpbGUgYXR0ciB3aXRoIGJpbmRpbmcgc3ltYm9sIHdpdGggY29tbWFuZCBgY2xhc3NgIHRvIGBBdHRyaWJ1dGVCaW5kaW5nSW5zdHJ1Y3Rpb25gXG4gKi9cbmxldCBDbGFzc0JpbmRpbmdDb21tYW5kID0gY2xhc3MgQ2xhc3NCaW5kaW5nQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ1R5cGUgPSAzMiAvKiBJc1Byb3BlcnR5ICovIHwgNDA5NiAvKiBJZ25vcmVBdHRyICovO1xuICAgIH1cbiAgICBjb21waWxlKGJpbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVCaW5kaW5nSW5zdHJ1Y3Rpb24oJ2NsYXNzJywgYmluZGluZy5leHByZXNzaW9uLCBnZXRUYXJnZXQoYmluZGluZywgZmFsc2UpKTtcbiAgICB9XG59O1xuQ2xhc3NCaW5kaW5nQ29tbWFuZCA9IF9fZGVjb3JhdGUoW1xuICAgIGJpbmRpbmdDb21tYW5kKCdjbGFzcycpXG5dLCBDbGFzc0JpbmRpbmdDb21tYW5kKTtcbmV4cG9ydCB7IENsYXNzQmluZGluZ0NvbW1hbmQgfTtcbi8qKlxuICogQmluZGluZyBjb21tYW5kIHRvIHJlZmVyIGRpZmZlcmVudCB0YXJnZXRzIChlbGVtZW50LCBjdXN0b20gZWxlbWVudC9hdHRyaWJ1dGUgdmlldyBtb2RlbHMsIGNvbnRyb2xsZXIpIGF0dGFjaGVkIHRvIGFuIGVsZW1lbnRcbiAqL1xubGV0IFJlZkJpbmRpbmdDb21tYW5kID0gY2xhc3MgUmVmQmluZGluZ0NvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJpbmRpbmdUeXBlID0gMzIgLyogSXNQcm9wZXJ0eSAqLyB8IDQwOTYgLyogSWdub3JlQXR0ciAqLztcbiAgICB9XG4gICAgY29tcGlsZShiaW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVmQmluZGluZ0luc3RydWN0aW9uKGJpbmRpbmcuZXhwcmVzc2lvbiwgZ2V0VGFyZ2V0KGJpbmRpbmcsIGZhbHNlKSk7XG4gICAgfVxufTtcblJlZkJpbmRpbmdDb21tYW5kID0gX19kZWNvcmF0ZShbXG4gICAgYmluZGluZ0NvbW1hbmQoJ3JlZicpXG5dLCBSZWZCaW5kaW5nQ29tbWFuZCk7XG5leHBvcnQgeyBSZWZCaW5kaW5nQ29tbWFuZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmluZGluZy1jb21tYW5kLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-command.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"customAttribute\": () => (/* binding */ customAttribute),\n/* harmony export */   \"templateController\": () => (/* binding */ templateController),\n/* harmony export */   \"CustomAttributeDefinition\": () => (/* binding */ CustomAttributeDefinition),\n/* harmony export */   \"CustomAttribute\": () => (/* binding */ CustomAttribute)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\n/* harmony import */ var _watch_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../watch.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/watch.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n\n\n\n\n\nfunction customAttribute(nameOrDef) {\n    return function (target) {\n        return CustomAttribute.define(nameOrDef, target);\n    };\n}\nfunction templateController(nameOrDef) {\n    return function (target) {\n        return CustomAttribute.define(typeof nameOrDef === 'string'\n            ? { isTemplateController: true, name: nameOrDef }\n            : { isTemplateController: true, ...nameOrDef }, target);\n    };\n}\nclass CustomAttributeDefinition {\n    constructor(Type, name, aliases, key, defaultBindingMode, isTemplateController, bindables, noMultiBindings, watches) {\n        this.Type = Type;\n        this.name = name;\n        this.aliases = aliases;\n        this.key = key;\n        this.defaultBindingMode = defaultBindingMode;\n        this.isTemplateController = isTemplateController;\n        this.bindables = bindables;\n        this.noMultiBindings = noMultiBindings;\n        this.watches = watches;\n    }\n    static create(nameOrDef, Type) {\n        let name;\n        let def;\n        if (typeof nameOrDef === 'string') {\n            name = nameOrDef;\n            def = { name };\n        }\n        else {\n            name = nameOrDef.name;\n            def = nameOrDef;\n        }\n        return new CustomAttributeDefinition(Type, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(CustomAttribute.getAnnotation(Type, 'name'), name), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(CustomAttribute.getAnnotation(Type, 'aliases'), def.aliases, Type.aliases), CustomAttribute.keyFrom(name), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(CustomAttribute.getAnnotation(Type, 'defaultBindingMode'), def.defaultBindingMode, Type.defaultBindingMode, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(CustomAttribute.getAnnotation(Type, 'isTemplateController'), def.isTemplateController, Type.isTemplateController, false), _bindable_js__WEBPACK_IMPORTED_MODULE_2__.Bindable.from(..._bindable_js__WEBPACK_IMPORTED_MODULE_2__.Bindable.getAll(Type), CustomAttribute.getAnnotation(Type, 'bindables'), Type.bindables, def.bindables), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(CustomAttribute.getAnnotation(Type, 'noMultiBindings'), def.noMultiBindings, Type.noMultiBindings, false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(_watch_js__WEBPACK_IMPORTED_MODULE_3__.Watch.getAnnotation(Type), Type.watches));\n    }\n    register(container) {\n        const { Type, key, aliases } = this;\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.transient(key, Type).register(container);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.aliasTo(key, Type).register(container);\n        (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.registerAliases)(aliases, CustomAttribute, key, container);\n    }\n}\nconst CustomAttribute = {\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.keyFor('custom-attribute'),\n    keyFrom(name) {\n        return `${CustomAttribute.name}:${name}`;\n    },\n    isType(value) {\n        return typeof value === 'function' && _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.hasOwn(CustomAttribute.name, value);\n    },\n    for(node, name) {\n        var _a;\n        return ((_a = (0,_dom_js__WEBPACK_IMPORTED_MODULE_4__.getRef)(node, CustomAttribute.keyFrom(name))) !== null && _a !== void 0 ? _a : void 0);\n    },\n    define(nameOrDef, Type) {\n        const definition = CustomAttributeDefinition.create(nameOrDef, Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(CustomAttribute.name, definition, definition.Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(CustomAttribute.name, definition, definition);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.appendTo(Type, CustomAttribute.name);\n        return definition.Type;\n    },\n    getDefinition(Type) {\n        const def = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(CustomAttribute.name, Type);\n        if (def === void 0) {\n            throw new Error(`No definition found for type ${Type.name}`);\n        }\n        return def;\n    },\n    annotate(Type, prop, value) {\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor(prop), value, Type);\n    },\n    getAnnotation(Type, prop) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor(prop), Type);\n    },\n};\n//# sourceMappingURL=custom-attribute.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9jdXN0b20tYXR0cmlidXRlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9yZXNvdXJjZXMvY3VzdG9tLWF0dHJpYnV0ZS5qcz8wMjk3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlZ2lzdHJhdGlvbiwgUHJvdG9jb2wsIE1ldGFkYXRhLCBtZXJnZUFycmF5cywgZmlyc3REZWZpbmVkLCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBCaW5kaW5nTW9kZSwgcmVnaXN0ZXJBbGlhc2VzLCB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuaW1wb3J0IHsgQmluZGFibGUsIH0gZnJvbSAnLi4vYmluZGFibGUuanMnO1xuaW1wb3J0IHsgV2F0Y2ggfSBmcm9tICcuLi93YXRjaC5qcyc7XG5pbXBvcnQgeyBnZXRSZWYgfSBmcm9tICcuLi9kb20uanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGN1c3RvbUF0dHJpYnV0ZShuYW1lT3JEZWYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gQ3VzdG9tQXR0cmlidXRlLmRlZmluZShuYW1lT3JEZWYsIHRhcmdldCk7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUNvbnRyb2xsZXIobmFtZU9yRGVmKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIEN1c3RvbUF0dHJpYnV0ZS5kZWZpbmUodHlwZW9mIG5hbWVPckRlZiA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8geyBpc1RlbXBsYXRlQ29udHJvbGxlcjogdHJ1ZSwgbmFtZTogbmFtZU9yRGVmIH1cbiAgICAgICAgICAgIDogeyBpc1RlbXBsYXRlQ29udHJvbGxlcjogdHJ1ZSwgLi4ubmFtZU9yRGVmIH0sIHRhcmdldCk7XG4gICAgfTtcbn1cbmV4cG9ydCBjbGFzcyBDdXN0b21BdHRyaWJ1dGVEZWZpbml0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihUeXBlLCBuYW1lLCBhbGlhc2VzLCBrZXksIGRlZmF1bHRCaW5kaW5nTW9kZSwgaXNUZW1wbGF0ZUNvbnRyb2xsZXIsIGJpbmRhYmxlcywgbm9NdWx0aUJpbmRpbmdzLCB3YXRjaGVzKSB7XG4gICAgICAgIHRoaXMuVHlwZSA9IFR5cGU7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuYWxpYXNlcyA9IGFsaWFzZXM7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmRlZmF1bHRCaW5kaW5nTW9kZSA9IGRlZmF1bHRCaW5kaW5nTW9kZTtcbiAgICAgICAgdGhpcy5pc1RlbXBsYXRlQ29udHJvbGxlciA9IGlzVGVtcGxhdGVDb250cm9sbGVyO1xuICAgICAgICB0aGlzLmJpbmRhYmxlcyA9IGJpbmRhYmxlcztcbiAgICAgICAgdGhpcy5ub011bHRpQmluZGluZ3MgPSBub011bHRpQmluZGluZ3M7XG4gICAgICAgIHRoaXMud2F0Y2hlcyA9IHdhdGNoZXM7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUobmFtZU9yRGVmLCBUeXBlKSB7XG4gICAgICAgIGxldCBuYW1lO1xuICAgICAgICBsZXQgZGVmO1xuICAgICAgICBpZiAodHlwZW9mIG5hbWVPckRlZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lT3JEZWY7XG4gICAgICAgICAgICBkZWYgPSB7IG5hbWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lT3JEZWYubmFtZTtcbiAgICAgICAgICAgIGRlZiA9IG5hbWVPckRlZjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEN1c3RvbUF0dHJpYnV0ZURlZmluaXRpb24oVHlwZSwgZmlyc3REZWZpbmVkKEN1c3RvbUF0dHJpYnV0ZS5nZXRBbm5vdGF0aW9uKFR5cGUsICduYW1lJyksIG5hbWUpLCBtZXJnZUFycmF5cyhDdXN0b21BdHRyaWJ1dGUuZ2V0QW5ub3RhdGlvbihUeXBlLCAnYWxpYXNlcycpLCBkZWYuYWxpYXNlcywgVHlwZS5hbGlhc2VzKSwgQ3VzdG9tQXR0cmlidXRlLmtleUZyb20obmFtZSksIGZpcnN0RGVmaW5lZChDdXN0b21BdHRyaWJ1dGUuZ2V0QW5ub3RhdGlvbihUeXBlLCAnZGVmYXVsdEJpbmRpbmdNb2RlJyksIGRlZi5kZWZhdWx0QmluZGluZ01vZGUsIFR5cGUuZGVmYXVsdEJpbmRpbmdNb2RlLCBCaW5kaW5nTW9kZS50b1ZpZXcpLCBmaXJzdERlZmluZWQoQ3VzdG9tQXR0cmlidXRlLmdldEFubm90YXRpb24oVHlwZSwgJ2lzVGVtcGxhdGVDb250cm9sbGVyJyksIGRlZi5pc1RlbXBsYXRlQ29udHJvbGxlciwgVHlwZS5pc1RlbXBsYXRlQ29udHJvbGxlciwgZmFsc2UpLCBCaW5kYWJsZS5mcm9tKC4uLkJpbmRhYmxlLmdldEFsbChUeXBlKSwgQ3VzdG9tQXR0cmlidXRlLmdldEFubm90YXRpb24oVHlwZSwgJ2JpbmRhYmxlcycpLCBUeXBlLmJpbmRhYmxlcywgZGVmLmJpbmRhYmxlcyksIGZpcnN0RGVmaW5lZChDdXN0b21BdHRyaWJ1dGUuZ2V0QW5ub3RhdGlvbihUeXBlLCAnbm9NdWx0aUJpbmRpbmdzJyksIGRlZi5ub011bHRpQmluZGluZ3MsIFR5cGUubm9NdWx0aUJpbmRpbmdzLCBmYWxzZSksIG1lcmdlQXJyYXlzKFdhdGNoLmdldEFubm90YXRpb24oVHlwZSksIFR5cGUud2F0Y2hlcykpO1xuICAgIH1cbiAgICByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgeyBUeXBlLCBrZXksIGFsaWFzZXMgfSA9IHRoaXM7XG4gICAgICAgIFJlZ2lzdHJhdGlvbi50cmFuc2llbnQoa2V5LCBUeXBlKS5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAgICBSZWdpc3RyYXRpb24uYWxpYXNUbyhrZXksIFR5cGUpLnJlZ2lzdGVyKGNvbnRhaW5lcik7XG4gICAgICAgIHJlZ2lzdGVyQWxpYXNlcyhhbGlhc2VzLCBDdXN0b21BdHRyaWJ1dGUsIGtleSwgY29udGFpbmVyKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgQ3VzdG9tQXR0cmlidXRlID0ge1xuICAgIG5hbWU6IFByb3RvY29sLnJlc291cmNlLmtleUZvcignY3VzdG9tLWF0dHJpYnV0ZScpLFxuICAgIGtleUZyb20obmFtZSkge1xuICAgICAgICByZXR1cm4gYCR7Q3VzdG9tQXR0cmlidXRlLm5hbWV9OiR7bmFtZX1gO1xuICAgIH0sXG4gICAgaXNUeXBlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiYgTWV0YWRhdGEuaGFzT3duKEN1c3RvbUF0dHJpYnV0ZS5uYW1lLCB2YWx1ZSk7XG4gICAgfSxcbiAgICBmb3Iobm9kZSwgbmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoKF9hID0gZ2V0UmVmKG5vZGUsIEN1c3RvbUF0dHJpYnV0ZS5rZXlGcm9tKG5hbWUpKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdm9pZCAwKTtcbiAgICB9LFxuICAgIGRlZmluZShuYW1lT3JEZWYsIFR5cGUpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IEN1c3RvbUF0dHJpYnV0ZURlZmluaXRpb24uY3JlYXRlKG5hbWVPckRlZiwgVHlwZSk7XG4gICAgICAgIE1ldGFkYXRhLmRlZmluZShDdXN0b21BdHRyaWJ1dGUubmFtZSwgZGVmaW5pdGlvbiwgZGVmaW5pdGlvbi5UeXBlKTtcbiAgICAgICAgTWV0YWRhdGEuZGVmaW5lKEN1c3RvbUF0dHJpYnV0ZS5uYW1lLCBkZWZpbml0aW9uLCBkZWZpbml0aW9uKTtcbiAgICAgICAgUHJvdG9jb2wucmVzb3VyY2UuYXBwZW5kVG8oVHlwZSwgQ3VzdG9tQXR0cmlidXRlLm5hbWUpO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvbi5UeXBlO1xuICAgIH0sXG4gICAgZ2V0RGVmaW5pdGlvbihUeXBlKSB7XG4gICAgICAgIGNvbnN0IGRlZiA9IE1ldGFkYXRhLmdldE93bihDdXN0b21BdHRyaWJ1dGUubmFtZSwgVHlwZSk7XG4gICAgICAgIGlmIChkZWYgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBkZWZpbml0aW9uIGZvdW5kIGZvciB0eXBlICR7VHlwZS5uYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgfSxcbiAgICBhbm5vdGF0ZShUeXBlLCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICBNZXRhZGF0YS5kZWZpbmUoUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IocHJvcCksIHZhbHVlLCBUeXBlKTtcbiAgICB9LFxuICAgIGdldEFubm90YXRpb24oVHlwZSwgcHJvcCkge1xuICAgICAgICByZXR1cm4gTWV0YWRhdGEuZ2V0T3duKFByb3RvY29sLmFubm90YXRpb24ua2V5Rm9yKHByb3ApLCBUeXBlKTtcbiAgICB9LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWN1c3RvbS1hdHRyaWJ1dGUuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/blur.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/blur.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BlurManager\": () => (/* binding */ BlurManager),\n/* harmony export */   \"Blur\": () => (/* binding */ Blur)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\nconst unset = Symbol();\n// Using passive to help with performance\nconst defaultCaptureEventInit = {\n    passive: true,\n    capture: true\n};\n// Using passive to help with performance\nconst defaultBubbleEventInit = {\n    passive: true\n};\n// weakly connect a document to a blur manager\n// to avoid polluting the document properties\nconst blurDocMap = new WeakMap();\nclass BlurManager {\n    constructor(platform) {\n        this.platform = platform;\n        this.blurs = [];\n        blurDocMap.set(platform.document, this);\n        this.handler = createHandler(this, this.blurs);\n    }\n    static createFor(platform) {\n        return blurDocMap.get(platform.document) || new BlurManager(platform);\n    }\n    register(blur) {\n        const blurs = this.blurs;\n        if (!blurs.includes(blur) && blurs.push(blur) === 1) {\n            this.addListeners();\n        }\n    }\n    unregister(blur) {\n        const blurs = this.blurs;\n        const index = blurs.indexOf(blur);\n        if (index > -1) {\n            blurs.splice(index, 1);\n        }\n        if (blurs.length === 0) {\n            this.removeListeners();\n        }\n    }\n    addListeners() {\n        const p = this.platform;\n        const doc = p.document;\n        const win = p.window;\n        const handler = this.handler;\n        if (win.navigator.pointerEnabled) {\n            doc.addEventListener('pointerdown', handler, defaultCaptureEventInit);\n        }\n        doc.addEventListener('touchstart', handler, defaultCaptureEventInit);\n        doc.addEventListener('mousedown', handler, defaultCaptureEventInit);\n        doc.addEventListener('focus', handler, defaultCaptureEventInit);\n        win.addEventListener('blur', handler, defaultBubbleEventInit);\n    }\n    removeListeners() {\n        const p = this.platform;\n        const doc = p.document;\n        const win = p.window;\n        const handler = this.handler;\n        if (win.navigator.pointerEnabled) {\n            doc.removeEventListener('pointerdown', handler, defaultCaptureEventInit);\n        }\n        doc.removeEventListener('touchstart', handler, defaultCaptureEventInit);\n        doc.removeEventListener('mousedown', handler, defaultCaptureEventInit);\n        doc.removeEventListener('focus', handler, defaultCaptureEventInit);\n        win.removeEventListener('blur', handler, defaultBubbleEventInit);\n    }\n}\nlet Blur = class Blur {\n    constructor(element, p) {\n        this.element = element;\n        this.p = p;\n        /**\n         * By default, the behavior should be least surprise possible, that:\n         *\n         * it searches for anything from root context,\n         * and root context is document body\n         */\n        this.linkedMultiple = true;\n        this.searchSubTree = true;\n        this.linkingContext = null;\n        this.value = unset;\n        this.manager = BlurManager.createFor(p);\n    }\n    attached() {\n        this.manager.register(this);\n    }\n    detaching() {\n        this.manager.unregister(this);\n    }\n    handleEventTarget(target) {\n        if (this.value === false) {\n            return;\n        }\n        const p = this.p;\n        if (target === p.window || target === p.document || !this.contains(target)) {\n            this.triggerBlur();\n        }\n    }\n    contains(target) {\n        if (!this.value) {\n            return false;\n        }\n        let els;\n        let i;\n        let j, jj;\n        let link;\n        const element = this.element;\n        if (containsElementOrShadowRoot(element, target)) {\n            return true;\n        }\n        if (!this.linkedWith) {\n            return false;\n        }\n        const doc = this.p.document;\n        const linkedWith = this.linkedWith;\n        const linkingContext = this.linkingContext;\n        const searchSubTree = this.searchSubTree;\n        const linkedMultiple = this.linkedMultiple;\n        const links = Array.isArray(linkedWith) ? linkedWith : [linkedWith];\n        const contextNode = (typeof linkingContext === 'string'\n            ? doc.querySelector(linkingContext)\n            : linkingContext)\n            || doc.body;\n        const ii = links.length;\n        for (i = 0; ii > i; ++i) {\n            link = links[i];\n            // When user specify to link with something by a string, it acts as a CSS selector\n            // We need to do some querying stuff to determine if target above is contained.\n            if (typeof link === 'string') {\n                // Default behavior, search the whole tree, from context that user specified, which default to document body\n                if (searchSubTree) {\n                    // todo: are there too many knobs?? Consider remove \"linkedMultiple\"??\n                    if (!linkedMultiple) {\n                        const el = contextNode.querySelector(link);\n                        els = el !== null ? [el] : _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n                    }\n                    else {\n                        els = contextNode.querySelectorAll(link);\n                    }\n                    jj = els.length;\n                    for (j = 0; jj > j; ++j) {\n                        if (els[j].contains(target)) {\n                            return true;\n                        }\n                    }\n                }\n                else {\n                    // default to document body, if user didn't define a linking context, and wanted to ignore subtree.\n                    // This is specifically performant and useful for dialogs, plugins\n                    // that usually generate contents to document body\n                    els = contextNode.children;\n                    jj = els.length;\n                    for (j = 0; jj > j; ++j) {\n                        if (els[j].matches(link)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            else {\n                // When user passed in something that is not a string,\n                // simply check if has method `contains` (allow duck typing)\n                // and call it against target.\n                // This enables flexible usages\n                if (link && link.contains(target)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    triggerBlur() {\n        this.value = false;\n        if (typeof this.onBlur === 'function') {\n            this.onBlur.call(null);\n        }\n    }\n};\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_4__.bindable)()\n], Blur.prototype, \"value\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_4__.bindable)()\n], Blur.prototype, \"onBlur\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_4__.bindable)()\n], Blur.prototype, \"linkedWith\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_4__.bindable)()\n], Blur.prototype, \"linkedMultiple\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_4__.bindable)()\n], Blur.prototype, \"searchSubTree\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_4__.bindable)()\n], Blur.prototype, \"linkingContext\", void 0);\nBlur = __decorate([\n    (0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.customAttribute)('blur'),\n    __param(0, _dom_js__WEBPACK_IMPORTED_MODULE_1__.INode),\n    __param(1, _platform_js__WEBPACK_IMPORTED_MODULE_2__.IPlatform)\n], Blur);\n\nconst containsElementOrShadowRoot = (container, target) => {\n    if (container.contains(target)) {\n        return true;\n    }\n    let parentNode = null;\n    while (target != null) {\n        if (target === container) {\n            return true;\n        }\n        parentNode = target.parentNode;\n        if (parentNode === null && target.nodeType === 11 /* DocumentFragment */) {\n            target = target.host;\n            continue;\n        }\n        target = parentNode;\n    }\n    return false;\n};\nconst createHandler = (manager, checkTargets) => {\n    // *******************************\n    // EVENTS ORDER\n    // -----------------------------\n    // pointerdown\n    // touchstart\n    // pointerup\n    // touchend\n    // mousedown\n    // --------------\n    // BLUR\n    // FOCUS\n    // --------------\n    // mouseup\n    // click\n    //\n    // ******************************\n    //\n    // There are cases focus happens without mouse interaction (keyboard)\n    // So it needs to capture both mouse / focus movement\n    //\n    // ******************************\n    let hasChecked = false;\n    const revertCheckage = () => {\n        hasChecked = false;\n    };\n    const markChecked = () => {\n        hasChecked = true;\n        manager.platform.domWriteQueue.queueTask(revertCheckage, { preempt: true });\n    };\n    const handleMousedown = (e) => {\n        if (!hasChecked) {\n            handleEvent(e);\n            markChecked();\n        }\n    };\n    /**\n     * Handle globally captured focus event\n     * This can happen via a few way:\n     * User clicks on a focusable element\n     * User uses keyboard to navigate to a focusable element\n     * User goes back to the window from another browser tab\n     * User clicks on a non-focusable element\n     * User clicks on the window, outside of the document\n     */\n    const handleFocus = (e) => {\n        if (hasChecked) {\n            return;\n        }\n        // there are two way a focus gets captured on window\n        // when the windows itself got focus\n        // and when an element in the document gets focus\n        // when the window itself got focus, reacting to it is quite unnecessary\n        // as it doesn't really affect element inside the document\n        // Do a simple check and bail immediately\n        const isWindow = e.target === manager.platform.window;\n        if (isWindow) {\n            for (let i = 0, ii = checkTargets.length; ii > i; ++i) {\n                checkTargets[i].triggerBlur();\n            }\n        }\n        else {\n            handleEvent(e);\n        }\n        markChecked();\n    };\n    const handleWindowBlur = () => {\n        hasChecked = false;\n        for (let i = 0, ii = checkTargets.length; i < ii; ++i) {\n            checkTargets[i].triggerBlur();\n        }\n    };\n    const handleEvent = (e) => {\n        const target = e.composed ? e.composedPath()[0] : e.target;\n        if (target === null) {\n            return;\n        }\n        for (let i = 0, ii = checkTargets.length; i < ii; ++i) {\n            checkTargets[i].handleEventTarget(target);\n        }\n    };\n    return {\n        onpointerdown: handleMousedown,\n        ontouchstart: handleMousedown,\n        onmousedown: handleMousedown,\n        onfocus: handleFocus,\n        onblur: handleWindowBlur,\n        handleEvent(e) {\n            this[`on${e.type}`](e);\n        }\n    };\n};\n//# sourceMappingURL=blur.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9jdXN0b20tYXR0cmlidXRlcy9ibHVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9yZXNvdXJjZXMvY3VzdG9tLWF0dHJpYnV0ZXMvYmx1ci5qcz84YTdlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xuaW1wb3J0IHsgZW1wdHlBcnJheSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBJTm9kZSB9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBJUGxhdGZvcm0gfSBmcm9tICcuLi8uLi9wbGF0Zm9ybS5qcyc7XG5pbXBvcnQgeyBjdXN0b21BdHRyaWJ1dGUgfSBmcm9tICcuLi9jdXN0b20tYXR0cmlidXRlLmpzJztcbmltcG9ydCB7IGJpbmRhYmxlIH0gZnJvbSAnLi4vLi4vYmluZGFibGUuanMnO1xuY29uc3QgdW5zZXQgPSBTeW1ib2woKTtcbi8vIFVzaW5nIHBhc3NpdmUgdG8gaGVscCB3aXRoIHBlcmZvcm1hbmNlXG5jb25zdCBkZWZhdWx0Q2FwdHVyZUV2ZW50SW5pdCA9IHtcbiAgICBwYXNzaXZlOiB0cnVlLFxuICAgIGNhcHR1cmU6IHRydWVcbn07XG4vLyBVc2luZyBwYXNzaXZlIHRvIGhlbHAgd2l0aCBwZXJmb3JtYW5jZVxuY29uc3QgZGVmYXVsdEJ1YmJsZUV2ZW50SW5pdCA9IHtcbiAgICBwYXNzaXZlOiB0cnVlXG59O1xuLy8gd2Vha2x5IGNvbm5lY3QgYSBkb2N1bWVudCB0byBhIGJsdXIgbWFuYWdlclxuLy8gdG8gYXZvaWQgcG9sbHV0aW5nIHRoZSBkb2N1bWVudCBwcm9wZXJ0aWVzXG5jb25zdCBibHVyRG9jTWFwID0gbmV3IFdlYWtNYXAoKTtcbmV4cG9ydCBjbGFzcyBCbHVyTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IocGxhdGZvcm0pIHtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xuICAgICAgICB0aGlzLmJsdXJzID0gW107XG4gICAgICAgIGJsdXJEb2NNYXAuc2V0KHBsYXRmb3JtLmRvY3VtZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gY3JlYXRlSGFuZGxlcih0aGlzLCB0aGlzLmJsdXJzKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUZvcihwbGF0Zm9ybSkge1xuICAgICAgICByZXR1cm4gYmx1ckRvY01hcC5nZXQocGxhdGZvcm0uZG9jdW1lbnQpIHx8IG5ldyBCbHVyTWFuYWdlcihwbGF0Zm9ybSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyKGJsdXIpIHtcbiAgICAgICAgY29uc3QgYmx1cnMgPSB0aGlzLmJsdXJzO1xuICAgICAgICBpZiAoIWJsdXJzLmluY2x1ZGVzKGJsdXIpICYmIGJsdXJzLnB1c2goYmx1cikgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXJzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5yZWdpc3RlcihibHVyKSB7XG4gICAgICAgIGNvbnN0IGJsdXJzID0gdGhpcy5ibHVycztcbiAgICAgICAgY29uc3QgaW5kZXggPSBibHVycy5pbmRleE9mKGJsdXIpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgYmx1cnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmx1cnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZExpc3RlbmVycygpIHtcbiAgICAgICAgY29uc3QgcCA9IHRoaXMucGxhdGZvcm07XG4gICAgICAgIGNvbnN0IGRvYyA9IHAuZG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IHdpbiA9IHAud2luZG93O1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5oYW5kbGVyO1xuICAgICAgICBpZiAod2luLm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgaGFuZGxlciwgZGVmYXVsdENhcHR1cmVFdmVudEluaXQpO1xuICAgICAgICB9XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlciwgZGVmYXVsdENhcHR1cmVFdmVudEluaXQpO1xuICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlciwgZGVmYXVsdENhcHR1cmVFdmVudEluaXQpO1xuICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVyLCBkZWZhdWx0Q2FwdHVyZUV2ZW50SW5pdCk7XG4gICAgICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgaGFuZGxlciwgZGVmYXVsdEJ1YmJsZUV2ZW50SW5pdCk7XG4gICAgfVxuICAgIHJlbW92ZUxpc3RlbmVycygpIHtcbiAgICAgICAgY29uc3QgcCA9IHRoaXMucGxhdGZvcm07XG4gICAgICAgIGNvbnN0IGRvYyA9IHAuZG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IHdpbiA9IHAud2luZG93O1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5oYW5kbGVyO1xuICAgICAgICBpZiAod2luLm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgaGFuZGxlciwgZGVmYXVsdENhcHR1cmVFdmVudEluaXQpO1xuICAgICAgICB9XG4gICAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlciwgZGVmYXVsdENhcHR1cmVFdmVudEluaXQpO1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlciwgZGVmYXVsdENhcHR1cmVFdmVudEluaXQpO1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVyLCBkZWZhdWx0Q2FwdHVyZUV2ZW50SW5pdCk7XG4gICAgICAgIHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgaGFuZGxlciwgZGVmYXVsdEJ1YmJsZUV2ZW50SW5pdCk7XG4gICAgfVxufVxubGV0IEJsdXIgPSBjbGFzcyBCbHVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBwKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMucCA9IHA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCeSBkZWZhdWx0LCB0aGUgYmVoYXZpb3Igc2hvdWxkIGJlIGxlYXN0IHN1cnByaXNlIHBvc3NpYmxlLCB0aGF0OlxuICAgICAgICAgKlxuICAgICAgICAgKiBpdCBzZWFyY2hlcyBmb3IgYW55dGhpbmcgZnJvbSByb290IGNvbnRleHQsXG4gICAgICAgICAqIGFuZCByb290IGNvbnRleHQgaXMgZG9jdW1lbnQgYm9keVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5rZWRNdWx0aXBsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VhcmNoU3ViVHJlZSA9IHRydWU7XG4gICAgICAgIHRoaXMubGlua2luZ0NvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5zZXQ7XG4gICAgICAgIHRoaXMubWFuYWdlciA9IEJsdXJNYW5hZ2VyLmNyZWF0ZUZvcihwKTtcbiAgICB9XG4gICAgYXR0YWNoZWQoKSB7XG4gICAgICAgIHRoaXMubWFuYWdlci5yZWdpc3Rlcih0aGlzKTtcbiAgICB9XG4gICAgZGV0YWNoaW5nKCkge1xuICAgICAgICB0aGlzLm1hbmFnZXIudW5yZWdpc3Rlcih0aGlzKTtcbiAgICB9XG4gICAgaGFuZGxlRXZlbnRUYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLnA7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHAud2luZG93IHx8IHRhcmdldCA9PT0gcC5kb2N1bWVudCB8fCAhdGhpcy5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJCbHVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29udGFpbnModGFyZ2V0KSB7XG4gICAgICAgIGlmICghdGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbHM7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBsZXQgaiwgamo7XG4gICAgICAgIGxldCBsaW5rO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBpZiAoY29udGFpbnNFbGVtZW50T3JTaGFkb3dSb290KGVsZW1lbnQsIHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5saW5rZWRXaXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZG9jID0gdGhpcy5wLmRvY3VtZW50O1xuICAgICAgICBjb25zdCBsaW5rZWRXaXRoID0gdGhpcy5saW5rZWRXaXRoO1xuICAgICAgICBjb25zdCBsaW5raW5nQ29udGV4dCA9IHRoaXMubGlua2luZ0NvbnRleHQ7XG4gICAgICAgIGNvbnN0IHNlYXJjaFN1YlRyZWUgPSB0aGlzLnNlYXJjaFN1YlRyZWU7XG4gICAgICAgIGNvbnN0IGxpbmtlZE11bHRpcGxlID0gdGhpcy5saW5rZWRNdWx0aXBsZTtcbiAgICAgICAgY29uc3QgbGlua3MgPSBBcnJheS5pc0FycmF5KGxpbmtlZFdpdGgpID8gbGlua2VkV2l0aCA6IFtsaW5rZWRXaXRoXTtcbiAgICAgICAgY29uc3QgY29udGV4dE5vZGUgPSAodHlwZW9mIGxpbmtpbmdDb250ZXh0ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBkb2MucXVlcnlTZWxlY3RvcihsaW5raW5nQ29udGV4dClcbiAgICAgICAgICAgIDogbGlua2luZ0NvbnRleHQpXG4gICAgICAgICAgICB8fCBkb2MuYm9keTtcbiAgICAgICAgY29uc3QgaWkgPSBsaW5rcy5sZW5ndGg7XG4gICAgICAgIGZvciAoaSA9IDA7IGlpID4gaTsgKytpKSB7XG4gICAgICAgICAgICBsaW5rID0gbGlua3NbaV07XG4gICAgICAgICAgICAvLyBXaGVuIHVzZXIgc3BlY2lmeSB0byBsaW5rIHdpdGggc29tZXRoaW5nIGJ5IGEgc3RyaW5nLCBpdCBhY3RzIGFzIGEgQ1NTIHNlbGVjdG9yXG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGRvIHNvbWUgcXVlcnlpbmcgc3R1ZmYgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBhYm92ZSBpcyBjb250YWluZWQuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGxpbmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBiZWhhdmlvciwgc2VhcmNoIHRoZSB3aG9sZSB0cmVlLCBmcm9tIGNvbnRleHQgdGhhdCB1c2VyIHNwZWNpZmllZCwgd2hpY2ggZGVmYXVsdCB0byBkb2N1bWVudCBib2R5XG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaFN1YlRyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9kbzogYXJlIHRoZXJlIHRvbyBtYW55IGtub2JzPz8gQ29uc2lkZXIgcmVtb3ZlIFwibGlua2VkTXVsdGlwbGVcIj8/XG4gICAgICAgICAgICAgICAgICAgIGlmICghbGlua2VkTXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gY29udGV4dE5vZGUucXVlcnlTZWxlY3RvcihsaW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVscyA9IGVsICE9PSBudWxsID8gW2VsXSA6IGVtcHR5QXJyYXk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHMgPSBjb250ZXh0Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKGxpbmspO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGpqID0gZWxzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgamogPiBqOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbHNbal0uY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGRvY3VtZW50IGJvZHksIGlmIHVzZXIgZGlkbid0IGRlZmluZSBhIGxpbmtpbmcgY29udGV4dCwgYW5kIHdhbnRlZCB0byBpZ25vcmUgc3VidHJlZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBzcGVjaWZpY2FsbHkgcGVyZm9ybWFudCBhbmQgdXNlZnVsIGZvciBkaWFsb2dzLCBwbHVnaW5zXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgdXN1YWxseSBnZW5lcmF0ZSBjb250ZW50cyB0byBkb2N1bWVudCBib2R5XG4gICAgICAgICAgICAgICAgICAgIGVscyA9IGNvbnRleHROb2RlLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICBqaiA9IGVscy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGpqID4gajsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxzW2pdLm1hdGNoZXMobGluaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdXNlciBwYXNzZWQgaW4gc29tZXRoaW5nIHRoYXQgaXMgbm90IGEgc3RyaW5nLFxuICAgICAgICAgICAgICAgIC8vIHNpbXBseSBjaGVjayBpZiBoYXMgbWV0aG9kIGBjb250YWluc2AgKGFsbG93IGR1Y2sgdHlwaW5nKVxuICAgICAgICAgICAgICAgIC8vIGFuZCBjYWxsIGl0IGFnYWluc3QgdGFyZ2V0LlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgZW5hYmxlcyBmbGV4aWJsZSB1c2FnZXNcbiAgICAgICAgICAgICAgICBpZiAobGluayAmJiBsaW5rLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJpZ2dlckJsdXIoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uQmx1ciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5vbkJsdXIuY2FsbChudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZSgpXG5dLCBCbHVyLnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGUoKVxuXSwgQmx1ci5wcm90b3R5cGUsIFwib25CbHVyXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZSgpXG5dLCBCbHVyLnByb3RvdHlwZSwgXCJsaW5rZWRXaXRoXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZSgpXG5dLCBCbHVyLnByb3RvdHlwZSwgXCJsaW5rZWRNdWx0aXBsZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGUoKVxuXSwgQmx1ci5wcm90b3R5cGUsIFwic2VhcmNoU3ViVHJlZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGUoKVxuXSwgQmx1ci5wcm90b3R5cGUsIFwibGlua2luZ0NvbnRleHRcIiwgdm9pZCAwKTtcbkJsdXIgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21BdHRyaWJ1dGUoJ2JsdXInKSxcbiAgICBfX3BhcmFtKDAsIElOb2RlKSxcbiAgICBfX3BhcmFtKDEsIElQbGF0Zm9ybSlcbl0sIEJsdXIpO1xuZXhwb3J0IHsgQmx1ciB9O1xuY29uc3QgY29udGFpbnNFbGVtZW50T3JTaGFkb3dSb290ID0gKGNvbnRhaW5lciwgdGFyZ2V0KSA9PiB7XG4gICAgaWYgKGNvbnRhaW5lci5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgcGFyZW50Tm9kZSA9IG51bGw7XG4gICAgd2hpbGUgKHRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IGNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50Tm9kZSA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICBpZiAocGFyZW50Tm9kZSA9PT0gbnVsbCAmJiB0YXJnZXQubm9kZVR5cGUgPT09IDExIC8qIERvY3VtZW50RnJhZ21lbnQgKi8pIHtcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5ob3N0O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0ID0gcGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmNvbnN0IGNyZWF0ZUhhbmRsZXIgPSAobWFuYWdlciwgY2hlY2tUYXJnZXRzKSA9PiB7XG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8vIEVWRU5UUyBPUkRFUlxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gcG9pbnRlcmRvd25cbiAgICAvLyB0b3VjaHN0YXJ0XG4gICAgLy8gcG9pbnRlcnVwXG4gICAgLy8gdG91Y2hlbmRcbiAgICAvLyBtb3VzZWRvd25cbiAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgIC8vIEJMVVJcbiAgICAvLyBGT0NVU1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgLy8gbW91c2V1cFxuICAgIC8vIGNsaWNrXG4gICAgLy9cbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAvL1xuICAgIC8vIFRoZXJlIGFyZSBjYXNlcyBmb2N1cyBoYXBwZW5zIHdpdGhvdXQgbW91c2UgaW50ZXJhY3Rpb24gKGtleWJvYXJkKVxuICAgIC8vIFNvIGl0IG5lZWRzIHRvIGNhcHR1cmUgYm90aCBtb3VzZSAvIGZvY3VzIG1vdmVtZW50XG4gICAgLy9cbiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBsZXQgaGFzQ2hlY2tlZCA9IGZhbHNlO1xuICAgIGNvbnN0IHJldmVydENoZWNrYWdlID0gKCkgPT4ge1xuICAgICAgICBoYXNDaGVja2VkID0gZmFsc2U7XG4gICAgfTtcbiAgICBjb25zdCBtYXJrQ2hlY2tlZCA9ICgpID0+IHtcbiAgICAgICAgaGFzQ2hlY2tlZCA9IHRydWU7XG4gICAgICAgIG1hbmFnZXIucGxhdGZvcm0uZG9tV3JpdGVRdWV1ZS5xdWV1ZVRhc2socmV2ZXJ0Q2hlY2thZ2UsIHsgcHJlZW1wdDogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlZG93biA9IChlKSA9PiB7XG4gICAgICAgIGlmICghaGFzQ2hlY2tlZCkge1xuICAgICAgICAgICAgaGFuZGxlRXZlbnQoZSk7XG4gICAgICAgICAgICBtYXJrQ2hlY2tlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgZ2xvYmFsbHkgY2FwdHVyZWQgZm9jdXMgZXZlbnRcbiAgICAgKiBUaGlzIGNhbiBoYXBwZW4gdmlhIGEgZmV3IHdheTpcbiAgICAgKiBVc2VyIGNsaWNrcyBvbiBhIGZvY3VzYWJsZSBlbGVtZW50XG4gICAgICogVXNlciB1c2VzIGtleWJvYXJkIHRvIG5hdmlnYXRlIHRvIGEgZm9jdXNhYmxlIGVsZW1lbnRcbiAgICAgKiBVc2VyIGdvZXMgYmFjayB0byB0aGUgd2luZG93IGZyb20gYW5vdGhlciBicm93c2VyIHRhYlxuICAgICAqIFVzZXIgY2xpY2tzIG9uIGEgbm9uLWZvY3VzYWJsZSBlbGVtZW50XG4gICAgICogVXNlciBjbGlja3Mgb24gdGhlIHdpbmRvdywgb3V0c2lkZSBvZiB0aGUgZG9jdW1lbnRcbiAgICAgKi9cbiAgICBjb25zdCBoYW5kbGVGb2N1cyA9IChlKSA9PiB7XG4gICAgICAgIGlmIChoYXNDaGVja2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlcmUgYXJlIHR3byB3YXkgYSBmb2N1cyBnZXRzIGNhcHR1cmVkIG9uIHdpbmRvd1xuICAgICAgICAvLyB3aGVuIHRoZSB3aW5kb3dzIGl0c2VsZiBnb3QgZm9jdXNcbiAgICAgICAgLy8gYW5kIHdoZW4gYW4gZWxlbWVudCBpbiB0aGUgZG9jdW1lbnQgZ2V0cyBmb2N1c1xuICAgICAgICAvLyB3aGVuIHRoZSB3aW5kb3cgaXRzZWxmIGdvdCBmb2N1cywgcmVhY3RpbmcgdG8gaXQgaXMgcXVpdGUgdW5uZWNlc3NhcnlcbiAgICAgICAgLy8gYXMgaXQgZG9lc24ndCByZWFsbHkgYWZmZWN0IGVsZW1lbnQgaW5zaWRlIHRoZSBkb2N1bWVudFxuICAgICAgICAvLyBEbyBhIHNpbXBsZSBjaGVjayBhbmQgYmFpbCBpbW1lZGlhdGVseVxuICAgICAgICBjb25zdCBpc1dpbmRvdyA9IGUudGFyZ2V0ID09PSBtYW5hZ2VyLnBsYXRmb3JtLndpbmRvdztcbiAgICAgICAgaWYgKGlzV2luZG93KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBjaGVja1RhcmdldHMubGVuZ3RoOyBpaSA+IGk7ICsraSkge1xuICAgICAgICAgICAgICAgIGNoZWNrVGFyZ2V0c1tpXS50cmlnZ2VyQmx1cigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlRXZlbnQoZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFya0NoZWNrZWQoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVdpbmRvd0JsdXIgPSAoKSA9PiB7XG4gICAgICAgIGhhc0NoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gY2hlY2tUYXJnZXRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGNoZWNrVGFyZ2V0c1tpXS50cmlnZ2VyQmx1cigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVFdmVudCA9IChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUuY29tcG9zZWQgPyBlLmNvbXBvc2VkUGF0aCgpWzBdIDogZS50YXJnZXQ7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBjaGVja1RhcmdldHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgY2hlY2tUYXJnZXRzW2ldLmhhbmRsZUV2ZW50VGFyZ2V0KHRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIG9ucG9pbnRlcmRvd246IGhhbmRsZU1vdXNlZG93bixcbiAgICAgICAgb250b3VjaHN0YXJ0OiBoYW5kbGVNb3VzZWRvd24sXG4gICAgICAgIG9ubW91c2Vkb3duOiBoYW5kbGVNb3VzZWRvd24sXG4gICAgICAgIG9uZm9jdXM6IGhhbmRsZUZvY3VzLFxuICAgICAgICBvbmJsdXI6IGhhbmRsZVdpbmRvd0JsdXIsXG4gICAgICAgIGhhbmRsZUV2ZW50KGUpIHtcbiAgICAgICAgICAgIHRoaXNbYG9uJHtlLnR5cGV9YF0oZSk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJsdXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/blur.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/focus.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/focus.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Focus\": () => (/* binding */ Focus)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\n/**\n * Focus attribute for element focus binding\n */\nlet Focus = class Focus {\n    constructor(element, p) {\n        this.element = element;\n        this.p = p;\n        /**\n         * Indicates whether `apply` should be called when `attached` callback is invoked\n         */\n        this.needsApply = false;\n    }\n    binding() {\n        this.valueChanged();\n    }\n    /**\n     * Invoked everytime the bound value changes.\n     *\n     * @param newValue - The new value.\n     */\n    valueChanged() {\n        // In theory, we could/should react immediately\n        // but focus state of an element cannot be achieved\n        // while it's disconnected from the document\n        // thus, there neesd to be a check if it's currently connected or not\n        // before applying the value to the element\n        if (this.$controller.isActive) {\n            this.apply();\n        }\n        else {\n            // If the element is not currently connect\n            // toggle the flag to add pending work for later\n            // in attached lifecycle\n            this.needsApply = true;\n        }\n    }\n    /**\n     * Invoked when the attribute is attached to the DOM.\n     */\n    attached() {\n        if (this.needsApply) {\n            this.needsApply = false;\n            this.apply();\n        }\n        const el = this.element;\n        el.addEventListener('focus', this);\n        el.addEventListener('blur', this);\n    }\n    /**\n     * Invoked when the attribute is afterDetachChildren from the DOM.\n     */\n    afterDetachChildren() {\n        const el = this.element;\n        el.removeEventListener('focus', this);\n        el.removeEventListener('blur', this);\n    }\n    /**\n     * EventTarget interface handler for better memory usage\n     */\n    handleEvent(e) {\n        // there are only two event listened to\n        // if the even is focus, it menans the element is focused\n        // only need to switch the value to true\n        if (e.type === 'focus') {\n            this.value = true;\n        }\n        else if (!this.isElFocused) {\n            // else, it's blur event\n            // when a blur event happens, there are two situations\n            // 1. the element itself lost the focus\n            // 2. window lost the focus\n            // To handle both (1) and (2), only need to check if\n            // current active element is still the same element of this focus custom attribute\n            // If it's not, it's a blur event happened on Window because the browser tab lost focus\n            this.value = false;\n        }\n    }\n    /**\n     * Focus/blur based on current value\n     */\n    apply() {\n        const el = this.element;\n        const isFocused = this.isElFocused;\n        const shouldFocus = this.value;\n        if (shouldFocus && !isFocused) {\n            el.focus();\n        }\n        else if (!shouldFocus && isFocused) {\n            el.blur();\n        }\n    }\n    get isElFocused() {\n        return this.element === this.p.document.activeElement;\n    }\n};\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_4__.bindable)({ mode: _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.BindingMode.twoWay })\n], Focus.prototype, \"value\", void 0);\nFocus = __decorate([\n    (0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.customAttribute)('focus'),\n    __param(0, _dom_js__WEBPACK_IMPORTED_MODULE_1__.INode),\n    __param(1, _platform_js__WEBPACK_IMPORTED_MODULE_2__.IPlatform)\n], Focus);\n\n//# sourceMappingURL=focus.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9jdXN0b20tYXR0cmlidXRlcy9mb2N1cy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vcmVzb3VyY2VzL2N1c3RvbS1hdHRyaWJ1dGVzL2ZvY3VzLmpzP2E2M2MiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG5pbXBvcnQgeyBCaW5kaW5nTW9kZSB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuaW1wb3J0IHsgSU5vZGUgfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHsgSVBsYXRmb3JtIH0gZnJvbSAnLi4vLi4vcGxhdGZvcm0uanMnO1xuaW1wb3J0IHsgY3VzdG9tQXR0cmlidXRlIH0gZnJvbSAnLi4vY3VzdG9tLWF0dHJpYnV0ZS5qcyc7XG5pbXBvcnQgeyBiaW5kYWJsZSB9IGZyb20gJy4uLy4uL2JpbmRhYmxlLmpzJztcbi8qKlxuICogRm9jdXMgYXR0cmlidXRlIGZvciBlbGVtZW50IGZvY3VzIGJpbmRpbmdcbiAqL1xubGV0IEZvY3VzID0gY2xhc3MgRm9jdXMge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHApIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5wID0gcDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIGBhcHBseWAgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGBhdHRhY2hlZGAgY2FsbGJhY2sgaXMgaW52b2tlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uZWVkc0FwcGx5ID0gZmFsc2U7XG4gICAgfVxuICAgIGJpbmRpbmcoKSB7XG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgZXZlcnl0aW1lIHRoZSBib3VuZCB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5ld1ZhbHVlIC0gVGhlIG5ldyB2YWx1ZS5cbiAgICAgKi9cbiAgICB2YWx1ZUNoYW5nZWQoKSB7XG4gICAgICAgIC8vIEluIHRoZW9yeSwgd2UgY291bGQvc2hvdWxkIHJlYWN0IGltbWVkaWF0ZWx5XG4gICAgICAgIC8vIGJ1dCBmb2N1cyBzdGF0ZSBvZiBhbiBlbGVtZW50IGNhbm5vdCBiZSBhY2hpZXZlZFxuICAgICAgICAvLyB3aGlsZSBpdCdzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBkb2N1bWVudFxuICAgICAgICAvLyB0aHVzLCB0aGVyZSBuZWVzZCB0byBiZSBhIGNoZWNrIGlmIGl0J3MgY3VycmVudGx5IGNvbm5lY3RlZCBvciBub3RcbiAgICAgICAgLy8gYmVmb3JlIGFwcGx5aW5nIHRoZSB2YWx1ZSB0byB0aGUgZWxlbWVudFxuICAgICAgICBpZiAodGhpcy4kY29udHJvbGxlci5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5hcHBseSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgbm90IGN1cnJlbnRseSBjb25uZWN0XG4gICAgICAgICAgICAvLyB0b2dnbGUgdGhlIGZsYWcgdG8gYWRkIHBlbmRpbmcgd29yayBmb3IgbGF0ZXJcbiAgICAgICAgICAgIC8vIGluIGF0dGFjaGVkIGxpZmVjeWNsZVxuICAgICAgICAgICAgdGhpcy5uZWVkc0FwcGx5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGF0dHJpYnV0ZSBpcyBhdHRhY2hlZCB0byB0aGUgRE9NLlxuICAgICAqL1xuICAgIGF0dGFjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5uZWVkc0FwcGx5KSB7XG4gICAgICAgICAgICB0aGlzLm5lZWRzQXBwbHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYXBwbHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGF0dHJpYnV0ZSBpcyBhZnRlckRldGFjaENoaWxkcmVuIGZyb20gdGhlIERPTS5cbiAgICAgKi9cbiAgICBhZnRlckRldGFjaENoaWxkcmVuKCkge1xuICAgICAgICBjb25zdCBlbCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzKTtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFdmVudFRhcmdldCBpbnRlcmZhY2UgaGFuZGxlciBmb3IgYmV0dGVyIG1lbW9yeSB1c2FnZVxuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50KGUpIHtcbiAgICAgICAgLy8gdGhlcmUgYXJlIG9ubHkgdHdvIGV2ZW50IGxpc3RlbmVkIHRvXG4gICAgICAgIC8vIGlmIHRoZSBldmVuIGlzIGZvY3VzLCBpdCBtZW5hbnMgdGhlIGVsZW1lbnQgaXMgZm9jdXNlZFxuICAgICAgICAvLyBvbmx5IG5lZWQgdG8gc3dpdGNoIHRoZSB2YWx1ZSB0byB0cnVlXG4gICAgICAgIGlmIChlLnR5cGUgPT09ICdmb2N1cycpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmlzRWxGb2N1c2VkKSB7XG4gICAgICAgICAgICAvLyBlbHNlLCBpdCdzIGJsdXIgZXZlbnRcbiAgICAgICAgICAgIC8vIHdoZW4gYSBibHVyIGV2ZW50IGhhcHBlbnMsIHRoZXJlIGFyZSB0d28gc2l0dWF0aW9uc1xuICAgICAgICAgICAgLy8gMS4gdGhlIGVsZW1lbnQgaXRzZWxmIGxvc3QgdGhlIGZvY3VzXG4gICAgICAgICAgICAvLyAyLiB3aW5kb3cgbG9zdCB0aGUgZm9jdXNcbiAgICAgICAgICAgIC8vIFRvIGhhbmRsZSBib3RoICgxKSBhbmQgKDIpLCBvbmx5IG5lZWQgdG8gY2hlY2sgaWZcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIGVsZW1lbnQgaXMgc3RpbGwgdGhlIHNhbWUgZWxlbWVudCBvZiB0aGlzIGZvY3VzIGN1c3RvbSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vIElmIGl0J3Mgbm90LCBpdCdzIGEgYmx1ciBldmVudCBoYXBwZW5lZCBvbiBXaW5kb3cgYmVjYXVzZSB0aGUgYnJvd3NlciB0YWIgbG9zdCBmb2N1c1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvY3VzL2JsdXIgYmFzZWQgb24gY3VycmVudCB2YWx1ZVxuICAgICAqL1xuICAgIGFwcGx5KCkge1xuICAgICAgICBjb25zdCBlbCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgY29uc3QgaXNGb2N1c2VkID0gdGhpcy5pc0VsRm9jdXNlZDtcbiAgICAgICAgY29uc3Qgc2hvdWxkRm9jdXMgPSB0aGlzLnZhbHVlO1xuICAgICAgICBpZiAoc2hvdWxkRm9jdXMgJiYgIWlzRm9jdXNlZCkge1xuICAgICAgICAgICAgZWwuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghc2hvdWxkRm9jdXMgJiYgaXNGb2N1c2VkKSB7XG4gICAgICAgICAgICBlbC5ibHVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGlzRWxGb2N1c2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50ID09PSB0aGlzLnAuZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICB9XG59O1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGUoeyBtb2RlOiBCaW5kaW5nTW9kZS50d29XYXkgfSlcbl0sIEZvY3VzLnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB2b2lkIDApO1xuRm9jdXMgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21BdHRyaWJ1dGUoJ2ZvY3VzJyksXG4gICAgX19wYXJhbSgwLCBJTm9kZSksXG4gICAgX19wYXJhbSgxLCBJUGxhdGZvcm0pXG5dLCBGb2N1cyk7XG5leHBvcnQgeyBGb2N1cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9jdXMuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/focus.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/show.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/show.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Show\": () => (/* binding */ Show)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\n/* harmony import */ var _renderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../renderer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/renderer.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\n\nlet Show = class Show {\n    constructor(el, p, instr) {\n        this.el = el;\n        this.p = p;\n        this.isActive = false;\n        this.task = null;\n        this.$val = '';\n        this.$prio = '';\n        this.update = () => {\n            this.task = null;\n            // Only compare at the synchronous moment when we're about to update, because the value might have changed since the update was queued.\n            if (Boolean(this.value) !== this.isToggled) {\n                if (this.isToggled === this.base) {\n                    this.isToggled = !this.base;\n                    // Note: in v1 we used the 'au-hide' class, but in v2 it's so trivial to conditionally apply classes (e.g. 'hide.class=\"someCondition\"'),\n                    // that it's probably better to avoid the CSS inject infra involvement and keep this CA as simple as possible.\n                    // Instead, just store and restore the property values (with each mutation, to account for in-between updates), to cover the common cases, until there is convincing feedback to do otherwise.\n                    this.$val = this.el.style.getPropertyValue('display');\n                    this.$prio = this.el.style.getPropertyPriority('display');\n                    this.el.style.setProperty('display', 'none', 'important');\n                }\n                else {\n                    this.isToggled = this.base;\n                    this.el.style.setProperty('display', this.$val, this.$prio);\n                    // If the style attribute is now empty, remove it.\n                    if (this.el.getAttribute('style') === '') {\n                        this.el.removeAttribute('style');\n                    }\n                }\n            }\n        };\n        // if this is declared as a 'hide' attribute, then this.base will be false, inverting everything.\n        this.isToggled = this.base = instr.alias !== 'hide';\n    }\n    binding() {\n        this.isActive = true;\n        this.update();\n    }\n    detaching() {\n        var _a;\n        this.isActive = false;\n        (_a = this.task) === null || _a === void 0 ? void 0 : _a.cancel();\n        this.task = null;\n    }\n    valueChanged() {\n        if (this.isActive && this.task === null) {\n            this.task = this.p.domWriteQueue.queueTask(this.update);\n        }\n    }\n};\n__decorate([\n    _bindable_js__WEBPACK_IMPORTED_MODULE_4__.bindable\n], Show.prototype, \"value\", void 0);\nShow = __decorate([\n    (0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.customAttribute)('show'),\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.alias)('hide'),\n    __param(0, _dom_js__WEBPACK_IMPORTED_MODULE_1__.INode),\n    __param(1, _platform_js__WEBPACK_IMPORTED_MODULE_2__.IPlatform),\n    __param(2, _renderer_js__WEBPACK_IMPORTED_MODULE_5__.IInstruction)\n], Show);\n\n//# sourceMappingURL=show.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9jdXN0b20tYXR0cmlidXRlcy9zaG93LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9yZXNvdXJjZXMvY3VzdG9tLWF0dHJpYnV0ZXMvc2hvdy5qcz84MWVmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xuaW1wb3J0IHsgYWxpYXMgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lJztcbmltcG9ydCB7IElOb2RlIH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7IElQbGF0Zm9ybSB9IGZyb20gJy4uLy4uL3BsYXRmb3JtLmpzJztcbmltcG9ydCB7IGN1c3RvbUF0dHJpYnV0ZSB9IGZyb20gJy4uL2N1c3RvbS1hdHRyaWJ1dGUuanMnO1xuaW1wb3J0IHsgYmluZGFibGUgfSBmcm9tICcuLi8uLi9iaW5kYWJsZS5qcyc7XG5pbXBvcnQgeyBJSW5zdHJ1Y3Rpb24gfSBmcm9tICcuLi8uLi9yZW5kZXJlci5qcyc7XG5sZXQgU2hvdyA9IGNsYXNzIFNob3cge1xuICAgIGNvbnN0cnVjdG9yKGVsLCBwLCBpbnN0cikge1xuICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgIHRoaXMucCA9IHA7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy4kdmFsID0gJyc7XG4gICAgICAgIHRoaXMuJHByaW8gPSAnJztcbiAgICAgICAgdGhpcy51cGRhdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgICAgICAgICAgLy8gT25seSBjb21wYXJlIGF0IHRoZSBzeW5jaHJvbm91cyBtb21lbnQgd2hlbiB3ZSdyZSBhYm91dCB0byB1cGRhdGUsIGJlY2F1c2UgdGhlIHZhbHVlIG1pZ2h0IGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgdXBkYXRlIHdhcyBxdWV1ZWQuXG4gICAgICAgICAgICBpZiAoQm9vbGVhbih0aGlzLnZhbHVlKSAhPT0gdGhpcy5pc1RvZ2dsZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1RvZ2dsZWQgPT09IHRoaXMuYmFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzVG9nZ2xlZCA9ICF0aGlzLmJhc2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IGluIHYxIHdlIHVzZWQgdGhlICdhdS1oaWRlJyBjbGFzcywgYnV0IGluIHYyIGl0J3Mgc28gdHJpdmlhbCB0byBjb25kaXRpb25hbGx5IGFwcGx5IGNsYXNzZXMgKGUuZy4gJ2hpZGUuY2xhc3M9XCJzb21lQ29uZGl0aW9uXCInKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhhdCBpdCdzIHByb2JhYmx5IGJldHRlciB0byBhdm9pZCB0aGUgQ1NTIGluamVjdCBpbmZyYSBpbnZvbHZlbWVudCBhbmQga2VlcCB0aGlzIENBIGFzIHNpbXBsZSBhcyBwb3NzaWJsZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gSW5zdGVhZCwganVzdCBzdG9yZSBhbmQgcmVzdG9yZSB0aGUgcHJvcGVydHkgdmFsdWVzICh3aXRoIGVhY2ggbXV0YXRpb24sIHRvIGFjY291bnQgZm9yIGluLWJldHdlZW4gdXBkYXRlcyksIHRvIGNvdmVyIHRoZSBjb21tb24gY2FzZXMsIHVudGlsIHRoZXJlIGlzIGNvbnZpbmNpbmcgZmVlZGJhY2sgdG8gZG8gb3RoZXJ3aXNlLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLiR2YWwgPSB0aGlzLmVsLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2Rpc3BsYXknKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcHJpbyA9IHRoaXMuZWwuc3R5bGUuZ2V0UHJvcGVydHlQcmlvcml0eSgnZGlzcGxheScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzVG9nZ2xlZCA9IHRoaXMuYmFzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsIHRoaXMuJHZhbCwgdGhpcy4kcHJpbyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzdHlsZSBhdHRyaWJ1dGUgaXMgbm93IGVtcHR5LCByZW1vdmUgaXQuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBpZiB0aGlzIGlzIGRlY2xhcmVkIGFzIGEgJ2hpZGUnIGF0dHJpYnV0ZSwgdGhlbiB0aGlzLmJhc2Ugd2lsbCBiZSBmYWxzZSwgaW52ZXJ0aW5nIGV2ZXJ5dGhpbmcuXG4gICAgICAgIHRoaXMuaXNUb2dnbGVkID0gdGhpcy5iYXNlID0gaW5zdHIuYWxpYXMgIT09ICdoaWRlJztcbiAgICB9XG4gICAgYmluZGluZygpIHtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICAgIGRldGFjaGluZygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIChfYSA9IHRoaXMudGFzaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbmNlbCgpO1xuICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgIH1cbiAgICB2YWx1ZUNoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQWN0aXZlICYmIHRoaXMudGFzayA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy50YXNrID0gdGhpcy5wLmRvbVdyaXRlUXVldWUucXVldWVUYXNrKHRoaXMudXBkYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZVxuXSwgU2hvdy5wcm90b3R5cGUsIFwidmFsdWVcIiwgdm9pZCAwKTtcblNob3cgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21BdHRyaWJ1dGUoJ3Nob3cnKSxcbiAgICBhbGlhcygnaGlkZScpLFxuICAgIF9fcGFyYW0oMCwgSU5vZGUpLFxuICAgIF9fcGFyYW0oMSwgSVBsYXRmb3JtKSxcbiAgICBfX3BhcmFtKDIsIElJbnN0cnVjdGlvbilcbl0sIFNob3cpO1xuZXhwb3J0IHsgU2hvdyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hvdy5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attributes/show.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"customElement\": () => (/* binding */ customElement),\n/* harmony export */   \"useShadowDOM\": () => (/* binding */ useShadowDOM),\n/* harmony export */   \"containerless\": () => (/* binding */ containerless),\n/* harmony export */   \"strict\": () => (/* binding */ strict),\n/* harmony export */   \"CustomElementDefinition\": () => (/* binding */ CustomElementDefinition),\n/* harmony export */   \"CustomElement\": () => (/* binding */ CustomElement),\n/* harmony export */   \"processContent\": () => (/* binding */ processContent)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _templating_children_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../templating/children.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/children.js\");\n/* harmony import */ var _watch_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../watch.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/watch.js\");\n\n\n\n\n\n\nfunction customElement(nameOrDef) {\n    return function (target) {\n        return CustomElement.define(nameOrDef, target);\n    };\n}\nfunction useShadowDOM(targetOrOptions) {\n    if (targetOrOptions === void 0) {\n        return function ($target) {\n            CustomElement.annotate($target, 'shadowOptions', { mode: 'open' });\n        };\n    }\n    if (typeof targetOrOptions !== 'function') {\n        return function ($target) {\n            CustomElement.annotate($target, 'shadowOptions', targetOrOptions);\n        };\n    }\n    CustomElement.annotate(targetOrOptions, 'shadowOptions', { mode: 'open' });\n}\nfunction containerless(target) {\n    if (target === void 0) {\n        return function ($target) {\n            CustomElement.annotate($target, 'containerless', true);\n        };\n    }\n    CustomElement.annotate(target, 'containerless', true);\n}\nfunction strict(target) {\n    if (target === void 0) {\n        return function ($target) {\n            CustomElement.annotate($target, 'isStrictBinding', true);\n        };\n    }\n    CustomElement.annotate(target, 'isStrictBinding', true);\n}\nconst definitionLookup = new WeakMap();\nclass CustomElementDefinition {\n    constructor(Type, name, aliases, key, cache, template, instructions, dependencies, injectable, needsCompile, surrogates, bindables, childrenObservers, containerless, isStrictBinding, shadowOptions, hasSlots, enhance, projectionsMap, watches, processContent) {\n        this.Type = Type;\n        this.name = name;\n        this.aliases = aliases;\n        this.key = key;\n        this.cache = cache;\n        this.template = template;\n        this.instructions = instructions;\n        this.dependencies = dependencies;\n        this.injectable = injectable;\n        this.needsCompile = needsCompile;\n        this.surrogates = surrogates;\n        this.bindables = bindables;\n        this.childrenObservers = childrenObservers;\n        this.containerless = containerless;\n        this.isStrictBinding = isStrictBinding;\n        this.shadowOptions = shadowOptions;\n        this.hasSlots = hasSlots;\n        this.enhance = enhance;\n        this.projectionsMap = projectionsMap;\n        this.watches = watches;\n        this.processContent = processContent;\n    }\n    static create(nameOrDef, Type = null) {\n        if (Type === null) {\n            const def = nameOrDef;\n            if (typeof def === 'string') {\n                throw new Error(`Cannot create a custom element definition with only a name and no type: ${nameOrDef}`);\n            }\n            const name = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('name', def, CustomElement.generateName);\n            if (typeof def.Type === 'function') {\n                // This needs to be a clone (it will usually be the compiler calling this signature)\n                // TODO: we need to make sure it's documented that passing in the type via the definition (while passing in null\n                // as the \"Type\" parameter) effectively skips type analysis, so it should only be used this way for cloning purposes.\n                Type = def.Type;\n            }\n            else {\n                Type = CustomElement.generateType((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.pascalCase)(name));\n            }\n            return new CustomElementDefinition(Type, name, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(def.aliases), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('key', def, () => CustomElement.keyFrom(name)), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('cache', def, () => 0), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('template', def, () => null), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(def.instructions), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(def.dependencies), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('injectable', def, () => null), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('needsCompile', def, () => true), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(def.surrogates), _bindable_js__WEBPACK_IMPORTED_MODULE_2__.Bindable.from(def.bindables), _templating_children_js__WEBPACK_IMPORTED_MODULE_4__.Children.from(def.childrenObservers), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('containerless', def, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('isStrictBinding', def, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('shadowOptions', def, () => null), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('hasSlots', def, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('enhance', def, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('projectionsMap', def, () => new Map()), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('watches', def, () => _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('processContent', Type, () => null));\n        }\n        // If a type is passed in, we ignore the Type property on the definition if it exists.\n        // TODO: document this behavior\n        if (typeof nameOrDef === 'string') {\n            return new CustomElementDefinition(Type, nameOrDef, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(CustomElement.getAnnotation(Type, 'aliases'), Type.aliases), CustomElement.keyFrom(nameOrDef), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('cache', Type, () => 0), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('template', Type, () => null), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(CustomElement.getAnnotation(Type, 'instructions'), Type.instructions), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(CustomElement.getAnnotation(Type, 'dependencies'), Type.dependencies), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('injectable', Type, () => null), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('needsCompile', Type, () => true), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(CustomElement.getAnnotation(Type, 'surrogates'), Type.surrogates), _bindable_js__WEBPACK_IMPORTED_MODULE_2__.Bindable.from(..._bindable_js__WEBPACK_IMPORTED_MODULE_2__.Bindable.getAll(Type), CustomElement.getAnnotation(Type, 'bindables'), Type.bindables), _templating_children_js__WEBPACK_IMPORTED_MODULE_4__.Children.from(..._templating_children_js__WEBPACK_IMPORTED_MODULE_4__.Children.getAll(Type), CustomElement.getAnnotation(Type, 'childrenObservers'), Type.childrenObservers), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('containerless', Type, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('isStrictBinding', Type, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('shadowOptions', Type, () => null), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('hasSlots', Type, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('enhance', Type, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('projectionsMap', Type, () => new Map()), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(_watch_js__WEBPACK_IMPORTED_MODULE_5__.Watch.getAnnotation(Type), Type.watches), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrTypeOrDefault)('processContent', Type, () => null));\n        }\n        // This is the typical default behavior, e.g. from regular CustomElement.define invocations or from @customElement deco\n        // The ViewValueConverter also uses this signature and passes in a definition where everything except for the 'hooks'\n        // property needs to be copied. So we have that exception for 'hooks', but we may need to revisit that default behavior\n        // if this turns out to be too opinionated.\n        const name = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromDefinitionOrDefault)('name', nameOrDef, CustomElement.generateName);\n        return new CustomElementDefinition(Type, name, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(CustomElement.getAnnotation(Type, 'aliases'), nameOrDef.aliases, Type.aliases), CustomElement.keyFrom(name), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('cache', nameOrDef, Type, () => 0), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('template', nameOrDef, Type, () => null), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(CustomElement.getAnnotation(Type, 'instructions'), nameOrDef.instructions, Type.instructions), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(CustomElement.getAnnotation(Type, 'dependencies'), nameOrDef.dependencies, Type.dependencies), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('injectable', nameOrDef, Type, () => null), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('needsCompile', nameOrDef, Type, () => true), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(CustomElement.getAnnotation(Type, 'surrogates'), nameOrDef.surrogates, Type.surrogates), _bindable_js__WEBPACK_IMPORTED_MODULE_2__.Bindable.from(..._bindable_js__WEBPACK_IMPORTED_MODULE_2__.Bindable.getAll(Type), CustomElement.getAnnotation(Type, 'bindables'), Type.bindables, nameOrDef.bindables), _templating_children_js__WEBPACK_IMPORTED_MODULE_4__.Children.from(..._templating_children_js__WEBPACK_IMPORTED_MODULE_4__.Children.getAll(Type), CustomElement.getAnnotation(Type, 'childrenObservers'), Type.childrenObservers, nameOrDef.childrenObservers), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('containerless', nameOrDef, Type, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('isStrictBinding', nameOrDef, Type, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('shadowOptions', nameOrDef, Type, () => null), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('hasSlots', nameOrDef, Type, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('enhance', nameOrDef, Type, () => false), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('projectionsMap', nameOrDef, Type, () => new Map()), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(nameOrDef.watches, _watch_js__WEBPACK_IMPORTED_MODULE_5__.Watch.getAnnotation(Type), Type.watches), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('processContent', nameOrDef, Type, () => null));\n    }\n    static getOrCreate(partialDefinition) {\n        if (partialDefinition instanceof CustomElementDefinition) {\n            return partialDefinition;\n        }\n        if (definitionLookup.has(partialDefinition)) {\n            return definitionLookup.get(partialDefinition);\n        }\n        const definition = CustomElementDefinition.create(partialDefinition);\n        definitionLookup.set(partialDefinition, definition);\n        // Make sure the full definition can be retrieved from dynamically created classes as well\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(CustomElement.name, definition, definition.Type);\n        return definition;\n    }\n    register(container) {\n        const { Type, key, aliases } = this;\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.transient(key, Type).register(container);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.aliasTo(key, Type).register(container);\n        (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.registerAliases)(aliases, CustomElement, key, container);\n    }\n}\nconst defaultForOpts = {\n    name: undefined,\n    searchParents: false,\n    optional: false,\n};\nconst CustomElement = {\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.keyFor('custom-element'),\n    keyFrom(name) {\n        return `${CustomElement.name}:${name}`;\n    },\n    isType(value) {\n        return typeof value === 'function' && _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.hasOwn(CustomElement.name, value);\n    },\n    for(node, opts = defaultForOpts) {\n        if (opts.name === void 0 && opts.searchParents !== true) {\n            const controller = (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.getRef)(node, CustomElement.name);\n            if (controller === null) {\n                if (opts.optional === true) {\n                    return null;\n                }\n                throw new Error(`The provided node is not a custom element or containerless host.`);\n            }\n            return controller;\n        }\n        if (opts.name !== void 0) {\n            if (opts.searchParents !== true) {\n                const controller = (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.getRef)(node, CustomElement.name);\n                if (controller === null) {\n                    throw new Error(`The provided node is not a custom element or containerless host.`);\n                }\n                if (controller.is(opts.name)) {\n                    return controller;\n                }\n                return (void 0);\n            }\n            let cur = node;\n            let foundAController = false;\n            while (cur !== null) {\n                const controller = (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.getRef)(cur, CustomElement.name);\n                if (controller !== null) {\n                    foundAController = true;\n                    if (controller.is(opts.name)) {\n                        return controller;\n                    }\n                }\n                cur = (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.getEffectiveParentNode)(cur);\n            }\n            if (foundAController) {\n                return (void 0);\n            }\n            throw new Error(`The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.`);\n        }\n        let cur = node;\n        while (cur !== null) {\n            const controller = (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.getRef)(cur, CustomElement.name);\n            if (controller !== null) {\n                return controller;\n            }\n            cur = (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.getEffectiveParentNode)(cur);\n        }\n        throw new Error(`The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.`);\n    },\n    define(nameOrDef, Type) {\n        const definition = CustomElementDefinition.create(nameOrDef, Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(CustomElement.name, definition, definition.Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(CustomElement.name, definition, definition);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.appendTo(definition.Type, CustomElement.name);\n        return definition.Type;\n    },\n    getDefinition(Type) {\n        const def = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(CustomElement.name, Type);\n        if (def === void 0) {\n            throw new Error(`No definition found for type ${Type.name}`);\n        }\n        return def;\n    },\n    annotate(Type, prop, value) {\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor(prop), value, Type);\n    },\n    getAnnotation(Type, prop) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor(prop), Type);\n    },\n    generateName: (function () {\n        let id = 0;\n        return function () {\n            return `unnamed-${++id}`;\n        };\n    })(),\n    createInjectable() {\n        const $injectable = function (target, property, index) {\n            const annotationParamtypes = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.getOrCreateAnnotationParamTypes(target);\n            annotationParamtypes[index] = $injectable;\n            return target;\n        };\n        $injectable.register = function (container) {\n            // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n            return {\n                resolve(container, requestor) {\n                    if (requestor.has($injectable, true)) {\n                        return requestor.get($injectable);\n                    }\n                    else {\n                        return null;\n                    }\n                },\n            };\n        };\n        return $injectable;\n    },\n    generateType: (function () {\n        const nameDescriptor = {\n            value: '',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const defaultProto = {};\n        return function (name, proto = defaultProto) {\n            // Anonymous class ensures that minification cannot cause unintended side-effects, and keeps the class\n            // looking similarly from the outside (when inspected via debugger, etc).\n            const Type = class {\n            };\n            // Define the name property so that Type.name can be used by end users / plugin authors if they really need to,\n            // even when minified.\n            nameDescriptor.value = name;\n            Reflect.defineProperty(Type, 'name', nameDescriptor);\n            // Assign anything from the prototype that was passed in\n            if (proto !== defaultProto) {\n                Object.assign(Type.prototype, proto);\n            }\n            return Type;\n        };\n    })(),\n};\nconst pcHookMetadataProperty = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor('processContent');\nfunction processContent(hook) {\n    return hook === void 0\n        ? function (target, propertyKey, _descriptor) {\n            _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(pcHookMetadataProperty, ensureHook(target, propertyKey), target);\n        }\n        : function (target) {\n            hook = ensureHook(target, hook);\n            const def = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(CustomElement.name, target);\n            if (def !== void 0) {\n                def.processContent = hook;\n            }\n            else {\n                _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(pcHookMetadataProperty, hook, target);\n            }\n            return target;\n        };\n}\nfunction ensureHook(target, hook) {\n    if (typeof hook === 'string') {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,@typescript-eslint/no-explicit-any\n        hook = target[hook];\n    }\n    const hookType = typeof hook;\n    if (hookType !== 'function') {\n        throw new Error(`Invalid @processContent hook. Expected the hook to be a function (when defined in a class, it needs to be a static function) but got a ${hookType}.`);\n    }\n    return hook;\n}\n//# sourceMappingURL=custom-element.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9jdXN0b20tZWxlbWVudC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vcmVzb3VyY2VzL2N1c3RvbS1lbGVtZW50LmpzPzM3ZWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREksIFJlZ2lzdHJhdGlvbiwgUHJvdG9jb2wsIE1ldGFkYXRhLCBtZXJnZUFycmF5cywgZnJvbURlZmluaXRpb25PckRlZmF1bHQsIHBhc2NhbENhc2UsIGZyb21Bbm5vdGF0aW9uT3JUeXBlT3JEZWZhdWx0LCBmcm9tQW5ub3RhdGlvbk9yRGVmaW5pdGlvbk9yVHlwZU9yRGVmYXVsdCwgZW1wdHlBcnJheSwgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgcmVnaXN0ZXJBbGlhc2VzLCB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuaW1wb3J0IHsgQmluZGFibGUsIH0gZnJvbSAnLi4vYmluZGFibGUuanMnO1xuaW1wb3J0IHsgZ2V0RWZmZWN0aXZlUGFyZW50Tm9kZSwgZ2V0UmVmIH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7IENoaWxkcmVuIH0gZnJvbSAnLi4vdGVtcGxhdGluZy9jaGlsZHJlbi5qcyc7XG5pbXBvcnQgeyBXYXRjaCB9IGZyb20gJy4uL3dhdGNoLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21FbGVtZW50KG5hbWVPckRlZikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBDdXN0b21FbGVtZW50LmRlZmluZShuYW1lT3JEZWYsIHRhcmdldCk7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1c2VTaGFkb3dET00odGFyZ2V0T3JPcHRpb25zKSB7XG4gICAgaWYgKHRhcmdldE9yT3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICAgICAgQ3VzdG9tRWxlbWVudC5hbm5vdGF0ZSgkdGFyZ2V0LCAnc2hhZG93T3B0aW9ucycsIHsgbW9kZTogJ29wZW4nIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRhcmdldE9yT3B0aW9ucyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgICAgIEN1c3RvbUVsZW1lbnQuYW5ub3RhdGUoJHRhcmdldCwgJ3NoYWRvd09wdGlvbnMnLCB0YXJnZXRPck9wdGlvbnMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBDdXN0b21FbGVtZW50LmFubm90YXRlKHRhcmdldE9yT3B0aW9ucywgJ3NoYWRvd09wdGlvbnMnLCB7IG1vZGU6ICdvcGVuJyB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluZXJsZXNzKHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgICAgIEN1c3RvbUVsZW1lbnQuYW5ub3RhdGUoJHRhcmdldCwgJ2NvbnRhaW5lcmxlc3MnLCB0cnVlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQ3VzdG9tRWxlbWVudC5hbm5vdGF0ZSh0YXJnZXQsICdjb250YWluZXJsZXNzJywgdHJ1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaWN0KHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgICAgIEN1c3RvbUVsZW1lbnQuYW5ub3RhdGUoJHRhcmdldCwgJ2lzU3RyaWN0QmluZGluZycsIHRydWUpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBDdXN0b21FbGVtZW50LmFubm90YXRlKHRhcmdldCwgJ2lzU3RyaWN0QmluZGluZycsIHRydWUpO1xufVxuY29uc3QgZGVmaW5pdGlvbkxvb2t1cCA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgY2xhc3MgQ3VzdG9tRWxlbWVudERlZmluaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKFR5cGUsIG5hbWUsIGFsaWFzZXMsIGtleSwgY2FjaGUsIHRlbXBsYXRlLCBpbnN0cnVjdGlvbnMsIGRlcGVuZGVuY2llcywgaW5qZWN0YWJsZSwgbmVlZHNDb21waWxlLCBzdXJyb2dhdGVzLCBiaW5kYWJsZXMsIGNoaWxkcmVuT2JzZXJ2ZXJzLCBjb250YWluZXJsZXNzLCBpc1N0cmljdEJpbmRpbmcsIHNoYWRvd09wdGlvbnMsIGhhc1Nsb3RzLCBlbmhhbmNlLCBwcm9qZWN0aW9uc01hcCwgd2F0Y2hlcywgcHJvY2Vzc0NvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5UeXBlID0gVHlwZTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hbGlhc2VzID0gYWxpYXNlcztcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBjYWNoZTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucztcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXM7XG4gICAgICAgIHRoaXMuaW5qZWN0YWJsZSA9IGluamVjdGFibGU7XG4gICAgICAgIHRoaXMubmVlZHNDb21waWxlID0gbmVlZHNDb21waWxlO1xuICAgICAgICB0aGlzLnN1cnJvZ2F0ZXMgPSBzdXJyb2dhdGVzO1xuICAgICAgICB0aGlzLmJpbmRhYmxlcyA9IGJpbmRhYmxlcztcbiAgICAgICAgdGhpcy5jaGlsZHJlbk9ic2VydmVycyA9IGNoaWxkcmVuT2JzZXJ2ZXJzO1xuICAgICAgICB0aGlzLmNvbnRhaW5lcmxlc3MgPSBjb250YWluZXJsZXNzO1xuICAgICAgICB0aGlzLmlzU3RyaWN0QmluZGluZyA9IGlzU3RyaWN0QmluZGluZztcbiAgICAgICAgdGhpcy5zaGFkb3dPcHRpb25zID0gc2hhZG93T3B0aW9ucztcbiAgICAgICAgdGhpcy5oYXNTbG90cyA9IGhhc1Nsb3RzO1xuICAgICAgICB0aGlzLmVuaGFuY2UgPSBlbmhhbmNlO1xuICAgICAgICB0aGlzLnByb2plY3Rpb25zTWFwID0gcHJvamVjdGlvbnNNYXA7XG4gICAgICAgIHRoaXMud2F0Y2hlcyA9IHdhdGNoZXM7XG4gICAgICAgIHRoaXMucHJvY2Vzc0NvbnRlbnQgPSBwcm9jZXNzQ29udGVudDtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShuYW1lT3JEZWYsIFR5cGUgPSBudWxsKSB7XG4gICAgICAgIGlmIChUeXBlID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBkZWYgPSBuYW1lT3JEZWY7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjcmVhdGUgYSBjdXN0b20gZWxlbWVudCBkZWZpbml0aW9uIHdpdGggb25seSBhIG5hbWUgYW5kIG5vIHR5cGU6ICR7bmFtZU9yRGVmfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGZyb21EZWZpbml0aW9uT3JEZWZhdWx0KCduYW1lJywgZGVmLCBDdXN0b21FbGVtZW50LmdlbmVyYXRlTmFtZSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlZi5UeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBuZWVkcyB0byBiZSBhIGNsb25lIChpdCB3aWxsIHVzdWFsbHkgYmUgdGhlIGNvbXBpbGVyIGNhbGxpbmcgdGhpcyBzaWduYXR1cmUpXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogd2UgbmVlZCB0byBtYWtlIHN1cmUgaXQncyBkb2N1bWVudGVkIHRoYXQgcGFzc2luZyBpbiB0aGUgdHlwZSB2aWEgdGhlIGRlZmluaXRpb24gKHdoaWxlIHBhc3NpbmcgaW4gbnVsbFxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBcIlR5cGVcIiBwYXJhbWV0ZXIpIGVmZmVjdGl2ZWx5IHNraXBzIHR5cGUgYW5hbHlzaXMsIHNvIGl0IHNob3VsZCBvbmx5IGJlIHVzZWQgdGhpcyB3YXkgZm9yIGNsb25pbmcgcHVycG9zZXMuXG4gICAgICAgICAgICAgICAgVHlwZSA9IGRlZi5UeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgVHlwZSA9IEN1c3RvbUVsZW1lbnQuZ2VuZXJhdGVUeXBlKHBhc2NhbENhc2UobmFtZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDdXN0b21FbGVtZW50RGVmaW5pdGlvbihUeXBlLCBuYW1lLCBtZXJnZUFycmF5cyhkZWYuYWxpYXNlcyksIGZyb21EZWZpbml0aW9uT3JEZWZhdWx0KCdrZXknLCBkZWYsICgpID0+IEN1c3RvbUVsZW1lbnQua2V5RnJvbShuYW1lKSksIGZyb21EZWZpbml0aW9uT3JEZWZhdWx0KCdjYWNoZScsIGRlZiwgKCkgPT4gMCksIGZyb21EZWZpbml0aW9uT3JEZWZhdWx0KCd0ZW1wbGF0ZScsIGRlZiwgKCkgPT4gbnVsbCksIG1lcmdlQXJyYXlzKGRlZi5pbnN0cnVjdGlvbnMpLCBtZXJnZUFycmF5cyhkZWYuZGVwZW5kZW5jaWVzKSwgZnJvbURlZmluaXRpb25PckRlZmF1bHQoJ2luamVjdGFibGUnLCBkZWYsICgpID0+IG51bGwpLCBmcm9tRGVmaW5pdGlvbk9yRGVmYXVsdCgnbmVlZHNDb21waWxlJywgZGVmLCAoKSA9PiB0cnVlKSwgbWVyZ2VBcnJheXMoZGVmLnN1cnJvZ2F0ZXMpLCBCaW5kYWJsZS5mcm9tKGRlZi5iaW5kYWJsZXMpLCBDaGlsZHJlbi5mcm9tKGRlZi5jaGlsZHJlbk9ic2VydmVycyksIGZyb21EZWZpbml0aW9uT3JEZWZhdWx0KCdjb250YWluZXJsZXNzJywgZGVmLCAoKSA9PiBmYWxzZSksIGZyb21EZWZpbml0aW9uT3JEZWZhdWx0KCdpc1N0cmljdEJpbmRpbmcnLCBkZWYsICgpID0+IGZhbHNlKSwgZnJvbURlZmluaXRpb25PckRlZmF1bHQoJ3NoYWRvd09wdGlvbnMnLCBkZWYsICgpID0+IG51bGwpLCBmcm9tRGVmaW5pdGlvbk9yRGVmYXVsdCgnaGFzU2xvdHMnLCBkZWYsICgpID0+IGZhbHNlKSwgZnJvbURlZmluaXRpb25PckRlZmF1bHQoJ2VuaGFuY2UnLCBkZWYsICgpID0+IGZhbHNlKSwgZnJvbURlZmluaXRpb25PckRlZmF1bHQoJ3Byb2plY3Rpb25zTWFwJywgZGVmLCAoKSA9PiBuZXcgTWFwKCkpLCBmcm9tRGVmaW5pdGlvbk9yRGVmYXVsdCgnd2F0Y2hlcycsIGRlZiwgKCkgPT4gZW1wdHlBcnJheSksIGZyb21Bbm5vdGF0aW9uT3JUeXBlT3JEZWZhdWx0KCdwcm9jZXNzQ29udGVudCcsIFR5cGUsICgpID0+IG51bGwpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBhIHR5cGUgaXMgcGFzc2VkIGluLCB3ZSBpZ25vcmUgdGhlIFR5cGUgcHJvcGVydHkgb24gdGhlIGRlZmluaXRpb24gaWYgaXQgZXhpc3RzLlxuICAgICAgICAvLyBUT0RPOiBkb2N1bWVudCB0aGlzIGJlaGF2aW9yXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZU9yRGVmID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDdXN0b21FbGVtZW50RGVmaW5pdGlvbihUeXBlLCBuYW1lT3JEZWYsIG1lcmdlQXJyYXlzKEN1c3RvbUVsZW1lbnQuZ2V0QW5ub3RhdGlvbihUeXBlLCAnYWxpYXNlcycpLCBUeXBlLmFsaWFzZXMpLCBDdXN0b21FbGVtZW50LmtleUZyb20obmFtZU9yRGVmKSwgZnJvbUFubm90YXRpb25PclR5cGVPckRlZmF1bHQoJ2NhY2hlJywgVHlwZSwgKCkgPT4gMCksIGZyb21Bbm5vdGF0aW9uT3JUeXBlT3JEZWZhdWx0KCd0ZW1wbGF0ZScsIFR5cGUsICgpID0+IG51bGwpLCBtZXJnZUFycmF5cyhDdXN0b21FbGVtZW50LmdldEFubm90YXRpb24oVHlwZSwgJ2luc3RydWN0aW9ucycpLCBUeXBlLmluc3RydWN0aW9ucyksIG1lcmdlQXJyYXlzKEN1c3RvbUVsZW1lbnQuZ2V0QW5ub3RhdGlvbihUeXBlLCAnZGVwZW5kZW5jaWVzJyksIFR5cGUuZGVwZW5kZW5jaWVzKSwgZnJvbUFubm90YXRpb25PclR5cGVPckRlZmF1bHQoJ2luamVjdGFibGUnLCBUeXBlLCAoKSA9PiBudWxsKSwgZnJvbUFubm90YXRpb25PclR5cGVPckRlZmF1bHQoJ25lZWRzQ29tcGlsZScsIFR5cGUsICgpID0+IHRydWUpLCBtZXJnZUFycmF5cyhDdXN0b21FbGVtZW50LmdldEFubm90YXRpb24oVHlwZSwgJ3N1cnJvZ2F0ZXMnKSwgVHlwZS5zdXJyb2dhdGVzKSwgQmluZGFibGUuZnJvbSguLi5CaW5kYWJsZS5nZXRBbGwoVHlwZSksIEN1c3RvbUVsZW1lbnQuZ2V0QW5ub3RhdGlvbihUeXBlLCAnYmluZGFibGVzJyksIFR5cGUuYmluZGFibGVzKSwgQ2hpbGRyZW4uZnJvbSguLi5DaGlsZHJlbi5nZXRBbGwoVHlwZSksIEN1c3RvbUVsZW1lbnQuZ2V0QW5ub3RhdGlvbihUeXBlLCAnY2hpbGRyZW5PYnNlcnZlcnMnKSwgVHlwZS5jaGlsZHJlbk9ic2VydmVycyksIGZyb21Bbm5vdGF0aW9uT3JUeXBlT3JEZWZhdWx0KCdjb250YWluZXJsZXNzJywgVHlwZSwgKCkgPT4gZmFsc2UpLCBmcm9tQW5ub3RhdGlvbk9yVHlwZU9yRGVmYXVsdCgnaXNTdHJpY3RCaW5kaW5nJywgVHlwZSwgKCkgPT4gZmFsc2UpLCBmcm9tQW5ub3RhdGlvbk9yVHlwZU9yRGVmYXVsdCgnc2hhZG93T3B0aW9ucycsIFR5cGUsICgpID0+IG51bGwpLCBmcm9tQW5ub3RhdGlvbk9yVHlwZU9yRGVmYXVsdCgnaGFzU2xvdHMnLCBUeXBlLCAoKSA9PiBmYWxzZSksIGZyb21Bbm5vdGF0aW9uT3JUeXBlT3JEZWZhdWx0KCdlbmhhbmNlJywgVHlwZSwgKCkgPT4gZmFsc2UpLCBmcm9tQW5ub3RhdGlvbk9yVHlwZU9yRGVmYXVsdCgncHJvamVjdGlvbnNNYXAnLCBUeXBlLCAoKSA9PiBuZXcgTWFwKCkpLCBtZXJnZUFycmF5cyhXYXRjaC5nZXRBbm5vdGF0aW9uKFR5cGUpLCBUeXBlLndhdGNoZXMpLCBmcm9tQW5ub3RhdGlvbk9yVHlwZU9yRGVmYXVsdCgncHJvY2Vzc0NvbnRlbnQnLCBUeXBlLCAoKSA9PiBudWxsKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgdHlwaWNhbCBkZWZhdWx0IGJlaGF2aW9yLCBlLmcuIGZyb20gcmVndWxhciBDdXN0b21FbGVtZW50LmRlZmluZSBpbnZvY2F0aW9ucyBvciBmcm9tIEBjdXN0b21FbGVtZW50IGRlY29cbiAgICAgICAgLy8gVGhlIFZpZXdWYWx1ZUNvbnZlcnRlciBhbHNvIHVzZXMgdGhpcyBzaWduYXR1cmUgYW5kIHBhc3NlcyBpbiBhIGRlZmluaXRpb24gd2hlcmUgZXZlcnl0aGluZyBleGNlcHQgZm9yIHRoZSAnaG9va3MnXG4gICAgICAgIC8vIHByb3BlcnR5IG5lZWRzIHRvIGJlIGNvcGllZC4gU28gd2UgaGF2ZSB0aGF0IGV4Y2VwdGlvbiBmb3IgJ2hvb2tzJywgYnV0IHdlIG1heSBuZWVkIHRvIHJldmlzaXQgdGhhdCBkZWZhdWx0IGJlaGF2aW9yXG4gICAgICAgIC8vIGlmIHRoaXMgdHVybnMgb3V0IHRvIGJlIHRvbyBvcGluaW9uYXRlZC5cbiAgICAgICAgY29uc3QgbmFtZSA9IGZyb21EZWZpbml0aW9uT3JEZWZhdWx0KCduYW1lJywgbmFtZU9yRGVmLCBDdXN0b21FbGVtZW50LmdlbmVyYXRlTmFtZSk7XG4gICAgICAgIHJldHVybiBuZXcgQ3VzdG9tRWxlbWVudERlZmluaXRpb24oVHlwZSwgbmFtZSwgbWVyZ2VBcnJheXMoQ3VzdG9tRWxlbWVudC5nZXRBbm5vdGF0aW9uKFR5cGUsICdhbGlhc2VzJyksIG5hbWVPckRlZi5hbGlhc2VzLCBUeXBlLmFsaWFzZXMpLCBDdXN0b21FbGVtZW50LmtleUZyb20obmFtZSksIGZyb21Bbm5vdGF0aW9uT3JEZWZpbml0aW9uT3JUeXBlT3JEZWZhdWx0KCdjYWNoZScsIG5hbWVPckRlZiwgVHlwZSwgKCkgPT4gMCksIGZyb21Bbm5vdGF0aW9uT3JEZWZpbml0aW9uT3JUeXBlT3JEZWZhdWx0KCd0ZW1wbGF0ZScsIG5hbWVPckRlZiwgVHlwZSwgKCkgPT4gbnVsbCksIG1lcmdlQXJyYXlzKEN1c3RvbUVsZW1lbnQuZ2V0QW5ub3RhdGlvbihUeXBlLCAnaW5zdHJ1Y3Rpb25zJyksIG5hbWVPckRlZi5pbnN0cnVjdGlvbnMsIFR5cGUuaW5zdHJ1Y3Rpb25zKSwgbWVyZ2VBcnJheXMoQ3VzdG9tRWxlbWVudC5nZXRBbm5vdGF0aW9uKFR5cGUsICdkZXBlbmRlbmNpZXMnKSwgbmFtZU9yRGVmLmRlcGVuZGVuY2llcywgVHlwZS5kZXBlbmRlbmNpZXMpLCBmcm9tQW5ub3RhdGlvbk9yRGVmaW5pdGlvbk9yVHlwZU9yRGVmYXVsdCgnaW5qZWN0YWJsZScsIG5hbWVPckRlZiwgVHlwZSwgKCkgPT4gbnVsbCksIGZyb21Bbm5vdGF0aW9uT3JEZWZpbml0aW9uT3JUeXBlT3JEZWZhdWx0KCduZWVkc0NvbXBpbGUnLCBuYW1lT3JEZWYsIFR5cGUsICgpID0+IHRydWUpLCBtZXJnZUFycmF5cyhDdXN0b21FbGVtZW50LmdldEFubm90YXRpb24oVHlwZSwgJ3N1cnJvZ2F0ZXMnKSwgbmFtZU9yRGVmLnN1cnJvZ2F0ZXMsIFR5cGUuc3Vycm9nYXRlcyksIEJpbmRhYmxlLmZyb20oLi4uQmluZGFibGUuZ2V0QWxsKFR5cGUpLCBDdXN0b21FbGVtZW50LmdldEFubm90YXRpb24oVHlwZSwgJ2JpbmRhYmxlcycpLCBUeXBlLmJpbmRhYmxlcywgbmFtZU9yRGVmLmJpbmRhYmxlcyksIENoaWxkcmVuLmZyb20oLi4uQ2hpbGRyZW4uZ2V0QWxsKFR5cGUpLCBDdXN0b21FbGVtZW50LmdldEFubm90YXRpb24oVHlwZSwgJ2NoaWxkcmVuT2JzZXJ2ZXJzJyksIFR5cGUuY2hpbGRyZW5PYnNlcnZlcnMsIG5hbWVPckRlZi5jaGlsZHJlbk9ic2VydmVycyksIGZyb21Bbm5vdGF0aW9uT3JEZWZpbml0aW9uT3JUeXBlT3JEZWZhdWx0KCdjb250YWluZXJsZXNzJywgbmFtZU9yRGVmLCBUeXBlLCAoKSA9PiBmYWxzZSksIGZyb21Bbm5vdGF0aW9uT3JEZWZpbml0aW9uT3JUeXBlT3JEZWZhdWx0KCdpc1N0cmljdEJpbmRpbmcnLCBuYW1lT3JEZWYsIFR5cGUsICgpID0+IGZhbHNlKSwgZnJvbUFubm90YXRpb25PckRlZmluaXRpb25PclR5cGVPckRlZmF1bHQoJ3NoYWRvd09wdGlvbnMnLCBuYW1lT3JEZWYsIFR5cGUsICgpID0+IG51bGwpLCBmcm9tQW5ub3RhdGlvbk9yRGVmaW5pdGlvbk9yVHlwZU9yRGVmYXVsdCgnaGFzU2xvdHMnLCBuYW1lT3JEZWYsIFR5cGUsICgpID0+IGZhbHNlKSwgZnJvbUFubm90YXRpb25PckRlZmluaXRpb25PclR5cGVPckRlZmF1bHQoJ2VuaGFuY2UnLCBuYW1lT3JEZWYsIFR5cGUsICgpID0+IGZhbHNlKSwgZnJvbUFubm90YXRpb25PckRlZmluaXRpb25PclR5cGVPckRlZmF1bHQoJ3Byb2plY3Rpb25zTWFwJywgbmFtZU9yRGVmLCBUeXBlLCAoKSA9PiBuZXcgTWFwKCkpLCBtZXJnZUFycmF5cyhuYW1lT3JEZWYud2F0Y2hlcywgV2F0Y2guZ2V0QW5ub3RhdGlvbihUeXBlKSwgVHlwZS53YXRjaGVzKSwgZnJvbUFubm90YXRpb25PckRlZmluaXRpb25PclR5cGVPckRlZmF1bHQoJ3Byb2Nlc3NDb250ZW50JywgbmFtZU9yRGVmLCBUeXBlLCAoKSA9PiBudWxsKSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRPckNyZWF0ZShwYXJ0aWFsRGVmaW5pdGlvbikge1xuICAgICAgICBpZiAocGFydGlhbERlZmluaXRpb24gaW5zdGFuY2VvZiBDdXN0b21FbGVtZW50RGVmaW5pdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWxEZWZpbml0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZpbml0aW9uTG9va3VwLmhhcyhwYXJ0aWFsRGVmaW5pdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZpbml0aW9uTG9va3VwLmdldChwYXJ0aWFsRGVmaW5pdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLmNyZWF0ZShwYXJ0aWFsRGVmaW5pdGlvbik7XG4gICAgICAgIGRlZmluaXRpb25Mb29rdXAuc2V0KHBhcnRpYWxEZWZpbml0aW9uLCBkZWZpbml0aW9uKTtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBmdWxsIGRlZmluaXRpb24gY2FuIGJlIHJldHJpZXZlZCBmcm9tIGR5bmFtaWNhbGx5IGNyZWF0ZWQgY2xhc3NlcyBhcyB3ZWxsXG4gICAgICAgIE1ldGFkYXRhLmRlZmluZShDdXN0b21FbGVtZW50Lm5hbWUsIGRlZmluaXRpb24sIGRlZmluaXRpb24uVHlwZSk7XG4gICAgICAgIHJldHVybiBkZWZpbml0aW9uO1xuICAgIH1cbiAgICByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgeyBUeXBlLCBrZXksIGFsaWFzZXMgfSA9IHRoaXM7XG4gICAgICAgIFJlZ2lzdHJhdGlvbi50cmFuc2llbnQoa2V5LCBUeXBlKS5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAgICBSZWdpc3RyYXRpb24uYWxpYXNUbyhrZXksIFR5cGUpLnJlZ2lzdGVyKGNvbnRhaW5lcik7XG4gICAgICAgIHJlZ2lzdGVyQWxpYXNlcyhhbGlhc2VzLCBDdXN0b21FbGVtZW50LCBrZXksIGNvbnRhaW5lcik7XG4gICAgfVxufVxuY29uc3QgZGVmYXVsdEZvck9wdHMgPSB7XG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgIHNlYXJjaFBhcmVudHM6IGZhbHNlLFxuICAgIG9wdGlvbmFsOiBmYWxzZSxcbn07XG5leHBvcnQgY29uc3QgQ3VzdG9tRWxlbWVudCA9IHtcbiAgICBuYW1lOiBQcm90b2NvbC5yZXNvdXJjZS5rZXlGb3IoJ2N1c3RvbS1lbGVtZW50JyksXG4gICAga2V5RnJvbShuYW1lKSB7XG4gICAgICAgIHJldHVybiBgJHtDdXN0b21FbGVtZW50Lm5hbWV9OiR7bmFtZX1gO1xuICAgIH0sXG4gICAgaXNUeXBlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiYgTWV0YWRhdGEuaGFzT3duKEN1c3RvbUVsZW1lbnQubmFtZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgZm9yKG5vZGUsIG9wdHMgPSBkZWZhdWx0Rm9yT3B0cykge1xuICAgICAgICBpZiAob3B0cy5uYW1lID09PSB2b2lkIDAgJiYgb3B0cy5zZWFyY2hQYXJlbnRzICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gZ2V0UmVmKG5vZGUsIEN1c3RvbUVsZW1lbnQubmFtZSk7XG4gICAgICAgICAgICBpZiAoY29udHJvbGxlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRzLm9wdGlvbmFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBwcm92aWRlZCBub2RlIGlzIG5vdCBhIGN1c3RvbSBlbGVtZW50IG9yIGNvbnRhaW5lcmxlc3MgaG9zdC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb250cm9sbGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLm5hbWUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaWYgKG9wdHMuc2VhcmNoUGFyZW50cyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBnZXRSZWYobm9kZSwgQ3VzdG9tRWxlbWVudC5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBwcm92aWRlZCBub2RlIGlzIG5vdCBhIGN1c3RvbSBlbGVtZW50IG9yIGNvbnRhaW5lcmxlc3MgaG9zdC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIuaXMob3B0cy5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICh2b2lkIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGN1ciA9IG5vZGU7XG4gICAgICAgICAgICBsZXQgZm91bmRBQ29udHJvbGxlciA9IGZhbHNlO1xuICAgICAgICAgICAgd2hpbGUgKGN1ciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBnZXRSZWYoY3VyLCBDdXN0b21FbGVtZW50Lm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kQUNvbnRyb2xsZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlci5pcyhvcHRzLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXIgPSBnZXRFZmZlY3RpdmVQYXJlbnROb2RlKGN1cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm91bmRBQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiAodm9pZCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHByb3ZpZGVkIG5vZGUgZG9lcyBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgcGFydCBvZiBhbiBBdXJlbGlhIGFwcCBET00gdHJlZSwgb3IgaXQgd2FzIGFkZGVkIHRvIHRoZSBET00gaW4gYSB3YXkgdGhhdCBBdXJlbGlhIGNhbm5vdCBwcm9wZXJseSByZXNvbHZlIGl0cyBwb3NpdGlvbiBpbiB0aGUgY29tcG9uZW50IHRyZWUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN1ciA9IG5vZGU7XG4gICAgICAgIHdoaWxlIChjdXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBnZXRSZWYoY3VyLCBDdXN0b21FbGVtZW50Lm5hbWUpO1xuICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udHJvbGxlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1ciA9IGdldEVmZmVjdGl2ZVBhcmVudE5vZGUoY3VyKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBwcm92aWRlZCBub2RlIGRvZXMgZG9lcyBub3QgYXBwZWFyIHRvIGJlIHBhcnQgb2YgYW4gQXVyZWxpYSBhcHAgRE9NIHRyZWUsIG9yIGl0IHdhcyBhZGRlZCB0byB0aGUgRE9NIGluIGEgd2F5IHRoYXQgQXVyZWxpYSBjYW5ub3QgcHJvcGVybHkgcmVzb2x2ZSBpdHMgcG9zaXRpb24gaW4gdGhlIGNvbXBvbmVudCB0cmVlLmApO1xuICAgIH0sXG4gICAgZGVmaW5lKG5hbWVPckRlZiwgVHlwZSkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gQ3VzdG9tRWxlbWVudERlZmluaXRpb24uY3JlYXRlKG5hbWVPckRlZiwgVHlwZSk7XG4gICAgICAgIE1ldGFkYXRhLmRlZmluZShDdXN0b21FbGVtZW50Lm5hbWUsIGRlZmluaXRpb24sIGRlZmluaXRpb24uVHlwZSk7XG4gICAgICAgIE1ldGFkYXRhLmRlZmluZShDdXN0b21FbGVtZW50Lm5hbWUsIGRlZmluaXRpb24sIGRlZmluaXRpb24pO1xuICAgICAgICBQcm90b2NvbC5yZXNvdXJjZS5hcHBlbmRUbyhkZWZpbml0aW9uLlR5cGUsIEN1c3RvbUVsZW1lbnQubmFtZSk7XG4gICAgICAgIHJldHVybiBkZWZpbml0aW9uLlR5cGU7XG4gICAgfSxcbiAgICBnZXREZWZpbml0aW9uKFR5cGUpIHtcbiAgICAgICAgY29uc3QgZGVmID0gTWV0YWRhdGEuZ2V0T3duKEN1c3RvbUVsZW1lbnQubmFtZSwgVHlwZSk7XG4gICAgICAgIGlmIChkZWYgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBkZWZpbml0aW9uIGZvdW5kIGZvciB0eXBlICR7VHlwZS5uYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgfSxcbiAgICBhbm5vdGF0ZShUeXBlLCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICBNZXRhZGF0YS5kZWZpbmUoUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IocHJvcCksIHZhbHVlLCBUeXBlKTtcbiAgICB9LFxuICAgIGdldEFubm90YXRpb24oVHlwZSwgcHJvcCkge1xuICAgICAgICByZXR1cm4gTWV0YWRhdGEuZ2V0T3duKFByb3RvY29sLmFubm90YXRpb24ua2V5Rm9yKHByb3ApLCBUeXBlKTtcbiAgICB9LFxuICAgIGdlbmVyYXRlTmFtZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGlkID0gMDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBgdW5uYW1lZC0keysraWR9YDtcbiAgICAgICAgfTtcbiAgICB9KSgpLFxuICAgIGNyZWF0ZUluamVjdGFibGUoKSB7XG4gICAgICAgIGNvbnN0ICRpbmplY3RhYmxlID0gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHksIGluZGV4KSB7XG4gICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uUGFyYW10eXBlcyA9IERJLmdldE9yQ3JlYXRlQW5ub3RhdGlvblBhcmFtVHlwZXModGFyZ2V0KTtcbiAgICAgICAgICAgIGFubm90YXRpb25QYXJhbXR5cGVzW2luZGV4XSA9ICRpbmplY3RhYmxlO1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfTtcbiAgICAgICAgJGluamVjdGFibGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1hc3NlcnRpb25zXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoY29udGFpbmVyLCByZXF1ZXN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3Rvci5oYXMoJGluamVjdGFibGUsIHRydWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdG9yLmdldCgkaW5qZWN0YWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gJGluamVjdGFibGU7XG4gICAgfSxcbiAgICBnZW5lcmF0ZVR5cGU6IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IG5hbWVEZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IGRlZmF1bHRQcm90byA9IHt9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG5hbWUsIHByb3RvID0gZGVmYXVsdFByb3RvKSB7XG4gICAgICAgICAgICAvLyBBbm9ueW1vdXMgY2xhc3MgZW5zdXJlcyB0aGF0IG1pbmlmaWNhdGlvbiBjYW5ub3QgY2F1c2UgdW5pbnRlbmRlZCBzaWRlLWVmZmVjdHMsIGFuZCBrZWVwcyB0aGUgY2xhc3NcbiAgICAgICAgICAgIC8vIGxvb2tpbmcgc2ltaWxhcmx5IGZyb20gdGhlIG91dHNpZGUgKHdoZW4gaW5zcGVjdGVkIHZpYSBkZWJ1Z2dlciwgZXRjKS5cbiAgICAgICAgICAgIGNvbnN0IFR5cGUgPSBjbGFzcyB7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gRGVmaW5lIHRoZSBuYW1lIHByb3BlcnR5IHNvIHRoYXQgVHlwZS5uYW1lIGNhbiBiZSB1c2VkIGJ5IGVuZCB1c2VycyAvIHBsdWdpbiBhdXRob3JzIGlmIHRoZXkgcmVhbGx5IG5lZWQgdG8sXG4gICAgICAgICAgICAvLyBldmVuIHdoZW4gbWluaWZpZWQuXG4gICAgICAgICAgICBuYW1lRGVzY3JpcHRvci52YWx1ZSA9IG5hbWU7XG4gICAgICAgICAgICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KFR5cGUsICduYW1lJywgbmFtZURlc2NyaXB0b3IpO1xuICAgICAgICAgICAgLy8gQXNzaWduIGFueXRoaW5nIGZyb20gdGhlIHByb3RvdHlwZSB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgICAgICAgIGlmIChwcm90byAhPT0gZGVmYXVsdFByb3RvKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihUeXBlLnByb3RvdHlwZSwgcHJvdG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFR5cGU7XG4gICAgICAgIH07XG4gICAgfSkoKSxcbn07XG5jb25zdCBwY0hvb2tNZXRhZGF0YVByb3BlcnR5ID0gUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IoJ3Byb2Nlc3NDb250ZW50Jyk7XG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc0NvbnRlbnQoaG9vaykge1xuICAgIHJldHVybiBob29rID09PSB2b2lkIDBcbiAgICAgICAgPyBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eUtleSwgX2Rlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlZmluZShwY0hvb2tNZXRhZGF0YVByb3BlcnR5LCBlbnN1cmVIb29rKHRhcmdldCwgcHJvcGVydHlLZXkpLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIDogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgaG9vayA9IGVuc3VyZUhvb2sodGFyZ2V0LCBob29rKTtcbiAgICAgICAgICAgIGNvbnN0IGRlZiA9IE1ldGFkYXRhLmdldE93bihDdXN0b21FbGVtZW50Lm5hbWUsIHRhcmdldCk7XG4gICAgICAgICAgICBpZiAoZGVmICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBkZWYucHJvY2Vzc0NvbnRlbnQgPSBob29rO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgTWV0YWRhdGEuZGVmaW5lKHBjSG9va01ldGFkYXRhUHJvcGVydHksIGhvb2ssIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9O1xufVxuZnVuY3Rpb24gZW5zdXJlSG9vayh0YXJnZXQsIGhvb2spIHtcbiAgICBpZiAodHlwZW9mIGhvb2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MsQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBob29rID0gdGFyZ2V0W2hvb2tdO1xuICAgIH1cbiAgICBjb25zdCBob29rVHlwZSA9IHR5cGVvZiBob29rO1xuICAgIGlmIChob29rVHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgQHByb2Nlc3NDb250ZW50IGhvb2suIEV4cGVjdGVkIHRoZSBob29rIHRvIGJlIGEgZnVuY3Rpb24gKHdoZW4gZGVmaW5lZCBpbiBhIGNsYXNzLCBpdCBuZWVkcyB0byBiZSBhIHN0YXRpYyBmdW5jdGlvbikgYnV0IGdvdCBhICR7aG9va1R5cGV9LmApO1xuICAgIH1cbiAgICByZXR1cm4gaG9vaztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWN1c3RvbS1lbGVtZW50LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/au-slot.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/au-slot.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IProjections\": () => (/* binding */ IProjections),\n/* harmony export */   \"AuSlotContentType\": () => (/* binding */ AuSlotContentType),\n/* harmony export */   \"SlotInfo\": () => (/* binding */ SlotInfo),\n/* harmony export */   \"ProjectionContext\": () => (/* binding */ ProjectionContext),\n/* harmony export */   \"RegisteredProjections\": () => (/* binding */ RegisteredProjections),\n/* harmony export */   \"IProjectionProvider\": () => (/* binding */ IProjectionProvider),\n/* harmony export */   \"ProjectionProvider\": () => (/* binding */ ProjectionProvider),\n/* harmony export */   \"AuSlot\": () => (/* binding */ AuSlot),\n/* harmony export */   \"IAuSlotsInfo\": () => (/* binding */ IAuSlotsInfo),\n/* harmony export */   \"AuSlotsInfo\": () => (/* binding */ AuSlotsInfo)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _templating_view_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../templating/view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js\");\n/* harmony import */ var _custom_element_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\n\n\n\n\nconst IProjections = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface(\"IProjections\");\nvar AuSlotContentType;\n(function (AuSlotContentType) {\n    AuSlotContentType[AuSlotContentType[\"Projection\"] = 0] = \"Projection\";\n    AuSlotContentType[AuSlotContentType[\"Fallback\"] = 1] = \"Fallback\";\n})(AuSlotContentType || (AuSlotContentType = {}));\nclass SlotInfo {\n    constructor(name, type, projectionContext) {\n        this.name = name;\n        this.type = type;\n        this.projectionContext = projectionContext;\n    }\n}\nclass ProjectionContext {\n    constructor(content, scope = null) {\n        this.content = content;\n        this.scope = scope;\n    }\n}\nclass RegisteredProjections {\n    constructor(scope, projections) {\n        this.scope = scope;\n        this.projections = projections;\n    }\n}\nconst IProjectionProvider = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IProjectionProvider', x => x.singleton(ProjectionProvider));\nconst projectionMap = new WeakMap();\nclass ProjectionProvider {\n    registerProjections(projections, scope) {\n        for (const [instruction, $projections] of projections) {\n            projectionMap.set(instruction, new RegisteredProjections(scope, $projections));\n        }\n    }\n    getProjectionFor(instruction) {\n        var _a;\n        return (_a = projectionMap.get(instruction)) !== null && _a !== void 0 ? _a : null;\n    }\n}\nclass AuSlot {\n    constructor(factory, location) {\n        this.hostScope = null;\n        this.view = factory.create().setLocation(location);\n        this.isProjection = factory.contentType === AuSlotContentType.Projection;\n        this.outerScope = factory.projectionScope;\n    }\n    /**\n     * @internal\n     */\n    static get inject() { return [_templating_view_js__WEBPACK_IMPORTED_MODULE_2__.IViewFactory, _dom_js__WEBPACK_IMPORTED_MODULE_1__.IRenderLocation]; }\n    binding(_initiator, _parent, _flags) {\n        this.hostScope = this.$controller.scope.parentScope;\n    }\n    attaching(initiator, parent, flags) {\n        var _a;\n        const { $controller } = this;\n        return this.view.activate(initiator, $controller, flags, (_a = this.outerScope) !== null && _a !== void 0 ? _a : this.hostScope, this.hostScope);\n    }\n    detaching(initiator, parent, flags) {\n        return this.view.deactivate(initiator, this.$controller, flags);\n    }\n    dispose() {\n        this.view.dispose();\n        this.view = (void 0);\n    }\n    accept(visitor) {\n        var _a;\n        if (((_a = this.view) === null || _a === void 0 ? void 0 : _a.accept(visitor)) === true) {\n            return true;\n        }\n    }\n}\n(0,_custom_element_js__WEBPACK_IMPORTED_MODULE_3__.customElement)({ name: 'au-slot', template: null, containerless: true })(AuSlot);\nconst IAuSlotsInfo = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('AuSlotsInfo');\nclass AuSlotsInfo {\n    /**\n     * @param {string[]} projectedSlots - Name of the slots to which content are projected.\n     */\n    constructor(projectedSlots) {\n        this.projectedSlots = projectedSlots;\n    }\n}\n//# sourceMappingURL=au-slot.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9jdXN0b20tZWxlbWVudHMvYXUtc2xvdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vcmVzb3VyY2VzL2N1c3RvbS1lbGVtZW50cy9hdS1zbG90LmpzPzFiNjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREkgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgSVJlbmRlckxvY2F0aW9uIH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7IElWaWV3RmFjdG9yeSB9IGZyb20gJy4uLy4uL3RlbXBsYXRpbmcvdmlldy5qcyc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnLi4vY3VzdG9tLWVsZW1lbnQuanMnO1xuZXhwb3J0IGNvbnN0IElQcm9qZWN0aW9ucyA9IERJLmNyZWF0ZUludGVyZmFjZShcIklQcm9qZWN0aW9uc1wiKTtcbmV4cG9ydCB2YXIgQXVTbG90Q29udGVudFR5cGU7XG4oZnVuY3Rpb24gKEF1U2xvdENvbnRlbnRUeXBlKSB7XG4gICAgQXVTbG90Q29udGVudFR5cGVbQXVTbG90Q29udGVudFR5cGVbXCJQcm9qZWN0aW9uXCJdID0gMF0gPSBcIlByb2plY3Rpb25cIjtcbiAgICBBdVNsb3RDb250ZW50VHlwZVtBdVNsb3RDb250ZW50VHlwZVtcIkZhbGxiYWNrXCJdID0gMV0gPSBcIkZhbGxiYWNrXCI7XG59KShBdVNsb3RDb250ZW50VHlwZSB8fCAoQXVTbG90Q29udGVudFR5cGUgPSB7fSkpO1xuZXhwb3J0IGNsYXNzIFNsb3RJbmZvIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB0eXBlLCBwcm9qZWN0aW9uQ29udGV4dCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb2plY3Rpb25Db250ZXh0ID0gcHJvamVjdGlvbkNvbnRleHQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFByb2plY3Rpb25Db250ZXh0IHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50LCBzY29wZSA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZWdpc3RlcmVkUHJvamVjdGlvbnMge1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlLCBwcm9qZWN0aW9ucykge1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbnMgPSBwcm9qZWN0aW9ucztcbiAgICB9XG59XG5leHBvcnQgY29uc3QgSVByb2plY3Rpb25Qcm92aWRlciA9IERJLmNyZWF0ZUludGVyZmFjZSgnSVByb2plY3Rpb25Qcm92aWRlcicsIHggPT4geC5zaW5nbGV0b24oUHJvamVjdGlvblByb3ZpZGVyKSk7XG5jb25zdCBwcm9qZWN0aW9uTWFwID0gbmV3IFdlYWtNYXAoKTtcbmV4cG9ydCBjbGFzcyBQcm9qZWN0aW9uUHJvdmlkZXIge1xuICAgIHJlZ2lzdGVyUHJvamVjdGlvbnMocHJvamVjdGlvbnMsIHNjb3BlKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2luc3RydWN0aW9uLCAkcHJvamVjdGlvbnNdIG9mIHByb2plY3Rpb25zKSB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uTWFwLnNldChpbnN0cnVjdGlvbiwgbmV3IFJlZ2lzdGVyZWRQcm9qZWN0aW9ucyhzY29wZSwgJHByb2plY3Rpb25zKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UHJvamVjdGlvbkZvcihpbnN0cnVjdGlvbikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSBwcm9qZWN0aW9uTWFwLmdldChpbnN0cnVjdGlvbikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGw7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEF1U2xvdCB7XG4gICAgY29uc3RydWN0b3IoZmFjdG9yeSwgbG9jYXRpb24pIHtcbiAgICAgICAgdGhpcy5ob3N0U2NvcGUgPSBudWxsO1xuICAgICAgICB0aGlzLnZpZXcgPSBmYWN0b3J5LmNyZWF0ZSgpLnNldExvY2F0aW9uKGxvY2F0aW9uKTtcbiAgICAgICAgdGhpcy5pc1Byb2plY3Rpb24gPSBmYWN0b3J5LmNvbnRlbnRUeXBlID09PSBBdVNsb3RDb250ZW50VHlwZS5Qcm9qZWN0aW9uO1xuICAgICAgICB0aGlzLm91dGVyU2NvcGUgPSBmYWN0b3J5LnByb2plY3Rpb25TY29wZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgc3RhdGljIGdldCBpbmplY3QoKSB7IHJldHVybiBbSVZpZXdGYWN0b3J5LCBJUmVuZGVyTG9jYXRpb25dOyB9XG4gICAgYmluZGluZyhfaW5pdGlhdG9yLCBfcGFyZW50LCBfZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5ob3N0U2NvcGUgPSB0aGlzLiRjb250cm9sbGVyLnNjb3BlLnBhcmVudFNjb3BlO1xuICAgIH1cbiAgICBhdHRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyAkY29udHJvbGxlciB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5hY3RpdmF0ZShpbml0aWF0b3IsICRjb250cm9sbGVyLCBmbGFncywgKF9hID0gdGhpcy5vdXRlclNjb3BlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmhvc3RTY29wZSwgdGhpcy5ob3N0U2NvcGUpO1xuICAgIH1cbiAgICBkZXRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZGVhY3RpdmF0ZShpbml0aWF0b3IsIHRoaXMuJGNvbnRyb2xsZXIsIGZsYWdzKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy52aWV3LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy52aWV3ID0gKHZvaWQgMCk7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2NlcHQodmlzaXRvcikpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmN1c3RvbUVsZW1lbnQoeyBuYW1lOiAnYXUtc2xvdCcsIHRlbXBsYXRlOiBudWxsLCBjb250YWluZXJsZXNzOiB0cnVlIH0pKEF1U2xvdCk7XG5leHBvcnQgY29uc3QgSUF1U2xvdHNJbmZvID0gREkuY3JlYXRlSW50ZXJmYWNlKCdBdVNsb3RzSW5mbycpO1xuZXhwb3J0IGNsYXNzIEF1U2xvdHNJbmZvIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9qZWN0ZWRTbG90cyAtIE5hbWUgb2YgdGhlIHNsb3RzIHRvIHdoaWNoIGNvbnRlbnQgYXJlIHByb2plY3RlZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9qZWN0ZWRTbG90cykge1xuICAgICAgICB0aGlzLnByb2plY3RlZFNsb3RzID0gcHJvamVjdGVkU2xvdHM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXUtc2xvdC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/au-slot.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/compose.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/compose.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Compose\": () => (/* binding */ Compose)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _create_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../create-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/create-element.js\");\n/* harmony import */ var _renderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../renderer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/renderer.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _templating_render_context_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../templating/render-context.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/render-context.js\");\n/* harmony import */ var _custom_element_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\n\n\n\nfunction toLookup(acc, item) {\n    const to = item.to;\n    if (to !== void 0 && to !== 'subject' && to !== 'composing') {\n        acc[to] = item;\n    }\n    return acc;\n}\nlet Compose = class Compose {\n    constructor(p, instruction) {\n        this.p = p;\n        this.id = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.nextId)('au$component');\n        this.subject = void 0;\n        this.composing = false;\n        this.view = void 0;\n        this.lastSubject = void 0;\n        this.properties = instruction.instructions.reduce(toLookup, {});\n    }\n    attaching(initiator, parent, flags) {\n        const { subject, view } = this;\n        if (view === void 0 || this.lastSubject !== subject) {\n            this.lastSubject = subject;\n            this.composing = true;\n            return this.compose(void 0, subject, initiator, flags);\n        }\n        return this.compose(view, subject, initiator, flags);\n    }\n    detaching(initiator, parent, flags) {\n        return this.deactivate(this.view, initiator, flags);\n    }\n    subjectChanged(newValue, previousValue, flags) {\n        const { $controller } = this;\n        if (!$controller.isActive) {\n            return;\n        }\n        if (this.lastSubject === newValue) {\n            return;\n        }\n        this.lastSubject = newValue;\n        this.composing = true;\n        flags |= $controller.flags;\n        const ret = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.deactivate(this.view, null, flags), () => {\n            // TODO(fkleuver): handle & test race condition\n            return this.compose(void 0, newValue, null, flags);\n        });\n        if (ret instanceof Promise) {\n            ret.catch(err => { throw err; });\n        }\n    }\n    compose(view, subject, initiator, flags) {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(view === void 0\n            ? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(subject, resolvedSubject => {\n                return this.resolveView(resolvedSubject, flags);\n            })\n            : view, resolvedView => {\n            return this.activate(resolvedView, initiator, flags);\n        });\n    }\n    deactivate(view, initiator, flags) {\n        return view === null || view === void 0 ? void 0 : view.deactivate(initiator !== null && initiator !== void 0 ? initiator : view, this.$controller, flags);\n    }\n    activate(view, initiator, flags) {\n        const { $controller } = this;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(view === null || view === void 0 ? void 0 : view.activate(initiator !== null && initiator !== void 0 ? initiator : view, $controller, flags, $controller.scope, $controller.hostScope), () => {\n            this.composing = false;\n        });\n    }\n    resolveView(subject, flags) {\n        const view = this.provideViewFor(subject, flags);\n        if (view) {\n            view.setLocation(this.$controller.location);\n            view.lockScope(this.$controller.scope);\n            return view;\n        }\n        return void 0;\n    }\n    provideViewFor(subject, flags) {\n        if (!subject) {\n            return void 0;\n        }\n        if (isController(subject)) { // IController\n            return subject;\n        }\n        if ('createView' in subject) { // RenderPlan\n            return subject.createView(this.$controller.context);\n        }\n        if ('create' in subject) { // IViewFactory\n            return subject.create(flags);\n        }\n        if ('template' in subject) { // Raw Template Definition\n            const definition = _custom_element_js__WEBPACK_IMPORTED_MODULE_6__.CustomElementDefinition.getOrCreate(subject);\n            return (0,_templating_render_context_js__WEBPACK_IMPORTED_MODULE_5__.getRenderContext)(definition, this.$controller.context).getViewFactory().create(flags);\n        }\n        // Constructable (Custom Element Constructor)\n        return (0,_create_element_js__WEBPACK_IMPORTED_MODULE_2__.createElement)(this.p, subject, this.properties, this.$controller.host.childNodes).createView(this.$controller.context);\n    }\n    dispose() {\n        var _a;\n        (_a = this.view) === null || _a === void 0 ? void 0 : _a.dispose();\n        this.view = (void 0);\n    }\n    accept(visitor) {\n        var _a;\n        if (((_a = this.view) === null || _a === void 0 ? void 0 : _a.accept(visitor)) === true) {\n            return true;\n        }\n    }\n};\n__decorate([\n    _bindable_js__WEBPACK_IMPORTED_MODULE_7__.bindable\n], Compose.prototype, \"subject\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_7__.bindable)({ mode: _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.fromView })\n], Compose.prototype, \"composing\", void 0);\nCompose = __decorate([\n    (0,_custom_element_js__WEBPACK_IMPORTED_MODULE_6__.customElement)({ name: 'au-compose', template: null, containerless: true }),\n    __param(0, _platform_js__WEBPACK_IMPORTED_MODULE_4__.IPlatform),\n    __param(1, _renderer_js__WEBPACK_IMPORTED_MODULE_3__.IInstruction)\n], Compose);\n\nfunction isController(subject) {\n    return 'lockScope' in subject;\n}\n//# sourceMappingURL=compose.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy9jdXN0b20tZWxlbWVudHMvY29tcG9zZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vcmVzb3VyY2VzL2N1c3RvbS1lbGVtZW50cy9jb21wb3NlLmpzP2U5NWIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG5pbXBvcnQgeyBuZXh0SWQsIG9uUmVzb2x2ZSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBCaW5kaW5nTW9kZSB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uLy4uL2NyZWF0ZS1lbGVtZW50LmpzJztcbmltcG9ydCB7IElJbnN0cnVjdGlvbiB9IGZyb20gJy4uLy4uL3JlbmRlcmVyLmpzJztcbmltcG9ydCB7IElQbGF0Zm9ybSB9IGZyb20gJy4uLy4uL3BsYXRmb3JtLmpzJztcbmltcG9ydCB7IGdldFJlbmRlckNvbnRleHQgfSBmcm9tICcuLi8uLi90ZW1wbGF0aW5nL3JlbmRlci1jb250ZXh0LmpzJztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIEN1c3RvbUVsZW1lbnREZWZpbml0aW9uIH0gZnJvbSAnLi4vY3VzdG9tLWVsZW1lbnQuanMnO1xuaW1wb3J0IHsgYmluZGFibGUgfSBmcm9tICcuLi8uLi9iaW5kYWJsZS5qcyc7XG5mdW5jdGlvbiB0b0xvb2t1cChhY2MsIGl0ZW0pIHtcbiAgICBjb25zdCB0byA9IGl0ZW0udG87XG4gICAgaWYgKHRvICE9PSB2b2lkIDAgJiYgdG8gIT09ICdzdWJqZWN0JyAmJiB0byAhPT0gJ2NvbXBvc2luZycpIHtcbiAgICAgICAgYWNjW3RvXSA9IGl0ZW07XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG59XG5sZXQgQ29tcG9zZSA9IGNsYXNzIENvbXBvc2Uge1xuICAgIGNvbnN0cnVjdG9yKHAsIGluc3RydWN0aW9uKSB7XG4gICAgICAgIHRoaXMucCA9IHA7XG4gICAgICAgIHRoaXMuaWQgPSBuZXh0SWQoJ2F1JGNvbXBvbmVudCcpO1xuICAgICAgICB0aGlzLnN1YmplY3QgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuY29tcG9zaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmlldyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5sYXN0U3ViamVjdCA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gaW5zdHJ1Y3Rpb24uaW5zdHJ1Y3Rpb25zLnJlZHVjZSh0b0xvb2t1cCwge30pO1xuICAgIH1cbiAgICBhdHRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IHsgc3ViamVjdCwgdmlldyB9ID0gdGhpcztcbiAgICAgICAgaWYgKHZpZXcgPT09IHZvaWQgMCB8fCB0aGlzLmxhc3RTdWJqZWN0ICE9PSBzdWJqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RTdWJqZWN0ID0gc3ViamVjdDtcbiAgICAgICAgICAgIHRoaXMuY29tcG9zaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvc2Uodm9pZCAwLCBzdWJqZWN0LCBpbml0aWF0b3IsIGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb21wb3NlKHZpZXcsIHN1YmplY3QsIGluaXRpYXRvciwgZmxhZ3MpO1xuICAgIH1cbiAgICBkZXRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlYWN0aXZhdGUodGhpcy52aWV3LCBpbml0aWF0b3IsIGZsYWdzKTtcbiAgICB9XG4gICAgc3ViamVjdENoYW5nZWQobmV3VmFsdWUsIHByZXZpb3VzVmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IHsgJGNvbnRyb2xsZXIgfSA9IHRoaXM7XG4gICAgICAgIGlmICghJGNvbnRyb2xsZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0U3ViamVjdCA9PT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RTdWJqZWN0ID0gbmV3VmFsdWU7XG4gICAgICAgIHRoaXMuY29tcG9zaW5nID0gdHJ1ZTtcbiAgICAgICAgZmxhZ3MgfD0gJGNvbnRyb2xsZXIuZmxhZ3M7XG4gICAgICAgIGNvbnN0IHJldCA9IG9uUmVzb2x2ZSh0aGlzLmRlYWN0aXZhdGUodGhpcy52aWV3LCBudWxsLCBmbGFncyksICgpID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE8oZmtsZXV2ZXIpOiBoYW5kbGUgJiB0ZXN0IHJhY2UgY29uZGl0aW9uXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb3NlKHZvaWQgMCwgbmV3VmFsdWUsIG51bGwsIGZsYWdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXQuY2F0Y2goZXJyID0+IHsgdGhyb3cgZXJyOyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb3NlKHZpZXcsIHN1YmplY3QsIGluaXRpYXRvciwgZmxhZ3MpIHtcbiAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZSh2aWV3ID09PSB2b2lkIDBcbiAgICAgICAgICAgID8gb25SZXNvbHZlKHN1YmplY3QsIHJlc29sdmVkU3ViamVjdCA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZVZpZXcocmVzb2x2ZWRTdWJqZWN0LCBmbGFncyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB2aWV3LCByZXNvbHZlZFZpZXcgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZhdGUocmVzb2x2ZWRWaWV3LCBpbml0aWF0b3IsIGZsYWdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlYWN0aXZhdGUodmlldywgaW5pdGlhdG9yLCBmbGFncykge1xuICAgICAgICByZXR1cm4gdmlldyA9PT0gbnVsbCB8fCB2aWV3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2aWV3LmRlYWN0aXZhdGUoaW5pdGlhdG9yICE9PSBudWxsICYmIGluaXRpYXRvciAhPT0gdm9pZCAwID8gaW5pdGlhdG9yIDogdmlldywgdGhpcy4kY29udHJvbGxlciwgZmxhZ3MpO1xuICAgIH1cbiAgICBhY3RpdmF0ZSh2aWV3LCBpbml0aWF0b3IsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IHsgJGNvbnRyb2xsZXIgfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBvblJlc29sdmUodmlldyA9PT0gbnVsbCB8fCB2aWV3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2aWV3LmFjdGl2YXRlKGluaXRpYXRvciAhPT0gbnVsbCAmJiBpbml0aWF0b3IgIT09IHZvaWQgMCA/IGluaXRpYXRvciA6IHZpZXcsICRjb250cm9sbGVyLCBmbGFncywgJGNvbnRyb2xsZXIuc2NvcGUsICRjb250cm9sbGVyLmhvc3RTY29wZSksICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9zaW5nID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXNvbHZlVmlldyhzdWJqZWN0LCBmbGFncykge1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5wcm92aWRlVmlld0ZvcihzdWJqZWN0LCBmbGFncyk7XG4gICAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgICAgICB2aWV3LnNldExvY2F0aW9uKHRoaXMuJGNvbnRyb2xsZXIubG9jYXRpb24pO1xuICAgICAgICAgICAgdmlldy5sb2NrU2NvcGUodGhpcy4kY29udHJvbGxlci5zY29wZSk7XG4gICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBwcm92aWRlVmlld0ZvcihzdWJqZWN0LCBmbGFncykge1xuICAgICAgICBpZiAoIXN1YmplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ29udHJvbGxlcihzdWJqZWN0KSkgeyAvLyBJQ29udHJvbGxlclxuICAgICAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdjcmVhdGVWaWV3JyBpbiBzdWJqZWN0KSB7IC8vIFJlbmRlclBsYW5cbiAgICAgICAgICAgIHJldHVybiBzdWJqZWN0LmNyZWF0ZVZpZXcodGhpcy4kY29udHJvbGxlci5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2NyZWF0ZScgaW4gc3ViamVjdCkgeyAvLyBJVmlld0ZhY3RvcnlcbiAgICAgICAgICAgIHJldHVybiBzdWJqZWN0LmNyZWF0ZShmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCd0ZW1wbGF0ZScgaW4gc3ViamVjdCkgeyAvLyBSYXcgVGVtcGxhdGUgRGVmaW5pdGlvblxuICAgICAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLmdldE9yQ3JlYXRlKHN1YmplY3QpO1xuICAgICAgICAgICAgcmV0dXJuIGdldFJlbmRlckNvbnRleHQoZGVmaW5pdGlvbiwgdGhpcy4kY29udHJvbGxlci5jb250ZXh0KS5nZXRWaWV3RmFjdG9yeSgpLmNyZWF0ZShmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29uc3RydWN0YWJsZSAoQ3VzdG9tIEVsZW1lbnQgQ29uc3RydWN0b3IpXG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KHRoaXMucCwgc3ViamVjdCwgdGhpcy5wcm9wZXJ0aWVzLCB0aGlzLiRjb250cm9sbGVyLmhvc3QuY2hpbGROb2RlcykuY3JlYXRlVmlldyh0aGlzLiRjb250cm9sbGVyLmNvbnRleHQpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMudmlldykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy52aWV3ID0gKHZvaWQgMCk7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2NlcHQodmlzaXRvcikpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZVxuXSwgQ29tcG9zZS5wcm90b3R5cGUsIFwic3ViamVjdFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGUoeyBtb2RlOiBCaW5kaW5nTW9kZS5mcm9tVmlldyB9KVxuXSwgQ29tcG9zZS5wcm90b3R5cGUsIFwiY29tcG9zaW5nXCIsIHZvaWQgMCk7XG5Db21wb3NlID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCh7IG5hbWU6ICdhdS1jb21wb3NlJywgdGVtcGxhdGU6IG51bGwsIGNvbnRhaW5lcmxlc3M6IHRydWUgfSksXG4gICAgX19wYXJhbSgwLCBJUGxhdGZvcm0pLFxuICAgIF9fcGFyYW0oMSwgSUluc3RydWN0aW9uKVxuXSwgQ29tcG9zZSk7XG5leHBvcnQgeyBDb21wb3NlIH07XG5mdW5jdGlvbiBpc0NvbnRyb2xsZXIoc3ViamVjdCkge1xuICAgIHJldHVybiAnbG9ja1Njb3BlJyBpbiBzdWJqZWN0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9zZS5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/compose.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/flags.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/flags.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FrequentMutations\": () => (/* binding */ FrequentMutations),\n/* harmony export */   \"ObserveShallow\": () => (/* binding */ ObserveShallow)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _templating_view_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../templating/view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js\");\n/* harmony import */ var _custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n\n\n\n\nclass FlagsTemplateController {\n    constructor(factory, location, flags) {\n        this.factory = factory;\n        this.flags = flags;\n        this.id = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.nextId)('au$component');\n        this.view = this.factory.create().setLocation(location);\n    }\n    attaching(initiator, parent, flags) {\n        const { $controller } = this;\n        return this.view.activate(initiator, $controller, flags | this.flags, $controller.scope, $controller.hostScope);\n    }\n    detaching(initiator, parent, flags) {\n        return this.view.deactivate(initiator, this.$controller, flags);\n    }\n    dispose() {\n        this.view.dispose();\n        this.view = (void 0);\n    }\n    accept(visitor) {\n        var _a;\n        if (((_a = this.view) === null || _a === void 0 ? void 0 : _a.accept(visitor)) === true) {\n            return true;\n        }\n    }\n}\nclass FrequentMutations extends FlagsTemplateController {\n    constructor(factory, location) {\n        super(factory, location, 512 /* persistentTargetObserverQueue */);\n    }\n}\n/**\n * @internal\n */\nFrequentMutations.inject = [_templating_view_js__WEBPACK_IMPORTED_MODULE_2__.IViewFactory, _dom_js__WEBPACK_IMPORTED_MODULE_1__.IRenderLocation];\nclass ObserveShallow extends FlagsTemplateController {\n    constructor(factory, location) {\n        super(factory, location, 128 /* observeLeafPropertiesOnly */);\n    }\n}\n/**\n * @internal\n */\nObserveShallow.inject = [_templating_view_js__WEBPACK_IMPORTED_MODULE_2__.IViewFactory, _dom_js__WEBPACK_IMPORTED_MODULE_1__.IRenderLocation];\n(0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.templateController)('frequent-mutations')(FrequentMutations);\n(0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.templateController)('observe-shallow')(ObserveShallow);\n//# sourceMappingURL=flags.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9mbGFncy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vcmVzb3VyY2VzL3RlbXBsYXRlLWNvbnRyb2xsZXJzL2ZsYWdzLmpzP2I4ZGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbmV4dElkIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IElSZW5kZXJMb2NhdGlvbiB9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBJVmlld0ZhY3RvcnkgfSBmcm9tICcuLi8uLi90ZW1wbGF0aW5nL3ZpZXcuanMnO1xuaW1wb3J0IHsgdGVtcGxhdGVDb250cm9sbGVyIH0gZnJvbSAnLi4vY3VzdG9tLWF0dHJpYnV0ZS5qcyc7XG5jbGFzcyBGbGFnc1RlbXBsYXRlQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IoZmFjdG9yeSwgbG9jYXRpb24sIGZsYWdzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgdGhpcy5pZCA9IG5leHRJZCgnYXUkY29tcG9uZW50Jyk7XG4gICAgICAgIHRoaXMudmlldyA9IHRoaXMuZmFjdG9yeS5jcmVhdGUoKS5zZXRMb2NhdGlvbihsb2NhdGlvbik7XG4gICAgfVxuICAgIGF0dGFjaGluZyhpbml0aWF0b3IsIHBhcmVudCwgZmxhZ3MpIHtcbiAgICAgICAgY29uc3QgeyAkY29udHJvbGxlciB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5hY3RpdmF0ZShpbml0aWF0b3IsICRjb250cm9sbGVyLCBmbGFncyB8IHRoaXMuZmxhZ3MsICRjb250cm9sbGVyLnNjb3BlLCAkY29udHJvbGxlci5ob3N0U2NvcGUpO1xuICAgIH1cbiAgICBkZXRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZGVhY3RpdmF0ZShpbml0aWF0b3IsIHRoaXMuJGNvbnRyb2xsZXIsIGZsYWdzKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy52aWV3LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy52aWV3ID0gKHZvaWQgMCk7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2NlcHQodmlzaXRvcikpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBGcmVxdWVudE11dGF0aW9ucyBleHRlbmRzIEZsYWdzVGVtcGxhdGVDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihmYWN0b3J5LCBsb2NhdGlvbikge1xuICAgICAgICBzdXBlcihmYWN0b3J5LCBsb2NhdGlvbiwgNTEyIC8qIHBlcnNpc3RlbnRUYXJnZXRPYnNlcnZlclF1ZXVlICovKTtcbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5GcmVxdWVudE11dGF0aW9ucy5pbmplY3QgPSBbSVZpZXdGYWN0b3J5LCBJUmVuZGVyTG9jYXRpb25dO1xuZXhwb3J0IGNsYXNzIE9ic2VydmVTaGFsbG93IGV4dGVuZHMgRmxhZ3NUZW1wbGF0ZUNvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKGZhY3RvcnksIGxvY2F0aW9uKSB7XG4gICAgICAgIHN1cGVyKGZhY3RvcnksIGxvY2F0aW9uLCAxMjggLyogb2JzZXJ2ZUxlYWZQcm9wZXJ0aWVzT25seSAqLyk7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuT2JzZXJ2ZVNoYWxsb3cuaW5qZWN0ID0gW0lWaWV3RmFjdG9yeSwgSVJlbmRlckxvY2F0aW9uXTtcbnRlbXBsYXRlQ29udHJvbGxlcignZnJlcXVlbnQtbXV0YXRpb25zJykoRnJlcXVlbnRNdXRhdGlvbnMpO1xudGVtcGxhdGVDb250cm9sbGVyKCdvYnNlcnZlLXNoYWxsb3cnKShPYnNlcnZlU2hhbGxvdyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mbGFncy5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/flags.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/if.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/if.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"If\": () => (/* binding */ If),\n/* harmony export */   \"Else\": () => (/* binding */ Else)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _templating_view_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../templating/view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js\");\n/* harmony import */ var _custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\n/* harmony import */ var _app_root_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../app-root.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/app-root.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\n\nlet If = class If {\n    constructor(ifFactory, location, work) {\n        this.ifFactory = ifFactory;\n        this.location = location;\n        this.work = work;\n        this.id = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.nextId)('au$component');\n        this.elseFactory = void 0;\n        this.elseView = void 0;\n        this.ifView = void 0;\n        this.view = void 0;\n        this.value = false;\n        this.pending = void 0;\n        this.wantsDeactivate = false;\n    }\n    attaching(initiator, parent, flags) {\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.pending, () => {\n            var _a;\n            this.pending = void 0;\n            // Promise return values from user VM hooks are awaited by the initiator\n            void ((_a = (this.view = this.updateView(this.value, flags))) === null || _a === void 0 ? void 0 : _a.activate(initiator, this.$controller, flags, this.$controller.scope, this.$controller.hostScope));\n        });\n    }\n    detaching(initiator, parent, flags) {\n        this.wantsDeactivate = true;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.pending, () => {\n            var _a;\n            this.wantsDeactivate = false;\n            this.pending = void 0;\n            // Promise return values from user VM hooks are awaited by the initiator\n            void ((_a = this.view) === null || _a === void 0 ? void 0 : _a.deactivate(initiator, this.$controller, flags));\n        });\n    }\n    valueChanged(newValue, oldValue, flags) {\n        if (!this.$controller.isActive) {\n            return;\n        }\n        this.pending = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.pending, () => {\n            return this.swap(flags);\n        });\n    }\n    swap(flags) {\n        var _a;\n        if (this.view === this.updateView(this.value, flags)) {\n            return;\n        }\n        this.work.start();\n        const ctrl = this.$controller;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)((_a = this.view) === null || _a === void 0 ? void 0 : _a.deactivate(this.view, ctrl, flags), () => {\n            // return early if detaching was called during the swap\n            if (this.wantsDeactivate) {\n                return;\n            }\n            // value may have changed during deactivate\n            const nextView = this.view = this.updateView(this.value, flags);\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(nextView === null || nextView === void 0 ? void 0 : nextView.activate(nextView, ctrl, flags, ctrl.scope, ctrl.hostScope), () => {\n                this.work.finish();\n                // only null the pending promise if nothing changed since the activation start\n                if (this.view === this.updateView(this.value, flags)) {\n                    this.pending = void 0;\n                }\n            });\n        });\n    }\n    /** @internal */\n    updateView(value, flags) {\n        if (value) {\n            return this.ifView = this.ensureView(this.ifView, this.ifFactory, flags);\n        }\n        if (this.elseFactory !== void 0) {\n            return this.elseView = this.ensureView(this.elseView, this.elseFactory, flags);\n        }\n        return void 0;\n    }\n    /** @internal */\n    ensureView(view, factory, flags) {\n        if (view === void 0) {\n            view = factory.create(flags);\n            view.setLocation(this.location);\n        }\n        return view;\n    }\n    dispose() {\n        var _a, _b;\n        (_a = this.ifView) === null || _a === void 0 ? void 0 : _a.dispose();\n        this.ifView = void 0;\n        (_b = this.elseView) === null || _b === void 0 ? void 0 : _b.dispose();\n        this.elseView = void 0;\n        this.view = void 0;\n    }\n    accept(visitor) {\n        var _a;\n        if (((_a = this.view) === null || _a === void 0 ? void 0 : _a.accept(visitor)) === true) {\n            return true;\n        }\n    }\n};\n__decorate([\n    _bindable_js__WEBPACK_IMPORTED_MODULE_4__.bindable\n], If.prototype, \"value\", void 0);\nIf = __decorate([\n    (0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.templateController)('if'),\n    __param(0, _templating_view_js__WEBPACK_IMPORTED_MODULE_2__.IViewFactory),\n    __param(1, _dom_js__WEBPACK_IMPORTED_MODULE_1__.IRenderLocation),\n    __param(2, _app_root_js__WEBPACK_IMPORTED_MODULE_5__.IWorkTracker)\n], If);\n\nlet Else = class Else {\n    constructor(factory) {\n        this.factory = factory;\n        this.id = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.nextId)('au$component');\n    }\n    link(flags, parentContext, controller, _childController, _target, _instruction) {\n        const children = controller.children;\n        const ifBehavior = children[children.length - 1];\n        if (ifBehavior instanceof If) {\n            ifBehavior.elseFactory = this.factory;\n        }\n        else if (ifBehavior.viewModel instanceof If) {\n            ifBehavior.viewModel.elseFactory = this.factory;\n        }\n        else {\n            throw new Error(`Unsupported IfBehavior`); // TODO: create error code\n        }\n    }\n};\nElse = __decorate([\n    (0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.templateController)({ name: 'else' }),\n    __param(0, _templating_view_js__WEBPACK_IMPORTED_MODULE_2__.IViewFactory)\n], Else);\n\n//# sourceMappingURL=if.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9pZi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vcmVzb3VyY2VzL3RlbXBsYXRlLWNvbnRyb2xsZXJzL2lmLmpzPzVmYjYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG5pbXBvcnQgeyBuZXh0SWQsIG9uUmVzb2x2ZSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRpb24gfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHsgSVZpZXdGYWN0b3J5IH0gZnJvbSAnLi4vLi4vdGVtcGxhdGluZy92aWV3LmpzJztcbmltcG9ydCB7IHRlbXBsYXRlQ29udHJvbGxlciB9IGZyb20gJy4uL2N1c3RvbS1hdHRyaWJ1dGUuanMnO1xuaW1wb3J0IHsgYmluZGFibGUgfSBmcm9tICcuLi8uLi9iaW5kYWJsZS5qcyc7XG5pbXBvcnQgeyBJV29ya1RyYWNrZXIgfSBmcm9tICcuLi8uLi9hcHAtcm9vdC5qcyc7XG5sZXQgSWYgPSBjbGFzcyBJZiB7XG4gICAgY29uc3RydWN0b3IoaWZGYWN0b3J5LCBsb2NhdGlvbiwgd29yaykge1xuICAgICAgICB0aGlzLmlmRmFjdG9yeSA9IGlmRmFjdG9yeTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICB0aGlzLmlkID0gbmV4dElkKCdhdSRjb21wb25lbnQnKTtcbiAgICAgICAgdGhpcy5lbHNlRmFjdG9yeSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5lbHNlVmlldyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5pZlZpZXcgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMudmlldyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBlbmRpbmcgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMud2FudHNEZWFjdGl2YXRlID0gZmFsc2U7XG4gICAgfVxuICAgIGF0dGFjaGluZyhpbml0aWF0b3IsIHBhcmVudCwgZmxhZ3MpIHtcbiAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZSh0aGlzLnBlbmRpbmcsICgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IHZvaWQgMDtcbiAgICAgICAgICAgIC8vIFByb21pc2UgcmV0dXJuIHZhbHVlcyBmcm9tIHVzZXIgVk0gaG9va3MgYXJlIGF3YWl0ZWQgYnkgdGhlIGluaXRpYXRvclxuICAgICAgICAgICAgdm9pZCAoKF9hID0gKHRoaXMudmlldyA9IHRoaXMudXBkYXRlVmlldyh0aGlzLnZhbHVlLCBmbGFncykpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWN0aXZhdGUoaW5pdGlhdG9yLCB0aGlzLiRjb250cm9sbGVyLCBmbGFncywgdGhpcy4kY29udHJvbGxlci5zY29wZSwgdGhpcy4kY29udHJvbGxlci5ob3N0U2NvcGUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRldGFjaGluZyhpbml0aWF0b3IsIHBhcmVudCwgZmxhZ3MpIHtcbiAgICAgICAgdGhpcy53YW50c0RlYWN0aXZhdGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gb25SZXNvbHZlKHRoaXMucGVuZGluZywgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdGhpcy53YW50c0RlYWN0aXZhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IHZvaWQgMDtcbiAgICAgICAgICAgIC8vIFByb21pc2UgcmV0dXJuIHZhbHVlcyBmcm9tIHVzZXIgVk0gaG9va3MgYXJlIGF3YWl0ZWQgYnkgdGhlIGluaXRpYXRvclxuICAgICAgICAgICAgdm9pZCAoKF9hID0gdGhpcy52aWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVhY3RpdmF0ZShpbml0aWF0b3IsIHRoaXMuJGNvbnRyb2xsZXIsIGZsYWdzKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YWx1ZUNoYW5nZWQobmV3VmFsdWUsIG9sZFZhbHVlLCBmbGFncykge1xuICAgICAgICBpZiAoIXRoaXMuJGNvbnRyb2xsZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSBvblJlc29sdmUodGhpcy5wZW5kaW5nLCAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zd2FwKGZsYWdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN3YXAoZmxhZ3MpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy52aWV3ID09PSB0aGlzLnVwZGF0ZVZpZXcodGhpcy52YWx1ZSwgZmxhZ3MpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53b3JrLnN0YXJ0KCk7XG4gICAgICAgIGNvbnN0IGN0cmwgPSB0aGlzLiRjb250cm9sbGVyO1xuICAgICAgICByZXR1cm4gb25SZXNvbHZlKChfYSA9IHRoaXMudmlldykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlYWN0aXZhdGUodGhpcy52aWV3LCBjdHJsLCBmbGFncyksICgpID0+IHtcbiAgICAgICAgICAgIC8vIHJldHVybiBlYXJseSBpZiBkZXRhY2hpbmcgd2FzIGNhbGxlZCBkdXJpbmcgdGhlIHN3YXBcbiAgICAgICAgICAgIGlmICh0aGlzLndhbnRzRGVhY3RpdmF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHZhbHVlIG1heSBoYXZlIGNoYW5nZWQgZHVyaW5nIGRlYWN0aXZhdGVcbiAgICAgICAgICAgIGNvbnN0IG5leHRWaWV3ID0gdGhpcy52aWV3ID0gdGhpcy51cGRhdGVWaWV3KHRoaXMudmFsdWUsIGZsYWdzKTtcbiAgICAgICAgICAgIHJldHVybiBvblJlc29sdmUobmV4dFZpZXcgPT09IG51bGwgfHwgbmV4dFZpZXcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5leHRWaWV3LmFjdGl2YXRlKG5leHRWaWV3LCBjdHJsLCBmbGFncywgY3RybC5zY29wZSwgY3RybC5ob3N0U2NvcGUpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JrLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgbnVsbCB0aGUgcGVuZGluZyBwcm9taXNlIGlmIG5vdGhpbmcgY2hhbmdlZCBzaW5jZSB0aGUgYWN0aXZhdGlvbiBzdGFydFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXcgPT09IHRoaXMudXBkYXRlVmlldyh0aGlzLnZhbHVlLCBmbGFncykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHVwZGF0ZVZpZXcodmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWZWaWV3ID0gdGhpcy5lbnN1cmVWaWV3KHRoaXMuaWZWaWV3LCB0aGlzLmlmRmFjdG9yeSwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVsc2VGYWN0b3J5ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsc2VWaWV3ID0gdGhpcy5lbnN1cmVWaWV3KHRoaXMuZWxzZVZpZXcsIHRoaXMuZWxzZUZhY3RvcnksIGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgZW5zdXJlVmlldyh2aWV3LCBmYWN0b3J5LCBmbGFncykge1xuICAgICAgICBpZiAodmlldyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB2aWV3ID0gZmFjdG9yeS5jcmVhdGUoZmxhZ3MpO1xuICAgICAgICAgICAgdmlldy5zZXRMb2NhdGlvbih0aGlzLmxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9hID0gdGhpcy5pZlZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuaWZWaWV3ID0gdm9pZCAwO1xuICAgICAgICAoX2IgPSB0aGlzLmVsc2VWaWV3KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmVsc2VWaWV3ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnZpZXcgPSB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2NlcHQodmlzaXRvcikpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZVxuXSwgSWYucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG5JZiA9IF9fZGVjb3JhdGUoW1xuICAgIHRlbXBsYXRlQ29udHJvbGxlcignaWYnKSxcbiAgICBfX3BhcmFtKDAsIElWaWV3RmFjdG9yeSksXG4gICAgX19wYXJhbSgxLCBJUmVuZGVyTG9jYXRpb24pLFxuICAgIF9fcGFyYW0oMiwgSVdvcmtUcmFja2VyKVxuXSwgSWYpO1xuZXhwb3J0IHsgSWYgfTtcbmxldCBFbHNlID0gY2xhc3MgRWxzZSB7XG4gICAgY29uc3RydWN0b3IoZmFjdG9yeSkge1xuICAgICAgICB0aGlzLmZhY3RvcnkgPSBmYWN0b3J5O1xuICAgICAgICB0aGlzLmlkID0gbmV4dElkKCdhdSRjb21wb25lbnQnKTtcbiAgICB9XG4gICAgbGluayhmbGFncywgcGFyZW50Q29udGV4dCwgY29udHJvbGxlciwgX2NoaWxkQ29udHJvbGxlciwgX3RhcmdldCwgX2luc3RydWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gY29udHJvbGxlci5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgaWZCZWhhdmlvciA9IGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoaWZCZWhhdmlvciBpbnN0YW5jZW9mIElmKSB7XG4gICAgICAgICAgICBpZkJlaGF2aW9yLmVsc2VGYWN0b3J5ID0gdGhpcy5mYWN0b3J5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlmQmVoYXZpb3Iudmlld01vZGVsIGluc3RhbmNlb2YgSWYpIHtcbiAgICAgICAgICAgIGlmQmVoYXZpb3Iudmlld01vZGVsLmVsc2VGYWN0b3J5ID0gdGhpcy5mYWN0b3J5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBJZkJlaGF2aW9yYCk7IC8vIFRPRE86IGNyZWF0ZSBlcnJvciBjb2RlXG4gICAgICAgIH1cbiAgICB9XG59O1xuRWxzZSA9IF9fZGVjb3JhdGUoW1xuICAgIHRlbXBsYXRlQ29udHJvbGxlcih7IG5hbWU6ICdlbHNlJyB9KSxcbiAgICBfX3BhcmFtKDAsIElWaWV3RmFjdG9yeSlcbl0sIEVsc2UpO1xuZXhwb3J0IHsgRWxzZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWYuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/if.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/portal.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/portal.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Portal\": () => (/* binding */ Portal)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _templating_view_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../templating/view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js\");\n/* harmony import */ var _custom_attribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\n\nlet Portal = class Portal {\n    constructor(factory, originalLoc, p) {\n        this.factory = factory;\n        this.originalLoc = originalLoc;\n        this.p = p;\n        this.id = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.nextId)('au$component');\n        this.strict = false;\n        // to make the shape of this object consistent.\n        // todo: is this necessary\n        this.currentTarget = p.document.createElement('div');\n        this.view = this.factory.create();\n        (0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.setEffectiveParentNode)(this.view.nodes, originalLoc);\n    }\n    attaching(initiator, parent, flags) {\n        if (this.callbackContext == null) {\n            this.callbackContext = this.$controller.scope.bindingContext;\n        }\n        const newTarget = this.currentTarget = this.resolveTarget();\n        this.view.setHost(newTarget);\n        return this.$activating(initiator, newTarget, flags);\n    }\n    detaching(initiator, parent, flags) {\n        return this.$deactivating(initiator, this.currentTarget, flags);\n    }\n    targetChanged() {\n        const { $controller } = this;\n        if (!$controller.isActive) {\n            return;\n        }\n        const oldTarget = this.currentTarget;\n        const newTarget = this.currentTarget = this.resolveTarget();\n        if (oldTarget === newTarget) {\n            return;\n        }\n        this.view.setHost(newTarget);\n        // TODO(fkleuver): fix and test possible race condition\n        const ret = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.$deactivating(null, newTarget, $controller.flags), () => {\n            return this.$activating(null, newTarget, $controller.flags);\n        });\n        if (ret instanceof Promise) {\n            ret.catch(err => { throw err; });\n        }\n    }\n    $activating(initiator, target, flags) {\n        const { activating, callbackContext, view } = this;\n        view.setHost(target);\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(activating === null || activating === void 0 ? void 0 : activating.call(callbackContext, target, view), () => {\n            return this.activate(initiator, target, flags);\n        });\n    }\n    activate(initiator, target, flags) {\n        const { $controller, view } = this;\n        if (initiator === null) {\n            view.nodes.appendTo(target);\n        }\n        else {\n            // TODO(fkleuver): fix and test possible race condition\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(view.activate(initiator !== null && initiator !== void 0 ? initiator : view, $controller, flags, $controller.scope), () => {\n                return this.$activated(target);\n            });\n        }\n        return this.$activated(target);\n    }\n    $activated(target) {\n        const { activated, callbackContext, view } = this;\n        return activated === null || activated === void 0 ? void 0 : activated.call(callbackContext, target, view);\n    }\n    $deactivating(initiator, target, flags) {\n        const { deactivating, callbackContext, view } = this;\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(deactivating === null || deactivating === void 0 ? void 0 : deactivating.call(callbackContext, target, view), () => {\n            return this.deactivate(initiator, target, flags);\n        });\n    }\n    deactivate(initiator, target, flags) {\n        const { $controller, view } = this;\n        if (initiator === null) {\n            view.nodes.remove();\n        }\n        else {\n            return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(view.deactivate(initiator, $controller, flags), () => {\n                return this.$deactivated(target);\n            });\n        }\n        return this.$deactivated(target);\n    }\n    $deactivated(target) {\n        const { deactivated, callbackContext, view } = this;\n        return deactivated === null || deactivated === void 0 ? void 0 : deactivated.call(callbackContext, target, view);\n    }\n    resolveTarget() {\n        const p = this.p;\n        // with a $ in front to make it less confusing/error prone\n        const $document = p.document;\n        let target = this.target;\n        let context = this.renderContext;\n        if (target === '') {\n            if (this.strict) {\n                throw new Error('Empty querySelector');\n            }\n            return $document.body;\n        }\n        if (typeof target === 'string') {\n            let queryContext = $document;\n            if (typeof context === 'string') {\n                context = $document.querySelector(context);\n            }\n            if (context instanceof p.Node) {\n                queryContext = context;\n            }\n            target = queryContext.querySelector(target);\n        }\n        if (target instanceof p.Node) {\n            return target;\n        }\n        if (target == null) {\n            if (this.strict) {\n                throw new Error('Portal target not found');\n            }\n            return $document.body;\n        }\n        return target;\n    }\n    dispose() {\n        this.view.dispose();\n        this.view = (void 0);\n        this.callbackContext = null;\n    }\n    accept(visitor) {\n        var _a;\n        if (((_a = this.view) === null || _a === void 0 ? void 0 : _a.accept(visitor)) === true) {\n            return true;\n        }\n    }\n};\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable)({ primary: true })\n], Portal.prototype, \"target\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable)({ callback: 'targetChanged' })\n], Portal.prototype, \"renderContext\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable)()\n], Portal.prototype, \"strict\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable)()\n], Portal.prototype, \"deactivating\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable)()\n], Portal.prototype, \"activating\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable)()\n], Portal.prototype, \"deactivated\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable)()\n], Portal.prototype, \"activated\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable)()\n], Portal.prototype, \"callbackContext\", void 0);\nPortal = __decorate([\n    (0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_4__.templateController)('portal'),\n    __param(0, _templating_view_js__WEBPACK_IMPORTED_MODULE_3__.IViewFactory),\n    __param(1, _dom_js__WEBPACK_IMPORTED_MODULE_1__.IRenderLocation),\n    __param(2, _platform_js__WEBPACK_IMPORTED_MODULE_2__.IPlatform)\n], Portal);\n\n//# sourceMappingURL=portal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9wb3J0YWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9wb3J0YWwuanM/ODk1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19wYXJhbSA9ICh0aGlzICYmIHRoaXMuX19wYXJhbSkgfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufTtcbmltcG9ydCB7IG5leHRJZCwgb25SZXNvbHZlIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IElSZW5kZXJMb2NhdGlvbiwgc2V0RWZmZWN0aXZlUGFyZW50Tm9kZSB9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBJUGxhdGZvcm0gfSBmcm9tICcuLi8uLi9wbGF0Zm9ybS5qcyc7XG5pbXBvcnQgeyBJVmlld0ZhY3RvcnkgfSBmcm9tICcuLi8uLi90ZW1wbGF0aW5nL3ZpZXcuanMnO1xuaW1wb3J0IHsgdGVtcGxhdGVDb250cm9sbGVyIH0gZnJvbSAnLi4vY3VzdG9tLWF0dHJpYnV0ZS5qcyc7XG5pbXBvcnQgeyBiaW5kYWJsZSB9IGZyb20gJy4uLy4uL2JpbmRhYmxlLmpzJztcbmxldCBQb3J0YWwgPSBjbGFzcyBQb3J0YWwge1xuICAgIGNvbnN0cnVjdG9yKGZhY3RvcnksIG9yaWdpbmFsTG9jLCBwKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxMb2MgPSBvcmlnaW5hbExvYztcbiAgICAgICAgdGhpcy5wID0gcDtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRJZCgnYXUkY29tcG9uZW50Jyk7XG4gICAgICAgIHRoaXMuc3RyaWN0ID0gZmFsc2U7XG4gICAgICAgIC8vIHRvIG1ha2UgdGhlIHNoYXBlIG9mIHRoaXMgb2JqZWN0IGNvbnNpc3RlbnQuXG4gICAgICAgIC8vIHRvZG86IGlzIHRoaXMgbmVjZXNzYXJ5XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IHAuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMudmlldyA9IHRoaXMuZmFjdG9yeS5jcmVhdGUoKTtcbiAgICAgICAgc2V0RWZmZWN0aXZlUGFyZW50Tm9kZSh0aGlzLnZpZXcubm9kZXMsIG9yaWdpbmFsTG9jKTtcbiAgICB9XG4gICAgYXR0YWNoaW5nKGluaXRpYXRvciwgcGFyZW50LCBmbGFncykge1xuICAgICAgICBpZiAodGhpcy5jYWxsYmFja0NvbnRleHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja0NvbnRleHQgPSB0aGlzLiRjb250cm9sbGVyLnNjb3BlLmJpbmRpbmdDb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1RhcmdldCA9IHRoaXMuY3VycmVudFRhcmdldCA9IHRoaXMucmVzb2x2ZVRhcmdldCgpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0SG9zdChuZXdUYXJnZXQpO1xuICAgICAgICByZXR1cm4gdGhpcy4kYWN0aXZhdGluZyhpbml0aWF0b3IsIG5ld1RhcmdldCwgZmxhZ3MpO1xuICAgIH1cbiAgICBkZXRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRkZWFjdGl2YXRpbmcoaW5pdGlhdG9yLCB0aGlzLmN1cnJlbnRUYXJnZXQsIGZsYWdzKTtcbiAgICB9XG4gICAgdGFyZ2V0Q2hhbmdlZCgpIHtcbiAgICAgICAgY29uc3QgeyAkY29udHJvbGxlciB9ID0gdGhpcztcbiAgICAgICAgaWYgKCEkY29udHJvbGxlci5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9sZFRhcmdldCA9IHRoaXMuY3VycmVudFRhcmdldDtcbiAgICAgICAgY29uc3QgbmV3VGFyZ2V0ID0gdGhpcy5jdXJyZW50VGFyZ2V0ID0gdGhpcy5yZXNvbHZlVGFyZ2V0KCk7XG4gICAgICAgIGlmIChvbGRUYXJnZXQgPT09IG5ld1RhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlldy5zZXRIb3N0KG5ld1RhcmdldCk7XG4gICAgICAgIC8vIFRPRE8oZmtsZXV2ZXIpOiBmaXggYW5kIHRlc3QgcG9zc2libGUgcmFjZSBjb25kaXRpb25cbiAgICAgICAgY29uc3QgcmV0ID0gb25SZXNvbHZlKHRoaXMuJGRlYWN0aXZhdGluZyhudWxsLCBuZXdUYXJnZXQsICRjb250cm9sbGVyLmZsYWdzKSwgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGFjdGl2YXRpbmcobnVsbCwgbmV3VGFyZ2V0LCAkY29udHJvbGxlci5mbGFncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0LmNhdGNoKGVyciA9PiB7IHRocm93IGVycjsgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgJGFjdGl2YXRpbmcoaW5pdGlhdG9yLCB0YXJnZXQsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IHsgYWN0aXZhdGluZywgY2FsbGJhY2tDb250ZXh0LCB2aWV3IH0gPSB0aGlzO1xuICAgICAgICB2aWV3LnNldEhvc3QodGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZShhY3RpdmF0aW5nID09PSBudWxsIHx8IGFjdGl2YXRpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFjdGl2YXRpbmcuY2FsbChjYWxsYmFja0NvbnRleHQsIHRhcmdldCwgdmlldyksICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGl2YXRlKGluaXRpYXRvciwgdGFyZ2V0LCBmbGFncyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhY3RpdmF0ZShpbml0aWF0b3IsIHRhcmdldCwgZmxhZ3MpIHtcbiAgICAgICAgY29uc3QgeyAkY29udHJvbGxlciwgdmlldyB9ID0gdGhpcztcbiAgICAgICAgaWYgKGluaXRpYXRvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdmlldy5ub2Rlcy5hcHBlbmRUbyh0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyhma2xldXZlcik6IGZpeCBhbmQgdGVzdCBwb3NzaWJsZSByYWNlIGNvbmRpdGlvblxuICAgICAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZSh2aWV3LmFjdGl2YXRlKGluaXRpYXRvciAhPT0gbnVsbCAmJiBpbml0aWF0b3IgIT09IHZvaWQgMCA/IGluaXRpYXRvciA6IHZpZXcsICRjb250cm9sbGVyLCBmbGFncywgJGNvbnRyb2xsZXIuc2NvcGUpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGFjdGl2YXRlZCh0YXJnZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuJGFjdGl2YXRlZCh0YXJnZXQpO1xuICAgIH1cbiAgICAkYWN0aXZhdGVkKHRhcmdldCkge1xuICAgICAgICBjb25zdCB7IGFjdGl2YXRlZCwgY2FsbGJhY2tDb250ZXh0LCB2aWV3IH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gYWN0aXZhdGVkID09PSBudWxsIHx8IGFjdGl2YXRlZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWN0aXZhdGVkLmNhbGwoY2FsbGJhY2tDb250ZXh0LCB0YXJnZXQsIHZpZXcpO1xuICAgIH1cbiAgICAkZGVhY3RpdmF0aW5nKGluaXRpYXRvciwgdGFyZ2V0LCBmbGFncykge1xuICAgICAgICBjb25zdCB7IGRlYWN0aXZhdGluZywgY2FsbGJhY2tDb250ZXh0LCB2aWV3IH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gb25SZXNvbHZlKGRlYWN0aXZhdGluZyA9PT0gbnVsbCB8fCBkZWFjdGl2YXRpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlYWN0aXZhdGluZy5jYWxsKGNhbGxiYWNrQ29udGV4dCwgdGFyZ2V0LCB2aWV3KSwgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVhY3RpdmF0ZShpbml0aWF0b3IsIHRhcmdldCwgZmxhZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVhY3RpdmF0ZShpbml0aWF0b3IsIHRhcmdldCwgZmxhZ3MpIHtcbiAgICAgICAgY29uc3QgeyAkY29udHJvbGxlciwgdmlldyB9ID0gdGhpcztcbiAgICAgICAgaWYgKGluaXRpYXRvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdmlldy5ub2Rlcy5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvblJlc29sdmUodmlldy5kZWFjdGl2YXRlKGluaXRpYXRvciwgJGNvbnRyb2xsZXIsIGZsYWdzKSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRkZWFjdGl2YXRlZCh0YXJnZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuJGRlYWN0aXZhdGVkKHRhcmdldCk7XG4gICAgfVxuICAgICRkZWFjdGl2YXRlZCh0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgeyBkZWFjdGl2YXRlZCwgY2FsbGJhY2tDb250ZXh0LCB2aWV3IH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gZGVhY3RpdmF0ZWQgPT09IG51bGwgfHwgZGVhY3RpdmF0ZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlYWN0aXZhdGVkLmNhbGwoY2FsbGJhY2tDb250ZXh0LCB0YXJnZXQsIHZpZXcpO1xuICAgIH1cbiAgICByZXNvbHZlVGFyZ2V0KCkge1xuICAgICAgICBjb25zdCBwID0gdGhpcy5wO1xuICAgICAgICAvLyB3aXRoIGEgJCBpbiBmcm9udCB0byBtYWtlIGl0IGxlc3MgY29uZnVzaW5nL2Vycm9yIHByb25lXG4gICAgICAgIGNvbnN0ICRkb2N1bWVudCA9IHAuZG9jdW1lbnQ7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnRhcmdldDtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLnJlbmRlckNvbnRleHQ7XG4gICAgICAgIGlmICh0YXJnZXQgPT09ICcnKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJpY3QpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtcHR5IHF1ZXJ5U2VsZWN0b3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGxldCBxdWVyeUNvbnRleHQgPSAkZG9jdW1lbnQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9ICRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRleHQgaW5zdGFuY2VvZiBwLk5vZGUpIHtcbiAgICAgICAgICAgICAgICBxdWVyeUNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFyZ2V0ID0gcXVlcnlDb250ZXh0LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgcC5Ob2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQb3J0YWwgdGFyZ2V0IG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICRkb2N1bWVudC5ib2R5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMudmlldy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudmlldyA9ICh2b2lkIDApO1xuICAgICAgICB0aGlzLmNhbGxiYWNrQ29udGV4dCA9IG51bGw7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2NlcHQodmlzaXRvcikpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZSh7IHByaW1hcnk6IHRydWUgfSlcbl0sIFBvcnRhbC5wcm90b3R5cGUsIFwidGFyZ2V0XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZSh7IGNhbGxiYWNrOiAndGFyZ2V0Q2hhbmdlZCcgfSlcbl0sIFBvcnRhbC5wcm90b3R5cGUsIFwicmVuZGVyQ29udGV4dFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGUoKVxuXSwgUG9ydGFsLnByb3RvdHlwZSwgXCJzdHJpY3RcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGJpbmRhYmxlKClcbl0sIFBvcnRhbC5wcm90b3R5cGUsIFwiZGVhY3RpdmF0aW5nXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZSgpXG5dLCBQb3J0YWwucHJvdG90eXBlLCBcImFjdGl2YXRpbmdcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGJpbmRhYmxlKClcbl0sIFBvcnRhbC5wcm90b3R5cGUsIFwiZGVhY3RpdmF0ZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGJpbmRhYmxlKClcbl0sIFBvcnRhbC5wcm90b3R5cGUsIFwiYWN0aXZhdGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZSgpXG5dLCBQb3J0YWwucHJvdG90eXBlLCBcImNhbGxiYWNrQ29udGV4dFwiLCB2b2lkIDApO1xuUG9ydGFsID0gX19kZWNvcmF0ZShbXG4gICAgdGVtcGxhdGVDb250cm9sbGVyKCdwb3J0YWwnKSxcbiAgICBfX3BhcmFtKDAsIElWaWV3RmFjdG9yeSksXG4gICAgX19wYXJhbSgxLCBJUmVuZGVyTG9jYXRpb24pLFxuICAgIF9fcGFyYW0oMiwgSVBsYXRmb3JtKVxuXSwgUG9ydGFsKTtcbmV4cG9ydCB7IFBvcnRhbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9ydGFsLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/portal.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/repeat.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/repeat.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Repeat\": () => (/* binding */ Repeat),\n/* harmony export */   \"longestIncreasingSubsequence\": () => (/* binding */ longestIncreasingSubsequence)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _templating_view_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../templating/view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js\");\n/* harmony import */ var _custom_attribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _templating_controller_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../templating/controller.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/controller.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\n\n\nfunction dispose(disposable) {\n    disposable.dispose();\n}\nlet Repeat = class Repeat {\n    constructor(location, parent, factory) {\n        this.location = location;\n        this.parent = parent;\n        this.factory = factory;\n        this.id = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.nextId)('au$component');\n        this.hasPendingInstanceMutation = false;\n        this.observer = void 0;\n        this.views = [];\n        this.key = void 0;\n        this.normalizedItems = void 0;\n    }\n    binding(initiator, parent, flags) {\n        this.checkCollectionObserver(flags);\n        const bindings = this.parent.bindings;\n        let binding = (void 0);\n        for (let i = 0, ii = bindings.length; i < ii; ++i) {\n            binding = bindings[i];\n            if (binding.target === this && binding.targetProperty === 'items') {\n                this.forOf = binding.sourceExpression;\n                break;\n            }\n        }\n        this.local = this.forOf.declaration.evaluate(flags, this.$controller.scope, null, binding.locator, null);\n    }\n    attaching(initiator, parent, flags) {\n        this.normalizeToArray(flags);\n        return this.activateAllViews(initiator, flags);\n    }\n    detaching(initiator, parent, flags) {\n        this.checkCollectionObserver(flags);\n        return this.deactivateAllViews(initiator, flags);\n    }\n    // called by SetterObserver\n    itemsChanged(flags) {\n        const { $controller } = this;\n        if (!$controller.isActive) {\n            return;\n        }\n        flags |= $controller.flags;\n        this.checkCollectionObserver(flags);\n        this.normalizeToArray(flags);\n        const ret = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.deactivateAllViews(null, flags), () => {\n            // TODO(fkleuver): add logic to the controller that ensures correct handling of race conditions and add a variety of `if` integration tests\n            return this.activateAllViews(null, flags);\n        });\n        if (ret instanceof Promise) {\n            ret.catch(err => { throw err; });\n        }\n    }\n    // called by a CollectionObserver\n    handleCollectionChange(indexMap, flags) {\n        const { $controller } = this;\n        if (!$controller.isActive) {\n            return;\n        }\n        flags |= $controller.flags;\n        this.normalizeToArray(flags);\n        if (indexMap === void 0) {\n            const ret = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.deactivateAllViews(null, flags), () => {\n                // TODO(fkleuver): add logic to the controller that ensures correct handling of race conditions and add a variety of `if` integration tests\n                return this.activateAllViews(null, flags);\n            });\n            if (ret instanceof Promise) {\n                ret.catch(err => { throw err; });\n            }\n        }\n        else {\n            const oldLength = this.views.length;\n            (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.applyMutationsToIndices)(indexMap);\n            // first detach+unbind+(remove from array) the deleted view indices\n            if (indexMap.deletedItems.length > 0) {\n                indexMap.deletedItems.sort(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.compareNumber);\n                const ret = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.deactivateAndRemoveViewsByKey(indexMap, flags), () => {\n                    // TODO(fkleuver): add logic to the controller that ensures correct handling of race conditions and add a variety of `if` integration tests\n                    return this.createAndActivateAndSortViewsByKey(oldLength, indexMap, flags);\n                });\n                if (ret instanceof Promise) {\n                    ret.catch(err => { throw err; });\n                }\n            }\n            else {\n                // TODO(fkleuver): add logic to the controller that ensures correct handling of race conditions and add integration tests\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                this.createAndActivateAndSortViewsByKey(oldLength, indexMap, flags);\n            }\n        }\n    }\n    // todo: subscribe to collection from inner expression\n    checkCollectionObserver(flags) {\n        const oldObserver = this.observer;\n        if ((flags & 4 /* fromUnbind */)) {\n            if (oldObserver !== void 0) {\n                oldObserver.unsubscribe(this);\n            }\n        }\n        else if (this.$controller.isActive) {\n            const newObserver = this.observer = (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.getCollectionObserver)(this.items);\n            if (oldObserver !== newObserver && oldObserver) {\n                oldObserver.unsubscribe(this);\n            }\n            if (newObserver) {\n                newObserver.subscribe(this);\n            }\n        }\n    }\n    normalizeToArray(flags) {\n        const items = this.items;\n        if (items instanceof Array) {\n            this.normalizedItems = items;\n            return;\n        }\n        const forOf = this.forOf;\n        if (forOf === void 0) {\n            return;\n        }\n        const normalizedItems = [];\n        this.forOf.iterate(flags, items, (arr, index, item) => {\n            normalizedItems[index] = item;\n        });\n        this.normalizedItems = normalizedItems;\n    }\n    activateAllViews(initiator, flags) {\n        let promises = void 0;\n        let ret;\n        let view;\n        let viewScope;\n        const { $controller, factory, local, location, items } = this;\n        const parentScope = $controller.scope;\n        const hostScope = $controller.hostScope;\n        const newLen = this.forOf.count(flags, items);\n        const views = this.views = Array(newLen);\n        this.forOf.iterate(flags, items, (arr, i, item) => {\n            view = views[i] = factory.create(flags).setLocation(location);\n            view.nodes.unlink();\n            viewScope = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.Scope.fromParent(parentScope, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingContext.create(local, item));\n            setContextualProperties(viewScope.overrideContext, i, newLen);\n            ret = view.activate(initiator !== null && initiator !== void 0 ? initiator : view, $controller, flags, viewScope, hostScope);\n            if (ret instanceof Promise) {\n                (promises !== null && promises !== void 0 ? promises : (promises = [])).push(ret);\n            }\n        });\n        if (promises !== void 0) {\n            return promises.length === 1\n                ? promises[0]\n                : Promise.all(promises);\n        }\n    }\n    deactivateAllViews(initiator, flags) {\n        let promises = void 0;\n        let ret;\n        let view;\n        const { views, $controller } = this;\n        for (let i = 0, ii = views.length; i < ii; ++i) {\n            view = views[i];\n            view.release();\n            ret = view.deactivate(initiator !== null && initiator !== void 0 ? initiator : view, $controller, flags);\n            if (ret instanceof Promise) {\n                (promises !== null && promises !== void 0 ? promises : (promises = [])).push(ret);\n            }\n        }\n        if (promises !== void 0) {\n            return promises.length === 1\n                ? promises[0]\n                : Promise.all(promises);\n        }\n    }\n    deactivateAndRemoveViewsByKey(indexMap, flags) {\n        let promises = void 0;\n        let ret;\n        let view;\n        const { $controller, views } = this;\n        const deleted = indexMap.deletedItems;\n        const deletedLen = deleted.length;\n        let i = 0;\n        for (; i < deletedLen; ++i) {\n            view = views[deleted[i]];\n            view.release();\n            ret = view.deactivate(view, $controller, flags);\n            if (ret instanceof Promise) {\n                (promises !== null && promises !== void 0 ? promises : (promises = [])).push(ret);\n            }\n        }\n        i = 0;\n        let j = 0;\n        for (; i < deletedLen; ++i) {\n            j = deleted[i] - i;\n            views.splice(j, 1);\n        }\n        if (promises !== void 0) {\n            return promises.length === 1\n                ? promises[0]\n                : Promise.all(promises);\n        }\n    }\n    createAndActivateAndSortViewsByKey(oldLength, indexMap, flags) {\n        var _a;\n        let promises = void 0;\n        let ret;\n        let view;\n        let viewScope;\n        const { $controller, factory, local, normalizedItems, location, views } = this;\n        const mapLen = indexMap.length;\n        for (let i = 0; i < mapLen; ++i) {\n            if (indexMap[i] === -2) {\n                view = factory.create(flags);\n                views.splice(i, 0, view);\n            }\n        }\n        if (views.length !== mapLen) {\n            // TODO: create error code and use reporter with more informative message\n            throw new Error(`viewsLen=${views.length}, mapLen=${mapLen}`);\n        }\n        const parentScope = $controller.scope;\n        const hostScope = $controller.hostScope;\n        const newLen = indexMap.length;\n        (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.synchronizeIndices)(views, indexMap);\n        // this algorithm retrieves the indices of the longest increasing subsequence of items in the repeater\n        // the items on those indices are not moved; this minimizes the number of DOM operations that need to be performed\n        const seq = longestIncreasingSubsequence(indexMap);\n        const seqLen = seq.length;\n        let next;\n        let j = seqLen - 1;\n        let i = newLen - 1;\n        for (; i >= 0; --i) {\n            view = views[i];\n            next = views[i + 1];\n            view.nodes.link((_a = next === null || next === void 0 ? void 0 : next.nodes) !== null && _a !== void 0 ? _a : location);\n            if (indexMap[i] === -2) {\n                viewScope = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.Scope.fromParent(parentScope, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingContext.create(local, normalizedItems[i]));\n                setContextualProperties(viewScope.overrideContext, i, newLen);\n                view.setLocation(location);\n                ret = view.activate(view, $controller, flags, viewScope, hostScope);\n                if (ret instanceof Promise) {\n                    (promises !== null && promises !== void 0 ? promises : (promises = [])).push(ret);\n                }\n            }\n            else if (j < 0 || seqLen === 1 || i !== seq[j]) {\n                setContextualProperties(view.scope.overrideContext, i, newLen);\n                view.nodes.insertBefore(view.location);\n            }\n            else {\n                if (oldLength !== newLen) {\n                    setContextualProperties(view.scope.overrideContext, i, newLen);\n                }\n                --j;\n            }\n        }\n        if (promises !== void 0) {\n            return promises.length === 1\n                ? promises[0]\n                : Promise.all(promises);\n        }\n    }\n    dispose() {\n        this.views.forEach(dispose);\n        this.views = (void 0);\n    }\n    accept(visitor) {\n        const { views } = this;\n        if (views !== void 0) {\n            for (let i = 0, ii = views.length; i < ii; ++i) {\n                if (views[i].accept(visitor) === true) {\n                    return true;\n                }\n            }\n        }\n    }\n};\n__decorate([\n    _bindable_js__WEBPACK_IMPORTED_MODULE_6__.bindable\n], Repeat.prototype, \"items\", void 0);\nRepeat = __decorate([\n    (0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_4__.templateController)('repeat'),\n    __param(0, _dom_js__WEBPACK_IMPORTED_MODULE_2__.IRenderLocation),\n    __param(1, _templating_controller_js__WEBPACK_IMPORTED_MODULE_5__.IController),\n    __param(2, _templating_view_js__WEBPACK_IMPORTED_MODULE_3__.IViewFactory)\n], Repeat);\n\nlet maxLen = 16;\nlet prevIndices = new Int32Array(maxLen);\nlet tailIndices = new Int32Array(maxLen);\n// Based on inferno's lis_algorithm @ https://github.com/infernojs/inferno/blob/master/packages/inferno/src/DOM/patching.ts#L732\n// with some tweaks to make it just a bit faster + account for IndexMap (and some names changes for readability)\n/** @internal */\nfunction longestIncreasingSubsequence(indexMap) {\n    const len = indexMap.length;\n    if (len > maxLen) {\n        maxLen = len;\n        prevIndices = new Int32Array(len);\n        tailIndices = new Int32Array(len);\n    }\n    let cursor = 0;\n    let cur = 0;\n    let prev = 0;\n    let i = 0;\n    let j = 0;\n    let low = 0;\n    let high = 0;\n    let mid = 0;\n    for (; i < len; i++) {\n        cur = indexMap[i];\n        if (cur !== -2) {\n            j = prevIndices[cursor];\n            prev = indexMap[j];\n            if (prev !== -2 && prev < cur) {\n                tailIndices[i] = j;\n                prevIndices[++cursor] = i;\n                continue;\n            }\n            low = 0;\n            high = cursor;\n            while (low < high) {\n                mid = (low + high) >> 1;\n                prev = indexMap[prevIndices[mid]];\n                if (prev !== -2 && prev < cur) {\n                    low = mid + 1;\n                }\n                else {\n                    high = mid;\n                }\n            }\n            prev = indexMap[prevIndices[low]];\n            if (cur < prev || prev === -2) {\n                if (low > 0) {\n                    tailIndices[i] = prevIndices[low - 1];\n                }\n                prevIndices[low] = i;\n            }\n        }\n    }\n    i = ++cursor;\n    const result = new Int32Array(i);\n    cur = prevIndices[cursor - 1];\n    while (cursor-- > 0) {\n        result[cursor] = cur;\n        cur = tailIndices[cur];\n    }\n    while (i-- > 0)\n        prevIndices[i] = 0;\n    return result;\n}\nfunction setContextualProperties(oc, index, length) {\n    const isFirst = index === 0;\n    const isLast = index === length - 1;\n    const isEven = index % 2 === 0;\n    oc.$index = index;\n    oc.$first = isFirst;\n    oc.$last = isLast;\n    oc.$middle = !isFirst && !isLast;\n    oc.$even = isEven;\n    oc.$odd = !isEven;\n    oc.$length = length;\n}\n//# sourceMappingURL=repeat.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9yZXBlYXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9yZXBlYXQuanM/N2NlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19wYXJhbSA9ICh0aGlzICYmIHRoaXMuX19wYXJhbSkgfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufTtcbmltcG9ydCB7IGNvbXBhcmVOdW1iZXIsIG5leHRJZCwgb25SZXNvbHZlIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IGFwcGx5TXV0YXRpb25zVG9JbmRpY2VzLCBCaW5kaW5nQ29udGV4dCwgZ2V0Q29sbGVjdGlvbk9ic2VydmVyLCBTY29wZSwgc3luY2hyb25pemVJbmRpY2VzLCB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuaW1wb3J0IHsgSVJlbmRlckxvY2F0aW9uIH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7IElWaWV3RmFjdG9yeSB9IGZyb20gJy4uLy4uL3RlbXBsYXRpbmcvdmlldy5qcyc7XG5pbXBvcnQgeyB0ZW1wbGF0ZUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jdXN0b20tYXR0cmlidXRlLmpzJztcbmltcG9ydCB7IElDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vdGVtcGxhdGluZy9jb250cm9sbGVyLmpzJztcbmltcG9ydCB7IGJpbmRhYmxlIH0gZnJvbSAnLi4vLi4vYmluZGFibGUuanMnO1xuZnVuY3Rpb24gZGlzcG9zZShkaXNwb3NhYmxlKSB7XG4gICAgZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG59XG5sZXQgUmVwZWF0ID0gY2xhc3MgUmVwZWF0IHtcbiAgICBjb25zdHJ1Y3Rvcihsb2NhdGlvbiwgcGFyZW50LCBmYWN0b3J5KSB7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIHRoaXMuaWQgPSBuZXh0SWQoJ2F1JGNvbXBvbmVudCcpO1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdJbnN0YW5jZU11dGF0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMudmlld3MgPSBbXTtcbiAgICAgICAgdGhpcy5rZXkgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMubm9ybWFsaXplZEl0ZW1zID0gdm9pZCAwO1xuICAgIH1cbiAgICBiaW5kaW5nKGluaXRpYXRvciwgcGFyZW50LCBmbGFncykge1xuICAgICAgICB0aGlzLmNoZWNrQ29sbGVjdGlvbk9ic2VydmVyKGZsYWdzKTtcbiAgICAgICAgY29uc3QgYmluZGluZ3MgPSB0aGlzLnBhcmVudC5iaW5kaW5ncztcbiAgICAgICAgbGV0IGJpbmRpbmcgPSAodm9pZCAwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gYmluZGluZ3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgYmluZGluZyA9IGJpbmRpbmdzW2ldO1xuICAgICAgICAgICAgaWYgKGJpbmRpbmcudGFyZ2V0ID09PSB0aGlzICYmIGJpbmRpbmcudGFyZ2V0UHJvcGVydHkgPT09ICdpdGVtcycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvck9mID0gYmluZGluZy5zb3VyY2VFeHByZXNzaW9uO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9jYWwgPSB0aGlzLmZvck9mLmRlY2xhcmF0aW9uLmV2YWx1YXRlKGZsYWdzLCB0aGlzLiRjb250cm9sbGVyLnNjb3BlLCBudWxsLCBiaW5kaW5nLmxvY2F0b3IsIG51bGwpO1xuICAgIH1cbiAgICBhdHRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgIHRoaXMubm9ybWFsaXplVG9BcnJheShmbGFncyk7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2YXRlQWxsVmlld3MoaW5pdGlhdG9yLCBmbGFncyk7XG4gICAgfVxuICAgIGRldGFjaGluZyhpbml0aWF0b3IsIHBhcmVudCwgZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5jaGVja0NvbGxlY3Rpb25PYnNlcnZlcihmbGFncyk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlYWN0aXZhdGVBbGxWaWV3cyhpbml0aWF0b3IsIGZsYWdzKTtcbiAgICB9XG4gICAgLy8gY2FsbGVkIGJ5IFNldHRlck9ic2VydmVyXG4gICAgaXRlbXNDaGFuZ2VkKGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IHsgJGNvbnRyb2xsZXIgfSA9IHRoaXM7XG4gICAgICAgIGlmICghJGNvbnRyb2xsZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmbGFncyB8PSAkY29udHJvbGxlci5mbGFncztcbiAgICAgICAgdGhpcy5jaGVja0NvbGxlY3Rpb25PYnNlcnZlcihmbGFncyk7XG4gICAgICAgIHRoaXMubm9ybWFsaXplVG9BcnJheShmbGFncyk7XG4gICAgICAgIGNvbnN0IHJldCA9IG9uUmVzb2x2ZSh0aGlzLmRlYWN0aXZhdGVBbGxWaWV3cyhudWxsLCBmbGFncyksICgpID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE8oZmtsZXV2ZXIpOiBhZGQgbG9naWMgdG8gdGhlIGNvbnRyb2xsZXIgdGhhdCBlbnN1cmVzIGNvcnJlY3QgaGFuZGxpbmcgb2YgcmFjZSBjb25kaXRpb25zIGFuZCBhZGQgYSB2YXJpZXR5IG9mIGBpZmAgaW50ZWdyYXRpb24gdGVzdHNcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGl2YXRlQWxsVmlld3MobnVsbCwgZmxhZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJldCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldC5jYXRjaChlcnIgPT4geyB0aHJvdyBlcnI7IH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGNhbGxlZCBieSBhIENvbGxlY3Rpb25PYnNlcnZlclxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoaW5kZXhNYXAsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IHsgJGNvbnRyb2xsZXIgfSA9IHRoaXM7XG4gICAgICAgIGlmICghJGNvbnRyb2xsZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmbGFncyB8PSAkY29udHJvbGxlci5mbGFncztcbiAgICAgICAgdGhpcy5ub3JtYWxpemVUb0FycmF5KGZsYWdzKTtcbiAgICAgICAgaWYgKGluZGV4TWFwID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IG9uUmVzb2x2ZSh0aGlzLmRlYWN0aXZhdGVBbGxWaWV3cyhudWxsLCBmbGFncyksICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPKGZrbGV1dmVyKTogYWRkIGxvZ2ljIHRvIHRoZSBjb250cm9sbGVyIHRoYXQgZW5zdXJlcyBjb3JyZWN0IGhhbmRsaW5nIG9mIHJhY2UgY29uZGl0aW9ucyBhbmQgYWRkIGEgdmFyaWV0eSBvZiBgaWZgIGludGVncmF0aW9uIHRlc3RzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVBbGxWaWV3cyhudWxsLCBmbGFncyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0LmNhdGNoKGVyciA9PiB7IHRocm93IGVycjsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBvbGRMZW5ndGggPSB0aGlzLnZpZXdzLmxlbmd0aDtcbiAgICAgICAgICAgIGFwcGx5TXV0YXRpb25zVG9JbmRpY2VzKGluZGV4TWFwKTtcbiAgICAgICAgICAgIC8vIGZpcnN0IGRldGFjaCt1bmJpbmQrKHJlbW92ZSBmcm9tIGFycmF5KSB0aGUgZGVsZXRlZCB2aWV3IGluZGljZXNcbiAgICAgICAgICAgIGlmIChpbmRleE1hcC5kZWxldGVkSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGluZGV4TWFwLmRlbGV0ZWRJdGVtcy5zb3J0KGNvbXBhcmVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldCA9IG9uUmVzb2x2ZSh0aGlzLmRlYWN0aXZhdGVBbmRSZW1vdmVWaWV3c0J5S2V5KGluZGV4TWFwLCBmbGFncyksICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhma2xldXZlcik6IGFkZCBsb2dpYyB0byB0aGUgY29udHJvbGxlciB0aGF0IGVuc3VyZXMgY29ycmVjdCBoYW5kbGluZyBvZiByYWNlIGNvbmRpdGlvbnMgYW5kIGFkZCBhIHZhcmlldHkgb2YgYGlmYCBpbnRlZ3JhdGlvbiB0ZXN0c1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVBbmRBY3RpdmF0ZUFuZFNvcnRWaWV3c0J5S2V5KG9sZExlbmd0aCwgaW5kZXhNYXAsIGZsYWdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXQuY2F0Y2goZXJyID0+IHsgdGhyb3cgZXJyOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPKGZrbGV1dmVyKTogYWRkIGxvZ2ljIHRvIHRoZSBjb250cm9sbGVyIHRoYXQgZW5zdXJlcyBjb3JyZWN0IGhhbmRsaW5nIG9mIHJhY2UgY29uZGl0aW9ucyBhbmQgYWRkIGludGVncmF0aW9uIHRlc3RzXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlQW5kQWN0aXZhdGVBbmRTb3J0Vmlld3NCeUtleShvbGRMZW5ndGgsIGluZGV4TWFwLCBmbGFncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gdG9kbzogc3Vic2NyaWJlIHRvIGNvbGxlY3Rpb24gZnJvbSBpbm5lciBleHByZXNzaW9uXG4gICAgY2hlY2tDb2xsZWN0aW9uT2JzZXJ2ZXIoZmxhZ3MpIHtcbiAgICAgICAgY29uc3Qgb2xkT2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyO1xuICAgICAgICBpZiAoKGZsYWdzICYgNCAvKiBmcm9tVW5iaW5kICovKSkge1xuICAgICAgICAgICAgaWYgKG9sZE9ic2VydmVyICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBvbGRPYnNlcnZlci51bnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLiRjb250cm9sbGVyLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdPYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXIgPSBnZXRDb2xsZWN0aW9uT2JzZXJ2ZXIodGhpcy5pdGVtcyk7XG4gICAgICAgICAgICBpZiAob2xkT2JzZXJ2ZXIgIT09IG5ld09ic2VydmVyICYmIG9sZE9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgb2xkT2JzZXJ2ZXIudW5zdWJzY3JpYmUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBuZXdPYnNlcnZlci5zdWJzY3JpYmUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbm9ybWFsaXplVG9BcnJheShmbGFncykge1xuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuaXRlbXM7XG4gICAgICAgIGlmIChpdGVtcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLm5vcm1hbGl6ZWRJdGVtcyA9IGl0ZW1zO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZvck9mID0gdGhpcy5mb3JPZjtcbiAgICAgICAgaWYgKGZvck9mID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub3JtYWxpemVkSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JPZi5pdGVyYXRlKGZsYWdzLCBpdGVtcywgKGFyciwgaW5kZXgsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRJdGVtc1tpbmRleF0gPSBpdGVtO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkSXRlbXMgPSBub3JtYWxpemVkSXRlbXM7XG4gICAgfVxuICAgIGFjdGl2YXRlQWxsVmlld3MoaW5pdGlhdG9yLCBmbGFncykge1xuICAgICAgICBsZXQgcHJvbWlzZXMgPSB2b2lkIDA7XG4gICAgICAgIGxldCByZXQ7XG4gICAgICAgIGxldCB2aWV3O1xuICAgICAgICBsZXQgdmlld1Njb3BlO1xuICAgICAgICBjb25zdCB7ICRjb250cm9sbGVyLCBmYWN0b3J5LCBsb2NhbCwgbG9jYXRpb24sIGl0ZW1zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBwYXJlbnRTY29wZSA9ICRjb250cm9sbGVyLnNjb3BlO1xuICAgICAgICBjb25zdCBob3N0U2NvcGUgPSAkY29udHJvbGxlci5ob3N0U2NvcGU7XG4gICAgICAgIGNvbnN0IG5ld0xlbiA9IHRoaXMuZm9yT2YuY291bnQoZmxhZ3MsIGl0ZW1zKTtcbiAgICAgICAgY29uc3Qgdmlld3MgPSB0aGlzLnZpZXdzID0gQXJyYXkobmV3TGVuKTtcbiAgICAgICAgdGhpcy5mb3JPZi5pdGVyYXRlKGZsYWdzLCBpdGVtcywgKGFyciwgaSwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgdmlldyA9IHZpZXdzW2ldID0gZmFjdG9yeS5jcmVhdGUoZmxhZ3MpLnNldExvY2F0aW9uKGxvY2F0aW9uKTtcbiAgICAgICAgICAgIHZpZXcubm9kZXMudW5saW5rKCk7XG4gICAgICAgICAgICB2aWV3U2NvcGUgPSBTY29wZS5mcm9tUGFyZW50KHBhcmVudFNjb3BlLCBCaW5kaW5nQ29udGV4dC5jcmVhdGUobG9jYWwsIGl0ZW0pKTtcbiAgICAgICAgICAgIHNldENvbnRleHR1YWxQcm9wZXJ0aWVzKHZpZXdTY29wZS5vdmVycmlkZUNvbnRleHQsIGksIG5ld0xlbik7XG4gICAgICAgICAgICByZXQgPSB2aWV3LmFjdGl2YXRlKGluaXRpYXRvciAhPT0gbnVsbCAmJiBpbml0aWF0b3IgIT09IHZvaWQgMCA/IGluaXRpYXRvciA6IHZpZXcsICRjb250cm9sbGVyLCBmbGFncywgdmlld1Njb3BlLCBob3N0U2NvcGUpO1xuICAgICAgICAgICAgaWYgKHJldCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAocHJvbWlzZXMgIT09IG51bGwgJiYgcHJvbWlzZXMgIT09IHZvaWQgMCA/IHByb21pc2VzIDogKHByb21pc2VzID0gW10pKS5wdXNoKHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJvbWlzZXMgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICAgID8gcHJvbWlzZXNbMF1cbiAgICAgICAgICAgICAgICA6IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWFjdGl2YXRlQWxsVmlld3MoaW5pdGlhdG9yLCBmbGFncykge1xuICAgICAgICBsZXQgcHJvbWlzZXMgPSB2b2lkIDA7XG4gICAgICAgIGxldCByZXQ7XG4gICAgICAgIGxldCB2aWV3O1xuICAgICAgICBjb25zdCB7IHZpZXdzLCAkY29udHJvbGxlciB9ID0gdGhpcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdmlld3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmlldyA9IHZpZXdzW2ldO1xuICAgICAgICAgICAgdmlldy5yZWxlYXNlKCk7XG4gICAgICAgICAgICByZXQgPSB2aWV3LmRlYWN0aXZhdGUoaW5pdGlhdG9yICE9PSBudWxsICYmIGluaXRpYXRvciAhPT0gdm9pZCAwID8gaW5pdGlhdG9yIDogdmlldywgJGNvbnRyb2xsZXIsIGZsYWdzKTtcbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgKHByb21pc2VzICE9PSBudWxsICYmIHByb21pc2VzICE9PSB2b2lkIDAgPyBwcm9taXNlcyA6IChwcm9taXNlcyA9IFtdKSkucHVzaChyZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9taXNlcyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXMubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICAgPyBwcm9taXNlc1swXVxuICAgICAgICAgICAgICAgIDogUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlYWN0aXZhdGVBbmRSZW1vdmVWaWV3c0J5S2V5KGluZGV4TWFwLCBmbGFncykge1xuICAgICAgICBsZXQgcHJvbWlzZXMgPSB2b2lkIDA7XG4gICAgICAgIGxldCByZXQ7XG4gICAgICAgIGxldCB2aWV3O1xuICAgICAgICBjb25zdCB7ICRjb250cm9sbGVyLCB2aWV3cyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZGVsZXRlZCA9IGluZGV4TWFwLmRlbGV0ZWRJdGVtcztcbiAgICAgICAgY29uc3QgZGVsZXRlZExlbiA9IGRlbGV0ZWQubGVuZ3RoO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoOyBpIDwgZGVsZXRlZExlbjsgKytpKSB7XG4gICAgICAgICAgICB2aWV3ID0gdmlld3NbZGVsZXRlZFtpXV07XG4gICAgICAgICAgICB2aWV3LnJlbGVhc2UoKTtcbiAgICAgICAgICAgIHJldCA9IHZpZXcuZGVhY3RpdmF0ZSh2aWV3LCAkY29udHJvbGxlciwgZmxhZ3MpO1xuICAgICAgICAgICAgaWYgKHJldCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAocHJvbWlzZXMgIT09IG51bGwgJiYgcHJvbWlzZXMgIT09IHZvaWQgMCA/IHByb21pc2VzIDogKHByb21pc2VzID0gW10pKS5wdXNoKHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSA9IDA7XG4gICAgICAgIGxldCBqID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBkZWxldGVkTGVuOyArK2kpIHtcbiAgICAgICAgICAgIGogPSBkZWxldGVkW2ldIC0gaTtcbiAgICAgICAgICAgIHZpZXdzLnNwbGljZShqLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvbWlzZXMgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICAgID8gcHJvbWlzZXNbMF1cbiAgICAgICAgICAgICAgICA6IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVBbmRBY3RpdmF0ZUFuZFNvcnRWaWV3c0J5S2V5KG9sZExlbmd0aCwgaW5kZXhNYXAsIGZsYWdzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IHByb21pc2VzID0gdm9pZCAwO1xuICAgICAgICBsZXQgcmV0O1xuICAgICAgICBsZXQgdmlldztcbiAgICAgICAgbGV0IHZpZXdTY29wZTtcbiAgICAgICAgY29uc3QgeyAkY29udHJvbGxlciwgZmFjdG9yeSwgbG9jYWwsIG5vcm1hbGl6ZWRJdGVtcywgbG9jYXRpb24sIHZpZXdzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBtYXBMZW4gPSBpbmRleE1hcC5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFwTGVuOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChpbmRleE1hcFtpXSA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICB2aWV3ID0gZmFjdG9yeS5jcmVhdGUoZmxhZ3MpO1xuICAgICAgICAgICAgICAgIHZpZXdzLnNwbGljZShpLCAwLCB2aWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodmlld3MubGVuZ3RoICE9PSBtYXBMZW4pIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGNyZWF0ZSBlcnJvciBjb2RlIGFuZCB1c2UgcmVwb3J0ZXIgd2l0aCBtb3JlIGluZm9ybWF0aXZlIG1lc3NhZ2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdmlld3NMZW49JHt2aWV3cy5sZW5ndGh9LCBtYXBMZW49JHttYXBMZW59YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50U2NvcGUgPSAkY29udHJvbGxlci5zY29wZTtcbiAgICAgICAgY29uc3QgaG9zdFNjb3BlID0gJGNvbnRyb2xsZXIuaG9zdFNjb3BlO1xuICAgICAgICBjb25zdCBuZXdMZW4gPSBpbmRleE1hcC5sZW5ndGg7XG4gICAgICAgIHN5bmNocm9uaXplSW5kaWNlcyh2aWV3cywgaW5kZXhNYXApO1xuICAgICAgICAvLyB0aGlzIGFsZ29yaXRobSByZXRyaWV2ZXMgdGhlIGluZGljZXMgb2YgdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBpdGVtcyBpbiB0aGUgcmVwZWF0ZXJcbiAgICAgICAgLy8gdGhlIGl0ZW1zIG9uIHRob3NlIGluZGljZXMgYXJlIG5vdCBtb3ZlZDsgdGhpcyBtaW5pbWl6ZXMgdGhlIG51bWJlciBvZiBET00gb3BlcmF0aW9ucyB0aGF0IG5lZWQgdG8gYmUgcGVyZm9ybWVkXG4gICAgICAgIGNvbnN0IHNlcSA9IGxvbmdlc3RJbmNyZWFzaW5nU3Vic2VxdWVuY2UoaW5kZXhNYXApO1xuICAgICAgICBjb25zdCBzZXFMZW4gPSBzZXEubGVuZ3RoO1xuICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgbGV0IGogPSBzZXFMZW4gLSAxO1xuICAgICAgICBsZXQgaSA9IG5ld0xlbiAtIDE7XG4gICAgICAgIGZvciAoOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgdmlldyA9IHZpZXdzW2ldO1xuICAgICAgICAgICAgbmV4dCA9IHZpZXdzW2kgKyAxXTtcbiAgICAgICAgICAgIHZpZXcubm9kZXMubGluaygoX2EgPSBuZXh0ID09PSBudWxsIHx8IG5leHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5leHQubm9kZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGxvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChpbmRleE1hcFtpXSA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICB2aWV3U2NvcGUgPSBTY29wZS5mcm9tUGFyZW50KHBhcmVudFNjb3BlLCBCaW5kaW5nQ29udGV4dC5jcmVhdGUobG9jYWwsIG5vcm1hbGl6ZWRJdGVtc1tpXSkpO1xuICAgICAgICAgICAgICAgIHNldENvbnRleHR1YWxQcm9wZXJ0aWVzKHZpZXdTY29wZS5vdmVycmlkZUNvbnRleHQsIGksIG5ld0xlbik7XG4gICAgICAgICAgICAgICAgdmlldy5zZXRMb2NhdGlvbihsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0ID0gdmlldy5hY3RpdmF0ZSh2aWV3LCAkY29udHJvbGxlciwgZmxhZ3MsIHZpZXdTY29wZSwgaG9zdFNjb3BlKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAocHJvbWlzZXMgIT09IG51bGwgJiYgcHJvbWlzZXMgIT09IHZvaWQgMCA/IHByb21pc2VzIDogKHByb21pc2VzID0gW10pKS5wdXNoKHJldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaiA8IDAgfHwgc2VxTGVuID09PSAxIHx8IGkgIT09IHNlcVtqXSkge1xuICAgICAgICAgICAgICAgIHNldENvbnRleHR1YWxQcm9wZXJ0aWVzKHZpZXcuc2NvcGUub3ZlcnJpZGVDb250ZXh0LCBpLCBuZXdMZW4pO1xuICAgICAgICAgICAgICAgIHZpZXcubm9kZXMuaW5zZXJ0QmVmb3JlKHZpZXcubG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9sZExlbmd0aCAhPT0gbmV3TGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldENvbnRleHR1YWxQcm9wZXJ0aWVzKHZpZXcuc2NvcGUub3ZlcnJpZGVDb250ZXh0LCBpLCBuZXdMZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAtLWo7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb21pc2VzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlcy5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICAgICA/IHByb21pc2VzWzBdXG4gICAgICAgICAgICAgICAgOiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy52aWV3cy5mb3JFYWNoKGRpc3Bvc2UpO1xuICAgICAgICB0aGlzLnZpZXdzID0gKHZvaWQgMCk7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIGNvbnN0IHsgdmlld3MgfSA9IHRoaXM7XG4gICAgICAgIGlmICh2aWV3cyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSB2aWV3cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXdzW2ldLmFjY2VwdCh2aXNpdG9yKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGVcbl0sIFJlcGVhdC5wcm90b3R5cGUsIFwiaXRlbXNcIiwgdm9pZCAwKTtcblJlcGVhdCA9IF9fZGVjb3JhdGUoW1xuICAgIHRlbXBsYXRlQ29udHJvbGxlcigncmVwZWF0JyksXG4gICAgX19wYXJhbSgwLCBJUmVuZGVyTG9jYXRpb24pLFxuICAgIF9fcGFyYW0oMSwgSUNvbnRyb2xsZXIpLFxuICAgIF9fcGFyYW0oMiwgSVZpZXdGYWN0b3J5KVxuXSwgUmVwZWF0KTtcbmV4cG9ydCB7IFJlcGVhdCB9O1xubGV0IG1heExlbiA9IDE2O1xubGV0IHByZXZJbmRpY2VzID0gbmV3IEludDMyQXJyYXkobWF4TGVuKTtcbmxldCB0YWlsSW5kaWNlcyA9IG5ldyBJbnQzMkFycmF5KG1heExlbik7XG4vLyBCYXNlZCBvbiBpbmZlcm5vJ3MgbGlzX2FsZ29yaXRobSBAIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmZlcm5vanMvaW5mZXJuby9ibG9iL21hc3Rlci9wYWNrYWdlcy9pbmZlcm5vL3NyYy9ET00vcGF0Y2hpbmcudHMjTDczMlxuLy8gd2l0aCBzb21lIHR3ZWFrcyB0byBtYWtlIGl0IGp1c3QgYSBiaXQgZmFzdGVyICsgYWNjb3VudCBmb3IgSW5kZXhNYXAgKGFuZCBzb21lIG5hbWVzIGNoYW5nZXMgZm9yIHJlYWRhYmlsaXR5KVxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvbmdlc3RJbmNyZWFzaW5nU3Vic2VxdWVuY2UoaW5kZXhNYXApIHtcbiAgICBjb25zdCBsZW4gPSBpbmRleE1hcC5sZW5ndGg7XG4gICAgaWYgKGxlbiA+IG1heExlbikge1xuICAgICAgICBtYXhMZW4gPSBsZW47XG4gICAgICAgIHByZXZJbmRpY2VzID0gbmV3IEludDMyQXJyYXkobGVuKTtcbiAgICAgICAgdGFpbEluZGljZXMgPSBuZXcgSW50MzJBcnJheShsZW4pO1xuICAgIH1cbiAgICBsZXQgY3Vyc29yID0gMDtcbiAgICBsZXQgY3VyID0gMDtcbiAgICBsZXQgcHJldiA9IDA7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBqID0gMDtcbiAgICBsZXQgbG93ID0gMDtcbiAgICBsZXQgaGlnaCA9IDA7XG4gICAgbGV0IG1pZCA9IDA7XG4gICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjdXIgPSBpbmRleE1hcFtpXTtcbiAgICAgICAgaWYgKGN1ciAhPT0gLTIpIHtcbiAgICAgICAgICAgIGogPSBwcmV2SW5kaWNlc1tjdXJzb3JdO1xuICAgICAgICAgICAgcHJldiA9IGluZGV4TWFwW2pdO1xuICAgICAgICAgICAgaWYgKHByZXYgIT09IC0yICYmIHByZXYgPCBjdXIpIHtcbiAgICAgICAgICAgICAgICB0YWlsSW5kaWNlc1tpXSA9IGo7XG4gICAgICAgICAgICAgICAgcHJldkluZGljZXNbKytjdXJzb3JdID0gaTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvdyA9IDA7XG4gICAgICAgICAgICBoaWdoID0gY3Vyc29yO1xuICAgICAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICAgICAgICBtaWQgPSAobG93ICsgaGlnaCkgPj4gMTtcbiAgICAgICAgICAgICAgICBwcmV2ID0gaW5kZXhNYXBbcHJldkluZGljZXNbbWlkXV07XG4gICAgICAgICAgICAgICAgaWYgKHByZXYgIT09IC0yICYmIHByZXYgPCBjdXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldiA9IGluZGV4TWFwW3ByZXZJbmRpY2VzW2xvd11dO1xuICAgICAgICAgICAgaWYgKGN1ciA8IHByZXYgfHwgcHJldiA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICBpZiAobG93ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0YWlsSW5kaWNlc1tpXSA9IHByZXZJbmRpY2VzW2xvdyAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2SW5kaWNlc1tsb3ddID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpID0gKytjdXJzb3I7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkoaSk7XG4gICAgY3VyID0gcHJldkluZGljZXNbY3Vyc29yIC0gMV07XG4gICAgd2hpbGUgKGN1cnNvci0tID4gMCkge1xuICAgICAgICByZXN1bHRbY3Vyc29yXSA9IGN1cjtcbiAgICAgICAgY3VyID0gdGFpbEluZGljZXNbY3VyXTtcbiAgICB9XG4gICAgd2hpbGUgKGktLSA+IDApXG4gICAgICAgIHByZXZJbmRpY2VzW2ldID0gMDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gc2V0Q29udGV4dHVhbFByb3BlcnRpZXMob2MsIGluZGV4LCBsZW5ndGgpIHtcbiAgICBjb25zdCBpc0ZpcnN0ID0gaW5kZXggPT09IDA7XG4gICAgY29uc3QgaXNMYXN0ID0gaW5kZXggPT09IGxlbmd0aCAtIDE7XG4gICAgY29uc3QgaXNFdmVuID0gaW5kZXggJSAyID09PSAwO1xuICAgIG9jLiRpbmRleCA9IGluZGV4O1xuICAgIG9jLiRmaXJzdCA9IGlzRmlyc3Q7XG4gICAgb2MuJGxhc3QgPSBpc0xhc3Q7XG4gICAgb2MuJG1pZGRsZSA9ICFpc0ZpcnN0ICYmICFpc0xhc3Q7XG4gICAgb2MuJGV2ZW4gPSBpc0V2ZW47XG4gICAgb2MuJG9kZCA9ICFpc0V2ZW47XG4gICAgb2MuJGxlbmd0aCA9IGxlbmd0aDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcGVhdC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/repeat.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/switch.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/switch.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Switch\": () => (/* binding */ Switch),\n/* harmony export */   \"Case\": () => (/* binding */ Case),\n/* harmony export */   \"DefaultCase\": () => (/* binding */ DefaultCase)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _templating_view_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../templating/view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\n\nlet Switch = class Switch {\n    constructor(factory, location) {\n        this.factory = factory;\n        this.location = location;\n        this.id = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.nextId)('au$component');\n        /** @internal */\n        this.cases = [];\n        this.activeCases = [];\n        /**\n         * This is kept around here so that changes can be awaited from the tests.\n         * This needs to be removed after the scheduler is ready to handle/queue the floating promises.\n         */\n        this.promise = void 0;\n    }\n    link(flags, _parentContext, _controller, _childController, _target, _instruction) {\n        this.view = this.factory.create(flags, this.$controller).setLocation(this.location);\n    }\n    attaching(initiator, parent, flags) {\n        const view = this.view;\n        const $controller = this.$controller;\n        this.queue(() => view.activate(initiator, $controller, flags, $controller.scope, $controller.hostScope));\n        this.queue(() => this.swap(initiator, flags, this.value));\n        return this.promise;\n    }\n    detaching(initiator, parent, flags) {\n        this.queue(() => {\n            const view = this.view;\n            return view.deactivate(initiator, this.$controller, flags);\n        });\n        return this.promise;\n    }\n    dispose() {\n        var _a;\n        (_a = this.view) === null || _a === void 0 ? void 0 : _a.dispose();\n        this.view = (void 0);\n    }\n    valueChanged(_newValue, _oldValue, flags) {\n        if (!this.$controller.isActive) {\n            return;\n        }\n        this.queue(() => this.swap(null, flags, this.value));\n    }\n    caseChanged($case, flags) {\n        this.queue(() => this.handleCaseChange($case, flags));\n    }\n    handleCaseChange($case, flags) {\n        const isMatch = $case.isMatch(this.value, flags);\n        const activeCases = this.activeCases;\n        const numActiveCases = activeCases.length;\n        // Early termination #1\n        if (!isMatch) {\n            /** The previous match started with this; thus clear. */\n            if (numActiveCases > 0 && activeCases[0].id === $case.id) {\n                return this.clearActiveCases(null, flags);\n            }\n            /**\n             * There are 2 different scenarios here:\n             * 1. $case in activeCases: Indicates by-product of fallthrough. The starting case still satisfies. Return.\n             * 2. $case not in activeCases: It was previously not active, and currently also not a match. Return.\n             */\n            return;\n        }\n        // Early termination #2\n        if (numActiveCases > 0 && activeCases[0].id < $case.id) {\n            // Even if this case now a match, the previous case still wins by as that has lower ordinal.\n            return;\n        }\n        // compute the new active cases\n        const newActiveCases = [];\n        let fallThrough = $case.fallThrough;\n        if (!fallThrough) {\n            newActiveCases.push($case);\n        }\n        else {\n            const cases = this.cases;\n            const idx = cases.indexOf($case);\n            for (let i = idx, ii = cases.length; i < ii && fallThrough; i++) {\n                const c = cases[i];\n                newActiveCases.push(c);\n                fallThrough = c.fallThrough;\n            }\n        }\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.clearActiveCases(null, flags, newActiveCases), () => {\n            this.activeCases = newActiveCases;\n            return this.activateCases(null, flags);\n        });\n    }\n    swap(initiator, flags, value) {\n        const newActiveCases = [];\n        let fallThrough = false;\n        for (const $case of this.cases) {\n            if (fallThrough || $case.isMatch(value, flags)) {\n                newActiveCases.push($case);\n                fallThrough = $case.fallThrough;\n            }\n            if (newActiveCases.length > 0 && !fallThrough) {\n                break;\n            }\n        }\n        const defaultCase = this.defaultCase;\n        if (newActiveCases.length === 0 && defaultCase !== void 0) {\n            newActiveCases.push(defaultCase);\n        }\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(this.activeCases.length > 0\n            ? this.clearActiveCases(initiator, flags, newActiveCases)\n            : void 0, () => {\n            this.activeCases = newActiveCases;\n            if (newActiveCases.length === 0) {\n                return;\n            }\n            return this.activateCases(initiator, flags);\n        });\n    }\n    activateCases(initiator, flags) {\n        const controller = this.$controller;\n        if (!controller.isActive) {\n            return;\n        }\n        const cases = this.activeCases;\n        const length = cases.length;\n        if (length === 0) {\n            return;\n        }\n        const scope = controller.scope;\n        const hostScope = controller.hostScope;\n        // most common case\n        if (length === 1) {\n            return cases[0].activate(initiator, flags, scope, hostScope);\n        }\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolveAll)(...cases.map(($case) => $case.activate(initiator, flags, scope, hostScope)));\n    }\n    clearActiveCases(initiator, flags, newActiveCases = []) {\n        const cases = this.activeCases;\n        const numCases = cases.length;\n        if (numCases === 0) {\n            return;\n        }\n        if (numCases === 1) {\n            const firstCase = cases[0];\n            if (!newActiveCases.includes(firstCase)) {\n                cases.length = 0;\n                return firstCase.deactivate(initiator, flags);\n            }\n            return;\n        }\n        return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.resolveAll)(...cases.reduce((acc, $case) => {\n            if (!newActiveCases.includes($case)) {\n                acc.push($case.deactivate(initiator, flags));\n            }\n            return acc;\n        }, [])), () => {\n            cases.length = 0;\n        });\n    }\n    queue(action) {\n        const previousPromise = this.promise;\n        let promise = void 0;\n        promise = this.promise = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.onResolve)(previousPromise, action), () => {\n            if (this.promise === promise) {\n                this.promise = void 0;\n            }\n        });\n    }\n    accept(visitor) {\n        if (this.$controller.accept(visitor) === true) {\n            return true;\n        }\n        if (this.activeCases.some(x => x.accept(visitor))) {\n            return true;\n        }\n    }\n};\n__decorate([\n    _bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable\n], Switch.prototype, \"value\", void 0);\nSwitch = __decorate([\n    (0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.templateController)('switch'),\n    __param(0, _templating_view_js__WEBPACK_IMPORTED_MODULE_4__.IViewFactory),\n    __param(1, _dom_js__WEBPACK_IMPORTED_MODULE_2__.IRenderLocation)\n], Switch);\n\nlet Case = class Case {\n    constructor(factory, locator, location, logger) {\n        this.factory = factory;\n        this.locator = locator;\n        this.id = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.nextId)('au$component');\n        this.fallThrough = false;\n        this.debug = logger.config.level <= 1 /* debug */;\n        this.logger = logger.scopeTo(`${this.constructor.name}-#${this.id}`);\n        this.view = this.factory.create().setLocation(location);\n    }\n    link(flags, parentContext, controller, _childController, _target, _instruction) {\n        const switchController = controller.parent;\n        const $switch = switchController === null || switchController === void 0 ? void 0 : switchController.viewModel;\n        if ($switch instanceof Switch) {\n            this.$switch = $switch;\n            this.linkToSwitch($switch);\n        }\n        else {\n            throw new Error('The parent switch not found; only `*[switch] > *[case|default-case]` relation is supported.');\n        }\n    }\n    detaching(initiator, parent, flags) {\n        return this.deactivate(initiator, flags);\n    }\n    isMatch(value, flags) {\n        if (this.debug) {\n            this.logger.debug('isMatch()');\n        }\n        const $value = this.value;\n        if (Array.isArray($value)) {\n            if (this.observer === void 0) {\n                this.observer = this.observeCollection(flags, $value);\n            }\n            return $value.includes(value);\n        }\n        return $value === value;\n    }\n    valueChanged(newValue, _oldValue, flags) {\n        var _a;\n        if (Array.isArray(newValue)) {\n            (_a = this.observer) === null || _a === void 0 ? void 0 : _a.unsubscribe(this);\n            this.observer = this.observeCollection(flags, newValue);\n        }\n        else if (this.observer !== void 0) {\n            this.observer.unsubscribe(this);\n        }\n        this.$switch.caseChanged(this, flags);\n    }\n    handleCollectionChange(_indexMap, flags) {\n        this.$switch.caseChanged(this, flags);\n    }\n    activate(initiator, flags, scope, hostScope) {\n        const view = this.view;\n        if (view.isActive) {\n            return;\n        }\n        return view.activate(initiator !== null && initiator !== void 0 ? initiator : view, this.$controller, flags, scope, hostScope);\n    }\n    deactivate(initiator, flags) {\n        const view = this.view;\n        if (!view.isActive) {\n            return;\n        }\n        return view.deactivate(initiator !== null && initiator !== void 0 ? initiator : view, this.$controller, flags);\n    }\n    dispose() {\n        var _a, _b;\n        (_a = this.observer) === null || _a === void 0 ? void 0 : _a.unsubscribe(this);\n        (_b = this.view) === null || _b === void 0 ? void 0 : _b.dispose();\n        this.view = (void 0);\n    }\n    linkToSwitch(auSwitch) {\n        auSwitch.cases.push(this);\n    }\n    observeCollection(flags, $value) {\n        const observer = this.locator.getArrayObserver($value);\n        observer.subscribe(this);\n        return observer;\n    }\n    accept(visitor) {\n        var _a;\n        if (this.$controller.accept(visitor) === true) {\n            return true;\n        }\n        return (_a = this.view) === null || _a === void 0 ? void 0 : _a.accept(visitor);\n    }\n};\n__decorate([\n    _bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable\n], Case.prototype, \"value\", void 0);\n__decorate([\n    (0,_bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable)({\n        set: v => {\n            switch (v) {\n                case 'true': return true;\n                case 'false': return false;\n                // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n                default: return !!v;\n            }\n        },\n        mode: _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.oneTime\n    })\n], Case.prototype, \"fallThrough\", void 0);\nCase = __decorate([\n    (0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.templateController)('case'),\n    __param(0, _templating_view_js__WEBPACK_IMPORTED_MODULE_4__.IViewFactory),\n    __param(1, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IObserverLocator),\n    __param(2, _dom_js__WEBPACK_IMPORTED_MODULE_2__.IRenderLocation),\n    __param(3, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger)\n], Case);\n\nlet DefaultCase = class DefaultCase extends Case {\n    linkToSwitch($switch) {\n        if ($switch.defaultCase !== void 0) {\n            throw new Error('Multiple \\'default-case\\'s are not allowed.');\n        }\n        $switch.defaultCase = this;\n    }\n};\nDefaultCase = __decorate([\n    (0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.templateController)('default-case')\n], DefaultCase);\n\n//# sourceMappingURL=switch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9zd2l0Y2guanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy9zd2l0Y2guanM/OTAzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19wYXJhbSA9ICh0aGlzICYmIHRoaXMuX19wYXJhbSkgfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufTtcbmltcG9ydCB7IElMb2dnZXIsIG5leHRJZCwgb25SZXNvbHZlLCByZXNvbHZlQWxsLCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBCaW5kaW5nTW9kZSwgSU9ic2VydmVyTG9jYXRvciwgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lJztcbmltcG9ydCB7IElSZW5kZXJMb2NhdGlvbiB9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQgeyB0ZW1wbGF0ZUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jdXN0b20tYXR0cmlidXRlLmpzJztcbmltcG9ydCB7IElWaWV3RmFjdG9yeSB9IGZyb20gJy4uLy4uL3RlbXBsYXRpbmcvdmlldy5qcyc7XG5pbXBvcnQgeyBiaW5kYWJsZSB9IGZyb20gJy4uLy4uL2JpbmRhYmxlLmpzJztcbmxldCBTd2l0Y2ggPSBjbGFzcyBTd2l0Y2gge1xuICAgIGNvbnN0cnVjdG9yKGZhY3RvcnksIGxvY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRJZCgnYXUkY29tcG9uZW50Jyk7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5jYXNlcyA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZUNhc2VzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIGtlcHQgYXJvdW5kIGhlcmUgc28gdGhhdCBjaGFuZ2VzIGNhbiBiZSBhd2FpdGVkIGZyb20gdGhlIHRlc3RzLlxuICAgICAgICAgKiBUaGlzIG5lZWRzIHRvIGJlIHJlbW92ZWQgYWZ0ZXIgdGhlIHNjaGVkdWxlciBpcyByZWFkeSB0byBoYW5kbGUvcXVldWUgdGhlIGZsb2F0aW5nIHByb21pc2VzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9taXNlID0gdm9pZCAwO1xuICAgIH1cbiAgICBsaW5rKGZsYWdzLCBfcGFyZW50Q29udGV4dCwgX2NvbnRyb2xsZXIsIF9jaGlsZENvbnRyb2xsZXIsIF90YXJnZXQsIF9pbnN0cnVjdGlvbikge1xuICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLmZhY3RvcnkuY3JlYXRlKGZsYWdzLCB0aGlzLiRjb250cm9sbGVyKS5zZXRMb2NhdGlvbih0aGlzLmxvY2F0aW9uKTtcbiAgICB9XG4gICAgYXR0YWNoaW5nKGluaXRpYXRvciwgcGFyZW50LCBmbGFncykge1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy52aWV3O1xuICAgICAgICBjb25zdCAkY29udHJvbGxlciA9IHRoaXMuJGNvbnRyb2xsZXI7XG4gICAgICAgIHRoaXMucXVldWUoKCkgPT4gdmlldy5hY3RpdmF0ZShpbml0aWF0b3IsICRjb250cm9sbGVyLCBmbGFncywgJGNvbnRyb2xsZXIuc2NvcGUsICRjb250cm9sbGVyLmhvc3RTY29wZSkpO1xuICAgICAgICB0aGlzLnF1ZXVlKCgpID0+IHRoaXMuc3dhcChpbml0aWF0b3IsIGZsYWdzLCB0aGlzLnZhbHVlKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XG4gICAgfVxuICAgIGRldGFjaGluZyhpbml0aWF0b3IsIHBhcmVudCwgZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5xdWV1ZSgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy52aWV3O1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcuZGVhY3RpdmF0ZShpbml0aWF0b3IsIHRoaXMuJGNvbnRyb2xsZXIsIGZsYWdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy52aWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnZpZXcgPSAodm9pZCAwKTtcbiAgICB9XG4gICAgdmFsdWVDaGFuZ2VkKF9uZXdWYWx1ZSwgX29sZFZhbHVlLCBmbGFncykge1xuICAgICAgICBpZiAoIXRoaXMuJGNvbnRyb2xsZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlKCgpID0+IHRoaXMuc3dhcChudWxsLCBmbGFncywgdGhpcy52YWx1ZSkpO1xuICAgIH1cbiAgICBjYXNlQ2hhbmdlZCgkY2FzZSwgZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5xdWV1ZSgoKSA9PiB0aGlzLmhhbmRsZUNhc2VDaGFuZ2UoJGNhc2UsIGZsYWdzKSk7XG4gICAgfVxuICAgIGhhbmRsZUNhc2VDaGFuZ2UoJGNhc2UsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IGlzTWF0Y2ggPSAkY2FzZS5pc01hdGNoKHRoaXMudmFsdWUsIGZsYWdzKTtcbiAgICAgICAgY29uc3QgYWN0aXZlQ2FzZXMgPSB0aGlzLmFjdGl2ZUNhc2VzO1xuICAgICAgICBjb25zdCBudW1BY3RpdmVDYXNlcyA9IGFjdGl2ZUNhc2VzLmxlbmd0aDtcbiAgICAgICAgLy8gRWFybHkgdGVybWluYXRpb24gIzFcbiAgICAgICAgaWYgKCFpc01hdGNoKSB7XG4gICAgICAgICAgICAvKiogVGhlIHByZXZpb3VzIG1hdGNoIHN0YXJ0ZWQgd2l0aCB0aGlzOyB0aHVzIGNsZWFyLiAqL1xuICAgICAgICAgICAgaWYgKG51bUFjdGl2ZUNhc2VzID4gMCAmJiBhY3RpdmVDYXNlc1swXS5pZCA9PT0gJGNhc2UuaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhckFjdGl2ZUNhc2VzKG51bGwsIGZsYWdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlcmUgYXJlIDIgZGlmZmVyZW50IHNjZW5hcmlvcyBoZXJlOlxuICAgICAgICAgICAgICogMS4gJGNhc2UgaW4gYWN0aXZlQ2FzZXM6IEluZGljYXRlcyBieS1wcm9kdWN0IG9mIGZhbGx0aHJvdWdoLiBUaGUgc3RhcnRpbmcgY2FzZSBzdGlsbCBzYXRpc2ZpZXMuIFJldHVybi5cbiAgICAgICAgICAgICAqIDIuICRjYXNlIG5vdCBpbiBhY3RpdmVDYXNlczogSXQgd2FzIHByZXZpb3VzbHkgbm90IGFjdGl2ZSwgYW5kIGN1cnJlbnRseSBhbHNvIG5vdCBhIG1hdGNoLiBSZXR1cm4uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBFYXJseSB0ZXJtaW5hdGlvbiAjMlxuICAgICAgICBpZiAobnVtQWN0aXZlQ2FzZXMgPiAwICYmIGFjdGl2ZUNhc2VzWzBdLmlkIDwgJGNhc2UuaWQpIHtcbiAgICAgICAgICAgIC8vIEV2ZW4gaWYgdGhpcyBjYXNlIG5vdyBhIG1hdGNoLCB0aGUgcHJldmlvdXMgY2FzZSBzdGlsbCB3aW5zIGJ5IGFzIHRoYXQgaGFzIGxvd2VyIG9yZGluYWwuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29tcHV0ZSB0aGUgbmV3IGFjdGl2ZSBjYXNlc1xuICAgICAgICBjb25zdCBuZXdBY3RpdmVDYXNlcyA9IFtdO1xuICAgICAgICBsZXQgZmFsbFRocm91Z2ggPSAkY2FzZS5mYWxsVGhyb3VnaDtcbiAgICAgICAgaWYgKCFmYWxsVGhyb3VnaCkge1xuICAgICAgICAgICAgbmV3QWN0aXZlQ2FzZXMucHVzaCgkY2FzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjYXNlcyA9IHRoaXMuY2FzZXM7XG4gICAgICAgICAgICBjb25zdCBpZHggPSBjYXNlcy5pbmRleE9mKCRjYXNlKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpZHgsIGlpID0gY2FzZXMubGVuZ3RoOyBpIDwgaWkgJiYgZmFsbFRocm91Z2g7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBjYXNlc1tpXTtcbiAgICAgICAgICAgICAgICBuZXdBY3RpdmVDYXNlcy5wdXNoKGMpO1xuICAgICAgICAgICAgICAgIGZhbGxUaHJvdWdoID0gYy5mYWxsVGhyb3VnaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb25SZXNvbHZlKHRoaXMuY2xlYXJBY3RpdmVDYXNlcyhudWxsLCBmbGFncywgbmV3QWN0aXZlQ2FzZXMpLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUNhc2VzID0gbmV3QWN0aXZlQ2FzZXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmF0ZUNhc2VzKG51bGwsIGZsYWdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN3YXAoaW5pdGlhdG9yLCBmbGFncywgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgbmV3QWN0aXZlQ2FzZXMgPSBbXTtcbiAgICAgICAgbGV0IGZhbGxUaHJvdWdoID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgJGNhc2Ugb2YgdGhpcy5jYXNlcykge1xuICAgICAgICAgICAgaWYgKGZhbGxUaHJvdWdoIHx8ICRjYXNlLmlzTWF0Y2godmFsdWUsIGZsYWdzKSkge1xuICAgICAgICAgICAgICAgIG5ld0FjdGl2ZUNhc2VzLnB1c2goJGNhc2UpO1xuICAgICAgICAgICAgICAgIGZhbGxUaHJvdWdoID0gJGNhc2UuZmFsbFRocm91Z2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3QWN0aXZlQ2FzZXMubGVuZ3RoID4gMCAmJiAhZmFsbFRocm91Z2gpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWZhdWx0Q2FzZSA9IHRoaXMuZGVmYXVsdENhc2U7XG4gICAgICAgIGlmIChuZXdBY3RpdmVDYXNlcy5sZW5ndGggPT09IDAgJiYgZGVmYXVsdENhc2UgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbmV3QWN0aXZlQ2FzZXMucHVzaChkZWZhdWx0Q2FzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZSh0aGlzLmFjdGl2ZUNhc2VzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gdGhpcy5jbGVhckFjdGl2ZUNhc2VzKGluaXRpYXRvciwgZmxhZ3MsIG5ld0FjdGl2ZUNhc2VzKVxuICAgICAgICAgICAgOiB2b2lkIDAsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQ2FzZXMgPSBuZXdBY3RpdmVDYXNlcztcbiAgICAgICAgICAgIGlmIChuZXdBY3RpdmVDYXNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmF0ZUNhc2VzKGluaXRpYXRvciwgZmxhZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWN0aXZhdGVDYXNlcyhpbml0aWF0b3IsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB0aGlzLiRjb250cm9sbGVyO1xuICAgICAgICBpZiAoIWNvbnRyb2xsZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYXNlcyA9IHRoaXMuYWN0aXZlQ2FzZXM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGNhc2VzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjb3BlID0gY29udHJvbGxlci5zY29wZTtcbiAgICAgICAgY29uc3QgaG9zdFNjb3BlID0gY29udHJvbGxlci5ob3N0U2NvcGU7XG4gICAgICAgIC8vIG1vc3QgY29tbW9uIGNhc2VcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhc2VzWzBdLmFjdGl2YXRlKGluaXRpYXRvciwgZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlQWxsKC4uLmNhc2VzLm1hcCgoJGNhc2UpID0+ICRjYXNlLmFjdGl2YXRlKGluaXRpYXRvciwgZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUpKSk7XG4gICAgfVxuICAgIGNsZWFyQWN0aXZlQ2FzZXMoaW5pdGlhdG9yLCBmbGFncywgbmV3QWN0aXZlQ2FzZXMgPSBbXSkge1xuICAgICAgICBjb25zdCBjYXNlcyA9IHRoaXMuYWN0aXZlQ2FzZXM7XG4gICAgICAgIGNvbnN0IG51bUNhc2VzID0gY2FzZXMubGVuZ3RoO1xuICAgICAgICBpZiAobnVtQ2FzZXMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtQ2FzZXMgPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Q2FzZSA9IGNhc2VzWzBdO1xuICAgICAgICAgICAgaWYgKCFuZXdBY3RpdmVDYXNlcy5pbmNsdWRlcyhmaXJzdENhc2UpKSB7XG4gICAgICAgICAgICAgICAgY2FzZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3RDYXNlLmRlYWN0aXZhdGUoaW5pdGlhdG9yLCBmbGFncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9uUmVzb2x2ZShyZXNvbHZlQWxsKC4uLmNhc2VzLnJlZHVjZSgoYWNjLCAkY2FzZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFuZXdBY3RpdmVDYXNlcy5pbmNsdWRlcygkY2FzZSkpIHtcbiAgICAgICAgICAgICAgICBhY2MucHVzaCgkY2FzZS5kZWFjdGl2YXRlKGluaXRpYXRvciwgZmxhZ3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIFtdKSksICgpID0+IHtcbiAgICAgICAgICAgIGNhc2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBxdWV1ZShhY3Rpb24pIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNQcm9taXNlID0gdGhpcy5wcm9taXNlO1xuICAgICAgICBsZXQgcHJvbWlzZSA9IHZvaWQgMDtcbiAgICAgICAgcHJvbWlzZSA9IHRoaXMucHJvbWlzZSA9IG9uUmVzb2x2ZShvblJlc29sdmUocHJldmlvdXNQcm9taXNlLCBhY3Rpb24pLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9taXNlID09PSBwcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9taXNlID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWNjZXB0KHZpc2l0b3IpIHtcbiAgICAgICAgaWYgKHRoaXMuJGNvbnRyb2xsZXIuYWNjZXB0KHZpc2l0b3IpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hY3RpdmVDYXNlcy5zb21lKHggPT4geC5hY2NlcHQodmlzaXRvcikpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5fX2RlY29yYXRlKFtcbiAgICBiaW5kYWJsZVxuXSwgU3dpdGNoLnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB2b2lkIDApO1xuU3dpdGNoID0gX19kZWNvcmF0ZShbXG4gICAgdGVtcGxhdGVDb250cm9sbGVyKCdzd2l0Y2gnKSxcbiAgICBfX3BhcmFtKDAsIElWaWV3RmFjdG9yeSksXG4gICAgX19wYXJhbSgxLCBJUmVuZGVyTG9jYXRpb24pXG5dLCBTd2l0Y2gpO1xuZXhwb3J0IHsgU3dpdGNoIH07XG5sZXQgQ2FzZSA9IGNsYXNzIENhc2Uge1xuICAgIGNvbnN0cnVjdG9yKGZhY3RvcnksIGxvY2F0b3IsIGxvY2F0aW9uLCBsb2dnZXIpIHtcbiAgICAgICAgdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgdGhpcy5sb2NhdG9yID0gbG9jYXRvcjtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRJZCgnYXUkY29tcG9uZW50Jyk7XG4gICAgICAgIHRoaXMuZmFsbFRocm91Z2ggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGxvZ2dlci5jb25maWcubGV2ZWwgPD0gMSAvKiBkZWJ1ZyAqLztcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXIuc2NvcGVUbyhgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9LSMke3RoaXMuaWR9YCk7XG4gICAgICAgIHRoaXMudmlldyA9IHRoaXMuZmFjdG9yeS5jcmVhdGUoKS5zZXRMb2NhdGlvbihsb2NhdGlvbik7XG4gICAgfVxuICAgIGxpbmsoZmxhZ3MsIHBhcmVudENvbnRleHQsIGNvbnRyb2xsZXIsIF9jaGlsZENvbnRyb2xsZXIsIF90YXJnZXQsIF9pbnN0cnVjdGlvbikge1xuICAgICAgICBjb25zdCBzd2l0Y2hDb250cm9sbGVyID0gY29udHJvbGxlci5wYXJlbnQ7XG4gICAgICAgIGNvbnN0ICRzd2l0Y2ggPSBzd2l0Y2hDb250cm9sbGVyID09PSBudWxsIHx8IHN3aXRjaENvbnRyb2xsZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN3aXRjaENvbnRyb2xsZXIudmlld01vZGVsO1xuICAgICAgICBpZiAoJHN3aXRjaCBpbnN0YW5jZW9mIFN3aXRjaCkge1xuICAgICAgICAgICAgdGhpcy4kc3dpdGNoID0gJHN3aXRjaDtcbiAgICAgICAgICAgIHRoaXMubGlua1RvU3dpdGNoKCRzd2l0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcGFyZW50IHN3aXRjaCBub3QgZm91bmQ7IG9ubHkgYCpbc3dpdGNoXSA+ICpbY2FzZXxkZWZhdWx0LWNhc2VdYCByZWxhdGlvbiBpcyBzdXBwb3J0ZWQuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGV0YWNoaW5nKGluaXRpYXRvciwgcGFyZW50LCBmbGFncykge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWFjdGl2YXRlKGluaXRpYXRvciwgZmxhZ3MpO1xuICAgIH1cbiAgICBpc01hdGNoKHZhbHVlLCBmbGFncykge1xuICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ2lzTWF0Y2goKScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0ICR2YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KCR2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9ic2VydmVyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmVyID0gdGhpcy5vYnNlcnZlQ29sbGVjdGlvbihmbGFncywgJHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkdmFsdWUuaW5jbHVkZXModmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkdmFsdWUgPT09IHZhbHVlO1xuICAgIH1cbiAgICB2YWx1ZUNoYW5nZWQobmV3VmFsdWUsIF9vbGRWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMub2JzZXJ2ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51bnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVDb2xsZWN0aW9uKGZsYWdzLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5vYnNlcnZlciAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHN3aXRjaC5jYXNlQ2hhbmdlZCh0aGlzLCBmbGFncyk7XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoX2luZGV4TWFwLCBmbGFncykge1xuICAgICAgICB0aGlzLiRzd2l0Y2guY2FzZUNoYW5nZWQodGhpcywgZmxhZ3MpO1xuICAgIH1cbiAgICBhY3RpdmF0ZShpbml0aWF0b3IsIGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnZpZXc7XG4gICAgICAgIGlmICh2aWV3LmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXcuYWN0aXZhdGUoaW5pdGlhdG9yICE9PSBudWxsICYmIGluaXRpYXRvciAhPT0gdm9pZCAwID8gaW5pdGlhdG9yIDogdmlldywgdGhpcy4kY29udHJvbGxlciwgZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUpO1xuICAgIH1cbiAgICBkZWFjdGl2YXRlKGluaXRpYXRvciwgZmxhZ3MpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMudmlldztcbiAgICAgICAgaWYgKCF2aWV3LmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXcuZGVhY3RpdmF0ZShpbml0aWF0b3IgIT09IG51bGwgJiYgaW5pdGlhdG9yICE9PSB2b2lkIDAgPyBpbml0aWF0b3IgOiB2aWV3LCB0aGlzLiRjb250cm9sbGVyLCBmbGFncyk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIChfYSA9IHRoaXMub2JzZXJ2ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51bnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgKF9iID0gdGhpcy52aWV3KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnZpZXcgPSAodm9pZCAwKTtcbiAgICB9XG4gICAgbGlua1RvU3dpdGNoKGF1U3dpdGNoKSB7XG4gICAgICAgIGF1U3dpdGNoLmNhc2VzLnB1c2godGhpcyk7XG4gICAgfVxuICAgIG9ic2VydmVDb2xsZWN0aW9uKGZsYWdzLCAkdmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmxvY2F0b3IuZ2V0QXJyYXlPYnNlcnZlcigkdmFsdWUpO1xuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUodGhpcyk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9XG4gICAgYWNjZXB0KHZpc2l0b3IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy4kY29udHJvbGxlci5hY2NlcHQodmlzaXRvcikgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLnZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2NlcHQodmlzaXRvcik7XG4gICAgfVxufTtcbl9fZGVjb3JhdGUoW1xuICAgIGJpbmRhYmxlXG5dLCBDYXNlLnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGUoe1xuICAgICAgICBzZXQ6IHYgPT4ge1xuICAgICAgICAgICAgc3dpdGNoICh2KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndHJ1ZSc6IHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZhbHNlJzogcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvc3RyaWN0LWJvb2xlYW4tZXhwcmVzc2lvbnNcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gISF2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb2RlOiBCaW5kaW5nTW9kZS5vbmVUaW1lXG4gICAgfSlcbl0sIENhc2UucHJvdG90eXBlLCBcImZhbGxUaHJvdWdoXCIsIHZvaWQgMCk7XG5DYXNlID0gX19kZWNvcmF0ZShbXG4gICAgdGVtcGxhdGVDb250cm9sbGVyKCdjYXNlJyksXG4gICAgX19wYXJhbSgwLCBJVmlld0ZhY3RvcnkpLFxuICAgIF9fcGFyYW0oMSwgSU9ic2VydmVyTG9jYXRvciksXG4gICAgX19wYXJhbSgyLCBJUmVuZGVyTG9jYXRpb24pLFxuICAgIF9fcGFyYW0oMywgSUxvZ2dlcilcbl0sIENhc2UpO1xuZXhwb3J0IHsgQ2FzZSB9O1xubGV0IERlZmF1bHRDYXNlID0gY2xhc3MgRGVmYXVsdENhc2UgZXh0ZW5kcyBDYXNlIHtcbiAgICBsaW5rVG9Td2l0Y2goJHN3aXRjaCkge1xuICAgICAgICBpZiAoJHN3aXRjaC5kZWZhdWx0Q2FzZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ011bHRpcGxlIFxcJ2RlZmF1bHQtY2FzZVxcJ3MgYXJlIG5vdCBhbGxvd2VkLicpO1xuICAgICAgICB9XG4gICAgICAgICRzd2l0Y2guZGVmYXVsdENhc2UgPSB0aGlzO1xuICAgIH1cbn07XG5EZWZhdWx0Q2FzZSA9IF9fZGVjb3JhdGUoW1xuICAgIHRlbXBsYXRlQ29udHJvbGxlcignZGVmYXVsdC1jYXNlJylcbl0sIERlZmF1bHRDYXNlKTtcbmV4cG9ydCB7IERlZmF1bHRDYXNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2guanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/switch.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/with.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/with.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"With\": () => (/* binding */ With)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _templating_view_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../templating/view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js\");\n/* harmony import */ var _custom_attribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\n\nlet With = class With {\n    constructor(factory, location) {\n        this.factory = factory;\n        this.location = location;\n        this.id = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.nextId)('au$component');\n        this.id = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.nextId)('au$component');\n        this.view = this.factory.create().setLocation(location);\n    }\n    valueChanged(newValue, oldValue, flags) {\n        if (this.$controller.isActive) {\n            // TODO(fkleuver): add logic to the controller that ensures correct handling of race conditions and add integration tests\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this.activateView(this.view, 2 /* fromBind */);\n        }\n    }\n    attaching(initiator, parent, flags) {\n        return this.activateView(initiator, flags);\n    }\n    detaching(initiator, parent, flags) {\n        return this.view.deactivate(initiator, this.$controller, flags);\n    }\n    activateView(initiator, flags) {\n        const { $controller, value } = this;\n        const scope = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.Scope.fromParent($controller.scope, value === void 0 ? {} : value);\n        return this.view.activate(initiator, $controller, flags, scope, $controller.hostScope);\n    }\n    dispose() {\n        this.view.dispose();\n        this.view = (void 0);\n    }\n    accept(visitor) {\n        var _a;\n        if (((_a = this.view) === null || _a === void 0 ? void 0 : _a.accept(visitor)) === true) {\n            return true;\n        }\n    }\n};\n__decorate([\n    _bindable_js__WEBPACK_IMPORTED_MODULE_5__.bindable\n], With.prototype, \"value\", void 0);\nWith = __decorate([\n    (0,_custom_attribute_js__WEBPACK_IMPORTED_MODULE_4__.templateController)('with'),\n    __param(0, _templating_view_js__WEBPACK_IMPORTED_MODULE_3__.IViewFactory),\n    __param(1, _dom_js__WEBPACK_IMPORTED_MODULE_2__.IRenderLocation)\n], With);\n\n//# sourceMappingURL=with.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy90ZW1wbGF0ZS1jb250cm9sbGVycy93aXRoLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9yZXNvdXJjZXMvdGVtcGxhdGUtY29udHJvbGxlcnMvd2l0aC5qcz82MzY0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xuaW1wb3J0IHsgbmV4dElkIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IFNjb3BlIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZSc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRpb24gfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHsgSVZpZXdGYWN0b3J5IH0gZnJvbSAnLi4vLi4vdGVtcGxhdGluZy92aWV3LmpzJztcbmltcG9ydCB7IHRlbXBsYXRlQ29udHJvbGxlciB9IGZyb20gJy4uL2N1c3RvbS1hdHRyaWJ1dGUuanMnO1xuaW1wb3J0IHsgYmluZGFibGUgfSBmcm9tICcuLi8uLi9iaW5kYWJsZS5qcyc7XG5sZXQgV2l0aCA9IGNsYXNzIFdpdGgge1xuICAgIGNvbnN0cnVjdG9yKGZhY3RvcnksIGxvY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRJZCgnYXUkY29tcG9uZW50Jyk7XG4gICAgICAgIHRoaXMuaWQgPSBuZXh0SWQoJ2F1JGNvbXBvbmVudCcpO1xuICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLmZhY3RvcnkuY3JlYXRlKCkuc2V0TG9jYXRpb24obG9jYXRpb24pO1xuICAgIH1cbiAgICB2YWx1ZUNoYW5nZWQobmV3VmFsdWUsIG9sZFZhbHVlLCBmbGFncykge1xuICAgICAgICBpZiAodGhpcy4kY29udHJvbGxlci5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgLy8gVE9ETyhma2xldXZlcik6IGFkZCBsb2dpYyB0byB0aGUgY29udHJvbGxlciB0aGF0IGVuc3VyZXMgY29ycmVjdCBoYW5kbGluZyBvZiByYWNlIGNvbmRpdGlvbnMgYW5kIGFkZCBpbnRlZ3JhdGlvbiB0ZXN0c1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZpZXcodGhpcy52aWV3LCAyIC8qIGZyb21CaW5kICovKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhdHRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2YXRlVmlldyhpbml0aWF0b3IsIGZsYWdzKTtcbiAgICB9XG4gICAgZGV0YWNoaW5nKGluaXRpYXRvciwgcGFyZW50LCBmbGFncykge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmRlYWN0aXZhdGUoaW5pdGlhdG9yLCB0aGlzLiRjb250cm9sbGVyLCBmbGFncyk7XG4gICAgfVxuICAgIGFjdGl2YXRlVmlldyhpbml0aWF0b3IsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IHsgJGNvbnRyb2xsZXIsIHZhbHVlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzY29wZSA9IFNjb3BlLmZyb21QYXJlbnQoJGNvbnRyb2xsZXIuc2NvcGUsIHZhbHVlID09PSB2b2lkIDAgPyB7fSA6IHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5hY3RpdmF0ZShpbml0aWF0b3IsICRjb250cm9sbGVyLCBmbGFncywgc2NvcGUsICRjb250cm9sbGVyLmhvc3RTY29wZSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMudmlldy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudmlldyA9ICh2b2lkIDApO1xuICAgIH1cbiAgICBhY2NlcHQodmlzaXRvcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICgoKF9hID0gdGhpcy52aWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWNjZXB0KHZpc2l0b3IpKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuX19kZWNvcmF0ZShbXG4gICAgYmluZGFibGVcbl0sIFdpdGgucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG5XaXRoID0gX19kZWNvcmF0ZShbXG4gICAgdGVtcGxhdGVDb250cm9sbGVyKCd3aXRoJyksXG4gICAgX19wYXJhbSgwLCBJVmlld0ZhY3RvcnkpLFxuICAgIF9fcGFyYW0oMSwgSVJlbmRlckxvY2F0aW9uKVxuXSwgV2l0aCk7XG5leHBvcnQgeyBXaXRoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aXRoLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/template-controllers/with.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/value-converters/sanitize.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/value-converters/sanitize.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ISanitizer\": () => (/* binding */ ISanitizer),\n/* harmony export */   \"SanitizeValueConverter\": () => (/* binding */ SanitizeValueConverter)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\nconst SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\nconst ISanitizer = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ISanitizer', x => x.singleton(class {\n    sanitize(input) {\n        return input.replace(SCRIPT_REGEX, '');\n    }\n}));\n/**\n * Simple html sanitization converter to preserve whitelisted elements and attributes on a bound property containing html.\n */\nlet SanitizeValueConverter = class SanitizeValueConverter {\n    constructor(sanitizer) {\n        this.sanitizer = sanitizer;\n    }\n    /**\n     * Process the provided markup that flows to the view.\n     *\n     * @param untrustedMarkup - The untrusted markup to be sanitized.\n     */\n    toView(untrustedMarkup) {\n        if (untrustedMarkup == null) {\n            return null;\n        }\n        return this.sanitizer.sanitize(untrustedMarkup);\n    }\n};\nSanitizeValueConverter = __decorate([\n    __param(0, ISanitizer)\n], SanitizeValueConverter);\n\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.valueConverter)('sanitize')(SanitizeValueConverter);\n//# sourceMappingURL=sanitize.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy92YWx1ZS1jb252ZXJ0ZXJzL3Nhbml0aXplLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9yZXNvdXJjZXMvdmFsdWUtY29udmVydGVycy9zYW5pdGl6ZS5qcz8zMGMyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xuaW1wb3J0IHsgREkgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgdmFsdWVDb252ZXJ0ZXIgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lJztcbmNvbnN0IFNDUklQVF9SRUdFWCA9IC88c2NyaXB0XFxiW148XSooPzooPyE8XFwvc2NyaXB0Pik8W148XSopKjxcXC9zY3JpcHQ+L2dpO1xuZXhwb3J0IGNvbnN0IElTYW5pdGl6ZXIgPSBESS5jcmVhdGVJbnRlcmZhY2UoJ0lTYW5pdGl6ZXInLCB4ID0+IHguc2luZ2xldG9uKGNsYXNzIHtcbiAgICBzYW5pdGl6ZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZShTQ1JJUFRfUkVHRVgsICcnKTtcbiAgICB9XG59KSk7XG4vKipcbiAqIFNpbXBsZSBodG1sIHNhbml0aXphdGlvbiBjb252ZXJ0ZXIgdG8gcHJlc2VydmUgd2hpdGVsaXN0ZWQgZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXMgb24gYSBib3VuZCBwcm9wZXJ0eSBjb250YWluaW5nIGh0bWwuXG4gKi9cbmxldCBTYW5pdGl6ZVZhbHVlQ29udmVydGVyID0gY2xhc3MgU2FuaXRpemVWYWx1ZUNvbnZlcnRlciB7XG4gICAgY29uc3RydWN0b3Ioc2FuaXRpemVyKSB7XG4gICAgICAgIHRoaXMuc2FuaXRpemVyID0gc2FuaXRpemVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSBwcm92aWRlZCBtYXJrdXAgdGhhdCBmbG93cyB0byB0aGUgdmlldy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1bnRydXN0ZWRNYXJrdXAgLSBUaGUgdW50cnVzdGVkIG1hcmt1cCB0byBiZSBzYW5pdGl6ZWQuXG4gICAgICovXG4gICAgdG9WaWV3KHVudHJ1c3RlZE1hcmt1cCkge1xuICAgICAgICBpZiAodW50cnVzdGVkTWFya3VwID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNhbml0aXplci5zYW5pdGl6ZSh1bnRydXN0ZWRNYXJrdXApO1xuICAgIH1cbn07XG5TYW5pdGl6ZVZhbHVlQ29udmVydGVyID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgwLCBJU2FuaXRpemVyKVxuXSwgU2FuaXRpemVWYWx1ZUNvbnZlcnRlcik7XG5leHBvcnQgeyBTYW5pdGl6ZVZhbHVlQ29udmVydGVyIH07XG52YWx1ZUNvbnZlcnRlcignc2FuaXRpemUnKShTYW5pdGl6ZVZhbHVlQ29udmVydGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbml0aXplLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/value-converters/sanitize.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/resources/value-converters/view.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/resources/value-converters/view.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ViewValueConverter\": () => (/* binding */ ViewValueConverter)\n/* harmony export */ });\n/* harmony import */ var _templating_view_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../templating/view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\nlet ViewValueConverter = class ViewValueConverter {\n    constructor(viewLocator) {\n        this.viewLocator = viewLocator;\n    }\n    toView(object, viewNameOrSelector) {\n        return this.viewLocator.getViewComponentForObject(object, viewNameOrSelector);\n    }\n};\nViewValueConverter = __decorate([\n    __param(0, _templating_view_js__WEBPACK_IMPORTED_MODULE_0__.IViewLocator)\n], ViewValueConverter);\n\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.valueConverter)('view')(ViewValueConverter);\n//# sourceMappingURL=view.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy92YWx1ZS1jb252ZXJ0ZXJzL3ZpZXcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3Jlc291cmNlcy92YWx1ZS1jb252ZXJ0ZXJzL3ZpZXcuanM/YjY3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19wYXJhbSA9ICh0aGlzICYmIHRoaXMuX19wYXJhbSkgfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufTtcbmltcG9ydCB7IElWaWV3TG9jYXRvciB9IGZyb20gJy4uLy4uL3RlbXBsYXRpbmcvdmlldy5qcyc7XG5pbXBvcnQgeyB2YWx1ZUNvbnZlcnRlciB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xubGV0IFZpZXdWYWx1ZUNvbnZlcnRlciA9IGNsYXNzIFZpZXdWYWx1ZUNvbnZlcnRlciB7XG4gICAgY29uc3RydWN0b3Iodmlld0xvY2F0b3IpIHtcbiAgICAgICAgdGhpcy52aWV3TG9jYXRvciA9IHZpZXdMb2NhdG9yO1xuICAgIH1cbiAgICB0b1ZpZXcob2JqZWN0LCB2aWV3TmFtZU9yU2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0xvY2F0b3IuZ2V0Vmlld0NvbXBvbmVudEZvck9iamVjdChvYmplY3QsIHZpZXdOYW1lT3JTZWxlY3Rvcik7XG4gICAgfVxufTtcblZpZXdWYWx1ZUNvbnZlcnRlciA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oMCwgSVZpZXdMb2NhdG9yKVxuXSwgVmlld1ZhbHVlQ29udmVydGVyKTtcbmV4cG9ydCB7IFZpZXdWYWx1ZUNvbnZlcnRlciB9O1xudmFsdWVDb252ZXJ0ZXIoJ3ZpZXcnKShWaWV3VmFsdWVDb252ZXJ0ZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/resources/value-converters/view.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/semantic-model.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/semantic-model.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SymbolFlags\": () => (/* binding */ SymbolFlags),\n/* harmony export */   \"TemplateControllerSymbol\": () => (/* binding */ TemplateControllerSymbol),\n/* harmony export */   \"ProjectionSymbol\": () => (/* binding */ ProjectionSymbol),\n/* harmony export */   \"CustomAttributeSymbol\": () => (/* binding */ CustomAttributeSymbol),\n/* harmony export */   \"PlainAttributeSymbol\": () => (/* binding */ PlainAttributeSymbol),\n/* harmony export */   \"BindingSymbol\": () => (/* binding */ BindingSymbol),\n/* harmony export */   \"CustomElementSymbol\": () => (/* binding */ CustomElementSymbol),\n/* harmony export */   \"LetElementSymbol\": () => (/* binding */ LetElementSymbol),\n/* harmony export */   \"PlainElementSymbol\": () => (/* binding */ PlainElementSymbol),\n/* harmony export */   \"TextSymbol\": () => (/* binding */ TextSymbol),\n/* harmony export */   \"BindableInfo\": () => (/* binding */ BindableInfo),\n/* harmony export */   \"ElementInfo\": () => (/* binding */ ElementInfo),\n/* harmony export */   \"AttrInfo\": () => (/* binding */ AttrInfo)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n\n\nvar SymbolFlags;\n(function (SymbolFlags) {\n    SymbolFlags[SymbolFlags[\"type\"] = 1023] = \"type\";\n    SymbolFlags[SymbolFlags[\"isTemplateController\"] = 1] = \"isTemplateController\";\n    SymbolFlags[SymbolFlags[\"isProjection\"] = 2] = \"isProjection\";\n    SymbolFlags[SymbolFlags[\"isCustomAttribute\"] = 4] = \"isCustomAttribute\";\n    SymbolFlags[SymbolFlags[\"isPlainAttribute\"] = 8] = \"isPlainAttribute\";\n    SymbolFlags[SymbolFlags[\"isCustomElement\"] = 16] = \"isCustomElement\";\n    SymbolFlags[SymbolFlags[\"isLetElement\"] = 32] = \"isLetElement\";\n    SymbolFlags[SymbolFlags[\"isPlainElement\"] = 64] = \"isPlainElement\";\n    SymbolFlags[SymbolFlags[\"isText\"] = 128] = \"isText\";\n    SymbolFlags[SymbolFlags[\"isBinding\"] = 256] = \"isBinding\";\n    SymbolFlags[SymbolFlags[\"isAuSlot\"] = 512] = \"isAuSlot\";\n    SymbolFlags[SymbolFlags[\"hasMarker\"] = 1024] = \"hasMarker\";\n    SymbolFlags[SymbolFlags[\"hasTemplate\"] = 2048] = \"hasTemplate\";\n    SymbolFlags[SymbolFlags[\"hasAttributes\"] = 4096] = \"hasAttributes\";\n    SymbolFlags[SymbolFlags[\"hasBindings\"] = 8192] = \"hasBindings\";\n    SymbolFlags[SymbolFlags[\"hasChildNodes\"] = 16384] = \"hasChildNodes\";\n    SymbolFlags[SymbolFlags[\"hasProjections\"] = 32768] = \"hasProjections\";\n})(SymbolFlags || (SymbolFlags = {}));\nfunction createMarker(p) {\n    const marker = p.document.createElement('au-m');\n    marker.className = 'au';\n    return marker;\n}\n/**\n * A html attribute that is associated with a registered resource, specifically a template controller.\n */\nclass TemplateControllerSymbol {\n    constructor(p, syntax, info, res = info.name) {\n        this.syntax = syntax;\n        this.info = info;\n        this.res = res;\n        this.flags = 1 /* isTemplateController */ | 1024 /* hasMarker */;\n        this.physicalNode = null;\n        this.template = null;\n        this.templateController = null;\n        this._bindings = null;\n        this.marker = createMarker(p);\n    }\n    get bindings() {\n        if (this._bindings === null) {\n            this._bindings = [];\n            this.flags |= 8192 /* hasBindings */;\n        }\n        return this._bindings;\n    }\n}\nclass ProjectionSymbol {\n    constructor(name, template) {\n        this.name = name;\n        this.template = template;\n        this.flags = 2 /* isProjection */;\n    }\n}\n/**\n * A html attribute that is associated with a registered resource, but not a template controller.\n */\nclass CustomAttributeSymbol {\n    constructor(syntax, info, res = info.name) {\n        this.syntax = syntax;\n        this.info = info;\n        this.res = res;\n        this.flags = 4 /* isCustomAttribute */;\n        this._bindings = null;\n    }\n    get bindings() {\n        if (this._bindings === null) {\n            this._bindings = [];\n            this.flags |= 8192 /* hasBindings */;\n        }\n        return this._bindings;\n    }\n}\n/**\n * An attribute, with either a binding command or an interpolation, whose target is the html\n * attribute of the element.\n *\n * This will never target a bindable property of a custom attribute or element;\n */\nclass PlainAttributeSymbol {\n    constructor(syntax, command, expression) {\n        this.syntax = syntax;\n        this.command = command;\n        this.expression = expression;\n        this.flags = 8 /* isPlainAttribute */;\n    }\n}\n/**\n * Either an attribute on an custom element that maps to a declared bindable property of that element,\n * a single-value bound custom attribute, or one of several bindables that were extracted from the attribute\n * value of a custom attribute with multiple bindings usage.\n *\n * This will always target a bindable property of a custom attribute or element;\n */\nclass BindingSymbol {\n    constructor(command, bindable, expression, rawValue, target) {\n        this.command = command;\n        this.bindable = bindable;\n        this.expression = expression;\n        this.rawValue = rawValue;\n        this.target = target;\n        this.flags = 256 /* isBinding */;\n    }\n}\n/**\n * A html element that is associated with a registered resource either via its (lowerCase) `nodeName`\n * or the value of its `as-element` attribute.\n */\nclass CustomElementSymbol {\n    constructor(p, physicalNode, info, res = info.name, bindables = info.bindables) {\n        this.physicalNode = physicalNode;\n        this.info = info;\n        this.res = res;\n        this.bindables = bindables;\n        this.flags = 16 /* isCustomElement */;\n        this.isTarget = true;\n        this.templateController = null;\n        this._customAttributes = null;\n        this._plainAttributes = null;\n        this._bindings = null;\n        this._childNodes = null;\n        this._projections = null;\n        if (info.containerless) {\n            this.isContainerless = true;\n            this.marker = createMarker(p);\n            this.flags |= 1024 /* hasMarker */;\n        }\n        else {\n            this.isContainerless = false;\n            this.marker = null;\n        }\n    }\n    get customAttributes() {\n        if (this._customAttributes === null) {\n            this._customAttributes = [];\n            this.flags |= 4096 /* hasAttributes */;\n        }\n        return this._customAttributes;\n    }\n    get plainAttributes() {\n        if (this._plainAttributes === null) {\n            this._plainAttributes = [];\n            this.flags |= 4096 /* hasAttributes */;\n        }\n        return this._plainAttributes;\n    }\n    get bindings() {\n        if (this._bindings === null) {\n            this._bindings = [];\n            this.flags |= 8192 /* hasBindings */;\n        }\n        return this._bindings;\n    }\n    get childNodes() {\n        if (this._childNodes === null) {\n            this._childNodes = [];\n            this.flags |= 16384 /* hasChildNodes */;\n        }\n        return this._childNodes;\n    }\n    get projections() {\n        if (this._projections === null) {\n            this._projections = [];\n            this.flags |= 32768 /* hasProjections */;\n        }\n        return this._projections;\n    }\n}\nclass LetElementSymbol {\n    constructor(p, physicalNode, marker = createMarker(p)) {\n        this.physicalNode = physicalNode;\n        this.marker = marker;\n        this.flags = 32 /* isLetElement */ | 1024 /* hasMarker */;\n        this.toBindingContext = false;\n        this._bindings = null;\n    }\n    get bindings() {\n        if (this._bindings === null) {\n            this._bindings = [];\n            this.flags |= 8192 /* hasBindings */;\n        }\n        return this._bindings;\n    }\n}\n/**\n * A normal html element that may or may not have attribute behaviors and/or child node behaviors.\n *\n * It is possible for a PlainElementSymbol to not yield any instructions during compilation.\n */\nclass PlainElementSymbol {\n    constructor(physicalNode) {\n        this.physicalNode = physicalNode;\n        this.flags = 64 /* isPlainElement */;\n        this.isTarget = false;\n        this.templateController = null;\n        this.hasSlots = false;\n        this._customAttributes = null;\n        this._plainAttributes = null;\n        this._childNodes = null;\n    }\n    get customAttributes() {\n        if (this._customAttributes === null) {\n            this._customAttributes = [];\n            this.flags |= 4096 /* hasAttributes */;\n        }\n        return this._customAttributes;\n    }\n    get plainAttributes() {\n        if (this._plainAttributes === null) {\n            this._plainAttributes = [];\n            this.flags |= 4096 /* hasAttributes */;\n        }\n        return this._plainAttributes;\n    }\n    get childNodes() {\n        if (this._childNodes === null) {\n            this._childNodes = [];\n            this.flags |= 16384 /* hasChildNodes */;\n        }\n        return this._childNodes;\n    }\n}\n/**\n * A standalone text node that has an interpolation.\n */\nclass TextSymbol {\n    constructor(p, physicalNode, interpolation, marker = createMarker(p)) {\n        this.physicalNode = physicalNode;\n        this.interpolation = interpolation;\n        this.marker = marker;\n        this.flags = 128 /* isText */ | 1024 /* hasMarker */;\n    }\n}\n/**\n * A pre-processed piece of information about a defined bindable property on a custom\n * element or attribute, optimized for consumption by the template compiler.\n */\nclass BindableInfo {\n    constructor(\n    /**\n     * The pre-processed *property* (not attribute) name of the bindable, which is\n     * (in order of priority):\n     *\n     * 1. The `property` from the description (if defined)\n     * 2. The name of the property of the bindable itself\n     */\n    propName, \n    /**\n     * The pre-processed (default) bindingMode of the bindable, which is (in order of priority):\n     *\n     * 1. The `mode` from the bindable (if defined and not bindingMode.default)\n     * 2. The `defaultBindingMode` (if it's an attribute, defined, and not bindingMode.default)\n     * 3. `bindingMode.toView`\n     */\n    mode) {\n        this.propName = propName;\n        this.mode = mode;\n    }\n}\nconst elementInfoLookup = new WeakMap();\n/**\n * Pre-processed information about a custom element resource, optimized\n * for consumption by the template compiler.\n */\nclass ElementInfo {\n    constructor(name, alias, containerless) {\n        this.name = name;\n        this.alias = alias;\n        this.containerless = containerless;\n        /**\n         * A lookup of the bindables of this element, indexed by the (pre-processed)\n         * attribute names as they would be found in parsed markup.\n         */\n        this.bindables = Object.create(null);\n    }\n    static from(def, alias) {\n        if (def === null) {\n            return null;\n        }\n        let rec = elementInfoLookup.get(def);\n        if (rec === void 0) {\n            elementInfoLookup.set(def, rec = Object.create(null));\n        }\n        let info = rec[alias];\n        if (info === void 0) {\n            info = rec[alias] = new ElementInfo(def.name, alias === def.name ? void 0 : alias, def.containerless);\n            const bindables = def.bindables;\n            const defaultBindingMode = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView;\n            let bindable;\n            let prop;\n            let attr;\n            let mode;\n            for (prop in bindables) {\n                bindable = bindables[prop];\n                // explicitly provided property name has priority over the implicit property name\n                if (bindable.property !== void 0) {\n                    prop = bindable.property;\n                }\n                // explicitly provided attribute name has priority over the derived implicit attribute name\n                if (bindable.attribute !== void 0) {\n                    attr = bindable.attribute;\n                }\n                else {\n                    // derive the attribute name from the resolved property name\n                    attr = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.kebabCase)(prop);\n                }\n                if (bindable.mode !== void 0 && bindable.mode !== _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.default) {\n                    mode = bindable.mode;\n                }\n                else {\n                    mode = defaultBindingMode;\n                }\n                info.bindables[attr] = new BindableInfo(prop, mode);\n            }\n        }\n        return info;\n    }\n}\nconst attrInfoLookup = new WeakMap();\n/**\n * Pre-processed information about a custom attribute resource, optimized\n * for consumption by the template compiler.\n */\nclass AttrInfo {\n    constructor(name, alias, isTemplateController, noMultiBindings) {\n        this.name = name;\n        this.alias = alias;\n        this.isTemplateController = isTemplateController;\n        this.noMultiBindings = noMultiBindings;\n        /**\n         * A lookup of the bindables of this attribute, indexed by the (pre-processed)\n         * bindable names as they would be found in the attribute value.\n         *\n         * Only applicable to multi attribute bindings (semicolon-separated).\n         */\n        this.bindables = Object.create(null);\n        /**\n         * The single or first bindable of this attribute, or a default 'value'\n         * bindable if no bindables were defined on the attribute.\n         *\n         * Only applicable to single attribute bindings (where the attribute value\n         * contains no semicolons)\n         */\n        this.bindable = null;\n    }\n    static from(def, alias) {\n        if (def === null) {\n            return null;\n        }\n        let rec = attrInfoLookup.get(def);\n        if (rec === void 0) {\n            attrInfoLookup.set(def, rec = Object.create(null));\n        }\n        let info = rec[alias];\n        if (info === void 0) {\n            info = rec[alias] = new AttrInfo(def.name, alias === def.name ? void 0 : alias, def.isTemplateController, def.noMultiBindings);\n            const bindables = def.bindables;\n            const defaultBindingMode = def.defaultBindingMode !== void 0 && def.defaultBindingMode !== _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.default\n                ? def.defaultBindingMode\n                : _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView;\n            let bindable;\n            let prop;\n            let mode;\n            let hasPrimary = false;\n            let isPrimary = false;\n            let bindableInfo;\n            for (prop in bindables) {\n                bindable = bindables[prop];\n                // explicitly provided property name has priority over the implicit property name\n                if (bindable.property !== void 0) {\n                    prop = bindable.property;\n                }\n                if (bindable.mode !== void 0 && bindable.mode !== _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.default) {\n                    mode = bindable.mode;\n                }\n                else {\n                    mode = defaultBindingMode;\n                }\n                isPrimary = bindable.primary === true;\n                bindableInfo = info.bindables[prop] = new BindableInfo(prop, mode);\n                if (isPrimary) {\n                    if (hasPrimary) {\n                        throw new Error('primary already exists');\n                    }\n                    hasPrimary = true;\n                    info.bindable = bindableInfo;\n                }\n                // set to first bindable by convention\n                if (info.bindable === null) {\n                    info.bindable = bindableInfo;\n                }\n            }\n            // if no bindables are present, default to \"value\"\n            if (info.bindable === null) {\n                info.bindable = new BindableInfo('value', defaultBindingMode);\n            }\n        }\n        return info;\n    }\n}\n//# sourceMappingURL=semantic-model.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3NlbWFudGljLW1vZGVsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS9zZW1hbnRpYy1tb2RlbC5qcz8xMTc3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGtlYmFiQ2FzZSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBCaW5kaW5nTW9kZSB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuZXhwb3J0IHZhciBTeW1ib2xGbGFncztcbihmdW5jdGlvbiAoU3ltYm9sRmxhZ3MpIHtcbiAgICBTeW1ib2xGbGFnc1tTeW1ib2xGbGFnc1tcInR5cGVcIl0gPSAxMDIzXSA9IFwidHlwZVwiO1xuICAgIFN5bWJvbEZsYWdzW1N5bWJvbEZsYWdzW1wiaXNUZW1wbGF0ZUNvbnRyb2xsZXJcIl0gPSAxXSA9IFwiaXNUZW1wbGF0ZUNvbnRyb2xsZXJcIjtcbiAgICBTeW1ib2xGbGFnc1tTeW1ib2xGbGFnc1tcImlzUHJvamVjdGlvblwiXSA9IDJdID0gXCJpc1Byb2plY3Rpb25cIjtcbiAgICBTeW1ib2xGbGFnc1tTeW1ib2xGbGFnc1tcImlzQ3VzdG9tQXR0cmlidXRlXCJdID0gNF0gPSBcImlzQ3VzdG9tQXR0cmlidXRlXCI7XG4gICAgU3ltYm9sRmxhZ3NbU3ltYm9sRmxhZ3NbXCJpc1BsYWluQXR0cmlidXRlXCJdID0gOF0gPSBcImlzUGxhaW5BdHRyaWJ1dGVcIjtcbiAgICBTeW1ib2xGbGFnc1tTeW1ib2xGbGFnc1tcImlzQ3VzdG9tRWxlbWVudFwiXSA9IDE2XSA9IFwiaXNDdXN0b21FbGVtZW50XCI7XG4gICAgU3ltYm9sRmxhZ3NbU3ltYm9sRmxhZ3NbXCJpc0xldEVsZW1lbnRcIl0gPSAzMl0gPSBcImlzTGV0RWxlbWVudFwiO1xuICAgIFN5bWJvbEZsYWdzW1N5bWJvbEZsYWdzW1wiaXNQbGFpbkVsZW1lbnRcIl0gPSA2NF0gPSBcImlzUGxhaW5FbGVtZW50XCI7XG4gICAgU3ltYm9sRmxhZ3NbU3ltYm9sRmxhZ3NbXCJpc1RleHRcIl0gPSAxMjhdID0gXCJpc1RleHRcIjtcbiAgICBTeW1ib2xGbGFnc1tTeW1ib2xGbGFnc1tcImlzQmluZGluZ1wiXSA9IDI1Nl0gPSBcImlzQmluZGluZ1wiO1xuICAgIFN5bWJvbEZsYWdzW1N5bWJvbEZsYWdzW1wiaXNBdVNsb3RcIl0gPSA1MTJdID0gXCJpc0F1U2xvdFwiO1xuICAgIFN5bWJvbEZsYWdzW1N5bWJvbEZsYWdzW1wiaGFzTWFya2VyXCJdID0gMTAyNF0gPSBcImhhc01hcmtlclwiO1xuICAgIFN5bWJvbEZsYWdzW1N5bWJvbEZsYWdzW1wiaGFzVGVtcGxhdGVcIl0gPSAyMDQ4XSA9IFwiaGFzVGVtcGxhdGVcIjtcbiAgICBTeW1ib2xGbGFnc1tTeW1ib2xGbGFnc1tcImhhc0F0dHJpYnV0ZXNcIl0gPSA0MDk2XSA9IFwiaGFzQXR0cmlidXRlc1wiO1xuICAgIFN5bWJvbEZsYWdzW1N5bWJvbEZsYWdzW1wiaGFzQmluZGluZ3NcIl0gPSA4MTkyXSA9IFwiaGFzQmluZGluZ3NcIjtcbiAgICBTeW1ib2xGbGFnc1tTeW1ib2xGbGFnc1tcImhhc0NoaWxkTm9kZXNcIl0gPSAxNjM4NF0gPSBcImhhc0NoaWxkTm9kZXNcIjtcbiAgICBTeW1ib2xGbGFnc1tTeW1ib2xGbGFnc1tcImhhc1Byb2plY3Rpb25zXCJdID0gMzI3NjhdID0gXCJoYXNQcm9qZWN0aW9uc1wiO1xufSkoU3ltYm9sRmxhZ3MgfHwgKFN5bWJvbEZsYWdzID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZU1hcmtlcihwKSB7XG4gICAgY29uc3QgbWFya2VyID0gcC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdS1tJyk7XG4gICAgbWFya2VyLmNsYXNzTmFtZSA9ICdhdSc7XG4gICAgcmV0dXJuIG1hcmtlcjtcbn1cbi8qKlxuICogQSBodG1sIGF0dHJpYnV0ZSB0aGF0IGlzIGFzc29jaWF0ZWQgd2l0aCBhIHJlZ2lzdGVyZWQgcmVzb3VyY2UsIHNwZWNpZmljYWxseSBhIHRlbXBsYXRlIGNvbnRyb2xsZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZUNvbnRyb2xsZXJTeW1ib2wge1xuICAgIGNvbnN0cnVjdG9yKHAsIHN5bnRheCwgaW5mbywgcmVzID0gaW5mby5uYW1lKSB7XG4gICAgICAgIHRoaXMuc3ludGF4ID0gc3ludGF4O1xuICAgICAgICB0aGlzLmluZm8gPSBpbmZvO1xuICAgICAgICB0aGlzLnJlcyA9IHJlcztcbiAgICAgICAgdGhpcy5mbGFncyA9IDEgLyogaXNUZW1wbGF0ZUNvbnRyb2xsZXIgKi8gfCAxMDI0IC8qIGhhc01hcmtlciAqLztcbiAgICAgICAgdGhpcy5waHlzaWNhbE5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUNvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9iaW5kaW5ncyA9IG51bGw7XG4gICAgICAgIHRoaXMubWFya2VyID0gY3JlYXRlTWFya2VyKHApO1xuICAgIH1cbiAgICBnZXQgYmluZGluZ3MoKSB7XG4gICAgICAgIGlmICh0aGlzLl9iaW5kaW5ncyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYmluZGluZ3MgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgfD0gODE5MiAvKiBoYXNCaW5kaW5ncyAqLztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ3M7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFByb2plY3Rpb25TeW1ib2wge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHRlbXBsYXRlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5mbGFncyA9IDIgLyogaXNQcm9qZWN0aW9uICovO1xuICAgIH1cbn1cbi8qKlxuICogQSBodG1sIGF0dHJpYnV0ZSB0aGF0IGlzIGFzc29jaWF0ZWQgd2l0aCBhIHJlZ2lzdGVyZWQgcmVzb3VyY2UsIGJ1dCBub3QgYSB0ZW1wbGF0ZSBjb250cm9sbGVyLlxuICovXG5leHBvcnQgY2xhc3MgQ3VzdG9tQXR0cmlidXRlU3ltYm9sIHtcbiAgICBjb25zdHJ1Y3RvcihzeW50YXgsIGluZm8sIHJlcyA9IGluZm8ubmFtZSkge1xuICAgICAgICB0aGlzLnN5bnRheCA9IHN5bnRheDtcbiAgICAgICAgdGhpcy5pbmZvID0gaW5mbztcbiAgICAgICAgdGhpcy5yZXMgPSByZXM7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSA0IC8qIGlzQ3VzdG9tQXR0cmlidXRlICovO1xuICAgICAgICB0aGlzLl9iaW5kaW5ncyA9IG51bGw7XG4gICAgfVxuICAgIGdldCBiaW5kaW5ncygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JpbmRpbmdzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9iaW5kaW5ncyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5mbGFncyB8PSA4MTkyIC8qIGhhc0JpbmRpbmdzICovO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5ncztcbiAgICB9XG59XG4vKipcbiAqIEFuIGF0dHJpYnV0ZSwgd2l0aCBlaXRoZXIgYSBiaW5kaW5nIGNvbW1hbmQgb3IgYW4gaW50ZXJwb2xhdGlvbiwgd2hvc2UgdGFyZ2V0IGlzIHRoZSBodG1sXG4gKiBhdHRyaWJ1dGUgb2YgdGhlIGVsZW1lbnQuXG4gKlxuICogVGhpcyB3aWxsIG5ldmVyIHRhcmdldCBhIGJpbmRhYmxlIHByb3BlcnR5IG9mIGEgY3VzdG9tIGF0dHJpYnV0ZSBvciBlbGVtZW50O1xuICovXG5leHBvcnQgY2xhc3MgUGxhaW5BdHRyaWJ1dGVTeW1ib2wge1xuICAgIGNvbnN0cnVjdG9yKHN5bnRheCwgY29tbWFuZCwgZXhwcmVzc2lvbikge1xuICAgICAgICB0aGlzLnN5bnRheCA9IHN5bnRheDtcbiAgICAgICAgdGhpcy5jb21tYW5kID0gY29tbWFuZDtcbiAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcbiAgICAgICAgdGhpcy5mbGFncyA9IDggLyogaXNQbGFpbkF0dHJpYnV0ZSAqLztcbiAgICB9XG59XG4vKipcbiAqIEVpdGhlciBhbiBhdHRyaWJ1dGUgb24gYW4gY3VzdG9tIGVsZW1lbnQgdGhhdCBtYXBzIHRvIGEgZGVjbGFyZWQgYmluZGFibGUgcHJvcGVydHkgb2YgdGhhdCBlbGVtZW50LFxuICogYSBzaW5nbGUtdmFsdWUgYm91bmQgY3VzdG9tIGF0dHJpYnV0ZSwgb3Igb25lIG9mIHNldmVyYWwgYmluZGFibGVzIHRoYXQgd2VyZSBleHRyYWN0ZWQgZnJvbSB0aGUgYXR0cmlidXRlXG4gKiB2YWx1ZSBvZiBhIGN1c3RvbSBhdHRyaWJ1dGUgd2l0aCBtdWx0aXBsZSBiaW5kaW5ncyB1c2FnZS5cbiAqXG4gKiBUaGlzIHdpbGwgYWx3YXlzIHRhcmdldCBhIGJpbmRhYmxlIHByb3BlcnR5IG9mIGEgY3VzdG9tIGF0dHJpYnV0ZSBvciBlbGVtZW50O1xuICovXG5leHBvcnQgY2xhc3MgQmluZGluZ1N5bWJvbCB7XG4gICAgY29uc3RydWN0b3IoY29tbWFuZCwgYmluZGFibGUsIGV4cHJlc3Npb24sIHJhd1ZhbHVlLCB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kID0gY29tbWFuZDtcbiAgICAgICAgdGhpcy5iaW5kYWJsZSA9IGJpbmRhYmxlO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xuICAgICAgICB0aGlzLnJhd1ZhbHVlID0gcmF3VmFsdWU7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmZsYWdzID0gMjU2IC8qIGlzQmluZGluZyAqLztcbiAgICB9XG59XG4vKipcbiAqIEEgaHRtbCBlbGVtZW50IHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoIGEgcmVnaXN0ZXJlZCByZXNvdXJjZSBlaXRoZXIgdmlhIGl0cyAobG93ZXJDYXNlKSBgbm9kZU5hbWVgXG4gKiBvciB0aGUgdmFsdWUgb2YgaXRzIGBhcy1lbGVtZW50YCBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBDdXN0b21FbGVtZW50U3ltYm9sIHtcbiAgICBjb25zdHJ1Y3RvcihwLCBwaHlzaWNhbE5vZGUsIGluZm8sIHJlcyA9IGluZm8ubmFtZSwgYmluZGFibGVzID0gaW5mby5iaW5kYWJsZXMpIHtcbiAgICAgICAgdGhpcy5waHlzaWNhbE5vZGUgPSBwaHlzaWNhbE5vZGU7XG4gICAgICAgIHRoaXMuaW5mbyA9IGluZm87XG4gICAgICAgIHRoaXMucmVzID0gcmVzO1xuICAgICAgICB0aGlzLmJpbmRhYmxlcyA9IGJpbmRhYmxlcztcbiAgICAgICAgdGhpcy5mbGFncyA9IDE2IC8qIGlzQ3VzdG9tRWxlbWVudCAqLztcbiAgICAgICAgdGhpcy5pc1RhcmdldCA9IHRydWU7XG4gICAgICAgIHRoaXMudGVtcGxhdGVDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VzdG9tQXR0cmlidXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BsYWluQXR0cmlidXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JpbmRpbmdzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2hpbGROb2RlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Byb2plY3Rpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKGluZm8uY29udGFpbmVybGVzcykge1xuICAgICAgICAgICAgdGhpcy5pc0NvbnRhaW5lcmxlc3MgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYXJrZXIgPSBjcmVhdGVNYXJrZXIocCk7XG4gICAgICAgICAgICB0aGlzLmZsYWdzIHw9IDEwMjQgLyogaGFzTWFya2VyICovO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc0NvbnRhaW5lcmxlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubWFya2VyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgY3VzdG9tQXR0cmlidXRlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgfD0gNDA5NiAvKiBoYXNBdHRyaWJ1dGVzICovO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21BdHRyaWJ1dGVzO1xuICAgIH1cbiAgICBnZXQgcGxhaW5BdHRyaWJ1dGVzKCkge1xuICAgICAgICBpZiAodGhpcy5fcGxhaW5BdHRyaWJ1dGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9wbGFpbkF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgfD0gNDA5NiAvKiBoYXNBdHRyaWJ1dGVzICovO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wbGFpbkF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIGdldCBiaW5kaW5ncygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JpbmRpbmdzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9iaW5kaW5ncyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5mbGFncyB8PSA4MTkyIC8qIGhhc0JpbmRpbmdzICovO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5ncztcbiAgICB9XG4gICAgZ2V0IGNoaWxkTm9kZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaGlsZE5vZGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzID0gW107XG4gICAgICAgICAgICB0aGlzLmZsYWdzIHw9IDE2Mzg0IC8qIGhhc0NoaWxkTm9kZXMgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXM7XG4gICAgfVxuICAgIGdldCBwcm9qZWN0aW9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2plY3Rpb25zID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9qZWN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5mbGFncyB8PSAzMjc2OCAvKiBoYXNQcm9qZWN0aW9ucyAqLztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvamVjdGlvbnM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIExldEVsZW1lbnRTeW1ib2wge1xuICAgIGNvbnN0cnVjdG9yKHAsIHBoeXNpY2FsTm9kZSwgbWFya2VyID0gY3JlYXRlTWFya2VyKHApKSB7XG4gICAgICAgIHRoaXMucGh5c2ljYWxOb2RlID0gcGh5c2ljYWxOb2RlO1xuICAgICAgICB0aGlzLm1hcmtlciA9IG1hcmtlcjtcbiAgICAgICAgdGhpcy5mbGFncyA9IDMyIC8qIGlzTGV0RWxlbWVudCAqLyB8IDEwMjQgLyogaGFzTWFya2VyICovO1xuICAgICAgICB0aGlzLnRvQmluZGluZ0NvbnRleHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYmluZGluZ3MgPSBudWxsO1xuICAgIH1cbiAgICBnZXQgYmluZGluZ3MoKSB7XG4gICAgICAgIGlmICh0aGlzLl9iaW5kaW5ncyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYmluZGluZ3MgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgfD0gODE5MiAvKiBoYXNCaW5kaW5ncyAqLztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ3M7XG4gICAgfVxufVxuLyoqXG4gKiBBIG5vcm1hbCBodG1sIGVsZW1lbnQgdGhhdCBtYXkgb3IgbWF5IG5vdCBoYXZlIGF0dHJpYnV0ZSBiZWhhdmlvcnMgYW5kL29yIGNoaWxkIG5vZGUgYmVoYXZpb3JzLlxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIGZvciBhIFBsYWluRWxlbWVudFN5bWJvbCB0byBub3QgeWllbGQgYW55IGluc3RydWN0aW9ucyBkdXJpbmcgY29tcGlsYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBQbGFpbkVsZW1lbnRTeW1ib2wge1xuICAgIGNvbnN0cnVjdG9yKHBoeXNpY2FsTm9kZSkge1xuICAgICAgICB0aGlzLnBoeXNpY2FsTm9kZSA9IHBoeXNpY2FsTm9kZTtcbiAgICAgICAgdGhpcy5mbGFncyA9IDY0IC8qIGlzUGxhaW5FbGVtZW50ICovO1xuICAgICAgICB0aGlzLmlzVGFyZ2V0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGVtcGxhdGVDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYXNTbG90cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jdXN0b21BdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGxhaW5BdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2hpbGROb2RlcyA9IG51bGw7XG4gICAgfVxuICAgIGdldCBjdXN0b21BdHRyaWJ1dGVzKCkge1xuICAgICAgICBpZiAodGhpcy5fY3VzdG9tQXR0cmlidXRlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fY3VzdG9tQXR0cmlidXRlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5mbGFncyB8PSA0MDk2IC8qIGhhc0F0dHJpYnV0ZXMgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIGdldCBwbGFpbkF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9wbGFpbkF0dHJpYnV0ZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3BsYWluQXR0cmlidXRlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5mbGFncyB8PSA0MDk2IC8qIGhhc0F0dHJpYnV0ZXMgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYWluQXR0cmlidXRlcztcbiAgICB9XG4gICAgZ2V0IGNoaWxkTm9kZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaGlsZE5vZGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzID0gW107XG4gICAgICAgICAgICB0aGlzLmZsYWdzIHw9IDE2Mzg0IC8qIGhhc0NoaWxkTm9kZXMgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXM7XG4gICAgfVxufVxuLyoqXG4gKiBBIHN0YW5kYWxvbmUgdGV4dCBub2RlIHRoYXQgaGFzIGFuIGludGVycG9sYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0U3ltYm9sIHtcbiAgICBjb25zdHJ1Y3RvcihwLCBwaHlzaWNhbE5vZGUsIGludGVycG9sYXRpb24sIG1hcmtlciA9IGNyZWF0ZU1hcmtlcihwKSkge1xuICAgICAgICB0aGlzLnBoeXNpY2FsTm9kZSA9IHBoeXNpY2FsTm9kZTtcbiAgICAgICAgdGhpcy5pbnRlcnBvbGF0aW9uID0gaW50ZXJwb2xhdGlvbjtcbiAgICAgICAgdGhpcy5tYXJrZXIgPSBtYXJrZXI7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSAxMjggLyogaXNUZXh0ICovIHwgMTAyNCAvKiBoYXNNYXJrZXIgKi87XG4gICAgfVxufVxuLyoqXG4gKiBBIHByZS1wcm9jZXNzZWQgcGllY2Ugb2YgaW5mb3JtYXRpb24gYWJvdXQgYSBkZWZpbmVkIGJpbmRhYmxlIHByb3BlcnR5IG9uIGEgY3VzdG9tXG4gKiBlbGVtZW50IG9yIGF0dHJpYnV0ZSwgb3B0aW1pemVkIGZvciBjb25zdW1wdGlvbiBieSB0aGUgdGVtcGxhdGUgY29tcGlsZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBCaW5kYWJsZUluZm8ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBwcmUtcHJvY2Vzc2VkICpwcm9wZXJ0eSogKG5vdCBhdHRyaWJ1dGUpIG5hbWUgb2YgdGhlIGJpbmRhYmxlLCB3aGljaCBpc1xuICAgICAqIChpbiBvcmRlciBvZiBwcmlvcml0eSk6XG4gICAgICpcbiAgICAgKiAxLiBUaGUgYHByb3BlcnR5YCBmcm9tIHRoZSBkZXNjcmlwdGlvbiAoaWYgZGVmaW5lZClcbiAgICAgKiAyLiBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgb2YgdGhlIGJpbmRhYmxlIGl0c2VsZlxuICAgICAqL1xuICAgIHByb3BOYW1lLCBcbiAgICAvKipcbiAgICAgKiBUaGUgcHJlLXByb2Nlc3NlZCAoZGVmYXVsdCkgYmluZGluZ01vZGUgb2YgdGhlIGJpbmRhYmxlLCB3aGljaCBpcyAoaW4gb3JkZXIgb2YgcHJpb3JpdHkpOlxuICAgICAqXG4gICAgICogMS4gVGhlIGBtb2RlYCBmcm9tIHRoZSBiaW5kYWJsZSAoaWYgZGVmaW5lZCBhbmQgbm90IGJpbmRpbmdNb2RlLmRlZmF1bHQpXG4gICAgICogMi4gVGhlIGBkZWZhdWx0QmluZGluZ01vZGVgIChpZiBpdCdzIGFuIGF0dHJpYnV0ZSwgZGVmaW5lZCwgYW5kIG5vdCBiaW5kaW5nTW9kZS5kZWZhdWx0KVxuICAgICAqIDMuIGBiaW5kaW5nTW9kZS50b1ZpZXdgXG4gICAgICovXG4gICAgbW9kZSkge1xuICAgICAgICB0aGlzLnByb3BOYW1lID0gcHJvcE5hbWU7XG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgfVxufVxuY29uc3QgZWxlbWVudEluZm9Mb29rdXAgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBQcmUtcHJvY2Vzc2VkIGluZm9ybWF0aW9uIGFib3V0IGEgY3VzdG9tIGVsZW1lbnQgcmVzb3VyY2UsIG9wdGltaXplZFxuICogZm9yIGNvbnN1bXB0aW9uIGJ5IHRoZSB0ZW1wbGF0ZSBjb21waWxlci5cbiAqL1xuZXhwb3J0IGNsYXNzIEVsZW1lbnRJbmZvIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBhbGlhcywgY29udGFpbmVybGVzcykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmFsaWFzID0gYWxpYXM7XG4gICAgICAgIHRoaXMuY29udGFpbmVybGVzcyA9IGNvbnRhaW5lcmxlc3M7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxvb2t1cCBvZiB0aGUgYmluZGFibGVzIG9mIHRoaXMgZWxlbWVudCwgaW5kZXhlZCBieSB0aGUgKHByZS1wcm9jZXNzZWQpXG4gICAgICAgICAqIGF0dHJpYnV0ZSBuYW1lcyBhcyB0aGV5IHdvdWxkIGJlIGZvdW5kIGluIHBhcnNlZCBtYXJrdXAuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJpbmRhYmxlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKGRlZiwgYWxpYXMpIHtcbiAgICAgICAgaWYgKGRlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlYyA9IGVsZW1lbnRJbmZvTG9va3VwLmdldChkZWYpO1xuICAgICAgICBpZiAocmVjID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGVsZW1lbnRJbmZvTG9va3VwLnNldChkZWYsIHJlYyA9IE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbmZvID0gcmVjW2FsaWFzXTtcbiAgICAgICAgaWYgKGluZm8gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaW5mbyA9IHJlY1thbGlhc10gPSBuZXcgRWxlbWVudEluZm8oZGVmLm5hbWUsIGFsaWFzID09PSBkZWYubmFtZSA/IHZvaWQgMCA6IGFsaWFzLCBkZWYuY29udGFpbmVybGVzcyk7XG4gICAgICAgICAgICBjb25zdCBiaW5kYWJsZXMgPSBkZWYuYmluZGFibGVzO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdEJpbmRpbmdNb2RlID0gQmluZGluZ01vZGUudG9WaWV3O1xuICAgICAgICAgICAgbGV0IGJpbmRhYmxlO1xuICAgICAgICAgICAgbGV0IHByb3A7XG4gICAgICAgICAgICBsZXQgYXR0cjtcbiAgICAgICAgICAgIGxldCBtb2RlO1xuICAgICAgICAgICAgZm9yIChwcm9wIGluIGJpbmRhYmxlcykge1xuICAgICAgICAgICAgICAgIGJpbmRhYmxlID0gYmluZGFibGVzW3Byb3BdO1xuICAgICAgICAgICAgICAgIC8vIGV4cGxpY2l0bHkgcHJvdmlkZWQgcHJvcGVydHkgbmFtZSBoYXMgcHJpb3JpdHkgb3ZlciB0aGUgaW1wbGljaXQgcHJvcGVydHkgbmFtZVxuICAgICAgICAgICAgICAgIGlmIChiaW5kYWJsZS5wcm9wZXJ0eSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3AgPSBiaW5kYWJsZS5wcm9wZXJ0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZXhwbGljaXRseSBwcm92aWRlZCBhdHRyaWJ1dGUgbmFtZSBoYXMgcHJpb3JpdHkgb3ZlciB0aGUgZGVyaXZlZCBpbXBsaWNpdCBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgICAgICAgIGlmIChiaW5kYWJsZS5hdHRyaWJ1dGUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyID0gYmluZGFibGUuYXR0cmlidXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVyaXZlIHRoZSBhdHRyaWJ1dGUgbmFtZSBmcm9tIHRoZSByZXNvbHZlZCBwcm9wZXJ0eSBuYW1lXG4gICAgICAgICAgICAgICAgICAgIGF0dHIgPSBrZWJhYkNhc2UocHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiaW5kYWJsZS5tb2RlICE9PSB2b2lkIDAgJiYgYmluZGFibGUubW9kZSAhPT0gQmluZGluZ01vZGUuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlID0gYmluZGFibGUubW9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGUgPSBkZWZhdWx0QmluZGluZ01vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZm8uYmluZGFibGVzW2F0dHJdID0gbmV3IEJpbmRhYmxlSW5mbyhwcm9wLCBtb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5mbztcbiAgICB9XG59XG5jb25zdCBhdHRySW5mb0xvb2t1cCA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIFByZS1wcm9jZXNzZWQgaW5mb3JtYXRpb24gYWJvdXQgYSBjdXN0b20gYXR0cmlidXRlIHJlc291cmNlLCBvcHRpbWl6ZWRcbiAqIGZvciBjb25zdW1wdGlvbiBieSB0aGUgdGVtcGxhdGUgY29tcGlsZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRySW5mbyB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgYWxpYXMsIGlzVGVtcGxhdGVDb250cm9sbGVyLCBub011bHRpQmluZGluZ3MpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hbGlhcyA9IGFsaWFzO1xuICAgICAgICB0aGlzLmlzVGVtcGxhdGVDb250cm9sbGVyID0gaXNUZW1wbGF0ZUNvbnRyb2xsZXI7XG4gICAgICAgIHRoaXMubm9NdWx0aUJpbmRpbmdzID0gbm9NdWx0aUJpbmRpbmdzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsb29rdXAgb2YgdGhlIGJpbmRhYmxlcyBvZiB0aGlzIGF0dHJpYnV0ZSwgaW5kZXhlZCBieSB0aGUgKHByZS1wcm9jZXNzZWQpXG4gICAgICAgICAqIGJpbmRhYmxlIG5hbWVzIGFzIHRoZXkgd291bGQgYmUgZm91bmQgaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhcHBsaWNhYmxlIHRvIG11bHRpIGF0dHJpYnV0ZSBiaW5kaW5ncyAoc2VtaWNvbG9uLXNlcGFyYXRlZCkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJpbmRhYmxlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2luZ2xlIG9yIGZpcnN0IGJpbmRhYmxlIG9mIHRoaXMgYXR0cmlidXRlLCBvciBhIGRlZmF1bHQgJ3ZhbHVlJ1xuICAgICAgICAgKiBiaW5kYWJsZSBpZiBubyBiaW5kYWJsZXMgd2VyZSBkZWZpbmVkIG9uIHRoZSBhdHRyaWJ1dGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYXBwbGljYWJsZSB0byBzaW5nbGUgYXR0cmlidXRlIGJpbmRpbmdzICh3aGVyZSB0aGUgYXR0cmlidXRlIHZhbHVlXG4gICAgICAgICAqIGNvbnRhaW5zIG5vIHNlbWljb2xvbnMpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJpbmRhYmxlID0gbnVsbDtcbiAgICB9XG4gICAgc3RhdGljIGZyb20oZGVmLCBhbGlhcykge1xuICAgICAgICBpZiAoZGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVjID0gYXR0ckluZm9Mb29rdXAuZ2V0KGRlZik7XG4gICAgICAgIGlmIChyZWMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgYXR0ckluZm9Mb29rdXAuc2V0KGRlZiwgcmVjID0gT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZm8gPSByZWNbYWxpYXNdO1xuICAgICAgICBpZiAoaW5mbyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpbmZvID0gcmVjW2FsaWFzXSA9IG5ldyBBdHRySW5mbyhkZWYubmFtZSwgYWxpYXMgPT09IGRlZi5uYW1lID8gdm9pZCAwIDogYWxpYXMsIGRlZi5pc1RlbXBsYXRlQ29udHJvbGxlciwgZGVmLm5vTXVsdGlCaW5kaW5ncyk7XG4gICAgICAgICAgICBjb25zdCBiaW5kYWJsZXMgPSBkZWYuYmluZGFibGVzO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdEJpbmRpbmdNb2RlID0gZGVmLmRlZmF1bHRCaW5kaW5nTW9kZSAhPT0gdm9pZCAwICYmIGRlZi5kZWZhdWx0QmluZGluZ01vZGUgIT09IEJpbmRpbmdNb2RlLmRlZmF1bHRcbiAgICAgICAgICAgICAgICA/IGRlZi5kZWZhdWx0QmluZGluZ01vZGVcbiAgICAgICAgICAgICAgICA6IEJpbmRpbmdNb2RlLnRvVmlldztcbiAgICAgICAgICAgIGxldCBiaW5kYWJsZTtcbiAgICAgICAgICAgIGxldCBwcm9wO1xuICAgICAgICAgICAgbGV0IG1vZGU7XG4gICAgICAgICAgICBsZXQgaGFzUHJpbWFyeSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGlzUHJpbWFyeSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGJpbmRhYmxlSW5mbztcbiAgICAgICAgICAgIGZvciAocHJvcCBpbiBiaW5kYWJsZXMpIHtcbiAgICAgICAgICAgICAgICBiaW5kYWJsZSA9IGJpbmRhYmxlc1twcm9wXTtcbiAgICAgICAgICAgICAgICAvLyBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnR5IG5hbWUgaGFzIHByaW9yaXR5IG92ZXIgdGhlIGltcGxpY2l0IHByb3BlcnR5IG5hbWVcbiAgICAgICAgICAgICAgICBpZiAoYmluZGFibGUucHJvcGVydHkgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wID0gYmluZGFibGUucHJvcGVydHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiaW5kYWJsZS5tb2RlICE9PSB2b2lkIDAgJiYgYmluZGFibGUubW9kZSAhPT0gQmluZGluZ01vZGUuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlID0gYmluZGFibGUubW9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGUgPSBkZWZhdWx0QmluZGluZ01vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzUHJpbWFyeSA9IGJpbmRhYmxlLnByaW1hcnkgPT09IHRydWU7XG4gICAgICAgICAgICAgICAgYmluZGFibGVJbmZvID0gaW5mby5iaW5kYWJsZXNbcHJvcF0gPSBuZXcgQmluZGFibGVJbmZvKHByb3AsIG1vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChpc1ByaW1hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1ByaW1hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncHJpbWFyeSBhbHJlYWR5IGV4aXN0cycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhhc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpbmZvLmJpbmRhYmxlID0gYmluZGFibGVJbmZvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzZXQgdG8gZmlyc3QgYmluZGFibGUgYnkgY29udmVudGlvblxuICAgICAgICAgICAgICAgIGlmIChpbmZvLmJpbmRhYmxlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZm8uYmluZGFibGUgPSBiaW5kYWJsZUluZm87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgbm8gYmluZGFibGVzIGFyZSBwcmVzZW50LCBkZWZhdWx0IHRvIFwidmFsdWVcIlxuICAgICAgICAgICAgaWYgKGluZm8uYmluZGFibGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJpbmRhYmxlID0gbmV3IEJpbmRhYmxlSW5mbygndmFsdWUnLCBkZWZhdWx0QmluZGluZ01vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlbWFudGljLW1vZGVsLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/semantic-model.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/template-binder.js":
/*!************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/template-binder.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TemplateBinder\": () => (/* binding */ TemplateBinder)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resources/binding-command.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/binding-command.js\");\n/* harmony import */ var _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resources/custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resources/custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\n/* harmony import */ var _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./semantic-model.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/semantic-model.js\");\n\n\n\n\n\n\nconst invalidSurrogateAttribute = Object.assign(Object.create(null), {\n    'id': true,\n    'au-slot': true,\n});\nconst attributesToIgnore = Object.assign(Object.create(null), {\n    'as-element': true,\n});\nfunction hasInlineBindings(rawValue) {\n    const len = rawValue.length;\n    let ch = 0;\n    for (let i = 0; i < len; ++i) {\n        ch = rawValue.charCodeAt(i);\n        if (ch === 92 /* Backslash */) {\n            ++i;\n            // Ignore whatever comes next because it's escaped\n        }\n        else if (ch === 58 /* Colon */) {\n            return true;\n        }\n        else if (ch === 36 /* Dollar */ && rawValue.charCodeAt(i + 1) === 123 /* OpenBrace */) {\n            return false;\n        }\n    }\n    return false;\n}\nfunction processInterpolationText(symbol) {\n    const node = symbol.physicalNode;\n    const parentNode = node.parentNode;\n    while (node.nextSibling !== null && node.nextSibling.nodeType === 3 /* Text */) {\n        parentNode.removeChild(node.nextSibling);\n    }\n    node.textContent = '';\n    parentNode.insertBefore(symbol.marker, node);\n}\nfunction isTemplateControllerOf(proxy, manifest) {\n    return proxy !== manifest;\n}\n/**\n * A (temporary) standalone function that purely does the DOM processing (lifting) related to template controllers.\n * It's a first refactoring step towards separating DOM parsing/binding from mutations.\n */\nfunction processTemplateControllers(p, manifestProxy, manifest) {\n    const manifestNode = manifest.physicalNode;\n    let current = manifestProxy;\n    let currentTemplate;\n    while (isTemplateControllerOf(current, manifest)) {\n        if (current.template === manifest) {\n            // the DOM linkage is still in its original state here so we can safely assume the parentNode is non-null\n            manifestNode.parentNode.replaceChild(current.marker, manifestNode);\n            // if the manifest is a template element (e.g. <template repeat.for=\"...\">) then we can skip one lift operation\n            // and simply use the template directly, saving a bit of work\n            if (manifestNode.nodeName === 'TEMPLATE') {\n                current.physicalNode = manifestNode;\n                // the template could safely stay without affecting anything visible, but let's keep the DOM tidy\n                manifestNode.remove();\n            }\n            else {\n                // the manifest is not a template element so we need to wrap it in one\n                currentTemplate = current.physicalNode = p.document.createElement('template');\n                currentTemplate.content.appendChild(manifestNode);\n            }\n        }\n        else {\n            currentTemplate = current.physicalNode = p.document.createElement('template');\n            currentTemplate.content.appendChild(current.marker);\n        }\n        manifestNode.removeAttribute(current.syntax.rawName);\n        current = current.template;\n    }\n}\n// - on binding plain attribute, if there's interpolation\n// the attribute itself should be removed completely\n// otherwise, produce invalid output sometimes.\n// e.g\n// <input value=${value}>\n//    without removing: `<input value=\"\">\n//    with removing: `<input>\n// <circle cx=${x}>\n//    without removing `<circle cx=\"\">\n//    with removing: `<circle>\n//\n// - custom attribute probably should be removed too\nvar AttrBindingSignal;\n(function (AttrBindingSignal) {\n    AttrBindingSignal[AttrBindingSignal[\"none\"] = 0] = \"none\";\n    AttrBindingSignal[AttrBindingSignal[\"remove\"] = 1] = \"remove\";\n})(AttrBindingSignal || (AttrBindingSignal = {}));\n/**\n * TemplateBinder. Todo: describe goal of this class\n */\nclass TemplateBinder {\n    constructor(platform, container, attrParser, exprParser, attrSyntaxTransformer) {\n        this.platform = platform;\n        this.container = container;\n        this.attrParser = attrParser;\n        this.exprParser = exprParser;\n        this.attrSyntaxTransformer = attrSyntaxTransformer;\n        this.commandLookup = Object.create(null);\n    }\n    bind(node) {\n        const surrogate = new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.PlainElementSymbol(node);\n        const attributes = node.attributes;\n        let i = 0;\n        let attr;\n        let attrSyntax;\n        let bindingCommand = null;\n        let attrInfo = null;\n        while (i < attributes.length) {\n            attr = attributes[i];\n            attrSyntax = this.attrParser.parse(attr.name, attr.value);\n            if (invalidSurrogateAttribute[attrSyntax.target] === true) {\n                throw new Error(`Invalid surrogate attribute: ${attrSyntax.target}`);\n                // TODO: use reporter\n            }\n            bindingCommand = this.getBindingCommand(attrSyntax, true);\n            if (bindingCommand === null || (bindingCommand.bindingType & 4096 /* IgnoreAttr */) === 0) {\n                attrInfo = _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.AttrInfo.from(this.container.find(_resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.CustomAttribute, attrSyntax.target), attrSyntax.target);\n                if (attrInfo === null) {\n                    // it's not a custom attribute but might be a regular bound attribute or interpolation (it might also be nothing)\n                    // NOTE: on surrogate, we don't care about removing the attribute with interpolation\n                    // as the element is not used (cloned)\n                    this.bindPlainAttribute(\n                    /* node       */ node, \n                    /* attrSyntax */ attrSyntax, \n                    /* attr       */ attr, \n                    /* surrogate  */ surrogate, \n                    /* manifest   */ surrogate);\n                }\n                else if (attrInfo.isTemplateController) {\n                    throw new Error('Cannot have template controller on surrogate element.');\n                    // TODO: use reporter\n                }\n                else {\n                    this.bindCustomAttribute(\n                    /* attrSyntax */ attrSyntax, \n                    /* attrInfo   */ attrInfo, \n                    /* command    */ bindingCommand, \n                    /* manifest   */ surrogate);\n                }\n            }\n            else {\n                // it's not a custom attribute but might be a regular bound attribute or interpolation (it might also be nothing)\n                // NOTE: on surrogate, we don't care about removing the attribute with interpolation\n                // as the element is not used (cloned)\n                this.bindPlainAttribute(\n                /* node       */ node, \n                /* attrSyntax */ attrSyntax, \n                /* attr       */ attr, \n                /* surrogate  */ surrogate, \n                /* manifest   */ surrogate);\n            }\n            ++i;\n        }\n        this.bindChildNodes(\n        /* node               */ node, \n        /* surrogate          */ surrogate, \n        /* manifest           */ surrogate, \n        /* manifestRoot       */ null, \n        /* parentManifestRoot */ null);\n        return surrogate;\n    }\n    bindManifest(parentManifest, node, surrogate, manifest, manifestRoot, parentManifestRoot) {\n        var _a, _b, _c, _d;\n        switch (node.nodeName) {\n            case 'LET':\n                // let cannot have children and has some different processing rules, so return early\n                this.bindLetElement(\n                /* parentManifest */ parentManifest, \n                /* node           */ node);\n                return;\n            case 'SLOT':\n                surrogate.hasSlots = true;\n                break;\n        }\n        let name = node.getAttribute('as-element');\n        if (name === null) {\n            name = node.nodeName.toLowerCase();\n        }\n        const isAuSlot = name === 'au-slot';\n        const definition = this.container.find(_resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement, name);\n        const elementInfo = _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.ElementInfo.from(definition, name);\n        let compileChildren = true;\n        if (elementInfo === null) {\n            // there is no registered custom element with this name\n            manifest = new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.PlainElementSymbol(node);\n        }\n        else {\n            // it's a custom element so we set the manifestRoot as well (for storing replaces)\n            compileChildren = ((_c = (_b = (_a = definition === null || definition === void 0 ? void 0 : definition.processContent) === null || _a === void 0 ? void 0 : _a.bind(definition.Type)) === null || _b === void 0 ? void 0 : _b(node, this.platform)) !== null && _c !== void 0 ? _c : true);\n            parentManifestRoot = manifestRoot;\n            const ceSymbol = new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.CustomElementSymbol(this.platform, node, elementInfo);\n            if (isAuSlot) {\n                ceSymbol.flags = 512 /* isAuSlot */;\n                ceSymbol.slotName = (_d = node.getAttribute(\"name\")) !== null && _d !== void 0 ? _d : \"default\";\n            }\n            manifestRoot = manifest = ceSymbol;\n        }\n        if (compileChildren) {\n            // lifting operations done by template controllers and replaces effectively unlink the nodes, so start at the bottom\n            this.bindChildNodes(\n            /* node               */ node, \n            /* surrogate          */ surrogate, \n            /* manifest           */ manifest, \n            /* manifestRoot       */ manifestRoot, \n            /* parentManifestRoot */ parentManifestRoot);\n        }\n        // the parentManifest will receive either the direct child nodes, or the template controllers / replaces\n        // wrapping them\n        this.bindAttributes(\n        /* node               */ node, \n        /* parentManifest     */ parentManifest, \n        /* surrogate          */ surrogate, \n        /* manifest           */ manifest, \n        /* manifestRoot       */ manifestRoot, \n        /* parentManifestRoot */ parentManifestRoot);\n        if (manifestRoot === manifest && manifest.isContainerless) {\n            node.parentNode.replaceChild(manifest.marker, node);\n        }\n        else if (manifest.isTarget) {\n            node.classList.add('au');\n        }\n    }\n    bindLetElement(parentManifest, node) {\n        const symbol = new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.LetElementSymbol(this.platform, node);\n        parentManifest.childNodes.push(symbol);\n        const attributes = node.attributes;\n        let i = 0;\n        while (i < attributes.length) {\n            const attr = attributes[i];\n            if (attr.name === 'to-binding-context') {\n                node.removeAttribute('to-binding-context');\n                symbol.toBindingContext = true;\n                continue;\n            }\n            const attrSyntax = this.attrParser.parse(attr.name, attr.value);\n            const command = this.getBindingCommand(attrSyntax, false);\n            const bindingType = command === null ? 2048 /* Interpolation */ : command.bindingType;\n            const expr = this.exprParser.parse(attrSyntax.rawValue, bindingType);\n            const to = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(attrSyntax.target);\n            const info = new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.BindableInfo(to, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView);\n            symbol.bindings.push(new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.BindingSymbol(command, info, expr, attrSyntax.rawValue, to));\n            ++i;\n        }\n        node.parentNode.replaceChild(symbol.marker, node);\n    }\n    bindAttributes(node, parentManifest, surrogate, manifest, manifestRoot, parentManifestRoot) {\n        var _a, _b, _c;\n        // This is the top-level symbol for the current depth.\n        // If there are no template controllers or replaces, it is always the manifest itself.\n        // If there are template controllers, then this will be the outer-most TemplateControllerSymbol.\n        let manifestProxy = manifest;\n        let previousController = (void 0);\n        let currentController = (void 0);\n        const attributes = node.attributes;\n        let i = 0;\n        let attr;\n        let bindSignal;\n        let attrSyntax;\n        let bindingCommand = null;\n        let attrInfo = null;\n        while (i < attributes.length) {\n            attr = attributes[i];\n            ++i;\n            if (attributesToIgnore[attr.name] === true) {\n                continue;\n            }\n            attrSyntax = this.attrParser.parse(attr.name, attr.value);\n            bindingCommand = this.getBindingCommand(attrSyntax, true);\n            if (bindingCommand === null || (bindingCommand.bindingType & 4096 /* IgnoreAttr */) === 0) {\n                attrInfo = _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.AttrInfo.from(this.container.find(_resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_3__.CustomAttribute, attrSyntax.target), attrSyntax.target);\n                if (attrInfo === null) {\n                    // it's not a custom attribute but might be a regular bound attribute or interpolation (it might also be nothing)\n                    bindSignal = this.bindPlainAttribute(\n                    /* node       */ node, \n                    /* attrSyntax */ attrSyntax, \n                    /* attr       */ attr, \n                    /* surrogate  */ surrogate, \n                    /* manifest   */ manifest);\n                    if (bindSignal === 1 /* remove */) {\n                        node.removeAttributeNode(attr);\n                        --i;\n                    }\n                }\n                else if (attrInfo.isTemplateController) {\n                    // the manifest is wrapped by the inner-most template controller (if there are multiple on the same element)\n                    // so keep setting manifest.templateController to the latest template controller we find\n                    currentController = manifest.templateController = this.declareTemplateController(\n                    /* attrSyntax */ attrSyntax, \n                    /* attrInfo   */ attrInfo);\n                    // the proxy and the manifest are only identical when we're at the first template controller (since the controller\n                    // is assigned to the proxy), so this evaluates to true at most once per node\n                    if (manifestProxy === manifest) {\n                        currentController.template = manifest;\n                        manifestProxy = currentController;\n                    }\n                    else {\n                        currentController.templateController = previousController;\n                        currentController.template = previousController.template;\n                        previousController.template = currentController;\n                    }\n                    previousController = currentController;\n                }\n                else {\n                    // a regular custom attribute\n                    this.bindCustomAttribute(\n                    /* attrSyntax */ attrSyntax, \n                    /* attrInfo   */ attrInfo, \n                    /* command    */ bindingCommand, \n                    /* manifest   */ manifest);\n                }\n            }\n            else {\n                // it's not a custom attribute but might be a regular bound attribute or interpolation (it might also be nothing)\n                bindSignal = this.bindPlainAttribute(\n                /* node       */ node, \n                /* attrSyntax */ attrSyntax, \n                /* attr       */ attr, \n                /* surrogate  */ surrogate, \n                /* manifest   */ manifest);\n                if (bindSignal === 1 /* remove */) {\n                    node.removeAttributeNode(attr);\n                    --i;\n                }\n            }\n        }\n        if (node.tagName === 'INPUT') {\n            const type = node.type;\n            if (type === 'checkbox' || type === 'radio') {\n                this.ensureAttributeOrder(manifest);\n            }\n        }\n        let projection = node.getAttribute('au-slot');\n        if (projection === '') {\n            projection = 'default';\n        }\n        const hasProjection = projection !== null;\n        if (hasProjection && isTemplateControllerOf(manifestProxy, manifest)) {\n            // prevents <some-el au-slot TEMPLATE.CONTROLLER></some-el>.\n            throw new Error(`Unsupported usage of [au-slot=\"${projection}\"] along with a template controller (if, else, repeat.for etc.) found (example: <some-el au-slot if.bind=\"true\"></some-el>).`);\n            /**\n             * TODO: prevent <template TEMPLATE.CONTROLLER><some-el au-slot></some-el></template>.\n             * But there is not easy way for now, as the attribute binding is done after binding the child nodes.\n             * This means by the time the template controller in the ancestor is processed, the projection is already registered.\n             */\n        }\n        const parentName = (_b = (_a = node.parentElement) === null || _a === void 0 ? void 0 : _a.getAttribute('as-element')) !== null && _b !== void 0 ? _b : (_c = node.parentNode) === null || _c === void 0 ? void 0 : _c.nodeName.toLowerCase();\n        if (hasProjection\n            && (manifestRoot === null\n                || parentName === void 0\n                || this.container.find(_resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement, parentName) === null)) {\n            /**\n             * Prevents the following cases:\n             * - <template><div au-slot></div></template>\n             * - <my-ce><div><div au-slot></div></div></my-ce>\n             * - <my-ce><div au-slot=\"s1\"><div au-slot=\"s2\"></div></div></my-ce>\n             */\n            throw new Error(`Unsupported usage of [au-slot=\"${projection}\"]. It seems that projection is attempted, but not for a custom element.`);\n        }\n        processTemplateControllers(this.platform, manifestProxy, manifest);\n        const projectionOwner = manifest === manifestRoot ? parentManifestRoot : manifestRoot;\n        if (!hasProjection || projectionOwner === null) {\n            // the proxy is either the manifest itself or the outer-most controller; add it directly to the parent\n            parentManifest.childNodes.push(manifestProxy);\n        }\n        else if (hasProjection) {\n            projectionOwner.projections.push(new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.ProjectionSymbol(projection, manifestProxy));\n            node.removeAttribute('au-slot');\n            node.remove();\n        }\n    }\n    // TODO: refactor to use render priority slots (this logic shouldn't be in the template binder)\n    ensureAttributeOrder(manifest) {\n        // swap the order of checked and model/value attribute, so that the required observers are prepared for checked-observer\n        const attributes = manifest.plainAttributes;\n        let modelOrValueIndex = void 0;\n        let checkedIndex = void 0;\n        let found = 0;\n        for (let i = 0; i < attributes.length && found < 3; i++) {\n            switch (attributes[i].syntax.target) {\n                case 'model':\n                case 'value':\n                case 'matcher':\n                    modelOrValueIndex = i;\n                    found++;\n                    break;\n                case 'checked':\n                    checkedIndex = i;\n                    found++;\n                    break;\n            }\n        }\n        if (checkedIndex !== void 0 && modelOrValueIndex !== void 0 && checkedIndex < modelOrValueIndex) {\n            [attributes[modelOrValueIndex], attributes[checkedIndex]] = [attributes[checkedIndex], attributes[modelOrValueIndex]];\n        }\n    }\n    bindChildNodes(node, surrogate, manifest, manifestRoot, parentManifestRoot) {\n        let childNode;\n        if (node.nodeName === 'TEMPLATE') {\n            childNode = node.content.firstChild;\n        }\n        else {\n            childNode = node.firstChild;\n        }\n        let nextChild;\n        while (childNode !== null) {\n            switch (childNode.nodeType) {\n                case 1 /* Element */:\n                    nextChild = childNode.nextSibling;\n                    this.bindManifest(\n                    /* parentManifest     */ manifest, \n                    /* node               */ childNode, \n                    /* surrogate          */ surrogate, \n                    /* manifest           */ manifest, \n                    /* manifestRoot       */ manifestRoot, \n                    /* parentManifestRoot */ parentManifestRoot);\n                    childNode = nextChild;\n                    break;\n                case 3 /* Text */:\n                    childNode = this.bindText(\n                    /* textNode */ childNode, \n                    /* manifest */ manifest).nextSibling;\n                    break;\n                case 4 /* CDATASection */:\n                case 7 /* ProcessingInstruction */:\n                case 8 /* Comment */:\n                case 10 /* DocumentType */:\n                    childNode = childNode.nextSibling;\n                    break;\n                case 9 /* Document */:\n                case 11 /* DocumentFragment */:\n                    childNode = childNode.firstChild;\n            }\n        }\n    }\n    bindText(textNode, manifest) {\n        const interpolation = this.exprParser.parse(textNode.wholeText, 2048 /* Interpolation */);\n        if (interpolation !== null) {\n            const symbol = new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.TextSymbol(this.platform, textNode, interpolation);\n            manifest.childNodes.push(symbol);\n            processInterpolationText(symbol);\n        }\n        let next = textNode;\n        while (next.nextSibling !== null && next.nextSibling.nodeType === 3 /* Text */) {\n            next = next.nextSibling;\n        }\n        return next;\n    }\n    declareTemplateController(attrSyntax, attrInfo) {\n        let symbol;\n        const attrRawValue = attrSyntax.rawValue;\n        const command = this.getBindingCommand(attrSyntax, false);\n        // multi-bindings logic here is similar to (and explained in) bindCustomAttribute\n        const isMultiBindings = attrInfo.noMultiBindings === false && command === null && hasInlineBindings(attrRawValue);\n        if (isMultiBindings) {\n            symbol = new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.TemplateControllerSymbol(this.platform, attrSyntax, attrInfo);\n            this.bindMultiAttribute(symbol, attrInfo, attrRawValue);\n        }\n        else {\n            symbol = new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.TemplateControllerSymbol(this.platform, attrSyntax, attrInfo);\n            const bindingType = command === null ? 2048 /* Interpolation */ : command.bindingType;\n            const expr = this.exprParser.parse(attrRawValue, bindingType);\n            symbol.bindings.push(new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.BindingSymbol(command, attrInfo.bindable, expr, attrRawValue, attrSyntax.target));\n        }\n        return symbol;\n    }\n    bindCustomAttribute(attrSyntax, attrInfo, command, manifest) {\n        let symbol;\n        const attrRawValue = attrSyntax.rawValue;\n        // Custom attributes are always in multiple binding mode,\n        // except when they can't be\n        // When they cannot be:\n        //        * has explicit configuration noMultiBindings: false\n        //        * has binding command, ie: <div my-attr.bind=\"...\">.\n        //          In this scenario, the value of the custom attributes is required to be a valid expression\n        //        * has no colon: ie: <div my-attr=\"abcd\">\n        //          In this scenario, it's simply invalid syntax. Consider style attribute rule-value pair: <div style=\"rule: ruleValue\">\n        const isMultiBindings = attrInfo.noMultiBindings === false && command === null && hasInlineBindings(attrRawValue);\n        if (isMultiBindings) {\n            // a multiple-bindings attribute usage (semicolon separated binding) is only valid without a binding command;\n            // the binding commands must be declared in each of the property bindings\n            symbol = new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.CustomAttributeSymbol(attrSyntax, attrInfo);\n            this.bindMultiAttribute(symbol, attrInfo, attrRawValue);\n        }\n        else {\n            symbol = new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.CustomAttributeSymbol(attrSyntax, attrInfo);\n            const bindingType = command === null ? 2048 /* Interpolation */ : command.bindingType;\n            const expr = this.exprParser.parse(attrRawValue, bindingType);\n            symbol.bindings.push(new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.BindingSymbol(command, attrInfo.bindable, expr, attrRawValue, attrSyntax.target));\n        }\n        manifest.customAttributes.push(symbol);\n        manifest.isTarget = true;\n    }\n    bindMultiAttribute(symbol, attrInfo, value) {\n        const bindables = attrInfo.bindables;\n        const valueLength = value.length;\n        let attrName = void 0;\n        let attrValue = void 0;\n        let start = 0;\n        let ch = 0;\n        for (let i = 0; i < valueLength; ++i) {\n            ch = value.charCodeAt(i);\n            if (ch === 92 /* Backslash */) {\n                ++i;\n                // Ignore whatever comes next because it's escaped\n            }\n            else if (ch === 58 /* Colon */) {\n                attrName = value.slice(start, i);\n                // Skip whitespace after colon\n                while (value.charCodeAt(++i) <= 32 /* Space */)\n                    ;\n                start = i;\n                for (; i < valueLength; ++i) {\n                    ch = value.charCodeAt(i);\n                    if (ch === 92 /* Backslash */) {\n                        ++i;\n                        // Ignore whatever comes next because it's escaped\n                    }\n                    else if (ch === 59 /* Semicolon */) {\n                        attrValue = value.slice(start, i);\n                        break;\n                    }\n                }\n                if (attrValue === void 0) {\n                    // No semicolon found, so just grab the rest of the value\n                    attrValue = value.slice(start);\n                }\n                const attrSyntax = this.attrParser.parse(attrName, attrValue);\n                const attrTarget = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(attrSyntax.target);\n                const command = this.getBindingCommand(attrSyntax, false);\n                const bindingType = command === null ? 2048 /* Interpolation */ : command.bindingType;\n                const expr = this.exprParser.parse(attrValue, bindingType);\n                let bindable = bindables[attrTarget];\n                if (bindable === undefined) {\n                    // everything in a multi-bindings expression must be used,\n                    // so if it's not a bindable then we create one on the spot\n                    bindable = bindables[attrTarget] = new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.BindableInfo(attrTarget, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView);\n                }\n                symbol.bindings.push(new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.BindingSymbol(command, bindable, expr, attrValue, attrTarget));\n                // Skip whitespace after semicolon\n                while (i < valueLength && value.charCodeAt(++i) <= 32 /* Space */)\n                    ;\n                start = i;\n                attrName = void 0;\n                attrValue = void 0;\n            }\n        }\n    }\n    bindPlainAttribute(node, attrSyntax, attr, surrogate, manifest) {\n        const attrTarget = attrSyntax.target;\n        const attrRawValue = attrSyntax.rawValue;\n        const command = this.getBindingCommand(attrSyntax, false);\n        const bindingType = command === null ? 2048 /* Interpolation */ : command.bindingType;\n        let isInterpolation = false;\n        let expr;\n        if ((manifest.flags & 16 /* isCustomElement */) > 0) {\n            const bindable = manifest.bindables[attrTarget];\n            if (bindable != null) {\n                // if it looks like this\n                // <my-el value.bind>\n                // it means\n                // <my-el value.bind=\"value\">\n                // this is a shortcut\n                const realAttrValue = attrRawValue.length === 0\n                    && (bindingType\n                        & (53 /* BindCommand */\n                            | 49 /* OneTimeCommand */\n                            | 50 /* ToViewCommand */\n                            | 52 /* TwoWayCommand */)) > 0\n                    ? (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase)(attrTarget)\n                    : attrRawValue;\n                expr = this.exprParser.parse(realAttrValue, bindingType);\n                // if the attribute name matches a bindable property name, add it regardless of whether it's a command, interpolation, or just a plain string;\n                // the template compiler will translate it to the correct instruction\n                manifest.bindings.push(new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.BindingSymbol(command, bindable, expr, attrRawValue, attrTarget));\n                isInterpolation = bindingType === 2048 /* Interpolation */ && expr != null;\n                manifest.isTarget = true;\n                return isInterpolation\n                    ? 1 /* remove */\n                    : 0 /* none */;\n            }\n        }\n        // plain attribute, on a normal, or a custom element here\n        // regardless, can process the same way\n        expr = this.exprParser.parse(attrRawValue, bindingType);\n        isInterpolation = bindingType === 2048 /* Interpolation */ && expr != null;\n        if ((bindingType & 4096 /* IgnoreAttr */) === 0) {\n            this.attrSyntaxTransformer.transform(node, attrSyntax);\n        }\n        if (expr != null) {\n            // either a binding command, an interpolation, or a ref\n            manifest.plainAttributes.push(new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.PlainAttributeSymbol(attrSyntax, command, expr));\n            manifest.isTarget = true;\n        }\n        else if (manifest === surrogate) {\n            // any attributes, even if they are plain (no command/interpolation etc), should be added if they\n            // are on the surrogate element\n            manifest.plainAttributes.push(new _semantic_model_js__WEBPACK_IMPORTED_MODULE_5__.PlainAttributeSymbol(attrSyntax, command, expr));\n        }\n        return isInterpolation\n            ? 1 /* remove */\n            : 0 /* none */;\n    }\n    /**\n     * Retrieve a binding command resource.\n     *\n     * @param name - The parsed `AttrSyntax`\n     *\n     * @returns An instance of the command if it exists, or `null` if it does not exist.\n     */\n    getBindingCommand(syntax, optional) {\n        const name = syntax.command;\n        if (name === null) {\n            return null;\n        }\n        let result = this.commandLookup[name];\n        if (result === void 0) {\n            result = this.container.create(_resources_binding_command_js__WEBPACK_IMPORTED_MODULE_2__.BindingCommand, name);\n            if (result === null) {\n                if (optional) {\n                    return null;\n                }\n                throw new Error(`Unknown binding command: ${name}`);\n            }\n            this.commandLookup[name] = result;\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=template-binder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRlLWJpbmRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vdGVtcGxhdGUtYmluZGVyLmpzPzBhMTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2FtZWxDYXNlLCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBCaW5kaW5nTW9kZSwgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lJztcbmltcG9ydCB7IEJpbmRpbmdDb21tYW5kIH0gZnJvbSAnLi9yZXNvdXJjZXMvYmluZGluZy1jb21tYW5kLmpzJztcbmltcG9ydCB7IEN1c3RvbUF0dHJpYnV0ZSB9IGZyb20gJy4vcmVzb3VyY2VzL2N1c3RvbS1hdHRyaWJ1dGUuanMnO1xuaW1wb3J0IHsgQ3VzdG9tRWxlbWVudCB9IGZyb20gJy4vcmVzb3VyY2VzL2N1c3RvbS1lbGVtZW50LmpzJztcbmltcG9ydCB7IEJpbmRpbmdTeW1ib2wsIEN1c3RvbUF0dHJpYnV0ZVN5bWJvbCwgQ3VzdG9tRWxlbWVudFN5bWJvbCwgTGV0RWxlbWVudFN5bWJvbCwgUGxhaW5BdHRyaWJ1dGVTeW1ib2wsIFBsYWluRWxlbWVudFN5bWJvbCwgVGVtcGxhdGVDb250cm9sbGVyU3ltYm9sLCBUZXh0U3ltYm9sLCBQcm9qZWN0aW9uU3ltYm9sLCBBdHRySW5mbywgRWxlbWVudEluZm8sIEJpbmRhYmxlSW5mbywgfSBmcm9tICcuL3NlbWFudGljLW1vZGVsLmpzJztcbmNvbnN0IGludmFsaWRTdXJyb2dhdGVBdHRyaWJ1dGUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIHtcbiAgICAnaWQnOiB0cnVlLFxuICAgICdhdS1zbG90JzogdHJ1ZSxcbn0pO1xuY29uc3QgYXR0cmlidXRlc1RvSWdub3JlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCB7XG4gICAgJ2FzLWVsZW1lbnQnOiB0cnVlLFxufSk7XG5mdW5jdGlvbiBoYXNJbmxpbmVCaW5kaW5ncyhyYXdWYWx1ZSkge1xuICAgIGNvbnN0IGxlbiA9IHJhd1ZhbHVlLmxlbmd0aDtcbiAgICBsZXQgY2ggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgY2ggPSByYXdWYWx1ZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY2ggPT09IDkyIC8qIEJhY2tzbGFzaCAqLykge1xuICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgLy8gSWdub3JlIHdoYXRldmVyIGNvbWVzIG5leHQgYmVjYXVzZSBpdCdzIGVzY2FwZWRcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaCA9PT0gNTggLyogQ29sb24gKi8pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoID09PSAzNiAvKiBEb2xsYXIgKi8gJiYgcmF3VmFsdWUuY2hhckNvZGVBdChpICsgMSkgPT09IDEyMyAvKiBPcGVuQnJhY2UgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBwcm9jZXNzSW50ZXJwb2xhdGlvblRleHQoc3ltYm9sKSB7XG4gICAgY29uc3Qgbm9kZSA9IHN5bWJvbC5waHlzaWNhbE5vZGU7XG4gICAgY29uc3QgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAobm9kZS5uZXh0U2libGluZyAhPT0gbnVsbCAmJiBub2RlLm5leHRTaWJsaW5nLm5vZGVUeXBlID09PSAzIC8qIFRleHQgKi8pIHtcbiAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlLm5leHRTaWJsaW5nKTtcbiAgICB9XG4gICAgbm9kZS50ZXh0Q29udGVudCA9ICcnO1xuICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHN5bWJvbC5tYXJrZXIsIG5vZGUpO1xufVxuZnVuY3Rpb24gaXNUZW1wbGF0ZUNvbnRyb2xsZXJPZihwcm94eSwgbWFuaWZlc3QpIHtcbiAgICByZXR1cm4gcHJveHkgIT09IG1hbmlmZXN0O1xufVxuLyoqXG4gKiBBICh0ZW1wb3JhcnkpIHN0YW5kYWxvbmUgZnVuY3Rpb24gdGhhdCBwdXJlbHkgZG9lcyB0aGUgRE9NIHByb2Nlc3NpbmcgKGxpZnRpbmcpIHJlbGF0ZWQgdG8gdGVtcGxhdGUgY29udHJvbGxlcnMuXG4gKiBJdCdzIGEgZmlyc3QgcmVmYWN0b3Jpbmcgc3RlcCB0b3dhcmRzIHNlcGFyYXRpbmcgRE9NIHBhcnNpbmcvYmluZGluZyBmcm9tIG11dGF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gcHJvY2Vzc1RlbXBsYXRlQ29udHJvbGxlcnMocCwgbWFuaWZlc3RQcm94eSwgbWFuaWZlc3QpIHtcbiAgICBjb25zdCBtYW5pZmVzdE5vZGUgPSBtYW5pZmVzdC5waHlzaWNhbE5vZGU7XG4gICAgbGV0IGN1cnJlbnQgPSBtYW5pZmVzdFByb3h5O1xuICAgIGxldCBjdXJyZW50VGVtcGxhdGU7XG4gICAgd2hpbGUgKGlzVGVtcGxhdGVDb250cm9sbGVyT2YoY3VycmVudCwgbWFuaWZlc3QpKSB7XG4gICAgICAgIGlmIChjdXJyZW50LnRlbXBsYXRlID09PSBtYW5pZmVzdCkge1xuICAgICAgICAgICAgLy8gdGhlIERPTSBsaW5rYWdlIGlzIHN0aWxsIGluIGl0cyBvcmlnaW5hbCBzdGF0ZSBoZXJlIHNvIHdlIGNhbiBzYWZlbHkgYXNzdW1lIHRoZSBwYXJlbnROb2RlIGlzIG5vbi1udWxsXG4gICAgICAgICAgICBtYW5pZmVzdE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoY3VycmVudC5tYXJrZXIsIG1hbmlmZXN0Tm9kZSk7XG4gICAgICAgICAgICAvLyBpZiB0aGUgbWFuaWZlc3QgaXMgYSB0ZW1wbGF0ZSBlbGVtZW50IChlLmcuIDx0ZW1wbGF0ZSByZXBlYXQuZm9yPVwiLi4uXCI+KSB0aGVuIHdlIGNhbiBza2lwIG9uZSBsaWZ0IG9wZXJhdGlvblxuICAgICAgICAgICAgLy8gYW5kIHNpbXBseSB1c2UgdGhlIHRlbXBsYXRlIGRpcmVjdGx5LCBzYXZpbmcgYSBiaXQgb2Ygd29ya1xuICAgICAgICAgICAgaWYgKG1hbmlmZXN0Tm9kZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQucGh5c2ljYWxOb2RlID0gbWFuaWZlc3ROb2RlO1xuICAgICAgICAgICAgICAgIC8vIHRoZSB0ZW1wbGF0ZSBjb3VsZCBzYWZlbHkgc3RheSB3aXRob3V0IGFmZmVjdGluZyBhbnl0aGluZyB2aXNpYmxlLCBidXQgbGV0J3Mga2VlcCB0aGUgRE9NIHRpZHlcbiAgICAgICAgICAgICAgICBtYW5pZmVzdE5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgbWFuaWZlc3QgaXMgbm90IGEgdGVtcGxhdGUgZWxlbWVudCBzbyB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gb25lXG4gICAgICAgICAgICAgICAgY3VycmVudFRlbXBsYXRlID0gY3VycmVudC5waHlzaWNhbE5vZGUgPSBwLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgICAgICAgICAgY3VycmVudFRlbXBsYXRlLmNvbnRlbnQuYXBwZW5kQ2hpbGQobWFuaWZlc3ROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRUZW1wbGF0ZSA9IGN1cnJlbnQucGh5c2ljYWxOb2RlID0gcC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICAgICAgY3VycmVudFRlbXBsYXRlLmNvbnRlbnQuYXBwZW5kQ2hpbGQoY3VycmVudC5tYXJrZXIpO1xuICAgICAgICB9XG4gICAgICAgIG1hbmlmZXN0Tm9kZS5yZW1vdmVBdHRyaWJ1dGUoY3VycmVudC5zeW50YXgucmF3TmFtZSk7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnRlbXBsYXRlO1xuICAgIH1cbn1cbi8vIC0gb24gYmluZGluZyBwbGFpbiBhdHRyaWJ1dGUsIGlmIHRoZXJlJ3MgaW50ZXJwb2xhdGlvblxuLy8gdGhlIGF0dHJpYnV0ZSBpdHNlbGYgc2hvdWxkIGJlIHJlbW92ZWQgY29tcGxldGVseVxuLy8gb3RoZXJ3aXNlLCBwcm9kdWNlIGludmFsaWQgb3V0cHV0IHNvbWV0aW1lcy5cbi8vIGUuZ1xuLy8gPGlucHV0IHZhbHVlPSR7dmFsdWV9PlxuLy8gICAgd2l0aG91dCByZW1vdmluZzogYDxpbnB1dCB2YWx1ZT1cIlwiPlxuLy8gICAgd2l0aCByZW1vdmluZzogYDxpbnB1dD5cbi8vIDxjaXJjbGUgY3g9JHt4fT5cbi8vICAgIHdpdGhvdXQgcmVtb3ZpbmcgYDxjaXJjbGUgY3g9XCJcIj5cbi8vICAgIHdpdGggcmVtb3Zpbmc6IGA8Y2lyY2xlPlxuLy9cbi8vIC0gY3VzdG9tIGF0dHJpYnV0ZSBwcm9iYWJseSBzaG91bGQgYmUgcmVtb3ZlZCB0b29cbnZhciBBdHRyQmluZGluZ1NpZ25hbDtcbihmdW5jdGlvbiAoQXR0ckJpbmRpbmdTaWduYWwpIHtcbiAgICBBdHRyQmluZGluZ1NpZ25hbFtBdHRyQmluZGluZ1NpZ25hbFtcIm5vbmVcIl0gPSAwXSA9IFwibm9uZVwiO1xuICAgIEF0dHJCaW5kaW5nU2lnbmFsW0F0dHJCaW5kaW5nU2lnbmFsW1wicmVtb3ZlXCJdID0gMV0gPSBcInJlbW92ZVwiO1xufSkoQXR0ckJpbmRpbmdTaWduYWwgfHwgKEF0dHJCaW5kaW5nU2lnbmFsID0ge30pKTtcbi8qKlxuICogVGVtcGxhdGVCaW5kZXIuIFRvZG86IGRlc2NyaWJlIGdvYWwgb2YgdGhpcyBjbGFzc1xuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVCaW5kZXIge1xuICAgIGNvbnN0cnVjdG9yKHBsYXRmb3JtLCBjb250YWluZXIsIGF0dHJQYXJzZXIsIGV4cHJQYXJzZXIsIGF0dHJTeW50YXhUcmFuc2Zvcm1lcikge1xuICAgICAgICB0aGlzLnBsYXRmb3JtID0gcGxhdGZvcm07XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmF0dHJQYXJzZXIgPSBhdHRyUGFyc2VyO1xuICAgICAgICB0aGlzLmV4cHJQYXJzZXIgPSBleHByUGFyc2VyO1xuICAgICAgICB0aGlzLmF0dHJTeW50YXhUcmFuc2Zvcm1lciA9IGF0dHJTeW50YXhUcmFuc2Zvcm1lcjtcbiAgICAgICAgdGhpcy5jb21tYW5kTG9va3VwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG4gICAgYmluZChub2RlKSB7XG4gICAgICAgIGNvbnN0IHN1cnJvZ2F0ZSA9IG5ldyBQbGFpbkVsZW1lbnRTeW1ib2wobm9kZSk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgbGV0IGF0dHI7XG4gICAgICAgIGxldCBhdHRyU3ludGF4O1xuICAgICAgICBsZXQgYmluZGluZ0NvbW1hbmQgPSBudWxsO1xuICAgICAgICBsZXQgYXR0ckluZm8gPSBudWxsO1xuICAgICAgICB3aGlsZSAoaSA8IGF0dHJpYnV0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhdHRyID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIGF0dHJTeW50YXggPSB0aGlzLmF0dHJQYXJzZXIucGFyc2UoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChpbnZhbGlkU3Vycm9nYXRlQXR0cmlidXRlW2F0dHJTeW50YXgudGFyZ2V0XSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzdXJyb2dhdGUgYXR0cmlidXRlOiAke2F0dHJTeW50YXgudGFyZ2V0fWApO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHVzZSByZXBvcnRlclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmluZGluZ0NvbW1hbmQgPSB0aGlzLmdldEJpbmRpbmdDb21tYW5kKGF0dHJTeW50YXgsIHRydWUpO1xuICAgICAgICAgICAgaWYgKGJpbmRpbmdDb21tYW5kID09PSBudWxsIHx8IChiaW5kaW5nQ29tbWFuZC5iaW5kaW5nVHlwZSAmIDQwOTYgLyogSWdub3JlQXR0ciAqLykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBhdHRySW5mbyA9IEF0dHJJbmZvLmZyb20odGhpcy5jb250YWluZXIuZmluZChDdXN0b21BdHRyaWJ1dGUsIGF0dHJTeW50YXgudGFyZ2V0KSwgYXR0clN5bnRheC50YXJnZXQpO1xuICAgICAgICAgICAgICAgIGlmIChhdHRySW5mbyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIG5vdCBhIGN1c3RvbSBhdHRyaWJ1dGUgYnV0IG1pZ2h0IGJlIGEgcmVndWxhciBib3VuZCBhdHRyaWJ1dGUgb3IgaW50ZXJwb2xhdGlvbiAoaXQgbWlnaHQgYWxzbyBiZSBub3RoaW5nKVxuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBvbiBzdXJyb2dhdGUsIHdlIGRvbid0IGNhcmUgYWJvdXQgcmVtb3ZpbmcgdGhlIGF0dHJpYnV0ZSB3aXRoIGludGVycG9sYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgdGhlIGVsZW1lbnQgaXMgbm90IHVzZWQgKGNsb25lZClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kUGxhaW5BdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIC8qIG5vZGUgICAgICAgKi8gbm9kZSwgXG4gICAgICAgICAgICAgICAgICAgIC8qIGF0dHJTeW50YXggKi8gYXR0clN5bnRheCwgXG4gICAgICAgICAgICAgICAgICAgIC8qIGF0dHIgICAgICAgKi8gYXR0ciwgXG4gICAgICAgICAgICAgICAgICAgIC8qIHN1cnJvZ2F0ZSAgKi8gc3Vycm9nYXRlLCBcbiAgICAgICAgICAgICAgICAgICAgLyogbWFuaWZlc3QgICAqLyBzdXJyb2dhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhdHRySW5mby5pc1RlbXBsYXRlQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBoYXZlIHRlbXBsYXRlIGNvbnRyb2xsZXIgb24gc3Vycm9nYXRlIGVsZW1lbnQuJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHVzZSByZXBvcnRlclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kQ3VzdG9tQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAvKiBhdHRyU3ludGF4ICovIGF0dHJTeW50YXgsIFxuICAgICAgICAgICAgICAgICAgICAvKiBhdHRySW5mbyAgICovIGF0dHJJbmZvLCBcbiAgICAgICAgICAgICAgICAgICAgLyogY29tbWFuZCAgICAqLyBiaW5kaW5nQ29tbWFuZCwgXG4gICAgICAgICAgICAgICAgICAgIC8qIG1hbmlmZXN0ICAgKi8gc3Vycm9nYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpdCdzIG5vdCBhIGN1c3RvbSBhdHRyaWJ1dGUgYnV0IG1pZ2h0IGJlIGEgcmVndWxhciBib3VuZCBhdHRyaWJ1dGUgb3IgaW50ZXJwb2xhdGlvbiAoaXQgbWlnaHQgYWxzbyBiZSBub3RoaW5nKVxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IG9uIHN1cnJvZ2F0ZSwgd2UgZG9uJ3QgY2FyZSBhYm91dCByZW1vdmluZyB0aGUgYXR0cmlidXRlIHdpdGggaW50ZXJwb2xhdGlvblxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBlbGVtZW50IGlzIG5vdCB1c2VkIChjbG9uZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kUGxhaW5BdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgLyogbm9kZSAgICAgICAqLyBub2RlLCBcbiAgICAgICAgICAgICAgICAvKiBhdHRyU3ludGF4ICovIGF0dHJTeW50YXgsIFxuICAgICAgICAgICAgICAgIC8qIGF0dHIgICAgICAgKi8gYXR0ciwgXG4gICAgICAgICAgICAgICAgLyogc3Vycm9nYXRlICAqLyBzdXJyb2dhdGUsIFxuICAgICAgICAgICAgICAgIC8qIG1hbmlmZXN0ICAgKi8gc3Vycm9nYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJpbmRDaGlsZE5vZGVzKFxuICAgICAgICAvKiBub2RlICAgICAgICAgICAgICAgKi8gbm9kZSwgXG4gICAgICAgIC8qIHN1cnJvZ2F0ZSAgICAgICAgICAqLyBzdXJyb2dhdGUsIFxuICAgICAgICAvKiBtYW5pZmVzdCAgICAgICAgICAgKi8gc3Vycm9nYXRlLCBcbiAgICAgICAgLyogbWFuaWZlc3RSb290ICAgICAgICovIG51bGwsIFxuICAgICAgICAvKiBwYXJlbnRNYW5pZmVzdFJvb3QgKi8gbnVsbCk7XG4gICAgICAgIHJldHVybiBzdXJyb2dhdGU7XG4gICAgfVxuICAgIGJpbmRNYW5pZmVzdChwYXJlbnRNYW5pZmVzdCwgbm9kZSwgc3Vycm9nYXRlLCBtYW5pZmVzdCwgbWFuaWZlc3RSb290LCBwYXJlbnRNYW5pZmVzdFJvb3QpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBzd2l0Y2ggKG5vZGUubm9kZU5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ0xFVCc6XG4gICAgICAgICAgICAgICAgLy8gbGV0IGNhbm5vdCBoYXZlIGNoaWxkcmVuIGFuZCBoYXMgc29tZSBkaWZmZXJlbnQgcHJvY2Vzc2luZyBydWxlcywgc28gcmV0dXJuIGVhcmx5XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kTGV0RWxlbWVudChcbiAgICAgICAgICAgICAgICAvKiBwYXJlbnRNYW5pZmVzdCAqLyBwYXJlbnRNYW5pZmVzdCwgXG4gICAgICAgICAgICAgICAgLyogbm9kZSAgICAgICAgICAgKi8gbm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAnU0xPVCc6XG4gICAgICAgICAgICAgICAgc3Vycm9nYXRlLmhhc1Nsb3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmFtZSA9IG5vZGUuZ2V0QXR0cmlidXRlKCdhcy1lbGVtZW50Jyk7XG4gICAgICAgIGlmIChuYW1lID09PSBudWxsKSB7XG4gICAgICAgICAgICBuYW1lID0gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQXVTbG90ID0gbmFtZSA9PT0gJ2F1LXNsb3QnO1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gdGhpcy5jb250YWluZXIuZmluZChDdXN0b21FbGVtZW50LCBuYW1lKTtcbiAgICAgICAgY29uc3QgZWxlbWVudEluZm8gPSBFbGVtZW50SW5mby5mcm9tKGRlZmluaXRpb24sIG5hbWUpO1xuICAgICAgICBsZXQgY29tcGlsZUNoaWxkcmVuID0gdHJ1ZTtcbiAgICAgICAgaWYgKGVsZW1lbnRJbmZvID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBubyByZWdpc3RlcmVkIGN1c3RvbSBlbGVtZW50IHdpdGggdGhpcyBuYW1lXG4gICAgICAgICAgICBtYW5pZmVzdCA9IG5ldyBQbGFpbkVsZW1lbnRTeW1ib2wobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpdCdzIGEgY3VzdG9tIGVsZW1lbnQgc28gd2Ugc2V0IHRoZSBtYW5pZmVzdFJvb3QgYXMgd2VsbCAoZm9yIHN0b3JpbmcgcmVwbGFjZXMpXG4gICAgICAgICAgICBjb21waWxlQ2hpbGRyZW4gPSAoKF9jID0gKF9iID0gKF9hID0gZGVmaW5pdGlvbiA9PT0gbnVsbCB8fCBkZWZpbml0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZpbml0aW9uLnByb2Nlc3NDb250ZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmluZChkZWZpbml0aW9uLlR5cGUpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iobm9kZSwgdGhpcy5wbGF0Zm9ybSkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHRydWUpO1xuICAgICAgICAgICAgcGFyZW50TWFuaWZlc3RSb290ID0gbWFuaWZlc3RSb290O1xuICAgICAgICAgICAgY29uc3QgY2VTeW1ib2wgPSBuZXcgQ3VzdG9tRWxlbWVudFN5bWJvbCh0aGlzLnBsYXRmb3JtLCBub2RlLCBlbGVtZW50SW5mbyk7XG4gICAgICAgICAgICBpZiAoaXNBdVNsb3QpIHtcbiAgICAgICAgICAgICAgICBjZVN5bWJvbC5mbGFncyA9IDUxMiAvKiBpc0F1U2xvdCAqLztcbiAgICAgICAgICAgICAgICBjZVN5bWJvbC5zbG90TmFtZSA9IChfZCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogXCJkZWZhdWx0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYW5pZmVzdFJvb3QgPSBtYW5pZmVzdCA9IGNlU3ltYm9sO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21waWxlQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIC8vIGxpZnRpbmcgb3BlcmF0aW9ucyBkb25lIGJ5IHRlbXBsYXRlIGNvbnRyb2xsZXJzIGFuZCByZXBsYWNlcyBlZmZlY3RpdmVseSB1bmxpbmsgdGhlIG5vZGVzLCBzbyBzdGFydCBhdCB0aGUgYm90dG9tXG4gICAgICAgICAgICB0aGlzLmJpbmRDaGlsZE5vZGVzKFxuICAgICAgICAgICAgLyogbm9kZSAgICAgICAgICAgICAgICovIG5vZGUsIFxuICAgICAgICAgICAgLyogc3Vycm9nYXRlICAgICAgICAgICovIHN1cnJvZ2F0ZSwgXG4gICAgICAgICAgICAvKiBtYW5pZmVzdCAgICAgICAgICAgKi8gbWFuaWZlc3QsIFxuICAgICAgICAgICAgLyogbWFuaWZlc3RSb290ICAgICAgICovIG1hbmlmZXN0Um9vdCwgXG4gICAgICAgICAgICAvKiBwYXJlbnRNYW5pZmVzdFJvb3QgKi8gcGFyZW50TWFuaWZlc3RSb290KTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgcGFyZW50TWFuaWZlc3Qgd2lsbCByZWNlaXZlIGVpdGhlciB0aGUgZGlyZWN0IGNoaWxkIG5vZGVzLCBvciB0aGUgdGVtcGxhdGUgY29udHJvbGxlcnMgLyByZXBsYWNlc1xuICAgICAgICAvLyB3cmFwcGluZyB0aGVtXG4gICAgICAgIHRoaXMuYmluZEF0dHJpYnV0ZXMoXG4gICAgICAgIC8qIG5vZGUgICAgICAgICAgICAgICAqLyBub2RlLCBcbiAgICAgICAgLyogcGFyZW50TWFuaWZlc3QgICAgICovIHBhcmVudE1hbmlmZXN0LCBcbiAgICAgICAgLyogc3Vycm9nYXRlICAgICAgICAgICovIHN1cnJvZ2F0ZSwgXG4gICAgICAgIC8qIG1hbmlmZXN0ICAgICAgICAgICAqLyBtYW5pZmVzdCwgXG4gICAgICAgIC8qIG1hbmlmZXN0Um9vdCAgICAgICAqLyBtYW5pZmVzdFJvb3QsIFxuICAgICAgICAvKiBwYXJlbnRNYW5pZmVzdFJvb3QgKi8gcGFyZW50TWFuaWZlc3RSb290KTtcbiAgICAgICAgaWYgKG1hbmlmZXN0Um9vdCA9PT0gbWFuaWZlc3QgJiYgbWFuaWZlc3QuaXNDb250YWluZXJsZXNzKSB7XG4gICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG1hbmlmZXN0Lm1hcmtlciwgbm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFuaWZlc3QuaXNUYXJnZXQpIHtcbiAgICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnYXUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBiaW5kTGV0RWxlbWVudChwYXJlbnRNYW5pZmVzdCwgbm9kZSkge1xuICAgICAgICBjb25zdCBzeW1ib2wgPSBuZXcgTGV0RWxlbWVudFN5bWJvbCh0aGlzLnBsYXRmb3JtLCBub2RlKTtcbiAgICAgICAgcGFyZW50TWFuaWZlc3QuY2hpbGROb2Rlcy5wdXNoKHN5bWJvbCk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBhdHRyaWJ1dGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgYXR0ciA9IGF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICBpZiAoYXR0ci5uYW1lID09PSAndG8tYmluZGluZy1jb250ZXh0Jykge1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKCd0by1iaW5kaW5nLWNvbnRleHQnKTtcbiAgICAgICAgICAgICAgICBzeW1ib2wudG9CaW5kaW5nQ29udGV4dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhdHRyU3ludGF4ID0gdGhpcy5hdHRyUGFyc2VyLnBhcnNlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBjb21tYW5kID0gdGhpcy5nZXRCaW5kaW5nQ29tbWFuZChhdHRyU3ludGF4LCBmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBiaW5kaW5nVHlwZSA9IGNvbW1hbmQgPT09IG51bGwgPyAyMDQ4IC8qIEludGVycG9sYXRpb24gKi8gOiBjb21tYW5kLmJpbmRpbmdUeXBlO1xuICAgICAgICAgICAgY29uc3QgZXhwciA9IHRoaXMuZXhwclBhcnNlci5wYXJzZShhdHRyU3ludGF4LnJhd1ZhbHVlLCBiaW5kaW5nVHlwZSk7XG4gICAgICAgICAgICBjb25zdCB0byA9IGNhbWVsQ2FzZShhdHRyU3ludGF4LnRhcmdldCk7XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gbmV3IEJpbmRhYmxlSW5mbyh0bywgQmluZGluZ01vZGUudG9WaWV3KTtcbiAgICAgICAgICAgIHN5bWJvbC5iaW5kaW5ncy5wdXNoKG5ldyBCaW5kaW5nU3ltYm9sKGNvbW1hbmQsIGluZm8sIGV4cHIsIGF0dHJTeW50YXgucmF3VmFsdWUsIHRvKSk7XG4gICAgICAgICAgICArK2k7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChzeW1ib2wubWFya2VyLCBub2RlKTtcbiAgICB9XG4gICAgYmluZEF0dHJpYnV0ZXMobm9kZSwgcGFyZW50TWFuaWZlc3QsIHN1cnJvZ2F0ZSwgbWFuaWZlc3QsIG1hbmlmZXN0Um9vdCwgcGFyZW50TWFuaWZlc3RSb290KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSB0b3AtbGV2ZWwgc3ltYm9sIGZvciB0aGUgY3VycmVudCBkZXB0aC5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIHRlbXBsYXRlIGNvbnRyb2xsZXJzIG9yIHJlcGxhY2VzLCBpdCBpcyBhbHdheXMgdGhlIG1hbmlmZXN0IGl0c2VsZi5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIHRlbXBsYXRlIGNvbnRyb2xsZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSB0aGUgb3V0ZXItbW9zdCBUZW1wbGF0ZUNvbnRyb2xsZXJTeW1ib2wuXG4gICAgICAgIGxldCBtYW5pZmVzdFByb3h5ID0gbWFuaWZlc3Q7XG4gICAgICAgIGxldCBwcmV2aW91c0NvbnRyb2xsZXIgPSAodm9pZCAwKTtcbiAgICAgICAgbGV0IGN1cnJlbnRDb250cm9sbGVyID0gKHZvaWQgMCk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgbGV0IGF0dHI7XG4gICAgICAgIGxldCBiaW5kU2lnbmFsO1xuICAgICAgICBsZXQgYXR0clN5bnRheDtcbiAgICAgICAgbGV0IGJpbmRpbmdDb21tYW5kID0gbnVsbDtcbiAgICAgICAgbGV0IGF0dHJJbmZvID0gbnVsbDtcbiAgICAgICAgd2hpbGUgKGkgPCBhdHRyaWJ1dGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgYXR0ciA9IGF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICArK2k7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlc1RvSWdub3JlW2F0dHIubmFtZV0gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF0dHJTeW50YXggPSB0aGlzLmF0dHJQYXJzZXIucGFyc2UoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbiAgICAgICAgICAgIGJpbmRpbmdDb21tYW5kID0gdGhpcy5nZXRCaW5kaW5nQ29tbWFuZChhdHRyU3ludGF4LCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChiaW5kaW5nQ29tbWFuZCA9PT0gbnVsbCB8fCAoYmluZGluZ0NvbW1hbmQuYmluZGluZ1R5cGUgJiA0MDk2IC8qIElnbm9yZUF0dHIgKi8pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYXR0ckluZm8gPSBBdHRySW5mby5mcm9tKHRoaXMuY29udGFpbmVyLmZpbmQoQ3VzdG9tQXR0cmlidXRlLCBhdHRyU3ludGF4LnRhcmdldCksIGF0dHJTeW50YXgudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0ckluZm8gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBub3QgYSBjdXN0b20gYXR0cmlidXRlIGJ1dCBtaWdodCBiZSBhIHJlZ3VsYXIgYm91bmQgYXR0cmlidXRlIG9yIGludGVycG9sYXRpb24gKGl0IG1pZ2h0IGFsc28gYmUgbm90aGluZylcbiAgICAgICAgICAgICAgICAgICAgYmluZFNpZ25hbCA9IHRoaXMuYmluZFBsYWluQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAvKiBub2RlICAgICAgICovIG5vZGUsIFxuICAgICAgICAgICAgICAgICAgICAvKiBhdHRyU3ludGF4ICovIGF0dHJTeW50YXgsIFxuICAgICAgICAgICAgICAgICAgICAvKiBhdHRyICAgICAgICovIGF0dHIsIFxuICAgICAgICAgICAgICAgICAgICAvKiBzdXJyb2dhdGUgICovIHN1cnJvZ2F0ZSwgXG4gICAgICAgICAgICAgICAgICAgIC8qIG1hbmlmZXN0ICAgKi8gbWFuaWZlc3QpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmluZFNpZ25hbCA9PT0gMSAvKiByZW1vdmUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlTm9kZShhdHRyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhdHRySW5mby5pc1RlbXBsYXRlQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbWFuaWZlc3QgaXMgd3JhcHBlZCBieSB0aGUgaW5uZXItbW9zdCB0ZW1wbGF0ZSBjb250cm9sbGVyIChpZiB0aGVyZSBhcmUgbXVsdGlwbGUgb24gdGhlIHNhbWUgZWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgLy8gc28ga2VlcCBzZXR0aW5nIG1hbmlmZXN0LnRlbXBsYXRlQ29udHJvbGxlciB0byB0aGUgbGF0ZXN0IHRlbXBsYXRlIGNvbnRyb2xsZXIgd2UgZmluZFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29udHJvbGxlciA9IG1hbmlmZXN0LnRlbXBsYXRlQ29udHJvbGxlciA9IHRoaXMuZGVjbGFyZVRlbXBsYXRlQ29udHJvbGxlcihcbiAgICAgICAgICAgICAgICAgICAgLyogYXR0clN5bnRheCAqLyBhdHRyU3ludGF4LCBcbiAgICAgICAgICAgICAgICAgICAgLyogYXR0ckluZm8gICAqLyBhdHRySW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwcm94eSBhbmQgdGhlIG1hbmlmZXN0IGFyZSBvbmx5IGlkZW50aWNhbCB3aGVuIHdlJ3JlIGF0IHRoZSBmaXJzdCB0ZW1wbGF0ZSBjb250cm9sbGVyIChzaW5jZSB0aGUgY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBhc3NpZ25lZCB0byB0aGUgcHJveHkpLCBzbyB0aGlzIGV2YWx1YXRlcyB0byB0cnVlIGF0IG1vc3Qgb25jZSBwZXIgbm9kZVxuICAgICAgICAgICAgICAgICAgICBpZiAobWFuaWZlc3RQcm94eSA9PT0gbWFuaWZlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb250cm9sbGVyLnRlbXBsYXRlID0gbWFuaWZlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5pZmVzdFByb3h5ID0gY3VycmVudENvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29udHJvbGxlci50ZW1wbGF0ZUNvbnRyb2xsZXIgPSBwcmV2aW91c0NvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29udHJvbGxlci50ZW1wbGF0ZSA9IHByZXZpb3VzQ29udHJvbGxlci50ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29udHJvbGxlci50ZW1wbGF0ZSA9IGN1cnJlbnRDb250cm9sbGVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29udHJvbGxlciA9IGN1cnJlbnRDb250cm9sbGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYSByZWd1bGFyIGN1c3RvbSBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kQ3VzdG9tQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAvKiBhdHRyU3ludGF4ICovIGF0dHJTeW50YXgsIFxuICAgICAgICAgICAgICAgICAgICAvKiBhdHRySW5mbyAgICovIGF0dHJJbmZvLCBcbiAgICAgICAgICAgICAgICAgICAgLyogY29tbWFuZCAgICAqLyBiaW5kaW5nQ29tbWFuZCwgXG4gICAgICAgICAgICAgICAgICAgIC8qIG1hbmlmZXN0ICAgKi8gbWFuaWZlc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGl0J3Mgbm90IGEgY3VzdG9tIGF0dHJpYnV0ZSBidXQgbWlnaHQgYmUgYSByZWd1bGFyIGJvdW5kIGF0dHJpYnV0ZSBvciBpbnRlcnBvbGF0aW9uIChpdCBtaWdodCBhbHNvIGJlIG5vdGhpbmcpXG4gICAgICAgICAgICAgICAgYmluZFNpZ25hbCA9IHRoaXMuYmluZFBsYWluQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIC8qIG5vZGUgICAgICAgKi8gbm9kZSwgXG4gICAgICAgICAgICAgICAgLyogYXR0clN5bnRheCAqLyBhdHRyU3ludGF4LCBcbiAgICAgICAgICAgICAgICAvKiBhdHRyICAgICAgICovIGF0dHIsIFxuICAgICAgICAgICAgICAgIC8qIHN1cnJvZ2F0ZSAgKi8gc3Vycm9nYXRlLCBcbiAgICAgICAgICAgICAgICAvKiBtYW5pZmVzdCAgICovIG1hbmlmZXN0KTtcbiAgICAgICAgICAgICAgICBpZiAoYmluZFNpZ25hbCA9PT0gMSAvKiByZW1vdmUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGVOb2RlKGF0dHIpO1xuICAgICAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBub2RlLnR5cGU7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0eXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnN1cmVBdHRyaWJ1dGVPcmRlcihtYW5pZmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByb2plY3Rpb24gPSBub2RlLmdldEF0dHJpYnV0ZSgnYXUtc2xvdCcpO1xuICAgICAgICBpZiAocHJvamVjdGlvbiA9PT0gJycpIHtcbiAgICAgICAgICAgIHByb2plY3Rpb24gPSAnZGVmYXVsdCc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFzUHJvamVjdGlvbiA9IHByb2plY3Rpb24gIT09IG51bGw7XG4gICAgICAgIGlmIChoYXNQcm9qZWN0aW9uICYmIGlzVGVtcGxhdGVDb250cm9sbGVyT2YobWFuaWZlc3RQcm94eSwgbWFuaWZlc3QpKSB7XG4gICAgICAgICAgICAvLyBwcmV2ZW50cyA8c29tZS1lbCBhdS1zbG90IFRFTVBMQVRFLkNPTlRST0xMRVI+PC9zb21lLWVsPi5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdXNhZ2Ugb2YgW2F1LXNsb3Q9XCIke3Byb2plY3Rpb259XCJdIGFsb25nIHdpdGggYSB0ZW1wbGF0ZSBjb250cm9sbGVyIChpZiwgZWxzZSwgcmVwZWF0LmZvciBldGMuKSBmb3VuZCAoZXhhbXBsZTogPHNvbWUtZWwgYXUtc2xvdCBpZi5iaW5kPVwidHJ1ZVwiPjwvc29tZS1lbD4pLmApO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUT0RPOiBwcmV2ZW50IDx0ZW1wbGF0ZSBURU1QTEFURS5DT05UUk9MTEVSPjxzb21lLWVsIGF1LXNsb3Q+PC9zb21lLWVsPjwvdGVtcGxhdGU+LlxuICAgICAgICAgICAgICogQnV0IHRoZXJlIGlzIG5vdCBlYXN5IHdheSBmb3Igbm93LCBhcyB0aGUgYXR0cmlidXRlIGJpbmRpbmcgaXMgZG9uZSBhZnRlciBiaW5kaW5nIHRoZSBjaGlsZCBub2Rlcy5cbiAgICAgICAgICAgICAqIFRoaXMgbWVhbnMgYnkgdGhlIHRpbWUgdGhlIHRlbXBsYXRlIGNvbnRyb2xsZXIgaW4gdGhlIGFuY2VzdG9yIGlzIHByb2Nlc3NlZCwgdGhlIHByb2plY3Rpb24gaXMgYWxyZWFkeSByZWdpc3RlcmVkLlxuICAgICAgICAgICAgICovXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50TmFtZSA9IChfYiA9IChfYSA9IG5vZGUucGFyZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEF0dHJpYnV0ZSgnYXMtZWxlbWVudCcpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAoX2MgPSBub2RlLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoaGFzUHJvamVjdGlvblxuICAgICAgICAgICAgJiYgKG1hbmlmZXN0Um9vdCA9PT0gbnVsbFxuICAgICAgICAgICAgICAgIHx8IHBhcmVudE5hbWUgPT09IHZvaWQgMFxuICAgICAgICAgICAgICAgIHx8IHRoaXMuY29udGFpbmVyLmZpbmQoQ3VzdG9tRWxlbWVudCwgcGFyZW50TmFtZSkgPT09IG51bGwpKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFByZXZlbnRzIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG4gICAgICAgICAgICAgKiAtIDx0ZW1wbGF0ZT48ZGl2IGF1LXNsb3Q+PC9kaXY+PC90ZW1wbGF0ZT5cbiAgICAgICAgICAgICAqIC0gPG15LWNlPjxkaXY+PGRpdiBhdS1zbG90PjwvZGl2PjwvZGl2PjwvbXktY2U+XG4gICAgICAgICAgICAgKiAtIDxteS1jZT48ZGl2IGF1LXNsb3Q9XCJzMVwiPjxkaXYgYXUtc2xvdD1cInMyXCI+PC9kaXY+PC9kaXY+PC9teS1jZT5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB1c2FnZSBvZiBbYXUtc2xvdD1cIiR7cHJvamVjdGlvbn1cIl0uIEl0IHNlZW1zIHRoYXQgcHJvamVjdGlvbiBpcyBhdHRlbXB0ZWQsIGJ1dCBub3QgZm9yIGEgY3VzdG9tIGVsZW1lbnQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc1RlbXBsYXRlQ29udHJvbGxlcnModGhpcy5wbGF0Zm9ybSwgbWFuaWZlc3RQcm94eSwgbWFuaWZlc3QpO1xuICAgICAgICBjb25zdCBwcm9qZWN0aW9uT3duZXIgPSBtYW5pZmVzdCA9PT0gbWFuaWZlc3RSb290ID8gcGFyZW50TWFuaWZlc3RSb290IDogbWFuaWZlc3RSb290O1xuICAgICAgICBpZiAoIWhhc1Byb2plY3Rpb24gfHwgcHJvamVjdGlvbk93bmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyB0aGUgcHJveHkgaXMgZWl0aGVyIHRoZSBtYW5pZmVzdCBpdHNlbGYgb3IgdGhlIG91dGVyLW1vc3QgY29udHJvbGxlcjsgYWRkIGl0IGRpcmVjdGx5IHRvIHRoZSBwYXJlbnRcbiAgICAgICAgICAgIHBhcmVudE1hbmlmZXN0LmNoaWxkTm9kZXMucHVzaChtYW5pZmVzdFByb3h5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoYXNQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uT3duZXIucHJvamVjdGlvbnMucHVzaChuZXcgUHJvamVjdGlvblN5bWJvbChwcm9qZWN0aW9uLCBtYW5pZmVzdFByb3h5KSk7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnYXUtc2xvdCcpO1xuICAgICAgICAgICAgbm9kZS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUT0RPOiByZWZhY3RvciB0byB1c2UgcmVuZGVyIHByaW9yaXR5IHNsb3RzICh0aGlzIGxvZ2ljIHNob3VsZG4ndCBiZSBpbiB0aGUgdGVtcGxhdGUgYmluZGVyKVxuICAgIGVuc3VyZUF0dHJpYnV0ZU9yZGVyKG1hbmlmZXN0KSB7XG4gICAgICAgIC8vIHN3YXAgdGhlIG9yZGVyIG9mIGNoZWNrZWQgYW5kIG1vZGVsL3ZhbHVlIGF0dHJpYnV0ZSwgc28gdGhhdCB0aGUgcmVxdWlyZWQgb2JzZXJ2ZXJzIGFyZSBwcmVwYXJlZCBmb3IgY2hlY2tlZC1vYnNlcnZlclxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gbWFuaWZlc3QucGxhaW5BdHRyaWJ1dGVzO1xuICAgICAgICBsZXQgbW9kZWxPclZhbHVlSW5kZXggPSB2b2lkIDA7XG4gICAgICAgIGxldCBjaGVja2VkSW5kZXggPSB2b2lkIDA7XG4gICAgICAgIGxldCBmb3VuZCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGggJiYgZm91bmQgPCAzOyBpKyspIHtcbiAgICAgICAgICAgIHN3aXRjaCAoYXR0cmlidXRlc1tpXS5zeW50YXgudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbW9kZWwnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3ZhbHVlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdtYXRjaGVyJzpcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxPclZhbHVlSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCsrO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjaGVja2VkJzpcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQrKztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoZWNrZWRJbmRleCAhPT0gdm9pZCAwICYmIG1vZGVsT3JWYWx1ZUluZGV4ICE9PSB2b2lkIDAgJiYgY2hlY2tlZEluZGV4IDwgbW9kZWxPclZhbHVlSW5kZXgpIHtcbiAgICAgICAgICAgIFthdHRyaWJ1dGVzW21vZGVsT3JWYWx1ZUluZGV4XSwgYXR0cmlidXRlc1tjaGVja2VkSW5kZXhdXSA9IFthdHRyaWJ1dGVzW2NoZWNrZWRJbmRleF0sIGF0dHJpYnV0ZXNbbW9kZWxPclZhbHVlSW5kZXhdXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBiaW5kQ2hpbGROb2Rlcyhub2RlLCBzdXJyb2dhdGUsIG1hbmlmZXN0LCBtYW5pZmVzdFJvb3QsIHBhcmVudE1hbmlmZXN0Um9vdCkge1xuICAgICAgICBsZXQgY2hpbGROb2RlO1xuICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgY2hpbGROb2RlID0gbm9kZS5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGlsZE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5leHRDaGlsZDtcbiAgICAgICAgd2hpbGUgKGNoaWxkTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3dpdGNoIChjaGlsZE5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogRWxlbWVudCAqLzpcbiAgICAgICAgICAgICAgICAgICAgbmV4dENoaWxkID0gY2hpbGROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmRNYW5pZmVzdChcbiAgICAgICAgICAgICAgICAgICAgLyogcGFyZW50TWFuaWZlc3QgICAgICovIG1hbmlmZXN0LCBcbiAgICAgICAgICAgICAgICAgICAgLyogbm9kZSAgICAgICAgICAgICAgICovIGNoaWxkTm9kZSwgXG4gICAgICAgICAgICAgICAgICAgIC8qIHN1cnJvZ2F0ZSAgICAgICAgICAqLyBzdXJyb2dhdGUsIFxuICAgICAgICAgICAgICAgICAgICAvKiBtYW5pZmVzdCAgICAgICAgICAgKi8gbWFuaWZlc3QsIFxuICAgICAgICAgICAgICAgICAgICAvKiBtYW5pZmVzdFJvb3QgICAgICAgKi8gbWFuaWZlc3RSb290LCBcbiAgICAgICAgICAgICAgICAgICAgLyogcGFyZW50TWFuaWZlc3RSb290ICovIHBhcmVudE1hbmlmZXN0Um9vdCk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkTm9kZSA9IG5leHRDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFRleHQgKi86XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkTm9kZSA9IHRoaXMuYmluZFRleHQoXG4gICAgICAgICAgICAgICAgICAgIC8qIHRleHROb2RlICovIGNoaWxkTm9kZSwgXG4gICAgICAgICAgICAgICAgICAgIC8qIG1hbmlmZXN0ICovIG1hbmlmZXN0KS5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0IC8qIENEQVRBU2VjdGlvbiAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDcgLyogUHJvY2Vzc2luZ0luc3RydWN0aW9uICovOlxuICAgICAgICAgICAgICAgIGNhc2UgOCAvKiBDb21tZW50ICovOlxuICAgICAgICAgICAgICAgIGNhc2UgMTAgLyogRG9jdW1lbnRUeXBlICovOlxuICAgICAgICAgICAgICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOSAvKiBEb2N1bWVudCAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDExIC8qIERvY3VtZW50RnJhZ21lbnQgKi86XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5maXJzdENoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGJpbmRUZXh0KHRleHROb2RlLCBtYW5pZmVzdCkge1xuICAgICAgICBjb25zdCBpbnRlcnBvbGF0aW9uID0gdGhpcy5leHByUGFyc2VyLnBhcnNlKHRleHROb2RlLndob2xlVGV4dCwgMjA0OCAvKiBJbnRlcnBvbGF0aW9uICovKTtcbiAgICAgICAgaWYgKGludGVycG9sYXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbCA9IG5ldyBUZXh0U3ltYm9sKHRoaXMucGxhdGZvcm0sIHRleHROb2RlLCBpbnRlcnBvbGF0aW9uKTtcbiAgICAgICAgICAgIG1hbmlmZXN0LmNoaWxkTm9kZXMucHVzaChzeW1ib2wpO1xuICAgICAgICAgICAgcHJvY2Vzc0ludGVycG9sYXRpb25UZXh0KHN5bWJvbCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5leHQgPSB0ZXh0Tm9kZTtcbiAgICAgICAgd2hpbGUgKG5leHQubmV4dFNpYmxpbmcgIT09IG51bGwgJiYgbmV4dC5uZXh0U2libGluZy5ub2RlVHlwZSA9PT0gMyAvKiBUZXh0ICovKSB7XG4gICAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG4gICAgZGVjbGFyZVRlbXBsYXRlQ29udHJvbGxlcihhdHRyU3ludGF4LCBhdHRySW5mbykge1xuICAgICAgICBsZXQgc3ltYm9sO1xuICAgICAgICBjb25zdCBhdHRyUmF3VmFsdWUgPSBhdHRyU3ludGF4LnJhd1ZhbHVlO1xuICAgICAgICBjb25zdCBjb21tYW5kID0gdGhpcy5nZXRCaW5kaW5nQ29tbWFuZChhdHRyU3ludGF4LCBmYWxzZSk7XG4gICAgICAgIC8vIG11bHRpLWJpbmRpbmdzIGxvZ2ljIGhlcmUgaXMgc2ltaWxhciB0byAoYW5kIGV4cGxhaW5lZCBpbikgYmluZEN1c3RvbUF0dHJpYnV0ZVxuICAgICAgICBjb25zdCBpc011bHRpQmluZGluZ3MgPSBhdHRySW5mby5ub011bHRpQmluZGluZ3MgPT09IGZhbHNlICYmIGNvbW1hbmQgPT09IG51bGwgJiYgaGFzSW5saW5lQmluZGluZ3MoYXR0clJhd1ZhbHVlKTtcbiAgICAgICAgaWYgKGlzTXVsdGlCaW5kaW5ncykge1xuICAgICAgICAgICAgc3ltYm9sID0gbmV3IFRlbXBsYXRlQ29udHJvbGxlclN5bWJvbCh0aGlzLnBsYXRmb3JtLCBhdHRyU3ludGF4LCBhdHRySW5mbyk7XG4gICAgICAgICAgICB0aGlzLmJpbmRNdWx0aUF0dHJpYnV0ZShzeW1ib2wsIGF0dHJJbmZvLCBhdHRyUmF3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3ltYm9sID0gbmV3IFRlbXBsYXRlQ29udHJvbGxlclN5bWJvbCh0aGlzLnBsYXRmb3JtLCBhdHRyU3ludGF4LCBhdHRySW5mbyk7XG4gICAgICAgICAgICBjb25zdCBiaW5kaW5nVHlwZSA9IGNvbW1hbmQgPT09IG51bGwgPyAyMDQ4IC8qIEludGVycG9sYXRpb24gKi8gOiBjb21tYW5kLmJpbmRpbmdUeXBlO1xuICAgICAgICAgICAgY29uc3QgZXhwciA9IHRoaXMuZXhwclBhcnNlci5wYXJzZShhdHRyUmF3VmFsdWUsIGJpbmRpbmdUeXBlKTtcbiAgICAgICAgICAgIHN5bWJvbC5iaW5kaW5ncy5wdXNoKG5ldyBCaW5kaW5nU3ltYm9sKGNvbW1hbmQsIGF0dHJJbmZvLmJpbmRhYmxlLCBleHByLCBhdHRyUmF3VmFsdWUsIGF0dHJTeW50YXgudGFyZ2V0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN5bWJvbDtcbiAgICB9XG4gICAgYmluZEN1c3RvbUF0dHJpYnV0ZShhdHRyU3ludGF4LCBhdHRySW5mbywgY29tbWFuZCwgbWFuaWZlc3QpIHtcbiAgICAgICAgbGV0IHN5bWJvbDtcbiAgICAgICAgY29uc3QgYXR0clJhd1ZhbHVlID0gYXR0clN5bnRheC5yYXdWYWx1ZTtcbiAgICAgICAgLy8gQ3VzdG9tIGF0dHJpYnV0ZXMgYXJlIGFsd2F5cyBpbiBtdWx0aXBsZSBiaW5kaW5nIG1vZGUsXG4gICAgICAgIC8vIGV4Y2VwdCB3aGVuIHRoZXkgY2FuJ3QgYmVcbiAgICAgICAgLy8gV2hlbiB0aGV5IGNhbm5vdCBiZTpcbiAgICAgICAgLy8gICAgICAgICogaGFzIGV4cGxpY2l0IGNvbmZpZ3VyYXRpb24gbm9NdWx0aUJpbmRpbmdzOiBmYWxzZVxuICAgICAgICAvLyAgICAgICAgKiBoYXMgYmluZGluZyBjb21tYW5kLCBpZTogPGRpdiBteS1hdHRyLmJpbmQ9XCIuLi5cIj4uXG4gICAgICAgIC8vICAgICAgICAgIEluIHRoaXMgc2NlbmFyaW8sIHRoZSB2YWx1ZSBvZiB0aGUgY3VzdG9tIGF0dHJpYnV0ZXMgaXMgcmVxdWlyZWQgdG8gYmUgYSB2YWxpZCBleHByZXNzaW9uXG4gICAgICAgIC8vICAgICAgICAqIGhhcyBubyBjb2xvbjogaWU6IDxkaXYgbXktYXR0cj1cImFiY2RcIj5cbiAgICAgICAgLy8gICAgICAgICAgSW4gdGhpcyBzY2VuYXJpbywgaXQncyBzaW1wbHkgaW52YWxpZCBzeW50YXguIENvbnNpZGVyIHN0eWxlIGF0dHJpYnV0ZSBydWxlLXZhbHVlIHBhaXI6IDxkaXYgc3R5bGU9XCJydWxlOiBydWxlVmFsdWVcIj5cbiAgICAgICAgY29uc3QgaXNNdWx0aUJpbmRpbmdzID0gYXR0ckluZm8ubm9NdWx0aUJpbmRpbmdzID09PSBmYWxzZSAmJiBjb21tYW5kID09PSBudWxsICYmIGhhc0lubGluZUJpbmRpbmdzKGF0dHJSYXdWYWx1ZSk7XG4gICAgICAgIGlmIChpc011bHRpQmluZGluZ3MpIHtcbiAgICAgICAgICAgIC8vIGEgbXVsdGlwbGUtYmluZGluZ3MgYXR0cmlidXRlIHVzYWdlIChzZW1pY29sb24gc2VwYXJhdGVkIGJpbmRpbmcpIGlzIG9ubHkgdmFsaWQgd2l0aG91dCBhIGJpbmRpbmcgY29tbWFuZDtcbiAgICAgICAgICAgIC8vIHRoZSBiaW5kaW5nIGNvbW1hbmRzIG11c3QgYmUgZGVjbGFyZWQgaW4gZWFjaCBvZiB0aGUgcHJvcGVydHkgYmluZGluZ3NcbiAgICAgICAgICAgIHN5bWJvbCA9IG5ldyBDdXN0b21BdHRyaWJ1dGVTeW1ib2woYXR0clN5bnRheCwgYXR0ckluZm8pO1xuICAgICAgICAgICAgdGhpcy5iaW5kTXVsdGlBdHRyaWJ1dGUoc3ltYm9sLCBhdHRySW5mbywgYXR0clJhd1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN5bWJvbCA9IG5ldyBDdXN0b21BdHRyaWJ1dGVTeW1ib2woYXR0clN5bnRheCwgYXR0ckluZm8pO1xuICAgICAgICAgICAgY29uc3QgYmluZGluZ1R5cGUgPSBjb21tYW5kID09PSBudWxsID8gMjA0OCAvKiBJbnRlcnBvbGF0aW9uICovIDogY29tbWFuZC5iaW5kaW5nVHlwZTtcbiAgICAgICAgICAgIGNvbnN0IGV4cHIgPSB0aGlzLmV4cHJQYXJzZXIucGFyc2UoYXR0clJhd1ZhbHVlLCBiaW5kaW5nVHlwZSk7XG4gICAgICAgICAgICBzeW1ib2wuYmluZGluZ3MucHVzaChuZXcgQmluZGluZ1N5bWJvbChjb21tYW5kLCBhdHRySW5mby5iaW5kYWJsZSwgZXhwciwgYXR0clJhd1ZhbHVlLCBhdHRyU3ludGF4LnRhcmdldCkpO1xuICAgICAgICB9XG4gICAgICAgIG1hbmlmZXN0LmN1c3RvbUF0dHJpYnV0ZXMucHVzaChzeW1ib2wpO1xuICAgICAgICBtYW5pZmVzdC5pc1RhcmdldCA9IHRydWU7XG4gICAgfVxuICAgIGJpbmRNdWx0aUF0dHJpYnV0ZShzeW1ib2wsIGF0dHJJbmZvLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBiaW5kYWJsZXMgPSBhdHRySW5mby5iaW5kYWJsZXM7XG4gICAgICAgIGNvbnN0IHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICBsZXQgYXR0ck5hbWUgPSB2b2lkIDA7XG4gICAgICAgIGxldCBhdHRyVmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIGxldCBzdGFydCA9IDA7XG4gICAgICAgIGxldCBjaCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVMZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY2ggPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaWYgKGNoID09PSA5MiAvKiBCYWNrc2xhc2ggKi8pIHtcbiAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHdoYXRldmVyIGNvbWVzIG5leHQgYmVjYXVzZSBpdCdzIGVzY2FwZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSA1OCAvKiBDb2xvbiAqLykge1xuICAgICAgICAgICAgICAgIGF0dHJOYW1lID0gdmFsdWUuc2xpY2Uoc3RhcnQsIGkpO1xuICAgICAgICAgICAgICAgIC8vIFNraXAgd2hpdGVzcGFjZSBhZnRlciBjb2xvblxuICAgICAgICAgICAgICAgIHdoaWxlICh2YWx1ZS5jaGFyQ29kZUF0KCsraSkgPD0gMzIgLyogU3BhY2UgKi8pXG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCB2YWx1ZUxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoID0gdmFsdWUuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSA5MiAvKiBCYWNrc2xhc2ggKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSB3aGF0ZXZlciBjb21lcyBuZXh0IGJlY2F1c2UgaXQncyBlc2NhcGVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IDU5IC8qIFNlbWljb2xvbiAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0clZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHNlbWljb2xvbiBmb3VuZCwgc28ganVzdCBncmFiIHRoZSByZXN0IG9mIHRoZSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBhdHRyVmFsdWUgPSB2YWx1ZS5zbGljZShzdGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJTeW50YXggPSB0aGlzLmF0dHJQYXJzZXIucGFyc2UoYXR0ck5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0clRhcmdldCA9IGNhbWVsQ2FzZShhdHRyU3ludGF4LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IHRoaXMuZ2V0QmluZGluZ0NvbW1hbmQoYXR0clN5bnRheCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpbmRpbmdUeXBlID0gY29tbWFuZCA9PT0gbnVsbCA/IDIwNDggLyogSW50ZXJwb2xhdGlvbiAqLyA6IGNvbW1hbmQuYmluZGluZ1R5cGU7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwciA9IHRoaXMuZXhwclBhcnNlci5wYXJzZShhdHRyVmFsdWUsIGJpbmRpbmdUeXBlKTtcbiAgICAgICAgICAgICAgICBsZXQgYmluZGFibGUgPSBiaW5kYWJsZXNbYXR0clRhcmdldF07XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRhYmxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBpbiBhIG11bHRpLWJpbmRpbmdzIGV4cHJlc3Npb24gbXVzdCBiZSB1c2VkLFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyBpZiBpdCdzIG5vdCBhIGJpbmRhYmxlIHRoZW4gd2UgY3JlYXRlIG9uZSBvbiB0aGUgc3BvdFxuICAgICAgICAgICAgICAgICAgICBiaW5kYWJsZSA9IGJpbmRhYmxlc1thdHRyVGFyZ2V0XSA9IG5ldyBCaW5kYWJsZUluZm8oYXR0clRhcmdldCwgQmluZGluZ01vZGUudG9WaWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3ltYm9sLmJpbmRpbmdzLnB1c2gobmV3IEJpbmRpbmdTeW1ib2woY29tbWFuZCwgYmluZGFibGUsIGV4cHIsIGF0dHJWYWx1ZSwgYXR0clRhcmdldCkpO1xuICAgICAgICAgICAgICAgIC8vIFNraXAgd2hpdGVzcGFjZSBhZnRlciBzZW1pY29sb25cbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IHZhbHVlTGVuZ3RoICYmIHZhbHVlLmNoYXJDb2RlQXQoKytpKSA8PSAzMiAvKiBTcGFjZSAqLylcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICBhdHRyTmFtZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBhdHRyVmFsdWUgPSB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYmluZFBsYWluQXR0cmlidXRlKG5vZGUsIGF0dHJTeW50YXgsIGF0dHIsIHN1cnJvZ2F0ZSwgbWFuaWZlc3QpIHtcbiAgICAgICAgY29uc3QgYXR0clRhcmdldCA9IGF0dHJTeW50YXgudGFyZ2V0O1xuICAgICAgICBjb25zdCBhdHRyUmF3VmFsdWUgPSBhdHRyU3ludGF4LnJhd1ZhbHVlO1xuICAgICAgICBjb25zdCBjb21tYW5kID0gdGhpcy5nZXRCaW5kaW5nQ29tbWFuZChhdHRyU3ludGF4LCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGJpbmRpbmdUeXBlID0gY29tbWFuZCA9PT0gbnVsbCA/IDIwNDggLyogSW50ZXJwb2xhdGlvbiAqLyA6IGNvbW1hbmQuYmluZGluZ1R5cGU7XG4gICAgICAgIGxldCBpc0ludGVycG9sYXRpb24gPSBmYWxzZTtcbiAgICAgICAgbGV0IGV4cHI7XG4gICAgICAgIGlmICgobWFuaWZlc3QuZmxhZ3MgJiAxNiAvKiBpc0N1c3RvbUVsZW1lbnQgKi8pID4gMCkge1xuICAgICAgICAgICAgY29uc3QgYmluZGFibGUgPSBtYW5pZmVzdC5iaW5kYWJsZXNbYXR0clRhcmdldF07XG4gICAgICAgICAgICBpZiAoYmluZGFibGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGl0IGxvb2tzIGxpa2UgdGhpc1xuICAgICAgICAgICAgICAgIC8vIDxteS1lbCB2YWx1ZS5iaW5kPlxuICAgICAgICAgICAgICAgIC8vIGl0IG1lYW5zXG4gICAgICAgICAgICAgICAgLy8gPG15LWVsIHZhbHVlLmJpbmQ9XCJ2YWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBzaG9ydGN1dFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWxBdHRyVmFsdWUgPSBhdHRyUmF3VmFsdWUubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICYmIChiaW5kaW5nVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgJiAoNTMgLyogQmluZENvbW1hbmQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDQ5IC8qIE9uZVRpbWVDb21tYW5kICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfCA1MCAvKiBUb1ZpZXdDb21tYW5kICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfCA1MiAvKiBUd29XYXlDb21tYW5kICovKSkgPiAwXG4gICAgICAgICAgICAgICAgICAgID8gY2FtZWxDYXNlKGF0dHJUYXJnZXQpXG4gICAgICAgICAgICAgICAgICAgIDogYXR0clJhd1ZhbHVlO1xuICAgICAgICAgICAgICAgIGV4cHIgPSB0aGlzLmV4cHJQYXJzZXIucGFyc2UocmVhbEF0dHJWYWx1ZSwgYmluZGluZ1R5cGUpO1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBhdHRyaWJ1dGUgbmFtZSBtYXRjaGVzIGEgYmluZGFibGUgcHJvcGVydHkgbmFtZSwgYWRkIGl0IHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBpdCdzIGEgY29tbWFuZCwgaW50ZXJwb2xhdGlvbiwgb3IganVzdCBhIHBsYWluIHN0cmluZztcbiAgICAgICAgICAgICAgICAvLyB0aGUgdGVtcGxhdGUgY29tcGlsZXIgd2lsbCB0cmFuc2xhdGUgaXQgdG8gdGhlIGNvcnJlY3QgaW5zdHJ1Y3Rpb25cbiAgICAgICAgICAgICAgICBtYW5pZmVzdC5iaW5kaW5ncy5wdXNoKG5ldyBCaW5kaW5nU3ltYm9sKGNvbW1hbmQsIGJpbmRhYmxlLCBleHByLCBhdHRyUmF3VmFsdWUsIGF0dHJUYXJnZXQpKTtcbiAgICAgICAgICAgICAgICBpc0ludGVycG9sYXRpb24gPSBiaW5kaW5nVHlwZSA9PT0gMjA0OCAvKiBJbnRlcnBvbGF0aW9uICovICYmIGV4cHIgIT0gbnVsbDtcbiAgICAgICAgICAgICAgICBtYW5pZmVzdC5pc1RhcmdldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzSW50ZXJwb2xhdGlvblxuICAgICAgICAgICAgICAgICAgICA/IDEgLyogcmVtb3ZlICovXG4gICAgICAgICAgICAgICAgICAgIDogMCAvKiBub25lICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHBsYWluIGF0dHJpYnV0ZSwgb24gYSBub3JtYWwsIG9yIGEgY3VzdG9tIGVsZW1lbnQgaGVyZVxuICAgICAgICAvLyByZWdhcmRsZXNzLCBjYW4gcHJvY2VzcyB0aGUgc2FtZSB3YXlcbiAgICAgICAgZXhwciA9IHRoaXMuZXhwclBhcnNlci5wYXJzZShhdHRyUmF3VmFsdWUsIGJpbmRpbmdUeXBlKTtcbiAgICAgICAgaXNJbnRlcnBvbGF0aW9uID0gYmluZGluZ1R5cGUgPT09IDIwNDggLyogSW50ZXJwb2xhdGlvbiAqLyAmJiBleHByICE9IG51bGw7XG4gICAgICAgIGlmICgoYmluZGluZ1R5cGUgJiA0MDk2IC8qIElnbm9yZUF0dHIgKi8pID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJTeW50YXhUcmFuc2Zvcm1lci50cmFuc2Zvcm0obm9kZSwgYXR0clN5bnRheCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cHIgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gZWl0aGVyIGEgYmluZGluZyBjb21tYW5kLCBhbiBpbnRlcnBvbGF0aW9uLCBvciBhIHJlZlxuICAgICAgICAgICAgbWFuaWZlc3QucGxhaW5BdHRyaWJ1dGVzLnB1c2gobmV3IFBsYWluQXR0cmlidXRlU3ltYm9sKGF0dHJTeW50YXgsIGNvbW1hbmQsIGV4cHIpKTtcbiAgICAgICAgICAgIG1hbmlmZXN0LmlzVGFyZ2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYW5pZmVzdCA9PT0gc3Vycm9nYXRlKSB7XG4gICAgICAgICAgICAvLyBhbnkgYXR0cmlidXRlcywgZXZlbiBpZiB0aGV5IGFyZSBwbGFpbiAobm8gY29tbWFuZC9pbnRlcnBvbGF0aW9uIGV0YyksIHNob3VsZCBiZSBhZGRlZCBpZiB0aGV5XG4gICAgICAgICAgICAvLyBhcmUgb24gdGhlIHN1cnJvZ2F0ZSBlbGVtZW50XG4gICAgICAgICAgICBtYW5pZmVzdC5wbGFpbkF0dHJpYnV0ZXMucHVzaChuZXcgUGxhaW5BdHRyaWJ1dGVTeW1ib2woYXR0clN5bnRheCwgY29tbWFuZCwgZXhwcikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0ludGVycG9sYXRpb25cbiAgICAgICAgICAgID8gMSAvKiByZW1vdmUgKi9cbiAgICAgICAgICAgIDogMCAvKiBub25lICovO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBhIGJpbmRpbmcgY29tbWFuZCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIHBhcnNlZCBgQXR0clN5bnRheGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIHRoZSBjb21tYW5kIGlmIGl0IGV4aXN0cywgb3IgYG51bGxgIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuICAgICAqL1xuICAgIGdldEJpbmRpbmdDb21tYW5kKHN5bnRheCwgb3B0aW9uYWwpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHN5bnRheC5jb21tYW5kO1xuICAgICAgICBpZiAobmFtZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuY29tbWFuZExvb2t1cFtuYW1lXTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNvbnRhaW5lci5jcmVhdGUoQmluZGluZ0NvbW1hbmQsIG5hbWUpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGJpbmRpbmcgY29tbWFuZDogJHtuYW1lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb21tYW5kTG9va3VwW25hbWVdID0gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtYmluZGVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/template-binder.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/template-compiler.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/template-compiler.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TemplateCompiler\": () => (/* binding */ TemplateCompiler)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _attribute_syntax_transformer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attribute-syntax-transformer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/attribute-syntax-transformer.js\");\n/* harmony import */ var _template_binder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./template-binder.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/template-binder.js\");\n/* harmony import */ var _template_element_factory_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./template-element-factory.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/template-element-factory.js\");\n/* harmony import */ var _renderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./renderer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/renderer.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _bindable_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./bindable.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/bindable.js\");\n/* harmony import */ var _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./resources/attribute-pattern.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/attribute-pattern.js\");\n/* harmony import */ var _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./resources/custom-elements/au-slot.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/au-slot.js\");\n/* harmony import */ var _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./resources/custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\n\n\n\n\n\n\nclass CustomElementCompilationUnit {\n    constructor(partialDefinition, surrogate, template) {\n        this.partialDefinition = partialDefinition;\n        this.surrogate = surrogate;\n        this.template = template;\n        this.instructions = [];\n        this.surrogates = [];\n        this.projectionsMap = new Map();\n    }\n    toDefinition() {\n        const def = this.partialDefinition;\n        return _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__.CustomElementDefinition.create({\n            ...def,\n            instructions: (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(def.instructions, this.instructions),\n            surrogates: (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(def.surrogates, this.surrogates),\n            template: this.template,\n            needsCompile: false,\n            hasSlots: this.surrogate.hasSlots,\n            projectionsMap: this.projectionsMap,\n        });\n    }\n}\nvar LocalTemplateBindableAttributes;\n(function (LocalTemplateBindableAttributes) {\n    LocalTemplateBindableAttributes[\"property\"] = \"property\";\n    LocalTemplateBindableAttributes[\"attribute\"] = \"attribute\";\n    LocalTemplateBindableAttributes[\"mode\"] = \"mode\";\n})(LocalTemplateBindableAttributes || (LocalTemplateBindableAttributes = {}));\nconst allowedLocalTemplateBindableAttributes = Object.freeze([\n    \"property\" /* property */,\n    \"attribute\" /* attribute */,\n    \"mode\" /* mode */\n]);\nconst localTemplateIdentifier = 'as-custom-element';\n/**\n * Default (runtime-agnostic) implementation for `ITemplateCompiler`.\n *\n * @internal\n */\nlet TemplateCompiler = class TemplateCompiler {\n    constructor(factory, attrParser, exprParser, attrSyntaxModifier, logger, p) {\n        this.factory = factory;\n        this.attrParser = attrParser;\n        this.exprParser = exprParser;\n        this.attrSyntaxModifier = attrSyntaxModifier;\n        this.p = p;\n        this.logger = logger.scopeTo('TemplateCompiler');\n    }\n    get name() {\n        return 'default';\n    }\n    static register(container) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(_renderer_js__WEBPACK_IMPORTED_MODULE_5__.ITemplateCompiler, this).register(container);\n    }\n    compile(partialDefinition, context, targetedProjections) {\n        const definition = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__.CustomElementDefinition.getOrCreate(partialDefinition);\n        if (definition.template === null || definition.template === void 0) {\n            return definition;\n        }\n        const { attrParser, exprParser, attrSyntaxModifier, factory } = this;\n        const p = context.get(_platform_js__WEBPACK_IMPORTED_MODULE_6__.IPlatform);\n        const binder = new _template_binder_js__WEBPACK_IMPORTED_MODULE_3__.TemplateBinder(p, context, attrParser, exprParser, attrSyntaxModifier);\n        const template = definition.enhance === true\n            ? definition.template\n            : factory.createTemplate(definition.template);\n        processLocalTemplates(template, definition, context, p, this.logger);\n        const surrogate = binder.bind(template);\n        const compilation = this.compilation = new CustomElementCompilationUnit(definition, surrogate, template);\n        const customAttributes = surrogate.customAttributes;\n        const plainAttributes = surrogate.plainAttributes;\n        const customAttributeLength = customAttributes.length;\n        const plainAttributeLength = plainAttributes.length;\n        if (customAttributeLength + plainAttributeLength > 0) {\n            let offset = 0;\n            for (let i = 0; customAttributeLength > i; ++i) {\n                compilation.surrogates[offset] = this.compileCustomAttribute(customAttributes[i]);\n                offset++;\n            }\n            for (let i = 0; i < plainAttributeLength; ++i) {\n                compilation.surrogates[offset] = this.compilePlainAttribute(plainAttributes[i], true);\n                offset++;\n            }\n        }\n        this.compileChildNodes(surrogate, compilation.instructions, compilation.projectionsMap, targetedProjections);\n        const compiledDefinition = compilation.toDefinition();\n        this.compilation = null;\n        return compiledDefinition;\n    }\n    compileChildNodes(parent, instructionRows, projections, targetedProjections) {\n        if ((parent.flags & 16384 /* hasChildNodes */) > 0) {\n            const childNodes = parent.childNodes;\n            const ii = childNodes.length;\n            let childNode;\n            for (let i = 0; i < ii; ++i) {\n                childNode = childNodes[i];\n                if ((childNode.flags & 128 /* isText */) > 0) {\n                    instructionRows.push([new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.TextBindingInstruction(childNode.interpolation)]);\n                }\n                else if ((childNode.flags & 32 /* isLetElement */) > 0) {\n                    const bindings = childNode.bindings;\n                    const instructions = [];\n                    let binding;\n                    const jj = bindings.length;\n                    for (let j = 0; j < jj; ++j) {\n                        binding = bindings[j];\n                        instructions[j] = new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.LetBindingInstruction(binding.expression, binding.target);\n                    }\n                    instructionRows.push([new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.HydrateLetElementInstruction(instructions, childNode.toBindingContext)]);\n                }\n                else {\n                    this.compileParentNode(childNode, instructionRows, projections, targetedProjections);\n                }\n            }\n        }\n    }\n    compileCustomElement(symbol, instructionRows, projections, targetedProjections) {\n        var _a;\n        const isAuSlot = (symbol.flags & 512 /* isAuSlot */) > 0;\n        // offset 1 to leave a spot for the hydrate instruction so we don't need to create 2 arrays with a spread etc\n        const instructionRow = this.compileAttributes(symbol, 1);\n        const slotName = symbol.slotName;\n        let slotInfo = null;\n        if (isAuSlot) {\n            const targetedProjection = (_a = targetedProjections === null || targetedProjections === void 0 ? void 0 : targetedProjections.projections) === null || _a === void 0 ? void 0 : _a[slotName];\n            slotInfo = targetedProjection !== void 0\n                ? new _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_9__.SlotInfo(slotName, _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_9__.AuSlotContentType.Projection, new _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_9__.ProjectionContext(targetedProjection, targetedProjections === null || targetedProjections === void 0 ? void 0 : targetedProjections.scope))\n                : new _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_9__.SlotInfo(slotName, _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_9__.AuSlotContentType.Fallback, new _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_9__.ProjectionContext(this.compileProjectionFallback(symbol, projections, targetedProjections)));\n        }\n        const instruction = instructionRow[0] = new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.HydrateElementInstruction(symbol.res, symbol.info.alias, this.compileBindings(symbol), slotInfo);\n        const compiledProjections = this.compileProjections(symbol, projections, targetedProjections);\n        if (compiledProjections !== null) {\n            projections.set(instruction, compiledProjections);\n        }\n        instructionRows.push(instructionRow);\n        if (!isAuSlot) {\n            this.compileChildNodes(symbol, instructionRows, projections, targetedProjections);\n        }\n    }\n    compilePlainElement(symbol, instructionRows, projections, targetedProjections) {\n        const attributes = this.compileAttributes(symbol, 0);\n        if (attributes.length > 0) {\n            instructionRows.push(attributes);\n        }\n        this.compileChildNodes(symbol, instructionRows, projections, targetedProjections);\n    }\n    compileParentNode(symbol, instructionRows, projections, targetedProjections) {\n        switch (symbol.flags & 1023 /* type */) {\n            case 16 /* isCustomElement */:\n            case 512 /* isAuSlot */:\n                this.compileCustomElement(symbol, instructionRows, projections, targetedProjections);\n                break;\n            case 64 /* isPlainElement */:\n                this.compilePlainElement(symbol, instructionRows, projections, targetedProjections);\n                break;\n            case 1 /* isTemplateController */:\n                this.compileTemplateController(symbol, instructionRows, projections, targetedProjections);\n        }\n    }\n    compileTemplateController(symbol, instructionRows, projections, targetedProjections) {\n        var _a;\n        const bindings = this.compileBindings(symbol);\n        const controllerInstructionRows = [];\n        this.compileParentNode(symbol.template, controllerInstructionRows, projections, targetedProjections);\n        const def = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__.CustomElementDefinition.create({\n            name: (_a = symbol.info.alias) !== null && _a !== void 0 ? _a : symbol.info.name,\n            template: symbol.physicalNode,\n            instructions: controllerInstructionRows,\n            needsCompile: false,\n        });\n        instructionRows.push([new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.HydrateTemplateController(def, symbol.res, symbol.info.alias, bindings)]);\n    }\n    compileBindings(symbol) {\n        let bindingInstructions;\n        if ((symbol.flags & 8192 /* hasBindings */) > 0) {\n            // either a custom element with bindings, a custom attribute / template controller with dynamic options,\n            // or a single value custom attribute binding\n            const { bindings } = symbol;\n            const len = bindings.length;\n            bindingInstructions = Array(len);\n            let i = 0;\n            for (; i < len; ++i) {\n                bindingInstructions[i] = this.compileBinding(bindings[i]);\n            }\n        }\n        else {\n            bindingInstructions = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n        }\n        return bindingInstructions;\n    }\n    compileBinding(symbol) {\n        if (symbol.command === null) {\n            // either an interpolation or a normal string value assigned to an element or attribute binding\n            if (symbol.expression === null) {\n                // the template binder already filtered out non-bindables, so we know we need a setProperty here\n                return new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.SetPropertyInstruction(symbol.rawValue, symbol.bindable.propName);\n            }\n            else {\n                // either an element binding interpolation or a dynamic options attribute binding interpolation\n                return new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.InterpolationInstruction(symbol.expression, symbol.bindable.propName);\n            }\n        }\n        else {\n            // either an element binding command, dynamic options attribute binding command,\n            // or custom attribute / template controller (single value) binding command\n            return symbol.command.compile(symbol);\n        }\n    }\n    compileAttributes(symbol, offset) {\n        let attributeInstructions;\n        if ((symbol.flags & 4096 /* hasAttributes */) > 0) {\n            // any attributes on a custom element (which are not bindables) or a plain element\n            const customAttributes = symbol.customAttributes;\n            const plainAttributes = symbol.plainAttributes;\n            const customAttributeLength = customAttributes.length;\n            const plainAttributesLength = plainAttributes.length;\n            attributeInstructions = Array(offset + customAttributeLength + plainAttributesLength);\n            for (let i = 0; customAttributeLength > i; ++i) {\n                attributeInstructions[offset] = this.compileCustomAttribute(customAttributes[i]);\n                offset++;\n            }\n            for (let i = 0; plainAttributesLength > i; ++i) {\n                attributeInstructions[offset] = this.compilePlainAttribute(plainAttributes[i], false);\n                offset++;\n            }\n        }\n        else if (offset > 0) {\n            attributeInstructions = Array(offset);\n        }\n        else {\n            attributeInstructions = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\n        }\n        return attributeInstructions;\n    }\n    compileCustomAttribute(symbol) {\n        // a normal custom attribute (not template controller)\n        const bindings = this.compileBindings(symbol);\n        return new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.HydrateAttributeInstruction(symbol.res, symbol.info.alias, bindings);\n    }\n    compilePlainAttribute(symbol, isOnSurrogate) {\n        if (symbol.command === null) {\n            const syntax = symbol.syntax;\n            if (symbol.expression === null) {\n                const attrRawValue = syntax.rawValue;\n                if (isOnSurrogate) {\n                    switch (syntax.target) {\n                        case 'class':\n                            return new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.SetClassAttributeInstruction(attrRawValue);\n                        case 'style':\n                            return new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.SetStyleAttributeInstruction(attrRawValue);\n                        // todo:  define how to merge other attribute peacefully\n                        //        this is an existing feature request\n                    }\n                }\n                // a plain attribute on a surrogate\n                return new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.SetAttributeInstruction(attrRawValue, syntax.target);\n            }\n            else {\n                // a plain attribute with an interpolation\n                return new _renderer_js__WEBPACK_IMPORTED_MODULE_5__.InterpolationInstruction(symbol.expression, syntax.target);\n            }\n        }\n        else {\n            // a plain attribute with a binding command\n            return symbol.command.compile(symbol);\n        }\n    }\n    // private compileAttribute(symbol: IAttributeSymbol): AttributeInstruction {\n    //   // any attribute on a custom element (which is not a bindable) or a plain element\n    //   if (symbol.flags & SymbolFlags.isCustomAttribute) {\n    //     return this.compileCustomAttribute(symbol as CustomAttributeSymbol);\n    //   } else {\n    //     return this.compilePlainAttribute(symbol as PlainAttributeSymbol);\n    //   }\n    // }\n    compileProjections(symbol, projectionMap, targetedProjections) {\n        if ((symbol.flags & 32768 /* hasProjections */) === 0) {\n            return null;\n        }\n        const p = this.p;\n        const projections = Object.create(null);\n        const $projections = symbol.projections;\n        const len = $projections.length;\n        for (let i = 0; i < len; ++i) {\n            const projection = $projections[i];\n            const name = projection.name;\n            const instructions = [];\n            this.compileParentNode(projection.template, instructions, projectionMap, targetedProjections);\n            const definition = projections[name];\n            if (definition === void 0) {\n                let template = projection.template.physicalNode;\n                if (template.tagName !== 'TEMPLATE') {\n                    const _template = p.document.createElement('template');\n                    _template.content.appendChild(template);\n                    template = _template;\n                }\n                projections[name] = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__.CustomElementDefinition.create({ name, template, instructions, needsCompile: false });\n            }\n            else {\n                // consolidate the projections to same slot\n                definition.template.content.appendChild(projection.template.physicalNode);\n                definition.instructions.push(...instructions);\n            }\n        }\n        return projections;\n    }\n    compileProjectionFallback(symbol, projections, targetedProjections) {\n        const instructions = [];\n        this.compileChildNodes(symbol, instructions, projections, targetedProjections);\n        const template = this.p.document.createElement('template');\n        template.content.append(...(0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.toArray)(symbol.physicalNode.childNodes));\n        return _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__.CustomElementDefinition.create({ name: _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__.CustomElement.generateName(), template, instructions, needsCompile: false });\n    }\n};\nTemplateCompiler = __decorate([\n    __param(0, _template_element_factory_js__WEBPACK_IMPORTED_MODULE_4__.ITemplateElementFactory),\n    __param(1, _resources_attribute_pattern_js__WEBPACK_IMPORTED_MODULE_8__.IAttributeParser),\n    __param(2, _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser),\n    __param(3, _attribute_syntax_transformer_js__WEBPACK_IMPORTED_MODULE_2__.IAttrSyntaxTransformer),\n    __param(4, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger),\n    __param(5, _platform_js__WEBPACK_IMPORTED_MODULE_6__.IPlatform)\n], TemplateCompiler);\n\nfunction processTemplateName(localTemplate, localTemplateNames) {\n    const name = localTemplate.getAttribute(localTemplateIdentifier);\n    if (name === null || name === '') {\n        throw new Error('The value of \"as-custom-element\" attribute cannot be empty for local template');\n    }\n    if (localTemplateNames.has(name)) {\n        throw new Error(`Duplicate definition of the local template named ${name}`);\n    }\n    else {\n        localTemplateNames.add(name);\n        localTemplate.removeAttribute(localTemplateIdentifier);\n    }\n    return name;\n}\nfunction getBindingMode(bindable) {\n    switch (bindable.getAttribute(\"mode\" /* mode */)) {\n        case 'oneTime':\n            return _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.oneTime;\n        case 'toView':\n            return _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.toView;\n        case 'fromView':\n            return _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.fromView;\n        case 'twoWay':\n            return _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.twoWay;\n        case 'default':\n        default:\n            return _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.BindingMode.default;\n    }\n}\nfunction processLocalTemplates(template, definition, context, p, logger) {\n    let root;\n    if (template.nodeName === 'TEMPLATE') {\n        if (template.hasAttribute(localTemplateIdentifier)) {\n            throw new Error('The root cannot be a local template itself.');\n        }\n        root = template.content;\n    }\n    else {\n        root = template;\n    }\n    const localTemplates = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.toArray)(root.querySelectorAll('template[as-custom-element]'));\n    const numLocalTemplates = localTemplates.length;\n    if (numLocalTemplates === 0) {\n        return;\n    }\n    if (numLocalTemplates === root.childElementCount) {\n        throw new Error('The custom element does not have any content other than local template(s).');\n    }\n    const localTemplateNames = new Set();\n    for (const localTemplate of localTemplates) {\n        if (localTemplate.parentNode !== root) {\n            throw new Error('Local templates needs to be defined directly under root.');\n        }\n        const name = processTemplateName(localTemplate, localTemplateNames);\n        const localTemplateType = class LocalTemplate {\n        };\n        const content = localTemplate.content;\n        const bindableEls = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.toArray)(content.querySelectorAll('bindable'));\n        const bindableInstructions = _bindable_js__WEBPACK_IMPORTED_MODULE_7__.Bindable.for(localTemplateType);\n        const properties = new Set();\n        const attributes = new Set();\n        for (const bindableEl of bindableEls) {\n            if (bindableEl.parentNode !== content) {\n                throw new Error('Bindable properties of local templates needs to be defined directly under root.');\n            }\n            const property = bindableEl.getAttribute(\"property\" /* property */);\n            if (property === null) {\n                throw new Error(`The attribute 'property' is missing in ${bindableEl.outerHTML}`);\n            }\n            const attribute = bindableEl.getAttribute(\"attribute\" /* attribute */);\n            if (attribute !== null\n                && attributes.has(attribute)\n                || properties.has(property)) {\n                throw new Error(`Bindable property and attribute needs to be unique; found property: ${property}, attribute: ${attribute}`);\n            }\n            else {\n                if (attribute !== null) {\n                    attributes.add(attribute);\n                }\n                properties.add(property);\n            }\n            bindableInstructions.add({\n                property,\n                attribute: attribute !== null && attribute !== void 0 ? attribute : void 0,\n                mode: getBindingMode(bindableEl),\n            });\n            const ignoredAttributes = bindableEl.getAttributeNames().filter((attrName) => !allowedLocalTemplateBindableAttributes.includes(attrName));\n            if (ignoredAttributes.length > 0) {\n                logger.warn(`The attribute(s) ${ignoredAttributes.join(', ')} will be ignored for ${bindableEl.outerHTML}. Only ${allowedLocalTemplateBindableAttributes.join(', ')} are processed.`);\n            }\n            content.removeChild(bindableEl);\n        }\n        const localTemplateDefinition = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_10__.CustomElement.define({ name, template: localTemplate }, localTemplateType);\n        // the casting is needed here as the dependencies are typed as readonly array\n        definition.dependencies.push(localTemplateDefinition);\n        context.register(localTemplateDefinition);\n        root.removeChild(localTemplate);\n    }\n}\n//# sourceMappingURL=template-compiler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRlLWNvbXBpbGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS90ZW1wbGF0ZS1jb21waWxlci5qcz8xNzQ0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xuaW1wb3J0IHsgZW1wdHlBcnJheSwgUmVnaXN0cmF0aW9uLCBtZXJnZUFycmF5cywgdG9BcnJheSwgSUxvZ2dlciwgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgSUV4cHJlc3Npb25QYXJzZXIsIEJpbmRpbmdNb2RlLCB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuaW1wb3J0IHsgSUF0dHJTeW50YXhUcmFuc2Zvcm1lciB9IGZyb20gJy4vYXR0cmlidXRlLXN5bnRheC10cmFuc2Zvcm1lci5qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUJpbmRlciB9IGZyb20gJy4vdGVtcGxhdGUtYmluZGVyLmpzJztcbmltcG9ydCB7IElUZW1wbGF0ZUVsZW1lbnRGYWN0b3J5IH0gZnJvbSAnLi90ZW1wbGF0ZS1lbGVtZW50LWZhY3RvcnkuanMnO1xuaW1wb3J0IHsgSHlkcmF0ZUF0dHJpYnV0ZUluc3RydWN0aW9uLCBIeWRyYXRlRWxlbWVudEluc3RydWN0aW9uLCBIeWRyYXRlTGV0RWxlbWVudEluc3RydWN0aW9uLCBIeWRyYXRlVGVtcGxhdGVDb250cm9sbGVyLCBJbnRlcnBvbGF0aW9uSW5zdHJ1Y3Rpb24sIExldEJpbmRpbmdJbnN0cnVjdGlvbiwgU2V0QXR0cmlidXRlSW5zdHJ1Y3Rpb24sIFNldENsYXNzQXR0cmlidXRlSW5zdHJ1Y3Rpb24sIFNldFByb3BlcnR5SW5zdHJ1Y3Rpb24sIFNldFN0eWxlQXR0cmlidXRlSW5zdHJ1Y3Rpb24sIFRleHRCaW5kaW5nSW5zdHJ1Y3Rpb24sIElUZW1wbGF0ZUNvbXBpbGVyLCB9IGZyb20gJy4vcmVuZGVyZXIuanMnO1xuaW1wb3J0IHsgSVBsYXRmb3JtIH0gZnJvbSAnLi9wbGF0Zm9ybS5qcyc7XG5pbXBvcnQgeyBCaW5kYWJsZSB9IGZyb20gJy4vYmluZGFibGUuanMnO1xuaW1wb3J0IHsgSUF0dHJpYnV0ZVBhcnNlciB9IGZyb20gJy4vcmVzb3VyY2VzL2F0dHJpYnV0ZS1wYXR0ZXJuLmpzJztcbmltcG9ydCB7IEF1U2xvdENvbnRlbnRUeXBlLCBQcm9qZWN0aW9uQ29udGV4dCwgU2xvdEluZm8gfSBmcm9tICcuL3Jlc291cmNlcy9jdXN0b20tZWxlbWVudHMvYXUtc2xvdC5qcyc7XG5pbXBvcnQgeyBDdXN0b21FbGVtZW50LCBDdXN0b21FbGVtZW50RGVmaW5pdGlvbiB9IGZyb20gJy4vcmVzb3VyY2VzL2N1c3RvbS1lbGVtZW50LmpzJztcbmNsYXNzIEN1c3RvbUVsZW1lbnRDb21waWxhdGlvblVuaXQge1xuICAgIGNvbnN0cnVjdG9yKHBhcnRpYWxEZWZpbml0aW9uLCBzdXJyb2dhdGUsIHRlbXBsYXRlKSB7XG4gICAgICAgIHRoaXMucGFydGlhbERlZmluaXRpb24gPSBwYXJ0aWFsRGVmaW5pdGlvbjtcbiAgICAgICAgdGhpcy5zdXJyb2dhdGUgPSBzdXJyb2dhdGU7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5zdXJyb2dhdGVzID0gW107XG4gICAgICAgIHRoaXMucHJvamVjdGlvbnNNYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHRvRGVmaW5pdGlvbigpIHtcbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5wYXJ0aWFsRGVmaW5pdGlvbjtcbiAgICAgICAgcmV0dXJuIEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICAuLi5kZWYsXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6IG1lcmdlQXJyYXlzKGRlZi5pbnN0cnVjdGlvbnMsIHRoaXMuaW5zdHJ1Y3Rpb25zKSxcbiAgICAgICAgICAgIHN1cnJvZ2F0ZXM6IG1lcmdlQXJyYXlzKGRlZi5zdXJyb2dhdGVzLCB0aGlzLnN1cnJvZ2F0ZXMpLFxuICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMudGVtcGxhdGUsXG4gICAgICAgICAgICBuZWVkc0NvbXBpbGU6IGZhbHNlLFxuICAgICAgICAgICAgaGFzU2xvdHM6IHRoaXMuc3Vycm9nYXRlLmhhc1Nsb3RzLFxuICAgICAgICAgICAgcHJvamVjdGlvbnNNYXA6IHRoaXMucHJvamVjdGlvbnNNYXAsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbnZhciBMb2NhbFRlbXBsYXRlQmluZGFibGVBdHRyaWJ1dGVzO1xuKGZ1bmN0aW9uIChMb2NhbFRlbXBsYXRlQmluZGFibGVBdHRyaWJ1dGVzKSB7XG4gICAgTG9jYWxUZW1wbGF0ZUJpbmRhYmxlQXR0cmlidXRlc1tcInByb3BlcnR5XCJdID0gXCJwcm9wZXJ0eVwiO1xuICAgIExvY2FsVGVtcGxhdGVCaW5kYWJsZUF0dHJpYnV0ZXNbXCJhdHRyaWJ1dGVcIl0gPSBcImF0dHJpYnV0ZVwiO1xuICAgIExvY2FsVGVtcGxhdGVCaW5kYWJsZUF0dHJpYnV0ZXNbXCJtb2RlXCJdID0gXCJtb2RlXCI7XG59KShMb2NhbFRlbXBsYXRlQmluZGFibGVBdHRyaWJ1dGVzIHx8IChMb2NhbFRlbXBsYXRlQmluZGFibGVBdHRyaWJ1dGVzID0ge30pKTtcbmNvbnN0IGFsbG93ZWRMb2NhbFRlbXBsYXRlQmluZGFibGVBdHRyaWJ1dGVzID0gT2JqZWN0LmZyZWV6ZShbXG4gICAgXCJwcm9wZXJ0eVwiIC8qIHByb3BlcnR5ICovLFxuICAgIFwiYXR0cmlidXRlXCIgLyogYXR0cmlidXRlICovLFxuICAgIFwibW9kZVwiIC8qIG1vZGUgKi9cbl0pO1xuY29uc3QgbG9jYWxUZW1wbGF0ZUlkZW50aWZpZXIgPSAnYXMtY3VzdG9tLWVsZW1lbnQnO1xuLyoqXG4gKiBEZWZhdWx0IChydW50aW1lLWFnbm9zdGljKSBpbXBsZW1lbnRhdGlvbiBmb3IgYElUZW1wbGF0ZUNvbXBpbGVyYC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xubGV0IFRlbXBsYXRlQ29tcGlsZXIgPSBjbGFzcyBUZW1wbGF0ZUNvbXBpbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihmYWN0b3J5LCBhdHRyUGFyc2VyLCBleHByUGFyc2VyLCBhdHRyU3ludGF4TW9kaWZpZXIsIGxvZ2dlciwgcCkge1xuICAgICAgICB0aGlzLmZhY3RvcnkgPSBmYWN0b3J5O1xuICAgICAgICB0aGlzLmF0dHJQYXJzZXIgPSBhdHRyUGFyc2VyO1xuICAgICAgICB0aGlzLmV4cHJQYXJzZXIgPSBleHByUGFyc2VyO1xuICAgICAgICB0aGlzLmF0dHJTeW50YXhNb2RpZmllciA9IGF0dHJTeW50YXhNb2RpZmllcjtcbiAgICAgICAgdGhpcy5wID0gcDtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXIuc2NvcGVUbygnVGVtcGxhdGVDb21waWxlcicpO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdkZWZhdWx0JztcbiAgICB9XG4gICAgc3RhdGljIHJlZ2lzdGVyKGNvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gUmVnaXN0cmF0aW9uLnNpbmdsZXRvbihJVGVtcGxhdGVDb21waWxlciwgdGhpcykucmVnaXN0ZXIoY29udGFpbmVyKTtcbiAgICB9XG4gICAgY29tcGlsZShwYXJ0aWFsRGVmaW5pdGlvbiwgY29udGV4dCwgdGFyZ2V0ZWRQcm9qZWN0aW9ucykge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gQ3VzdG9tRWxlbWVudERlZmluaXRpb24uZ2V0T3JDcmVhdGUocGFydGlhbERlZmluaXRpb24pO1xuICAgICAgICBpZiAoZGVmaW5pdGlvbi50ZW1wbGF0ZSA9PT0gbnVsbCB8fCBkZWZpbml0aW9uLnRlbXBsYXRlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZpbml0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgYXR0clBhcnNlciwgZXhwclBhcnNlciwgYXR0clN5bnRheE1vZGlmaWVyLCBmYWN0b3J5IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBwID0gY29udGV4dC5nZXQoSVBsYXRmb3JtKTtcbiAgICAgICAgY29uc3QgYmluZGVyID0gbmV3IFRlbXBsYXRlQmluZGVyKHAsIGNvbnRleHQsIGF0dHJQYXJzZXIsIGV4cHJQYXJzZXIsIGF0dHJTeW50YXhNb2RpZmllcik7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gZGVmaW5pdGlvbi5lbmhhbmNlID09PSB0cnVlXG4gICAgICAgICAgICA/IGRlZmluaXRpb24udGVtcGxhdGVcbiAgICAgICAgICAgIDogZmFjdG9yeS5jcmVhdGVUZW1wbGF0ZShkZWZpbml0aW9uLnRlbXBsYXRlKTtcbiAgICAgICAgcHJvY2Vzc0xvY2FsVGVtcGxhdGVzKHRlbXBsYXRlLCBkZWZpbml0aW9uLCBjb250ZXh0LCBwLCB0aGlzLmxvZ2dlcik7XG4gICAgICAgIGNvbnN0IHN1cnJvZ2F0ZSA9IGJpbmRlci5iaW5kKHRlbXBsYXRlKTtcbiAgICAgICAgY29uc3QgY29tcGlsYXRpb24gPSB0aGlzLmNvbXBpbGF0aW9uID0gbmV3IEN1c3RvbUVsZW1lbnRDb21waWxhdGlvblVuaXQoZGVmaW5pdGlvbiwgc3Vycm9nYXRlLCB0ZW1wbGF0ZSk7XG4gICAgICAgIGNvbnN0IGN1c3RvbUF0dHJpYnV0ZXMgPSBzdXJyb2dhdGUuY3VzdG9tQXR0cmlidXRlcztcbiAgICAgICAgY29uc3QgcGxhaW5BdHRyaWJ1dGVzID0gc3Vycm9nYXRlLnBsYWluQXR0cmlidXRlcztcbiAgICAgICAgY29uc3QgY3VzdG9tQXR0cmlidXRlTGVuZ3RoID0gY3VzdG9tQXR0cmlidXRlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHBsYWluQXR0cmlidXRlTGVuZ3RoID0gcGxhaW5BdHRyaWJ1dGVzLmxlbmd0aDtcbiAgICAgICAgaWYgKGN1c3RvbUF0dHJpYnV0ZUxlbmd0aCArIHBsYWluQXR0cmlidXRlTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgY3VzdG9tQXR0cmlidXRlTGVuZ3RoID4gaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29tcGlsYXRpb24uc3Vycm9nYXRlc1tvZmZzZXRdID0gdGhpcy5jb21waWxlQ3VzdG9tQXR0cmlidXRlKGN1c3RvbUF0dHJpYnV0ZXNbaV0pO1xuICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGFpbkF0dHJpYnV0ZUxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29tcGlsYXRpb24uc3Vycm9nYXRlc1tvZmZzZXRdID0gdGhpcy5jb21waWxlUGxhaW5BdHRyaWJ1dGUocGxhaW5BdHRyaWJ1dGVzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbXBpbGVDaGlsZE5vZGVzKHN1cnJvZ2F0ZSwgY29tcGlsYXRpb24uaW5zdHJ1Y3Rpb25zLCBjb21waWxhdGlvbi5wcm9qZWN0aW9uc01hcCwgdGFyZ2V0ZWRQcm9qZWN0aW9ucyk7XG4gICAgICAgIGNvbnN0IGNvbXBpbGVkRGVmaW5pdGlvbiA9IGNvbXBpbGF0aW9uLnRvRGVmaW5pdGlvbigpO1xuICAgICAgICB0aGlzLmNvbXBpbGF0aW9uID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVkRGVmaW5pdGlvbjtcbiAgICB9XG4gICAgY29tcGlsZUNoaWxkTm9kZXMocGFyZW50LCBpbnN0cnVjdGlvblJvd3MsIHByb2plY3Rpb25zLCB0YXJnZXRlZFByb2plY3Rpb25zKSB7XG4gICAgICAgIGlmICgocGFyZW50LmZsYWdzICYgMTYzODQgLyogaGFzQ2hpbGROb2RlcyAqLykgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gcGFyZW50LmNoaWxkTm9kZXM7XG4gICAgICAgICAgICBjb25zdCBpaSA9IGNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IGNoaWxkTm9kZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKChjaGlsZE5vZGUuZmxhZ3MgJiAxMjggLyogaXNUZXh0ICovKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25Sb3dzLnB1c2goW25ldyBUZXh0QmluZGluZ0luc3RydWN0aW9uKGNoaWxkTm9kZS5pbnRlcnBvbGF0aW9uKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoY2hpbGROb2RlLmZsYWdzICYgMzIgLyogaXNMZXRFbGVtZW50ICovKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluZGluZ3MgPSBjaGlsZE5vZGUuYmluZGluZ3M7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYmluZGluZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgamogPSBiaW5kaW5ncy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmluZGluZyA9IGJpbmRpbmdzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zW2pdID0gbmV3IExldEJpbmRpbmdJbnN0cnVjdGlvbihiaW5kaW5nLmV4cHJlc3Npb24sIGJpbmRpbmcudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvblJvd3MucHVzaChbbmV3IEh5ZHJhdGVMZXRFbGVtZW50SW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb25zLCBjaGlsZE5vZGUudG9CaW5kaW5nQ29udGV4dCldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGlsZVBhcmVudE5vZGUoY2hpbGROb2RlLCBpbnN0cnVjdGlvblJvd3MsIHByb2plY3Rpb25zLCB0YXJnZXRlZFByb2plY3Rpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcGlsZUN1c3RvbUVsZW1lbnQoc3ltYm9sLCBpbnN0cnVjdGlvblJvd3MsIHByb2plY3Rpb25zLCB0YXJnZXRlZFByb2plY3Rpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgaXNBdVNsb3QgPSAoc3ltYm9sLmZsYWdzICYgNTEyIC8qIGlzQXVTbG90ICovKSA+IDA7XG4gICAgICAgIC8vIG9mZnNldCAxIHRvIGxlYXZlIGEgc3BvdCBmb3IgdGhlIGh5ZHJhdGUgaW5zdHJ1Y3Rpb24gc28gd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgMiBhcnJheXMgd2l0aCBhIHNwcmVhZCBldGNcbiAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25Sb3cgPSB0aGlzLmNvbXBpbGVBdHRyaWJ1dGVzKHN5bWJvbCwgMSk7XG4gICAgICAgIGNvbnN0IHNsb3ROYW1lID0gc3ltYm9sLnNsb3ROYW1lO1xuICAgICAgICBsZXQgc2xvdEluZm8gPSBudWxsO1xuICAgICAgICBpZiAoaXNBdVNsb3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldGVkUHJvamVjdGlvbiA9IChfYSA9IHRhcmdldGVkUHJvamVjdGlvbnMgPT09IG51bGwgfHwgdGFyZ2V0ZWRQcm9qZWN0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0ZWRQcm9qZWN0aW9ucy5wcm9qZWN0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3Nsb3ROYW1lXTtcbiAgICAgICAgICAgIHNsb3RJbmZvID0gdGFyZ2V0ZWRQcm9qZWN0aW9uICE9PSB2b2lkIDBcbiAgICAgICAgICAgICAgICA/IG5ldyBTbG90SW5mbyhzbG90TmFtZSwgQXVTbG90Q29udGVudFR5cGUuUHJvamVjdGlvbiwgbmV3IFByb2plY3Rpb25Db250ZXh0KHRhcmdldGVkUHJvamVjdGlvbiwgdGFyZ2V0ZWRQcm9qZWN0aW9ucyA9PT0gbnVsbCB8fCB0YXJnZXRlZFByb2plY3Rpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YXJnZXRlZFByb2plY3Rpb25zLnNjb3BlKSlcbiAgICAgICAgICAgICAgICA6IG5ldyBTbG90SW5mbyhzbG90TmFtZSwgQXVTbG90Q29udGVudFR5cGUuRmFsbGJhY2ssIG5ldyBQcm9qZWN0aW9uQ29udGV4dCh0aGlzLmNvbXBpbGVQcm9qZWN0aW9uRmFsbGJhY2soc3ltYm9sLCBwcm9qZWN0aW9ucywgdGFyZ2V0ZWRQcm9qZWN0aW9ucykpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uUm93WzBdID0gbmV3IEh5ZHJhdGVFbGVtZW50SW5zdHJ1Y3Rpb24oc3ltYm9sLnJlcywgc3ltYm9sLmluZm8uYWxpYXMsIHRoaXMuY29tcGlsZUJpbmRpbmdzKHN5bWJvbCksIHNsb3RJbmZvKTtcbiAgICAgICAgY29uc3QgY29tcGlsZWRQcm9qZWN0aW9ucyA9IHRoaXMuY29tcGlsZVByb2plY3Rpb25zKHN5bWJvbCwgcHJvamVjdGlvbnMsIHRhcmdldGVkUHJvamVjdGlvbnMpO1xuICAgICAgICBpZiAoY29tcGlsZWRQcm9qZWN0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcHJvamVjdGlvbnMuc2V0KGluc3RydWN0aW9uLCBjb21waWxlZFByb2plY3Rpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0cnVjdGlvblJvd3MucHVzaChpbnN0cnVjdGlvblJvdyk7XG4gICAgICAgIGlmICghaXNBdVNsb3QpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGlsZUNoaWxkTm9kZXMoc3ltYm9sLCBpbnN0cnVjdGlvblJvd3MsIHByb2plY3Rpb25zLCB0YXJnZXRlZFByb2plY3Rpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21waWxlUGxhaW5FbGVtZW50KHN5bWJvbCwgaW5zdHJ1Y3Rpb25Sb3dzLCBwcm9qZWN0aW9ucywgdGFyZ2V0ZWRQcm9qZWN0aW9ucykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gdGhpcy5jb21waWxlQXR0cmlidXRlcyhzeW1ib2wsIDApO1xuICAgICAgICBpZiAoYXR0cmlidXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvblJvd3MucHVzaChhdHRyaWJ1dGVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbXBpbGVDaGlsZE5vZGVzKHN5bWJvbCwgaW5zdHJ1Y3Rpb25Sb3dzLCBwcm9qZWN0aW9ucywgdGFyZ2V0ZWRQcm9qZWN0aW9ucyk7XG4gICAgfVxuICAgIGNvbXBpbGVQYXJlbnROb2RlKHN5bWJvbCwgaW5zdHJ1Y3Rpb25Sb3dzLCBwcm9qZWN0aW9ucywgdGFyZ2V0ZWRQcm9qZWN0aW9ucykge1xuICAgICAgICBzd2l0Y2ggKHN5bWJvbC5mbGFncyAmIDEwMjMgLyogdHlwZSAqLykge1xuICAgICAgICAgICAgY2FzZSAxNiAvKiBpc0N1c3RvbUVsZW1lbnQgKi86XG4gICAgICAgICAgICBjYXNlIDUxMiAvKiBpc0F1U2xvdCAqLzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBpbGVDdXN0b21FbGVtZW50KHN5bWJvbCwgaW5zdHJ1Y3Rpb25Sb3dzLCBwcm9qZWN0aW9ucywgdGFyZ2V0ZWRQcm9qZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY0IC8qIGlzUGxhaW5FbGVtZW50ICovOlxuICAgICAgICAgICAgICAgIHRoaXMuY29tcGlsZVBsYWluRWxlbWVudChzeW1ib2wsIGluc3RydWN0aW9uUm93cywgcHJvamVjdGlvbnMsIHRhcmdldGVkUHJvamVjdGlvbnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxIC8qIGlzVGVtcGxhdGVDb250cm9sbGVyICovOlxuICAgICAgICAgICAgICAgIHRoaXMuY29tcGlsZVRlbXBsYXRlQ29udHJvbGxlcihzeW1ib2wsIGluc3RydWN0aW9uUm93cywgcHJvamVjdGlvbnMsIHRhcmdldGVkUHJvamVjdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBpbGVUZW1wbGF0ZUNvbnRyb2xsZXIoc3ltYm9sLCBpbnN0cnVjdGlvblJvd3MsIHByb2plY3Rpb25zLCB0YXJnZXRlZFByb2plY3Rpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgYmluZGluZ3MgPSB0aGlzLmNvbXBpbGVCaW5kaW5ncyhzeW1ib2wpO1xuICAgICAgICBjb25zdCBjb250cm9sbGVySW5zdHJ1Y3Rpb25Sb3dzID0gW107XG4gICAgICAgIHRoaXMuY29tcGlsZVBhcmVudE5vZGUoc3ltYm9sLnRlbXBsYXRlLCBjb250cm9sbGVySW5zdHJ1Y3Rpb25Sb3dzLCBwcm9qZWN0aW9ucywgdGFyZ2V0ZWRQcm9qZWN0aW9ucyk7XG4gICAgICAgIGNvbnN0IGRlZiA9IEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICBuYW1lOiAoX2EgPSBzeW1ib2wuaW5mby5hbGlhcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc3ltYm9sLmluZm8ubmFtZSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBzeW1ib2wucGh5c2ljYWxOb2RlLFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiBjb250cm9sbGVySW5zdHJ1Y3Rpb25Sb3dzLFxuICAgICAgICAgICAgbmVlZHNDb21waWxlOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGluc3RydWN0aW9uUm93cy5wdXNoKFtuZXcgSHlkcmF0ZVRlbXBsYXRlQ29udHJvbGxlcihkZWYsIHN5bWJvbC5yZXMsIHN5bWJvbC5pbmZvLmFsaWFzLCBiaW5kaW5ncyldKTtcbiAgICB9XG4gICAgY29tcGlsZUJpbmRpbmdzKHN5bWJvbCkge1xuICAgICAgICBsZXQgYmluZGluZ0luc3RydWN0aW9ucztcbiAgICAgICAgaWYgKChzeW1ib2wuZmxhZ3MgJiA4MTkyIC8qIGhhc0JpbmRpbmdzICovKSA+IDApIHtcbiAgICAgICAgICAgIC8vIGVpdGhlciBhIGN1c3RvbSBlbGVtZW50IHdpdGggYmluZGluZ3MsIGEgY3VzdG9tIGF0dHJpYnV0ZSAvIHRlbXBsYXRlIGNvbnRyb2xsZXIgd2l0aCBkeW5hbWljIG9wdGlvbnMsXG4gICAgICAgICAgICAvLyBvciBhIHNpbmdsZSB2YWx1ZSBjdXN0b20gYXR0cmlidXRlIGJpbmRpbmdcbiAgICAgICAgICAgIGNvbnN0IHsgYmluZGluZ3MgfSA9IHN5bWJvbDtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IGJpbmRpbmdzLmxlbmd0aDtcbiAgICAgICAgICAgIGJpbmRpbmdJbnN0cnVjdGlvbnMgPSBBcnJheShsZW4pO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgIGJpbmRpbmdJbnN0cnVjdGlvbnNbaV0gPSB0aGlzLmNvbXBpbGVCaW5kaW5nKGJpbmRpbmdzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJpbmRpbmdJbnN0cnVjdGlvbnMgPSBlbXB0eUFycmF5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiaW5kaW5nSW5zdHJ1Y3Rpb25zO1xuICAgIH1cbiAgICBjb21waWxlQmluZGluZyhzeW1ib2wpIHtcbiAgICAgICAgaWYgKHN5bWJvbC5jb21tYW5kID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBlaXRoZXIgYW4gaW50ZXJwb2xhdGlvbiBvciBhIG5vcm1hbCBzdHJpbmcgdmFsdWUgYXNzaWduZWQgdG8gYW4gZWxlbWVudCBvciBhdHRyaWJ1dGUgYmluZGluZ1xuICAgICAgICAgICAgaWYgKHN5bWJvbC5leHByZXNzaW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIHRlbXBsYXRlIGJpbmRlciBhbHJlYWR5IGZpbHRlcmVkIG91dCBub24tYmluZGFibGVzLCBzbyB3ZSBrbm93IHdlIG5lZWQgYSBzZXRQcm9wZXJ0eSBoZXJlXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXRQcm9wZXJ0eUluc3RydWN0aW9uKHN5bWJvbC5yYXdWYWx1ZSwgc3ltYm9sLmJpbmRhYmxlLnByb3BOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVpdGhlciBhbiBlbGVtZW50IGJpbmRpbmcgaW50ZXJwb2xhdGlvbiBvciBhIGR5bmFtaWMgb3B0aW9ucyBhdHRyaWJ1dGUgYmluZGluZyBpbnRlcnBvbGF0aW9uXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnBvbGF0aW9uSW5zdHJ1Y3Rpb24oc3ltYm9sLmV4cHJlc3Npb24sIHN5bWJvbC5iaW5kYWJsZS5wcm9wTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlaXRoZXIgYW4gZWxlbWVudCBiaW5kaW5nIGNvbW1hbmQsIGR5bmFtaWMgb3B0aW9ucyBhdHRyaWJ1dGUgYmluZGluZyBjb21tYW5kLFxuICAgICAgICAgICAgLy8gb3IgY3VzdG9tIGF0dHJpYnV0ZSAvIHRlbXBsYXRlIGNvbnRyb2xsZXIgKHNpbmdsZSB2YWx1ZSkgYmluZGluZyBjb21tYW5kXG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sLmNvbW1hbmQuY29tcGlsZShzeW1ib2wpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBpbGVBdHRyaWJ1dGVzKHN5bWJvbCwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCBhdHRyaWJ1dGVJbnN0cnVjdGlvbnM7XG4gICAgICAgIGlmICgoc3ltYm9sLmZsYWdzICYgNDA5NiAvKiBoYXNBdHRyaWJ1dGVzICovKSA+IDApIHtcbiAgICAgICAgICAgIC8vIGFueSBhdHRyaWJ1dGVzIG9uIGEgY3VzdG9tIGVsZW1lbnQgKHdoaWNoIGFyZSBub3QgYmluZGFibGVzKSBvciBhIHBsYWluIGVsZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbUF0dHJpYnV0ZXMgPSBzeW1ib2wuY3VzdG9tQXR0cmlidXRlcztcbiAgICAgICAgICAgIGNvbnN0IHBsYWluQXR0cmlidXRlcyA9IHN5bWJvbC5wbGFpbkF0dHJpYnV0ZXM7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21BdHRyaWJ1dGVMZW5ndGggPSBjdXN0b21BdHRyaWJ1dGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHBsYWluQXR0cmlidXRlc0xlbmd0aCA9IHBsYWluQXR0cmlidXRlcy5sZW5ndGg7XG4gICAgICAgICAgICBhdHRyaWJ1dGVJbnN0cnVjdGlvbnMgPSBBcnJheShvZmZzZXQgKyBjdXN0b21BdHRyaWJ1dGVMZW5ndGggKyBwbGFpbkF0dHJpYnV0ZXNMZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGN1c3RvbUF0dHJpYnV0ZUxlbmd0aCA+IGk7ICsraSkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZUluc3RydWN0aW9uc1tvZmZzZXRdID0gdGhpcy5jb21waWxlQ3VzdG9tQXR0cmlidXRlKGN1c3RvbUF0dHJpYnV0ZXNbaV0pO1xuICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IHBsYWluQXR0cmlidXRlc0xlbmd0aCA+IGk7ICsraSkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZUluc3RydWN0aW9uc1tvZmZzZXRdID0gdGhpcy5jb21waWxlUGxhaW5BdHRyaWJ1dGUocGxhaW5BdHRyaWJ1dGVzW2ldLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2Zmc2V0ID4gMCkge1xuICAgICAgICAgICAgYXR0cmlidXRlSW5zdHJ1Y3Rpb25zID0gQXJyYXkob2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZUluc3RydWN0aW9ucyA9IGVtcHR5QXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZUluc3RydWN0aW9ucztcbiAgICB9XG4gICAgY29tcGlsZUN1c3RvbUF0dHJpYnV0ZShzeW1ib2wpIHtcbiAgICAgICAgLy8gYSBub3JtYWwgY3VzdG9tIGF0dHJpYnV0ZSAobm90IHRlbXBsYXRlIGNvbnRyb2xsZXIpXG4gICAgICAgIGNvbnN0IGJpbmRpbmdzID0gdGhpcy5jb21waWxlQmluZGluZ3Moc3ltYm9sKTtcbiAgICAgICAgcmV0dXJuIG5ldyBIeWRyYXRlQXR0cmlidXRlSW5zdHJ1Y3Rpb24oc3ltYm9sLnJlcywgc3ltYm9sLmluZm8uYWxpYXMsIGJpbmRpbmdzKTtcbiAgICB9XG4gICAgY29tcGlsZVBsYWluQXR0cmlidXRlKHN5bWJvbCwgaXNPblN1cnJvZ2F0ZSkge1xuICAgICAgICBpZiAoc3ltYm9sLmNvbW1hbmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHN5bnRheCA9IHN5bWJvbC5zeW50YXg7XG4gICAgICAgICAgICBpZiAoc3ltYm9sLmV4cHJlc3Npb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyUmF3VmFsdWUgPSBzeW50YXgucmF3VmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGlzT25TdXJyb2dhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzeW50YXgudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXRDbGFzc0F0dHJpYnV0ZUluc3RydWN0aW9uKGF0dHJSYXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHlsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXRTdHlsZUF0dHJpYnV0ZUluc3RydWN0aW9uKGF0dHJSYXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2RvOiAgZGVmaW5lIGhvdyB0byBtZXJnZSBvdGhlciBhdHRyaWJ1dGUgcGVhY2VmdWxseVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIHRoaXMgaXMgYW4gZXhpc3RpbmcgZmVhdHVyZSByZXF1ZXN0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYSBwbGFpbiBhdHRyaWJ1dGUgb24gYSBzdXJyb2dhdGVcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNldEF0dHJpYnV0ZUluc3RydWN0aW9uKGF0dHJSYXdWYWx1ZSwgc3ludGF4LnRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhIHBsYWluIGF0dHJpYnV0ZSB3aXRoIGFuIGludGVycG9sYXRpb25cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludGVycG9sYXRpb25JbnN0cnVjdGlvbihzeW1ib2wuZXhwcmVzc2lvbiwgc3ludGF4LnRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBhIHBsYWluIGF0dHJpYnV0ZSB3aXRoIGEgYmluZGluZyBjb21tYW5kXG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sLmNvbW1hbmQuY29tcGlsZShzeW1ib2wpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHByaXZhdGUgY29tcGlsZUF0dHJpYnV0ZShzeW1ib2w6IElBdHRyaWJ1dGVTeW1ib2wpOiBBdHRyaWJ1dGVJbnN0cnVjdGlvbiB7XG4gICAgLy8gICAvLyBhbnkgYXR0cmlidXRlIG9uIGEgY3VzdG9tIGVsZW1lbnQgKHdoaWNoIGlzIG5vdCBhIGJpbmRhYmxlKSBvciBhIHBsYWluIGVsZW1lbnRcbiAgICAvLyAgIGlmIChzeW1ib2wuZmxhZ3MgJiBTeW1ib2xGbGFncy5pc0N1c3RvbUF0dHJpYnV0ZSkge1xuICAgIC8vICAgICByZXR1cm4gdGhpcy5jb21waWxlQ3VzdG9tQXR0cmlidXRlKHN5bWJvbCBhcyBDdXN0b21BdHRyaWJ1dGVTeW1ib2wpO1xuICAgIC8vICAgfSBlbHNlIHtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuY29tcGlsZVBsYWluQXR0cmlidXRlKHN5bWJvbCBhcyBQbGFpbkF0dHJpYnV0ZVN5bWJvbCk7XG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgIGNvbXBpbGVQcm9qZWN0aW9ucyhzeW1ib2wsIHByb2plY3Rpb25NYXAsIHRhcmdldGVkUHJvamVjdGlvbnMpIHtcbiAgICAgICAgaWYgKChzeW1ib2wuZmxhZ3MgJiAzMjc2OCAvKiBoYXNQcm9qZWN0aW9ucyAqLykgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLnA7XG4gICAgICAgIGNvbnN0IHByb2plY3Rpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgY29uc3QgJHByb2plY3Rpb25zID0gc3ltYm9sLnByb2plY3Rpb25zO1xuICAgICAgICBjb25zdCBsZW4gPSAkcHJvamVjdGlvbnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gJHByb2plY3Rpb25zW2ldO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHByb2plY3Rpb24ubmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5jb21waWxlUGFyZW50Tm9kZShwcm9qZWN0aW9uLnRlbXBsYXRlLCBpbnN0cnVjdGlvbnMsIHByb2plY3Rpb25NYXAsIHRhcmdldGVkUHJvamVjdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IHByb2plY3Rpb25zW25hbWVdO1xuICAgICAgICAgICAgaWYgKGRlZmluaXRpb24gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IHByb2plY3Rpb24udGVtcGxhdGUucGh5c2ljYWxOb2RlO1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS50YWdOYW1lICE9PSAnVEVNUExBVEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF90ZW1wbGF0ZSA9IHAuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgX3RlbXBsYXRlLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IF90ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvamVjdGlvbnNbbmFtZV0gPSBDdXN0b21FbGVtZW50RGVmaW5pdGlvbi5jcmVhdGUoeyBuYW1lLCB0ZW1wbGF0ZSwgaW5zdHJ1Y3Rpb25zLCBuZWVkc0NvbXBpbGU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29saWRhdGUgdGhlIHByb2plY3Rpb25zIHRvIHNhbWUgc2xvdFxuICAgICAgICAgICAgICAgIGRlZmluaXRpb24udGVtcGxhdGUuY29udGVudC5hcHBlbmRDaGlsZChwcm9qZWN0aW9uLnRlbXBsYXRlLnBoeXNpY2FsTm9kZSk7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbi5pbnN0cnVjdGlvbnMucHVzaCguLi5pbnN0cnVjdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9qZWN0aW9ucztcbiAgICB9XG4gICAgY29tcGlsZVByb2plY3Rpb25GYWxsYmFjayhzeW1ib2wsIHByb2plY3Rpb25zLCB0YXJnZXRlZFByb2plY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmNvbXBpbGVDaGlsZE5vZGVzKHN5bWJvbCwgaW5zdHJ1Y3Rpb25zLCBwcm9qZWN0aW9ucywgdGFyZ2V0ZWRQcm9qZWN0aW9ucyk7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5wLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIHRlbXBsYXRlLmNvbnRlbnQuYXBwZW5kKC4uLnRvQXJyYXkoc3ltYm9sLnBoeXNpY2FsTm9kZS5jaGlsZE5vZGVzKSk7XG4gICAgICAgIHJldHVybiBDdXN0b21FbGVtZW50RGVmaW5pdGlvbi5jcmVhdGUoeyBuYW1lOiBDdXN0b21FbGVtZW50LmdlbmVyYXRlTmFtZSgpLCB0ZW1wbGF0ZSwgaW5zdHJ1Y3Rpb25zLCBuZWVkc0NvbXBpbGU6IGZhbHNlIH0pO1xuICAgIH1cbn07XG5UZW1wbGF0ZUNvbXBpbGVyID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgwLCBJVGVtcGxhdGVFbGVtZW50RmFjdG9yeSksXG4gICAgX19wYXJhbSgxLCBJQXR0cmlidXRlUGFyc2VyKSxcbiAgICBfX3BhcmFtKDIsIElFeHByZXNzaW9uUGFyc2VyKSxcbiAgICBfX3BhcmFtKDMsIElBdHRyU3ludGF4VHJhbnNmb3JtZXIpLFxuICAgIF9fcGFyYW0oNCwgSUxvZ2dlciksXG4gICAgX19wYXJhbSg1LCBJUGxhdGZvcm0pXG5dLCBUZW1wbGF0ZUNvbXBpbGVyKTtcbmV4cG9ydCB7IFRlbXBsYXRlQ29tcGlsZXIgfTtcbmZ1bmN0aW9uIHByb2Nlc3NUZW1wbGF0ZU5hbWUobG9jYWxUZW1wbGF0ZSwgbG9jYWxUZW1wbGF0ZU5hbWVzKSB7XG4gICAgY29uc3QgbmFtZSA9IGxvY2FsVGVtcGxhdGUuZ2V0QXR0cmlidXRlKGxvY2FsVGVtcGxhdGVJZGVudGlmaWVyKTtcbiAgICBpZiAobmFtZSA9PT0gbnVsbCB8fCBuYW1lID09PSAnJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImFzLWN1c3RvbS1lbGVtZW50XCIgYXR0cmlidXRlIGNhbm5vdCBiZSBlbXB0eSBmb3IgbG9jYWwgdGVtcGxhdGUnKTtcbiAgICB9XG4gICAgaWYgKGxvY2FsVGVtcGxhdGVOYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgZGVmaW5pdGlvbiBvZiB0aGUgbG9jYWwgdGVtcGxhdGUgbmFtZWQgJHtuYW1lfWApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbG9jYWxUZW1wbGF0ZU5hbWVzLmFkZChuYW1lKTtcbiAgICAgICAgbG9jYWxUZW1wbGF0ZS5yZW1vdmVBdHRyaWJ1dGUobG9jYWxUZW1wbGF0ZUlkZW50aWZpZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZTtcbn1cbmZ1bmN0aW9uIGdldEJpbmRpbmdNb2RlKGJpbmRhYmxlKSB7XG4gICAgc3dpdGNoIChiaW5kYWJsZS5nZXRBdHRyaWJ1dGUoXCJtb2RlXCIgLyogbW9kZSAqLykpIHtcbiAgICAgICAgY2FzZSAnb25lVGltZSc6XG4gICAgICAgICAgICByZXR1cm4gQmluZGluZ01vZGUub25lVGltZTtcbiAgICAgICAgY2FzZSAndG9WaWV3JzpcbiAgICAgICAgICAgIHJldHVybiBCaW5kaW5nTW9kZS50b1ZpZXc7XG4gICAgICAgIGNhc2UgJ2Zyb21WaWV3JzpcbiAgICAgICAgICAgIHJldHVybiBCaW5kaW5nTW9kZS5mcm9tVmlldztcbiAgICAgICAgY2FzZSAndHdvV2F5JzpcbiAgICAgICAgICAgIHJldHVybiBCaW5kaW5nTW9kZS50d29XYXk7XG4gICAgICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIEJpbmRpbmdNb2RlLmRlZmF1bHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gcHJvY2Vzc0xvY2FsVGVtcGxhdGVzKHRlbXBsYXRlLCBkZWZpbml0aW9uLCBjb250ZXh0LCBwLCBsb2dnZXIpIHtcbiAgICBsZXQgcm9vdDtcbiAgICBpZiAodGVtcGxhdGUubm9kZU5hbWUgPT09ICdURU1QTEFURScpIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlLmhhc0F0dHJpYnV0ZShsb2NhbFRlbXBsYXRlSWRlbnRpZmllcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHJvb3QgY2Fubm90IGJlIGEgbG9jYWwgdGVtcGxhdGUgaXRzZWxmLicpO1xuICAgICAgICB9XG4gICAgICAgIHJvb3QgPSB0ZW1wbGF0ZS5jb250ZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcm9vdCA9IHRlbXBsYXRlO1xuICAgIH1cbiAgICBjb25zdCBsb2NhbFRlbXBsYXRlcyA9IHRvQXJyYXkocm9vdC5xdWVyeVNlbGVjdG9yQWxsKCd0ZW1wbGF0ZVthcy1jdXN0b20tZWxlbWVudF0nKSk7XG4gICAgY29uc3QgbnVtTG9jYWxUZW1wbGF0ZXMgPSBsb2NhbFRlbXBsYXRlcy5sZW5ndGg7XG4gICAgaWYgKG51bUxvY2FsVGVtcGxhdGVzID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG51bUxvY2FsVGVtcGxhdGVzID09PSByb290LmNoaWxkRWxlbWVudENvdW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGN1c3RvbSBlbGVtZW50IGRvZXMgbm90IGhhdmUgYW55IGNvbnRlbnQgb3RoZXIgdGhhbiBsb2NhbCB0ZW1wbGF0ZShzKS4nKTtcbiAgICB9XG4gICAgY29uc3QgbG9jYWxUZW1wbGF0ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgIGZvciAoY29uc3QgbG9jYWxUZW1wbGF0ZSBvZiBsb2NhbFRlbXBsYXRlcykge1xuICAgICAgICBpZiAobG9jYWxUZW1wbGF0ZS5wYXJlbnROb2RlICE9PSByb290KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvY2FsIHRlbXBsYXRlcyBuZWVkcyB0byBiZSBkZWZpbmVkIGRpcmVjdGx5IHVuZGVyIHJvb3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmFtZSA9IHByb2Nlc3NUZW1wbGF0ZU5hbWUobG9jYWxUZW1wbGF0ZSwgbG9jYWxUZW1wbGF0ZU5hbWVzKTtcbiAgICAgICAgY29uc3QgbG9jYWxUZW1wbGF0ZVR5cGUgPSBjbGFzcyBMb2NhbFRlbXBsYXRlIHtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGxvY2FsVGVtcGxhdGUuY29udGVudDtcbiAgICAgICAgY29uc3QgYmluZGFibGVFbHMgPSB0b0FycmF5KGNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnYmluZGFibGUnKSk7XG4gICAgICAgIGNvbnN0IGJpbmRhYmxlSW5zdHJ1Y3Rpb25zID0gQmluZGFibGUuZm9yKGxvY2FsVGVtcGxhdGVUeXBlKTtcbiAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBiaW5kYWJsZUVsIG9mIGJpbmRhYmxlRWxzKSB7XG4gICAgICAgICAgICBpZiAoYmluZGFibGVFbC5wYXJlbnROb2RlICE9PSBjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCaW5kYWJsZSBwcm9wZXJ0aWVzIG9mIGxvY2FsIHRlbXBsYXRlcyBuZWVkcyB0byBiZSBkZWZpbmVkIGRpcmVjdGx5IHVuZGVyIHJvb3QuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IGJpbmRhYmxlRWwuZ2V0QXR0cmlidXRlKFwicHJvcGVydHlcIiAvKiBwcm9wZXJ0eSAqLyk7XG4gICAgICAgICAgICBpZiAocHJvcGVydHkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBhdHRyaWJ1dGUgJ3Byb3BlcnR5JyBpcyBtaXNzaW5nIGluICR7YmluZGFibGVFbC5vdXRlckhUTUx9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBiaW5kYWJsZUVsLmdldEF0dHJpYnV0ZShcImF0dHJpYnV0ZVwiIC8qIGF0dHJpYnV0ZSAqLyk7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgJiYgYXR0cmlidXRlcy5oYXMoYXR0cmlidXRlKVxuICAgICAgICAgICAgICAgIHx8IHByb3BlcnRpZXMuaGFzKHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQmluZGFibGUgcHJvcGVydHkgYW5kIGF0dHJpYnV0ZSBuZWVkcyB0byBiZSB1bmlxdWU7IGZvdW5kIHByb3BlcnR5OiAke3Byb3BlcnR5fSwgYXR0cmlidXRlOiAke2F0dHJpYnV0ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5hZGQoYXR0cmlidXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5hZGQocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmluZGFibGVJbnN0cnVjdGlvbnMuYWRkKHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6IGF0dHJpYnV0ZSAhPT0gbnVsbCAmJiBhdHRyaWJ1dGUgIT09IHZvaWQgMCA/IGF0dHJpYnV0ZSA6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICBtb2RlOiBnZXRCaW5kaW5nTW9kZShiaW5kYWJsZUVsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgaWdub3JlZEF0dHJpYnV0ZXMgPSBiaW5kYWJsZUVsLmdldEF0dHJpYnV0ZU5hbWVzKCkuZmlsdGVyKChhdHRyTmFtZSkgPT4gIWFsbG93ZWRMb2NhbFRlbXBsYXRlQmluZGFibGVBdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJOYW1lKSk7XG4gICAgICAgICAgICBpZiAoaWdub3JlZEF0dHJpYnV0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKGBUaGUgYXR0cmlidXRlKHMpICR7aWdub3JlZEF0dHJpYnV0ZXMuam9pbignLCAnKX0gd2lsbCBiZSBpZ25vcmVkIGZvciAke2JpbmRhYmxlRWwub3V0ZXJIVE1MfS4gT25seSAke2FsbG93ZWRMb2NhbFRlbXBsYXRlQmluZGFibGVBdHRyaWJ1dGVzLmpvaW4oJywgJyl9IGFyZSBwcm9jZXNzZWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZW50LnJlbW92ZUNoaWxkKGJpbmRhYmxlRWwpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2FsVGVtcGxhdGVEZWZpbml0aW9uID0gQ3VzdG9tRWxlbWVudC5kZWZpbmUoeyBuYW1lLCB0ZW1wbGF0ZTogbG9jYWxUZW1wbGF0ZSB9LCBsb2NhbFRlbXBsYXRlVHlwZSk7XG4gICAgICAgIC8vIHRoZSBjYXN0aW5nIGlzIG5lZWRlZCBoZXJlIGFzIHRoZSBkZXBlbmRlbmNpZXMgYXJlIHR5cGVkIGFzIHJlYWRvbmx5IGFycmF5XG4gICAgICAgIGRlZmluaXRpb24uZGVwZW5kZW5jaWVzLnB1c2gobG9jYWxUZW1wbGF0ZURlZmluaXRpb24pO1xuICAgICAgICBjb250ZXh0LnJlZ2lzdGVyKGxvY2FsVGVtcGxhdGVEZWZpbml0aW9uKTtcbiAgICAgICAgcm9vdC5yZW1vdmVDaGlsZChsb2NhbFRlbXBsYXRlKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS1jb21waWxlci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/template-compiler.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/template-element-factory.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/template-element-factory.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ITemplateElementFactory\": () => (/* binding */ ITemplateElementFactory),\n/* harmony export */   \"TemplateElementFactory\": () => (/* binding */ TemplateElementFactory)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\nconst ITemplateElementFactory = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ITemplateElementFactory', x => x.singleton(TemplateElementFactory));\nconst markupCache = {};\nlet TemplateElementFactory = class TemplateElementFactory {\n    constructor(p) {\n        this.p = p;\n        this.template = p.document.createElement('template');\n    }\n    createTemplate(input) {\n        var _a;\n        if (typeof input === 'string') {\n            let result = markupCache[input];\n            if (result === void 0) {\n                const template = this.template;\n                template.innerHTML = input;\n                const node = template.content.firstElementChild;\n                // if the input is either not wrapped in a template or there is more than one node,\n                // return the whole template that wraps it/them (and create a new one for the next input)\n                if (node == null || node.nodeName !== 'TEMPLATE' || node.nextElementSibling != null) {\n                    this.template = this.p.document.createElement('template');\n                    result = template;\n                }\n                else {\n                    // the node to return is both a template and the only node, so return just the node\n                    // and clean up the template for the next input\n                    template.content.removeChild(node);\n                    result = node;\n                }\n                markupCache[input] = result;\n            }\n            return result.cloneNode(true);\n        }\n        if (input.nodeName !== 'TEMPLATE') {\n            // if we get one node that is not a template, wrap it in one\n            const template = this.p.document.createElement('template');\n            template.content.appendChild(input);\n            return template;\n        }\n        // we got a template element, remove it from the DOM if it's present there and don't\n        // do any other processing\n        (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n        return input.cloneNode(true);\n    }\n};\nTemplateElementFactory = __decorate([\n    __param(0, _platform_js__WEBPACK_IMPORTED_MODULE_1__.IPlatform)\n], TemplateElementFactory);\n\n//# sourceMappingURL=template-element-factory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRlLWVsZW1lbnQtZmFjdG9yeS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vdGVtcGxhdGUtZWxlbWVudC1mYWN0b3J5LmpzPzljYTkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG5pbXBvcnQgeyBESSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBJUGxhdGZvcm0gfSBmcm9tICcuL3BsYXRmb3JtLmpzJztcbmV4cG9ydCBjb25zdCBJVGVtcGxhdGVFbGVtZW50RmFjdG9yeSA9IERJLmNyZWF0ZUludGVyZmFjZSgnSVRlbXBsYXRlRWxlbWVudEZhY3RvcnknLCB4ID0+IHguc2luZ2xldG9uKFRlbXBsYXRlRWxlbWVudEZhY3RvcnkpKTtcbmNvbnN0IG1hcmt1cENhY2hlID0ge307XG5sZXQgVGVtcGxhdGVFbGVtZW50RmFjdG9yeSA9IGNsYXNzIFRlbXBsYXRlRWxlbWVudEZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKHApIHtcbiAgICAgICAgdGhpcy5wID0gcDtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHAuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICB9XG4gICAgY3JlYXRlVGVtcGxhdGUoaW5wdXQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IG1hcmt1cENhY2hlW2lucHV0XTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBpbnB1dDtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gdGVtcGxhdGUuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgaW5wdXQgaXMgZWl0aGVyIG5vdCB3cmFwcGVkIGluIGEgdGVtcGxhdGUgb3IgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSBub2RlLFxuICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgd2hvbGUgdGVtcGxhdGUgdGhhdCB3cmFwcyBpdC90aGVtIChhbmQgY3JlYXRlIGEgbmV3IG9uZSBmb3IgdGhlIG5leHQgaW5wdXQpXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgPT0gbnVsbCB8fCBub2RlLm5vZGVOYW1lICE9PSAnVEVNUExBVEUnIHx8IG5vZGUubmV4dEVsZW1lbnRTaWJsaW5nICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRoaXMucC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBub2RlIHRvIHJldHVybiBpcyBib3RoIGEgdGVtcGxhdGUgYW5kIHRoZSBvbmx5IG5vZGUsIHNvIHJldHVybiBqdXN0IHRoZSBub2RlXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBjbGVhbiB1cCB0aGUgdGVtcGxhdGUgZm9yIHRoZSBuZXh0IGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLmNvbnRlbnQucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hcmt1cENhY2hlW2lucHV0XSA9IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC5ub2RlTmFtZSAhPT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgLy8gaWYgd2UgZ2V0IG9uZSBub2RlIHRoYXQgaXMgbm90IGEgdGVtcGxhdGUsIHdyYXAgaXQgaW4gb25lXG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMucC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICAgICAgdGVtcGxhdGUuY29udGVudC5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgZ290IGEgdGVtcGxhdGUgZWxlbWVudCwgcmVtb3ZlIGl0IGZyb20gdGhlIERPTSBpZiBpdCdzIHByZXNlbnQgdGhlcmUgYW5kIGRvbid0XG4gICAgICAgIC8vIGRvIGFueSBvdGhlciBwcm9jZXNzaW5nXG4gICAgICAgIChfYSA9IGlucHV0LnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZChpbnB1dCk7XG4gICAgICAgIHJldHVybiBpbnB1dC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgfVxufTtcblRlbXBsYXRlRWxlbWVudEZhY3RvcnkgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDAsIElQbGF0Zm9ybSlcbl0sIFRlbXBsYXRlRWxlbWVudEZhY3RvcnkpO1xuZXhwb3J0IHsgVGVtcGxhdGVFbGVtZW50RmFjdG9yeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtZWxlbWVudC1mYWN0b3J5LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/template-element-factory.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/templating/children.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/templating/children.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"children\": () => (/* binding */ children),\n/* harmony export */   \"Children\": () => (/* binding */ Children),\n/* harmony export */   \"ChildrenDefinition\": () => (/* binding */ ChildrenDefinition),\n/* harmony export */   \"ChildrenObserver\": () => (/* binding */ ChildrenObserver),\n/* harmony export */   \"filterChildren\": () => (/* binding */ filterChildren)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../resources/custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ChildrenObserver_1;\n\n\n\nfunction children(configOrTarget, prop) {\n    let config;\n    function decorator($target, $prop) {\n        if (arguments.length > 1) {\n            // Non invocation:\n            // - @children\n            // Invocation with or w/o opts:\n            // - @children()\n            // - @children({...opts})\n            config.property = $prop;\n        }\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(Children.name, ChildrenDefinition.create($prop, config), $target.constructor, $prop);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.appendTo($target.constructor, Children.keyFrom($prop));\n    }\n    if (arguments.length > 1) {\n        // Non invocation:\n        // - @children\n        config = {};\n        decorator(configOrTarget, prop);\n        return;\n    }\n    else if (typeof configOrTarget === 'string') {\n        // ClassDecorator\n        // - @children('bar')\n        // Direct call:\n        // - @children('bar')(Foo)\n        config = {};\n        return decorator;\n    }\n    // Invocation with or w/o opts:\n    // - @children()\n    // - @children({...opts})\n    config = configOrTarget === void 0 ? {} : configOrTarget;\n    return decorator;\n}\nfunction isChildrenObserverAnnotation(key) {\n    return key.startsWith(Children.name);\n}\nconst Children = {\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor('children-observer'),\n    keyFrom(name) {\n        return `${Children.name}:${name}`;\n    },\n    from(...childrenObserverLists) {\n        const childrenObservers = {};\n        const isArray = Array.isArray;\n        function addName(name) {\n            childrenObservers[name] = ChildrenDefinition.create(name);\n        }\n        function addDescription(name, def) {\n            childrenObservers[name] = ChildrenDefinition.create(name, def);\n        }\n        function addList(maybeList) {\n            if (isArray(maybeList)) {\n                maybeList.forEach(addName);\n            }\n            else if (maybeList instanceof ChildrenDefinition) {\n                childrenObservers[maybeList.property] = maybeList;\n            }\n            else if (maybeList !== void 0) {\n                Object.keys(maybeList).forEach(name => addDescription(name, maybeList));\n            }\n        }\n        childrenObserverLists.forEach(addList);\n        return childrenObservers;\n    },\n    getAll(Type) {\n        const propStart = Children.name.length + 1;\n        const defs = [];\n        const prototypeChain = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.getPrototypeChain)(Type);\n        let iProto = prototypeChain.length;\n        let iDefs = 0;\n        let keys;\n        let keysLen;\n        let Class;\n        while (--iProto >= 0) {\n            Class = prototypeChain[iProto];\n            keys = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.getKeys(Class).filter(isChildrenObserverAnnotation);\n            keysLen = keys.length;\n            for (let i = 0; i < keysLen; ++i) {\n                defs[iDefs++] = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(Children.name, Class, keys[i].slice(propStart));\n            }\n        }\n        return defs;\n    },\n};\nconst childObserverOptions = { childList: true };\nclass ChildrenDefinition {\n    constructor(callback, property, options, query, filter, map) {\n        this.callback = callback;\n        this.property = property;\n        this.options = options;\n        this.query = query;\n        this.filter = filter;\n        this.map = map;\n    }\n    static create(prop, def = {}) {\n        var _a;\n        return new ChildrenDefinition((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(def.callback, `${prop}Changed`), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(def.property, prop), (_a = def.options) !== null && _a !== void 0 ? _a : childObserverOptions, def.query, def.filter, def.map);\n    }\n}\n/** @internal */\nlet ChildrenObserver = ChildrenObserver_1 = class ChildrenObserver {\n    constructor(controller, obj, propertyKey, cbName, query = defaultChildQuery, filter = defaultChildFilter, map = defaultChildMap, options) {\n        this.controller = controller;\n        this.obj = obj;\n        this.propertyKey = propertyKey;\n        this.query = query;\n        this.filter = filter;\n        this.map = map;\n        this.options = options;\n        this.observing = false;\n        this.children = (void 0);\n        this.callback = obj[cbName];\n        Reflect.defineProperty(this.obj, this.propertyKey, {\n            enumerable: true,\n            configurable: true,\n            get: () => this.getValue(),\n            set: () => { return; },\n        });\n    }\n    getValue() {\n        this.tryStartObserving();\n        return this.children;\n    }\n    setValue(newValue) { }\n    subscribe(subscriber) {\n        this.tryStartObserving();\n        this.subs.add(subscriber);\n    }\n    tryStartObserving() {\n        if (!this.observing) {\n            this.observing = true;\n            this.children = filterChildren(this.controller, this.query, this.filter, this.map);\n            const obs = new this.controller.host.ownerDocument.defaultView.MutationObserver(() => { this.onChildrenChanged(); });\n            obs.observe(this.controller.host, this.options);\n        }\n    }\n    onChildrenChanged() {\n        this.children = filterChildren(this.controller, this.query, this.filter, this.map);\n        if (this.callback !== void 0) {\n            this.callback.call(this.obj);\n        }\n        this.subs.notify(this.children, undefined, 0 /* none */);\n    }\n};\nChildrenObserver = ChildrenObserver_1 = __decorate([\n    (0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.subscriberCollection)()\n], ChildrenObserver);\n\nfunction defaultChildQuery(controller) {\n    return controller.host.childNodes;\n}\nfunction defaultChildFilter(node, controller, viewModel) {\n    return !!viewModel;\n}\nfunction defaultChildMap(node, controller, viewModel) {\n    return viewModel;\n}\nconst forOpts = { optional: true };\n/** @internal */\nfunction filterChildren(controller, query, filter, map) {\n    var _a;\n    const nodes = query(controller);\n    const children = [];\n    for (let i = 0, ii = nodes.length; i < ii; ++i) {\n        const node = nodes[i];\n        const $controller = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_2__.CustomElement.for(node, forOpts);\n        const viewModel = (_a = $controller === null || $controller === void 0 ? void 0 : $controller.viewModel) !== null && _a !== void 0 ? _a : null;\n        if (filter(node, $controller, viewModel)) {\n            children.push(map(node, $controller, viewModel));\n        }\n    }\n    return children;\n}\n//# sourceMappingURL=children.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRpbmcvY2hpbGRyZW4uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRpbmcvY2hpbGRyZW4uanM/N2U0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgQ2hpbGRyZW5PYnNlcnZlcl8xO1xuaW1wb3J0IHsgUHJvdG9jb2wsIE1ldGFkYXRhLCBmaXJzdERlZmluZWQsIGdldFByb3RvdHlwZUNoYWluIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IHN1YnNjcmliZXJDb2xsZWN0aW9uIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZSc7XG5pbXBvcnQgeyBDdXN0b21FbGVtZW50IH0gZnJvbSAnLi4vcmVzb3VyY2VzL2N1c3RvbS1lbGVtZW50LmpzJztcbmV4cG9ydCBmdW5jdGlvbiBjaGlsZHJlbihjb25maWdPclRhcmdldCwgcHJvcCkge1xuICAgIGxldCBjb25maWc7XG4gICAgZnVuY3Rpb24gZGVjb3JhdG9yKCR0YXJnZXQsICRwcm9wKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gTm9uIGludm9jYXRpb246XG4gICAgICAgICAgICAvLyAtIEBjaGlsZHJlblxuICAgICAgICAgICAgLy8gSW52b2NhdGlvbiB3aXRoIG9yIHcvbyBvcHRzOlxuICAgICAgICAgICAgLy8gLSBAY2hpbGRyZW4oKVxuICAgICAgICAgICAgLy8gLSBAY2hpbGRyZW4oey4uLm9wdHN9KVxuICAgICAgICAgICAgY29uZmlnLnByb3BlcnR5ID0gJHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgTWV0YWRhdGEuZGVmaW5lKENoaWxkcmVuLm5hbWUsIENoaWxkcmVuRGVmaW5pdGlvbi5jcmVhdGUoJHByb3AsIGNvbmZpZyksICR0YXJnZXQuY29uc3RydWN0b3IsICRwcm9wKTtcbiAgICAgICAgUHJvdG9jb2wuYW5ub3RhdGlvbi5hcHBlbmRUbygkdGFyZ2V0LmNvbnN0cnVjdG9yLCBDaGlsZHJlbi5rZXlGcm9tKCRwcm9wKSk7XG4gICAgfVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBOb24gaW52b2NhdGlvbjpcbiAgICAgICAgLy8gLSBAY2hpbGRyZW5cbiAgICAgICAgY29uZmlnID0ge307XG4gICAgICAgIGRlY29yYXRvcihjb25maWdPclRhcmdldCwgcHJvcCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZ09yVGFyZ2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBDbGFzc0RlY29yYXRvclxuICAgICAgICAvLyAtIEBjaGlsZHJlbignYmFyJylcbiAgICAgICAgLy8gRGlyZWN0IGNhbGw6XG4gICAgICAgIC8vIC0gQGNoaWxkcmVuKCdiYXInKShGb28pXG4gICAgICAgIGNvbmZpZyA9IHt9O1xuICAgICAgICByZXR1cm4gZGVjb3JhdG9yO1xuICAgIH1cbiAgICAvLyBJbnZvY2F0aW9uIHdpdGggb3Igdy9vIG9wdHM6XG4gICAgLy8gLSBAY2hpbGRyZW4oKVxuICAgIC8vIC0gQGNoaWxkcmVuKHsuLi5vcHRzfSlcbiAgICBjb25maWcgPSBjb25maWdPclRhcmdldCA9PT0gdm9pZCAwID8ge30gOiBjb25maWdPclRhcmdldDtcbiAgICByZXR1cm4gZGVjb3JhdG9yO1xufVxuZnVuY3Rpb24gaXNDaGlsZHJlbk9ic2VydmVyQW5ub3RhdGlvbihrZXkpIHtcbiAgICByZXR1cm4ga2V5LnN0YXJ0c1dpdGgoQ2hpbGRyZW4ubmFtZSk7XG59XG5leHBvcnQgY29uc3QgQ2hpbGRyZW4gPSB7XG4gICAgbmFtZTogUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IoJ2NoaWxkcmVuLW9ic2VydmVyJyksXG4gICAga2V5RnJvbShuYW1lKSB7XG4gICAgICAgIHJldHVybiBgJHtDaGlsZHJlbi5uYW1lfToke25hbWV9YDtcbiAgICB9LFxuICAgIGZyb20oLi4uY2hpbGRyZW5PYnNlcnZlckxpc3RzKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuT2JzZXJ2ZXJzID0ge307XG4gICAgICAgIGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuICAgICAgICBmdW5jdGlvbiBhZGROYW1lKG5hbWUpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuT2JzZXJ2ZXJzW25hbWVdID0gQ2hpbGRyZW5EZWZpbml0aW9uLmNyZWF0ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGREZXNjcmlwdGlvbihuYW1lLCBkZWYpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuT2JzZXJ2ZXJzW25hbWVdID0gQ2hpbGRyZW5EZWZpbml0aW9uLmNyZWF0ZShuYW1lLCBkZWYpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZExpc3QobWF5YmVMaXN0KSB7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShtYXliZUxpc3QpKSB7XG4gICAgICAgICAgICAgICAgbWF5YmVMaXN0LmZvckVhY2goYWRkTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXliZUxpc3QgaW5zdGFuY2VvZiBDaGlsZHJlbkRlZmluaXRpb24pIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbk9ic2VydmVyc1ttYXliZUxpc3QucHJvcGVydHldID0gbWF5YmVMaXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF5YmVMaXN0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhtYXliZUxpc3QpLmZvckVhY2gobmFtZSA9PiBhZGREZXNjcmlwdGlvbihuYW1lLCBtYXliZUxpc3QpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbk9ic2VydmVyTGlzdHMuZm9yRWFjaChhZGRMaXN0KTtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuT2JzZXJ2ZXJzO1xuICAgIH0sXG4gICAgZ2V0QWxsKFR5cGUpIHtcbiAgICAgICAgY29uc3QgcHJvcFN0YXJ0ID0gQ2hpbGRyZW4ubmFtZS5sZW5ndGggKyAxO1xuICAgICAgICBjb25zdCBkZWZzID0gW107XG4gICAgICAgIGNvbnN0IHByb3RvdHlwZUNoYWluID0gZ2V0UHJvdG90eXBlQ2hhaW4oVHlwZSk7XG4gICAgICAgIGxldCBpUHJvdG8gPSBwcm90b3R5cGVDaGFpbi5sZW5ndGg7XG4gICAgICAgIGxldCBpRGVmcyA9IDA7XG4gICAgICAgIGxldCBrZXlzO1xuICAgICAgICBsZXQga2V5c0xlbjtcbiAgICAgICAgbGV0IENsYXNzO1xuICAgICAgICB3aGlsZSAoLS1pUHJvdG8gPj0gMCkge1xuICAgICAgICAgICAgQ2xhc3MgPSBwcm90b3R5cGVDaGFpbltpUHJvdG9dO1xuICAgICAgICAgICAga2V5cyA9IFByb3RvY29sLmFubm90YXRpb24uZ2V0S2V5cyhDbGFzcykuZmlsdGVyKGlzQ2hpbGRyZW5PYnNlcnZlckFubm90YXRpb24pO1xuICAgICAgICAgICAga2V5c0xlbiA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzTGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkZWZzW2lEZWZzKytdID0gTWV0YWRhdGEuZ2V0T3duKENoaWxkcmVuLm5hbWUsIENsYXNzLCBrZXlzW2ldLnNsaWNlKHByb3BTdGFydCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZzO1xuICAgIH0sXG59O1xuY29uc3QgY2hpbGRPYnNlcnZlck9wdGlvbnMgPSB7IGNoaWxkTGlzdDogdHJ1ZSB9O1xuZXhwb3J0IGNsYXNzIENoaWxkcmVuRGVmaW5pdGlvbiB7XG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2ssIHByb3BlcnR5LCBvcHRpb25zLCBxdWVyeSwgZmlsdGVyLCBtYXApIHtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICB0aGlzLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeTtcbiAgICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKHByb3AsIGRlZiA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGlsZHJlbkRlZmluaXRpb24oZmlyc3REZWZpbmVkKGRlZi5jYWxsYmFjaywgYCR7cHJvcH1DaGFuZ2VkYCksIGZpcnN0RGVmaW5lZChkZWYucHJvcGVydHksIHByb3ApLCAoX2EgPSBkZWYub3B0aW9ucykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY2hpbGRPYnNlcnZlck9wdGlvbnMsIGRlZi5xdWVyeSwgZGVmLmZpbHRlciwgZGVmLm1hcCk7XG4gICAgfVxufVxuLyoqIEBpbnRlcm5hbCAqL1xubGV0IENoaWxkcmVuT2JzZXJ2ZXIgPSBDaGlsZHJlbk9ic2VydmVyXzEgPSBjbGFzcyBDaGlsZHJlbk9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBvYmosIHByb3BlcnR5S2V5LCBjYk5hbWUsIHF1ZXJ5ID0gZGVmYXVsdENoaWxkUXVlcnksIGZpbHRlciA9IGRlZmF1bHRDaGlsZEZpbHRlciwgbWFwID0gZGVmYXVsdENoaWxkTWFwLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICAgIHRoaXMub2JqID0gb2JqO1xuICAgICAgICB0aGlzLnByb3BlcnR5S2V5ID0gcHJvcGVydHlLZXk7XG4gICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeTtcbiAgICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLm9ic2VydmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gKHZvaWQgMCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBvYmpbY2JOYW1lXTtcbiAgICAgICAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLm9iaiwgdGhpcy5wcm9wZXJ0eUtleSwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldDogKCkgPT4gdGhpcy5nZXRWYWx1ZSgpLFxuICAgICAgICAgICAgc2V0OiAoKSA9PiB7IHJldHVybjsgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICB0aGlzLnRyeVN0YXJ0T2JzZXJ2aW5nKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuO1xuICAgIH1cbiAgICBzZXRWYWx1ZShuZXdWYWx1ZSkgeyB9XG4gICAgc3Vic2NyaWJlKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdGhpcy50cnlTdGFydE9ic2VydmluZygpO1xuICAgICAgICB0aGlzLnN1YnMuYWRkKHN1YnNjcmliZXIpO1xuICAgIH1cbiAgICB0cnlTdGFydE9ic2VydmluZygpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9ic2VydmluZykge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGZpbHRlckNoaWxkcmVuKHRoaXMuY29udHJvbGxlciwgdGhpcy5xdWVyeSwgdGhpcy5maWx0ZXIsIHRoaXMubWFwKTtcbiAgICAgICAgICAgIGNvbnN0IG9icyA9IG5ldyB0aGlzLmNvbnRyb2xsZXIuaG9zdC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Lk11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4geyB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2VkKCk7IH0pO1xuICAgICAgICAgICAgb2JzLm9ic2VydmUodGhpcy5jb250cm9sbGVyLmhvc3QsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25DaGlsZHJlbkNoYW5nZWQoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBmaWx0ZXJDaGlsZHJlbih0aGlzLmNvbnRyb2xsZXIsIHRoaXMucXVlcnksIHRoaXMuZmlsdGVyLCB0aGlzLm1hcCk7XG4gICAgICAgIGlmICh0aGlzLmNhbGxiYWNrICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2suY2FsbCh0aGlzLm9iaik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzLm5vdGlmeSh0aGlzLmNoaWxkcmVuLCB1bmRlZmluZWQsIDAgLyogbm9uZSAqLyk7XG4gICAgfVxufTtcbkNoaWxkcmVuT2JzZXJ2ZXIgPSBDaGlsZHJlbk9ic2VydmVyXzEgPSBfX2RlY29yYXRlKFtcbiAgICBzdWJzY3JpYmVyQ29sbGVjdGlvbigpXG5dLCBDaGlsZHJlbk9ic2VydmVyKTtcbmV4cG9ydCB7IENoaWxkcmVuT2JzZXJ2ZXIgfTtcbmZ1bmN0aW9uIGRlZmF1bHRDaGlsZFF1ZXJ5KGNvbnRyb2xsZXIpIHtcbiAgICByZXR1cm4gY29udHJvbGxlci5ob3N0LmNoaWxkTm9kZXM7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2hpbGRGaWx0ZXIobm9kZSwgY29udHJvbGxlciwgdmlld01vZGVsKSB7XG4gICAgcmV0dXJuICEhdmlld01vZGVsO1xufVxuZnVuY3Rpb24gZGVmYXVsdENoaWxkTWFwKG5vZGUsIGNvbnRyb2xsZXIsIHZpZXdNb2RlbCkge1xuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5jb25zdCBmb3JPcHRzID0geyBvcHRpb25hbDogdHJ1ZSB9O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckNoaWxkcmVuKGNvbnRyb2xsZXIsIHF1ZXJ5LCBmaWx0ZXIsIG1hcCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBub2RlcyA9IHF1ZXJ5KGNvbnRyb2xsZXIpO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gbm9kZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGNvbnN0ICRjb250cm9sbGVyID0gQ3VzdG9tRWxlbWVudC5mb3Iobm9kZSwgZm9yT3B0cyk7XG4gICAgICAgIGNvbnN0IHZpZXdNb2RlbCA9IChfYSA9ICRjb250cm9sbGVyID09PSBudWxsIHx8ICRjb250cm9sbGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkY29udHJvbGxlci52aWV3TW9kZWwpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGw7XG4gICAgICAgIGlmIChmaWx0ZXIobm9kZSwgJGNvbnRyb2xsZXIsIHZpZXdNb2RlbCkpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2gobWFwKG5vZGUsICRjb250cm9sbGVyLCB2aWV3TW9kZWwpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW47XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGlsZHJlbi5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/templating/children.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/templating/controller.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/templating/controller.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MountTarget\": () => (/* binding */ MountTarget),\n/* harmony export */   \"Controller\": () => (/* binding */ Controller),\n/* harmony export */   \"isCustomElementController\": () => (/* binding */ isCustomElementController),\n/* harmony export */   \"isCustomElementViewModel\": () => (/* binding */ isCustomElementViewModel),\n/* harmony export */   \"HooksDefinition\": () => (/* binding */ HooksDefinition),\n/* harmony export */   \"ViewModelKind\": () => (/* binding */ ViewModelKind),\n/* harmony export */   \"State\": () => (/* binding */ State),\n/* harmony export */   \"stringifyState\": () => (/* binding */ stringifyState),\n/* harmony export */   \"IController\": () => (/* binding */ IController)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _observation_bindable_observer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observation/bindable-observer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/bindable-observer.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../resources/custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\n/* harmony import */ var _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../resources/custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\n/* harmony import */ var _render_context_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./render-context.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/render-context.js\");\n/* harmony import */ var _children_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./children.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/children.js\");\n/* harmony import */ var _app_root_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../app-root.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/app-root.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _styles_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./styles.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/styles.js\");\n/* harmony import */ var _watchers_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./watchers.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/watchers.js\");\n/* harmony import */ var _lifecycle_hooks_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./lifecycle-hooks.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/lifecycle-hooks.js\");\n/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction callDispose(disposable) {\n    disposable.dispose();\n}\nvar MountTarget;\n(function (MountTarget) {\n    MountTarget[MountTarget[\"none\"] = 0] = \"none\";\n    MountTarget[MountTarget[\"host\"] = 1] = \"host\";\n    MountTarget[MountTarget[\"shadowRoot\"] = 2] = \"shadowRoot\";\n    MountTarget[MountTarget[\"location\"] = 3] = \"location\";\n})(MountTarget || (MountTarget = {}));\nconst optional = { optional: true };\nconst controllerLookup = new WeakMap();\nclass Controller {\n    constructor(root, container, vmKind, flags, definition, \n    /**\n     * The viewFactory. Only present for synthetic views.\n     */\n    viewFactory, \n    /**\n     * The backing viewModel. Only present for custom attributes and elements.\n     */\n    viewModel, \n    /**\n     * The physical host dom node.\n     *\n     * For containerless elements, this node will be removed from the DOM and replaced by a comment, which is assigned to the `location` property.\n     *\n     * For ShadowDOM elements, this will be the original declaring element, NOT the shadow root (the shadow root is stored on the `shadowRoot` property)\n     */\n    host) {\n        this.root = root;\n        this.container = container;\n        this.vmKind = vmKind;\n        this.flags = flags;\n        this.definition = definition;\n        this.viewFactory = viewFactory;\n        this.viewModel = viewModel;\n        this.host = host;\n        this.id = (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.nextId)('au$component');\n        this.head = null;\n        this.tail = null;\n        this.next = null;\n        this.parent = null;\n        this.bindings = null;\n        this.children = null;\n        this.hasLockedScope = false;\n        this.isStrictBinding = false;\n        this.scope = null;\n        this.hostScope = null;\n        this.isBound = false;\n        // If a host from another custom element was passed in, then this will be the controller for that custom element (could be `au-viewport` for example).\n        // In that case, this controller will create a new host node (with the definition's name) and use that as the target host for the nodes instead.\n        // That host node is separately mounted to the host controller's original host node.\n        this.hostController = null;\n        this.mountTarget = 0 /* none */;\n        this.shadowRoot = null;\n        this.nodes = null;\n        this.context = null;\n        this.location = null;\n        this.lifecycleHooks = null;\n        this.state = 0 /* none */;\n        this.logger = null;\n        this.debug = false;\n        this.fullyNamed = false;\n        this.$initiator = null;\n        this.$flags = 0 /* none */;\n        this.$resolve = void 0;\n        this.$reject = void 0;\n        this.$promise = void 0;\n        this.activatingStack = 0;\n        this.detachingStack = 0;\n        this.unbindingStack = 0;\n        if (root === null && container.has(_app_root_js__WEBPACK_IMPORTED_MODULE_8__.IAppRoot, true)) {\n            this.root = container.get(_app_root_js__WEBPACK_IMPORTED_MODULE_8__.IAppRoot);\n        }\n        this.platform = container.get(_platform_js__WEBPACK_IMPORTED_MODULE_9__.IPlatform);\n        switch (vmKind) {\n            case 1 /* customAttribute */:\n            case 0 /* customElement */:\n                this.hooks = new HooksDefinition(viewModel);\n                break;\n            case 2 /* synthetic */:\n                this.hooks = HooksDefinition.none;\n                break;\n        }\n    }\n    get isActive() {\n        return (this.state & (1 /* activating */ | 2 /* activated */)) > 0 && (this.state & 4 /* deactivating */) === 0;\n    }\n    get name() {\n        var _a;\n        if (this.parent === null) {\n            switch (this.vmKind) {\n                case 1 /* customAttribute */:\n                    return `[${this.definition.name}]`;\n                case 0 /* customElement */:\n                    return this.definition.name;\n                case 2 /* synthetic */:\n                    return this.viewFactory.name;\n            }\n        }\n        switch (this.vmKind) {\n            case 1 /* customAttribute */:\n                return `${this.parent.name}>[${this.definition.name}]`;\n            case 0 /* customElement */:\n                return `${this.parent.name}>${this.definition.name}`;\n            case 2 /* synthetic */:\n                return this.viewFactory.name === ((_a = this.parent.definition) === null || _a === void 0 ? void 0 : _a.name)\n                    ? `${this.parent.name}[view]`\n                    : `${this.parent.name}[view:${this.viewFactory.name}]`;\n        }\n    }\n    static getCached(viewModel) {\n        return controllerLookup.get(viewModel);\n    }\n    static getCachedOrThrow(viewModel) {\n        const controller = Controller.getCached(viewModel);\n        if (controller === void 0) {\n            throw new Error(`There is no cached controller for the provided ViewModel: ${String(viewModel)}`);\n        }\n        return controller;\n    }\n    static forCustomElement(root, container, viewModel, host, \n    // projections *targeted* for this custom element. these are not the projections *provided* by this custom element.\n    targetedProjections, flags = 0 /* none */, hydrate = true, \n    // Use this when `instance.constructor` is not a custom element type to pass on the CustomElement definition\n    definition = void 0) {\n        if (controllerLookup.has(viewModel)) {\n            return controllerLookup.get(viewModel);\n        }\n        definition = definition !== null && definition !== void 0 ? definition : _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement.getDefinition(viewModel.constructor);\n        const controller = new Controller(\n        /* root           */ root, \n        /* container      */ container, 0 /* customElement */, \n        /* flags          */ flags, \n        /* definition     */ definition, \n        /* viewFactory    */ null, \n        /* viewModel      */ viewModel, \n        /* host           */ host);\n        controllerLookup.set(viewModel, controller);\n        if (hydrate) {\n            controller.hydrateCustomElement(container, targetedProjections);\n        }\n        return controller;\n    }\n    static forCustomAttribute(root, container, viewModel, host, flags = 0 /* none */) {\n        if (controllerLookup.has(viewModel)) {\n            return controllerLookup.get(viewModel);\n        }\n        const definition = _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_5__.CustomAttribute.getDefinition(viewModel.constructor);\n        const controller = new Controller(\n        /* root           */ root, \n        /* container      */ container, 1 /* customAttribute */, \n        /* flags          */ flags, \n        /* definition     */ definition, \n        /* viewFactory    */ null, \n        /* viewModel      */ viewModel, \n        /* host           */ host);\n        controllerLookup.set(viewModel, controller);\n        controller.hydrateCustomAttribute();\n        return controller;\n    }\n    static forSyntheticView(root, context, viewFactory, flags = 0 /* none */, parentController = void 0) {\n        const controller = new Controller(\n        /* root           */ root, \n        /* container      */ context, 2 /* synthetic */, \n        /* flags          */ flags, \n        /* definition     */ null, \n        /* viewFactory    */ viewFactory, \n        /* viewModel      */ null, \n        /* host           */ null);\n        controller.parent = parentController !== null && parentController !== void 0 ? parentController : null;\n        controller.hydrateSynthetic(context);\n        return controller;\n    }\n    /** @internal */\n    hydrateCustomElement(parentContainer, targetedProjections) {\n        var _a;\n        this.logger = parentContainer.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger).root;\n        this.debug = this.logger.config.level <= 1 /* debug */;\n        if (this.debug) {\n            this.logger = this.logger.scopeTo(this.name);\n        }\n        let definition = this.definition;\n        const flags = this.flags;\n        const instance = this.viewModel;\n        this.scope = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.Scope.create(instance, null, true);\n        if (definition.watches.length > 0) {\n            createWatchers(this, this.container, definition, instance);\n        }\n        createObservers(this, definition, flags, instance);\n        createChildrenObservers(this, definition, flags, instance);\n        if (this.hooks.hasDefine) {\n            if (this.debug) {\n                this.logger.trace(`invoking define() hook`);\n            }\n            const result = instance.define(\n            /* controller      */ this, \n            /* parentContainer */ parentContainer, \n            /* definition      */ definition);\n            if (result !== void 0 && result !== definition) {\n                definition = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElementDefinition.getOrCreate(result);\n            }\n        }\n        const context = this.context = (0,_render_context_js__WEBPACK_IMPORTED_MODULE_6__.getRenderContext)(definition, parentContainer, targetedProjections === null || targetedProjections === void 0 ? void 0 : targetedProjections.projections);\n        this.lifecycleHooks = _lifecycle_hooks_js__WEBPACK_IMPORTED_MODULE_12__.LifecycleHooks.resolve(context);\n        // Support Recursive Components by adding self to own context\n        definition.register(context);\n        if (definition.injectable !== null) {\n            // If the element is registered as injectable, support injecting the instance into children\n            context.beginChildComponentOperation(instance);\n        }\n        // If this is the root controller, then the AppRoot will invoke things in the following order:\n        // - Controller.hydrateCustomElement\n        // - runAppTasks('hydrating') // may return a promise\n        // - Controller.compile\n        // - runAppTasks('hydrated') // may return a promise\n        // - Controller.compileChildren\n        // This keeps hydration synchronous while still allowing the composition root compile hooks to do async work.\n        if (((_a = this.root) === null || _a === void 0 ? void 0 : _a.controller) !== this) {\n            this.hydrate(targetedProjections);\n            this.hydrateChildren();\n        }\n    }\n    /** @internal */\n    hydrate(targetedProjections) {\n        if (this.hooks.hasHydrating) {\n            if (this.debug) {\n                this.logger.trace(`invoking hasHydrating() hook`);\n            }\n            this.viewModel.hydrating(this);\n        }\n        const compiledContext = this.context.compile(targetedProjections);\n        const { projectionsMap, shadowOptions, isStrictBinding, hasSlots, containerless } = compiledContext.compiledDefinition;\n        compiledContext.registerProjections(projectionsMap, this.scope);\n        // once the projections are registered, we can cleanup the projection map to prevent memory leaks.\n        projectionsMap.clear();\n        this.isStrictBinding = isStrictBinding;\n        if ((this.hostController = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement.for(this.host, optional)) !== null) {\n            this.host = this.platform.document.createElement(this.context.definition.name);\n        }\n        (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(this.host, _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement.name, this);\n        (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(this.host, this.definition.key, this);\n        if (shadowOptions !== null || hasSlots) {\n            if (containerless) {\n                throw new Error('You cannot combine the containerless custom element option with Shadow DOM.');\n            }\n            (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(this.shadowRoot = this.host.attachShadow(shadowOptions !== null && shadowOptions !== void 0 ? shadowOptions : defaultShadowOptions), _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement.name, this);\n            (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(this.shadowRoot, this.definition.key, this);\n            this.mountTarget = 2 /* shadowRoot */;\n        }\n        else if (containerless) {\n            (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(this.location = (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.convertToRenderLocation)(this.host), _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement.name, this);\n            (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(this.location, this.definition.key, this);\n            this.mountTarget = 3 /* location */;\n        }\n        else {\n            this.mountTarget = 1 /* host */;\n        }\n        this.viewModel.$controller = this;\n        this.nodes = compiledContext.createNodes();\n        if (this.hooks.hasHydrated) {\n            if (this.debug) {\n                this.logger.trace(`invoking hasHydrated() hook`);\n            }\n            this.viewModel.hydrated(this);\n        }\n    }\n    /** @internal */\n    hydrateChildren() {\n        const targets = this.nodes.findTargets();\n        this.context.render(\n        /* flags      */ this.flags, \n        /* controller */ this, \n        /* targets    */ targets, \n        /* definition */ this.context.compiledDefinition, \n        /* host       */ this.host);\n        if (this.hooks.hasCreated) {\n            if (this.debug) {\n                this.logger.trace(`invoking created() hook`);\n            }\n            this.viewModel.created(this);\n        }\n    }\n    hydrateCustomAttribute() {\n        const definition = this.definition;\n        const instance = this.viewModel;\n        if (definition.watches.length > 0) {\n            createWatchers(this, this.container, definition, instance);\n        }\n        createObservers(this, definition, this.flags, instance);\n        instance.$controller = this;\n        this.lifecycleHooks = _lifecycle_hooks_js__WEBPACK_IMPORTED_MODULE_12__.LifecycleHooks.resolve(this.container);\n        if (this.hooks.hasCreated) {\n            if (this.debug) {\n                this.logger.trace(`invoking created() hook`);\n            }\n            this.viewModel.created(this);\n        }\n    }\n    hydrateSynthetic(context) {\n        this.context = context;\n        const compiledContext = context.compile(null);\n        const compiledDefinition = compiledContext.compiledDefinition;\n        this.isStrictBinding = compiledDefinition.isStrictBinding;\n        const nodes = this.nodes = compiledContext.createNodes();\n        const targets = nodes.findTargets();\n        compiledContext.render(\n        /* flags      */ this.flags, \n        /* controller */ this, \n        /* targets    */ targets, \n        /* definition */ compiledDefinition, \n        /* host       */ void 0);\n    }\n    activate(initiator, parent, flags, scope, hostScope) {\n        switch (this.state) {\n            case 0 /* none */:\n            case 8 /* deactivated */:\n                if (!(parent === null || parent.isActive)) {\n                    // If this is not the root, and the parent is either:\n                    // 1. Not activated, or activating children OR\n                    // 2. Deactivating itself\n                    // abort.\n                    return;\n                }\n                // Otherwise, proceed normally.\n                // 'deactivated' and 'none' are treated the same because, from an activation perspective, they mean the same thing.\n                this.state = 1 /* activating */;\n                break;\n            case 2 /* activated */:\n                // If we're already activated, no need to do anything.\n                return;\n            case 32 /* disposed */:\n                throw new Error(`${this.name} trying to activate a controller that is disposed.`);\n            default:\n                throw new Error(`${this.name} unexpected state: ${stringifyState(this.state)}.`);\n        }\n        this.parent = parent;\n        if (this.debug && !this.fullyNamed) {\n            this.fullyNamed = true;\n            this.logger = this.context.get(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger).root.scopeTo(this.name);\n            this.logger.trace(`activate()`);\n        }\n        this.hostScope = hostScope !== null && hostScope !== void 0 ? hostScope : null;\n        flags |= 2 /* fromBind */;\n        switch (this.vmKind) {\n            case 0 /* customElement */:\n                // Custom element scope is created and assigned during hydration\n                this.scope.parentScope = scope !== null && scope !== void 0 ? scope : null;\n                break;\n            case 1 /* customAttribute */:\n                this.scope = scope !== null && scope !== void 0 ? scope : null;\n                break;\n            case 2 /* synthetic */:\n                if (scope === void 0 || scope === null) {\n                    throw new Error(`Scope is null or undefined`);\n                }\n                if (!this.hasLockedScope) {\n                    this.scope = scope;\n                }\n                break;\n        }\n        if (this.isStrictBinding) {\n            flags |= 1 /* isStrictBindingStrategy */;\n        }\n        this.$initiator = initiator;\n        this.$flags = flags;\n        // opposing leave is called in attach() (which will trigger attached())\n        this.enterActivating();\n        if (this.hooks.hasBinding) {\n            if (this.debug) {\n                this.logger.trace(`binding()`);\n            }\n            const ret = this.viewModel.binding(this.$initiator, this.parent, this.$flags);\n            if (ret instanceof Promise) {\n                this.ensurePromise();\n                ret.then(() => {\n                    this.bind();\n                }).catch(err => {\n                    this.reject(err);\n                });\n                return this.$promise;\n            }\n        }\n        this.bind();\n        return this.$promise;\n    }\n    bind() {\n        if (this.debug) {\n            this.logger.trace(`bind()`);\n        }\n        if (this.bindings !== null) {\n            for (let i = 0; i < this.bindings.length; ++i) {\n                this.bindings[i].$bind(this.$flags, this.scope, this.hostScope);\n            }\n        }\n        if (this.hooks.hasBound) {\n            if (this.debug) {\n                this.logger.trace(`bound()`);\n            }\n            const ret = this.viewModel.bound(this.$initiator, this.parent, this.$flags);\n            if (ret instanceof Promise) {\n                this.ensurePromise();\n                ret.then(() => {\n                    this.isBound = true;\n                    this.attach();\n                }).catch(err => {\n                    this.reject(err);\n                });\n                return;\n            }\n        }\n        this.isBound = true;\n        this.attach();\n    }\n    append(...nodes) {\n        switch (this.mountTarget) {\n            case 1 /* host */:\n                this.host.append(...nodes);\n                break;\n            case 2 /* shadowRoot */:\n                this.shadowRoot.append(...nodes);\n                break;\n            case 3 /* location */:\n                for (let i = 0; i < nodes.length; ++i) {\n                    this.location.parentNode.insertBefore(nodes[i], this.location);\n                }\n                break;\n        }\n    }\n    attach() {\n        var _a;\n        if (this.debug) {\n            this.logger.trace(`attach()`);\n        }\n        if (this.hostController !== null) {\n            switch (this.mountTarget) {\n                case 1 /* host */:\n                case 2 /* shadowRoot */:\n                    this.hostController.append(this.host);\n                    break;\n                case 3 /* location */:\n                    this.hostController.append(this.location.$start, this.location);\n                    break;\n            }\n        }\n        switch (this.mountTarget) {\n            case 1 /* host */:\n                this.nodes.appendTo(this.host, (_a = this.definition) === null || _a === void 0 ? void 0 : _a.enhance);\n                break;\n            case 2 /* shadowRoot */: {\n                const styles = this.context.has(_styles_js__WEBPACK_IMPORTED_MODULE_10__.IShadowDOMStyles, false)\n                    ? this.context.get(_styles_js__WEBPACK_IMPORTED_MODULE_10__.IShadowDOMStyles)\n                    : this.context.get(_styles_js__WEBPACK_IMPORTED_MODULE_10__.IShadowDOMGlobalStyles);\n                styles.applyTo(this.shadowRoot);\n                this.nodes.appendTo(this.shadowRoot);\n                break;\n            }\n            case 3 /* location */:\n                this.nodes.insertBefore(this.location);\n                break;\n        }\n        if (this.hooks.hasAttaching) {\n            if (this.debug) {\n                this.logger.trace(`attaching()`);\n            }\n            const ret = this.viewModel.attaching(this.$initiator, this.parent, this.$flags);\n            if (ret instanceof Promise) {\n                this.ensurePromise();\n                this.enterActivating();\n                ret.then(() => {\n                    this.leaveActivating();\n                }).catch(err => {\n                    this.reject(err);\n                });\n            }\n        }\n        // attaching() and child activation run in parallel, and attached() is called when both are finished\n        if (this.children !== null) {\n            for (let i = 0; i < this.children.length; ++i) {\n                // Any promises returned from child activation are cumulatively awaited before this.$promise resolves\n                void this.children[i].activate(this.$initiator, this, this.$flags, this.scope, this.hostScope);\n            }\n        }\n        // attached() is invoked by Controller#leaveActivating when `activatingStack` reaches 0\n        this.leaveActivating();\n    }\n    deactivate(initiator, parent, flags) {\n        switch ((this.state & ~16 /* released */)) {\n            case 2 /* activated */:\n                // We're fully activated, so proceed with normal deactivation.\n                this.state = 4 /* deactivating */;\n                break;\n            case 0 /* none */:\n            case 8 /* deactivated */:\n            case 32 /* disposed */:\n            case 8 /* deactivated */ | 32 /* disposed */:\n                // If we're already deactivated (or even disposed), or never activated in the first place, no need to do anything.\n                return;\n            default:\n                throw new Error(`${this.name} unexpected state: ${stringifyState(this.state)}.`);\n        }\n        if (this.debug) {\n            this.logger.trace(`deactivate()`);\n        }\n        this.$initiator = initiator;\n        this.$flags = flags;\n        if (initiator === this) {\n            this.enterDetaching();\n        }\n        if (this.children !== null) {\n            for (let i = 0; i < this.children.length; ++i) {\n                // Child promise results are tracked by enter/leave combo's\n                void this.children[i].deactivate(initiator, this, flags);\n            }\n        }\n        if (this.hooks.hasDetaching) {\n            if (this.debug) {\n                this.logger.trace(`detaching()`);\n            }\n            const ret = this.viewModel.detaching(this.$initiator, this.parent, this.$flags);\n            if (ret instanceof Promise) {\n                this.ensurePromise();\n                initiator.enterDetaching();\n                ret.then(() => {\n                    initiator.leaveDetaching();\n                }).catch(err => {\n                    initiator.reject(err);\n                });\n            }\n        }\n        // Note: if a 3rd party plugin happens to do any async stuff in a template controller before calling deactivate on its view,\n        // then the linking will become out of order.\n        // For framework components, this shouldn't cause issues.\n        // We can only prevent that by linking up after awaiting the detaching promise, which would add an extra tick + a fair bit of\n        // overhead on this hot path, so it's (for now) a deliberate choice to not account for such situation.\n        // Just leaving the note here so that we know to look here if a weird detaching-related timing issue is ever reported.\n        if (initiator.head === null) {\n            initiator.head = this;\n        }\n        else {\n            initiator.tail.next = this;\n        }\n        initiator.tail = this;\n        if (initiator !== this) {\n            // Only detaching is called + the linked list is built when any controller that is not the initiator, is deactivated.\n            // The rest is handled by the initiator.\n            // This means that descendant controllers have to make sure to await the initiator's promise before doing any subsequent\n            // controller api calls, or race conditions might occur.\n            return;\n        }\n        this.leaveDetaching();\n        return this.$promise;\n    }\n    removeNodes() {\n        switch (this.vmKind) {\n            case 0 /* customElement */:\n            case 2 /* synthetic */:\n                this.nodes.remove();\n                this.nodes.unlink();\n        }\n        if (this.hostController !== null) {\n            switch (this.mountTarget) {\n                case 1 /* host */:\n                case 2 /* shadowRoot */:\n                    this.host.remove();\n                    break;\n                case 3 /* location */:\n                    this.location.$start.remove();\n                    this.location.remove();\n                    break;\n            }\n        }\n    }\n    unbind() {\n        if (this.debug) {\n            this.logger.trace(`unbind()`);\n        }\n        const flags = this.$flags | 4 /* fromUnbind */;\n        if (this.bindings !== null) {\n            for (let i = 0; i < this.bindings.length; ++i) {\n                this.bindings[i].$unbind(flags);\n            }\n        }\n        this.parent = null;\n        switch (this.vmKind) {\n            case 1 /* customAttribute */:\n                this.scope = null;\n                break;\n            case 2 /* synthetic */:\n                if (!this.hasLockedScope) {\n                    this.scope = null;\n                }\n                if ((this.state & 16 /* released */) === 16 /* released */ &&\n                    !this.viewFactory.tryReturnToCache(this) &&\n                    this.$initiator === this) {\n                    this.dispose();\n                }\n                break;\n            case 0 /* customElement */:\n                this.scope.parentScope = null;\n                break;\n        }\n        if ((flags & 32 /* dispose */) === 32 /* dispose */ && this.$initiator === this) {\n            this.dispose();\n        }\n        this.state = (this.state & 32 /* disposed */) | 8 /* deactivated */;\n        this.$initiator = null;\n        this.resolve();\n    }\n    ensurePromise() {\n        if (this.$promise === void 0) {\n            this.$promise = new Promise((resolve, reject) => {\n                this.$resolve = resolve;\n                this.$reject = reject;\n            });\n            if (this.$initiator !== this) {\n                this.parent.ensurePromise();\n            }\n        }\n    }\n    resolve() {\n        if (this.$promise !== void 0) {\n            const resolve = this.$resolve;\n            this.$resolve = this.$reject = this.$promise = void 0;\n            resolve();\n        }\n    }\n    reject(err) {\n        if (this.$promise !== void 0) {\n            const reject = this.$reject;\n            this.$resolve = this.$reject = this.$promise = void 0;\n            reject(err);\n        }\n        if (this.$initiator !== this) {\n            this.parent.reject(err);\n        }\n    }\n    enterActivating() {\n        ++this.activatingStack;\n        if (this.$initiator !== this) {\n            this.parent.enterActivating();\n        }\n    }\n    leaveActivating() {\n        if (--this.activatingStack === 0) {\n            if (this.hooks.hasAttached) {\n                if (this.debug) {\n                    this.logger.trace(`attached()`);\n                }\n                const ret = this.viewModel.attached(this.$initiator, this.$flags);\n                if (ret instanceof Promise) {\n                    this.ensurePromise();\n                    ret.then(() => {\n                        this.state = 2 /* activated */;\n                        // Resolve this.$promise, signaling that activation is done (path 1 of 2)\n                        this.resolve();\n                        if (this.$initiator !== this) {\n                            this.parent.leaveActivating();\n                        }\n                    }).catch(err => {\n                        this.reject(err);\n                    });\n                    return;\n                }\n            }\n            this.state = 2 /* activated */;\n            // Resolve this.$promise (if present), signaling that activation is done (path 2 of 2)\n            this.resolve();\n        }\n        if (this.$initiator !== this) {\n            this.parent.leaveActivating();\n        }\n    }\n    enterDetaching() {\n        ++this.detachingStack;\n    }\n    leaveDetaching() {\n        if (--this.detachingStack === 0) {\n            // Note: this controller is the initiator (detach is only ever called on the initiator)\n            if (this.debug) {\n                this.logger.trace(`detach()`);\n            }\n            this.enterUnbinding();\n            this.removeNodes();\n            let cur = this.$initiator.head;\n            while (cur !== null) {\n                if (cur !== this) {\n                    if (cur.debug) {\n                        cur.logger.trace(`detach()`);\n                    }\n                    cur.removeNodes();\n                }\n                if (cur.hooks.hasUnbinding) {\n                    if (cur.debug) {\n                        cur.logger.trace('unbinding()');\n                    }\n                    const ret = cur.viewModel.unbinding(cur.$initiator, cur.parent, cur.$flags);\n                    if (ret instanceof Promise) {\n                        this.ensurePromise();\n                        this.enterUnbinding();\n                        ret.then(() => {\n                            this.leaveUnbinding();\n                        }).catch(err => {\n                            this.reject(err);\n                        });\n                    }\n                }\n                cur = cur.next;\n            }\n            this.leaveUnbinding();\n        }\n    }\n    enterUnbinding() {\n        ++this.unbindingStack;\n    }\n    leaveUnbinding() {\n        if (--this.unbindingStack === 0) {\n            if (this.debug) {\n                this.logger.trace(`unbind()`);\n            }\n            let cur = this.$initiator.head;\n            let next = null;\n            while (cur !== null) {\n                if (cur !== this) {\n                    cur.isBound = false;\n                    cur.unbind();\n                }\n                next = cur.next;\n                cur.next = null;\n                cur = next;\n            }\n            this.head = this.tail = null;\n            this.isBound = false;\n            this.unbind();\n        }\n    }\n    addBinding(binding) {\n        if (this.bindings === null) {\n            this.bindings = [binding];\n        }\n        else {\n            this.bindings[this.bindings.length] = binding;\n        }\n    }\n    addController(controller) {\n        if (this.children === null) {\n            this.children = [controller];\n        }\n        else {\n            this.children[this.children.length] = controller;\n        }\n    }\n    is(name) {\n        switch (this.vmKind) {\n            case 1 /* customAttribute */: {\n                const def = _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_5__.CustomAttribute.getDefinition(this.viewModel.constructor);\n                return def.name === name;\n            }\n            case 0 /* customElement */: {\n                const def = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement.getDefinition(this.viewModel.constructor);\n                return def.name === name;\n            }\n            case 2 /* synthetic */:\n                return this.viewFactory.name === name;\n        }\n    }\n    lockScope(scope) {\n        this.scope = scope;\n        this.hasLockedScope = true;\n    }\n    setHost(host) {\n        if (this.vmKind === 0 /* customElement */) {\n            (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(host, _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement.name, this);\n            (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(host, this.definition.key, this);\n        }\n        this.host = host;\n        this.mountTarget = 1 /* host */;\n        return this;\n    }\n    setShadowRoot(shadowRoot) {\n        if (this.vmKind === 0 /* customElement */) {\n            (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(shadowRoot, _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement.name, this);\n            (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(shadowRoot, this.definition.key, this);\n        }\n        this.shadowRoot = shadowRoot;\n        this.mountTarget = 2 /* shadowRoot */;\n        return this;\n    }\n    setLocation(location) {\n        if (this.vmKind === 0 /* customElement */) {\n            (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(location, _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement.name, this);\n            (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.setRef)(location, this.definition.key, this);\n        }\n        this.location = location;\n        this.mountTarget = 3 /* location */;\n        return this;\n    }\n    release() {\n        this.state |= 16 /* released */;\n    }\n    dispose() {\n        if (this.debug) {\n            this.logger.trace(`dispose()`);\n        }\n        if ((this.state & 32 /* disposed */) === 32 /* disposed */) {\n            return;\n        }\n        this.state |= 32 /* disposed */;\n        if (this.hooks.hasDispose) {\n            this.viewModel.dispose();\n        }\n        if (this.children !== null) {\n            this.children.forEach(callDispose);\n            this.children = null;\n        }\n        this.hostController = null;\n        this.scope = null;\n        this.nodes = null;\n        this.context = null;\n        this.location = null;\n        this.viewFactory = null;\n        if (this.viewModel !== null) {\n            controllerLookup.delete(this.viewModel);\n            this.viewModel = null;\n        }\n        this.viewModel = null;\n        this.host = null;\n        this.shadowRoot = null;\n        this.root = null;\n    }\n    accept(visitor) {\n        if (visitor(this) === true) {\n            return true;\n        }\n        if (this.hooks.hasAccept && this.viewModel.accept(visitor) === true) {\n            return true;\n        }\n        if (this.children !== null) {\n            const { children } = this;\n            for (let i = 0, ii = children.length; i < ii; ++i) {\n                if (children[i].accept(visitor) === true) {\n                    return true;\n                }\n            }\n        }\n    }\n    getTargetAccessor(propertyName) {\n        const { bindings } = this;\n        if (bindings !== null) {\n            const binding = bindings.find(b => b.targetProperty === propertyName);\n            if (binding !== void 0) {\n                return binding.targetObserver;\n            }\n        }\n        return void 0;\n    }\n}\nfunction getLookup(instance) {\n    let lookup = instance.$observers;\n    if (lookup === void 0) {\n        Reflect.defineProperty(instance, '$observers', {\n            enumerable: false,\n            value: lookup = {},\n        });\n    }\n    return lookup;\n}\nfunction createObservers(controller, definition, \n// deepscan-disable-next-line\n_flags, instance) {\n    const bindables = definition.bindables;\n    const observableNames = Object.getOwnPropertyNames(bindables);\n    const length = observableNames.length;\n    if (length > 0) {\n        let name;\n        let bindable;\n        const observers = getLookup(instance);\n        for (let i = 0; i < length; ++i) {\n            name = observableNames[i];\n            if (observers[name] === void 0) {\n                bindable = bindables[name];\n                observers[name] = new _observation_bindable_observer_js__WEBPACK_IMPORTED_MODULE_2__.BindableObserver(instance, name, bindable.callback, bindable.set, controller);\n            }\n        }\n    }\n}\nfunction createChildrenObservers(controller, definition, \n// deepscan-disable-next-line\n_flags, instance) {\n    const childrenObservers = definition.childrenObservers;\n    const childObserverNames = Object.getOwnPropertyNames(childrenObservers);\n    const length = childObserverNames.length;\n    if (length > 0) {\n        const observers = getLookup(instance);\n        let name;\n        for (let i = 0; i < length; ++i) {\n            name = childObserverNames[i];\n            if (observers[name] == void 0) {\n                const childrenDescription = childrenObservers[name];\n                observers[name] = new _children_js__WEBPACK_IMPORTED_MODULE_7__.ChildrenObserver(controller, instance, name, childrenDescription.callback, childrenDescription.query, childrenDescription.filter, childrenDescription.map, childrenDescription.options);\n            }\n        }\n    }\n}\nconst AccessScopeAst = {\n    map: new Map(),\n    for(key) {\n        let ast = AccessScopeAst.map.get(key);\n        if (ast == null) {\n            ast = new _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.AccessScopeExpression(key, 0);\n            AccessScopeAst.map.set(key, ast);\n        }\n        return ast;\n    },\n};\nfunction createWatchers(controller, context, definition, instance) {\n    const observerLocator = context.get(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IObserverLocator);\n    const expressionParser = context.get(_aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.IExpressionParser);\n    const watches = definition.watches;\n    let expression;\n    let callback;\n    for (let i = 0, ii = watches.length; ii > i; ++i) {\n        ({ expression, callback } = watches[i]);\n        callback = typeof callback === 'function'\n            ? callback\n            : Reflect.get(instance, callback);\n        if (typeof callback !== 'function') {\n            throw new Error(`Invalid callback for @watch decorator: ${String(callback)}`);\n        }\n        if (typeof expression === 'function') {\n            controller.addBinding(new _watchers_js__WEBPACK_IMPORTED_MODULE_11__.ComputedWatcher(instance, observerLocator, expression, callback, \n            // there should be a flag to purposely disable proxy\n            // AOT: not true for IE11\n            true));\n        }\n        else {\n            const ast = typeof expression === 'string'\n                ? expressionParser.parse(expression, 53 /* BindCommand */)\n                : AccessScopeAst.for(expression);\n            controller.addBinding(new _watchers_js__WEBPACK_IMPORTED_MODULE_11__.ExpressionWatcher(controller.scope, context, observerLocator, ast, callback));\n        }\n    }\n}\nfunction isCustomElementController(value) {\n    return value instanceof Controller && value.vmKind === 0 /* customElement */;\n}\nfunction isCustomElementViewModel(value) {\n    return (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_4__.CustomElement.isType(value.constructor);\n}\nclass HooksDefinition {\n    constructor(target) {\n        this.hasDefine = 'define' in target;\n        this.hasHydrating = 'hydrating' in target;\n        this.hasHydrated = 'hydrated' in target;\n        this.hasCreated = 'created' in target;\n        this.hasBinding = 'binding' in target;\n        this.hasBound = 'bound' in target;\n        this.hasAttaching = 'attaching' in target;\n        this.hasAttached = 'attached' in target;\n        this.hasDetaching = 'detaching' in target;\n        this.hasUnbinding = 'unbinding' in target;\n        this.hasDispose = 'dispose' in target;\n        this.hasAccept = 'accept' in target;\n    }\n}\nHooksDefinition.none = new HooksDefinition({});\nconst defaultShadowOptions = {\n    mode: 'open'\n};\nvar ViewModelKind;\n(function (ViewModelKind) {\n    ViewModelKind[ViewModelKind[\"customElement\"] = 0] = \"customElement\";\n    ViewModelKind[ViewModelKind[\"customAttribute\"] = 1] = \"customAttribute\";\n    ViewModelKind[ViewModelKind[\"synthetic\"] = 2] = \"synthetic\";\n})(ViewModelKind || (ViewModelKind = {}));\nvar State;\n(function (State) {\n    State[State[\"none\"] = 0] = \"none\";\n    State[State[\"activating\"] = 1] = \"activating\";\n    State[State[\"activated\"] = 2] = \"activated\";\n    State[State[\"deactivating\"] = 4] = \"deactivating\";\n    State[State[\"deactivated\"] = 8] = \"deactivated\";\n    State[State[\"released\"] = 16] = \"released\";\n    State[State[\"disposed\"] = 32] = \"disposed\";\n})(State || (State = {}));\nfunction stringifyState(state) {\n    const names = [];\n    if ((state & 1 /* activating */) === 1 /* activating */) {\n        names.push('activating');\n    }\n    if ((state & 2 /* activated */) === 2 /* activated */) {\n        names.push('activated');\n    }\n    if ((state & 4 /* deactivating */) === 4 /* deactivating */) {\n        names.push('deactivating');\n    }\n    if ((state & 8 /* deactivated */) === 8 /* deactivated */) {\n        names.push('deactivated');\n    }\n    if ((state & 16 /* released */) === 16 /* released */) {\n        names.push('released');\n    }\n    if ((state & 32 /* disposed */) === 32 /* disposed */) {\n        names.push('disposed');\n    }\n    return names.length === 0 ? 'none' : names.join('|');\n}\nconst IController = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IController');\n//# sourceMappingURL=controller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRpbmcvY29udHJvbGxlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vdGVtcGxhdGluZy9jb250cm9sbGVyLmpzP2ZhN2MiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uICovXG5pbXBvcnQgeyBuZXh0SWQsIGlzT2JqZWN0LCBJTG9nZ2VyLCBESSwgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgQWNjZXNzU2NvcGVFeHByZXNzaW9uLCBTY29wZSwgSU9ic2VydmVyTG9jYXRvciwgSUV4cHJlc3Npb25QYXJzZXIsIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZSc7XG5pbXBvcnQgeyBCaW5kYWJsZU9ic2VydmVyIH0gZnJvbSAnLi4vb2JzZXJ2YXRpb24vYmluZGFibGUtb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgY29udmVydFRvUmVuZGVyTG9jYXRpb24sIHNldFJlZiB9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBDdXN0b21FbGVtZW50RGVmaW5pdGlvbiwgQ3VzdG9tRWxlbWVudCB9IGZyb20gJy4uL3Jlc291cmNlcy9jdXN0b20tZWxlbWVudC5qcyc7XG5pbXBvcnQgeyBDdXN0b21BdHRyaWJ1dGUgfSBmcm9tICcuLi9yZXNvdXJjZXMvY3VzdG9tLWF0dHJpYnV0ZS5qcyc7XG5pbXBvcnQgeyBnZXRSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi9yZW5kZXItY29udGV4dC5qcyc7XG5pbXBvcnQgeyBDaGlsZHJlbk9ic2VydmVyIH0gZnJvbSAnLi9jaGlsZHJlbi5qcyc7XG5pbXBvcnQgeyBJQXBwUm9vdCB9IGZyb20gJy4uL2FwcC1yb290LmpzJztcbmltcG9ydCB7IElQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtLmpzJztcbmltcG9ydCB7IElTaGFkb3dET01HbG9iYWxTdHlsZXMsIElTaGFkb3dET01TdHlsZXMgfSBmcm9tICcuL3N0eWxlcy5qcyc7XG5pbXBvcnQgeyBDb21wdXRlZFdhdGNoZXIsIEV4cHJlc3Npb25XYXRjaGVyIH0gZnJvbSAnLi93YXRjaGVycy5qcyc7XG5pbXBvcnQgeyBMaWZlY3ljbGVIb29rcyB9IGZyb20gJy4vbGlmZWN5Y2xlLWhvb2tzLmpzJztcbmZ1bmN0aW9uIGNhbGxEaXNwb3NlKGRpc3Bvc2FibGUpIHtcbiAgICBkaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbn1cbmV4cG9ydCB2YXIgTW91bnRUYXJnZXQ7XG4oZnVuY3Rpb24gKE1vdW50VGFyZ2V0KSB7XG4gICAgTW91bnRUYXJnZXRbTW91bnRUYXJnZXRbXCJub25lXCJdID0gMF0gPSBcIm5vbmVcIjtcbiAgICBNb3VudFRhcmdldFtNb3VudFRhcmdldFtcImhvc3RcIl0gPSAxXSA9IFwiaG9zdFwiO1xuICAgIE1vdW50VGFyZ2V0W01vdW50VGFyZ2V0W1wic2hhZG93Um9vdFwiXSA9IDJdID0gXCJzaGFkb3dSb290XCI7XG4gICAgTW91bnRUYXJnZXRbTW91bnRUYXJnZXRbXCJsb2NhdGlvblwiXSA9IDNdID0gXCJsb2NhdGlvblwiO1xufSkoTW91bnRUYXJnZXQgfHwgKE1vdW50VGFyZ2V0ID0ge30pKTtcbmNvbnN0IG9wdGlvbmFsID0geyBvcHRpb25hbDogdHJ1ZSB9O1xuY29uc3QgY29udHJvbGxlckxvb2t1cCA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgY2xhc3MgQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3Iocm9vdCwgY29udGFpbmVyLCB2bUtpbmQsIGZsYWdzLCBkZWZpbml0aW9uLCBcbiAgICAvKipcbiAgICAgKiBUaGUgdmlld0ZhY3RvcnkuIE9ubHkgcHJlc2VudCBmb3Igc3ludGhldGljIHZpZXdzLlxuICAgICAqL1xuICAgIHZpZXdGYWN0b3J5LCBcbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2luZyB2aWV3TW9kZWwuIE9ubHkgcHJlc2VudCBmb3IgY3VzdG9tIGF0dHJpYnV0ZXMgYW5kIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIHZpZXdNb2RlbCwgXG4gICAgLyoqXG4gICAgICogVGhlIHBoeXNpY2FsIGhvc3QgZG9tIG5vZGUuXG4gICAgICpcbiAgICAgKiBGb3IgY29udGFpbmVybGVzcyBlbGVtZW50cywgdGhpcyBub2RlIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBET00gYW5kIHJlcGxhY2VkIGJ5IGEgY29tbWVudCwgd2hpY2ggaXMgYXNzaWduZWQgdG8gdGhlIGBsb2NhdGlvbmAgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBGb3IgU2hhZG93RE9NIGVsZW1lbnRzLCB0aGlzIHdpbGwgYmUgdGhlIG9yaWdpbmFsIGRlY2xhcmluZyBlbGVtZW50LCBOT1QgdGhlIHNoYWRvdyByb290ICh0aGUgc2hhZG93IHJvb3QgaXMgc3RvcmVkIG9uIHRoZSBgc2hhZG93Um9vdGAgcHJvcGVydHkpXG4gICAgICovXG4gICAgaG9zdCkge1xuICAgICAgICB0aGlzLnJvb3QgPSByb290O1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy52bUtpbmQgPSB2bUtpbmQ7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcbiAgICAgICAgdGhpcy52aWV3RmFjdG9yeSA9IHZpZXdGYWN0b3J5O1xuICAgICAgICB0aGlzLnZpZXdNb2RlbCA9IHZpZXdNb2RlbDtcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRJZCgnYXUkY29tcG9uZW50Jyk7XG4gICAgICAgIHRoaXMuaGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5iaW5kaW5ncyA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB0aGlzLmhhc0xvY2tlZFNjb3BlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTdHJpY3RCaW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBudWxsO1xuICAgICAgICB0aGlzLmhvc3RTY29wZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICAvLyBJZiBhIGhvc3QgZnJvbSBhbm90aGVyIGN1c3RvbSBlbGVtZW50IHdhcyBwYXNzZWQgaW4sIHRoZW4gdGhpcyB3aWxsIGJlIHRoZSBjb250cm9sbGVyIGZvciB0aGF0IGN1c3RvbSBlbGVtZW50IChjb3VsZCBiZSBgYXUtdmlld3BvcnRgIGZvciBleGFtcGxlKS5cbiAgICAgICAgLy8gSW4gdGhhdCBjYXNlLCB0aGlzIGNvbnRyb2xsZXIgd2lsbCBjcmVhdGUgYSBuZXcgaG9zdCBub2RlICh3aXRoIHRoZSBkZWZpbml0aW9uJ3MgbmFtZSkgYW5kIHVzZSB0aGF0IGFzIHRoZSB0YXJnZXQgaG9zdCBmb3IgdGhlIG5vZGVzIGluc3RlYWQuXG4gICAgICAgIC8vIFRoYXQgaG9zdCBub2RlIGlzIHNlcGFyYXRlbHkgbW91bnRlZCB0byB0aGUgaG9zdCBjb250cm9sbGVyJ3Mgb3JpZ2luYWwgaG9zdCBub2RlLlxuICAgICAgICB0aGlzLmhvc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5tb3VudFRhcmdldCA9IDAgLyogbm9uZSAqLztcbiAgICAgICAgdGhpcy5zaGFkb3dSb290ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub2RlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmxpZmVjeWNsZUhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDAgLyogbm9uZSAqLztcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZnVsbHlOYW1lZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLiRpbml0aWF0b3IgPSBudWxsO1xuICAgICAgICB0aGlzLiRmbGFncyA9IDAgLyogbm9uZSAqLztcbiAgICAgICAgdGhpcy4kcmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy4kcmVqZWN0ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLiRwcm9taXNlID0gdm9pZCAwO1xuICAgICAgICB0aGlzLmFjdGl2YXRpbmdTdGFjayA9IDA7XG4gICAgICAgIHRoaXMuZGV0YWNoaW5nU3RhY2sgPSAwO1xuICAgICAgICB0aGlzLnVuYmluZGluZ1N0YWNrID0gMDtcbiAgICAgICAgaWYgKHJvb3QgPT09IG51bGwgJiYgY29udGFpbmVyLmhhcyhJQXBwUm9vdCwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IGNvbnRhaW5lci5nZXQoSUFwcFJvb3QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBjb250YWluZXIuZ2V0KElQbGF0Zm9ybSk7XG4gICAgICAgIHN3aXRjaCAodm1LaW5kKSB7XG4gICAgICAgICAgICBjYXNlIDEgLyogY3VzdG9tQXR0cmlidXRlICovOlxuICAgICAgICAgICAgY2FzZSAwIC8qIGN1c3RvbUVsZW1lbnQgKi86XG4gICAgICAgICAgICAgICAgdGhpcy5ob29rcyA9IG5ldyBIb29rc0RlZmluaXRpb24odmlld01vZGVsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMiAvKiBzeW50aGV0aWMgKi86XG4gICAgICAgICAgICAgICAgdGhpcy5ob29rcyA9IEhvb2tzRGVmaW5pdGlvbi5ub25lO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXRlICYgKDEgLyogYWN0aXZhdGluZyAqLyB8IDIgLyogYWN0aXZhdGVkICovKSkgPiAwICYmICh0aGlzLnN0YXRlICYgNCAvKiBkZWFjdGl2YXRpbmcgKi8pID09PSAwO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy52bUtpbmQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogY3VzdG9tQXR0cmlidXRlICovOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFske3RoaXMuZGVmaW5pdGlvbi5uYW1lfV1gO1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBjdXN0b21FbGVtZW50ICovOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9uLm5hbWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyIC8qIHN5bnRoZXRpYyAqLzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld0ZhY3RvcnkubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMudm1LaW5kKSB7XG4gICAgICAgICAgICBjYXNlIDEgLyogY3VzdG9tQXR0cmlidXRlICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLnBhcmVudC5uYW1lfT5bJHt0aGlzLmRlZmluaXRpb24ubmFtZX1dYDtcbiAgICAgICAgICAgIGNhc2UgMCAvKiBjdXN0b21FbGVtZW50ICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLnBhcmVudC5uYW1lfT4ke3RoaXMuZGVmaW5pdGlvbi5uYW1lfWA7XG4gICAgICAgICAgICBjYXNlIDIgLyogc3ludGhldGljICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdGYWN0b3J5Lm5hbWUgPT09ICgoX2EgPSB0aGlzLnBhcmVudC5kZWZpbml0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgPyBgJHt0aGlzLnBhcmVudC5uYW1lfVt2aWV3XWBcbiAgICAgICAgICAgICAgICAgICAgOiBgJHt0aGlzLnBhcmVudC5uYW1lfVt2aWV3OiR7dGhpcy52aWV3RmFjdG9yeS5uYW1lfV1gO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXRDYWNoZWQodmlld01vZGVsKSB7XG4gICAgICAgIHJldHVybiBjb250cm9sbGVyTG9va3VwLmdldCh2aWV3TW9kZWwpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0Q2FjaGVkT3JUaHJvdyh2aWV3TW9kZWwpIHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IENvbnRyb2xsZXIuZ2V0Q2FjaGVkKHZpZXdNb2RlbCk7XG4gICAgICAgIGlmIChjb250cm9sbGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gY2FjaGVkIGNvbnRyb2xsZXIgZm9yIHRoZSBwcm92aWRlZCBWaWV3TW9kZWw6ICR7U3RyaW5nKHZpZXdNb2RlbCl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXI7XG4gICAgfVxuICAgIHN0YXRpYyBmb3JDdXN0b21FbGVtZW50KHJvb3QsIGNvbnRhaW5lciwgdmlld01vZGVsLCBob3N0LCBcbiAgICAvLyBwcm9qZWN0aW9ucyAqdGFyZ2V0ZWQqIGZvciB0aGlzIGN1c3RvbSBlbGVtZW50LiB0aGVzZSBhcmUgbm90IHRoZSBwcm9qZWN0aW9ucyAqcHJvdmlkZWQqIGJ5IHRoaXMgY3VzdG9tIGVsZW1lbnQuXG4gICAgdGFyZ2V0ZWRQcm9qZWN0aW9ucywgZmxhZ3MgPSAwIC8qIG5vbmUgKi8sIGh5ZHJhdGUgPSB0cnVlLCBcbiAgICAvLyBVc2UgdGhpcyB3aGVuIGBpbnN0YW5jZS5jb25zdHJ1Y3RvcmAgaXMgbm90IGEgY3VzdG9tIGVsZW1lbnQgdHlwZSB0byBwYXNzIG9uIHRoZSBDdXN0b21FbGVtZW50IGRlZmluaXRpb25cbiAgICBkZWZpbml0aW9uID0gdm9pZCAwKSB7XG4gICAgICAgIGlmIChjb250cm9sbGVyTG9va3VwLmhhcyh2aWV3TW9kZWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udHJvbGxlckxvb2t1cC5nZXQodmlld01vZGVsKTtcbiAgICAgICAgfVxuICAgICAgICBkZWZpbml0aW9uID0gZGVmaW5pdGlvbiAhPT0gbnVsbCAmJiBkZWZpbml0aW9uICE9PSB2b2lkIDAgPyBkZWZpbml0aW9uIDogQ3VzdG9tRWxlbWVudC5nZXREZWZpbml0aW9uKHZpZXdNb2RlbC5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcihcbiAgICAgICAgLyogcm9vdCAgICAgICAgICAgKi8gcm9vdCwgXG4gICAgICAgIC8qIGNvbnRhaW5lciAgICAgICovIGNvbnRhaW5lciwgMCAvKiBjdXN0b21FbGVtZW50ICovLCBcbiAgICAgICAgLyogZmxhZ3MgICAgICAgICAgKi8gZmxhZ3MsIFxuICAgICAgICAvKiBkZWZpbml0aW9uICAgICAqLyBkZWZpbml0aW9uLCBcbiAgICAgICAgLyogdmlld0ZhY3RvcnkgICAgKi8gbnVsbCwgXG4gICAgICAgIC8qIHZpZXdNb2RlbCAgICAgICovIHZpZXdNb2RlbCwgXG4gICAgICAgIC8qIGhvc3QgICAgICAgICAgICovIGhvc3QpO1xuICAgICAgICBjb250cm9sbGVyTG9va3VwLnNldCh2aWV3TW9kZWwsIGNvbnRyb2xsZXIpO1xuICAgICAgICBpZiAoaHlkcmF0ZSkge1xuICAgICAgICAgICAgY29udHJvbGxlci5oeWRyYXRlQ3VzdG9tRWxlbWVudChjb250YWluZXIsIHRhcmdldGVkUHJvamVjdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250cm9sbGVyO1xuICAgIH1cbiAgICBzdGF0aWMgZm9yQ3VzdG9tQXR0cmlidXRlKHJvb3QsIGNvbnRhaW5lciwgdmlld01vZGVsLCBob3N0LCBmbGFncyA9IDAgLyogbm9uZSAqLykge1xuICAgICAgICBpZiAoY29udHJvbGxlckxvb2t1cC5oYXModmlld01vZGVsKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXJMb29rdXAuZ2V0KHZpZXdNb2RlbCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IEN1c3RvbUF0dHJpYnV0ZS5nZXREZWZpbml0aW9uKHZpZXdNb2RlbC5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcihcbiAgICAgICAgLyogcm9vdCAgICAgICAgICAgKi8gcm9vdCwgXG4gICAgICAgIC8qIGNvbnRhaW5lciAgICAgICovIGNvbnRhaW5lciwgMSAvKiBjdXN0b21BdHRyaWJ1dGUgKi8sIFxuICAgICAgICAvKiBmbGFncyAgICAgICAgICAqLyBmbGFncywgXG4gICAgICAgIC8qIGRlZmluaXRpb24gICAgICovIGRlZmluaXRpb24sIFxuICAgICAgICAvKiB2aWV3RmFjdG9yeSAgICAqLyBudWxsLCBcbiAgICAgICAgLyogdmlld01vZGVsICAgICAgKi8gdmlld01vZGVsLCBcbiAgICAgICAgLyogaG9zdCAgICAgICAgICAgKi8gaG9zdCk7XG4gICAgICAgIGNvbnRyb2xsZXJMb29rdXAuc2V0KHZpZXdNb2RlbCwgY29udHJvbGxlcik7XG4gICAgICAgIGNvbnRyb2xsZXIuaHlkcmF0ZUN1c3RvbUF0dHJpYnV0ZSgpO1xuICAgICAgICByZXR1cm4gY29udHJvbGxlcjtcbiAgICB9XG4gICAgc3RhdGljIGZvclN5bnRoZXRpY1ZpZXcocm9vdCwgY29udGV4dCwgdmlld0ZhY3RvcnksIGZsYWdzID0gMCAvKiBub25lICovLCBwYXJlbnRDb250cm9sbGVyID0gdm9pZCAwKSB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcihcbiAgICAgICAgLyogcm9vdCAgICAgICAgICAgKi8gcm9vdCwgXG4gICAgICAgIC8qIGNvbnRhaW5lciAgICAgICovIGNvbnRleHQsIDIgLyogc3ludGhldGljICovLCBcbiAgICAgICAgLyogZmxhZ3MgICAgICAgICAgKi8gZmxhZ3MsIFxuICAgICAgICAvKiBkZWZpbml0aW9uICAgICAqLyBudWxsLCBcbiAgICAgICAgLyogdmlld0ZhY3RvcnkgICAgKi8gdmlld0ZhY3RvcnksIFxuICAgICAgICAvKiB2aWV3TW9kZWwgICAgICAqLyBudWxsLCBcbiAgICAgICAgLyogaG9zdCAgICAgICAgICAgKi8gbnVsbCk7XG4gICAgICAgIGNvbnRyb2xsZXIucGFyZW50ID0gcGFyZW50Q29udHJvbGxlciAhPT0gbnVsbCAmJiBwYXJlbnRDb250cm9sbGVyICE9PSB2b2lkIDAgPyBwYXJlbnRDb250cm9sbGVyIDogbnVsbDtcbiAgICAgICAgY29udHJvbGxlci5oeWRyYXRlU3ludGhldGljKGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gY29udHJvbGxlcjtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGh5ZHJhdGVDdXN0b21FbGVtZW50KHBhcmVudENvbnRhaW5lciwgdGFyZ2V0ZWRQcm9qZWN0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gcGFyZW50Q29udGFpbmVyLmdldChJTG9nZ2VyKS5yb290O1xuICAgICAgICB0aGlzLmRlYnVnID0gdGhpcy5sb2dnZXIuY29uZmlnLmxldmVsIDw9IDEgLyogZGVidWcgKi87XG4gICAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlciA9IHRoaXMubG9nZ2VyLnNjb3BlVG8odGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGVmaW5pdGlvbiA9IHRoaXMuZGVmaW5pdGlvbjtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSB0aGlzLmZsYWdzO1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMudmlld01vZGVsO1xuICAgICAgICB0aGlzLnNjb3BlID0gU2NvcGUuY3JlYXRlKGluc3RhbmNlLCBudWxsLCB0cnVlKTtcbiAgICAgICAgaWYgKGRlZmluaXRpb24ud2F0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjcmVhdGVXYXRjaGVycyh0aGlzLCB0aGlzLmNvbnRhaW5lciwgZGVmaW5pdGlvbiwgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZU9ic2VydmVycyh0aGlzLCBkZWZpbml0aW9uLCBmbGFncywgaW5zdGFuY2UpO1xuICAgICAgICBjcmVhdGVDaGlsZHJlbk9ic2VydmVycyh0aGlzLCBkZWZpbml0aW9uLCBmbGFncywgaW5zdGFuY2UpO1xuICAgICAgICBpZiAodGhpcy5ob29rcy5oYXNEZWZpbmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGludm9raW5nIGRlZmluZSgpIGhvb2tgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGluc3RhbmNlLmRlZmluZShcbiAgICAgICAgICAgIC8qIGNvbnRyb2xsZXIgICAgICAqLyB0aGlzLCBcbiAgICAgICAgICAgIC8qIHBhcmVudENvbnRhaW5lciAqLyBwYXJlbnRDb250YWluZXIsIFxuICAgICAgICAgICAgLyogZGVmaW5pdGlvbiAgICAgICovIGRlZmluaXRpb24pO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdm9pZCAwICYmIHJlc3VsdCAhPT0gZGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb24gPSBDdXN0b21FbGVtZW50RGVmaW5pdGlvbi5nZXRPckNyZWF0ZShyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQgPSBnZXRSZW5kZXJDb250ZXh0KGRlZmluaXRpb24sIHBhcmVudENvbnRhaW5lciwgdGFyZ2V0ZWRQcm9qZWN0aW9ucyA9PT0gbnVsbCB8fCB0YXJnZXRlZFByb2plY3Rpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YXJnZXRlZFByb2plY3Rpb25zLnByb2plY3Rpb25zKTtcbiAgICAgICAgdGhpcy5saWZlY3ljbGVIb29rcyA9IExpZmVjeWNsZUhvb2tzLnJlc29sdmUoY29udGV4dCk7XG4gICAgICAgIC8vIFN1cHBvcnQgUmVjdXJzaXZlIENvbXBvbmVudHMgYnkgYWRkaW5nIHNlbGYgdG8gb3duIGNvbnRleHRcbiAgICAgICAgZGVmaW5pdGlvbi5yZWdpc3Rlcihjb250ZXh0KTtcbiAgICAgICAgaWYgKGRlZmluaXRpb24uaW5qZWN0YWJsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgcmVnaXN0ZXJlZCBhcyBpbmplY3RhYmxlLCBzdXBwb3J0IGluamVjdGluZyB0aGUgaW5zdGFuY2UgaW50byBjaGlsZHJlblxuICAgICAgICAgICAgY29udGV4dC5iZWdpbkNoaWxkQ29tcG9uZW50T3BlcmF0aW9uKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSByb290IGNvbnRyb2xsZXIsIHRoZW4gdGhlIEFwcFJvb3Qgd2lsbCBpbnZva2UgdGhpbmdzIGluIHRoZSBmb2xsb3dpbmcgb3JkZXI6XG4gICAgICAgIC8vIC0gQ29udHJvbGxlci5oeWRyYXRlQ3VzdG9tRWxlbWVudFxuICAgICAgICAvLyAtIHJ1bkFwcFRhc2tzKCdoeWRyYXRpbmcnKSAvLyBtYXkgcmV0dXJuIGEgcHJvbWlzZVxuICAgICAgICAvLyAtIENvbnRyb2xsZXIuY29tcGlsZVxuICAgICAgICAvLyAtIHJ1bkFwcFRhc2tzKCdoeWRyYXRlZCcpIC8vIG1heSByZXR1cm4gYSBwcm9taXNlXG4gICAgICAgIC8vIC0gQ29udHJvbGxlci5jb21waWxlQ2hpbGRyZW5cbiAgICAgICAgLy8gVGhpcyBrZWVwcyBoeWRyYXRpb24gc3luY2hyb25vdXMgd2hpbGUgc3RpbGwgYWxsb3dpbmcgdGhlIGNvbXBvc2l0aW9uIHJvb3QgY29tcGlsZSBob29rcyB0byBkbyBhc3luYyB3b3JrLlxuICAgICAgICBpZiAoKChfYSA9IHRoaXMucm9vdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRyb2xsZXIpICE9PSB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzLmh5ZHJhdGUodGFyZ2V0ZWRQcm9qZWN0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmh5ZHJhdGVDaGlsZHJlbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBoeWRyYXRlKHRhcmdldGVkUHJvamVjdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuaG9va3MuaGFzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBpbnZva2luZyBoYXNIeWRyYXRpbmcoKSBob29rYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5oeWRyYXRpbmcodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcGlsZWRDb250ZXh0ID0gdGhpcy5jb250ZXh0LmNvbXBpbGUodGFyZ2V0ZWRQcm9qZWN0aW9ucyk7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbnNNYXAsIHNoYWRvd09wdGlvbnMsIGlzU3RyaWN0QmluZGluZywgaGFzU2xvdHMsIGNvbnRhaW5lcmxlc3MgfSA9IGNvbXBpbGVkQ29udGV4dC5jb21waWxlZERlZmluaXRpb247XG4gICAgICAgIGNvbXBpbGVkQ29udGV4dC5yZWdpc3RlclByb2plY3Rpb25zKHByb2plY3Rpb25zTWFwLCB0aGlzLnNjb3BlKTtcbiAgICAgICAgLy8gb25jZSB0aGUgcHJvamVjdGlvbnMgYXJlIHJlZ2lzdGVyZWQsIHdlIGNhbiBjbGVhbnVwIHRoZSBwcm9qZWN0aW9uIG1hcCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcy5cbiAgICAgICAgcHJvamVjdGlvbnNNYXAuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5pc1N0cmljdEJpbmRpbmcgPSBpc1N0cmljdEJpbmRpbmc7XG4gICAgICAgIGlmICgodGhpcy5ob3N0Q29udHJvbGxlciA9IEN1c3RvbUVsZW1lbnQuZm9yKHRoaXMuaG9zdCwgb3B0aW9uYWwpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ob3N0ID0gdGhpcy5wbGF0Zm9ybS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuY29udGV4dC5kZWZpbml0aW9uLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldFJlZih0aGlzLmhvc3QsIEN1c3RvbUVsZW1lbnQubmFtZSwgdGhpcyk7XG4gICAgICAgIHNldFJlZih0aGlzLmhvc3QsIHRoaXMuZGVmaW5pdGlvbi5rZXksIHRoaXMpO1xuICAgICAgICBpZiAoc2hhZG93T3B0aW9ucyAhPT0gbnVsbCB8fCBoYXNTbG90cykge1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lcmxlc3MpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBjYW5ub3QgY29tYmluZSB0aGUgY29udGFpbmVybGVzcyBjdXN0b20gZWxlbWVudCBvcHRpb24gd2l0aCBTaGFkb3cgRE9NLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UmVmKHRoaXMuc2hhZG93Um9vdCA9IHRoaXMuaG9zdC5hdHRhY2hTaGFkb3coc2hhZG93T3B0aW9ucyAhPT0gbnVsbCAmJiBzaGFkb3dPcHRpb25zICE9PSB2b2lkIDAgPyBzaGFkb3dPcHRpb25zIDogZGVmYXVsdFNoYWRvd09wdGlvbnMpLCBDdXN0b21FbGVtZW50Lm5hbWUsIHRoaXMpO1xuICAgICAgICAgICAgc2V0UmVmKHRoaXMuc2hhZG93Um9vdCwgdGhpcy5kZWZpbml0aW9uLmtleSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLm1vdW50VGFyZ2V0ID0gMiAvKiBzaGFkb3dSb290ICovO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lcmxlc3MpIHtcbiAgICAgICAgICAgIHNldFJlZih0aGlzLmxvY2F0aW9uID0gY29udmVydFRvUmVuZGVyTG9jYXRpb24odGhpcy5ob3N0KSwgQ3VzdG9tRWxlbWVudC5uYW1lLCB0aGlzKTtcbiAgICAgICAgICAgIHNldFJlZih0aGlzLmxvY2F0aW9uLCB0aGlzLmRlZmluaXRpb24ua2V5LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMubW91bnRUYXJnZXQgPSAzIC8qIGxvY2F0aW9uICovO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3VudFRhcmdldCA9IDEgLyogaG9zdCAqLztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdNb2RlbC4kY29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgIHRoaXMubm9kZXMgPSBjb21waWxlZENvbnRleHQuY3JlYXRlTm9kZXMoKTtcbiAgICAgICAgaWYgKHRoaXMuaG9va3MuaGFzSHlkcmF0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGludm9raW5nIGhhc0h5ZHJhdGVkKCkgaG9va2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuaHlkcmF0ZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGh5ZHJhdGVDaGlsZHJlbigpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHRoaXMubm9kZXMuZmluZFRhcmdldHMoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LnJlbmRlcihcbiAgICAgICAgLyogZmxhZ3MgICAgICAqLyB0aGlzLmZsYWdzLCBcbiAgICAgICAgLyogY29udHJvbGxlciAqLyB0aGlzLCBcbiAgICAgICAgLyogdGFyZ2V0cyAgICAqLyB0YXJnZXRzLCBcbiAgICAgICAgLyogZGVmaW5pdGlvbiAqLyB0aGlzLmNvbnRleHQuY29tcGlsZWREZWZpbml0aW9uLCBcbiAgICAgICAgLyogaG9zdCAgICAgICAqLyB0aGlzLmhvc3QpO1xuICAgICAgICBpZiAodGhpcy5ob29rcy5oYXNDcmVhdGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBpbnZva2luZyBjcmVhdGVkKCkgaG9va2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuY3JlYXRlZCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoeWRyYXRlQ3VzdG9tQXR0cmlidXRlKCkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gdGhpcy5kZWZpbml0aW9uO1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMudmlld01vZGVsO1xuICAgICAgICBpZiAoZGVmaW5pdGlvbi53YXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNyZWF0ZVdhdGNoZXJzKHRoaXMsIHRoaXMuY29udGFpbmVyLCBkZWZpbml0aW9uLCBpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlT2JzZXJ2ZXJzKHRoaXMsIGRlZmluaXRpb24sIHRoaXMuZmxhZ3MsIGluc3RhbmNlKTtcbiAgICAgICAgaW5zdGFuY2UuJGNvbnRyb2xsZXIgPSB0aGlzO1xuICAgICAgICB0aGlzLmxpZmVjeWNsZUhvb2tzID0gTGlmZWN5Y2xlSG9va3MucmVzb2x2ZSh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIGlmICh0aGlzLmhvb2tzLmhhc0NyZWF0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGludm9raW5nIGNyZWF0ZWQoKSBob29rYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5jcmVhdGVkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGh5ZHJhdGVTeW50aGV0aWMoY29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBjb21waWxlZENvbnRleHQgPSBjb250ZXh0LmNvbXBpbGUobnVsbCk7XG4gICAgICAgIGNvbnN0IGNvbXBpbGVkRGVmaW5pdGlvbiA9IGNvbXBpbGVkQ29udGV4dC5jb21waWxlZERlZmluaXRpb247XG4gICAgICAgIHRoaXMuaXNTdHJpY3RCaW5kaW5nID0gY29tcGlsZWREZWZpbml0aW9uLmlzU3RyaWN0QmluZGluZztcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzLm5vZGVzID0gY29tcGlsZWRDb250ZXh0LmNyZWF0ZU5vZGVzKCk7XG4gICAgICAgIGNvbnN0IHRhcmdldHMgPSBub2Rlcy5maW5kVGFyZ2V0cygpO1xuICAgICAgICBjb21waWxlZENvbnRleHQucmVuZGVyKFxuICAgICAgICAvKiBmbGFncyAgICAgICovIHRoaXMuZmxhZ3MsIFxuICAgICAgICAvKiBjb250cm9sbGVyICovIHRoaXMsIFxuICAgICAgICAvKiB0YXJnZXRzICAgICovIHRhcmdldHMsIFxuICAgICAgICAvKiBkZWZpbml0aW9uICovIGNvbXBpbGVkRGVmaW5pdGlvbiwgXG4gICAgICAgIC8qIGhvc3QgICAgICAgKi8gdm9pZCAwKTtcbiAgICB9XG4gICAgYWN0aXZhdGUoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIG5vbmUgKi86XG4gICAgICAgICAgICBjYXNlIDggLyogZGVhY3RpdmF0ZWQgKi86XG4gICAgICAgICAgICAgICAgaWYgKCEocGFyZW50ID09PSBudWxsIHx8IHBhcmVudC5pc0FjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBub3QgdGhlIHJvb3QsIGFuZCB0aGUgcGFyZW50IGlzIGVpdGhlcjpcbiAgICAgICAgICAgICAgICAgICAgLy8gMS4gTm90IGFjdGl2YXRlZCwgb3IgYWN0aXZhdGluZyBjaGlsZHJlbiBPUlxuICAgICAgICAgICAgICAgICAgICAvLyAyLiBEZWFjdGl2YXRpbmcgaXRzZWxmXG4gICAgICAgICAgICAgICAgICAgIC8vIGFib3J0LlxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgcHJvY2VlZCBub3JtYWxseS5cbiAgICAgICAgICAgICAgICAvLyAnZGVhY3RpdmF0ZWQnIGFuZCAnbm9uZScgYXJlIHRyZWF0ZWQgdGhlIHNhbWUgYmVjYXVzZSwgZnJvbSBhbiBhY3RpdmF0aW9uIHBlcnNwZWN0aXZlLCB0aGV5IG1lYW4gdGhlIHNhbWUgdGhpbmcuXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDEgLyogYWN0aXZhdGluZyAqLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMiAvKiBhY3RpdmF0ZWQgKi86XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgYWxyZWFkeSBhY3RpdmF0ZWQsIG5vIG5lZWQgdG8gZG8gYW55dGhpbmcuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAzMiAvKiBkaXNwb3NlZCAqLzpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5uYW1lfSB0cnlpbmcgdG8gYWN0aXZhdGUgYSBjb250cm9sbGVyIHRoYXQgaXMgZGlzcG9zZWQuYCk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt0aGlzLm5hbWV9IHVuZXhwZWN0ZWQgc3RhdGU6ICR7c3RyaW5naWZ5U3RhdGUodGhpcy5zdGF0ZSl9LmApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBpZiAodGhpcy5kZWJ1ZyAmJiAhdGhpcy5mdWxseU5hbWVkKSB7XG4gICAgICAgICAgICB0aGlzLmZ1bGx5TmFtZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIgPSB0aGlzLmNvbnRleHQuZ2V0KElMb2dnZXIpLnJvb3Quc2NvcGVUbyh0aGlzLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGFjdGl2YXRlKClgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvc3RTY29wZSA9IGhvc3RTY29wZSAhPT0gbnVsbCAmJiBob3N0U2NvcGUgIT09IHZvaWQgMCA/IGhvc3RTY29wZSA6IG51bGw7XG4gICAgICAgIGZsYWdzIHw9IDIgLyogZnJvbUJpbmQgKi87XG4gICAgICAgIHN3aXRjaCAodGhpcy52bUtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgMCAvKiBjdXN0b21FbGVtZW50ICovOlxuICAgICAgICAgICAgICAgIC8vIEN1c3RvbSBlbGVtZW50IHNjb3BlIGlzIGNyZWF0ZWQgYW5kIGFzc2lnbmVkIGR1cmluZyBoeWRyYXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLnNjb3BlLnBhcmVudFNjb3BlID0gc2NvcGUgIT09IG51bGwgJiYgc2NvcGUgIT09IHZvaWQgMCA/IHNjb3BlIDogbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMSAvKiBjdXN0b21BdHRyaWJ1dGUgKi86XG4gICAgICAgICAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlICE9PSBudWxsICYmIHNjb3BlICE9PSB2b2lkIDAgPyBzY29wZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDIgLyogc3ludGhldGljICovOlxuICAgICAgICAgICAgICAgIGlmIChzY29wZSA9PT0gdm9pZCAwIHx8IHNjb3BlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2NvcGUgaXMgbnVsbCBvciB1bmRlZmluZWRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc0xvY2tlZFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNTdHJpY3RCaW5kaW5nKSB7XG4gICAgICAgICAgICBmbGFncyB8PSAxIC8qIGlzU3RyaWN0QmluZGluZ1N0cmF0ZWd5ICovO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJGluaXRpYXRvciA9IGluaXRpYXRvcjtcbiAgICAgICAgdGhpcy4kZmxhZ3MgPSBmbGFncztcbiAgICAgICAgLy8gb3Bwb3NpbmcgbGVhdmUgaXMgY2FsbGVkIGluIGF0dGFjaCgpICh3aGljaCB3aWxsIHRyaWdnZXIgYXR0YWNoZWQoKSlcbiAgICAgICAgdGhpcy5lbnRlckFjdGl2YXRpbmcoKTtcbiAgICAgICAgaWYgKHRoaXMuaG9va3MuaGFzQmluZGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgYmluZGluZygpYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXQgPSB0aGlzLnZpZXdNb2RlbC5iaW5kaW5nKHRoaXMuJGluaXRpYXRvciwgdGhpcy5wYXJlbnQsIHRoaXMuJGZsYWdzKTtcbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnN1cmVQcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgcmV0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRwcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmluZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy4kcHJvbWlzZTtcbiAgICB9XG4gICAgYmluZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBiaW5kKClgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iaW5kaW5ncyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJpbmRpbmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kaW5nc1tpXS4kYmluZCh0aGlzLiRmbGFncywgdGhpcy5zY29wZSwgdGhpcy5ob3N0U2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhvb2tzLmhhc0JvdW5kKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBib3VuZCgpYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXQgPSB0aGlzLnZpZXdNb2RlbC5ib3VuZCh0aGlzLiRpbml0aWF0b3IsIHRoaXMucGFyZW50LCB0aGlzLiRmbGFncyk7XG4gICAgICAgICAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5zdXJlUHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgIHJldC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2goKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQm91bmQgPSB0cnVlO1xuICAgICAgICB0aGlzLmF0dGFjaCgpO1xuICAgIH1cbiAgICBhcHBlbmQoLi4ubm9kZXMpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLm1vdW50VGFyZ2V0KSB7XG4gICAgICAgICAgICBjYXNlIDEgLyogaG9zdCAqLzpcbiAgICAgICAgICAgICAgICB0aGlzLmhvc3QuYXBwZW5kKC4uLm5vZGVzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMiAvKiBzaGFkb3dSb290ICovOlxuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5hcHBlbmQoLi4ubm9kZXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzIC8qIGxvY2F0aW9uICovOlxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2Rlc1tpXSwgdGhpcy5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGF0dGFjaCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGF0dGFjaCgpYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaG9zdENvbnRyb2xsZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5tb3VudFRhcmdldCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBob3N0ICovOlxuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBzaGFkb3dSb290ICovOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvc3RDb250cm9sbGVyLmFwcGVuZCh0aGlzLmhvc3QpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDMgLyogbG9jYXRpb24gKi86XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG9zdENvbnRyb2xsZXIuYXBwZW5kKHRoaXMubG9jYXRpb24uJHN0YXJ0LCB0aGlzLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLm1vdW50VGFyZ2V0KSB7XG4gICAgICAgICAgICBjYXNlIDEgLyogaG9zdCAqLzpcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLmFwcGVuZFRvKHRoaXMuaG9zdCwgKF9hID0gdGhpcy5kZWZpbml0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW5oYW5jZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDIgLyogc2hhZG93Um9vdCAqLzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IHRoaXMuY29udGV4dC5oYXMoSVNoYWRvd0RPTVN0eWxlcywgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5jb250ZXh0LmdldChJU2hhZG93RE9NU3R5bGVzKVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY29udGV4dC5nZXQoSVNoYWRvd0RPTUdsb2JhbFN0eWxlcyk7XG4gICAgICAgICAgICAgICAgc3R5bGVzLmFwcGx5VG8odGhpcy5zaGFkb3dSb290KTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLmFwcGVuZFRvKHRoaXMuc2hhZG93Um9vdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDMgLyogbG9jYXRpb24gKi86XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5pbnNlcnRCZWZvcmUodGhpcy5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaG9va3MuaGFzQXR0YWNoaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBhdHRhY2hpbmcoKWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmV0ID0gdGhpcy52aWV3TW9kZWwuYXR0YWNoaW5nKHRoaXMuJGluaXRpYXRvciwgdGhpcy5wYXJlbnQsIHRoaXMuJGZsYWdzKTtcbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnN1cmVQcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRlckFjdGl2YXRpbmcoKTtcbiAgICAgICAgICAgICAgICByZXQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGVhdmVBY3RpdmF0aW5nKCk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhdHRhY2hpbmcoKSBhbmQgY2hpbGQgYWN0aXZhdGlvbiBydW4gaW4gcGFyYWxsZWwsIGFuZCBhdHRhY2hlZCgpIGlzIGNhbGxlZCB3aGVuIGJvdGggYXJlIGZpbmlzaGVkXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBBbnkgcHJvbWlzZXMgcmV0dXJuZWQgZnJvbSBjaGlsZCBhY3RpdmF0aW9uIGFyZSBjdW11bGF0aXZlbHkgYXdhaXRlZCBiZWZvcmUgdGhpcy4kcHJvbWlzZSByZXNvbHZlc1xuICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5jaGlsZHJlbltpXS5hY3RpdmF0ZSh0aGlzLiRpbml0aWF0b3IsIHRoaXMsIHRoaXMuJGZsYWdzLCB0aGlzLnNjb3BlLCB0aGlzLmhvc3RTY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXR0YWNoZWQoKSBpcyBpbnZva2VkIGJ5IENvbnRyb2xsZXIjbGVhdmVBY3RpdmF0aW5nIHdoZW4gYGFjdGl2YXRpbmdTdGFja2AgcmVhY2hlcyAwXG4gICAgICAgIHRoaXMubGVhdmVBY3RpdmF0aW5nKCk7XG4gICAgfVxuICAgIGRlYWN0aXZhdGUoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgIHN3aXRjaCAoKHRoaXMuc3RhdGUgJiB+MTYgLyogcmVsZWFzZWQgKi8pKSB7XG4gICAgICAgICAgICBjYXNlIDIgLyogYWN0aXZhdGVkICovOlxuICAgICAgICAgICAgICAgIC8vIFdlJ3JlIGZ1bGx5IGFjdGl2YXRlZCwgc28gcHJvY2VlZCB3aXRoIG5vcm1hbCBkZWFjdGl2YXRpb24uXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDQgLyogZGVhY3RpdmF0aW5nICovO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAwIC8qIG5vbmUgKi86XG4gICAgICAgICAgICBjYXNlIDggLyogZGVhY3RpdmF0ZWQgKi86XG4gICAgICAgICAgICBjYXNlIDMyIC8qIGRpc3Bvc2VkICovOlxuICAgICAgICAgICAgY2FzZSA4IC8qIGRlYWN0aXZhdGVkICovIHwgMzIgLyogZGlzcG9zZWQgKi86XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgYWxyZWFkeSBkZWFjdGl2YXRlZCAob3IgZXZlbiBkaXNwb3NlZCksIG9yIG5ldmVyIGFjdGl2YXRlZCBpbiB0aGUgZmlyc3QgcGxhY2UsIG5vIG5lZWQgdG8gZG8gYW55dGhpbmcuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5uYW1lfSB1bmV4cGVjdGVkIHN0YXRlOiAke3N0cmluZ2lmeVN0YXRlKHRoaXMuc3RhdGUpfS5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGRlYWN0aXZhdGUoKWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJGluaXRpYXRvciA9IGluaXRpYXRvcjtcbiAgICAgICAgdGhpcy4kZmxhZ3MgPSBmbGFncztcbiAgICAgICAgaWYgKGluaXRpYXRvciA9PT0gdGhpcykge1xuICAgICAgICAgICAgdGhpcy5lbnRlckRldGFjaGluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGlsZCBwcm9taXNlIHJlc3VsdHMgYXJlIHRyYWNrZWQgYnkgZW50ZXIvbGVhdmUgY29tYm8nc1xuICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5jaGlsZHJlbltpXS5kZWFjdGl2YXRlKGluaXRpYXRvciwgdGhpcywgZmxhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhvb2tzLmhhc0RldGFjaGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgZGV0YWNoaW5nKClgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHRoaXMudmlld01vZGVsLmRldGFjaGluZyh0aGlzLiRpbml0aWF0b3IsIHRoaXMucGFyZW50LCB0aGlzLiRmbGFncyk7XG4gICAgICAgICAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5zdXJlUHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgIGluaXRpYXRvci5lbnRlckRldGFjaGluZygpO1xuICAgICAgICAgICAgICAgIHJldC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhdG9yLmxlYXZlRGV0YWNoaW5nKCk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhdG9yLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGU6IGlmIGEgM3JkIHBhcnR5IHBsdWdpbiBoYXBwZW5zIHRvIGRvIGFueSBhc3luYyBzdHVmZiBpbiBhIHRlbXBsYXRlIGNvbnRyb2xsZXIgYmVmb3JlIGNhbGxpbmcgZGVhY3RpdmF0ZSBvbiBpdHMgdmlldyxcbiAgICAgICAgLy8gdGhlbiB0aGUgbGlua2luZyB3aWxsIGJlY29tZSBvdXQgb2Ygb3JkZXIuXG4gICAgICAgIC8vIEZvciBmcmFtZXdvcmsgY29tcG9uZW50cywgdGhpcyBzaG91bGRuJ3QgY2F1c2UgaXNzdWVzLlxuICAgICAgICAvLyBXZSBjYW4gb25seSBwcmV2ZW50IHRoYXQgYnkgbGlua2luZyB1cCBhZnRlciBhd2FpdGluZyB0aGUgZGV0YWNoaW5nIHByb21pc2UsIHdoaWNoIHdvdWxkIGFkZCBhbiBleHRyYSB0aWNrICsgYSBmYWlyIGJpdCBvZlxuICAgICAgICAvLyBvdmVyaGVhZCBvbiB0aGlzIGhvdCBwYXRoLCBzbyBpdCdzIChmb3Igbm93KSBhIGRlbGliZXJhdGUgY2hvaWNlIHRvIG5vdCBhY2NvdW50IGZvciBzdWNoIHNpdHVhdGlvbi5cbiAgICAgICAgLy8gSnVzdCBsZWF2aW5nIHRoZSBub3RlIGhlcmUgc28gdGhhdCB3ZSBrbm93IHRvIGxvb2sgaGVyZSBpZiBhIHdlaXJkIGRldGFjaGluZy1yZWxhdGVkIHRpbWluZyBpc3N1ZSBpcyBldmVyIHJlcG9ydGVkLlxuICAgICAgICBpZiAoaW5pdGlhdG9yLmhlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGluaXRpYXRvci5oZWFkID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluaXRpYXRvci50YWlsLm5leHQgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGluaXRpYXRvci50YWlsID0gdGhpcztcbiAgICAgICAgaWYgKGluaXRpYXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgLy8gT25seSBkZXRhY2hpbmcgaXMgY2FsbGVkICsgdGhlIGxpbmtlZCBsaXN0IGlzIGJ1aWx0IHdoZW4gYW55IGNvbnRyb2xsZXIgdGhhdCBpcyBub3QgdGhlIGluaXRpYXRvciwgaXMgZGVhY3RpdmF0ZWQuXG4gICAgICAgICAgICAvLyBUaGUgcmVzdCBpcyBoYW5kbGVkIGJ5IHRoZSBpbml0aWF0b3IuXG4gICAgICAgICAgICAvLyBUaGlzIG1lYW5zIHRoYXQgZGVzY2VuZGFudCBjb250cm9sbGVycyBoYXZlIHRvIG1ha2Ugc3VyZSB0byBhd2FpdCB0aGUgaW5pdGlhdG9yJ3MgcHJvbWlzZSBiZWZvcmUgZG9pbmcgYW55IHN1YnNlcXVlbnRcbiAgICAgICAgICAgIC8vIGNvbnRyb2xsZXIgYXBpIGNhbGxzLCBvciByYWNlIGNvbmRpdGlvbnMgbWlnaHQgb2NjdXIuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZWF2ZURldGFjaGluZygpO1xuICAgICAgICByZXR1cm4gdGhpcy4kcHJvbWlzZTtcbiAgICB9XG4gICAgcmVtb3ZlTm9kZXMoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy52bUtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgMCAvKiBjdXN0b21FbGVtZW50ICovOlxuICAgICAgICAgICAgY2FzZSAyIC8qIHN5bnRoZXRpYyAqLzpcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMudW5saW5rKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaG9zdENvbnRyb2xsZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5tb3VudFRhcmdldCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBob3N0ICovOlxuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBzaGFkb3dSb290ICovOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvc3QucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBsb2NhdGlvbiAqLzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbi4kc3RhcnQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb24ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVuYmluZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGB1bmJpbmQoKWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZsYWdzID0gdGhpcy4kZmxhZ3MgfCA0IC8qIGZyb21VbmJpbmQgKi87XG4gICAgICAgIGlmICh0aGlzLmJpbmRpbmdzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmluZGluZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJpbmRpbmdzW2ldLiR1bmJpbmQoZmxhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgc3dpdGNoICh0aGlzLnZtS2luZCkge1xuICAgICAgICAgICAgY2FzZSAxIC8qIGN1c3RvbUF0dHJpYnV0ZSAqLzpcbiAgICAgICAgICAgICAgICB0aGlzLnNjb3BlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMiAvKiBzeW50aGV0aWMgKi86XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc0xvY2tlZFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuc3RhdGUgJiAxNiAvKiByZWxlYXNlZCAqLykgPT09IDE2IC8qIHJlbGVhc2VkICovICYmXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnZpZXdGYWN0b3J5LnRyeVJldHVyblRvQ2FjaGUodGhpcykgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaW5pdGlhdG9yID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMCAvKiBjdXN0b21FbGVtZW50ICovOlxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcGUucGFyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZmxhZ3MgJiAzMiAvKiBkaXNwb3NlICovKSA9PT0gMzIgLyogZGlzcG9zZSAqLyAmJiB0aGlzLiRpbml0aWF0b3IgPT09IHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSAodGhpcy5zdGF0ZSAmIDMyIC8qIGRpc3Bvc2VkICovKSB8IDggLyogZGVhY3RpdmF0ZWQgKi87XG4gICAgICAgIHRoaXMuJGluaXRpYXRvciA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBlbnN1cmVQcm9taXNlKCkge1xuICAgICAgICBpZiAodGhpcy4kcHJvbWlzZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aGlzLiRwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuJHJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIHRoaXMuJHJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuJGluaXRpYXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVuc3VyZVByb21pc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNvbHZlKCkge1xuICAgICAgICBpZiAodGhpcy4kcHJvbWlzZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gdGhpcy4kcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMuJHJlc29sdmUgPSB0aGlzLiRyZWplY3QgPSB0aGlzLiRwcm9taXNlID0gdm9pZCAwO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlamVjdChlcnIpIHtcbiAgICAgICAgaWYgKHRoaXMuJHByb21pc2UgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uc3QgcmVqZWN0ID0gdGhpcy4kcmVqZWN0O1xuICAgICAgICAgICAgdGhpcy4kcmVzb2x2ZSA9IHRoaXMuJHJlamVjdCA9IHRoaXMuJHByb21pc2UgPSB2b2lkIDA7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4kaW5pdGlhdG9yICE9PSB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbnRlckFjdGl2YXRpbmcoKSB7XG4gICAgICAgICsrdGhpcy5hY3RpdmF0aW5nU3RhY2s7XG4gICAgICAgIGlmICh0aGlzLiRpbml0aWF0b3IgIT09IHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmVudGVyQWN0aXZhdGluZygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxlYXZlQWN0aXZhdGluZygpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5hY3RpdmF0aW5nU3RhY2sgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvb2tzLmhhc0F0dGFjaGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGF0dGFjaGVkKClgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0ID0gdGhpcy52aWV3TW9kZWwuYXR0YWNoZWQodGhpcy4kaW5pdGlhdG9yLCB0aGlzLiRmbGFncyk7XG4gICAgICAgICAgICAgICAgaWYgKHJldCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnN1cmVQcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyIC8qIGFjdGl2YXRlZCAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgdGhpcy4kcHJvbWlzZSwgc2lnbmFsaW5nIHRoYXQgYWN0aXZhdGlvbiBpcyBkb25lIChwYXRoIDEgb2YgMilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJGluaXRpYXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmxlYXZlQWN0aXZhdGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMiAvKiBhY3RpdmF0ZWQgKi87XG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRoaXMuJHByb21pc2UgKGlmIHByZXNlbnQpLCBzaWduYWxpbmcgdGhhdCBhY3RpdmF0aW9uIGlzIGRvbmUgKHBhdGggMiBvZiAyKVxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuJGluaXRpYXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQubGVhdmVBY3RpdmF0aW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW50ZXJEZXRhY2hpbmcoKSB7XG4gICAgICAgICsrdGhpcy5kZXRhY2hpbmdTdGFjaztcbiAgICB9XG4gICAgbGVhdmVEZXRhY2hpbmcoKSB7XG4gICAgICAgIGlmICgtLXRoaXMuZGV0YWNoaW5nU3RhY2sgPT09IDApIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgY29udHJvbGxlciBpcyB0aGUgaW5pdGlhdG9yIChkZXRhY2ggaXMgb25seSBldmVyIGNhbGxlZCBvbiB0aGUgaW5pdGlhdG9yKVxuICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgZGV0YWNoKClgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW50ZXJVbmJpbmRpbmcoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTm9kZXMoKTtcbiAgICAgICAgICAgIGxldCBjdXIgPSB0aGlzLiRpbml0aWF0b3IuaGVhZDtcbiAgICAgICAgICAgIHdoaWxlIChjdXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VyICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXIuZGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ci5sb2dnZXIudHJhY2UoYGRldGFjaCgpYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VyLnJlbW92ZU5vZGVzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjdXIuaG9va3MuaGFzVW5iaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXIuZGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ci5sb2dnZXIudHJhY2UoJ3VuYmluZGluZygpJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0ID0gY3VyLnZpZXdNb2RlbC51bmJpbmRpbmcoY3VyLiRpbml0aWF0b3IsIGN1ci5wYXJlbnQsIGN1ci4kZmxhZ3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnN1cmVQcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGVyVW5iaW5kaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWF2ZVVuYmluZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyID0gY3VyLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxlYXZlVW5iaW5kaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW50ZXJVbmJpbmRpbmcoKSB7XG4gICAgICAgICsrdGhpcy51bmJpbmRpbmdTdGFjaztcbiAgICB9XG4gICAgbGVhdmVVbmJpbmRpbmcoKSB7XG4gICAgICAgIGlmICgtLXRoaXMudW5iaW5kaW5nU3RhY2sgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYHVuYmluZCgpYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY3VyID0gdGhpcy4kaW5pdGlhdG9yLmhlYWQ7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IG51bGw7XG4gICAgICAgICAgICB3aGlsZSAoY3VyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1ciAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICBjdXIuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjdXIudW5iaW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5leHQgPSBjdXIubmV4dDtcbiAgICAgICAgICAgICAgICBjdXIubmV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgY3VyID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkQmluZGluZyhiaW5kaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmJpbmRpbmdzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRpbmdzID0gW2JpbmRpbmddO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iaW5kaW5nc1t0aGlzLmJpbmRpbmdzLmxlbmd0aF0gPSBiaW5kaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENvbnRyb2xsZXIoY29udHJvbGxlcikge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtjb250cm9sbGVyXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bdGhpcy5jaGlsZHJlbi5sZW5ndGhdID0gY29udHJvbGxlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpcyhuYW1lKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy52bUtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBjdXN0b21BdHRyaWJ1dGUgKi86IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWYgPSBDdXN0b21BdHRyaWJ1dGUuZ2V0RGVmaW5pdGlvbih0aGlzLnZpZXdNb2RlbC5jb25zdHJ1Y3Rvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZi5uYW1lID09PSBuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAwIC8qIGN1c3RvbUVsZW1lbnQgKi86IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWYgPSBDdXN0b21FbGVtZW50LmdldERlZmluaXRpb24odGhpcy52aWV3TW9kZWwuY29uc3RydWN0b3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWYubmFtZSA9PT0gbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMiAvKiBzeW50aGV0aWMgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld0ZhY3RvcnkubmFtZSA9PT0gbmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2NrU2NvcGUoc2NvcGUpIHtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgICAgICB0aGlzLmhhc0xvY2tlZFNjb3BlID0gdHJ1ZTtcbiAgICB9XG4gICAgc2V0SG9zdChob3N0KSB7XG4gICAgICAgIGlmICh0aGlzLnZtS2luZCA9PT0gMCAvKiBjdXN0b21FbGVtZW50ICovKSB7XG4gICAgICAgICAgICBzZXRSZWYoaG9zdCwgQ3VzdG9tRWxlbWVudC5uYW1lLCB0aGlzKTtcbiAgICAgICAgICAgIHNldFJlZihob3N0LCB0aGlzLmRlZmluaXRpb24ua2V5LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgICAgICB0aGlzLm1vdW50VGFyZ2V0ID0gMSAvKiBob3N0ICovO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0U2hhZG93Um9vdChzaGFkb3dSb290KSB7XG4gICAgICAgIGlmICh0aGlzLnZtS2luZCA9PT0gMCAvKiBjdXN0b21FbGVtZW50ICovKSB7XG4gICAgICAgICAgICBzZXRSZWYoc2hhZG93Um9vdCwgQ3VzdG9tRWxlbWVudC5uYW1lLCB0aGlzKTtcbiAgICAgICAgICAgIHNldFJlZihzaGFkb3dSb290LCB0aGlzLmRlZmluaXRpb24ua2V5LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QgPSBzaGFkb3dSb290O1xuICAgICAgICB0aGlzLm1vdW50VGFyZ2V0ID0gMiAvKiBzaGFkb3dSb290ICovO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0TG9jYXRpb24obG9jYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMudm1LaW5kID09PSAwIC8qIGN1c3RvbUVsZW1lbnQgKi8pIHtcbiAgICAgICAgICAgIHNldFJlZihsb2NhdGlvbiwgQ3VzdG9tRWxlbWVudC5uYW1lLCB0aGlzKTtcbiAgICAgICAgICAgIHNldFJlZihsb2NhdGlvbiwgdGhpcy5kZWZpbml0aW9uLmtleSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLm1vdW50VGFyZ2V0ID0gMyAvKiBsb2NhdGlvbiAqLztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgfD0gMTYgLyogcmVsZWFzZWQgKi87XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgZGlzcG9zZSgpYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0aGlzLnN0YXRlICYgMzIgLyogZGlzcG9zZWQgKi8pID09PSAzMiAvKiBkaXNwb3NlZCAqLykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgfD0gMzIgLyogZGlzcG9zZWQgKi87XG4gICAgICAgIGlmICh0aGlzLmhvb2tzLmhhc0Rpc3Bvc2UpIHtcbiAgICAgICAgICAgIHRoaXMudmlld01vZGVsLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGNhbGxEaXNwb3NlKTtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaG9zdENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnNjb3BlID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub2RlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLnZpZXdGYWN0b3J5ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMudmlld01vZGVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyTG9va3VwLmRlbGV0ZSh0aGlzLnZpZXdNb2RlbCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdNb2RlbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3TW9kZWwgPSBudWxsO1xuICAgICAgICB0aGlzLmhvc3QgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QgPSBudWxsO1xuICAgICAgICB0aGlzLnJvb3QgPSBudWxsO1xuICAgIH1cbiAgICBhY2NlcHQodmlzaXRvcikge1xuICAgICAgICBpZiAodmlzaXRvcih0aGlzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaG9va3MuaGFzQWNjZXB0ICYmIHRoaXMudmlld01vZGVsLmFjY2VwdCh2aXNpdG9yKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IHRoaXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuW2ldLmFjY2VwdCh2aXNpdG9yKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0VGFyZ2V0QWNjZXNzb3IocHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGNvbnN0IHsgYmluZGluZ3MgfSA9IHRoaXM7XG4gICAgICAgIGlmIChiaW5kaW5ncyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgYmluZGluZyA9IGJpbmRpbmdzLmZpbmQoYiA9PiBiLnRhcmdldFByb3BlcnR5ID09PSBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgaWYgKGJpbmRpbmcgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBiaW5kaW5nLnRhcmdldE9ic2VydmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0TG9va3VwKGluc3RhbmNlKSB7XG4gICAgbGV0IGxvb2t1cCA9IGluc3RhbmNlLiRvYnNlcnZlcnM7XG4gICAgaWYgKGxvb2t1cCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkoaW5zdGFuY2UsICckb2JzZXJ2ZXJzJywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogbG9va3VwID0ge30sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbG9va3VwO1xufVxuZnVuY3Rpb24gY3JlYXRlT2JzZXJ2ZXJzKGNvbnRyb2xsZXIsIGRlZmluaXRpb24sIFxuLy8gZGVlcHNjYW4tZGlzYWJsZS1uZXh0LWxpbmVcbl9mbGFncywgaW5zdGFuY2UpIHtcbiAgICBjb25zdCBiaW5kYWJsZXMgPSBkZWZpbml0aW9uLmJpbmRhYmxlcztcbiAgICBjb25zdCBvYnNlcnZhYmxlTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiaW5kYWJsZXMpO1xuICAgIGNvbnN0IGxlbmd0aCA9IG9ic2VydmFibGVOYW1lcy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IG5hbWU7XG4gICAgICAgIGxldCBiaW5kYWJsZTtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXJzID0gZ2V0TG9va3VwKGluc3RhbmNlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbmFtZSA9IG9ic2VydmFibGVOYW1lc1tpXTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlcnNbbmFtZV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGJpbmRhYmxlID0gYmluZGFibGVzW25hbWVdO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyc1tuYW1lXSA9IG5ldyBCaW5kYWJsZU9ic2VydmVyKGluc3RhbmNlLCBuYW1lLCBiaW5kYWJsZS5jYWxsYmFjaywgYmluZGFibGUuc2V0LCBjb250cm9sbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUNoaWxkcmVuT2JzZXJ2ZXJzKGNvbnRyb2xsZXIsIGRlZmluaXRpb24sIFxuLy8gZGVlcHNjYW4tZGlzYWJsZS1uZXh0LWxpbmVcbl9mbGFncywgaW5zdGFuY2UpIHtcbiAgICBjb25zdCBjaGlsZHJlbk9ic2VydmVycyA9IGRlZmluaXRpb24uY2hpbGRyZW5PYnNlcnZlcnM7XG4gICAgY29uc3QgY2hpbGRPYnNlcnZlck5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY2hpbGRyZW5PYnNlcnZlcnMpO1xuICAgIGNvbnN0IGxlbmd0aCA9IGNoaWxkT2JzZXJ2ZXJOYW1lcy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXJzID0gZ2V0TG9va3VwKGluc3RhbmNlKTtcbiAgICAgICAgbGV0IG5hbWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIG5hbWUgPSBjaGlsZE9ic2VydmVyTmFtZXNbaV07XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJzW25hbWVdID09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuRGVzY3JpcHRpb24gPSBjaGlsZHJlbk9ic2VydmVyc1tuYW1lXTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlcnNbbmFtZV0gPSBuZXcgQ2hpbGRyZW5PYnNlcnZlcihjb250cm9sbGVyLCBpbnN0YW5jZSwgbmFtZSwgY2hpbGRyZW5EZXNjcmlwdGlvbi5jYWxsYmFjaywgY2hpbGRyZW5EZXNjcmlwdGlvbi5xdWVyeSwgY2hpbGRyZW5EZXNjcmlwdGlvbi5maWx0ZXIsIGNoaWxkcmVuRGVzY3JpcHRpb24ubWFwLCBjaGlsZHJlbkRlc2NyaXB0aW9uLm9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgQWNjZXNzU2NvcGVBc3QgPSB7XG4gICAgbWFwOiBuZXcgTWFwKCksXG4gICAgZm9yKGtleSkge1xuICAgICAgICBsZXQgYXN0ID0gQWNjZXNzU2NvcGVBc3QubWFwLmdldChrZXkpO1xuICAgICAgICBpZiAoYXN0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGFzdCA9IG5ldyBBY2Nlc3NTY29wZUV4cHJlc3Npb24oa2V5LCAwKTtcbiAgICAgICAgICAgIEFjY2Vzc1Njb3BlQXN0Lm1hcC5zZXQoa2V5LCBhc3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3Q7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVycyhjb250cm9sbGVyLCBjb250ZXh0LCBkZWZpbml0aW9uLCBpbnN0YW5jZSkge1xuICAgIGNvbnN0IG9ic2VydmVyTG9jYXRvciA9IGNvbnRleHQuZ2V0KElPYnNlcnZlckxvY2F0b3IpO1xuICAgIGNvbnN0IGV4cHJlc3Npb25QYXJzZXIgPSBjb250ZXh0LmdldChJRXhwcmVzc2lvblBhcnNlcik7XG4gICAgY29uc3Qgd2F0Y2hlcyA9IGRlZmluaXRpb24ud2F0Y2hlcztcbiAgICBsZXQgZXhwcmVzc2lvbjtcbiAgICBsZXQgY2FsbGJhY2s7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gd2F0Y2hlcy5sZW5ndGg7IGlpID4gaTsgKytpKSB7XG4gICAgICAgICh7IGV4cHJlc3Npb24sIGNhbGxiYWNrIH0gPSB3YXRjaGVzW2ldKTtcbiAgICAgICAgY2FsbGJhY2sgPSB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gY2FsbGJhY2tcbiAgICAgICAgICAgIDogUmVmbGVjdC5nZXQoaW5zdGFuY2UsIGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNhbGxiYWNrIGZvciBAd2F0Y2ggZGVjb3JhdG9yOiAke1N0cmluZyhjYWxsYmFjayl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBleHByZXNzaW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmFkZEJpbmRpbmcobmV3IENvbXB1dGVkV2F0Y2hlcihpbnN0YW5jZSwgb2JzZXJ2ZXJMb2NhdG9yLCBleHByZXNzaW9uLCBjYWxsYmFjaywgXG4gICAgICAgICAgICAvLyB0aGVyZSBzaG91bGQgYmUgYSBmbGFnIHRvIHB1cnBvc2VseSBkaXNhYmxlIHByb3h5XG4gICAgICAgICAgICAvLyBBT1Q6IG5vdCB0cnVlIGZvciBJRTExXG4gICAgICAgICAgICB0cnVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhc3QgPSB0eXBlb2YgZXhwcmVzc2lvbiA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IGV4cHJlc3Npb25QYXJzZXIucGFyc2UoZXhwcmVzc2lvbiwgNTMgLyogQmluZENvbW1hbmQgKi8pXG4gICAgICAgICAgICAgICAgOiBBY2Nlc3NTY29wZUFzdC5mb3IoZXhwcmVzc2lvbik7XG4gICAgICAgICAgICBjb250cm9sbGVyLmFkZEJpbmRpbmcobmV3IEV4cHJlc3Npb25XYXRjaGVyKGNvbnRyb2xsZXIuc2NvcGUsIGNvbnRleHQsIG9ic2VydmVyTG9jYXRvciwgYXN0LCBjYWxsYmFjaykpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3VzdG9tRWxlbWVudENvbnRyb2xsZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBDb250cm9sbGVyICYmIHZhbHVlLnZtS2luZCA9PT0gMCAvKiBjdXN0b21FbGVtZW50ICovO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3VzdG9tRWxlbWVudFZpZXdNb2RlbCh2YWx1ZSkge1xuICAgIHJldHVybiBpc09iamVjdCh2YWx1ZSkgJiYgQ3VzdG9tRWxlbWVudC5pc1R5cGUodmFsdWUuY29uc3RydWN0b3IpO1xufVxuZXhwb3J0IGNsYXNzIEhvb2tzRGVmaW5pdGlvbiB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuaGFzRGVmaW5lID0gJ2RlZmluZScgaW4gdGFyZ2V0O1xuICAgICAgICB0aGlzLmhhc0h5ZHJhdGluZyA9ICdoeWRyYXRpbmcnIGluIHRhcmdldDtcbiAgICAgICAgdGhpcy5oYXNIeWRyYXRlZCA9ICdoeWRyYXRlZCcgaW4gdGFyZ2V0O1xuICAgICAgICB0aGlzLmhhc0NyZWF0ZWQgPSAnY3JlYXRlZCcgaW4gdGFyZ2V0O1xuICAgICAgICB0aGlzLmhhc0JpbmRpbmcgPSAnYmluZGluZycgaW4gdGFyZ2V0O1xuICAgICAgICB0aGlzLmhhc0JvdW5kID0gJ2JvdW5kJyBpbiB0YXJnZXQ7XG4gICAgICAgIHRoaXMuaGFzQXR0YWNoaW5nID0gJ2F0dGFjaGluZycgaW4gdGFyZ2V0O1xuICAgICAgICB0aGlzLmhhc0F0dGFjaGVkID0gJ2F0dGFjaGVkJyBpbiB0YXJnZXQ7XG4gICAgICAgIHRoaXMuaGFzRGV0YWNoaW5nID0gJ2RldGFjaGluZycgaW4gdGFyZ2V0O1xuICAgICAgICB0aGlzLmhhc1VuYmluZGluZyA9ICd1bmJpbmRpbmcnIGluIHRhcmdldDtcbiAgICAgICAgdGhpcy5oYXNEaXNwb3NlID0gJ2Rpc3Bvc2UnIGluIHRhcmdldDtcbiAgICAgICAgdGhpcy5oYXNBY2NlcHQgPSAnYWNjZXB0JyBpbiB0YXJnZXQ7XG4gICAgfVxufVxuSG9va3NEZWZpbml0aW9uLm5vbmUgPSBuZXcgSG9va3NEZWZpbml0aW9uKHt9KTtcbmNvbnN0IGRlZmF1bHRTaGFkb3dPcHRpb25zID0ge1xuICAgIG1vZGU6ICdvcGVuJ1xufTtcbmV4cG9ydCB2YXIgVmlld01vZGVsS2luZDtcbihmdW5jdGlvbiAoVmlld01vZGVsS2luZCkge1xuICAgIFZpZXdNb2RlbEtpbmRbVmlld01vZGVsS2luZFtcImN1c3RvbUVsZW1lbnRcIl0gPSAwXSA9IFwiY3VzdG9tRWxlbWVudFwiO1xuICAgIFZpZXdNb2RlbEtpbmRbVmlld01vZGVsS2luZFtcImN1c3RvbUF0dHJpYnV0ZVwiXSA9IDFdID0gXCJjdXN0b21BdHRyaWJ1dGVcIjtcbiAgICBWaWV3TW9kZWxLaW5kW1ZpZXdNb2RlbEtpbmRbXCJzeW50aGV0aWNcIl0gPSAyXSA9IFwic3ludGhldGljXCI7XG59KShWaWV3TW9kZWxLaW5kIHx8IChWaWV3TW9kZWxLaW5kID0ge30pKTtcbmV4cG9ydCB2YXIgU3RhdGU7XG4oZnVuY3Rpb24gKFN0YXRlKSB7XG4gICAgU3RhdGVbU3RhdGVbXCJub25lXCJdID0gMF0gPSBcIm5vbmVcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcImFjdGl2YXRpbmdcIl0gPSAxXSA9IFwiYWN0aXZhdGluZ1wiO1xuICAgIFN0YXRlW1N0YXRlW1wiYWN0aXZhdGVkXCJdID0gMl0gPSBcImFjdGl2YXRlZFwiO1xuICAgIFN0YXRlW1N0YXRlW1wiZGVhY3RpdmF0aW5nXCJdID0gNF0gPSBcImRlYWN0aXZhdGluZ1wiO1xuICAgIFN0YXRlW1N0YXRlW1wiZGVhY3RpdmF0ZWRcIl0gPSA4XSA9IFwiZGVhY3RpdmF0ZWRcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcInJlbGVhc2VkXCJdID0gMTZdID0gXCJyZWxlYXNlZFwiO1xuICAgIFN0YXRlW1N0YXRlW1wiZGlzcG9zZWRcIl0gPSAzMl0gPSBcImRpc3Bvc2VkXCI7XG59KShTdGF0ZSB8fCAoU3RhdGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeVN0YXRlKHN0YXRlKSB7XG4gICAgY29uc3QgbmFtZXMgPSBbXTtcbiAgICBpZiAoKHN0YXRlICYgMSAvKiBhY3RpdmF0aW5nICovKSA9PT0gMSAvKiBhY3RpdmF0aW5nICovKSB7XG4gICAgICAgIG5hbWVzLnB1c2goJ2FjdGl2YXRpbmcnKTtcbiAgICB9XG4gICAgaWYgKChzdGF0ZSAmIDIgLyogYWN0aXZhdGVkICovKSA9PT0gMiAvKiBhY3RpdmF0ZWQgKi8pIHtcbiAgICAgICAgbmFtZXMucHVzaCgnYWN0aXZhdGVkJyk7XG4gICAgfVxuICAgIGlmICgoc3RhdGUgJiA0IC8qIGRlYWN0aXZhdGluZyAqLykgPT09IDQgLyogZGVhY3RpdmF0aW5nICovKSB7XG4gICAgICAgIG5hbWVzLnB1c2goJ2RlYWN0aXZhdGluZycpO1xuICAgIH1cbiAgICBpZiAoKHN0YXRlICYgOCAvKiBkZWFjdGl2YXRlZCAqLykgPT09IDggLyogZGVhY3RpdmF0ZWQgKi8pIHtcbiAgICAgICAgbmFtZXMucHVzaCgnZGVhY3RpdmF0ZWQnKTtcbiAgICB9XG4gICAgaWYgKChzdGF0ZSAmIDE2IC8qIHJlbGVhc2VkICovKSA9PT0gMTYgLyogcmVsZWFzZWQgKi8pIHtcbiAgICAgICAgbmFtZXMucHVzaCgncmVsZWFzZWQnKTtcbiAgICB9XG4gICAgaWYgKChzdGF0ZSAmIDMyIC8qIGRpc3Bvc2VkICovKSA9PT0gMzIgLyogZGlzcG9zZWQgKi8pIHtcbiAgICAgICAgbmFtZXMucHVzaCgnZGlzcG9zZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzLmxlbmd0aCA9PT0gMCA/ICdub25lJyA6IG5hbWVzLmpvaW4oJ3wnKTtcbn1cbmV4cG9ydCBjb25zdCBJQ29udHJvbGxlciA9IERJLmNyZWF0ZUludGVyZmFjZSgnSUNvbnRyb2xsZXInKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRyb2xsZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/templating/controller.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/templating/lifecycle-hooks.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/templating/lifecycle-hooks.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ILifecycleHooks\": () => (/* binding */ ILifecycleHooks),\n/* harmony export */   \"LifecycleHooksEntry\": () => (/* binding */ LifecycleHooksEntry),\n/* harmony export */   \"LifecycleHooksDefinition\": () => (/* binding */ LifecycleHooksDefinition),\n/* harmony export */   \"LifecycleHooks\": () => (/* binding */ LifecycleHooks),\n/* harmony export */   \"lifecycleHooks\": () => (/* binding */ lifecycleHooks)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n\nconst ILifecycleHooks = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ILifecycleHooks');\nclass LifecycleHooksEntry {\n    constructor(definition, instance) {\n        this.definition = definition;\n        this.instance = instance;\n    }\n}\n/**\n * This definition has no specific properties yet other than the type, but is in place for future extensions.\n *\n * See: https://github.com/aurelia/aurelia/issues/1044\n */\nclass LifecycleHooksDefinition {\n    constructor(Type, propertyNames) {\n        this.Type = Type;\n        this.propertyNames = propertyNames;\n    }\n    /**\n     * @param def - Placeholder for future extensions. Currently always an empty object.\n     */\n    static create(def, Type) {\n        const propertyNames = new Set();\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        let proto = Type.prototype;\n        while (proto !== Object.prototype) {\n            for (const name of Object.getOwnPropertyNames(proto)) {\n                // This is the only check we will do for now. Filtering on e.g. function types might not always work properly when decorators come into play. This would need more testing first.\n                if (name !== 'constructor') {\n                    propertyNames.add(name);\n                }\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            proto = Object.getPrototypeOf(proto);\n        }\n        return new LifecycleHooksDefinition(Type, propertyNames);\n    }\n    register(container) {\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(ILifecycleHooks, this.Type).register(container);\n    }\n}\nconst containerLookup = new WeakMap();\nconst LifecycleHooks = {\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor('lifecycle-hooks'),\n    /**\n     * @param def - Placeholder for future extensions. Currently always an empty object.\n     */\n    define(def, Type) {\n        const definition = LifecycleHooksDefinition.create(def, Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(LifecycleHooks.name, definition, Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.appendTo(Type, LifecycleHooks.name);\n        return definition.Type;\n    },\n    resolve(ctx) {\n        let lookup = containerLookup.get(ctx);\n        if (lookup === void 0) {\n            lookup = {};\n            const instances = ctx.root.id === ctx.id\n                ? ctx.getAll(ILifecycleHooks, false)\n                : [\n                    ...ctx.root.getAll(ILifecycleHooks, false),\n                    ...ctx.getAll(ILifecycleHooks, false),\n                ];\n            for (const instance of instances) {\n                const definition = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(LifecycleHooks.name, instance.constructor);\n                const entry = new LifecycleHooksEntry(definition, instance);\n                for (const name of definition.propertyNames) {\n                    const entries = lookup[name];\n                    if (entries === void 0) {\n                        lookup[name] = [entry];\n                    }\n                    else {\n                        entries.push(entry);\n                    }\n                }\n            }\n        }\n        return lookup;\n    },\n};\n/**\n * Decorator: Indicates that the decorated class is a custom element.\n */\nfunction lifecycleHooks() {\n    return function decorator(target) {\n        return LifecycleHooks.define({}, target);\n    };\n}\n//# sourceMappingURL=lifecycle-hooks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRpbmcvbGlmZWN5Y2xlLWhvb2tzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS90ZW1wbGF0aW5nL2xpZmVjeWNsZS1ob29rcy5qcz8wNzVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERJLCBNZXRhZGF0YSwgUHJvdG9jb2wsIFJlZ2lzdHJhdGlvbiB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5leHBvcnQgY29uc3QgSUxpZmVjeWNsZUhvb2tzID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJTGlmZWN5Y2xlSG9va3MnKTtcbmV4cG9ydCBjbGFzcyBMaWZlY3ljbGVIb29rc0VudHJ5IHtcbiAgICBjb25zdHJ1Y3RvcihkZWZpbml0aW9uLCBpbnN0YW5jZSkge1xuICAgICAgICB0aGlzLmRlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIGRlZmluaXRpb24gaGFzIG5vIHNwZWNpZmljIHByb3BlcnRpZXMgeWV0IG90aGVyIHRoYW4gdGhlIHR5cGUsIGJ1dCBpcyBpbiBwbGFjZSBmb3IgZnV0dXJlIGV4dGVuc2lvbnMuXG4gKlxuICogU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYXVyZWxpYS9hdXJlbGlhL2lzc3Vlcy8xMDQ0XG4gKi9cbmV4cG9ydCBjbGFzcyBMaWZlY3ljbGVIb29rc0RlZmluaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKFR5cGUsIHByb3BlcnR5TmFtZXMpIHtcbiAgICAgICAgdGhpcy5UeXBlID0gVHlwZTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0eU5hbWVzID0gcHJvcGVydHlOYW1lcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGRlZiAtIFBsYWNlaG9sZGVyIGZvciBmdXR1cmUgZXh0ZW5zaW9ucy4gQ3VycmVudGx5IGFsd2F5cyBhbiBlbXB0eSBvYmplY3QuXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShkZWYsIFR5cGUpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgICAgICBsZXQgcHJvdG8gPSBUeXBlLnByb3RvdHlwZTtcbiAgICAgICAgd2hpbGUgKHByb3RvICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgb25seSBjaGVjayB3ZSB3aWxsIGRvIGZvciBub3cuIEZpbHRlcmluZyBvbiBlLmcuIGZ1bmN0aW9uIHR5cGVzIG1pZ2h0IG5vdCBhbHdheXMgd29yayBwcm9wZXJseSB3aGVuIGRlY29yYXRvcnMgY29tZSBpbnRvIHBsYXkuIFRoaXMgd291bGQgbmVlZCBtb3JlIHRlc3RpbmcgZmlyc3QuXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgIT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lcy5hZGQobmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgICAgICAgICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTGlmZWN5Y2xlSG9va3NEZWZpbml0aW9uKFR5cGUsIHByb3BlcnR5TmFtZXMpO1xuICAgIH1cbiAgICByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgICAgICAgUmVnaXN0cmF0aW9uLnNpbmdsZXRvbihJTGlmZWN5Y2xlSG9va3MsIHRoaXMuVHlwZSkucmVnaXN0ZXIoY29udGFpbmVyKTtcbiAgICB9XG59XG5jb25zdCBjb250YWluZXJMb29rdXAgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGNvbnN0IExpZmVjeWNsZUhvb2tzID0ge1xuICAgIG5hbWU6IFByb3RvY29sLmFubm90YXRpb24ua2V5Rm9yKCdsaWZlY3ljbGUtaG9va3MnKSxcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGVmIC0gUGxhY2Vob2xkZXIgZm9yIGZ1dHVyZSBleHRlbnNpb25zLiBDdXJyZW50bHkgYWx3YXlzIGFuIGVtcHR5IG9iamVjdC5cbiAgICAgKi9cbiAgICBkZWZpbmUoZGVmLCBUeXBlKSB7XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBMaWZlY3ljbGVIb29rc0RlZmluaXRpb24uY3JlYXRlKGRlZiwgVHlwZSk7XG4gICAgICAgIE1ldGFkYXRhLmRlZmluZShMaWZlY3ljbGVIb29rcy5uYW1lLCBkZWZpbml0aW9uLCBUeXBlKTtcbiAgICAgICAgUHJvdG9jb2wucmVzb3VyY2UuYXBwZW5kVG8oVHlwZSwgTGlmZWN5Y2xlSG9va3MubmFtZSk7XG4gICAgICAgIHJldHVybiBkZWZpbml0aW9uLlR5cGU7XG4gICAgfSxcbiAgICByZXNvbHZlKGN0eCkge1xuICAgICAgICBsZXQgbG9va3VwID0gY29udGFpbmVyTG9va3VwLmdldChjdHgpO1xuICAgICAgICBpZiAobG9va3VwID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGxvb2t1cCA9IHt9O1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VzID0gY3R4LnJvb3QuaWQgPT09IGN0eC5pZFxuICAgICAgICAgICAgICAgID8gY3R4LmdldEFsbChJTGlmZWN5Y2xlSG9va3MsIGZhbHNlKVxuICAgICAgICAgICAgICAgIDogW1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgucm9vdC5nZXRBbGwoSUxpZmVjeWNsZUhvb2tzLCBmYWxzZSksXG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eC5nZXRBbGwoSUxpZmVjeWNsZUhvb2tzLCBmYWxzZSksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5zdGFuY2Ugb2YgaW5zdGFuY2VzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IE1ldGFkYXRhLmdldE93bihMaWZlY3ljbGVIb29rcy5uYW1lLCBpbnN0YW5jZS5jb25zdHJ1Y3Rvcik7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cnkgPSBuZXcgTGlmZWN5Y2xlSG9va3NFbnRyeShkZWZpbml0aW9uLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIGRlZmluaXRpb24ucHJvcGVydHlOYW1lcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyaWVzID0gbG9va3VwW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cmllcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb29rdXBbbmFtZV0gPSBbZW50cnldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9va3VwO1xuICAgIH0sXG59O1xuLyoqXG4gKiBEZWNvcmF0b3I6IEluZGljYXRlcyB0aGF0IHRoZSBkZWNvcmF0ZWQgY2xhc3MgaXMgYSBjdXN0b20gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpZmVjeWNsZUhvb2tzKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBMaWZlY3ljbGVIb29rcy5kZWZpbmUoe30sIHRhcmdldCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpZmVjeWNsZS1ob29rcy5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/templating/lifecycle-hooks.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/templating/render-context.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/templating/render-context.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isRenderContext\": () => (/* binding */ isRenderContext),\n/* harmony export */   \"getRenderContext\": () => (/* binding */ getRenderContext),\n/* harmony export */   \"RenderContext\": () => (/* binding */ RenderContext),\n/* harmony export */   \"ViewFactoryProvider\": () => (/* binding */ ViewFactoryProvider)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _renderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../renderer.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/renderer.js\");\n/* harmony import */ var _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../resources/custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\n/* harmony import */ var _view_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./view.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js\");\n/* harmony import */ var _resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../resources/custom-elements/au-slot.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-elements/au-slot.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _controller_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./controller.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/controller.js\");\n\n\n\n\n\n\n\n\nconst definitionContainerLookup = new WeakMap();\nconst definitionContainerProjectionsLookup = new WeakMap();\nconst fragmentCache = new WeakMap();\nfunction isRenderContext(value) {\n    return value instanceof RenderContext;\n}\nfunction getRenderContext(partialDefinition, parentContainer, projections) {\n    const definition = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_3__.CustomElementDefinition.getOrCreate(partialDefinition);\n    // injectable completely prevents caching, ensuring that each instance gets a new context context\n    if (definition.injectable !== null) {\n        return new RenderContext(definition, parentContainer);\n    }\n    if (projections == null) {\n        let containerLookup = definitionContainerLookup.get(definition);\n        if (containerLookup === void 0) {\n            definitionContainerLookup.set(definition, containerLookup = new WeakMap());\n        }\n        let context = containerLookup.get(parentContainer);\n        if (context === void 0) {\n            containerLookup.set(parentContainer, context = new RenderContext(definition, parentContainer));\n        }\n        return context;\n    }\n    let containerProjectionsLookup = definitionContainerProjectionsLookup.get(definition);\n    if (containerProjectionsLookup === void 0) {\n        definitionContainerProjectionsLookup.set(definition, containerProjectionsLookup = new WeakMap());\n    }\n    let projectionsLookup = containerProjectionsLookup.get(parentContainer);\n    if (projectionsLookup === void 0) {\n        containerProjectionsLookup.set(parentContainer, projectionsLookup = new WeakMap());\n    }\n    let context = projectionsLookup.get(projections);\n    if (context === void 0) {\n        projectionsLookup.set(projections, context = new RenderContext(definition, parentContainer));\n    }\n    return context;\n}\nconst emptyNodeCache = new WeakMap();\nclass RenderContext {\n    constructor(definition, parentContainer) {\n        this.definition = definition;\n        this.parentContainer = parentContainer;\n        this.viewModelProvider = void 0;\n        this.fragment = null;\n        this.factory = void 0;\n        this.isCompiled = false;\n        this.renderers = Object.create(null);\n        this.compiledDefinition = (void 0);\n        this.root = parentContainer.root;\n        const container = this.container = parentContainer.createChild();\n        // TODO(fkleuver): get contextual + root renderers\n        const renderers = container.getAll(_renderer_js__WEBPACK_IMPORTED_MODULE_2__.IRenderer);\n        for (let i = 0; i < renderers.length; ++i) {\n            const renderer = renderers[i];\n            this.renderers[renderer.instructionType] = renderer;\n        }\n        this.projectionProvider = container.get(_resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_5__.IProjectionProvider);\n        const p = this.platform = container.get(_platform_js__WEBPACK_IMPORTED_MODULE_6__.IPlatform);\n        container.registerResolver(_view_js__WEBPACK_IMPORTED_MODULE_4__.IViewFactory, this.factoryProvider = new ViewFactoryProvider(), true);\n        container.registerResolver(_controller_js__WEBPACK_IMPORTED_MODULE_7__.IController, this.parentControllerProvider = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.InstanceProvider('IController'), true);\n        container.registerResolver(_renderer_js__WEBPACK_IMPORTED_MODULE_2__.IInstruction, this.instructionProvider = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.InstanceProvider('IInstruction'), true);\n        container.registerResolver(_dom_js__WEBPACK_IMPORTED_MODULE_1__.IRenderLocation, this.renderLocationProvider = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.InstanceProvider('IRenderLocation'), true);\n        container.registerResolver(_resources_custom_elements_au_slot_js__WEBPACK_IMPORTED_MODULE_5__.IAuSlotsInfo, this.auSlotsInfoProvider = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.InstanceProvider('IAuSlotsInfo'), true);\n        const ep = this.elementProvider = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.InstanceProvider('ElementResolver');\n        container.registerResolver(_dom_js__WEBPACK_IMPORTED_MODULE_1__.INode, ep);\n        container.registerResolver(p.Node, ep);\n        container.registerResolver(p.Element, ep);\n        container.registerResolver(p.HTMLElement, ep);\n        container.register(...definition.dependencies);\n    }\n    get id() {\n        return this.container.id;\n    }\n    // #region IServiceLocator api\n    has(key, searchAncestors) {\n        return this.container.has(key, searchAncestors);\n    }\n    get(key) {\n        return this.container.get(key);\n    }\n    getAll(key) {\n        return this.container.getAll(key);\n    }\n    // #endregion\n    // #region IContainer api\n    register(...params) {\n        return this.container.register(...params);\n    }\n    registerResolver(key, resolver) {\n        return this.container.registerResolver(key, resolver);\n    }\n    // public deregisterResolverFor<K extends Key, T = K>(key: K): void {\n    //   this.container.deregisterResolverFor(key);\n    // }\n    registerTransformer(key, transformer) {\n        return this.container.registerTransformer(key, transformer);\n    }\n    getResolver(key, autoRegister) {\n        return this.container.getResolver(key, autoRegister);\n    }\n    invoke(key, dynamicDependencies) {\n        return this.container.invoke(key, dynamicDependencies);\n    }\n    getFactory(key) {\n        return this.container.getFactory(key);\n    }\n    registerFactory(key, factory) {\n        this.container.registerFactory(key, factory);\n    }\n    createChild() {\n        return this.container.createChild();\n    }\n    find(kind, name) {\n        return this.container.find(kind, name);\n    }\n    create(kind, name) {\n        return this.container.create(kind, name);\n    }\n    disposeResolvers() {\n        this.container.disposeResolvers();\n    }\n    // #endregion\n    // #region IRenderContext api\n    compile(targetedProjections) {\n        let compiledDefinition;\n        if (this.isCompiled) {\n            return this;\n        }\n        this.isCompiled = true;\n        const definition = this.definition;\n        if (definition.needsCompile) {\n            const container = this.container;\n            const compiler = container.get(_renderer_js__WEBPACK_IMPORTED_MODULE_2__.ITemplateCompiler);\n            compiledDefinition = this.compiledDefinition = compiler.compile(definition, container, targetedProjections);\n        }\n        else {\n            compiledDefinition = this.compiledDefinition = definition;\n        }\n        // Support Recursive Components by adding self to own context\n        compiledDefinition.register(this);\n        if (fragmentCache.has(compiledDefinition)) {\n            this.fragment = fragmentCache.get(compiledDefinition);\n        }\n        else {\n            const doc = this.platform.document;\n            const template = compiledDefinition.template;\n            if (template === null || this.definition.enhance === true) {\n                this.fragment = null;\n            }\n            else if (template instanceof this.platform.Node) {\n                if (template.nodeName === 'TEMPLATE') {\n                    this.fragment = doc.adoptNode(template.content);\n                }\n                else {\n                    (this.fragment = doc.adoptNode(doc.createDocumentFragment())).appendChild(template);\n                }\n            }\n            else {\n                const tpl = doc.createElement('template');\n                doc.adoptNode(tpl.content);\n                if (typeof template === 'string') {\n                    tpl.innerHTML = template;\n                }\n                this.fragment = tpl.content;\n            }\n            fragmentCache.set(compiledDefinition, this.fragment);\n        }\n        return this;\n    }\n    getViewFactory(name, contentType, projectionScope) {\n        let factory = this.factory;\n        if (factory === void 0) {\n            if (name === void 0) {\n                name = this.definition.name;\n            }\n            factory = this.factory = new _view_js__WEBPACK_IMPORTED_MODULE_4__.ViewFactory(name, this, contentType, projectionScope);\n        }\n        return factory;\n    }\n    beginChildComponentOperation(instance) {\n        const definition = this.definition;\n        if (definition.injectable !== null) {\n            if (this.viewModelProvider === void 0) {\n                this.container.registerResolver(definition.injectable, this.viewModelProvider = new _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.InstanceProvider('definition.injectable'));\n            }\n            this.viewModelProvider.prepare(instance);\n        }\n        return this;\n    }\n    // #endregion\n    // #region ICompiledRenderContext api\n    createNodes() {\n        if (this.compiledDefinition.enhance === true) {\n            return new _dom_js__WEBPACK_IMPORTED_MODULE_1__.FragmentNodeSequence(this.platform, this.compiledDefinition.template);\n        }\n        if (this.fragment === null) {\n            let emptyNodes = emptyNodeCache.get(this.platform);\n            if (emptyNodes === void 0) {\n                emptyNodeCache.set(this.platform, emptyNodes = new _dom_js__WEBPACK_IMPORTED_MODULE_1__.FragmentNodeSequence(this.platform, this.platform.document.createDocumentFragment()));\n            }\n            return emptyNodes;\n        }\n        return new _dom_js__WEBPACK_IMPORTED_MODULE_1__.FragmentNodeSequence(this.platform, this.fragment.cloneNode(true));\n    }\n    // TODO: split up into 2 methods? getComponentFactory + getSyntheticFactory or something\n    getComponentFactory(parentController, host, instruction, viewFactory, location, auSlotsInfo) {\n        if (parentController !== void 0) {\n            this.parentControllerProvider.prepare(parentController);\n        }\n        if (host !== void 0) {\n            // TODO: fix provider input type, Key is probably not a good constraint\n            this.elementProvider.prepare(host);\n        }\n        if (instruction !== void 0) {\n            this.instructionProvider.prepare(instruction);\n        }\n        if (location !== void 0) {\n            this.renderLocationProvider.prepare(location);\n        }\n        if (viewFactory !== void 0) {\n            this.factoryProvider.prepare(viewFactory);\n        }\n        if (auSlotsInfo !== void 0) {\n            this.auSlotsInfoProvider.prepare(auSlotsInfo);\n        }\n        return this;\n    }\n    // #endregion\n    // #region IComponentFactory api\n    createComponent(resourceKey) {\n        return this.container.get(resourceKey);\n    }\n    render(flags, controller, targets, definition, host) {\n        if (targets.length !== definition.instructions.length) {\n            throw new Error(`The compiled template is not aligned with the render instructions. There are ${targets.length} targets and ${definition.instructions.length} instructions.`);\n        }\n        for (let i = 0; i < targets.length; ++i) {\n            this.renderChildren(\n            /* flags        */ flags, \n            /* instructions */ definition.instructions[i], \n            /* controller   */ controller, \n            /* target       */ targets[i]);\n        }\n        if (host !== void 0 && host !== null) {\n            this.renderChildren(\n            /* flags        */ flags, \n            /* instructions */ definition.surrogates, \n            /* controller   */ controller, \n            /* target       */ host);\n        }\n    }\n    renderChildren(flags, instructions, controller, target) {\n        for (let i = 0; i < instructions.length; ++i) {\n            const current = instructions[i];\n            this.renderers[current.type].render(flags, this, controller, target, current);\n        }\n    }\n    dispose() {\n        this.elementProvider.dispose();\n    }\n    // #endregion\n    // #region IProjectionProvider api\n    registerProjections(projections, scope) {\n        this.projectionProvider.registerProjections(projections, scope);\n    }\n    getProjectionFor(instruction) {\n        return this.projectionProvider.getProjectionFor(instruction);\n    }\n}\n/** @internal */\nclass ViewFactoryProvider {\n    constructor() {\n        this.factory = null;\n    }\n    prepare(factory) {\n        this.factory = factory;\n    }\n    get $isResolver() { return true; }\n    resolve(_handler, _requestor) {\n        const factory = this.factory;\n        if (factory === null) {\n            throw new Error('Cannot resolve ViewFactory before the provider was prepared.');\n        }\n        if (typeof factory.name !== 'string' || factory.name.length === 0) {\n            throw new Error('Cannot resolve ViewFactory without a (valid) name.');\n        }\n        return factory;\n    }\n    dispose() {\n        this.factory = null;\n    }\n}\n//# sourceMappingURL=render-context.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRpbmcvcmVuZGVyLWNvbnRleHQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRpbmcvcmVuZGVyLWNvbnRleHQuanM/MWM0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnN0YW5jZVByb3ZpZGVyLCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBGcmFnbWVudE5vZGVTZXF1ZW5jZSwgSU5vZGUsIElSZW5kZXJMb2NhdGlvbiB9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBJUmVuZGVyZXIsIElUZW1wbGF0ZUNvbXBpbGVyLCBJSW5zdHJ1Y3Rpb24gfSBmcm9tICcuLi9yZW5kZXJlci5qcyc7XG5pbXBvcnQgeyBDdXN0b21FbGVtZW50RGVmaW5pdGlvbiB9IGZyb20gJy4uL3Jlc291cmNlcy9jdXN0b20tZWxlbWVudC5qcyc7XG5pbXBvcnQgeyBJVmlld0ZhY3RvcnksIFZpZXdGYWN0b3J5IH0gZnJvbSAnLi92aWV3LmpzJztcbmltcG9ydCB7IElBdVNsb3RzSW5mbywgSVByb2plY3Rpb25Qcm92aWRlciB9IGZyb20gJy4uL3Jlc291cmNlcy9jdXN0b20tZWxlbWVudHMvYXUtc2xvdC5qcyc7XG5pbXBvcnQgeyBJUGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS5qcyc7XG5pbXBvcnQgeyBJQ29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbGxlci5qcyc7XG5jb25zdCBkZWZpbml0aW9uQ29udGFpbmVyTG9va3VwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IGRlZmluaXRpb25Db250YWluZXJQcm9qZWN0aW9uc0xvb2t1cCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBmcmFnbWVudENhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmV4cG9ydCBmdW5jdGlvbiBpc1JlbmRlckNvbnRleHQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBSZW5kZXJDb250ZXh0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbmRlckNvbnRleHQocGFydGlhbERlZmluaXRpb24sIHBhcmVudENvbnRhaW5lciwgcHJvamVjdGlvbnMpIHtcbiAgICBjb25zdCBkZWZpbml0aW9uID0gQ3VzdG9tRWxlbWVudERlZmluaXRpb24uZ2V0T3JDcmVhdGUocGFydGlhbERlZmluaXRpb24pO1xuICAgIC8vIGluamVjdGFibGUgY29tcGxldGVseSBwcmV2ZW50cyBjYWNoaW5nLCBlbnN1cmluZyB0aGF0IGVhY2ggaW5zdGFuY2UgZ2V0cyBhIG5ldyBjb250ZXh0IGNvbnRleHRcbiAgICBpZiAoZGVmaW5pdGlvbi5pbmplY3RhYmxlICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyQ29udGV4dChkZWZpbml0aW9uLCBwYXJlbnRDb250YWluZXIpO1xuICAgIH1cbiAgICBpZiAocHJvamVjdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBsZXQgY29udGFpbmVyTG9va3VwID0gZGVmaW5pdGlvbkNvbnRhaW5lckxvb2t1cC5nZXQoZGVmaW5pdGlvbik7XG4gICAgICAgIGlmIChjb250YWluZXJMb29rdXAgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVmaW5pdGlvbkNvbnRhaW5lckxvb2t1cC5zZXQoZGVmaW5pdGlvbiwgY29udGFpbmVyTG9va3VwID0gbmV3IFdlYWtNYXAoKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbnRleHQgPSBjb250YWluZXJMb29rdXAuZ2V0KHBhcmVudENvbnRhaW5lcik7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnRhaW5lckxvb2t1cC5zZXQocGFyZW50Q29udGFpbmVyLCBjb250ZXh0ID0gbmV3IFJlbmRlckNvbnRleHQoZGVmaW5pdGlvbiwgcGFyZW50Q29udGFpbmVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuICAgIGxldCBjb250YWluZXJQcm9qZWN0aW9uc0xvb2t1cCA9IGRlZmluaXRpb25Db250YWluZXJQcm9qZWN0aW9uc0xvb2t1cC5nZXQoZGVmaW5pdGlvbik7XG4gICAgaWYgKGNvbnRhaW5lclByb2plY3Rpb25zTG9va3VwID09PSB2b2lkIDApIHtcbiAgICAgICAgZGVmaW5pdGlvbkNvbnRhaW5lclByb2plY3Rpb25zTG9va3VwLnNldChkZWZpbml0aW9uLCBjb250YWluZXJQcm9qZWN0aW9uc0xvb2t1cCA9IG5ldyBXZWFrTWFwKCkpO1xuICAgIH1cbiAgICBsZXQgcHJvamVjdGlvbnNMb29rdXAgPSBjb250YWluZXJQcm9qZWN0aW9uc0xvb2t1cC5nZXQocGFyZW50Q29udGFpbmVyKTtcbiAgICBpZiAocHJvamVjdGlvbnNMb29rdXAgPT09IHZvaWQgMCkge1xuICAgICAgICBjb250YWluZXJQcm9qZWN0aW9uc0xvb2t1cC5zZXQocGFyZW50Q29udGFpbmVyLCBwcm9qZWN0aW9uc0xvb2t1cCA9IG5ldyBXZWFrTWFwKCkpO1xuICAgIH1cbiAgICBsZXQgY29udGV4dCA9IHByb2plY3Rpb25zTG9va3VwLmdldChwcm9qZWN0aW9ucyk7XG4gICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkge1xuICAgICAgICBwcm9qZWN0aW9uc0xvb2t1cC5zZXQocHJvamVjdGlvbnMsIGNvbnRleHQgPSBuZXcgUmVuZGVyQ29udGV4dChkZWZpbml0aW9uLCBwYXJlbnRDb250YWluZXIpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG5jb25zdCBlbXB0eU5vZGVDYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgY2xhc3MgUmVuZGVyQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoZGVmaW5pdGlvbiwgcGFyZW50Q29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbiA9IGRlZmluaXRpb247XG4gICAgICAgIHRoaXMucGFyZW50Q29udGFpbmVyID0gcGFyZW50Q29udGFpbmVyO1xuICAgICAgICB0aGlzLnZpZXdNb2RlbFByb3ZpZGVyID0gdm9pZCAwO1xuICAgICAgICB0aGlzLmZyYWdtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mYWN0b3J5ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLmlzQ29tcGlsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLmNvbXBpbGVkRGVmaW5pdGlvbiA9ICh2b2lkIDApO1xuICAgICAgICB0aGlzLnJvb3QgPSBwYXJlbnRDb250YWluZXIucm9vdDtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIgPSBwYXJlbnRDb250YWluZXIuY3JlYXRlQ2hpbGQoKTtcbiAgICAgICAgLy8gVE9ETyhma2xldXZlcik6IGdldCBjb250ZXh0dWFsICsgcm9vdCByZW5kZXJlcnNcbiAgICAgICAgY29uc3QgcmVuZGVyZXJzID0gY29udGFpbmVyLmdldEFsbChJUmVuZGVyZXIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyZXIgPSByZW5kZXJlcnNbaV07XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyc1tyZW5kZXJlci5pbnN0cnVjdGlvblR5cGVdID0gcmVuZGVyZXI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uUHJvdmlkZXIgPSBjb250YWluZXIuZ2V0KElQcm9qZWN0aW9uUHJvdmlkZXIpO1xuICAgICAgICBjb25zdCBwID0gdGhpcy5wbGF0Zm9ybSA9IGNvbnRhaW5lci5nZXQoSVBsYXRmb3JtKTtcbiAgICAgICAgY29udGFpbmVyLnJlZ2lzdGVyUmVzb2x2ZXIoSVZpZXdGYWN0b3J5LCB0aGlzLmZhY3RvcnlQcm92aWRlciA9IG5ldyBWaWV3RmFjdG9yeVByb3ZpZGVyKCksIHRydWUpO1xuICAgICAgICBjb250YWluZXIucmVnaXN0ZXJSZXNvbHZlcihJQ29udHJvbGxlciwgdGhpcy5wYXJlbnRDb250cm9sbGVyUHJvdmlkZXIgPSBuZXcgSW5zdGFuY2VQcm92aWRlcignSUNvbnRyb2xsZXInKSwgdHJ1ZSk7XG4gICAgICAgIGNvbnRhaW5lci5yZWdpc3RlclJlc29sdmVyKElJbnN0cnVjdGlvbiwgdGhpcy5pbnN0cnVjdGlvblByb3ZpZGVyID0gbmV3IEluc3RhbmNlUHJvdmlkZXIoJ0lJbnN0cnVjdGlvbicpLCB0cnVlKTtcbiAgICAgICAgY29udGFpbmVyLnJlZ2lzdGVyUmVzb2x2ZXIoSVJlbmRlckxvY2F0aW9uLCB0aGlzLnJlbmRlckxvY2F0aW9uUHJvdmlkZXIgPSBuZXcgSW5zdGFuY2VQcm92aWRlcignSVJlbmRlckxvY2F0aW9uJyksIHRydWUpO1xuICAgICAgICBjb250YWluZXIucmVnaXN0ZXJSZXNvbHZlcihJQXVTbG90c0luZm8sIHRoaXMuYXVTbG90c0luZm9Qcm92aWRlciA9IG5ldyBJbnN0YW5jZVByb3ZpZGVyKCdJQXVTbG90c0luZm8nKSwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGVwID0gdGhpcy5lbGVtZW50UHJvdmlkZXIgPSBuZXcgSW5zdGFuY2VQcm92aWRlcignRWxlbWVudFJlc29sdmVyJyk7XG4gICAgICAgIGNvbnRhaW5lci5yZWdpc3RlclJlc29sdmVyKElOb2RlLCBlcCk7XG4gICAgICAgIGNvbnRhaW5lci5yZWdpc3RlclJlc29sdmVyKHAuTm9kZSwgZXApO1xuICAgICAgICBjb250YWluZXIucmVnaXN0ZXJSZXNvbHZlcihwLkVsZW1lbnQsIGVwKTtcbiAgICAgICAgY29udGFpbmVyLnJlZ2lzdGVyUmVzb2x2ZXIocC5IVE1MRWxlbWVudCwgZXApO1xuICAgICAgICBjb250YWluZXIucmVnaXN0ZXIoLi4uZGVmaW5pdGlvbi5kZXBlbmRlbmNpZXMpO1xuICAgIH1cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5pZDtcbiAgICB9XG4gICAgLy8gI3JlZ2lvbiBJU2VydmljZUxvY2F0b3IgYXBpXG4gICAgaGFzKGtleSwgc2VhcmNoQW5jZXN0b3JzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5oYXMoa2V5LCBzZWFyY2hBbmNlc3RvcnMpO1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXQoa2V5KTtcbiAgICB9XG4gICAgZ2V0QWxsKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0QWxsKGtleSk7XG4gICAgfVxuICAgIC8vICNlbmRyZWdpb25cbiAgICAvLyAjcmVnaW9uIElDb250YWluZXIgYXBpXG4gICAgcmVnaXN0ZXIoLi4ucGFyYW1zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5yZWdpc3RlciguLi5wYXJhbXMpO1xuICAgIH1cbiAgICByZWdpc3RlclJlc29sdmVyKGtleSwgcmVzb2x2ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnJlZ2lzdGVyUmVzb2x2ZXIoa2V5LCByZXNvbHZlcik7XG4gICAgfVxuICAgIC8vIHB1YmxpYyBkZXJlZ2lzdGVyUmVzb2x2ZXJGb3I8SyBleHRlbmRzIEtleSwgVCA9IEs+KGtleTogSyk6IHZvaWQge1xuICAgIC8vICAgdGhpcy5jb250YWluZXIuZGVyZWdpc3RlclJlc29sdmVyRm9yKGtleSk7XG4gICAgLy8gfVxuICAgIHJlZ2lzdGVyVHJhbnNmb3JtZXIoa2V5LCB0cmFuc2Zvcm1lcikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIucmVnaXN0ZXJUcmFuc2Zvcm1lcihrZXksIHRyYW5zZm9ybWVyKTtcbiAgICB9XG4gICAgZ2V0UmVzb2x2ZXIoa2V5LCBhdXRvUmVnaXN0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFJlc29sdmVyKGtleSwgYXV0b1JlZ2lzdGVyKTtcbiAgICB9XG4gICAgaW52b2tlKGtleSwgZHluYW1pY0RlcGVuZGVuY2llcykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuaW52b2tlKGtleSwgZHluYW1pY0RlcGVuZGVuY2llcyk7XG4gICAgfVxuICAgIGdldEZhY3Rvcnkoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRGYWN0b3J5KGtleSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyRmFjdG9yeShrZXksIGZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVnaXN0ZXJGYWN0b3J5KGtleSwgZmFjdG9yeSk7XG4gICAgfVxuICAgIGNyZWF0ZUNoaWxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuY3JlYXRlQ2hpbGQoKTtcbiAgICB9XG4gICAgZmluZChraW5kLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5maW5kKGtpbmQsIG5hbWUpO1xuICAgIH1cbiAgICBjcmVhdGUoa2luZCwgbmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuY3JlYXRlKGtpbmQsIG5hbWUpO1xuICAgIH1cbiAgICBkaXNwb3NlUmVzb2x2ZXJzKCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5kaXNwb3NlUmVzb2x2ZXJzKCk7XG4gICAgfVxuICAgIC8vICNlbmRyZWdpb25cbiAgICAvLyAjcmVnaW9uIElSZW5kZXJDb250ZXh0IGFwaVxuICAgIGNvbXBpbGUodGFyZ2V0ZWRQcm9qZWN0aW9ucykge1xuICAgICAgICBsZXQgY29tcGlsZWREZWZpbml0aW9uO1xuICAgICAgICBpZiAodGhpcy5pc0NvbXBpbGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQ29tcGlsZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gdGhpcy5kZWZpbml0aW9uO1xuICAgICAgICBpZiAoZGVmaW5pdGlvbi5uZWVkc0NvbXBpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBjb250YWluZXIuZ2V0KElUZW1wbGF0ZUNvbXBpbGVyKTtcbiAgICAgICAgICAgIGNvbXBpbGVkRGVmaW5pdGlvbiA9IHRoaXMuY29tcGlsZWREZWZpbml0aW9uID0gY29tcGlsZXIuY29tcGlsZShkZWZpbml0aW9uLCBjb250YWluZXIsIHRhcmdldGVkUHJvamVjdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tcGlsZWREZWZpbml0aW9uID0gdGhpcy5jb21waWxlZERlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN1cHBvcnQgUmVjdXJzaXZlIENvbXBvbmVudHMgYnkgYWRkaW5nIHNlbGYgdG8gb3duIGNvbnRleHRcbiAgICAgICAgY29tcGlsZWREZWZpbml0aW9uLnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICBpZiAoZnJhZ21lbnRDYWNoZS5oYXMoY29tcGlsZWREZWZpbml0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudCA9IGZyYWdtZW50Q2FjaGUuZ2V0KGNvbXBpbGVkRGVmaW5pdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkb2MgPSB0aGlzLnBsYXRmb3JtLmRvY3VtZW50O1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBjb21waWxlZERlZmluaXRpb24udGVtcGxhdGU7XG4gICAgICAgICAgICBpZiAodGVtcGxhdGUgPT09IG51bGwgfHwgdGhpcy5kZWZpbml0aW9uLmVuaGFuY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYWdtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRlbXBsYXRlIGluc3RhbmNlb2YgdGhpcy5wbGF0Zm9ybS5Ob2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlbXBsYXRlLm5vZGVOYW1lID09PSAnVEVNUExBVEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhZ21lbnQgPSBkb2MuYWRvcHROb2RlKHRlbXBsYXRlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuZnJhZ21lbnQgPSBkb2MuYWRvcHROb2RlKGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpKS5hcHBlbmRDaGlsZCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHBsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgICAgICAgICAgZG9jLmFkb3B0Tm9kZSh0cGwuY29udGVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wbGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdHBsLmlubmVySFRNTCA9IHRlbXBsYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmZyYWdtZW50ID0gdHBsLmNvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFnbWVudENhY2hlLnNldChjb21waWxlZERlZmluaXRpb24sIHRoaXMuZnJhZ21lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRWaWV3RmFjdG9yeShuYW1lLCBjb250ZW50VHlwZSwgcHJvamVjdGlvblNjb3BlKSB7XG4gICAgICAgIGxldCBmYWN0b3J5ID0gdGhpcy5mYWN0b3J5O1xuICAgICAgICBpZiAoZmFjdG9yeSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IHRoaXMuZGVmaW5pdGlvbi5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmFjdG9yeSA9IHRoaXMuZmFjdG9yeSA9IG5ldyBWaWV3RmFjdG9yeShuYW1lLCB0aGlzLCBjb250ZW50VHlwZSwgcHJvamVjdGlvblNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICB9XG4gICAgYmVnaW5DaGlsZENvbXBvbmVudE9wZXJhdGlvbihpbnN0YW5jZSkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gdGhpcy5kZWZpbml0aW9uO1xuICAgICAgICBpZiAoZGVmaW5pdGlvbi5pbmplY3RhYmxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWxQcm92aWRlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVnaXN0ZXJSZXNvbHZlcihkZWZpbml0aW9uLmluamVjdGFibGUsIHRoaXMudmlld01vZGVsUHJvdmlkZXIgPSBuZXcgSW5zdGFuY2VQcm92aWRlcignZGVmaW5pdGlvbi5pbmplY3RhYmxlJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52aWV3TW9kZWxQcm92aWRlci5wcmVwYXJlKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gI2VuZHJlZ2lvblxuICAgIC8vICNyZWdpb24gSUNvbXBpbGVkUmVuZGVyQ29udGV4dCBhcGlcbiAgICBjcmVhdGVOb2RlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcGlsZWREZWZpbml0aW9uLmVuaGFuY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRnJhZ21lbnROb2RlU2VxdWVuY2UodGhpcy5wbGF0Zm9ybSwgdGhpcy5jb21waWxlZERlZmluaXRpb24udGVtcGxhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZyYWdtZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgZW1wdHlOb2RlcyA9IGVtcHR5Tm9kZUNhY2hlLmdldCh0aGlzLnBsYXRmb3JtKTtcbiAgICAgICAgICAgIGlmIChlbXB0eU5vZGVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBlbXB0eU5vZGVDYWNoZS5zZXQodGhpcy5wbGF0Zm9ybSwgZW1wdHlOb2RlcyA9IG5ldyBGcmFnbWVudE5vZGVTZXF1ZW5jZSh0aGlzLnBsYXRmb3JtLCB0aGlzLnBsYXRmb3JtLmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVtcHR5Tm9kZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBGcmFnbWVudE5vZGVTZXF1ZW5jZSh0aGlzLnBsYXRmb3JtLCB0aGlzLmZyYWdtZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gICAgfVxuICAgIC8vIFRPRE86IHNwbGl0IHVwIGludG8gMiBtZXRob2RzPyBnZXRDb21wb25lbnRGYWN0b3J5ICsgZ2V0U3ludGhldGljRmFjdG9yeSBvciBzb21ldGhpbmdcbiAgICBnZXRDb21wb25lbnRGYWN0b3J5KHBhcmVudENvbnRyb2xsZXIsIGhvc3QsIGluc3RydWN0aW9uLCB2aWV3RmFjdG9yeSwgbG9jYXRpb24sIGF1U2xvdHNJbmZvKSB7XG4gICAgICAgIGlmIChwYXJlbnRDb250cm9sbGVyICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Q29udHJvbGxlclByb3ZpZGVyLnByZXBhcmUocGFyZW50Q29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvc3QgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgLy8gVE9ETzogZml4IHByb3ZpZGVyIGlucHV0IHR5cGUsIEtleSBpcyBwcm9iYWJseSBub3QgYSBnb29kIGNvbnN0cmFpbnRcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFByb3ZpZGVyLnByZXBhcmUoaG9zdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc3RydWN0aW9uICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25Qcm92aWRlci5wcmVwYXJlKGluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYXRpb24gIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJMb2NhdGlvblByb3ZpZGVyLnByZXBhcmUobG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aWV3RmFjdG9yeSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aGlzLmZhY3RvcnlQcm92aWRlci5wcmVwYXJlKHZpZXdGYWN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXVTbG90c0luZm8gIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhpcy5hdVNsb3RzSW5mb1Byb3ZpZGVyLnByZXBhcmUoYXVTbG90c0luZm8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyAjZW5kcmVnaW9uXG4gICAgLy8gI3JlZ2lvbiBJQ29tcG9uZW50RmFjdG9yeSBhcGlcbiAgICBjcmVhdGVDb21wb25lbnQocmVzb3VyY2VLZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldChyZXNvdXJjZUtleSk7XG4gICAgfVxuICAgIHJlbmRlcihmbGFncywgY29udHJvbGxlciwgdGFyZ2V0cywgZGVmaW5pdGlvbiwgaG9zdCkge1xuICAgICAgICBpZiAodGFyZ2V0cy5sZW5ndGggIT09IGRlZmluaXRpb24uaW5zdHJ1Y3Rpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgY29tcGlsZWQgdGVtcGxhdGUgaXMgbm90IGFsaWduZWQgd2l0aCB0aGUgcmVuZGVyIGluc3RydWN0aW9ucy4gVGhlcmUgYXJlICR7dGFyZ2V0cy5sZW5ndGh9IHRhcmdldHMgYW5kICR7ZGVmaW5pdGlvbi5pbnN0cnVjdGlvbnMubGVuZ3RofSBpbnN0cnVjdGlvbnMuYCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXJnZXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckNoaWxkcmVuKFxuICAgICAgICAgICAgLyogZmxhZ3MgICAgICAgICovIGZsYWdzLCBcbiAgICAgICAgICAgIC8qIGluc3RydWN0aW9ucyAqLyBkZWZpbml0aW9uLmluc3RydWN0aW9uc1tpXSwgXG4gICAgICAgICAgICAvKiBjb250cm9sbGVyICAgKi8gY29udHJvbGxlciwgXG4gICAgICAgICAgICAvKiB0YXJnZXQgICAgICAgKi8gdGFyZ2V0c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvc3QgIT09IHZvaWQgMCAmJiBob3N0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckNoaWxkcmVuKFxuICAgICAgICAgICAgLyogZmxhZ3MgICAgICAgICovIGZsYWdzLCBcbiAgICAgICAgICAgIC8qIGluc3RydWN0aW9ucyAqLyBkZWZpbml0aW9uLnN1cnJvZ2F0ZXMsIFxuICAgICAgICAgICAgLyogY29udHJvbGxlciAgICovIGNvbnRyb2xsZXIsIFxuICAgICAgICAgICAgLyogdGFyZ2V0ICAgICAgICovIGhvc3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlckNoaWxkcmVuKGZsYWdzLCBpbnN0cnVjdGlvbnMsIGNvbnRyb2xsZXIsIHRhcmdldCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RydWN0aW9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGluc3RydWN0aW9uc1tpXTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXJzW2N1cnJlbnQudHlwZV0ucmVuZGVyKGZsYWdzLCB0aGlzLCBjb250cm9sbGVyLCB0YXJnZXQsIGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudFByb3ZpZGVyLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgLy8gI2VuZHJlZ2lvblxuICAgIC8vICNyZWdpb24gSVByb2plY3Rpb25Qcm92aWRlciBhcGlcbiAgICByZWdpc3RlclByb2plY3Rpb25zKHByb2plY3Rpb25zLCBzY29wZSkge1xuICAgICAgICB0aGlzLnByb2plY3Rpb25Qcm92aWRlci5yZWdpc3RlclByb2plY3Rpb25zKHByb2plY3Rpb25zLCBzY29wZSk7XG4gICAgfVxuICAgIGdldFByb2plY3Rpb25Gb3IoaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvblByb3ZpZGVyLmdldFByb2plY3Rpb25Gb3IoaW5zdHJ1Y3Rpb24pO1xuICAgIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBWaWV3RmFjdG9yeVByb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5mYWN0b3J5ID0gbnVsbDtcbiAgICB9XG4gICAgcHJlcGFyZShmYWN0b3J5KSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgfVxuICAgIGdldCAkaXNSZXNvbHZlcigpIHsgcmV0dXJuIHRydWU7IH1cbiAgICByZXNvbHZlKF9oYW5kbGVyLCBfcmVxdWVzdG9yKSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSB0aGlzLmZhY3Rvcnk7XG4gICAgICAgIGlmIChmYWN0b3J5ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZXNvbHZlIFZpZXdGYWN0b3J5IGJlZm9yZSB0aGUgcHJvdmlkZXIgd2FzIHByZXBhcmVkLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZmFjdG9yeS5uYW1lICE9PSAnc3RyaW5nJyB8fCBmYWN0b3J5Lm5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZXNvbHZlIFZpZXdGYWN0b3J5IHdpdGhvdXQgYSAodmFsaWQpIG5hbWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyLWNvbnRleHQuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/templating/render-context.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/templating/styles.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/templating/styles.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cssModules\": () => (/* binding */ cssModules),\n/* harmony export */   \"CSSModulesProcessorRegistry\": () => (/* binding */ CSSModulesProcessorRegistry),\n/* harmony export */   \"shadowCSS\": () => (/* binding */ shadowCSS),\n/* harmony export */   \"IShadowDOMStyleFactory\": () => (/* binding */ IShadowDOMStyleFactory),\n/* harmony export */   \"ShadowDOMRegistry\": () => (/* binding */ ShadowDOMRegistry),\n/* harmony export */   \"IShadowDOMStyles\": () => (/* binding */ IShadowDOMStyles),\n/* harmony export */   \"IShadowDOMGlobalStyles\": () => (/* binding */ IShadowDOMGlobalStyles),\n/* harmony export */   \"AdoptedStyleSheetsStyles\": () => (/* binding */ AdoptedStyleSheetsStyles),\n/* harmony export */   \"StyleElementStyles\": () => (/* binding */ StyleElementStyles),\n/* harmony export */   \"StyleConfiguration\": () => (/* binding */ StyleConfiguration)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _app_task_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app-task.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/app-task.js\");\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/dom.js\");\n/* harmony import */ var _observation_class_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../observation/class-attribute-accessor.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/observation/class-attribute-accessor.js\");\n/* harmony import */ var _platform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../platform.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/platform.js\");\n/* harmony import */ var _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../resources/custom-attribute.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-attribute.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n\n\n\n\n\n\nfunction cssModules(...modules) {\n    return new CSSModulesProcessorRegistry(modules);\n}\nclass CSSModulesProcessorRegistry {\n    constructor(modules) {\n        this.modules = modules;\n    }\n    register(container) {\n        var _a;\n        const classLookup = Object.assign({}, ...this.modules);\n        const ClassCustomAttribute = _resources_custom_attribute_js__WEBPACK_IMPORTED_MODULE_5__.CustomAttribute.define({\n            name: 'class',\n            bindables: ['value'],\n        }, (_a = class CustomAttributeClass {\n                constructor(element) {\n                    this.element = element;\n                }\n                binding() {\n                    this.valueChanged();\n                }\n                valueChanged() {\n                    if (!this.value) {\n                        this.element.className = '';\n                        return;\n                    }\n                    this.element.className = (0,_observation_class_attribute_accessor_js__WEBPACK_IMPORTED_MODULE_3__.getClassesToAdd)(this.value).map(x => classLookup[x] || x).join(' ');\n                }\n            },\n            _a.inject = [_dom_js__WEBPACK_IMPORTED_MODULE_2__.INode],\n            _a));\n        container.register(ClassCustomAttribute);\n    }\n}\nfunction shadowCSS(...css) {\n    return new ShadowDOMRegistry(css);\n}\nconst IShadowDOMStyleFactory = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IShadowDOMStyleFactory', x => x.cachedCallback(handler => {\n    if (AdoptedStyleSheetsStyles.supported(handler.get(_platform_js__WEBPACK_IMPORTED_MODULE_4__.IPlatform))) {\n        return handler.get(AdoptedStyleSheetsStylesFactory);\n    }\n    return handler.get(StyleElementStylesFactory);\n}));\nclass ShadowDOMRegistry {\n    constructor(css) {\n        this.css = css;\n    }\n    register(container) {\n        const sharedStyles = container.get(IShadowDOMGlobalStyles);\n        const factory = container.get(IShadowDOMStyleFactory);\n        container.register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.instance(IShadowDOMStyles, factory.createStyles(this.css, sharedStyles)));\n    }\n}\nlet AdoptedStyleSheetsStylesFactory = class AdoptedStyleSheetsStylesFactory {\n    constructor(p) {\n        this.p = p;\n        this.cache = new Map();\n    }\n    createStyles(localStyles, sharedStyles) {\n        return new AdoptedStyleSheetsStyles(this.p, localStyles, this.cache, sharedStyles);\n    }\n};\nAdoptedStyleSheetsStylesFactory = __decorate([\n    __param(0, _platform_js__WEBPACK_IMPORTED_MODULE_4__.IPlatform)\n], AdoptedStyleSheetsStylesFactory);\nlet StyleElementStylesFactory = class StyleElementStylesFactory {\n    constructor(p) {\n        this.p = p;\n    }\n    createStyles(localStyles, sharedStyles) {\n        return new StyleElementStyles(this.p, localStyles, sharedStyles);\n    }\n};\nStyleElementStylesFactory = __decorate([\n    __param(0, _platform_js__WEBPACK_IMPORTED_MODULE_4__.IPlatform)\n], StyleElementStylesFactory);\nconst IShadowDOMStyles = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IShadowDOMStyles');\nconst IShadowDOMGlobalStyles = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IShadowDOMGlobalStyles', x => x.instance({ applyTo: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.noop }));\nclass AdoptedStyleSheetsStyles {\n    constructor(p, localStyles, styleSheetCache, sharedStyles = null) {\n        this.sharedStyles = sharedStyles;\n        this.styleSheets = localStyles.map(x => {\n            let sheet;\n            if (x instanceof p.CSSStyleSheet) {\n                sheet = x;\n            }\n            else {\n                sheet = styleSheetCache.get(x);\n                if (sheet === void 0) {\n                    sheet = new p.CSSStyleSheet();\n                    sheet.replaceSync(x);\n                    styleSheetCache.set(x, sheet);\n                }\n            }\n            return sheet;\n        });\n    }\n    static supported(p) {\n        return 'adoptedStyleSheets' in p.ShadowRoot.prototype;\n    }\n    applyTo(shadowRoot) {\n        if (this.sharedStyles !== null) {\n            this.sharedStyles.applyTo(shadowRoot);\n        }\n        // https://wicg.github.io/construct-stylesheets/\n        // https://developers.google.com/web/updates/2019/02/constructable-stylesheets\n        shadowRoot.adoptedStyleSheets = [\n            ...shadowRoot.adoptedStyleSheets,\n            ...this.styleSheets\n        ];\n    }\n}\nclass StyleElementStyles {\n    constructor(p, localStyles, sharedStyles = null) {\n        this.p = p;\n        this.localStyles = localStyles;\n        this.sharedStyles = sharedStyles;\n    }\n    applyTo(shadowRoot) {\n        const styles = this.localStyles;\n        const p = this.p;\n        for (let i = styles.length - 1; i > -1; --i) {\n            const element = p.document.createElement('style');\n            element.innerHTML = styles[i];\n            shadowRoot.prepend(element);\n        }\n        if (this.sharedStyles !== null) {\n            this.sharedStyles.applyTo(shadowRoot);\n        }\n    }\n}\nconst StyleConfiguration = {\n    shadowDOM(config) {\n        return _app_task_js__WEBPACK_IMPORTED_MODULE_1__.AppTask.with(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IContainer).beforeCreate().call(container => {\n            if (config.sharedStyles != null) {\n                const factory = container.get(IShadowDOMStyleFactory);\n                container.register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.instance(IShadowDOMGlobalStyles, factory.createStyles(config.sharedStyles, null)));\n            }\n        });\n    }\n};\n//# sourceMappingURL=styles.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRpbmcvc3R5bGVzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS90ZW1wbGF0aW5nL3N0eWxlcy5qcz81MWY4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xuaW1wb3J0IHsgSUNvbnRhaW5lciwgUmVnaXN0cmF0aW9uLCBESSwgbm9vcCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBBcHBUYXNrIH0gZnJvbSAnLi4vYXBwLXRhc2suanMnO1xuaW1wb3J0IHsgSU5vZGUgfSBmcm9tICcuLi9kb20uanMnO1xuaW1wb3J0IHsgZ2V0Q2xhc3Nlc1RvQWRkIH0gZnJvbSAnLi4vb2JzZXJ2YXRpb24vY2xhc3MtYXR0cmlidXRlLWFjY2Vzc29yLmpzJztcbmltcG9ydCB7IElQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtLmpzJztcbmltcG9ydCB7IEN1c3RvbUF0dHJpYnV0ZSB9IGZyb20gJy4uL3Jlc291cmNlcy9jdXN0b20tYXR0cmlidXRlLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBjc3NNb2R1bGVzKC4uLm1vZHVsZXMpIHtcbiAgICByZXR1cm4gbmV3IENTU01vZHVsZXNQcm9jZXNzb3JSZWdpc3RyeShtb2R1bGVzKTtcbn1cbmV4cG9ydCBjbGFzcyBDU1NNb2R1bGVzUHJvY2Vzc29yUmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKG1vZHVsZXMpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzID0gbW9kdWxlcztcbiAgICB9XG4gICAgcmVnaXN0ZXIoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY2xhc3NMb29rdXAgPSBPYmplY3QuYXNzaWduKHt9LCAuLi50aGlzLm1vZHVsZXMpO1xuICAgICAgICBjb25zdCBDbGFzc0N1c3RvbUF0dHJpYnV0ZSA9IEN1c3RvbUF0dHJpYnV0ZS5kZWZpbmUoe1xuICAgICAgICAgICAgbmFtZTogJ2NsYXNzJyxcbiAgICAgICAgICAgIGJpbmRhYmxlczogWyd2YWx1ZSddLFxuICAgICAgICB9LCAoX2EgPSBjbGFzcyBDdXN0b21BdHRyaWJ1dGVDbGFzcyB7XG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiaW5kaW5nKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZUNoYW5nZWQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBnZXRDbGFzc2VzVG9BZGQodGhpcy52YWx1ZSkubWFwKHggPT4gY2xhc3NMb29rdXBbeF0gfHwgeCkuam9pbignICcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYS5pbmplY3QgPSBbSU5vZGVdLFxuICAgICAgICAgICAgX2EpKTtcbiAgICAgICAgY29udGFpbmVyLnJlZ2lzdGVyKENsYXNzQ3VzdG9tQXR0cmlidXRlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2hhZG93Q1NTKC4uLmNzcykge1xuICAgIHJldHVybiBuZXcgU2hhZG93RE9NUmVnaXN0cnkoY3NzKTtcbn1cbmV4cG9ydCBjb25zdCBJU2hhZG93RE9NU3R5bGVGYWN0b3J5ID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJU2hhZG93RE9NU3R5bGVGYWN0b3J5JywgeCA9PiB4LmNhY2hlZENhbGxiYWNrKGhhbmRsZXIgPT4ge1xuICAgIGlmIChBZG9wdGVkU3R5bGVTaGVldHNTdHlsZXMuc3VwcG9ydGVkKGhhbmRsZXIuZ2V0KElQbGF0Zm9ybSkpKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVyLmdldChBZG9wdGVkU3R5bGVTaGVldHNTdHlsZXNGYWN0b3J5KTtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZXIuZ2V0KFN0eWxlRWxlbWVudFN0eWxlc0ZhY3RvcnkpO1xufSkpO1xuZXhwb3J0IGNsYXNzIFNoYWRvd0RPTVJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3Rvcihjc3MpIHtcbiAgICAgICAgdGhpcy5jc3MgPSBjc3M7XG4gICAgfVxuICAgIHJlZ2lzdGVyKGNvbnRhaW5lcikge1xuICAgICAgICBjb25zdCBzaGFyZWRTdHlsZXMgPSBjb250YWluZXIuZ2V0KElTaGFkb3dET01HbG9iYWxTdHlsZXMpO1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gY29udGFpbmVyLmdldChJU2hhZG93RE9NU3R5bGVGYWN0b3J5KTtcbiAgICAgICAgY29udGFpbmVyLnJlZ2lzdGVyKFJlZ2lzdHJhdGlvbi5pbnN0YW5jZShJU2hhZG93RE9NU3R5bGVzLCBmYWN0b3J5LmNyZWF0ZVN0eWxlcyh0aGlzLmNzcywgc2hhcmVkU3R5bGVzKSkpO1xuICAgIH1cbn1cbmxldCBBZG9wdGVkU3R5bGVTaGVldHNTdHlsZXNGYWN0b3J5ID0gY2xhc3MgQWRvcHRlZFN0eWxlU2hlZXRzU3R5bGVzRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IocCkge1xuICAgICAgICB0aGlzLnAgPSBwO1xuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBjcmVhdGVTdHlsZXMobG9jYWxTdHlsZXMsIHNoYXJlZFN0eWxlcykge1xuICAgICAgICByZXR1cm4gbmV3IEFkb3B0ZWRTdHlsZVNoZWV0c1N0eWxlcyh0aGlzLnAsIGxvY2FsU3R5bGVzLCB0aGlzLmNhY2hlLCBzaGFyZWRTdHlsZXMpO1xuICAgIH1cbn07XG5BZG9wdGVkU3R5bGVTaGVldHNTdHlsZXNGYWN0b3J5ID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgwLCBJUGxhdGZvcm0pXG5dLCBBZG9wdGVkU3R5bGVTaGVldHNTdHlsZXNGYWN0b3J5KTtcbmxldCBTdHlsZUVsZW1lbnRTdHlsZXNGYWN0b3J5ID0gY2xhc3MgU3R5bGVFbGVtZW50U3R5bGVzRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IocCkge1xuICAgICAgICB0aGlzLnAgPSBwO1xuICAgIH1cbiAgICBjcmVhdGVTdHlsZXMobG9jYWxTdHlsZXMsIHNoYXJlZFN0eWxlcykge1xuICAgICAgICByZXR1cm4gbmV3IFN0eWxlRWxlbWVudFN0eWxlcyh0aGlzLnAsIGxvY2FsU3R5bGVzLCBzaGFyZWRTdHlsZXMpO1xuICAgIH1cbn07XG5TdHlsZUVsZW1lbnRTdHlsZXNGYWN0b3J5ID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgwLCBJUGxhdGZvcm0pXG5dLCBTdHlsZUVsZW1lbnRTdHlsZXNGYWN0b3J5KTtcbmV4cG9ydCBjb25zdCBJU2hhZG93RE9NU3R5bGVzID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJU2hhZG93RE9NU3R5bGVzJyk7XG5leHBvcnQgY29uc3QgSVNoYWRvd0RPTUdsb2JhbFN0eWxlcyA9IERJLmNyZWF0ZUludGVyZmFjZSgnSVNoYWRvd0RPTUdsb2JhbFN0eWxlcycsIHggPT4geC5pbnN0YW5jZSh7IGFwcGx5VG86IG5vb3AgfSkpO1xuZXhwb3J0IGNsYXNzIEFkb3B0ZWRTdHlsZVNoZWV0c1N0eWxlcyB7XG4gICAgY29uc3RydWN0b3IocCwgbG9jYWxTdHlsZXMsIHN0eWxlU2hlZXRDYWNoZSwgc2hhcmVkU3R5bGVzID0gbnVsbCkge1xuICAgICAgICB0aGlzLnNoYXJlZFN0eWxlcyA9IHNoYXJlZFN0eWxlcztcbiAgICAgICAgdGhpcy5zdHlsZVNoZWV0cyA9IGxvY2FsU3R5bGVzLm1hcCh4ID0+IHtcbiAgICAgICAgICAgIGxldCBzaGVldDtcbiAgICAgICAgICAgIGlmICh4IGluc3RhbmNlb2YgcC5DU1NTdHlsZVNoZWV0KSB7XG4gICAgICAgICAgICAgICAgc2hlZXQgPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hlZXQgPSBzdHlsZVNoZWV0Q2FjaGUuZ2V0KHgpO1xuICAgICAgICAgICAgICAgIGlmIChzaGVldCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoZWV0ID0gbmV3IHAuQ1NTU3R5bGVTaGVldCgpO1xuICAgICAgICAgICAgICAgICAgICBzaGVldC5yZXBsYWNlU3luYyh4KTtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVTaGVldENhY2hlLnNldCh4LCBzaGVldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNoZWV0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIHN1cHBvcnRlZChwKSB7XG4gICAgICAgIHJldHVybiAnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBwLlNoYWRvd1Jvb3QucHJvdG90eXBlO1xuICAgIH1cbiAgICBhcHBseVRvKHNoYWRvd1Jvb3QpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhcmVkU3R5bGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXJlZFN0eWxlcy5hcHBseVRvKHNoYWRvd1Jvb3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29uc3RydWN0LXN0eWxlc2hlZXRzL1xuICAgICAgICAvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvdXBkYXRlcy8yMDE5LzAyL2NvbnN0cnVjdGFibGUtc3R5bGVzaGVldHNcbiAgICAgICAgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgPSBbXG4gICAgICAgICAgICAuLi5zaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyxcbiAgICAgICAgICAgIC4uLnRoaXMuc3R5bGVTaGVldHNcbiAgICAgICAgXTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU3R5bGVFbGVtZW50U3R5bGVzIHtcbiAgICBjb25zdHJ1Y3RvcihwLCBsb2NhbFN0eWxlcywgc2hhcmVkU3R5bGVzID0gbnVsbCkge1xuICAgICAgICB0aGlzLnAgPSBwO1xuICAgICAgICB0aGlzLmxvY2FsU3R5bGVzID0gbG9jYWxTdHlsZXM7XG4gICAgICAgIHRoaXMuc2hhcmVkU3R5bGVzID0gc2hhcmVkU3R5bGVzO1xuICAgIH1cbiAgICBhcHBseVRvKHNoYWRvd1Jvb3QpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gdGhpcy5sb2NhbFN0eWxlcztcbiAgICAgICAgY29uc3QgcCA9IHRoaXMucDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0eWxlcy5sZW5ndGggLSAxOyBpID4gLTE7IC0taSkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHAuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gc3R5bGVzW2ldO1xuICAgICAgICAgICAgc2hhZG93Um9vdC5wcmVwZW5kKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNoYXJlZFN0eWxlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zaGFyZWRTdHlsZXMuYXBwbHlUbyhzaGFkb3dSb290KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBTdHlsZUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgc2hhZG93RE9NKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gQXBwVGFzay53aXRoKElDb250YWluZXIpLmJlZm9yZUNyZWF0ZSgpLmNhbGwoY29udGFpbmVyID0+IHtcbiAgICAgICAgICAgIGlmIChjb25maWcuc2hhcmVkU3R5bGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gY29udGFpbmVyLmdldChJU2hhZG93RE9NU3R5bGVGYWN0b3J5KTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIucmVnaXN0ZXIoUmVnaXN0cmF0aW9uLmluc3RhbmNlKElTaGFkb3dET01HbG9iYWxTdHlsZXMsIGZhY3RvcnkuY3JlYXRlU3R5bGVzKGNvbmZpZy5zaGFyZWRTdHlsZXMsIG51bGwpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZXMuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/templating/styles.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js":
/*!************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IViewFactory\": () => (/* binding */ IViewFactory),\n/* harmony export */   \"ViewFactory\": () => (/* binding */ ViewFactory),\n/* harmony export */   \"Views\": () => (/* binding */ Views),\n/* harmony export */   \"view\": () => (/* binding */ view),\n/* harmony export */   \"IViewLocator\": () => (/* binding */ IViewLocator),\n/* harmony export */   \"ViewLocator\": () => (/* binding */ ViewLocator)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n/* harmony import */ var _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../resources/custom-element.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/resources/custom-element.js\");\n/* harmony import */ var _controller_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controller.js */ \"./node_modules/@aurelia/runtime-html/dist/esm/templating/controller.js\");\n\n\n\n\nconst IViewFactory = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IViewFactory');\nclass ViewFactory {\n    constructor(name, context, contentType, projectionScope = null) {\n        this.name = name;\n        this.context = context;\n        this.contentType = contentType;\n        this.projectionScope = projectionScope;\n        this.isCaching = false;\n        this.cache = null;\n        this.cacheSize = -1;\n    }\n    setCacheSize(size, doNotOverrideIfAlreadySet) {\n        if (size) {\n            if (size === '*') {\n                size = ViewFactory.maxCacheSize;\n            }\n            else if (typeof size === 'string') {\n                size = parseInt(size, 10);\n            }\n            if (this.cacheSize === -1 || !doNotOverrideIfAlreadySet) {\n                this.cacheSize = size;\n            }\n        }\n        if (this.cacheSize > 0) {\n            this.cache = [];\n        }\n        else {\n            this.cache = null;\n        }\n        this.isCaching = this.cacheSize > 0;\n    }\n    canReturnToCache(controller) {\n        return this.cache != null && this.cache.length < this.cacheSize;\n    }\n    tryReturnToCache(controller) {\n        if (this.canReturnToCache(controller)) {\n            this.cache.push(controller);\n            return true;\n        }\n        return false;\n    }\n    create(flags, parentController) {\n        const cache = this.cache;\n        let controller;\n        if (cache != null && cache.length > 0) {\n            controller = cache.pop();\n            return controller;\n        }\n        controller = _controller_js__WEBPACK_IMPORTED_MODULE_3__.Controller.forSyntheticView(null, this.context, this, flags, parentController);\n        return controller;\n    }\n}\nViewFactory.maxCacheSize = 0xFFFF;\nconst seenViews = new WeakSet();\nfunction notYetSeen($view) {\n    return !seenViews.has($view);\n}\nfunction toCustomElementDefinition($view) {\n    seenViews.add($view);\n    return _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_2__.CustomElementDefinition.create($view);\n}\nconst Views = {\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.keyFor('views'),\n    has(value) {\n        return typeof value === 'function' && (_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.hasOwn(Views.name, value) || '$views' in value);\n    },\n    get(value) {\n        if (typeof value === 'function' && '$views' in value) {\n            // TODO: a `get` operation with side effects is not a good thing. Should refactor this to a proper resource kind.\n            const $views = value.$views;\n            const definitions = $views.filter(notYetSeen).map(toCustomElementDefinition);\n            for (const def of definitions) {\n                Views.add(value, def);\n            }\n        }\n        let views = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(Views.name, value);\n        if (views === void 0) {\n            _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(Views.name, views = [], value);\n        }\n        return views;\n    },\n    add(Type, partialDefinition) {\n        const definition = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_2__.CustomElementDefinition.create(partialDefinition);\n        let views = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(Views.name, Type);\n        if (views === void 0) {\n            _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(Views.name, views = [definition], Type);\n        }\n        else {\n            views.push(definition);\n        }\n        return views;\n    },\n};\nfunction view(v) {\n    return function (target) {\n        Views.add(target, v);\n    };\n}\nconst IViewLocator = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IViewLocator', x => x.singleton(ViewLocator));\nclass ViewLocator {\n    constructor() {\n        this.modelInstanceToBoundComponent = new WeakMap();\n        this.modelTypeToUnboundComponent = new Map();\n    }\n    getViewComponentForObject(object, viewNameOrSelector) {\n        if (object) {\n            const availableViews = Views.has(object.constructor) ? Views.get(object.constructor) : [];\n            const resolvedViewName = typeof viewNameOrSelector === 'function'\n                ? viewNameOrSelector(object, availableViews)\n                : this.getViewName(availableViews, viewNameOrSelector);\n            return this.getOrCreateBoundComponent(object, availableViews, resolvedViewName);\n        }\n        return null;\n    }\n    getOrCreateBoundComponent(object, availableViews, resolvedViewName) {\n        let lookup = this.modelInstanceToBoundComponent.get(object);\n        let BoundComponent;\n        if (lookup === void 0) {\n            lookup = {};\n            this.modelInstanceToBoundComponent.set(object, lookup);\n        }\n        else {\n            BoundComponent = lookup[resolvedViewName];\n        }\n        if (BoundComponent === void 0) {\n            const UnboundComponent = this.getOrCreateUnboundComponent(object, availableViews, resolvedViewName);\n            BoundComponent = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_2__.CustomElement.define(_resources_custom_element_js__WEBPACK_IMPORTED_MODULE_2__.CustomElement.getDefinition(UnboundComponent), class extends UnboundComponent {\n                constructor() {\n                    super(object);\n                }\n            });\n            lookup[resolvedViewName] = BoundComponent;\n        }\n        return BoundComponent;\n    }\n    getOrCreateUnboundComponent(object, availableViews, resolvedViewName) {\n        let lookup = this.modelTypeToUnboundComponent.get(object.constructor);\n        let UnboundComponent;\n        if (lookup === void 0) {\n            lookup = {};\n            this.modelTypeToUnboundComponent.set(object.constructor, lookup);\n        }\n        else {\n            UnboundComponent = lookup[resolvedViewName];\n        }\n        if (UnboundComponent === void 0) {\n            UnboundComponent = _resources_custom_element_js__WEBPACK_IMPORTED_MODULE_2__.CustomElement.define(this.getView(availableViews, resolvedViewName), class {\n                constructor(viewModel) {\n                    this.viewModel = viewModel;\n                }\n                define(controller, parentContainer, definition) {\n                    const vm = this.viewModel;\n                    controller.scope = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_1__.Scope.fromParent(controller.scope, vm);\n                    if (vm.define !== void 0) {\n                        return vm.define(controller, parentContainer, definition);\n                    }\n                }\n            });\n            const proto = UnboundComponent.prototype;\n            if ('hydrating' in object) {\n                proto.hydrating = function hydrating(controller) {\n                    this.viewModel.hydrating(controller);\n                };\n            }\n            if ('hydrated' in object) {\n                proto.hydrated = function hydrated(controller) {\n                    this.viewModel.hydrated(controller);\n                };\n            }\n            if ('created' in object) {\n                proto.created = function created(controller) {\n                    this.viewModel.created(controller);\n                };\n            }\n            if ('binding' in object) {\n                proto.binding = function binding(initiator, parent, flags) {\n                    return this.viewModel.binding(initiator, parent, flags);\n                };\n            }\n            if ('bound' in object) {\n                proto.bound = function bound(initiator, parent, flags) {\n                    return this.viewModel.bound(initiator, parent, flags);\n                };\n            }\n            if ('attaching' in object) {\n                proto.attaching = function attaching(initiator, parent, flags) {\n                    return this.viewModel.attaching(initiator, parent, flags);\n                };\n            }\n            if ('attached' in object) {\n                proto.attached = function attached(initiator, flags) {\n                    return this.viewModel.attached(initiator, flags);\n                };\n            }\n            if ('detaching' in object) {\n                proto.detaching = function detaching(initiator, parent, flags) {\n                    return this.viewModel.detaching(initiator, parent, flags);\n                };\n            }\n            if ('unbinding' in object) {\n                proto.unbinding = function unbinding(initiator, parent, flags) {\n                    return this.viewModel.unbinding(initiator, parent, flags);\n                };\n            }\n            if ('dispose' in object) {\n                proto.dispose = function dispose() {\n                    this.viewModel.dispose();\n                };\n            }\n            lookup[resolvedViewName] = UnboundComponent;\n        }\n        return UnboundComponent;\n    }\n    getViewName(views, requestedName) {\n        if (requestedName) {\n            return requestedName;\n        }\n        if (views.length === 1) {\n            return views[0].name;\n        }\n        return 'default-view';\n    }\n    getView(views, name) {\n        const v = views.find(x => x.name === name);\n        if (v === void 0) {\n            throw new Error(`Could not find view: ${name}`);\n        }\n        return v;\n    }\n}\n//# sourceMappingURL=view.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRpbmcvdmlldy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lLWh0bWwvZGlzdC9lc20vdGVtcGxhdGluZy92aWV3LmpzP2U4M2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREksIE1ldGFkYXRhLCBQcm90b2NvbCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBTY29wZSB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuaW1wb3J0IHsgQ3VzdG9tRWxlbWVudCwgQ3VzdG9tRWxlbWVudERlZmluaXRpb24gfSBmcm9tICcuLi9yZXNvdXJjZXMvY3VzdG9tLWVsZW1lbnQuanMnO1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbGxlci5qcyc7XG5leHBvcnQgY29uc3QgSVZpZXdGYWN0b3J5ID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJVmlld0ZhY3RvcnknKTtcbmV4cG9ydCBjbGFzcyBWaWV3RmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgY29udGV4dCwgY29udGVudFR5cGUsIHByb2plY3Rpb25TY29wZSA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgICAgICB0aGlzLnByb2plY3Rpb25TY29wZSA9IHByb2plY3Rpb25TY29wZTtcbiAgICAgICAgdGhpcy5pc0NhY2hpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYWNoZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FjaGVTaXplID0gLTE7XG4gICAgfVxuICAgIHNldENhY2hlU2l6ZShzaXplLCBkb05vdE92ZXJyaWRlSWZBbHJlYWR5U2V0KSB7XG4gICAgICAgIGlmIChzaXplKSB7XG4gICAgICAgICAgICBpZiAoc2l6ZSA9PT0gJyonKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IFZpZXdGYWN0b3J5Lm1heENhY2hlU2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzaXplID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHNpemUgPSBwYXJzZUludChzaXplLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jYWNoZVNpemUgPT09IC0xIHx8ICFkb05vdE92ZXJyaWRlSWZBbHJlYWR5U2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZVNpemUgPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNhY2hlU2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNDYWNoaW5nID0gdGhpcy5jYWNoZVNpemUgPiAwO1xuICAgIH1cbiAgICBjYW5SZXR1cm5Ub0NhY2hlKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUgIT0gbnVsbCAmJiB0aGlzLmNhY2hlLmxlbmd0aCA8IHRoaXMuY2FjaGVTaXplO1xuICAgIH1cbiAgICB0cnlSZXR1cm5Ub0NhY2hlKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuUmV0dXJuVG9DYWNoZShjb250cm9sbGVyKSkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZS5wdXNoKGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjcmVhdGUoZmxhZ3MsIHBhcmVudENvbnRyb2xsZXIpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlO1xuICAgICAgICBsZXQgY29udHJvbGxlcjtcbiAgICAgICAgaWYgKGNhY2hlICE9IG51bGwgJiYgY2FjaGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29udHJvbGxlciA9IGNhY2hlLnBvcCgpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXI7XG4gICAgICAgIH1cbiAgICAgICAgY29udHJvbGxlciA9IENvbnRyb2xsZXIuZm9yU3ludGhldGljVmlldyhudWxsLCB0aGlzLmNvbnRleHQsIHRoaXMsIGZsYWdzLCBwYXJlbnRDb250cm9sbGVyKTtcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXI7XG4gICAgfVxufVxuVmlld0ZhY3RvcnkubWF4Q2FjaGVTaXplID0gMHhGRkZGO1xuY29uc3Qgc2VlblZpZXdzID0gbmV3IFdlYWtTZXQoKTtcbmZ1bmN0aW9uIG5vdFlldFNlZW4oJHZpZXcpIHtcbiAgICByZXR1cm4gIXNlZW5WaWV3cy5oYXMoJHZpZXcpO1xufVxuZnVuY3Rpb24gdG9DdXN0b21FbGVtZW50RGVmaW5pdGlvbigkdmlldykge1xuICAgIHNlZW5WaWV3cy5hZGQoJHZpZXcpO1xuICAgIHJldHVybiBDdXN0b21FbGVtZW50RGVmaW5pdGlvbi5jcmVhdGUoJHZpZXcpO1xufVxuZXhwb3J0IGNvbnN0IFZpZXdzID0ge1xuICAgIG5hbWU6IFByb3RvY29sLnJlc291cmNlLmtleUZvcigndmlld3MnKSxcbiAgICBoYXModmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAoTWV0YWRhdGEuaGFzT3duKFZpZXdzLm5hbWUsIHZhbHVlKSB8fCAnJHZpZXdzJyBpbiB2YWx1ZSk7XG4gICAgfSxcbiAgICBnZXQodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAnJHZpZXdzJyBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgLy8gVE9ETzogYSBgZ2V0YCBvcGVyYXRpb24gd2l0aCBzaWRlIGVmZmVjdHMgaXMgbm90IGEgZ29vZCB0aGluZy4gU2hvdWxkIHJlZmFjdG9yIHRoaXMgdG8gYSBwcm9wZXIgcmVzb3VyY2Uga2luZC5cbiAgICAgICAgICAgIGNvbnN0ICR2aWV3cyA9IHZhbHVlLiR2aWV3cztcbiAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb25zID0gJHZpZXdzLmZpbHRlcihub3RZZXRTZWVuKS5tYXAodG9DdXN0b21FbGVtZW50RGVmaW5pdGlvbik7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRlZiBvZiBkZWZpbml0aW9ucykge1xuICAgICAgICAgICAgICAgIFZpZXdzLmFkZCh2YWx1ZSwgZGVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgdmlld3MgPSBNZXRhZGF0YS5nZXRPd24oVmlld3MubmFtZSwgdmFsdWUpO1xuICAgICAgICBpZiAodmlld3MgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgTWV0YWRhdGEuZGVmaW5lKFZpZXdzLm5hbWUsIHZpZXdzID0gW10sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlld3M7XG4gICAgfSxcbiAgICBhZGQoVHlwZSwgcGFydGlhbERlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLmNyZWF0ZShwYXJ0aWFsRGVmaW5pdGlvbik7XG4gICAgICAgIGxldCB2aWV3cyA9IE1ldGFkYXRhLmdldE93bihWaWV3cy5uYW1lLCBUeXBlKTtcbiAgICAgICAgaWYgKHZpZXdzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlZmluZShWaWV3cy5uYW1lLCB2aWV3cyA9IFtkZWZpbml0aW9uXSwgVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2aWV3cy5wdXNoKGRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3cztcbiAgICB9LFxufTtcbmV4cG9ydCBmdW5jdGlvbiB2aWV3KHYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBWaWV3cy5hZGQodGFyZ2V0LCB2KTtcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IElWaWV3TG9jYXRvciA9IERJLmNyZWF0ZUludGVyZmFjZSgnSVZpZXdMb2NhdG9yJywgeCA9PiB4LnNpbmdsZXRvbihWaWV3TG9jYXRvcikpO1xuZXhwb3J0IGNsYXNzIFZpZXdMb2NhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tb2RlbEluc3RhbmNlVG9Cb3VuZENvbXBvbmVudCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMubW9kZWxUeXBlVG9VbmJvdW5kQ29tcG9uZW50ID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXRWaWV3Q29tcG9uZW50Rm9yT2JqZWN0KG9iamVjdCwgdmlld05hbWVPclNlbGVjdG9yKSB7XG4gICAgICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZVZpZXdzID0gVmlld3MuaGFzKG9iamVjdC5jb25zdHJ1Y3RvcikgPyBWaWV3cy5nZXQob2JqZWN0LmNvbnN0cnVjdG9yKSA6IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWRWaWV3TmFtZSA9IHR5cGVvZiB2aWV3TmFtZU9yU2VsZWN0b3IgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IHZpZXdOYW1lT3JTZWxlY3RvcihvYmplY3QsIGF2YWlsYWJsZVZpZXdzKVxuICAgICAgICAgICAgICAgIDogdGhpcy5nZXRWaWV3TmFtZShhdmFpbGFibGVWaWV3cywgdmlld05hbWVPclNlbGVjdG9yKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9yQ3JlYXRlQm91bmRDb21wb25lbnQob2JqZWN0LCBhdmFpbGFibGVWaWV3cywgcmVzb2x2ZWRWaWV3TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGdldE9yQ3JlYXRlQm91bmRDb21wb25lbnQob2JqZWN0LCBhdmFpbGFibGVWaWV3cywgcmVzb2x2ZWRWaWV3TmFtZSkge1xuICAgICAgICBsZXQgbG9va3VwID0gdGhpcy5tb2RlbEluc3RhbmNlVG9Cb3VuZENvbXBvbmVudC5nZXQob2JqZWN0KTtcbiAgICAgICAgbGV0IEJvdW5kQ29tcG9uZW50O1xuICAgICAgICBpZiAobG9va3VwID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGxvb2t1cCA9IHt9O1xuICAgICAgICAgICAgdGhpcy5tb2RlbEluc3RhbmNlVG9Cb3VuZENvbXBvbmVudC5zZXQob2JqZWN0LCBsb29rdXApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgQm91bmRDb21wb25lbnQgPSBsb29rdXBbcmVzb2x2ZWRWaWV3TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJvdW5kQ29tcG9uZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IFVuYm91bmRDb21wb25lbnQgPSB0aGlzLmdldE9yQ3JlYXRlVW5ib3VuZENvbXBvbmVudChvYmplY3QsIGF2YWlsYWJsZVZpZXdzLCByZXNvbHZlZFZpZXdOYW1lKTtcbiAgICAgICAgICAgIEJvdW5kQ29tcG9uZW50ID0gQ3VzdG9tRWxlbWVudC5kZWZpbmUoQ3VzdG9tRWxlbWVudC5nZXREZWZpbml0aW9uKFVuYm91bmRDb21wb25lbnQpLCBjbGFzcyBleHRlbmRzIFVuYm91bmRDb21wb25lbnQge1xuICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgICAgICBzdXBlcihvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbG9va3VwW3Jlc29sdmVkVmlld05hbWVdID0gQm91bmRDb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJvdW5kQ29tcG9uZW50O1xuICAgIH1cbiAgICBnZXRPckNyZWF0ZVVuYm91bmRDb21wb25lbnQob2JqZWN0LCBhdmFpbGFibGVWaWV3cywgcmVzb2x2ZWRWaWV3TmFtZSkge1xuICAgICAgICBsZXQgbG9va3VwID0gdGhpcy5tb2RlbFR5cGVUb1VuYm91bmRDb21wb25lbnQuZ2V0KG9iamVjdC5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIGxldCBVbmJvdW5kQ29tcG9uZW50O1xuICAgICAgICBpZiAobG9va3VwID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGxvb2t1cCA9IHt9O1xuICAgICAgICAgICAgdGhpcy5tb2RlbFR5cGVUb1VuYm91bmRDb21wb25lbnQuc2V0KG9iamVjdC5jb25zdHJ1Y3RvciwgbG9va3VwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFVuYm91bmRDb21wb25lbnQgPSBsb29rdXBbcmVzb2x2ZWRWaWV3TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFVuYm91bmRDb21wb25lbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgVW5ib3VuZENvbXBvbmVudCA9IEN1c3RvbUVsZW1lbnQuZGVmaW5lKHRoaXMuZ2V0VmlldyhhdmFpbGFibGVWaWV3cywgcmVzb2x2ZWRWaWV3TmFtZSksIGNsYXNzIHtcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3Rvcih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwgPSB2aWV3TW9kZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmluZShjb250cm9sbGVyLCBwYXJlbnRDb250YWluZXIsIGRlZmluaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdm0gPSB0aGlzLnZpZXdNb2RlbDtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5zY29wZSA9IFNjb3BlLmZyb21QYXJlbnQoY29udHJvbGxlci5zY29wZSwgdm0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodm0uZGVmaW5lICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2bS5kZWZpbmUoY29udHJvbGxlciwgcGFyZW50Q29udGFpbmVyLCBkZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgcHJvdG8gPSBVbmJvdW5kQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgICAgICAgICAgIGlmICgnaHlkcmF0aW5nJyBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBwcm90by5oeWRyYXRpbmcgPSBmdW5jdGlvbiBoeWRyYXRpbmcoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5oeWRyYXRpbmcoY29udHJvbGxlcik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnaHlkcmF0ZWQnIGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIHByb3RvLmh5ZHJhdGVkID0gZnVuY3Rpb24gaHlkcmF0ZWQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5oeWRyYXRlZChjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdjcmVhdGVkJyBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBwcm90by5jcmVhdGVkID0gZnVuY3Rpb24gY3JlYXRlZChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLmNyZWF0ZWQoY29udHJvbGxlcik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnYmluZGluZycgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcHJvdG8uYmluZGluZyA9IGZ1bmN0aW9uIGJpbmRpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdNb2RlbC5iaW5kaW5nKGluaXRpYXRvciwgcGFyZW50LCBmbGFncyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnYm91bmQnIGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIHByb3RvLmJvdW5kID0gZnVuY3Rpb24gYm91bmQoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdNb2RlbC5ib3VuZChpbml0aWF0b3IsIHBhcmVudCwgZmxhZ3MpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ2F0dGFjaGluZycgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcHJvdG8uYXR0YWNoaW5nID0gZnVuY3Rpb24gYXR0YWNoaW5nKGluaXRpYXRvciwgcGFyZW50LCBmbGFncykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3TW9kZWwuYXR0YWNoaW5nKGluaXRpYXRvciwgcGFyZW50LCBmbGFncyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnYXR0YWNoZWQnIGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIHByb3RvLmF0dGFjaGVkID0gZnVuY3Rpb24gYXR0YWNoZWQoaW5pdGlhdG9yLCBmbGFncykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3TW9kZWwuYXR0YWNoZWQoaW5pdGlhdG9yLCBmbGFncyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnZGV0YWNoaW5nJyBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBwcm90by5kZXRhY2hpbmcgPSBmdW5jdGlvbiBkZXRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdNb2RlbC5kZXRhY2hpbmcoaW5pdGlhdG9yLCBwYXJlbnQsIGZsYWdzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCd1bmJpbmRpbmcnIGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIHByb3RvLnVuYmluZGluZyA9IGZ1bmN0aW9uIHVuYmluZGluZyhpbml0aWF0b3IsIHBhcmVudCwgZmxhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld01vZGVsLnVuYmluZGluZyhpbml0aWF0b3IsIHBhcmVudCwgZmxhZ3MpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ2Rpc3Bvc2UnIGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIHByb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvb2t1cFtyZXNvbHZlZFZpZXdOYW1lXSA9IFVuYm91bmRDb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFVuYm91bmRDb21wb25lbnQ7XG4gICAgfVxuICAgIGdldFZpZXdOYW1lKHZpZXdzLCByZXF1ZXN0ZWROYW1lKSB7XG4gICAgICAgIGlmIChyZXF1ZXN0ZWROYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdGVkTmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlld3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlld3NbMF0ubmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ2RlZmF1bHQtdmlldyc7XG4gICAgfVxuICAgIGdldFZpZXcodmlld3MsIG5hbWUpIHtcbiAgICAgICAgY29uc3QgdiA9IHZpZXdzLmZpbmQoeCA9PiB4Lm5hbWUgPT09IG5hbWUpO1xuICAgICAgICBpZiAodiA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIHZpZXc6ICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/templating/view.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/templating/watchers.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/templating/watchers.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ComputedWatcher\": () => (/* binding */ ComputedWatcher),\n/* harmony export */   \"ExpressionWatcher\": () => (/* binding */ ExpressionWatcher)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime */ \"./node_modules/@aurelia/runtime/dist/esm/index.js\");\n\nconst { enter, exit } = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.ConnectableSwitcher;\nconst { wrap, unwrap } = _aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.ProxyObservable;\nclass ComputedWatcher {\n    constructor(obj, observerLocator, get, cb, useProxy) {\n        this.obj = obj;\n        this.observerLocator = observerLocator;\n        this.get = get;\n        this.cb = cb;\n        this.useProxy = useProxy;\n        this.interceptor = this;\n        this.value = void 0;\n        this.isBound = false;\n        // todo: maybe use a counter allow recursive call to a certain level\n        this.running = false;\n    }\n    handleChange() {\n        this.run();\n    }\n    handleCollectionChange() {\n        this.run();\n    }\n    $bind() {\n        if (this.isBound) {\n            return;\n        }\n        this.isBound = true;\n        this.compute();\n    }\n    $unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        this.obs.clear(true);\n    }\n    run() {\n        if (!this.isBound || this.running) {\n            return;\n        }\n        const obj = this.obj;\n        const oldValue = this.value;\n        const newValue = this.compute();\n        if (!Object.is(newValue, oldValue)) {\n            // should optionally queue\n            this.cb.call(obj, newValue, oldValue, obj);\n        }\n    }\n    compute() {\n        this.running = true;\n        this.obs.version++;\n        try {\n            enter(this);\n            return this.value = unwrap(this.get.call(void 0, this.useProxy ? wrap(this.obj) : this.obj, this));\n        }\n        finally {\n            this.obs.clear(false);\n            this.running = false;\n            exit(this);\n        }\n    }\n}\nclass ExpressionWatcher {\n    constructor(scope, locator, observerLocator, expression, callback) {\n        this.scope = scope;\n        this.locator = locator;\n        this.observerLocator = observerLocator;\n        this.expression = expression;\n        this.callback = callback;\n        this.interceptor = this;\n        this.isBound = false;\n        this.obj = scope.bindingContext;\n    }\n    handleChange(value) {\n        const expr = this.expression;\n        const obj = this.obj;\n        const oldValue = this.value;\n        const canOptimize = expr.$kind === 10082 /* AccessScope */ && this.obs.count === 1;\n        if (!canOptimize) {\n            this.obs.version++;\n            value = expr.evaluate(0, this.scope, null, this.locator, this);\n            this.obs.clear(false);\n        }\n        if (!Object.is(value, oldValue)) {\n            this.value = value;\n            // should optionally queue for batch synchronous\n            this.callback.call(obj, value, oldValue, obj);\n        }\n    }\n    $bind() {\n        if (this.isBound) {\n            return;\n        }\n        this.isBound = true;\n        this.obs.version++;\n        this.value = this.expression.evaluate(0 /* none */, this.scope, null, this.locator, this);\n        this.obs.clear(false);\n    }\n    $unbind() {\n        if (!this.isBound) {\n            return;\n        }\n        this.isBound = false;\n        this.obs.clear(true);\n        this.value = void 0;\n    }\n}\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.connectable)(ComputedWatcher);\n(0,_aurelia_runtime__WEBPACK_IMPORTED_MODULE_0__.connectable)(ExpressionWatcher);\n//# sourceMappingURL=watchers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRpbmcvd2F0Y2hlcnMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3RlbXBsYXRpbmcvd2F0Y2hlcnMuanM/NmE1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25uZWN0YWJsZSwgQ29ubmVjdGFibGVTd2l0Y2hlciwgUHJveHlPYnNlcnZhYmxlLCB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUnO1xuY29uc3QgeyBlbnRlciwgZXhpdCB9ID0gQ29ubmVjdGFibGVTd2l0Y2hlcjtcbmNvbnN0IHsgd3JhcCwgdW53cmFwIH0gPSBQcm94eU9ic2VydmFibGU7XG5leHBvcnQgY2xhc3MgQ29tcHV0ZWRXYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvYmosIG9ic2VydmVyTG9jYXRvciwgZ2V0LCBjYiwgdXNlUHJveHkpIHtcbiAgICAgICAgdGhpcy5vYmogPSBvYmo7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJMb2NhdG9yID0gb2JzZXJ2ZXJMb2NhdG9yO1xuICAgICAgICB0aGlzLmdldCA9IGdldDtcbiAgICAgICAgdGhpcy5jYiA9IGNiO1xuICAgICAgICB0aGlzLnVzZVByb3h5ID0gdXNlUHJveHk7XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0b3IgPSB0aGlzO1xuICAgICAgICB0aGlzLnZhbHVlID0gdm9pZCAwO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgLy8gdG9kbzogbWF5YmUgdXNlIGEgY291bnRlciBhbGxvdyByZWN1cnNpdmUgY2FsbCB0byBhIGNlcnRhaW4gbGV2ZWxcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5ydW4oKTtcbiAgICB9XG4gICAgaGFuZGxlQ29sbGVjdGlvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5ydW4oKTtcbiAgICB9XG4gICAgJGJpbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQm91bmQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG4gICAgJHVuYmluZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXIodHJ1ZSk7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQm91bmQgfHwgdGhpcy5ydW5uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5vYmo7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB0aGlzLmNvbXB1dGUoKTtcbiAgICAgICAgaWYgKCFPYmplY3QuaXMobmV3VmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICAgICAgLy8gc2hvdWxkIG9wdGlvbmFsbHkgcXVldWVcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbChvYmosIG5ld1ZhbHVlLCBvbGRWYWx1ZSwgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wdXRlKCkge1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm9icy52ZXJzaW9uKys7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBlbnRlcih0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID0gdW53cmFwKHRoaXMuZ2V0LmNhbGwodm9pZCAwLCB0aGlzLnVzZVByb3h5ID8gd3JhcCh0aGlzLm9iaikgOiB0aGlzLm9iaiwgdGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5vYnMuY2xlYXIoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBleGl0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEV4cHJlc3Npb25XYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzY29wZSwgbG9jYXRvciwgb2JzZXJ2ZXJMb2NhdG9yLCBleHByZXNzaW9uLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMubG9jYXRvciA9IGxvY2F0b3I7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJMb2NhdG9yID0gb2JzZXJ2ZXJMb2NhdG9yO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0b3IgPSB0aGlzO1xuICAgICAgICB0aGlzLmlzQm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vYmogPSBzY29wZS5iaW5kaW5nQ29udGV4dDtcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGV4cHIgPSB0aGlzLmV4cHJlc3Npb247XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMub2JqO1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnN0IGNhbk9wdGltaXplID0gZXhwci4ka2luZCA9PT0gMTAwODIgLyogQWNjZXNzU2NvcGUgKi8gJiYgdGhpcy5vYnMuY291bnQgPT09IDE7XG4gICAgICAgIGlmICghY2FuT3B0aW1pemUpIHtcbiAgICAgICAgICAgIHRoaXMub2JzLnZlcnNpb24rKztcbiAgICAgICAgICAgIHZhbHVlID0gZXhwci5ldmFsdWF0ZSgwLCB0aGlzLnNjb3BlLCBudWxsLCB0aGlzLmxvY2F0b3IsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vYnMuY2xlYXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghT2JqZWN0LmlzKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIC8vIHNob3VsZCBvcHRpb25hbGx5IHF1ZXVlIGZvciBiYXRjaCBzeW5jaHJvbm91c1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjay5jYWxsKG9iaiwgdmFsdWUsIG9sZFZhbHVlLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxuICAgICRiaW5kKCkge1xuICAgICAgICBpZiAodGhpcy5pc0JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0JvdW5kID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vYnMudmVyc2lvbisrO1xuICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKDAgLyogbm9uZSAqLywgdGhpcy5zY29wZSwgbnVsbCwgdGhpcy5sb2NhdG9yLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vYnMuY2xlYXIoZmFsc2UpO1xuICAgIH1cbiAgICAkdW5iaW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNCb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNCb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9icy5jbGVhcih0cnVlKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZvaWQgMDtcbiAgICB9XG59XG5jb25uZWN0YWJsZShDb21wdXRlZFdhdGNoZXIpO1xuY29ubmVjdGFibGUoRXhwcmVzc2lvbldhdGNoZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2F0Y2hlcnMuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/templating/watchers.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/utilities-html.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/utilities-html.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isDataAttribute\": () => (/* binding */ isDataAttribute),\n/* harmony export */   \"createLookup\": () => (/* binding */ createLookup)\n/* harmony export */ });\nconst IsDataAttribute = createLookup();\nfunction isDataAttribute(obj, key, svgAnalyzer) {\n    if (IsDataAttribute[key] === true) {\n        return true;\n    }\n    if (typeof key !== 'string') {\n        return false;\n    }\n    const prefix = key.slice(0, 5);\n    // https://html.spec.whatwg.org/multipage/dom.html#wai-aria\n    // https://html.spec.whatwg.org/multipage/dom.html#custom-data-attribute\n    return IsDataAttribute[key] =\n        prefix === 'aria-' ||\n            prefix === 'data-' ||\n            svgAnalyzer.isStandardSvgAttribute(obj, key);\n}\nfunction createLookup() {\n    return Object.create(null);\n}\n//# sourceMappingURL=utilities-html.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3V0aWxpdGllcy1odG1sLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS91dGlsaXRpZXMtaHRtbC5qcz85NDQzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IElzRGF0YUF0dHJpYnV0ZSA9IGNyZWF0ZUxvb2t1cCgpO1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0YUF0dHJpYnV0ZShvYmosIGtleSwgc3ZnQW5hbHl6ZXIpIHtcbiAgICBpZiAoSXNEYXRhQXR0cmlidXRlW2tleV0gPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHByZWZpeCA9IGtleS5zbGljZSgwLCA1KTtcbiAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9kb20uaHRtbCN3YWktYXJpYVxuICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2RvbS5odG1sI2N1c3RvbS1kYXRhLWF0dHJpYnV0ZVxuICAgIHJldHVybiBJc0RhdGFBdHRyaWJ1dGVba2V5XSA9XG4gICAgICAgIHByZWZpeCA9PT0gJ2FyaWEtJyB8fFxuICAgICAgICAgICAgcHJlZml4ID09PSAnZGF0YS0nIHx8XG4gICAgICAgICAgICBzdmdBbmFseXplci5pc1N0YW5kYXJkU3ZnQXR0cmlidXRlKG9iaiwga2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb29rdXAoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsaXRpZXMtaHRtbC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/utilities-html.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime-html/dist/esm/watch.js":
/*!**************************************************************!*\
  !*** ./node_modules/@aurelia/runtime-html/dist/esm/watch.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"watch\": () => (/* binding */ watch),\n/* harmony export */   \"Watch\": () => (/* binding */ Watch)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n\nfunction watch(expressionOrPropertyAccessFn, changeHandlerOrCallback) {\n    if (!expressionOrPropertyAccessFn) {\n        throw new Error('Invalid watch config. Expected an expression or a fn');\n    }\n    return function decorator(target, key, descriptor) {\n        const isClassDecorator = key == null;\n        const Type = isClassDecorator ? target : target.constructor;\n        // basic validation\n        if (isClassDecorator) {\n            if (typeof changeHandlerOrCallback !== 'function'\n                && (changeHandlerOrCallback == null || !(changeHandlerOrCallback in Type.prototype))) {\n                throw new Error(`Invalid change handler config. Method \"${String(changeHandlerOrCallback)}\" not found in class ${Type.name}`);\n            }\n        }\n        else if (typeof (descriptor === null || descriptor === void 0 ? void 0 : descriptor.value) !== 'function') {\n            throw new Error(`decorated target ${String(key)} is not a class method.`);\n        }\n        Watch.add(Type, new WatchDefinition(expressionOrPropertyAccessFn, isClassDecorator ? changeHandlerOrCallback : descriptor.value));\n    };\n}\nclass WatchDefinition {\n    constructor(expression, callback) {\n        this.expression = expression;\n        this.callback = callback;\n    }\n}\nconst noDefinitions = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray;\nconst Watch = {\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor('watch'),\n    add(Type, definition) {\n        let watchDefinitions = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(Watch.name, Type);\n        if (watchDefinitions == null) {\n            _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(Watch.name, watchDefinitions = [], Type);\n        }\n        watchDefinitions.push(definition);\n    },\n    getAnnotation(Type) {\n        var _a;\n        return (_a = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(Watch.name, Type)) !== null && _a !== void 0 ? _a : noDefinitions;\n    },\n};\n//# sourceMappingURL=watch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS1odG1sL2Rpc3QvZXNtL3dhdGNoLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUtaHRtbC9kaXN0L2VzbS93YXRjaC5qcz9iNWU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb3RvY29sLCBNZXRhZGF0YSwgZW1wdHlBcnJheSB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5leHBvcnQgZnVuY3Rpb24gd2F0Y2goZXhwcmVzc2lvbk9yUHJvcGVydHlBY2Nlc3NGbiwgY2hhbmdlSGFuZGxlck9yQ2FsbGJhY2spIHtcbiAgICBpZiAoIWV4cHJlc3Npb25PclByb3BlcnR5QWNjZXNzRm4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHdhdGNoIGNvbmZpZy4gRXhwZWN0ZWQgYW4gZXhwcmVzc2lvbiBvciBhIGZuJyk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgY29uc3QgaXNDbGFzc0RlY29yYXRvciA9IGtleSA9PSBudWxsO1xuICAgICAgICBjb25zdCBUeXBlID0gaXNDbGFzc0RlY29yYXRvciA/IHRhcmdldCA6IHRhcmdldC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgLy8gYmFzaWMgdmFsaWRhdGlvblxuICAgICAgICBpZiAoaXNDbGFzc0RlY29yYXRvcikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFuZ2VIYW5kbGVyT3JDYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICYmIChjaGFuZ2VIYW5kbGVyT3JDYWxsYmFjayA9PSBudWxsIHx8ICEoY2hhbmdlSGFuZGxlck9yQ2FsbGJhY2sgaW4gVHlwZS5wcm90b3R5cGUpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjaGFuZ2UgaGFuZGxlciBjb25maWcuIE1ldGhvZCBcIiR7U3RyaW5nKGNoYW5nZUhhbmRsZXJPckNhbGxiYWNrKX1cIiBub3QgZm91bmQgaW4gY2xhc3MgJHtUeXBlLm5hbWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIChkZXNjcmlwdG9yID09PSBudWxsIHx8IGRlc2NyaXB0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlc2NyaXB0b3IudmFsdWUpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGRlY29yYXRlZCB0YXJnZXQgJHtTdHJpbmcoa2V5KX0gaXMgbm90IGEgY2xhc3MgbWV0aG9kLmApO1xuICAgICAgICB9XG4gICAgICAgIFdhdGNoLmFkZChUeXBlLCBuZXcgV2F0Y2hEZWZpbml0aW9uKGV4cHJlc3Npb25PclByb3BlcnR5QWNjZXNzRm4sIGlzQ2xhc3NEZWNvcmF0b3IgPyBjaGFuZ2VIYW5kbGVyT3JDYWxsYmFjayA6IGRlc2NyaXB0b3IudmFsdWUpKTtcbiAgICB9O1xufVxuY2xhc3MgV2F0Y2hEZWZpbml0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihleHByZXNzaW9uLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxufVxuY29uc3Qgbm9EZWZpbml0aW9ucyA9IGVtcHR5QXJyYXk7XG5leHBvcnQgY29uc3QgV2F0Y2ggPSB7XG4gICAgbmFtZTogUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IoJ3dhdGNoJyksXG4gICAgYWRkKFR5cGUsIGRlZmluaXRpb24pIHtcbiAgICAgICAgbGV0IHdhdGNoRGVmaW5pdGlvbnMgPSBNZXRhZGF0YS5nZXRPd24oV2F0Y2gubmFtZSwgVHlwZSk7XG4gICAgICAgIGlmICh3YXRjaERlZmluaXRpb25zID09IG51bGwpIHtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlZmluZShXYXRjaC5uYW1lLCB3YXRjaERlZmluaXRpb25zID0gW10sIFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHdhdGNoRGVmaW5pdGlvbnMucHVzaChkZWZpbml0aW9uKTtcbiAgICB9LFxuICAgIGdldEFubm90YXRpb24oVHlwZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSBNZXRhZGF0YS5nZXRPd24oV2F0Y2gubmFtZSwgVHlwZSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG5vRGVmaW5pdGlvbnM7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13YXRjaC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime-html/dist/esm/watch.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/alias.js":
/*!*********************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/alias.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"alias\": () => (/* binding */ alias),\n/* harmony export */   \"registerAliases\": () => (/* binding */ registerAliases)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n\nfunction alias(...aliases) {\n    return function (target) {\n        const key = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor('aliases');\n        const existing = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(key, target);\n        if (existing === void 0) {\n            _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(key, aliases, target);\n        }\n        else {\n            existing.push(...aliases);\n        }\n    };\n}\nfunction registerAliases(aliases, resource, key, container) {\n    for (let i = 0, ii = aliases.length; i < ii; ++i) {\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.aliasTo(key, resource.keyFrom(aliases[i])).register(container);\n    }\n}\n//# sourceMappingURL=alias.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9hbGlhcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL2FsaWFzLmpzPzhmOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvdG9jb2wsIE1ldGFkYXRhLCBSZWdpc3RyYXRpb24gfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuZXhwb3J0IGZ1bmN0aW9uIGFsaWFzKC4uLmFsaWFzZXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBjb25zdCBrZXkgPSBQcm90b2NvbC5hbm5vdGF0aW9uLmtleUZvcignYWxpYXNlcycpO1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IE1ldGFkYXRhLmdldE93bihrZXksIHRhcmdldCk7XG4gICAgICAgIGlmIChleGlzdGluZyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBNZXRhZGF0YS5kZWZpbmUoa2V5LCBhbGlhc2VzLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhpc3RpbmcucHVzaCguLi5hbGlhc2VzKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJBbGlhc2VzKGFsaWFzZXMsIHJlc291cmNlLCBrZXksIGNvbnRhaW5lcikge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGFsaWFzZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBSZWdpc3RyYXRpb24uYWxpYXNUbyhrZXksIHJlc291cmNlLmtleUZyb20oYWxpYXNlc1tpXSkpLnJlZ2lzdGVyKGNvbnRhaW5lcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWxpYXMuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/alias.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/binding-behavior.js":
/*!********************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/binding-behavior.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BindingBehaviorStrategy\": () => (/* binding */ BindingBehaviorStrategy),\n/* harmony export */   \"bindingBehavior\": () => (/* binding */ bindingBehavior),\n/* harmony export */   \"BindingBehaviorDefinition\": () => (/* binding */ BindingBehaviorDefinition),\n/* harmony export */   \"BindingBehaviorFactory\": () => (/* binding */ BindingBehaviorFactory),\n/* harmony export */   \"BindingInterceptor\": () => (/* binding */ BindingInterceptor),\n/* harmony export */   \"BindingBehavior\": () => (/* binding */ BindingBehavior)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _alias_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./alias.js */ \"./node_modules/@aurelia/runtime/dist/esm/alias.js\");\n\n\nvar BindingBehaviorStrategy;\n(function (BindingBehaviorStrategy) {\n    BindingBehaviorStrategy[BindingBehaviorStrategy[\"singleton\"] = 1] = \"singleton\";\n    BindingBehaviorStrategy[BindingBehaviorStrategy[\"interceptor\"] = 2] = \"interceptor\";\n})(BindingBehaviorStrategy || (BindingBehaviorStrategy = {}));\nfunction bindingBehavior(nameOrDef) {\n    return function (target) {\n        return BindingBehavior.define(nameOrDef, target);\n    };\n}\nclass BindingBehaviorDefinition {\n    constructor(Type, name, aliases, key, strategy) {\n        this.Type = Type;\n        this.name = name;\n        this.aliases = aliases;\n        this.key = key;\n        this.strategy = strategy;\n    }\n    static create(nameOrDef, Type) {\n        let name;\n        let def;\n        if (typeof nameOrDef === 'string') {\n            name = nameOrDef;\n            def = { name };\n        }\n        else {\n            name = nameOrDef.name;\n            def = nameOrDef;\n        }\n        const inheritsFromInterceptor = Object.getPrototypeOf(Type) === BindingInterceptor;\n        return new BindingBehaviorDefinition(Type, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(BindingBehavior.getAnnotation(Type, 'name'), name), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(BindingBehavior.getAnnotation(Type, 'aliases'), def.aliases, Type.aliases), BindingBehavior.keyFrom(name), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.fromAnnotationOrDefinitionOrTypeOrDefault)('strategy', def, Type, () => inheritsFromInterceptor ? 2 /* interceptor */ : 1 /* singleton */));\n    }\n    register(container) {\n        const { Type, key, aliases, strategy } = this;\n        switch (strategy) {\n            case 1 /* singleton */:\n                _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(key, Type).register(container);\n                break;\n            case 2 /* interceptor */:\n                _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.instance(key, new BindingBehaviorFactory(container, Type)).register(container);\n                break;\n        }\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.aliasTo(key, Type).register(container);\n        (0,_alias_js__WEBPACK_IMPORTED_MODULE_1__.registerAliases)(aliases, BindingBehavior, key, container);\n    }\n}\nclass BindingBehaviorFactory {\n    constructor(container, Type) {\n        this.container = container;\n        this.Type = Type;\n        this.deps = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.getDependencies(Type);\n    }\n    construct(binding, expr) {\n        const container = this.container;\n        const deps = this.deps;\n        switch (deps.length) {\n            case 0:\n            case 1:\n            case 2:\n                // TODO(fkleuver): fix this cast\n                return new this.Type(binding, expr);\n            case 3:\n                return new this.Type(container.get(deps[0]), binding, expr);\n            case 4:\n                return new this.Type(container.get(deps[0]), container.get(deps[1]), binding, expr);\n            default:\n                return new this.Type(...deps.map(d => container.get(d)), binding, expr);\n        }\n    }\n}\nclass BindingInterceptor {\n    constructor(binding, expr) {\n        this.binding = binding;\n        this.expr = expr;\n        this.interceptor = this;\n        let interceptor;\n        while (binding.interceptor !== this) {\n            interceptor = binding.interceptor;\n            binding.interceptor = this;\n            binding = interceptor;\n        }\n    }\n    get observerLocator() {\n        return this.binding.observerLocator;\n    }\n    get locator() {\n        return this.binding.locator;\n    }\n    get $scope() {\n        return this.binding.$scope;\n    }\n    get $hostScope() {\n        return this.binding.$hostScope;\n    }\n    get isBound() {\n        return this.binding.isBound;\n    }\n    get obs() {\n        return this.binding.obs;\n    }\n    get sourceExpression() {\n        return this.binding.sourceExpression;\n    }\n    updateTarget(value, flags) {\n        this.binding.updateTarget(value, flags);\n    }\n    updateSource(value, flags) {\n        this.binding.updateSource(value, flags);\n    }\n    callSource(args) {\n        return this.binding.callSource(args);\n    }\n    handleChange(newValue, previousValue, flags) {\n        this.binding.handleChange(newValue, previousValue, flags);\n    }\n    handleCollectionChange(indexMap, flags) {\n        this.binding.handleCollectionChange(indexMap, flags);\n    }\n    observeProperty(obj, key) {\n        this.binding.observeProperty(obj, key);\n    }\n    observeCollection(observer) {\n        this.binding.observeCollection(observer);\n    }\n    $bind(flags, scope, hostScope) {\n        this.binding.$bind(flags, scope, hostScope);\n    }\n    $unbind(flags) {\n        this.binding.$unbind(flags);\n    }\n}\nconst BindingBehavior = {\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.keyFor('binding-behavior'),\n    keyFrom(name) {\n        return `${BindingBehavior.name}:${name}`;\n    },\n    isType(value) {\n        return typeof value === 'function' && _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.hasOwn(BindingBehavior.name, value);\n    },\n    define(nameOrDef, Type) {\n        const definition = BindingBehaviorDefinition.create(nameOrDef, Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(BindingBehavior.name, definition, definition.Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(BindingBehavior.name, definition, definition);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.appendTo(Type, BindingBehavior.name);\n        return definition.Type;\n    },\n    getDefinition(Type) {\n        const def = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(BindingBehavior.name, Type);\n        if (def === void 0) {\n            throw new Error(`No definition found for type ${Type.name}`);\n        }\n        return def;\n    },\n    annotate(Type, prop, value) {\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor(prop), value, Type);\n    },\n    getAnnotation(Type, prop) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor(prop), Type);\n    },\n};\n//# sourceMappingURL=binding-behavior.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9iaW5kaW5nLWJlaGF2aW9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUvZGlzdC9lc20vYmluZGluZy1iZWhhdmlvci5qcz9lZDhhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlZ2lzdHJhdGlvbiwgTWV0YWRhdGEsIFByb3RvY29sLCBtZXJnZUFycmF5cywgZmlyc3REZWZpbmVkLCBESSwgZnJvbUFubm90YXRpb25PckRlZmluaXRpb25PclR5cGVPckRlZmF1bHQsIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IHJlZ2lzdGVyQWxpYXNlcyB9IGZyb20gJy4vYWxpYXMuanMnO1xuZXhwb3J0IHZhciBCaW5kaW5nQmVoYXZpb3JTdHJhdGVneTtcbihmdW5jdGlvbiAoQmluZGluZ0JlaGF2aW9yU3RyYXRlZ3kpIHtcbiAgICBCaW5kaW5nQmVoYXZpb3JTdHJhdGVneVtCaW5kaW5nQmVoYXZpb3JTdHJhdGVneVtcInNpbmdsZXRvblwiXSA9IDFdID0gXCJzaW5nbGV0b25cIjtcbiAgICBCaW5kaW5nQmVoYXZpb3JTdHJhdGVneVtCaW5kaW5nQmVoYXZpb3JTdHJhdGVneVtcImludGVyY2VwdG9yXCJdID0gMl0gPSBcImludGVyY2VwdG9yXCI7XG59KShCaW5kaW5nQmVoYXZpb3JTdHJhdGVneSB8fCAoQmluZGluZ0JlaGF2aW9yU3RyYXRlZ3kgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRpbmdCZWhhdmlvcihuYW1lT3JEZWYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gQmluZGluZ0JlaGF2aW9yLmRlZmluZShuYW1lT3JEZWYsIHRhcmdldCk7XG4gICAgfTtcbn1cbmV4cG9ydCBjbGFzcyBCaW5kaW5nQmVoYXZpb3JEZWZpbml0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihUeXBlLCBuYW1lLCBhbGlhc2VzLCBrZXksIHN0cmF0ZWd5KSB7XG4gICAgICAgIHRoaXMuVHlwZSA9IFR5cGU7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuYWxpYXNlcyA9IGFsaWFzZXM7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUobmFtZU9yRGVmLCBUeXBlKSB7XG4gICAgICAgIGxldCBuYW1lO1xuICAgICAgICBsZXQgZGVmO1xuICAgICAgICBpZiAodHlwZW9mIG5hbWVPckRlZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lT3JEZWY7XG4gICAgICAgICAgICBkZWYgPSB7IG5hbWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lT3JEZWYubmFtZTtcbiAgICAgICAgICAgIGRlZiA9IG5hbWVPckRlZjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmhlcml0c0Zyb21JbnRlcmNlcHRvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihUeXBlKSA9PT0gQmluZGluZ0ludGVyY2VwdG9yO1xuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdCZWhhdmlvckRlZmluaXRpb24oVHlwZSwgZmlyc3REZWZpbmVkKEJpbmRpbmdCZWhhdmlvci5nZXRBbm5vdGF0aW9uKFR5cGUsICduYW1lJyksIG5hbWUpLCBtZXJnZUFycmF5cyhCaW5kaW5nQmVoYXZpb3IuZ2V0QW5ub3RhdGlvbihUeXBlLCAnYWxpYXNlcycpLCBkZWYuYWxpYXNlcywgVHlwZS5hbGlhc2VzKSwgQmluZGluZ0JlaGF2aW9yLmtleUZyb20obmFtZSksIGZyb21Bbm5vdGF0aW9uT3JEZWZpbml0aW9uT3JUeXBlT3JEZWZhdWx0KCdzdHJhdGVneScsIGRlZiwgVHlwZSwgKCkgPT4gaW5oZXJpdHNGcm9tSW50ZXJjZXB0b3IgPyAyIC8qIGludGVyY2VwdG9yICovIDogMSAvKiBzaW5nbGV0b24gKi8pKTtcbiAgICB9XG4gICAgcmVnaXN0ZXIoY29udGFpbmVyKSB7XG4gICAgICAgIGNvbnN0IHsgVHlwZSwga2V5LCBhbGlhc2VzLCBzdHJhdGVneSB9ID0gdGhpcztcbiAgICAgICAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSAxIC8qIHNpbmdsZXRvbiAqLzpcbiAgICAgICAgICAgICAgICBSZWdpc3RyYXRpb24uc2luZ2xldG9uKGtleSwgVHlwZSkucmVnaXN0ZXIoY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMiAvKiBpbnRlcmNlcHRvciAqLzpcbiAgICAgICAgICAgICAgICBSZWdpc3RyYXRpb24uaW5zdGFuY2Uoa2V5LCBuZXcgQmluZGluZ0JlaGF2aW9yRmFjdG9yeShjb250YWluZXIsIFR5cGUpKS5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIFJlZ2lzdHJhdGlvbi5hbGlhc1RvKGtleSwgVHlwZSkucmVnaXN0ZXIoY29udGFpbmVyKTtcbiAgICAgICAgcmVnaXN0ZXJBbGlhc2VzKGFsaWFzZXMsIEJpbmRpbmdCZWhhdmlvciwga2V5LCBjb250YWluZXIpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCaW5kaW5nQmVoYXZpb3JGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIFR5cGUpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuVHlwZSA9IFR5cGU7XG4gICAgICAgIHRoaXMuZGVwcyA9IERJLmdldERlcGVuZGVuY2llcyhUeXBlKTtcbiAgICB9XG4gICAgY29uc3RydWN0KGJpbmRpbmcsIGV4cHIpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IGRlcHMgPSB0aGlzLmRlcHM7XG4gICAgICAgIHN3aXRjaCAoZGVwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAvLyBUT0RPKGZrbGV1dmVyKTogZml4IHRoaXMgY2FzdFxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5UeXBlKGJpbmRpbmcsIGV4cHIpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5UeXBlKGNvbnRhaW5lci5nZXQoZGVwc1swXSksIGJpbmRpbmcsIGV4cHIpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5UeXBlKGNvbnRhaW5lci5nZXQoZGVwc1swXSksIGNvbnRhaW5lci5nZXQoZGVwc1sxXSksIGJpbmRpbmcsIGV4cHIpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuVHlwZSguLi5kZXBzLm1hcChkID0+IGNvbnRhaW5lci5nZXQoZCkpLCBiaW5kaW5nLCBleHByKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCaW5kaW5nSW50ZXJjZXB0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGJpbmRpbmcsIGV4cHIpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nID0gYmluZGluZztcbiAgICAgICAgdGhpcy5leHByID0gZXhwcjtcbiAgICAgICAgdGhpcy5pbnRlcmNlcHRvciA9IHRoaXM7XG4gICAgICAgIGxldCBpbnRlcmNlcHRvcjtcbiAgICAgICAgd2hpbGUgKGJpbmRpbmcuaW50ZXJjZXB0b3IgIT09IHRoaXMpIHtcbiAgICAgICAgICAgIGludGVyY2VwdG9yID0gYmluZGluZy5pbnRlcmNlcHRvcjtcbiAgICAgICAgICAgIGJpbmRpbmcuaW50ZXJjZXB0b3IgPSB0aGlzO1xuICAgICAgICAgICAgYmluZGluZyA9IGludGVyY2VwdG9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvYnNlcnZlckxvY2F0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpbmRpbmcub2JzZXJ2ZXJMb2NhdG9yO1xuICAgIH1cbiAgICBnZXQgbG9jYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZGluZy5sb2NhdG9yO1xuICAgIH1cbiAgICBnZXQgJHNjb3BlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kaW5nLiRzY29wZTtcbiAgICB9XG4gICAgZ2V0ICRob3N0U2NvcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpbmRpbmcuJGhvc3RTY29wZTtcbiAgICB9XG4gICAgZ2V0IGlzQm91bmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpbmRpbmcuaXNCb3VuZDtcbiAgICB9XG4gICAgZ2V0IG9icygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZGluZy5vYnM7XG4gICAgfVxuICAgIGdldCBzb3VyY2VFeHByZXNzaW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kaW5nLnNvdXJjZUV4cHJlc3Npb247XG4gICAgfVxuICAgIHVwZGF0ZVRhcmdldCh2YWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nLnVwZGF0ZVRhcmdldCh2YWx1ZSwgZmxhZ3MpO1xuICAgIH1cbiAgICB1cGRhdGVTb3VyY2UodmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIHRoaXMuYmluZGluZy51cGRhdGVTb3VyY2UodmFsdWUsIGZsYWdzKTtcbiAgICB9XG4gICAgY2FsbFNvdXJjZShhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpbmRpbmcuY2FsbFNvdXJjZShhcmdzKTtcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKG5ld1ZhbHVlLCBwcmV2aW91c1ZhbHVlLCBmbGFncykge1xuICAgICAgICB0aGlzLmJpbmRpbmcuaGFuZGxlQ2hhbmdlKG5ld1ZhbHVlLCBwcmV2aW91c1ZhbHVlLCBmbGFncyk7XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoaW5kZXhNYXAsIGZsYWdzKSB7XG4gICAgICAgIHRoaXMuYmluZGluZy5oYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKGluZGV4TWFwLCBmbGFncyk7XG4gICAgfVxuICAgIG9ic2VydmVQcm9wZXJ0eShvYmosIGtleSkge1xuICAgICAgICB0aGlzLmJpbmRpbmcub2JzZXJ2ZVByb3BlcnR5KG9iaiwga2V5KTtcbiAgICB9XG4gICAgb2JzZXJ2ZUNvbGxlY3Rpb24ob2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nLm9ic2VydmVDb2xsZWN0aW9uKG9ic2VydmVyKTtcbiAgICB9XG4gICAgJGJpbmQoZmxhZ3MsIHNjb3BlLCBob3N0U2NvcGUpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nLiRiaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlKTtcbiAgICB9XG4gICAgJHVuYmluZChmbGFncykge1xuICAgICAgICB0aGlzLmJpbmRpbmcuJHVuYmluZChmbGFncyk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEJpbmRpbmdCZWhhdmlvciA9IHtcbiAgICBuYW1lOiBQcm90b2NvbC5yZXNvdXJjZS5rZXlGb3IoJ2JpbmRpbmctYmVoYXZpb3InKSxcbiAgICBrZXlGcm9tKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGAke0JpbmRpbmdCZWhhdmlvci5uYW1lfToke25hbWV9YDtcbiAgICB9LFxuICAgIGlzVHlwZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nICYmIE1ldGFkYXRhLmhhc093bihCaW5kaW5nQmVoYXZpb3IubmFtZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgZGVmaW5lKG5hbWVPckRlZiwgVHlwZSkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gQmluZGluZ0JlaGF2aW9yRGVmaW5pdGlvbi5jcmVhdGUobmFtZU9yRGVmLCBUeXBlKTtcbiAgICAgICAgTWV0YWRhdGEuZGVmaW5lKEJpbmRpbmdCZWhhdmlvci5uYW1lLCBkZWZpbml0aW9uLCBkZWZpbml0aW9uLlR5cGUpO1xuICAgICAgICBNZXRhZGF0YS5kZWZpbmUoQmluZGluZ0JlaGF2aW9yLm5hbWUsIGRlZmluaXRpb24sIGRlZmluaXRpb24pO1xuICAgICAgICBQcm90b2NvbC5yZXNvdXJjZS5hcHBlbmRUbyhUeXBlLCBCaW5kaW5nQmVoYXZpb3IubmFtZSk7XG4gICAgICAgIHJldHVybiBkZWZpbml0aW9uLlR5cGU7XG4gICAgfSxcbiAgICBnZXREZWZpbml0aW9uKFR5cGUpIHtcbiAgICAgICAgY29uc3QgZGVmID0gTWV0YWRhdGEuZ2V0T3duKEJpbmRpbmdCZWhhdmlvci5uYW1lLCBUeXBlKTtcbiAgICAgICAgaWYgKGRlZiA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGRlZmluaXRpb24gZm91bmQgZm9yIHR5cGUgJHtUeXBlLm5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZjtcbiAgICB9LFxuICAgIGFubm90YXRlKFR5cGUsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgIE1ldGFkYXRhLmRlZmluZShQcm90b2NvbC5hbm5vdGF0aW9uLmtleUZvcihwcm9wKSwgdmFsdWUsIFR5cGUpO1xuICAgIH0sXG4gICAgZ2V0QW5ub3RhdGlvbihUeXBlLCBwcm9wKSB7XG4gICAgICAgIHJldHVybiBNZXRhZGF0YS5nZXRPd24oUHJvdG9jb2wuYW5ub3RhdGlvbi5rZXlGb3IocHJvcCksIFR5cGUpO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmluZGluZy1iZWhhdmlvci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/binding-behavior.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/binding/ast.js":
/*!***************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/binding/ast.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ExpressionKind\": () => (/* binding */ ExpressionKind),\n/* harmony export */   \"Unparser\": () => (/* binding */ Unparser),\n/* harmony export */   \"CustomExpression\": () => (/* binding */ CustomExpression),\n/* harmony export */   \"BindingBehaviorExpression\": () => (/* binding */ BindingBehaviorExpression),\n/* harmony export */   \"ValueConverterExpression\": () => (/* binding */ ValueConverterExpression),\n/* harmony export */   \"AssignExpression\": () => (/* binding */ AssignExpression),\n/* harmony export */   \"ConditionalExpression\": () => (/* binding */ ConditionalExpression),\n/* harmony export */   \"AccessThisExpression\": () => (/* binding */ AccessThisExpression),\n/* harmony export */   \"AccessScopeExpression\": () => (/* binding */ AccessScopeExpression),\n/* harmony export */   \"AccessMemberExpression\": () => (/* binding */ AccessMemberExpression),\n/* harmony export */   \"AccessKeyedExpression\": () => (/* binding */ AccessKeyedExpression),\n/* harmony export */   \"CallScopeExpression\": () => (/* binding */ CallScopeExpression),\n/* harmony export */   \"CallMemberExpression\": () => (/* binding */ CallMemberExpression),\n/* harmony export */   \"CallFunctionExpression\": () => (/* binding */ CallFunctionExpression),\n/* harmony export */   \"BinaryExpression\": () => (/* binding */ BinaryExpression),\n/* harmony export */   \"UnaryExpression\": () => (/* binding */ UnaryExpression),\n/* harmony export */   \"PrimitiveLiteralExpression\": () => (/* binding */ PrimitiveLiteralExpression),\n/* harmony export */   \"HtmlLiteralExpression\": () => (/* binding */ HtmlLiteralExpression),\n/* harmony export */   \"ArrayLiteralExpression\": () => (/* binding */ ArrayLiteralExpression),\n/* harmony export */   \"ObjectLiteralExpression\": () => (/* binding */ ObjectLiteralExpression),\n/* harmony export */   \"TemplateExpression\": () => (/* binding */ TemplateExpression),\n/* harmony export */   \"TaggedTemplateExpression\": () => (/* binding */ TaggedTemplateExpression),\n/* harmony export */   \"ArrayBindingPattern\": () => (/* binding */ ArrayBindingPattern),\n/* harmony export */   \"ObjectBindingPattern\": () => (/* binding */ ObjectBindingPattern),\n/* harmony export */   \"BindingIdentifier\": () => (/* binding */ BindingIdentifier),\n/* harmony export */   \"ForOfStatement\": () => (/* binding */ ForOfStatement),\n/* harmony export */   \"Interpolation\": () => (/* binding */ Interpolation)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _observation_binding_context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observation/binding-context.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/binding-context.js\");\n/* harmony import */ var _observation_signaler_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observation/signaler.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/signaler.js\");\n/* harmony import */ var _binding_behavior_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../binding-behavior.js */ \"./node_modules/@aurelia/runtime/dist/esm/binding-behavior.js\");\n/* harmony import */ var _value_converter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../value-converter.js */ \"./node_modules/@aurelia/runtime/dist/esm/value-converter.js\");\n/* eslint-disable eqeqeq */\n/* eslint-disable @typescript-eslint/restrict-template-expressions */\n\n\n\n\n\nvar ExpressionKind;\n(function (ExpressionKind) {\n    ExpressionKind[ExpressionKind[\"Connects\"] = 32] = \"Connects\";\n    ExpressionKind[ExpressionKind[\"Observes\"] = 64] = \"Observes\";\n    ExpressionKind[ExpressionKind[\"CallsFunction\"] = 128] = \"CallsFunction\";\n    ExpressionKind[ExpressionKind[\"HasAncestor\"] = 256] = \"HasAncestor\";\n    ExpressionKind[ExpressionKind[\"IsPrimary\"] = 512] = \"IsPrimary\";\n    ExpressionKind[ExpressionKind[\"IsLeftHandSide\"] = 1024] = \"IsLeftHandSide\";\n    ExpressionKind[ExpressionKind[\"HasBind\"] = 2048] = \"HasBind\";\n    ExpressionKind[ExpressionKind[\"HasUnbind\"] = 4096] = \"HasUnbind\";\n    ExpressionKind[ExpressionKind[\"IsAssignable\"] = 8192] = \"IsAssignable\";\n    ExpressionKind[ExpressionKind[\"IsLiteral\"] = 16384] = \"IsLiteral\";\n    ExpressionKind[ExpressionKind[\"IsResource\"] = 32768] = \"IsResource\";\n    ExpressionKind[ExpressionKind[\"IsForDeclaration\"] = 65536] = \"IsForDeclaration\";\n    ExpressionKind[ExpressionKind[\"Type\"] = 31] = \"Type\";\n    // ---------------------------------------------------------------------------------------------------------------------------\n    ExpressionKind[ExpressionKind[\"AccessThis\"] = 1793] = \"AccessThis\";\n    ExpressionKind[ExpressionKind[\"AccessScope\"] = 10082] = \"AccessScope\";\n    ExpressionKind[ExpressionKind[\"ArrayLiteral\"] = 17955] = \"ArrayLiteral\";\n    ExpressionKind[ExpressionKind[\"ObjectLiteral\"] = 17956] = \"ObjectLiteral\";\n    ExpressionKind[ExpressionKind[\"PrimitiveLiteral\"] = 17925] = \"PrimitiveLiteral\";\n    ExpressionKind[ExpressionKind[\"Template\"] = 17958] = \"Template\";\n    ExpressionKind[ExpressionKind[\"Unary\"] = 39] = \"Unary\";\n    ExpressionKind[ExpressionKind[\"CallScope\"] = 1448] = \"CallScope\";\n    ExpressionKind[ExpressionKind[\"CallMember\"] = 1161] = \"CallMember\";\n    ExpressionKind[ExpressionKind[\"CallFunction\"] = 1162] = \"CallFunction\";\n    ExpressionKind[ExpressionKind[\"AccessMember\"] = 9323] = \"AccessMember\";\n    ExpressionKind[ExpressionKind[\"AccessKeyed\"] = 9324] = \"AccessKeyed\";\n    ExpressionKind[ExpressionKind[\"TaggedTemplate\"] = 1197] = \"TaggedTemplate\";\n    ExpressionKind[ExpressionKind[\"Binary\"] = 46] = \"Binary\";\n    ExpressionKind[ExpressionKind[\"Conditional\"] = 63] = \"Conditional\";\n    ExpressionKind[ExpressionKind[\"Assign\"] = 8208] = \"Assign\";\n    ExpressionKind[ExpressionKind[\"ValueConverter\"] = 36913] = \"ValueConverter\";\n    ExpressionKind[ExpressionKind[\"BindingBehavior\"] = 38962] = \"BindingBehavior\";\n    ExpressionKind[ExpressionKind[\"HtmlLiteral\"] = 51] = \"HtmlLiteral\";\n    ExpressionKind[ExpressionKind[\"ArrayBindingPattern\"] = 65556] = \"ArrayBindingPattern\";\n    ExpressionKind[ExpressionKind[\"ObjectBindingPattern\"] = 65557] = \"ObjectBindingPattern\";\n    ExpressionKind[ExpressionKind[\"BindingIdentifier\"] = 65558] = \"BindingIdentifier\";\n    ExpressionKind[ExpressionKind[\"ForOfStatement\"] = 6199] = \"ForOfStatement\";\n    ExpressionKind[ExpressionKind[\"Interpolation\"] = 24] = \"Interpolation\"; //\n})(ExpressionKind || (ExpressionKind = {}));\nclass Unparser {\n    constructor() {\n        this.text = '';\n    }\n    static unparse(expr) {\n        const visitor = new Unparser();\n        expr.accept(visitor);\n        return visitor.text;\n    }\n    visitAccessMember(expr) {\n        expr.object.accept(this);\n        this.text += `.${expr.name}`;\n    }\n    visitAccessKeyed(expr) {\n        expr.object.accept(this);\n        this.text += '[';\n        expr.key.accept(this);\n        this.text += ']';\n    }\n    visitAccessThis(expr) {\n        if (expr.ancestor === 0) {\n            this.text += '$this';\n            return;\n        }\n        this.text += '$parent';\n        let i = expr.ancestor - 1;\n        while (i--) {\n            this.text += '.$parent';\n        }\n    }\n    visitAccessScope(expr) {\n        let i = expr.ancestor;\n        while (i--) {\n            this.text += '$parent.';\n        }\n        this.text += expr.name;\n    }\n    visitArrayLiteral(expr) {\n        const elements = expr.elements;\n        this.text += '[';\n        for (let i = 0, length = elements.length; i < length; ++i) {\n            if (i !== 0) {\n                this.text += ',';\n            }\n            elements[i].accept(this);\n        }\n        this.text += ']';\n    }\n    visitObjectLiteral(expr) {\n        const keys = expr.keys;\n        const values = expr.values;\n        this.text += '{';\n        for (let i = 0, length = keys.length; i < length; ++i) {\n            if (i !== 0) {\n                this.text += ',';\n            }\n            this.text += `'${keys[i]}':`;\n            values[i].accept(this);\n        }\n        this.text += '}';\n    }\n    visitPrimitiveLiteral(expr) {\n        this.text += '(';\n        if (typeof expr.value === 'string') {\n            const escaped = expr.value.replace(/'/g, '\\\\\\'');\n            this.text += `'${escaped}'`;\n        }\n        else {\n            this.text += `${expr.value}`;\n        }\n        this.text += ')';\n    }\n    visitCallFunction(expr) {\n        this.text += '(';\n        expr.func.accept(this);\n        this.writeArgs(expr.args);\n        this.text += ')';\n    }\n    visitCallMember(expr) {\n        this.text += '(';\n        expr.object.accept(this);\n        this.text += `.${expr.name}`;\n        this.writeArgs(expr.args);\n        this.text += ')';\n    }\n    visitCallScope(expr) {\n        this.text += '(';\n        let i = expr.ancestor;\n        while (i--) {\n            this.text += '$parent.';\n        }\n        this.text += expr.name;\n        this.writeArgs(expr.args);\n        this.text += ')';\n    }\n    visitTemplate(expr) {\n        const { cooked, expressions } = expr;\n        const length = expressions.length;\n        this.text += '`';\n        this.text += cooked[0];\n        for (let i = 0; i < length; i++) {\n            expressions[i].accept(this);\n            this.text += cooked[i + 1];\n        }\n        this.text += '`';\n    }\n    visitTaggedTemplate(expr) {\n        const { cooked, expressions } = expr;\n        const length = expressions.length;\n        expr.func.accept(this);\n        this.text += '`';\n        this.text += cooked[0];\n        for (let i = 0; i < length; i++) {\n            expressions[i].accept(this);\n            this.text += cooked[i + 1];\n        }\n        this.text += '`';\n    }\n    visitUnary(expr) {\n        this.text += `(${expr.operation}`;\n        if (expr.operation.charCodeAt(0) >= /* a */ 97) {\n            this.text += ' ';\n        }\n        expr.expression.accept(this);\n        this.text += ')';\n    }\n    visitBinary(expr) {\n        this.text += '(';\n        expr.left.accept(this);\n        if (expr.operation.charCodeAt(0) === /* i */ 105) {\n            this.text += ` ${expr.operation} `;\n        }\n        else {\n            this.text += expr.operation;\n        }\n        expr.right.accept(this);\n        this.text += ')';\n    }\n    visitConditional(expr) {\n        this.text += '(';\n        expr.condition.accept(this);\n        this.text += '?';\n        expr.yes.accept(this);\n        this.text += ':';\n        expr.no.accept(this);\n        this.text += ')';\n    }\n    visitAssign(expr) {\n        this.text += '(';\n        expr.target.accept(this);\n        this.text += '=';\n        expr.value.accept(this);\n        this.text += ')';\n    }\n    visitValueConverter(expr) {\n        const args = expr.args;\n        expr.expression.accept(this);\n        this.text += `|${expr.name}`;\n        for (let i = 0, length = args.length; i < length; ++i) {\n            this.text += ':';\n            args[i].accept(this);\n        }\n    }\n    visitBindingBehavior(expr) {\n        const args = expr.args;\n        expr.expression.accept(this);\n        this.text += `&${expr.name}`;\n        for (let i = 0, length = args.length; i < length; ++i) {\n            this.text += ':';\n            args[i].accept(this);\n        }\n    }\n    visitArrayBindingPattern(expr) {\n        const elements = expr.elements;\n        this.text += '[';\n        for (let i = 0, length = elements.length; i < length; ++i) {\n            if (i !== 0) {\n                this.text += ',';\n            }\n            elements[i].accept(this);\n        }\n        this.text += ']';\n    }\n    visitObjectBindingPattern(expr) {\n        const keys = expr.keys;\n        const values = expr.values;\n        this.text += '{';\n        for (let i = 0, length = keys.length; i < length; ++i) {\n            if (i !== 0) {\n                this.text += ',';\n            }\n            this.text += `'${keys[i]}':`;\n            values[i].accept(this);\n        }\n        this.text += '}';\n    }\n    visitBindingIdentifier(expr) {\n        this.text += expr.name;\n    }\n    visitHtmlLiteral(expr) { throw new Error('visitHtmlLiteral'); }\n    visitForOfStatement(expr) {\n        expr.declaration.accept(this);\n        this.text += ' of ';\n        expr.iterable.accept(this);\n    }\n    visitInterpolation(expr) {\n        const { parts, expressions } = expr;\n        const length = expressions.length;\n        this.text += '${';\n        this.text += parts[0];\n        for (let i = 0; i < length; i++) {\n            expressions[i].accept(this);\n            this.text += parts[i + 1];\n        }\n        this.text += '}';\n    }\n    writeArgs(args) {\n        this.text += '(';\n        for (let i = 0, length = args.length; i < length; ++i) {\n            if (i !== 0) {\n                this.text += ',';\n            }\n            args[i].accept(this);\n        }\n        this.text += ')';\n    }\n}\nfunction chooseScope(accessHostScope, s, hs) {\n    if (accessHostScope) {\n        if (hs === null || hs === void 0) {\n            throw new Error('Host scope is missing. Are you using `$host` outside the `au-slot`? Or missing the `au-slot` attribute?');\n        }\n        return hs;\n    }\n    return s;\n}\nclass CustomExpression {\n    constructor(value) {\n        this.value = value;\n    }\n    evaluate(_f, _s, _hs, _l, _c) {\n        return this.value;\n    }\n}\nclass BindingBehaviorExpression {\n    constructor(expression, name, args) {\n        this.expression = expression;\n        this.name = name;\n        this.args = args;\n        this.behaviorKey = _binding_behavior_js__WEBPACK_IMPORTED_MODULE_3__.BindingBehavior.keyFrom(name);\n    }\n    get $kind() { return 38962 /* BindingBehavior */; }\n    get hasBind() { return true; }\n    get hasUnbind() { return true; }\n    evaluate(f, s, hs, l, c) {\n        return this.expression.evaluate(f, s, hs, l, c);\n    }\n    assign(f, s, hs, l, val) {\n        return this.expression.assign(f, s, hs, l, val);\n    }\n    bind(f, s, hs, b) {\n        if (this.expression.hasBind) {\n            this.expression.bind(f, s, hs, b);\n        }\n        const behavior = b.locator.get(this.behaviorKey);\n        if (behavior == null) {\n            throw new Error(`BindingBehavior named '${this.name}' could not be found. Did you forget to register it as a dependency?`);\n        }\n        if (!(behavior instanceof _binding_behavior_js__WEBPACK_IMPORTED_MODULE_3__.BindingBehaviorFactory)) {\n            if (b[this.behaviorKey] === void 0) {\n                b[this.behaviorKey] = behavior;\n                behavior.bind.call(behavior, f, s, hs, b, ...this.args.map(a => a.evaluate(f, s, hs, b.locator, null)));\n            }\n            else {\n                throw new Error(`BindingBehavior named '${this.name}' already applied.`);\n            }\n        }\n    }\n    unbind(f, s, hs, b) {\n        const key = this.behaviorKey;\n        const $b = b;\n        if ($b[key] !== void 0) {\n            if (typeof $b[key].unbind === 'function') {\n                $b[key].unbind(f, s, hs, b);\n            }\n            $b[key] = void 0;\n        }\n        if (this.expression.hasUnbind) {\n            this.expression.unbind(f, s, hs, b);\n        }\n    }\n    accept(visitor) {\n        return visitor.visitBindingBehavior(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass ValueConverterExpression {\n    constructor(expression, name, args) {\n        this.expression = expression;\n        this.name = name;\n        this.args = args;\n        this.converterKey = _value_converter_js__WEBPACK_IMPORTED_MODULE_4__.ValueConverter.keyFrom(name);\n    }\n    get $kind() { return 36913 /* ValueConverter */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return true; }\n    evaluate(f, s, hs, l, c) {\n        const vc = l.get(this.converterKey);\n        if (vc == null) {\n            throw new Error(`ValueConverter named '${this.name}' could not be found. Did you forget to register it as a dependency?`);\n        }\n        // note: the cast is expected. To connect, it just needs to be a IConnectable\n        // though to work with signal, it needs to have `handleChange`\n        // so having `handleChange` as a guard in the connectable as a safe measure is needed\n        // to make sure signaler works\n        if (c !== null && ('handleChange' in c)) {\n            const signals = vc.signals;\n            if (signals != null) {\n                const signaler = l.get(_observation_signaler_js__WEBPACK_IMPORTED_MODULE_2__.ISignaler);\n                for (let i = 0, ii = signals.length; i < ii; ++i) {\n                    signaler.addSignalListener(signals[i], c);\n                }\n            }\n        }\n        if ('toView' in vc) {\n            return vc.toView(this.expression.evaluate(f, s, hs, l, c), ...this.args.map(a => a.evaluate(f, s, hs, l, c)));\n        }\n        return this.expression.evaluate(f, s, hs, l, c);\n    }\n    assign(f, s, hs, l, val) {\n        const vc = l.get(this.converterKey);\n        if (vc == null) {\n            throw new Error(`ValueConverter named '${this.name}' could not be found. Did you forget to register it as a dependency?`);\n        }\n        if ('fromView' in vc) {\n            val = vc.fromView(val, ...this.args.map(a => a.evaluate(f, s, hs, l, null)));\n        }\n        return this.expression.assign(f, s, hs, l, val);\n    }\n    unbind(_f, _s, _hs, b) {\n        const vc = b.locator.get(this.converterKey);\n        if (vc.signals === void 0) {\n            return;\n        }\n        const signaler = b.locator.get(_observation_signaler_js__WEBPACK_IMPORTED_MODULE_2__.ISignaler);\n        for (let i = 0; i < vc.signals.length; ++i) {\n            // the cast is correct, as the value converter expression would only add\n            // a IConnectable that also implements `ISubscriber` interface to the signaler\n            signaler.removeSignalListener(vc.signals[i], b);\n        }\n    }\n    accept(visitor) {\n        return visitor.visitValueConverter(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass AssignExpression {\n    constructor(target, value) {\n        this.target = target;\n        this.value = value;\n    }\n    get $kind() { return 8208 /* Assign */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        return this.target.assign(f, s, hs, l, this.value.evaluate(f, s, hs, l, c));\n    }\n    assign(f, s, hs, l, val) {\n        this.value.assign(f, s, hs, l, val);\n        return this.target.assign(f, s, hs, l, val);\n    }\n    accept(visitor) {\n        return visitor.visitAssign(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass ConditionalExpression {\n    constructor(condition, yes, no) {\n        this.condition = condition;\n        this.yes = yes;\n        this.no = no;\n    }\n    get $kind() { return 63 /* Conditional */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        return this.condition.evaluate(f, s, hs, l, c) ? this.yes.evaluate(f, s, hs, l, c) : this.no.evaluate(f, s, hs, l, c);\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitConditional(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass AccessThisExpression {\n    constructor(ancestor = 0) {\n        this.ancestor = ancestor;\n    }\n    get $kind() { return 1793 /* AccessThis */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(_f, s, hs, _l, _c) {\n        var _a;\n        if (this === AccessThisExpression.$host) {\n            s = chooseScope(true, s, hs);\n        }\n        let oc = s.overrideContext;\n        let currentScope = s;\n        let i = this.ancestor;\n        while (i-- && oc) {\n            currentScope = currentScope.parentScope;\n            oc = (_a = currentScope === null || currentScope === void 0 ? void 0 : currentScope.overrideContext) !== null && _a !== void 0 ? _a : null;\n        }\n        return i < 1 && oc ? oc.bindingContext : void 0;\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitAccessThis(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nAccessThisExpression.$this = new AccessThisExpression(0);\n// $host and $this are loosely the same thing. $host is used in the context of `au-slot` with the primary objective of determining the s.\nAccessThisExpression.$host = new AccessThisExpression(0);\nAccessThisExpression.$parent = new AccessThisExpression(1);\nclass AccessScopeExpression {\n    constructor(name, ancestor = 0, accessHostScope = false) {\n        this.name = name;\n        this.ancestor = ancestor;\n        this.accessHostScope = accessHostScope;\n    }\n    get $kind() { return 10082 /* AccessScope */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, _l, c) {\n        const obj = _observation_binding_context_js__WEBPACK_IMPORTED_MODULE_1__.BindingContext.get(chooseScope(this.accessHostScope, s, hs), this.name, this.ancestor, f, hs);\n        if (c !== null) {\n            c.observeProperty(obj, this.name);\n        }\n        const evaluatedValue = obj[this.name];\n        if (f & 1 /* isStrictBindingStrategy */) {\n            return evaluatedValue;\n        }\n        return evaluatedValue == null ? '' : evaluatedValue;\n    }\n    assign(f, s, hs, _l, val) {\n        var _a;\n        const obj = _observation_binding_context_js__WEBPACK_IMPORTED_MODULE_1__.BindingContext.get(chooseScope(this.accessHostScope, s, hs), this.name, this.ancestor, f, hs);\n        if (obj instanceof Object) {\n            if (((_a = obj.$observers) === null || _a === void 0 ? void 0 : _a[this.name]) !== void 0) {\n                obj.$observers[this.name].setValue(val, f);\n                return val;\n            }\n            else {\n                return obj[this.name] = val;\n            }\n        }\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitAccessScope(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass AccessMemberExpression {\n    constructor(object, name) {\n        this.object = object;\n        this.name = name;\n    }\n    get $kind() { return 9323 /* AccessMember */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        const instance = this.object.evaluate(f, s, hs, l, (f & 128 /* observeLeafPropertiesOnly */) > 0 ? null : c);\n        if (f & 1 /* isStrictBindingStrategy */) {\n            if (instance == null) {\n                return instance;\n            }\n            if (c !== null) {\n                c.observeProperty(instance, this.name);\n            }\n            return instance[this.name];\n        }\n        if (c !== null && instance instanceof Object) {\n            c.observeProperty(instance, this.name);\n        }\n        return instance ? instance[this.name] : '';\n    }\n    assign(f, s, hs, l, val) {\n        const obj = this.object.evaluate(f, s, hs, l, null);\n        if (obj instanceof Object) {\n            if (obj.$observers !== void 0 && obj.$observers[this.name] !== void 0) {\n                obj.$observers[this.name].setValue(val, f);\n            }\n            else {\n                obj[this.name] = val;\n            }\n        }\n        else {\n            this.object.assign(f, s, hs, l, { [this.name]: val });\n        }\n        return val;\n    }\n    accept(visitor) {\n        return visitor.visitAccessMember(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass AccessKeyedExpression {\n    constructor(object, key) {\n        this.object = object;\n        this.key = key;\n    }\n    get $kind() { return 9324 /* AccessKeyed */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        const instance = this.object.evaluate(f, s, hs, l, (f & 128 /* observeLeafPropertiesOnly */) > 0 ? null : c);\n        if (instance instanceof Object) {\n            const key = this.key.evaluate(f, s, hs, l, (f & 128 /* observeLeafPropertiesOnly */) > 0 ? null : c);\n            if (c !== null) {\n                c.observeProperty(instance, key);\n            }\n            return instance[key];\n        }\n        return void 0;\n    }\n    assign(f, s, hs, l, val) {\n        const instance = this.object.evaluate(f, s, hs, l, null);\n        const key = this.key.evaluate(f, s, hs, l, null);\n        return instance[key] = val;\n    }\n    accept(visitor) {\n        return visitor.visitAccessKeyed(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass CallScopeExpression {\n    constructor(name, args, ancestor = 0, accessHostScope = false) {\n        this.name = name;\n        this.args = args;\n        this.ancestor = ancestor;\n        this.accessHostScope = accessHostScope;\n    }\n    get $kind() { return 1448 /* CallScope */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        s = chooseScope(this.accessHostScope, s, hs);\n        const args = this.args.map(a => a.evaluate(f, s, hs, l, c));\n        const context = _observation_binding_context_js__WEBPACK_IMPORTED_MODULE_1__.BindingContext.get(s, this.name, this.ancestor, f, hs);\n        // ideally, should observe property represents by this.name as well\n        // because it could be changed\n        // todo: did it ever surprise anyone?\n        const func = getFunction(f, context, this.name);\n        if (func) {\n            return func.apply(context, args);\n        }\n        return void 0;\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitCallScope(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass CallMemberExpression {\n    constructor(object, name, args) {\n        this.object = object;\n        this.name = name;\n        this.args = args;\n    }\n    get $kind() { return 1161 /* CallMember */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        const instance = this.object.evaluate(f, s, hs, l, (f & 128 /* observeLeafPropertiesOnly */) > 0 ? null : c);\n        const args = this.args.map(a => a.evaluate(f, s, hs, l, c));\n        const func = getFunction(f, instance, this.name);\n        if (func) {\n            return func.apply(instance, args);\n        }\n        return void 0;\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitCallMember(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass CallFunctionExpression {\n    constructor(func, args) {\n        this.func = func;\n        this.args = args;\n    }\n    get $kind() { return 1162 /* CallFunction */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        const func = this.func.evaluate(f, s, hs, l, c);\n        if (typeof func === 'function') {\n            return func(...this.args.map(a => a.evaluate(f, s, hs, l, c)));\n        }\n        if (!(f & 8 /* mustEvaluate */) && (func == null)) {\n            return void 0;\n        }\n        throw new Error(`Expression is not a function.`);\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitCallFunction(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass BinaryExpression {\n    constructor(operation, left, right) {\n        this.operation = operation;\n        this.left = left;\n        this.right = right;\n    }\n    get $kind() { return 46 /* Binary */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        switch (this.operation) {\n            case '&&':\n                // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n                return this.left.evaluate(f, s, hs, l, c) && this.right.evaluate(f, s, hs, l, c);\n            case '||':\n                // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n                return this.left.evaluate(f, s, hs, l, c) || this.right.evaluate(f, s, hs, l, c);\n            case '==':\n                return this.left.evaluate(f, s, hs, l, c) == this.right.evaluate(f, s, hs, l, c);\n            case '===':\n                return this.left.evaluate(f, s, hs, l, c) === this.right.evaluate(f, s, hs, l, c);\n            case '!=':\n                return this.left.evaluate(f, s, hs, l, c) != this.right.evaluate(f, s, hs, l, c);\n            case '!==':\n                return this.left.evaluate(f, s, hs, l, c) !== this.right.evaluate(f, s, hs, l, c);\n            case 'instanceof': {\n                const right = this.right.evaluate(f, s, hs, l, c);\n                if (typeof right === 'function') {\n                    return this.left.evaluate(f, s, hs, l, c) instanceof right;\n                }\n                return false;\n            }\n            case 'in': {\n                const right = this.right.evaluate(f, s, hs, l, c);\n                if (right instanceof Object) {\n                    return this.left.evaluate(f, s, hs, l, c) in right;\n                }\n                return false;\n            }\n            // note: autoConvertAdd (and the null check) is removed because the default spec behavior is already largely similar\n            // and where it isn't, you kind of want it to behave like the spec anyway (e.g. return NaN when adding a number to undefined)\n            // this makes bugs in user code easier to track down for end users\n            // also, skipping these checks and leaving it to the runtime is a nice little perf boost and simplifies our code\n            case '+': {\n                const left = this.left.evaluate(f, s, hs, l, c);\n                const right = this.right.evaluate(f, s, hs, l, c);\n                if ((f & 1 /* isStrictBindingStrategy */) > 0) {\n                    return left + right;\n                }\n                // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n                if (!left || !right) {\n                    if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isNumberOrBigInt)(left) || (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isNumberOrBigInt)(right)) {\n                        return (left || 0) + (right || 0);\n                    }\n                    if ((0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isStringOrDate)(left) || (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isStringOrDate)(right)) {\n                        return (left || '') + (right || '');\n                    }\n                }\n                return left + right;\n            }\n            case '-':\n                return this.left.evaluate(f, s, hs, l, c) - this.right.evaluate(f, s, hs, l, c);\n            case '*':\n                return this.left.evaluate(f, s, hs, l, c) * this.right.evaluate(f, s, hs, l, c);\n            case '/':\n                return this.left.evaluate(f, s, hs, l, c) / this.right.evaluate(f, s, hs, l, c);\n            case '%':\n                return this.left.evaluate(f, s, hs, l, c) % this.right.evaluate(f, s, hs, l, c);\n            case '<':\n                return this.left.evaluate(f, s, hs, l, c) < this.right.evaluate(f, s, hs, l, c);\n            case '>':\n                return this.left.evaluate(f, s, hs, l, c) > this.right.evaluate(f, s, hs, l, c);\n            case '<=':\n                return this.left.evaluate(f, s, hs, l, c) <= this.right.evaluate(f, s, hs, l, c);\n            case '>=':\n                return this.left.evaluate(f, s, hs, l, c) >= this.right.evaluate(f, s, hs, l, c);\n            default:\n                throw new Error(`Unknown binary operator: '${this.operation}'`);\n        }\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitBinary(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass UnaryExpression {\n    constructor(operation, expression) {\n        this.operation = operation;\n        this.expression = expression;\n    }\n    get $kind() { return 39 /* Unary */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        switch (this.operation) {\n            case 'void':\n                return void this.expression.evaluate(f, s, hs, l, c);\n            case 'typeof':\n                return typeof this.expression.evaluate(f | 1 /* isStrictBindingStrategy */, s, hs, l, c);\n            case '!':\n                return !this.expression.evaluate(f, s, hs, l, c);\n            case '-':\n                return -this.expression.evaluate(f, s, hs, l, c);\n            case '+':\n                return +this.expression.evaluate(f, s, hs, l, c);\n            default:\n                throw new Error(`Unknown unary operator: '${this.operation}'`);\n        }\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitUnary(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass PrimitiveLiteralExpression {\n    constructor(value) {\n        this.value = value;\n    }\n    get $kind() { return 17925 /* PrimitiveLiteral */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(_f, _s, _hs, _l, _c) {\n        return this.value;\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitPrimitiveLiteral(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nPrimitiveLiteralExpression.$undefined = new PrimitiveLiteralExpression(void 0);\nPrimitiveLiteralExpression.$null = new PrimitiveLiteralExpression(null);\nPrimitiveLiteralExpression.$true = new PrimitiveLiteralExpression(true);\nPrimitiveLiteralExpression.$false = new PrimitiveLiteralExpression(false);\nPrimitiveLiteralExpression.$empty = new PrimitiveLiteralExpression('');\nclass HtmlLiteralExpression {\n    constructor(parts) {\n        this.parts = parts;\n    }\n    get $kind() { return 51 /* HtmlLiteral */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        let result = '';\n        for (let i = 0; i < this.parts.length; ++i) {\n            const v = this.parts[i].evaluate(f, s, hs, l, c);\n            if (v == null) {\n                continue;\n            }\n            result += v;\n        }\n        return result;\n    }\n    assign(_f, _s, _hs, _l, _obj, _projection) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitHtmlLiteral(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass ArrayLiteralExpression {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    get $kind() { return 17955 /* ArrayLiteral */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        return this.elements.map(e => e.evaluate(f, s, hs, l, c));\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitArrayLiteral(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nArrayLiteralExpression.$empty = new ArrayLiteralExpression(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray);\nclass ObjectLiteralExpression {\n    constructor(keys, values) {\n        this.keys = keys;\n        this.values = values;\n    }\n    get $kind() { return 17956 /* ObjectLiteral */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        const instance = {};\n        for (let i = 0; i < this.keys.length; ++i) {\n            instance[this.keys[i]] = this.values[i].evaluate(f, s, hs, l, c);\n        }\n        return instance;\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitObjectLiteral(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nObjectLiteralExpression.$empty = new ObjectLiteralExpression(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray, _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray);\nclass TemplateExpression {\n    constructor(cooked, expressions = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray) {\n        this.cooked = cooked;\n        this.expressions = expressions;\n    }\n    get $kind() { return 17958 /* Template */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        let result = this.cooked[0];\n        for (let i = 0; i < this.expressions.length; ++i) {\n            result += String(this.expressions[i].evaluate(f, s, hs, l, c));\n            result += this.cooked[i + 1];\n        }\n        return result;\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitTemplate(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nTemplateExpression.$empty = new TemplateExpression(['']);\nclass TaggedTemplateExpression {\n    constructor(cooked, raw, func, expressions = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray) {\n        this.cooked = cooked;\n        this.func = func;\n        this.expressions = expressions;\n        cooked.raw = raw;\n    }\n    get $kind() { return 1197 /* TaggedTemplate */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        const results = this.expressions.map(e => e.evaluate(f, s, hs, l, c));\n        const func = this.func.evaluate(f, s, hs, l, c);\n        if (typeof func !== 'function') {\n            throw new Error(`Left-hand side of tagged template expression is not a function.`);\n        }\n        return func(this.cooked, ...results);\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitTaggedTemplate(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass ArrayBindingPattern {\n    // We'll either have elements, or keys+values, but never all 3\n    constructor(elements) {\n        this.elements = elements;\n    }\n    get $kind() { return 65556 /* ArrayBindingPattern */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(_f, _s, _hs, _l, _c) {\n        // TODO: this should come after batch\n        // as a destructuring expression like [x, y] = value\n        //\n        // should only trigger change only once:\n        // batch(() => {\n        //   object.x = value[0]\n        //   object.y = value[1]\n        // })\n        //\n        // instead of twice:\n        // object.x = value[0]\n        // object.y = value[1]\n        return void 0;\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        // TODO\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitArrayBindingPattern(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass ObjectBindingPattern {\n    // We'll either have elements, or keys+values, but never all 3\n    constructor(keys, values) {\n        this.keys = keys;\n        this.values = values;\n    }\n    get $kind() { return 65557 /* ObjectBindingPattern */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(_f, _s, _hs, _l, _c) {\n        // TODO\n        // similar to array binding ast, this should only come after batch\n        // for a single notification per destructing,\n        // regardless number of property assignments on the scope binding context\n        return void 0;\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        // TODO\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitObjectBindingPattern(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nclass BindingIdentifier {\n    constructor(name) {\n        this.name = name;\n    }\n    get $kind() { return 65558 /* BindingIdentifier */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(_f, _s, _hs, _l, _c) {\n        return this.name;\n    }\n    accept(visitor) {\n        return visitor.visitBindingIdentifier(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nconst toStringTag = Object.prototype.toString;\n// https://tc39.github.io/ecma262/#sec-iteration-statements\n// https://tc39.github.io/ecma262/#sec-for-in-and-for-of-statements\nclass ForOfStatement {\n    constructor(declaration, iterable) {\n        this.declaration = declaration;\n        this.iterable = iterable;\n    }\n    get $kind() { return 6199 /* ForOfStatement */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        return this.iterable.evaluate(f, s, hs, l, c);\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    count(_f, result) {\n        switch (toStringTag.call(result)) {\n            case '[object Array]': return result.length;\n            case '[object Map]': return result.size;\n            case '[object Set]': return result.size;\n            case '[object Number]': return result;\n            case '[object Null]': return 0;\n            case '[object Undefined]': return 0;\n            default: throw new Error(`Cannot count ${toStringTag.call(result)}`);\n        }\n    }\n    // deepscan-disable-next-line\n    iterate(f, result, func) {\n        switch (toStringTag.call(result)) {\n            case '[object Array]': return $array(result, func);\n            case '[object Map]': return $map(result, func);\n            case '[object Set]': return $set(result, func);\n            case '[object Number]': return $number(result, func);\n            case '[object Null]': return;\n            case '[object Undefined]': return;\n            default: throw new Error(`Cannot iterate over ${toStringTag.call(result)}`);\n        }\n    }\n    bind(f, s, hs, b) {\n        if (this.iterable.hasBind) {\n            this.iterable.bind(f, s, hs, b);\n        }\n    }\n    unbind(f, s, hs, b) {\n        if (this.iterable.hasUnbind) {\n            this.iterable.unbind(f, s, hs, b);\n        }\n    }\n    accept(visitor) {\n        return visitor.visitForOfStatement(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\n/*\n* Note: this implementation is far simpler than the one in vCurrent and might be missing important stuff (not sure yet)\n* so while this implementation is identical to Template and we could reuse that one, we don't want to lock outselves in to potentially the wrong abstraction\n* but this class might be a candidate for removal if it turns out it does provide all we need\n*/\nclass Interpolation {\n    constructor(parts, expressions = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray) {\n        this.parts = parts;\n        this.expressions = expressions;\n        this.isMulti = expressions.length > 1;\n        this.firstExpression = expressions[0];\n    }\n    get $kind() { return 24 /* Interpolation */; }\n    get hasBind() { return false; }\n    get hasUnbind() { return false; }\n    evaluate(f, s, hs, l, c) {\n        if (this.isMulti) {\n            let result = this.parts[0];\n            for (let i = 0; i < this.expressions.length; ++i) {\n                result += String(this.expressions[i].evaluate(f, s, hs, l, c));\n                result += this.parts[i + 1];\n            }\n            return result;\n        }\n        else {\n            return `${this.parts[0]}${this.firstExpression.evaluate(f, s, hs, l, c)}${this.parts[1]}`;\n        }\n    }\n    assign(_f, _s, _hs, _l, _obj) {\n        return void 0;\n    }\n    accept(visitor) {\n        return visitor.visitInterpolation(this);\n    }\n    toString() {\n        return Unparser.unparse(this);\n    }\n}\nfunction getFunction(f, obj, name) {\n    const func = obj == null ? null : obj[name];\n    if (typeof func === 'function') {\n        return func;\n    }\n    if (!(f & 8 /* mustEvaluate */) && func == null) {\n        return null;\n    }\n    throw new Error(`Expected '${name}' to be a function`);\n}\nfunction $array(result, func) {\n    for (let i = 0, ii = result.length; i < ii; ++i) {\n        func(result, i, result[i]);\n    }\n}\nfunction $map(result, func) {\n    const arr = Array(result.size);\n    let i = -1;\n    for (const entry of result.entries()) {\n        arr[++i] = entry;\n    }\n    $array(arr, func);\n}\nfunction $set(result, func) {\n    const arr = Array(result.size);\n    let i = -1;\n    for (const key of result.keys()) {\n        arr[++i] = key;\n    }\n    $array(arr, func);\n}\nfunction $number(result, func) {\n    const arr = Array(result);\n    for (let i = 0; i < result; ++i) {\n        arr[i] = i;\n    }\n    $array(arr, func);\n}\n//# sourceMappingURL=ast.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9iaW5kaW5nL2FzdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL2JpbmRpbmcvYXN0LmpzP2Q5YzciXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVzdHJpY3QtdGVtcGxhdGUtZXhwcmVzc2lvbnMgKi9cbmltcG9ydCB7IGVtcHR5QXJyYXksIGlzTnVtYmVyT3JCaWdJbnQsIGlzU3RyaW5nT3JEYXRlIH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IEJpbmRpbmdDb250ZXh0IH0gZnJvbSAnLi4vb2JzZXJ2YXRpb24vYmluZGluZy1jb250ZXh0LmpzJztcbmltcG9ydCB7IElTaWduYWxlciB9IGZyb20gJy4uL29ic2VydmF0aW9uL3NpZ25hbGVyLmpzJztcbmltcG9ydCB7IEJpbmRpbmdCZWhhdmlvciwgQmluZGluZ0JlaGF2aW9yRmFjdG9yeSB9IGZyb20gJy4uL2JpbmRpbmctYmVoYXZpb3IuanMnO1xuaW1wb3J0IHsgVmFsdWVDb252ZXJ0ZXIgfSBmcm9tICcuLi92YWx1ZS1jb252ZXJ0ZXIuanMnO1xuZXhwb3J0IHZhciBFeHByZXNzaW9uS2luZDtcbihmdW5jdGlvbiAoRXhwcmVzc2lvbktpbmQpIHtcbiAgICBFeHByZXNzaW9uS2luZFtFeHByZXNzaW9uS2luZFtcIkNvbm5lY3RzXCJdID0gMzJdID0gXCJDb25uZWN0c1wiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiT2JzZXJ2ZXNcIl0gPSA2NF0gPSBcIk9ic2VydmVzXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJDYWxsc0Z1bmN0aW9uXCJdID0gMTI4XSA9IFwiQ2FsbHNGdW5jdGlvblwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiSGFzQW5jZXN0b3JcIl0gPSAyNTZdID0gXCJIYXNBbmNlc3RvclwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiSXNQcmltYXJ5XCJdID0gNTEyXSA9IFwiSXNQcmltYXJ5XCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJJc0xlZnRIYW5kU2lkZVwiXSA9IDEwMjRdID0gXCJJc0xlZnRIYW5kU2lkZVwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiSGFzQmluZFwiXSA9IDIwNDhdID0gXCJIYXNCaW5kXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJIYXNVbmJpbmRcIl0gPSA0MDk2XSA9IFwiSGFzVW5iaW5kXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJJc0Fzc2lnbmFibGVcIl0gPSA4MTkyXSA9IFwiSXNBc3NpZ25hYmxlXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJJc0xpdGVyYWxcIl0gPSAxNjM4NF0gPSBcIklzTGl0ZXJhbFwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiSXNSZXNvdXJjZVwiXSA9IDMyNzY4XSA9IFwiSXNSZXNvdXJjZVwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiSXNGb3JEZWNsYXJhdGlvblwiXSA9IDY1NTM2XSA9IFwiSXNGb3JEZWNsYXJhdGlvblwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiVHlwZVwiXSA9IDMxXSA9IFwiVHlwZVwiO1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiQWNjZXNzVGhpc1wiXSA9IDE3OTNdID0gXCJBY2Nlc3NUaGlzXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJBY2Nlc3NTY29wZVwiXSA9IDEwMDgyXSA9IFwiQWNjZXNzU2NvcGVcIjtcbiAgICBFeHByZXNzaW9uS2luZFtFeHByZXNzaW9uS2luZFtcIkFycmF5TGl0ZXJhbFwiXSA9IDE3OTU1XSA9IFwiQXJyYXlMaXRlcmFsXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJPYmplY3RMaXRlcmFsXCJdID0gMTc5NTZdID0gXCJPYmplY3RMaXRlcmFsXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJQcmltaXRpdmVMaXRlcmFsXCJdID0gMTc5MjVdID0gXCJQcmltaXRpdmVMaXRlcmFsXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJUZW1wbGF0ZVwiXSA9IDE3OTU4XSA9IFwiVGVtcGxhdGVcIjtcbiAgICBFeHByZXNzaW9uS2luZFtFeHByZXNzaW9uS2luZFtcIlVuYXJ5XCJdID0gMzldID0gXCJVbmFyeVwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiQ2FsbFNjb3BlXCJdID0gMTQ0OF0gPSBcIkNhbGxTY29wZVwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiQ2FsbE1lbWJlclwiXSA9IDExNjFdID0gXCJDYWxsTWVtYmVyXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJDYWxsRnVuY3Rpb25cIl0gPSAxMTYyXSA9IFwiQ2FsbEZ1bmN0aW9uXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJBY2Nlc3NNZW1iZXJcIl0gPSA5MzIzXSA9IFwiQWNjZXNzTWVtYmVyXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJBY2Nlc3NLZXllZFwiXSA9IDkzMjRdID0gXCJBY2Nlc3NLZXllZFwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiVGFnZ2VkVGVtcGxhdGVcIl0gPSAxMTk3XSA9IFwiVGFnZ2VkVGVtcGxhdGVcIjtcbiAgICBFeHByZXNzaW9uS2luZFtFeHByZXNzaW9uS2luZFtcIkJpbmFyeVwiXSA9IDQ2XSA9IFwiQmluYXJ5XCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJDb25kaXRpb25hbFwiXSA9IDYzXSA9IFwiQ29uZGl0aW9uYWxcIjtcbiAgICBFeHByZXNzaW9uS2luZFtFeHByZXNzaW9uS2luZFtcIkFzc2lnblwiXSA9IDgyMDhdID0gXCJBc3NpZ25cIjtcbiAgICBFeHByZXNzaW9uS2luZFtFeHByZXNzaW9uS2luZFtcIlZhbHVlQ29udmVydGVyXCJdID0gMzY5MTNdID0gXCJWYWx1ZUNvbnZlcnRlclwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiQmluZGluZ0JlaGF2aW9yXCJdID0gMzg5NjJdID0gXCJCaW5kaW5nQmVoYXZpb3JcIjtcbiAgICBFeHByZXNzaW9uS2luZFtFeHByZXNzaW9uS2luZFtcIkh0bWxMaXRlcmFsXCJdID0gNTFdID0gXCJIdG1sTGl0ZXJhbFwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiQXJyYXlCaW5kaW5nUGF0dGVyblwiXSA9IDY1NTU2XSA9IFwiQXJyYXlCaW5kaW5nUGF0dGVyblwiO1xuICAgIEV4cHJlc3Npb25LaW5kW0V4cHJlc3Npb25LaW5kW1wiT2JqZWN0QmluZGluZ1BhdHRlcm5cIl0gPSA2NTU1N10gPSBcIk9iamVjdEJpbmRpbmdQYXR0ZXJuXCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJCaW5kaW5nSWRlbnRpZmllclwiXSA9IDY1NTU4XSA9IFwiQmluZGluZ0lkZW50aWZpZXJcIjtcbiAgICBFeHByZXNzaW9uS2luZFtFeHByZXNzaW9uS2luZFtcIkZvck9mU3RhdGVtZW50XCJdID0gNjE5OV0gPSBcIkZvck9mU3RhdGVtZW50XCI7XG4gICAgRXhwcmVzc2lvbktpbmRbRXhwcmVzc2lvbktpbmRbXCJJbnRlcnBvbGF0aW9uXCJdID0gMjRdID0gXCJJbnRlcnBvbGF0aW9uXCI7IC8vXG59KShFeHByZXNzaW9uS2luZCB8fCAoRXhwcmVzc2lvbktpbmQgPSB7fSkpO1xuZXhwb3J0IGNsYXNzIFVucGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gJyc7XG4gICAgfVxuICAgIHN0YXRpYyB1bnBhcnNlKGV4cHIpIHtcbiAgICAgICAgY29uc3QgdmlzaXRvciA9IG5ldyBVbnBhcnNlcigpO1xuICAgICAgICBleHByLmFjY2VwdCh2aXNpdG9yKTtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudGV4dDtcbiAgICB9XG4gICAgdmlzaXRBY2Nlc3NNZW1iZXIoZXhwcikge1xuICAgICAgICBleHByLm9iamVjdC5hY2NlcHQodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dCArPSBgLiR7ZXhwci5uYW1lfWA7XG4gICAgfVxuICAgIHZpc2l0QWNjZXNzS2V5ZWQoZXhwcikge1xuICAgICAgICBleHByLm9iamVjdC5hY2NlcHQodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dCArPSAnWyc7XG4gICAgICAgIGV4cHIua2V5LmFjY2VwdCh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9ICddJztcbiAgICB9XG4gICAgdmlzaXRBY2Nlc3NUaGlzKGV4cHIpIHtcbiAgICAgICAgaWYgKGV4cHIuYW5jZXN0b3IgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSAnJHRoaXMnO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dCArPSAnJHBhcmVudCc7XG4gICAgICAgIGxldCBpID0gZXhwci5hbmNlc3RvciAtIDE7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSAnLiRwYXJlbnQnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0QWNjZXNzU2NvcGUoZXhwcikge1xuICAgICAgICBsZXQgaSA9IGV4cHIuYW5jZXN0b3I7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSAnJHBhcmVudC4nO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dCArPSBleHByLm5hbWU7XG4gICAgfVxuICAgIHZpc2l0QXJyYXlMaXRlcmFsKGV4cHIpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBleHByLmVsZW1lbnRzO1xuICAgICAgICB0aGlzLnRleHQgKz0gJ1snO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ICs9ICcsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnRzW2ldLmFjY2VwdCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHQgKz0gJ10nO1xuICAgIH1cbiAgICB2aXNpdE9iamVjdExpdGVyYWwoZXhwcikge1xuICAgICAgICBjb25zdCBrZXlzID0gZXhwci5rZXlzO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBleHByLnZhbHVlcztcbiAgICAgICAgdGhpcy50ZXh0ICs9ICd7JztcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ICs9ICcsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGV4dCArPSBgJyR7a2V5c1tpXX0nOmA7XG4gICAgICAgICAgICB2YWx1ZXNbaV0uYWNjZXB0KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dCArPSAnfSc7XG4gICAgfVxuICAgIHZpc2l0UHJpbWl0aXZlTGl0ZXJhbChleHByKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSAnKCc7XG4gICAgICAgIGlmICh0eXBlb2YgZXhwci52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IGVzY2FwZWQgPSBleHByLnZhbHVlLnJlcGxhY2UoLycvZywgJ1xcXFxcXCcnKTtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSBgJyR7ZXNjYXBlZH0nYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSBgJHtleHByLnZhbHVlfWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0ICs9ICcpJztcbiAgICB9XG4gICAgdmlzaXRDYWxsRnVuY3Rpb24oZXhwcikge1xuICAgICAgICB0aGlzLnRleHQgKz0gJygnO1xuICAgICAgICBleHByLmZ1bmMuYWNjZXB0KHRoaXMpO1xuICAgICAgICB0aGlzLndyaXRlQXJncyhleHByLmFyZ3MpO1xuICAgICAgICB0aGlzLnRleHQgKz0gJyknO1xuICAgIH1cbiAgICB2aXNpdENhbGxNZW1iZXIoZXhwcikge1xuICAgICAgICB0aGlzLnRleHQgKz0gJygnO1xuICAgICAgICBleHByLm9iamVjdC5hY2NlcHQodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dCArPSBgLiR7ZXhwci5uYW1lfWA7XG4gICAgICAgIHRoaXMud3JpdGVBcmdzKGV4cHIuYXJncyk7XG4gICAgICAgIHRoaXMudGV4dCArPSAnKSc7XG4gICAgfVxuICAgIHZpc2l0Q2FsbFNjb3BlKGV4cHIpIHtcbiAgICAgICAgdGhpcy50ZXh0ICs9ICcoJztcbiAgICAgICAgbGV0IGkgPSBleHByLmFuY2VzdG9yO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnRleHQgKz0gJyRwYXJlbnQuJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHQgKz0gZXhwci5uYW1lO1xuICAgICAgICB0aGlzLndyaXRlQXJncyhleHByLmFyZ3MpO1xuICAgICAgICB0aGlzLnRleHQgKz0gJyknO1xuICAgIH1cbiAgICB2aXNpdFRlbXBsYXRlKGV4cHIpIHtcbiAgICAgICAgY29uc3QgeyBjb29rZWQsIGV4cHJlc3Npb25zIH0gPSBleHByO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBleHByZXNzaW9ucy5sZW5ndGg7XG4gICAgICAgIHRoaXMudGV4dCArPSAnYCc7XG4gICAgICAgIHRoaXMudGV4dCArPSBjb29rZWRbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb25zW2ldLmFjY2VwdCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSBjb29rZWRbaSArIDFdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dCArPSAnYCc7XG4gICAgfVxuICAgIHZpc2l0VGFnZ2VkVGVtcGxhdGUoZXhwcikge1xuICAgICAgICBjb25zdCB7IGNvb2tlZCwgZXhwcmVzc2lvbnMgfSA9IGV4cHI7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGV4cHJlc3Npb25zLmxlbmd0aDtcbiAgICAgICAgZXhwci5mdW5jLmFjY2VwdCh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9ICdgJztcbiAgICAgICAgdGhpcy50ZXh0ICs9IGNvb2tlZFswXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZXhwcmVzc2lvbnNbaV0uYWNjZXB0KHRoaXMpO1xuICAgICAgICAgICAgdGhpcy50ZXh0ICs9IGNvb2tlZFtpICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0ICs9ICdgJztcbiAgICB9XG4gICAgdmlzaXRVbmFyeShleHByKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSBgKCR7ZXhwci5vcGVyYXRpb259YDtcbiAgICAgICAgaWYgKGV4cHIub3BlcmF0aW9uLmNoYXJDb2RlQXQoMCkgPj0gLyogYSAqLyA5Nykge1xuICAgICAgICAgICAgdGhpcy50ZXh0ICs9ICcgJztcbiAgICAgICAgfVxuICAgICAgICBleHByLmV4cHJlc3Npb24uYWNjZXB0KHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gJyknO1xuICAgIH1cbiAgICB2aXNpdEJpbmFyeShleHByKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSAnKCc7XG4gICAgICAgIGV4cHIubGVmdC5hY2NlcHQodGhpcyk7XG4gICAgICAgIGlmIChleHByLm9wZXJhdGlvbi5jaGFyQ29kZUF0KDApID09PSAvKiBpICovIDEwNSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0ICs9IGAgJHtleHByLm9wZXJhdGlvbn0gYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSBleHByLm9wZXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBleHByLnJpZ2h0LmFjY2VwdCh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9ICcpJztcbiAgICB9XG4gICAgdmlzaXRDb25kaXRpb25hbChleHByKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSAnKCc7XG4gICAgICAgIGV4cHIuY29uZGl0aW9uLmFjY2VwdCh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9ICc/JztcbiAgICAgICAgZXhwci55ZXMuYWNjZXB0KHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gJzonO1xuICAgICAgICBleHByLm5vLmFjY2VwdCh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9ICcpJztcbiAgICB9XG4gICAgdmlzaXRBc3NpZ24oZXhwcikge1xuICAgICAgICB0aGlzLnRleHQgKz0gJygnO1xuICAgICAgICBleHByLnRhcmdldC5hY2NlcHQodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dCArPSAnPSc7XG4gICAgICAgIGV4cHIudmFsdWUuYWNjZXB0KHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gJyknO1xuICAgIH1cbiAgICB2aXNpdFZhbHVlQ29udmVydGVyKGV4cHIpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IGV4cHIuYXJncztcbiAgICAgICAgZXhwci5leHByZXNzaW9uLmFjY2VwdCh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0ICs9IGB8JHtleHByLm5hbWV9YDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGFyZ3MubGVuZ3RoOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCArPSAnOic7XG4gICAgICAgICAgICBhcmdzW2ldLmFjY2VwdCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpdEJpbmRpbmdCZWhhdmlvcihleHByKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBleHByLmFyZ3M7XG4gICAgICAgIGV4cHIuZXhwcmVzc2lvbi5hY2NlcHQodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dCArPSBgJiR7ZXhwci5uYW1lfWA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBhcmdzLmxlbmd0aDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLnRleHQgKz0gJzonO1xuICAgICAgICAgICAgYXJnc1tpXS5hY2NlcHQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRBcnJheUJpbmRpbmdQYXR0ZXJuKGV4cHIpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBleHByLmVsZW1lbnRzO1xuICAgICAgICB0aGlzLnRleHQgKz0gJ1snO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ICs9ICcsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnRzW2ldLmFjY2VwdCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHQgKz0gJ10nO1xuICAgIH1cbiAgICB2aXNpdE9iamVjdEJpbmRpbmdQYXR0ZXJuKGV4cHIpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IGV4cHIua2V5cztcbiAgICAgICAgY29uc3QgdmFsdWVzID0gZXhwci52YWx1ZXM7XG4gICAgICAgIHRoaXMudGV4dCArPSAneyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dCArPSAnLCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRleHQgKz0gYCcke2tleXNbaV19JzpgO1xuICAgICAgICAgICAgdmFsdWVzW2ldLmFjY2VwdCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHQgKz0gJ30nO1xuICAgIH1cbiAgICB2aXNpdEJpbmRpbmdJZGVudGlmaWVyKGV4cHIpIHtcbiAgICAgICAgdGhpcy50ZXh0ICs9IGV4cHIubmFtZTtcbiAgICB9XG4gICAgdmlzaXRIdG1sTGl0ZXJhbChleHByKSB7IHRocm93IG5ldyBFcnJvcigndmlzaXRIdG1sTGl0ZXJhbCcpOyB9XG4gICAgdmlzaXRGb3JPZlN0YXRlbWVudChleHByKSB7XG4gICAgICAgIGV4cHIuZGVjbGFyYXRpb24uYWNjZXB0KHRoaXMpO1xuICAgICAgICB0aGlzLnRleHQgKz0gJyBvZiAnO1xuICAgICAgICBleHByLml0ZXJhYmxlLmFjY2VwdCh0aGlzKTtcbiAgICB9XG4gICAgdmlzaXRJbnRlcnBvbGF0aW9uKGV4cHIpIHtcbiAgICAgICAgY29uc3QgeyBwYXJ0cywgZXhwcmVzc2lvbnMgfSA9IGV4cHI7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGV4cHJlc3Npb25zLmxlbmd0aDtcbiAgICAgICAgdGhpcy50ZXh0ICs9ICckeyc7XG4gICAgICAgIHRoaXMudGV4dCArPSBwYXJ0c1swXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZXhwcmVzc2lvbnNbaV0uYWNjZXB0KHRoaXMpO1xuICAgICAgICAgICAgdGhpcy50ZXh0ICs9IHBhcnRzW2kgKyAxXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHQgKz0gJ30nO1xuICAgIH1cbiAgICB3cml0ZUFyZ3MoYXJncykge1xuICAgICAgICB0aGlzLnRleHQgKz0gJygnO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gYXJncy5sZW5ndGg7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKGkgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgKz0gJywnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJnc1tpXS5hY2NlcHQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0ICs9ICcpJztcbiAgICB9XG59XG5mdW5jdGlvbiBjaG9vc2VTY29wZShhY2Nlc3NIb3N0U2NvcGUsIHMsIGhzKSB7XG4gICAgaWYgKGFjY2Vzc0hvc3RTY29wZSkge1xuICAgICAgICBpZiAoaHMgPT09IG51bGwgfHwgaHMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIb3N0IHNjb3BlIGlzIG1pc3NpbmcuIEFyZSB5b3UgdXNpbmcgYCRob3N0YCBvdXRzaWRlIHRoZSBgYXUtc2xvdGA/IE9yIG1pc3NpbmcgdGhlIGBhdS1zbG90YCBhdHRyaWJ1dGU/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhzO1xuICAgIH1cbiAgICByZXR1cm4gcztcbn1cbmV4cG9ydCBjbGFzcyBDdXN0b21FeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGV2YWx1YXRlKF9mLCBfcywgX2hzLCBfbCwgX2MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJpbmRpbmdCZWhhdmlvckV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGV4cHJlc3Npb24sIG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICAgICAgdGhpcy5iZWhhdmlvcktleSA9IEJpbmRpbmdCZWhhdmlvci5rZXlGcm9tKG5hbWUpO1xuICAgIH1cbiAgICBnZXQgJGtpbmQoKSB7IHJldHVybiAzODk2MiAvKiBCaW5kaW5nQmVoYXZpb3IgKi87IH1cbiAgICBnZXQgaGFzQmluZCgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBnZXQgaGFzVW5iaW5kKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgIH1cbiAgICBhc3NpZ24oZiwgcywgaHMsIGwsIHZhbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHByZXNzaW9uLmFzc2lnbihmLCBzLCBocywgbCwgdmFsKTtcbiAgICB9XG4gICAgYmluZChmLCBzLCBocywgYikge1xuICAgICAgICBpZiAodGhpcy5leHByZXNzaW9uLmhhc0JpbmQpIHtcbiAgICAgICAgICAgIHRoaXMuZXhwcmVzc2lvbi5iaW5kKGYsIHMsIGhzLCBiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiZWhhdmlvciA9IGIubG9jYXRvci5nZXQodGhpcy5iZWhhdmlvcktleSk7XG4gICAgICAgIGlmIChiZWhhdmlvciA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJpbmRpbmdCZWhhdmlvciBuYW1lZCAnJHt0aGlzLm5hbWV9JyBjb3VsZCBub3QgYmUgZm91bmQuIERpZCB5b3UgZm9yZ2V0IHRvIHJlZ2lzdGVyIGl0IGFzIGEgZGVwZW5kZW5jeT9gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShiZWhhdmlvciBpbnN0YW5jZW9mIEJpbmRpbmdCZWhhdmlvckZhY3RvcnkpKSB7XG4gICAgICAgICAgICBpZiAoYlt0aGlzLmJlaGF2aW9yS2V5XSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgYlt0aGlzLmJlaGF2aW9yS2V5XSA9IGJlaGF2aW9yO1xuICAgICAgICAgICAgICAgIGJlaGF2aW9yLmJpbmQuY2FsbChiZWhhdmlvciwgZiwgcywgaHMsIGIsIC4uLnRoaXMuYXJncy5tYXAoYSA9PiBhLmV2YWx1YXRlKGYsIHMsIGhzLCBiLmxvY2F0b3IsIG51bGwpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJpbmRpbmdCZWhhdmlvciBuYW1lZCAnJHt0aGlzLm5hbWV9JyBhbHJlYWR5IGFwcGxpZWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5iaW5kKGYsIHMsIGhzLCBiKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuYmVoYXZpb3JLZXk7XG4gICAgICAgIGNvbnN0ICRiID0gYjtcbiAgICAgICAgaWYgKCRiW2tleV0gIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAkYltrZXldLnVuYmluZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICRiW2tleV0udW5iaW5kKGYsIHMsIGhzLCBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRiW2tleV0gPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZXhwcmVzc2lvbi5oYXNVbmJpbmQpIHtcbiAgICAgICAgICAgIHRoaXMuZXhwcmVzc2lvbi51bmJpbmQoZiwgcywgaHMsIGIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0QmluZGluZ0JlaGF2aW9yKHRoaXMpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFVucGFyc2VyLnVucGFyc2UodGhpcyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFZhbHVlQ29udmVydGVyRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IoZXhwcmVzc2lvbiwgbmFtZSwgYXJncykge1xuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgICAgICB0aGlzLmNvbnZlcnRlcktleSA9IFZhbHVlQ29udmVydGVyLmtleUZyb20obmFtZSk7XG4gICAgfVxuICAgIGdldCAka2luZCgpIHsgcmV0dXJuIDM2OTEzIC8qIFZhbHVlQ29udmVydGVyICovOyB9XG4gICAgZ2V0IGhhc0JpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBoYXNVbmJpbmQoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpIHtcbiAgICAgICAgY29uc3QgdmMgPSBsLmdldCh0aGlzLmNvbnZlcnRlcktleSk7XG4gICAgICAgIGlmICh2YyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbHVlQ29udmVydGVyIG5hbWVkICcke3RoaXMubmFtZX0nIGNvdWxkIG5vdCBiZSBmb3VuZC4gRGlkIHlvdSBmb3JnZXQgdG8gcmVnaXN0ZXIgaXQgYXMgYSBkZXBlbmRlbmN5P2ApO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGU6IHRoZSBjYXN0IGlzIGV4cGVjdGVkLiBUbyBjb25uZWN0LCBpdCBqdXN0IG5lZWRzIHRvIGJlIGEgSUNvbm5lY3RhYmxlXG4gICAgICAgIC8vIHRob3VnaCB0byB3b3JrIHdpdGggc2lnbmFsLCBpdCBuZWVkcyB0byBoYXZlIGBoYW5kbGVDaGFuZ2VgXG4gICAgICAgIC8vIHNvIGhhdmluZyBgaGFuZGxlQ2hhbmdlYCBhcyBhIGd1YXJkIGluIHRoZSBjb25uZWN0YWJsZSBhcyBhIHNhZmUgbWVhc3VyZSBpcyBuZWVkZWRcbiAgICAgICAgLy8gdG8gbWFrZSBzdXJlIHNpZ25hbGVyIHdvcmtzXG4gICAgICAgIGlmIChjICE9PSBudWxsICYmICgnaGFuZGxlQ2hhbmdlJyBpbiBjKSkge1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFscyA9IHZjLnNpZ25hbHM7XG4gICAgICAgICAgICBpZiAoc2lnbmFscyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmFsZXIgPSBsLmdldChJU2lnbmFsZXIpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHNpZ25hbHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBzaWduYWxlci5hZGRTaWduYWxMaXN0ZW5lcihzaWduYWxzW2ldLCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCd0b1ZpZXcnIGluIHZjKSB7XG4gICAgICAgICAgICByZXR1cm4gdmMudG9WaWV3KHRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShmLCBzLCBocywgbCwgYyksIC4uLnRoaXMuYXJncy5tYXAoYSA9PiBhLmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgIH1cbiAgICBhc3NpZ24oZiwgcywgaHMsIGwsIHZhbCkge1xuICAgICAgICBjb25zdCB2YyA9IGwuZ2V0KHRoaXMuY29udmVydGVyS2V5KTtcbiAgICAgICAgaWYgKHZjID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWVDb252ZXJ0ZXIgbmFtZWQgJyR7dGhpcy5uYW1lfScgY291bGQgbm90IGJlIGZvdW5kLiBEaWQgeW91IGZvcmdldCB0byByZWdpc3RlciBpdCBhcyBhIGRlcGVuZGVuY3k/YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdmcm9tVmlldycgaW4gdmMpIHtcbiAgICAgICAgICAgIHZhbCA9IHZjLmZyb21WaWV3KHZhbCwgLi4udGhpcy5hcmdzLm1hcChhID0+IGEuZXZhbHVhdGUoZiwgcywgaHMsIGwsIG51bGwpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZXhwcmVzc2lvbi5hc3NpZ24oZiwgcywgaHMsIGwsIHZhbCk7XG4gICAgfVxuICAgIHVuYmluZChfZiwgX3MsIF9ocywgYikge1xuICAgICAgICBjb25zdCB2YyA9IGIubG9jYXRvci5nZXQodGhpcy5jb252ZXJ0ZXJLZXkpO1xuICAgICAgICBpZiAodmMuc2lnbmFscyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2lnbmFsZXIgPSBiLmxvY2F0b3IuZ2V0KElTaWduYWxlcik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmMuc2lnbmFscy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgLy8gdGhlIGNhc3QgaXMgY29ycmVjdCwgYXMgdGhlIHZhbHVlIGNvbnZlcnRlciBleHByZXNzaW9uIHdvdWxkIG9ubHkgYWRkXG4gICAgICAgICAgICAvLyBhIElDb25uZWN0YWJsZSB0aGF0IGFsc28gaW1wbGVtZW50cyBgSVN1YnNjcmliZXJgIGludGVyZmFjZSB0byB0aGUgc2lnbmFsZXJcbiAgICAgICAgICAgIHNpZ25hbGVyLnJlbW92ZVNpZ25hbExpc3RlbmVyKHZjLnNpZ25hbHNbaV0sIGIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VmFsdWVDb252ZXJ0ZXIodGhpcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gVW5wYXJzZXIudW5wYXJzZSh0aGlzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQXNzaWduRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgJGtpbmQoKSB7IHJldHVybiA4MjA4IC8qIEFzc2lnbiAqLzsgfVxuICAgIGdldCBoYXNCaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgaGFzVW5iaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBldmFsdWF0ZShmLCBzLCBocywgbCwgYykge1xuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQuYXNzaWduKGYsIHMsIGhzLCBsLCB0aGlzLnZhbHVlLmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSk7XG4gICAgfVxuICAgIGFzc2lnbihmLCBzLCBocywgbCwgdmFsKSB7XG4gICAgICAgIHRoaXMudmFsdWUuYXNzaWduKGYsIHMsIGhzLCBsLCB2YWwpO1xuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQuYXNzaWduKGYsIHMsIGhzLCBsLCB2YWwpO1xuICAgIH1cbiAgICBhY2NlcHQodmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEFzc2lnbih0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBVbnBhcnNlci51bnBhcnNlKHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDb25kaXRpb25hbEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGNvbmRpdGlvbiwgeWVzLCBubykge1xuICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICAgICAgdGhpcy55ZXMgPSB5ZXM7XG4gICAgICAgIHRoaXMubm8gPSBubztcbiAgICB9XG4gICAgZ2V0ICRraW5kKCkgeyByZXR1cm4gNjMgLyogQ29uZGl0aW9uYWwgKi87IH1cbiAgICBnZXQgaGFzQmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IGhhc1VuYmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uLmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSA/IHRoaXMueWVzLmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSA6IHRoaXMubm8uZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgIH1cbiAgICBhc3NpZ24oX2YsIF9zLCBfaHMsIF9sLCBfb2JqKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q29uZGl0aW9uYWwodGhpcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gVW5wYXJzZXIudW5wYXJzZSh0aGlzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQWNjZXNzVGhpc0V4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGFuY2VzdG9yID0gMCkge1xuICAgICAgICB0aGlzLmFuY2VzdG9yID0gYW5jZXN0b3I7XG4gICAgfVxuICAgIGdldCAka2luZCgpIHsgcmV0dXJuIDE3OTMgLyogQWNjZXNzVGhpcyAqLzsgfVxuICAgIGdldCBoYXNCaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgaGFzVW5iaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBldmFsdWF0ZShfZiwgcywgaHMsIF9sLCBfYykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzID09PSBBY2Nlc3NUaGlzRXhwcmVzc2lvbi4kaG9zdCkge1xuICAgICAgICAgICAgcyA9IGNob29zZVNjb3BlKHRydWUsIHMsIGhzKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2MgPSBzLm92ZXJyaWRlQ29udGV4dDtcbiAgICAgICAgbGV0IGN1cnJlbnRTY29wZSA9IHM7XG4gICAgICAgIGxldCBpID0gdGhpcy5hbmNlc3RvcjtcbiAgICAgICAgd2hpbGUgKGktLSAmJiBvYykge1xuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gY3VycmVudFNjb3BlLnBhcmVudFNjb3BlO1xuICAgICAgICAgICAgb2MgPSAoX2EgPSBjdXJyZW50U2NvcGUgPT09IG51bGwgfHwgY3VycmVudFNjb3BlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50U2NvcGUub3ZlcnJpZGVDb250ZXh0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpIDwgMSAmJiBvYyA/IG9jLmJpbmRpbmdDb250ZXh0IDogdm9pZCAwO1xuICAgIH1cbiAgICBhc3NpZ24oX2YsIF9zLCBfaHMsIF9sLCBfb2JqKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0QWNjZXNzVGhpcyh0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBVbnBhcnNlci51bnBhcnNlKHRoaXMpO1xuICAgIH1cbn1cbkFjY2Vzc1RoaXNFeHByZXNzaW9uLiR0aGlzID0gbmV3IEFjY2Vzc1RoaXNFeHByZXNzaW9uKDApO1xuLy8gJGhvc3QgYW5kICR0aGlzIGFyZSBsb29zZWx5IHRoZSBzYW1lIHRoaW5nLiAkaG9zdCBpcyB1c2VkIGluIHRoZSBjb250ZXh0IG9mIGBhdS1zbG90YCB3aXRoIHRoZSBwcmltYXJ5IG9iamVjdGl2ZSBvZiBkZXRlcm1pbmluZyB0aGUgcy5cbkFjY2Vzc1RoaXNFeHByZXNzaW9uLiRob3N0ID0gbmV3IEFjY2Vzc1RoaXNFeHByZXNzaW9uKDApO1xuQWNjZXNzVGhpc0V4cHJlc3Npb24uJHBhcmVudCA9IG5ldyBBY2Nlc3NUaGlzRXhwcmVzc2lvbigxKTtcbmV4cG9ydCBjbGFzcyBBY2Nlc3NTY29wZUV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGFuY2VzdG9yID0gMCwgYWNjZXNzSG9zdFNjb3BlID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hbmNlc3RvciA9IGFuY2VzdG9yO1xuICAgICAgICB0aGlzLmFjY2Vzc0hvc3RTY29wZSA9IGFjY2Vzc0hvc3RTY29wZTtcbiAgICB9XG4gICAgZ2V0ICRraW5kKCkgeyByZXR1cm4gMTAwODIgLyogQWNjZXNzU2NvcGUgKi87IH1cbiAgICBnZXQgaGFzQmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IGhhc1VuYmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZXZhbHVhdGUoZiwgcywgaHMsIF9sLCBjKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IEJpbmRpbmdDb250ZXh0LmdldChjaG9vc2VTY29wZSh0aGlzLmFjY2Vzc0hvc3RTY29wZSwgcywgaHMpLCB0aGlzLm5hbWUsIHRoaXMuYW5jZXN0b3IsIGYsIGhzKTtcbiAgICAgICAgaWYgKGMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGMub2JzZXJ2ZVByb3BlcnR5KG9iaiwgdGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBldmFsdWF0ZWRWYWx1ZSA9IG9ialt0aGlzLm5hbWVdO1xuICAgICAgICBpZiAoZiAmIDEgLyogaXNTdHJpY3RCaW5kaW5nU3RyYXRlZ3kgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBldmFsdWF0ZWRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZhbHVhdGVkVmFsdWUgPT0gbnVsbCA/ICcnIDogZXZhbHVhdGVkVmFsdWU7XG4gICAgfVxuICAgIGFzc2lnbihmLCBzLCBocywgX2wsIHZhbCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IG9iaiA9IEJpbmRpbmdDb250ZXh0LmdldChjaG9vc2VTY29wZSh0aGlzLmFjY2Vzc0hvc3RTY29wZSwgcywgaHMpLCB0aGlzLm5hbWUsIHRoaXMuYW5jZXN0b3IsIGYsIGhzKTtcbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgaWYgKCgoX2EgPSBvYmouJG9ic2VydmVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3RoaXMubmFtZV0pICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBvYmouJG9ic2VydmVyc1t0aGlzLm5hbWVdLnNldFZhbHVlKHZhbCwgZik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmpbdGhpcy5uYW1lXSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBhY2NlcHQodmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEFjY2Vzc1Njb3BlKHRoaXMpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFVucGFyc2VyLnVucGFyc2UodGhpcyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFjY2Vzc01lbWJlckV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKG9iamVjdCwgbmFtZSkge1xuICAgICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgZ2V0ICRraW5kKCkgeyByZXR1cm4gOTMyMyAvKiBBY2Nlc3NNZW1iZXIgKi87IH1cbiAgICBnZXQgaGFzQmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IGhhc1VuYmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLm9iamVjdC5ldmFsdWF0ZShmLCBzLCBocywgbCwgKGYgJiAxMjggLyogb2JzZXJ2ZUxlYWZQcm9wZXJ0aWVzT25seSAqLykgPiAwID8gbnVsbCA6IGMpO1xuICAgICAgICBpZiAoZiAmIDEgLyogaXNTdHJpY3RCaW5kaW5nU3RyYXRlZ3kgKi8pIHtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjLm9ic2VydmVQcm9wZXJ0eShpbnN0YW5jZSwgdGhpcy5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZVt0aGlzLm5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjICE9PSBudWxsICYmIGluc3RhbmNlIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICBjLm9ic2VydmVQcm9wZXJ0eShpbnN0YW5jZSwgdGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdGFuY2UgPyBpbnN0YW5jZVt0aGlzLm5hbWVdIDogJyc7XG4gICAgfVxuICAgIGFzc2lnbihmLCBzLCBocywgbCwgdmFsKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMub2JqZWN0LmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBudWxsKTtcbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgaWYgKG9iai4kb2JzZXJ2ZXJzICE9PSB2b2lkIDAgJiYgb2JqLiRvYnNlcnZlcnNbdGhpcy5uYW1lXSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgb2JqLiRvYnNlcnZlcnNbdGhpcy5uYW1lXS5zZXRWYWx1ZSh2YWwsIGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqW3RoaXMubmFtZV0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5hc3NpZ24oZiwgcywgaHMsIGwsIHsgW3RoaXMubmFtZV06IHZhbCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBhY2NlcHQodmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEFjY2Vzc01lbWJlcih0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBVbnBhcnNlci51bnBhcnNlKHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBY2Nlc3NLZXllZEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKG9iamVjdCwga2V5KSB7XG4gICAgICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICB9XG4gICAgZ2V0ICRraW5kKCkgeyByZXR1cm4gOTMyNCAvKiBBY2Nlc3NLZXllZCAqLzsgfVxuICAgIGdldCBoYXNCaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgaGFzVW5iaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBldmFsdWF0ZShmLCBzLCBocywgbCwgYykge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMub2JqZWN0LmV2YWx1YXRlKGYsIHMsIGhzLCBsLCAoZiAmIDEyOCAvKiBvYnNlcnZlTGVhZlByb3BlcnRpZXNPbmx5ICovKSA+IDAgPyBudWxsIDogYyk7XG4gICAgICAgIGlmIChpbnN0YW5jZSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXkuZXZhbHVhdGUoZiwgcywgaHMsIGwsIChmICYgMTI4IC8qIG9ic2VydmVMZWFmUHJvcGVydGllc09ubHkgKi8pID4gMCA/IG51bGwgOiBjKTtcbiAgICAgICAgICAgIGlmIChjICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYy5vYnNlcnZlUHJvcGVydHkoaW5zdGFuY2UsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBhc3NpZ24oZiwgcywgaHMsIGwsIHZhbCkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMub2JqZWN0LmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBudWxsKTtcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXkuZXZhbHVhdGUoZiwgcywgaHMsIGwsIG51bGwpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2Vba2V5XSA9IHZhbDtcbiAgICB9XG4gICAgYWNjZXB0KHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRBY2Nlc3NLZXllZCh0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBVbnBhcnNlci51bnBhcnNlKHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDYWxsU2NvcGVFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBhcmdzLCBhbmNlc3RvciA9IDAsIGFjY2Vzc0hvc3RTY29wZSA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuYXJncyA9IGFyZ3M7XG4gICAgICAgIHRoaXMuYW5jZXN0b3IgPSBhbmNlc3RvcjtcbiAgICAgICAgdGhpcy5hY2Nlc3NIb3N0U2NvcGUgPSBhY2Nlc3NIb3N0U2NvcGU7XG4gICAgfVxuICAgIGdldCAka2luZCgpIHsgcmV0dXJuIDE0NDggLyogQ2FsbFNjb3BlICovOyB9XG4gICAgZ2V0IGhhc0JpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBoYXNVbmJpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSB7XG4gICAgICAgIHMgPSBjaG9vc2VTY29wZSh0aGlzLmFjY2Vzc0hvc3RTY29wZSwgcywgaHMpO1xuICAgICAgICBjb25zdCBhcmdzID0gdGhpcy5hcmdzLm1hcChhID0+IGEuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IEJpbmRpbmdDb250ZXh0LmdldChzLCB0aGlzLm5hbWUsIHRoaXMuYW5jZXN0b3IsIGYsIGhzKTtcbiAgICAgICAgLy8gaWRlYWxseSwgc2hvdWxkIG9ic2VydmUgcHJvcGVydHkgcmVwcmVzZW50cyBieSB0aGlzLm5hbWUgYXMgd2VsbFxuICAgICAgICAvLyBiZWNhdXNlIGl0IGNvdWxkIGJlIGNoYW5nZWRcbiAgICAgICAgLy8gdG9kbzogZGlkIGl0IGV2ZXIgc3VycHJpc2UgYW55b25lP1xuICAgICAgICBjb25zdCBmdW5jID0gZ2V0RnVuY3Rpb24oZiwgY29udGV4dCwgdGhpcy5uYW1lKTtcbiAgICAgICAgaWYgKGZ1bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFzc2lnbihfZiwgX3MsIF9ocywgX2wsIF9vYmopIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgYWNjZXB0KHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDYWxsU2NvcGUodGhpcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gVW5wYXJzZXIudW5wYXJzZSh0aGlzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2FsbE1lbWJlckV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKG9iamVjdCwgbmFtZSwgYXJncykge1xuICAgICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICB9XG4gICAgZ2V0ICRraW5kKCkgeyByZXR1cm4gMTE2MSAvKiBDYWxsTWVtYmVyICovOyB9XG4gICAgZ2V0IGhhc0JpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBoYXNVbmJpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5vYmplY3QuZXZhbHVhdGUoZiwgcywgaHMsIGwsIChmICYgMTI4IC8qIG9ic2VydmVMZWFmUHJvcGVydGllc09ubHkgKi8pID4gMCA/IG51bGwgOiBjKTtcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuYXJncy5tYXAoYSA9PiBhLmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSk7XG4gICAgICAgIGNvbnN0IGZ1bmMgPSBnZXRGdW5jdGlvbihmLCBpbnN0YW5jZSwgdGhpcy5uYW1lKTtcbiAgICAgICAgaWYgKGZ1bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGluc3RhbmNlLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBhc3NpZ24oX2YsIF9zLCBfaHMsIF9sLCBfb2JqKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2FsbE1lbWJlcih0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBVbnBhcnNlci51bnBhcnNlKHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDYWxsRnVuY3Rpb25FeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihmdW5jLCBhcmdzKSB7XG4gICAgICAgIHRoaXMuZnVuYyA9IGZ1bmM7XG4gICAgICAgIHRoaXMuYXJncyA9IGFyZ3M7XG4gICAgfVxuICAgIGdldCAka2luZCgpIHsgcmV0dXJuIDExNjIgLyogQ2FsbEZ1bmN0aW9uICovOyB9XG4gICAgZ2V0IGhhc0JpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBoYXNVbmJpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSB7XG4gICAgICAgIGNvbnN0IGZ1bmMgPSB0aGlzLmZ1bmMuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jKC4uLnRoaXMuYXJncy5tYXAoYSA9PiBhLmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGYgJiA4IC8qIG11c3RFdmFsdWF0ZSAqLykgJiYgKGZ1bmMgPT0gbnVsbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHByZXNzaW9uIGlzIG5vdCBhIGZ1bmN0aW9uLmApO1xuICAgIH1cbiAgICBhc3NpZ24oX2YsIF9zLCBfaHMsIF9sLCBfb2JqKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2FsbEZ1bmN0aW9uKHRoaXMpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFVucGFyc2VyLnVucGFyc2UodGhpcyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJpbmFyeUV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wZXJhdGlvbiwgbGVmdCwgcmlnaHQpIHtcbiAgICAgICAgdGhpcy5vcGVyYXRpb24gPSBvcGVyYXRpb247XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMucmlnaHQgPSByaWdodDtcbiAgICB9XG4gICAgZ2V0ICRraW5kKCkgeyByZXR1cm4gNDYgLyogQmluYXJ5ICovOyB9XG4gICAgZ2V0IGhhc0JpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBoYXNVbmJpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5vcGVyYXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJyYmJzpcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3N0cmljdC1ib29sZWFuLWV4cHJlc3Npb25zXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYykgJiYgdGhpcy5yaWdodC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYyk7XG4gICAgICAgICAgICBjYXNlICd8fCc6XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9zdHJpY3QtYm9vbGVhbi1leHByZXNzaW9uc1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlZnQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpIHx8IHRoaXMucmlnaHQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgICAgICAgICAgY2FzZSAnPT0nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlZnQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpID09IHRoaXMucmlnaHQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgICAgICAgICAgY2FzZSAnPT09JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0LmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSA9PT0gdGhpcy5yaWdodC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYyk7XG4gICAgICAgICAgICBjYXNlICchPSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYykgIT0gdGhpcy5yaWdodC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYyk7XG4gICAgICAgICAgICBjYXNlICchPT0nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlZnQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpICE9PSB0aGlzLnJpZ2h0LmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKTtcbiAgICAgICAgICAgIGNhc2UgJ2luc3RhbmNlb2YnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmlnaHQgPSB0aGlzLnJpZ2h0LmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJpZ2h0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlZnQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpIGluc3RhbmNlb2YgcmlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2luJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5yaWdodC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYyk7XG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0IGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlZnQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpIGluIHJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub3RlOiBhdXRvQ29udmVydEFkZCAoYW5kIHRoZSBudWxsIGNoZWNrKSBpcyByZW1vdmVkIGJlY2F1c2UgdGhlIGRlZmF1bHQgc3BlYyBiZWhhdmlvciBpcyBhbHJlYWR5IGxhcmdlbHkgc2ltaWxhclxuICAgICAgICAgICAgLy8gYW5kIHdoZXJlIGl0IGlzbid0LCB5b3Uga2luZCBvZiB3YW50IGl0IHRvIGJlaGF2ZSBsaWtlIHRoZSBzcGVjIGFueXdheSAoZS5nLiByZXR1cm4gTmFOIHdoZW4gYWRkaW5nIGEgbnVtYmVyIHRvIHVuZGVmaW5lZClcbiAgICAgICAgICAgIC8vIHRoaXMgbWFrZXMgYnVncyBpbiB1c2VyIGNvZGUgZWFzaWVyIHRvIHRyYWNrIGRvd24gZm9yIGVuZCB1c2Vyc1xuICAgICAgICAgICAgLy8gYWxzbywgc2tpcHBpbmcgdGhlc2UgY2hlY2tzIGFuZCBsZWF2aW5nIGl0IHRvIHRoZSBydW50aW1lIGlzIGEgbmljZSBsaXR0bGUgcGVyZiBib29zdCBhbmQgc2ltcGxpZmllcyBvdXIgY29kZVxuICAgICAgICAgICAgY2FzZSAnKyc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5sZWZ0LmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKTtcbiAgICAgICAgICAgICAgICBjb25zdCByaWdodCA9IHRoaXMucmlnaHQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgICAgICAgICAgICAgIGlmICgoZiAmIDEgLyogaXNTdHJpY3RCaW5kaW5nU3RyYXRlZ3kgKi8pID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGVmdCArIHJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3N0cmljdC1ib29sZWFuLWV4cHJlc3Npb25zXG4gICAgICAgICAgICAgICAgaWYgKCFsZWZ0IHx8ICFyaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXJPckJpZ0ludChsZWZ0KSB8fCBpc051bWJlck9yQmlnSW50KHJpZ2h0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChsZWZ0IHx8IDApICsgKHJpZ2h0IHx8IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZ09yRGF0ZShsZWZ0KSB8fCBpc1N0cmluZ09yRGF0ZShyaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobGVmdCB8fCAnJykgKyAocmlnaHQgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0ICsgcmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0LmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSAtIHRoaXMucmlnaHQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgICAgICAgICAgY2FzZSAnKic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYykgKiB0aGlzLnJpZ2h0LmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKTtcbiAgICAgICAgICAgIGNhc2UgJy8nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlZnQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpIC8gdGhpcy5yaWdodC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYyk7XG4gICAgICAgICAgICBjYXNlICclJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0LmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSAlIHRoaXMucmlnaHQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgICAgICAgICAgY2FzZSAnPCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYykgPCB0aGlzLnJpZ2h0LmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKTtcbiAgICAgICAgICAgIGNhc2UgJz4nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlZnQuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpID4gdGhpcy5yaWdodC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYyk7XG4gICAgICAgICAgICBjYXNlICc8PSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYykgPD0gdGhpcy5yaWdodC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYyk7XG4gICAgICAgICAgICBjYXNlICc+PSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYykgPj0gdGhpcy5yaWdodC5ldmFsdWF0ZShmLCBzLCBocywgbCwgYyk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBiaW5hcnkgb3BlcmF0b3I6ICcke3RoaXMub3BlcmF0aW9ufSdgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3NpZ24oX2YsIF9zLCBfaHMsIF9sLCBfb2JqKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0QmluYXJ5KHRoaXMpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFVucGFyc2VyLnVucGFyc2UodGhpcyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVuYXJ5RXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3Iob3BlcmF0aW9uLCBleHByZXNzaW9uKSB7XG4gICAgICAgIHRoaXMub3BlcmF0aW9uID0gb3BlcmF0aW9uO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xuICAgIH1cbiAgICBnZXQgJGtpbmQoKSB7IHJldHVybiAzOSAvKiBVbmFyeSAqLzsgfVxuICAgIGdldCBoYXNCaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgaGFzVW5iaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBldmFsdWF0ZShmLCBzLCBocywgbCwgYykge1xuICAgICAgICBzd2l0Y2ggKHRoaXMub3BlcmF0aW9uKSB7XG4gICAgICAgICAgICBjYXNlICd2b2lkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCB0aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgICAgICAgICAgY2FzZSAndHlwZW9mJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShmIHwgMSAvKiBpc1N0cmljdEJpbmRpbmdTdHJhdGVneSAqLywgcywgaHMsIGwsIGMpO1xuICAgICAgICAgICAgY2FzZSAnISc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIC10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgICAgICAgICAgY2FzZSAnKyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICt0aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdW5hcnkgb3BlcmF0b3I6ICcke3RoaXMub3BlcmF0aW9ufSdgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3NpZ24oX2YsIF9zLCBfaHMsIF9sLCBfb2JqKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VW5hcnkodGhpcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gVW5wYXJzZXIudW5wYXJzZSh0aGlzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0ICRraW5kKCkgeyByZXR1cm4gMTc5MjUgLyogUHJpbWl0aXZlTGl0ZXJhbCAqLzsgfVxuICAgIGdldCBoYXNCaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgaGFzVW5iaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBldmFsdWF0ZShfZiwgX3MsIF9ocywgX2wsIF9jKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICBhc3NpZ24oX2YsIF9zLCBfaHMsIF9sLCBfb2JqKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0UHJpbWl0aXZlTGl0ZXJhbCh0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBVbnBhcnNlci51bnBhcnNlKHRoaXMpO1xuICAgIH1cbn1cblByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uLiR1bmRlZmluZWQgPSBuZXcgUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24odm9pZCAwKTtcblByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uLiRudWxsID0gbmV3IFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uKG51bGwpO1xuUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24uJHRydWUgPSBuZXcgUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24odHJ1ZSk7XG5QcmltaXRpdmVMaXRlcmFsRXhwcmVzc2lvbi4kZmFsc2UgPSBuZXcgUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24oZmFsc2UpO1xuUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24uJGVtcHR5ID0gbmV3IFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uKCcnKTtcbmV4cG9ydCBjbGFzcyBIdG1sTGl0ZXJhbEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKHBhcnRzKSB7XG4gICAgICAgIHRoaXMucGFydHMgPSBwYXJ0cztcbiAgICB9XG4gICAgZ2V0ICRraW5kKCkgeyByZXR1cm4gNTEgLyogSHRtbExpdGVyYWwgKi87IH1cbiAgICBnZXQgaGFzQmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IGhhc1VuYmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLnBhcnRzW2ldLmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKTtcbiAgICAgICAgICAgIGlmICh2ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSB2O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzc2lnbihfZiwgX3MsIF9ocywgX2wsIF9vYmosIF9wcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0SHRtbExpdGVyYWwodGhpcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gVW5wYXJzZXIudW5wYXJzZSh0aGlzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQXJyYXlMaXRlcmFsRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudHMpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgIH1cbiAgICBnZXQgJGtpbmQoKSB7IHJldHVybiAxNzk1NSAvKiBBcnJheUxpdGVyYWwgKi87IH1cbiAgICBnZXQgaGFzQmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IGhhc1VuYmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHMubWFwKGUgPT4gZS5ldmFsdWF0ZShmLCBzLCBocywgbCwgYykpO1xuICAgIH1cbiAgICBhc3NpZ24oX2YsIF9zLCBfaHMsIF9sLCBfb2JqKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0QXJyYXlMaXRlcmFsKHRoaXMpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFVucGFyc2VyLnVucGFyc2UodGhpcyk7XG4gICAgfVxufVxuQXJyYXlMaXRlcmFsRXhwcmVzc2lvbi4kZW1wdHkgPSBuZXcgQXJyYXlMaXRlcmFsRXhwcmVzc2lvbihlbXB0eUFycmF5KTtcbmV4cG9ydCBjbGFzcyBPYmplY3RMaXRlcmFsRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3Ioa2V5cywgdmFsdWVzKSB7XG4gICAgICAgIHRoaXMua2V5cyA9IGtleXM7XG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xuICAgIH1cbiAgICBnZXQgJGtpbmQoKSB7IHJldHVybiAxNzk1NiAvKiBPYmplY3RMaXRlcmFsICovOyB9XG4gICAgZ2V0IGhhc0JpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBoYXNVbmJpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0ge307XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5rZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpbnN0YW5jZVt0aGlzLmtleXNbaV1dID0gdGhpcy52YWx1ZXNbaV0uZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG4gICAgYXNzaWduKF9mLCBfcywgX2hzLCBfbCwgX29iaikge1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBhY2NlcHQodmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdE9iamVjdExpdGVyYWwodGhpcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gVW5wYXJzZXIudW5wYXJzZSh0aGlzKTtcbiAgICB9XG59XG5PYmplY3RMaXRlcmFsRXhwcmVzc2lvbi4kZW1wdHkgPSBuZXcgT2JqZWN0TGl0ZXJhbEV4cHJlc3Npb24oZW1wdHlBcnJheSwgZW1wdHlBcnJheSk7XG5leHBvcnQgY2xhc3MgVGVtcGxhdGVFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihjb29rZWQsIGV4cHJlc3Npb25zID0gZW1wdHlBcnJheSkge1xuICAgICAgICB0aGlzLmNvb2tlZCA9IGNvb2tlZDtcbiAgICAgICAgdGhpcy5leHByZXNzaW9ucyA9IGV4cHJlc3Npb25zO1xuICAgIH1cbiAgICBnZXQgJGtpbmQoKSB7IHJldHVybiAxNzk1OCAvKiBUZW1wbGF0ZSAqLzsgfVxuICAgIGdldCBoYXNCaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgaGFzVW5iaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBldmFsdWF0ZShmLCBzLCBocywgbCwgYykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5jb29rZWRbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5leHByZXNzaW9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZyh0aGlzLmV4cHJlc3Npb25zW2ldLmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSk7XG4gICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5jb29rZWRbaSArIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzc2lnbihfZiwgX3MsIF9ocywgX2wsIF9vYmopIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgYWNjZXB0KHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRUZW1wbGF0ZSh0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBVbnBhcnNlci51bnBhcnNlKHRoaXMpO1xuICAgIH1cbn1cblRlbXBsYXRlRXhwcmVzc2lvbi4kZW1wdHkgPSBuZXcgVGVtcGxhdGVFeHByZXNzaW9uKFsnJ10pO1xuZXhwb3J0IGNsYXNzIFRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IoY29va2VkLCByYXcsIGZ1bmMsIGV4cHJlc3Npb25zID0gZW1wdHlBcnJheSkge1xuICAgICAgICB0aGlzLmNvb2tlZCA9IGNvb2tlZDtcbiAgICAgICAgdGhpcy5mdW5jID0gZnVuYztcbiAgICAgICAgdGhpcy5leHByZXNzaW9ucyA9IGV4cHJlc3Npb25zO1xuICAgICAgICBjb29rZWQucmF3ID0gcmF3O1xuICAgIH1cbiAgICBnZXQgJGtpbmQoKSB7IHJldHVybiAxMTk3IC8qIFRhZ2dlZFRlbXBsYXRlICovOyB9XG4gICAgZ2V0IGhhc0JpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBoYXNVbmJpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSB0aGlzLmV4cHJlc3Npb25zLm1hcChlID0+IGUuZXZhbHVhdGUoZiwgcywgaHMsIGwsIGMpKTtcbiAgICAgICAgY29uc3QgZnVuYyA9IHRoaXMuZnVuYy5ldmFsdWF0ZShmLCBzLCBocywgbCwgYyk7XG4gICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBMZWZ0LWhhbmQgc2lkZSBvZiB0YWdnZWQgdGVtcGxhdGUgZXhwcmVzc2lvbiBpcyBub3QgYSBmdW5jdGlvbi5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyh0aGlzLmNvb2tlZCwgLi4ucmVzdWx0cyk7XG4gICAgfVxuICAgIGFzc2lnbihfZiwgX3MsIF9ocywgX2wsIF9vYmopIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgYWNjZXB0KHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRUYWdnZWRUZW1wbGF0ZSh0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBVbnBhcnNlci51bnBhcnNlKHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBcnJheUJpbmRpbmdQYXR0ZXJuIHtcbiAgICAvLyBXZSdsbCBlaXRoZXIgaGF2ZSBlbGVtZW50cywgb3Iga2V5cyt2YWx1ZXMsIGJ1dCBuZXZlciBhbGwgM1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRzKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcbiAgICB9XG4gICAgZ2V0ICRraW5kKCkgeyByZXR1cm4gNjU1NTYgLyogQXJyYXlCaW5kaW5nUGF0dGVybiAqLzsgfVxuICAgIGdldCBoYXNCaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgaGFzVW5iaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBldmFsdWF0ZShfZiwgX3MsIF9ocywgX2wsIF9jKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgc2hvdWxkIGNvbWUgYWZ0ZXIgYmF0Y2hcbiAgICAgICAgLy8gYXMgYSBkZXN0cnVjdHVyaW5nIGV4cHJlc3Npb24gbGlrZSBbeCwgeV0gPSB2YWx1ZVxuICAgICAgICAvL1xuICAgICAgICAvLyBzaG91bGQgb25seSB0cmlnZ2VyIGNoYW5nZSBvbmx5IG9uY2U6XG4gICAgICAgIC8vIGJhdGNoKCgpID0+IHtcbiAgICAgICAgLy8gICBvYmplY3QueCA9IHZhbHVlWzBdXG4gICAgICAgIC8vICAgb2JqZWN0LnkgPSB2YWx1ZVsxXVxuICAgICAgICAvLyB9KVxuICAgICAgICAvL1xuICAgICAgICAvLyBpbnN0ZWFkIG9mIHR3aWNlOlxuICAgICAgICAvLyBvYmplY3QueCA9IHZhbHVlWzBdXG4gICAgICAgIC8vIG9iamVjdC55ID0gdmFsdWVbMV1cbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgYXNzaWduKF9mLCBfcywgX2hzLCBfbCwgX29iaikge1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0QXJyYXlCaW5kaW5nUGF0dGVybih0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBVbnBhcnNlci51bnBhcnNlKHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBPYmplY3RCaW5kaW5nUGF0dGVybiB7XG4gICAgLy8gV2UnbGwgZWl0aGVyIGhhdmUgZWxlbWVudHMsIG9yIGtleXMrdmFsdWVzLCBidXQgbmV2ZXIgYWxsIDNcbiAgICBjb25zdHJ1Y3RvcihrZXlzLCB2YWx1ZXMpIHtcbiAgICAgICAgdGhpcy5rZXlzID0ga2V5cztcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgfVxuICAgIGdldCAka2luZCgpIHsgcmV0dXJuIDY1NTU3IC8qIE9iamVjdEJpbmRpbmdQYXR0ZXJuICovOyB9XG4gICAgZ2V0IGhhc0JpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBoYXNVbmJpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGV2YWx1YXRlKF9mLCBfcywgX2hzLCBfbCwgX2MpIHtcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyBzaW1pbGFyIHRvIGFycmF5IGJpbmRpbmcgYXN0LCB0aGlzIHNob3VsZCBvbmx5IGNvbWUgYWZ0ZXIgYmF0Y2hcbiAgICAgICAgLy8gZm9yIGEgc2luZ2xlIG5vdGlmaWNhdGlvbiBwZXIgZGVzdHJ1Y3RpbmcsXG4gICAgICAgIC8vIHJlZ2FyZGxlc3MgbnVtYmVyIG9mIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9uIHRoZSBzY29wZSBiaW5kaW5nIGNvbnRleHRcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgYXNzaWduKF9mLCBfcywgX2hzLCBfbCwgX29iaikge1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0T2JqZWN0QmluZGluZ1BhdHRlcm4odGhpcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gVW5wYXJzZXIudW5wYXJzZSh0aGlzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmluZGluZ0lkZW50aWZpZXIge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgZ2V0ICRraW5kKCkgeyByZXR1cm4gNjU1NTggLyogQmluZGluZ0lkZW50aWZpZXIgKi87IH1cbiAgICBnZXQgaGFzQmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IGhhc1VuYmluZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZXZhbHVhdGUoX2YsIF9zLCBfaHMsIF9sLCBfYykge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cbiAgICBhY2NlcHQodmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEJpbmRpbmdJZGVudGlmaWVyKHRoaXMpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFVucGFyc2VyLnVucGFyc2UodGhpcyk7XG4gICAgfVxufVxuY29uc3QgdG9TdHJpbmdUYWcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXRlcmF0aW9uLXN0YXRlbWVudHNcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWZvci1pbi1hbmQtZm9yLW9mLXN0YXRlbWVudHNcbmV4cG9ydCBjbGFzcyBGb3JPZlN0YXRlbWVudCB7XG4gICAgY29uc3RydWN0b3IoZGVjbGFyYXRpb24sIGl0ZXJhYmxlKSB7XG4gICAgICAgIHRoaXMuZGVjbGFyYXRpb24gPSBkZWNsYXJhdGlvbjtcbiAgICAgICAgdGhpcy5pdGVyYWJsZSA9IGl0ZXJhYmxlO1xuICAgIH1cbiAgICBnZXQgJGtpbmQoKSB7IHJldHVybiA2MTk5IC8qIEZvck9mU3RhdGVtZW50ICovOyB9XG4gICAgZ2V0IGhhc0JpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBoYXNVbmJpbmQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZXJhYmxlLmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKTtcbiAgICB9XG4gICAgYXNzaWduKF9mLCBfcywgX2hzLCBfbCwgX29iaikge1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBjb3VudChfZiwgcmVzdWx0KSB7XG4gICAgICAgIHN3aXRjaCAodG9TdHJpbmdUYWcuY2FsbChyZXN1bHQpKSB7XG4gICAgICAgICAgICBjYXNlICdbb2JqZWN0IEFycmF5XSc6IHJldHVybiByZXN1bHQubGVuZ3RoO1xuICAgICAgICAgICAgY2FzZSAnW29iamVjdCBNYXBdJzogcmV0dXJuIHJlc3VsdC5zaXplO1xuICAgICAgICAgICAgY2FzZSAnW29iamVjdCBTZXRdJzogcmV0dXJuIHJlc3VsdC5zaXplO1xuICAgICAgICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzogcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIGNhc2UgJ1tvYmplY3QgTnVsbF0nOiByZXR1cm4gMDtcbiAgICAgICAgICAgIGNhc2UgJ1tvYmplY3QgVW5kZWZpbmVkXSc6IHJldHVybiAwO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY291bnQgJHt0b1N0cmluZ1RhZy5jYWxsKHJlc3VsdCl9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZGVlcHNjYW4tZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBpdGVyYXRlKGYsIHJlc3VsdCwgZnVuYykge1xuICAgICAgICBzd2l0Y2ggKHRvU3RyaW5nVGFnLmNhbGwocmVzdWx0KSkge1xuICAgICAgICAgICAgY2FzZSAnW29iamVjdCBBcnJheV0nOiByZXR1cm4gJGFycmF5KHJlc3VsdCwgZnVuYyk7XG4gICAgICAgICAgICBjYXNlICdbb2JqZWN0IE1hcF0nOiByZXR1cm4gJG1hcChyZXN1bHQsIGZ1bmMpO1xuICAgICAgICAgICAgY2FzZSAnW29iamVjdCBTZXRdJzogcmV0dXJuICRzZXQocmVzdWx0LCBmdW5jKTtcbiAgICAgICAgICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6IHJldHVybiAkbnVtYmVyKHJlc3VsdCwgZnVuYyk7XG4gICAgICAgICAgICBjYXNlICdbb2JqZWN0IE51bGxdJzogcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAnW29iamVjdCBVbmRlZmluZWRdJzogcmV0dXJuO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgaXRlcmF0ZSBvdmVyICR7dG9TdHJpbmdUYWcuY2FsbChyZXN1bHQpfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJpbmQoZiwgcywgaHMsIGIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXRlcmFibGUuaGFzQmluZCkge1xuICAgICAgICAgICAgdGhpcy5pdGVyYWJsZS5iaW5kKGYsIHMsIGhzLCBiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bmJpbmQoZiwgcywgaHMsIGIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXRlcmFibGUuaGFzVW5iaW5kKSB7XG4gICAgICAgICAgICB0aGlzLml0ZXJhYmxlLnVuYmluZChmLCBzLCBocywgYik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWNjZXB0KHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRGb3JPZlN0YXRlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBVbnBhcnNlci51bnBhcnNlKHRoaXMpO1xuICAgIH1cbn1cbi8qXG4qIE5vdGU6IHRoaXMgaW1wbGVtZW50YXRpb24gaXMgZmFyIHNpbXBsZXIgdGhhbiB0aGUgb25lIGluIHZDdXJyZW50IGFuZCBtaWdodCBiZSBtaXNzaW5nIGltcG9ydGFudCBzdHVmZiAobm90IHN1cmUgeWV0KVxuKiBzbyB3aGlsZSB0aGlzIGltcGxlbWVudGF0aW9uIGlzIGlkZW50aWNhbCB0byBUZW1wbGF0ZSBhbmQgd2UgY291bGQgcmV1c2UgdGhhdCBvbmUsIHdlIGRvbid0IHdhbnQgdG8gbG9jayBvdXRzZWx2ZXMgaW4gdG8gcG90ZW50aWFsbHkgdGhlIHdyb25nIGFic3RyYWN0aW9uXG4qIGJ1dCB0aGlzIGNsYXNzIG1pZ2h0IGJlIGEgY2FuZGlkYXRlIGZvciByZW1vdmFsIGlmIGl0IHR1cm5zIG91dCBpdCBkb2VzIHByb3ZpZGUgYWxsIHdlIG5lZWRcbiovXG5leHBvcnQgY2xhc3MgSW50ZXJwb2xhdGlvbiB7XG4gICAgY29uc3RydWN0b3IocGFydHMsIGV4cHJlc3Npb25zID0gZW1wdHlBcnJheSkge1xuICAgICAgICB0aGlzLnBhcnRzID0gcGFydHM7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbnMgPSBleHByZXNzaW9ucztcbiAgICAgICAgdGhpcy5pc011bHRpID0gZXhwcmVzc2lvbnMubGVuZ3RoID4gMTtcbiAgICAgICAgdGhpcy5maXJzdEV4cHJlc3Npb24gPSBleHByZXNzaW9uc1swXTtcbiAgICB9XG4gICAgZ2V0ICRraW5kKCkgeyByZXR1cm4gMjQgLyogSW50ZXJwb2xhdGlvbiAqLzsgfVxuICAgIGdldCBoYXNCaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgaGFzVW5iaW5kKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBldmFsdWF0ZShmLCBzLCBocywgbCwgYykge1xuICAgICAgICBpZiAodGhpcy5pc011bHRpKSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5wYXJ0c1swXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5leHByZXNzaW9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcodGhpcy5leHByZXNzaW9uc1tpXS5ldmFsdWF0ZShmLCBzLCBocywgbCwgYykpO1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLnBhcnRzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5wYXJ0c1swXX0ke3RoaXMuZmlyc3RFeHByZXNzaW9uLmV2YWx1YXRlKGYsIHMsIGhzLCBsLCBjKX0ke3RoaXMucGFydHNbMV19YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3NpZ24oX2YsIF9zLCBfaHMsIF9sLCBfb2JqKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGFjY2VwdCh2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0SW50ZXJwb2xhdGlvbih0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBVbnBhcnNlci51bnBhcnNlKHRoaXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEZ1bmN0aW9uKGYsIG9iaiwgbmFtZSkge1xuICAgIGNvbnN0IGZ1bmMgPSBvYmogPT0gbnVsbCA/IG51bGwgOiBvYmpbbmFtZV07XG4gICAgaWYgKHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgIH1cbiAgICBpZiAoIShmICYgOCAvKiBtdXN0RXZhbHVhdGUgKi8pICYmIGZ1bmMgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCAnJHtuYW1lfScgdG8gYmUgYSBmdW5jdGlvbmApO1xufVxuZnVuY3Rpb24gJGFycmF5KHJlc3VsdCwgZnVuYykge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHJlc3VsdC5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGZ1bmMocmVzdWx0LCBpLCByZXN1bHRbaV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uICRtYXAocmVzdWx0LCBmdW5jKSB7XG4gICAgY29uc3QgYXJyID0gQXJyYXkocmVzdWx0LnNpemUpO1xuICAgIGxldCBpID0gLTE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiByZXN1bHQuZW50cmllcygpKSB7XG4gICAgICAgIGFyclsrK2ldID0gZW50cnk7XG4gICAgfVxuICAgICRhcnJheShhcnIsIGZ1bmMpO1xufVxuZnVuY3Rpb24gJHNldChyZXN1bHQsIGZ1bmMpIHtcbiAgICBjb25zdCBhcnIgPSBBcnJheShyZXN1bHQuc2l6ZSk7XG4gICAgbGV0IGkgPSAtMTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiByZXN1bHQua2V5cygpKSB7XG4gICAgICAgIGFyclsrK2ldID0ga2V5O1xuICAgIH1cbiAgICAkYXJyYXkoYXJyLCBmdW5jKTtcbn1cbmZ1bmN0aW9uICRudW1iZXIocmVzdWx0LCBmdW5jKSB7XG4gICAgY29uc3QgYXJyID0gQXJyYXkocmVzdWx0KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdDsgKytpKSB7XG4gICAgICAgIGFycltpXSA9IGk7XG4gICAgfVxuICAgICRhcnJheShhcnIsIGZ1bmMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN0LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/binding/ast.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/binding/connectable.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/binding/connectable.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BindingObserverRecord\": () => (/* binding */ BindingObserverRecord),\n/* harmony export */   \"connectable\": () => (/* binding */ connectable),\n/* harmony export */   \"BindingMediator\": () => (/* binding */ BindingMediator)\n/* harmony export */ });\n/* harmony import */ var _utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities-objects.js */ \"./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js\");\n/* harmony import */ var _observation_array_observer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observation/array-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/array-observer.js\");\n/* harmony import */ var _observation_set_observer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observation/set-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/set-observer.js\");\n/* harmony import */ var _observation_map_observer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../observation/map-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/map-observer.js\");\n\n\n\n\n// TODO: add connect-queue (or something similar) back in when everything else is working, to improve startup time\nconst slotNames = [];\nconst versionSlotNames = [];\nlet lastSlot = -1;\nfunction ensureEnoughSlotNames(currentSlot) {\n    if (currentSlot === lastSlot) {\n        lastSlot += 5;\n        const ii = slotNames.length = versionSlotNames.length = lastSlot + 1;\n        let i = currentSlot + 1;\n        for (; i < ii; ++i) {\n            slotNames[i] = `_o${i}`;\n            versionSlotNames[i] = `_v${i}`;\n        }\n    }\n}\nensureEnoughSlotNames(-1);\nfunction observeProperty(obj, key) {\n    const observer = this.observerLocator.getObserver(obj, key);\n    /* Note: we need to cast here because we can indeed get an accessor instead of an observer,\n     *  in which case the call to observer.subscribe will throw. It's not very clean and we can solve this in 2 ways:\n     *  1. Fail earlier: only let the locator resolve observers from .getObserver, and throw if no branches are left (e.g. it would otherwise return an accessor)\n     *  2. Fail silently (without throwing): give all accessors a no-op subscribe method\n     *\n     * We'll probably want to implement some global configuration (like a \"strict\" toggle) so users can pick between enforced correctness vs. ease-of-use\n     */\n    this.obs.add(observer);\n}\nfunction getObserverRecord() {\n    const record = new BindingObserverRecord(this);\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__.defineHiddenProp)(this, 'obs', record);\n    return record;\n}\nfunction observeCollection(collection) {\n    let obs;\n    if (collection instanceof Array) {\n        obs = (0,_observation_array_observer_js__WEBPACK_IMPORTED_MODULE_1__.getArrayObserver)(collection);\n    }\n    else if (collection instanceof Set) {\n        obs = (0,_observation_set_observer_js__WEBPACK_IMPORTED_MODULE_2__.getSetObserver)(collection);\n    }\n    else if (collection instanceof Map) {\n        obs = (0,_observation_map_observer_js__WEBPACK_IMPORTED_MODULE_3__.getMapObserver)(collection);\n    }\n    else {\n        throw new Error('Unrecognised collection type.');\n    }\n    this.obs.add(obs);\n}\nfunction subscribeTo(subscribable) {\n    this.obs.add(subscribable);\n}\nfunction noopHandleChange() {\n    throw new Error('method \"handleChange\" not implemented');\n}\nfunction noopHandleCollectionChange() {\n    throw new Error('method \"handleCollectionChange\" not implemented');\n}\nclass BindingObserverRecord {\n    constructor(binding) {\n        this.binding = binding;\n        this.version = 0;\n        this.count = 0;\n    }\n    handleChange(value, oldValue, flags) {\n        return this.binding.interceptor.handleChange(value, oldValue, flags);\n    }\n    handleCollectionChange(indexMap, flags) {\n        this.binding.interceptor.handleCollectionChange(indexMap, flags);\n    }\n    /**\n     * Add, and subscribe to a given observer\n     */\n    add(observer) {\n        // find the observer.\n        const observerSlots = this.count == null ? 0 : this.count;\n        let i = observerSlots;\n        while (i-- && this[slotNames[i]] !== observer)\n            ;\n        // if we are not already observing, put the observer in an open slot and subscribe.\n        if (i === -1) {\n            i = 0;\n            while (this[slotNames[i]]) {\n                i++;\n            }\n            this[slotNames[i]] = observer;\n            observer.subscribe(this);\n            // increment the slot count.\n            if (i === observerSlots) {\n                this.count = i + 1;\n            }\n        }\n        this[versionSlotNames[i]] = this.version;\n        ensureEnoughSlotNames(i);\n    }\n    /**\n     * Unsubscribe the observers that are not up to date with the record version\n     */\n    clear(all) {\n        const slotCount = this.count;\n        let slotName;\n        let observer;\n        let i = 0;\n        if (all === true) {\n            for (; i < slotCount; ++i) {\n                slotName = slotNames[i];\n                observer = this[slotName];\n                if (observer != null) {\n                    this[slotName] = void 0;\n                    observer.unsubscribe(this);\n                }\n            }\n            this.count = 0;\n        }\n        else {\n            for (; i < slotCount; ++i) {\n                if (this[versionSlotNames[i]] !== this.version) {\n                    slotName = slotNames[i];\n                    observer = this[slotName];\n                    if (observer != null) {\n                        this[slotName] = void 0;\n                        observer.unsubscribe(this);\n                        this.count--;\n                    }\n                }\n            }\n        }\n    }\n}\nfunction connectableDecorator(target) {\n    const proto = target.prototype;\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__.ensureProto)(proto, 'observeProperty', observeProperty, true);\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__.ensureProto)(proto, 'observeCollection', observeCollection, true);\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__.ensureProto)(proto, 'subscribeTo', subscribeTo, true);\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__.def)(proto, 'obs', { get: getObserverRecord });\n    // optionally add these two methods to normalize a connectable impl\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__.ensureProto)(proto, 'handleChange', noopHandleChange);\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__.ensureProto)(proto, 'handleCollectionChange', noopHandleCollectionChange);\n    return target;\n}\nfunction connectable(target) {\n    return target == null ? connectableDecorator : connectableDecorator(target);\n}\n// @connectable\nclass BindingMediator {\n    constructor(key, binding, observerLocator, locator) {\n        this.key = key;\n        this.binding = binding;\n        this.observerLocator = observerLocator;\n        this.locator = locator;\n        this.interceptor = this;\n    }\n    $bind(flags, scope, hostScope, projection) {\n        throw new Error('Method not implemented.');\n    }\n    $unbind(flags) {\n        throw new Error('Method not implemented.');\n    }\n    handleChange(newValue, previousValue, flags) {\n        this.binding[this.key](newValue, previousValue, flags);\n    }\n}\nconnectableDecorator(BindingMediator);\n//# sourceMappingURL=connectable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9iaW5kaW5nL2Nvbm5lY3RhYmxlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUvZGlzdC9lc20vYmluZGluZy9jb25uZWN0YWJsZS5qcz9hODA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZiwgZGVmaW5lSGlkZGVuUHJvcCwgZW5zdXJlUHJvdG8gfSBmcm9tICcuLi91dGlsaXRpZXMtb2JqZWN0cy5qcyc7XG5pbXBvcnQgeyBnZXRBcnJheU9ic2VydmVyIH0gZnJvbSAnLi4vb2JzZXJ2YXRpb24vYXJyYXktb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgZ2V0U2V0T2JzZXJ2ZXIgfSBmcm9tICcuLi9vYnNlcnZhdGlvbi9zZXQtb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgZ2V0TWFwT2JzZXJ2ZXIgfSBmcm9tICcuLi9vYnNlcnZhdGlvbi9tYXAtb2JzZXJ2ZXIuanMnO1xuLy8gVE9ETzogYWRkIGNvbm5lY3QtcXVldWUgKG9yIHNvbWV0aGluZyBzaW1pbGFyKSBiYWNrIGluIHdoZW4gZXZlcnl0aGluZyBlbHNlIGlzIHdvcmtpbmcsIHRvIGltcHJvdmUgc3RhcnR1cCB0aW1lXG5jb25zdCBzbG90TmFtZXMgPSBbXTtcbmNvbnN0IHZlcnNpb25TbG90TmFtZXMgPSBbXTtcbmxldCBsYXN0U2xvdCA9IC0xO1xuZnVuY3Rpb24gZW5zdXJlRW5vdWdoU2xvdE5hbWVzKGN1cnJlbnRTbG90KSB7XG4gICAgaWYgKGN1cnJlbnRTbG90ID09PSBsYXN0U2xvdCkge1xuICAgICAgICBsYXN0U2xvdCArPSA1O1xuICAgICAgICBjb25zdCBpaSA9IHNsb3ROYW1lcy5sZW5ndGggPSB2ZXJzaW9uU2xvdE5hbWVzLmxlbmd0aCA9IGxhc3RTbG90ICsgMTtcbiAgICAgICAgbGV0IGkgPSBjdXJyZW50U2xvdCArIDE7XG4gICAgICAgIGZvciAoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgc2xvdE5hbWVzW2ldID0gYF9vJHtpfWA7XG4gICAgICAgICAgICB2ZXJzaW9uU2xvdE5hbWVzW2ldID0gYF92JHtpfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5lbnN1cmVFbm91Z2hTbG90TmFtZXMoLTEpO1xuZnVuY3Rpb24gb2JzZXJ2ZVByb3BlcnR5KG9iaiwga2V5KSB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyTG9jYXRvci5nZXRPYnNlcnZlcihvYmosIGtleSk7XG4gICAgLyogTm90ZTogd2UgbmVlZCB0byBjYXN0IGhlcmUgYmVjYXVzZSB3ZSBjYW4gaW5kZWVkIGdldCBhbiBhY2Nlc3NvciBpbnN0ZWFkIG9mIGFuIG9ic2VydmVyLFxuICAgICAqICBpbiB3aGljaCBjYXNlIHRoZSBjYWxsIHRvIG9ic2VydmVyLnN1YnNjcmliZSB3aWxsIHRocm93LiBJdCdzIG5vdCB2ZXJ5IGNsZWFuIGFuZCB3ZSBjYW4gc29sdmUgdGhpcyBpbiAyIHdheXM6XG4gICAgICogIDEuIEZhaWwgZWFybGllcjogb25seSBsZXQgdGhlIGxvY2F0b3IgcmVzb2x2ZSBvYnNlcnZlcnMgZnJvbSAuZ2V0T2JzZXJ2ZXIsIGFuZCB0aHJvdyBpZiBubyBicmFuY2hlcyBhcmUgbGVmdCAoZS5nLiBpdCB3b3VsZCBvdGhlcndpc2UgcmV0dXJuIGFuIGFjY2Vzc29yKVxuICAgICAqICAyLiBGYWlsIHNpbGVudGx5ICh3aXRob3V0IHRocm93aW5nKTogZ2l2ZSBhbGwgYWNjZXNzb3JzIGEgbm8tb3Agc3Vic2NyaWJlIG1ldGhvZFxuICAgICAqXG4gICAgICogV2UnbGwgcHJvYmFibHkgd2FudCB0byBpbXBsZW1lbnQgc29tZSBnbG9iYWwgY29uZmlndXJhdGlvbiAobGlrZSBhIFwic3RyaWN0XCIgdG9nZ2xlKSBzbyB1c2VycyBjYW4gcGljayBiZXR3ZWVuIGVuZm9yY2VkIGNvcnJlY3RuZXNzIHZzLiBlYXNlLW9mLXVzZVxuICAgICAqL1xuICAgIHRoaXMub2JzLmFkZChvYnNlcnZlcik7XG59XG5mdW5jdGlvbiBnZXRPYnNlcnZlclJlY29yZCgpIHtcbiAgICBjb25zdCByZWNvcmQgPSBuZXcgQmluZGluZ09ic2VydmVyUmVjb3JkKHRoaXMpO1xuICAgIGRlZmluZUhpZGRlblByb3AodGhpcywgJ29icycsIHJlY29yZCk7XG4gICAgcmV0dXJuIHJlY29yZDtcbn1cbmZ1bmN0aW9uIG9ic2VydmVDb2xsZWN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICBsZXQgb2JzO1xuICAgIGlmIChjb2xsZWN0aW9uIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgb2JzID0gZ2V0QXJyYXlPYnNlcnZlcihjb2xsZWN0aW9uKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29sbGVjdGlvbiBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICBvYnMgPSBnZXRTZXRPYnNlcnZlcihjb2xsZWN0aW9uKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29sbGVjdGlvbiBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICBvYnMgPSBnZXRNYXBPYnNlcnZlcihjb2xsZWN0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pc2VkIGNvbGxlY3Rpb24gdHlwZS4nKTtcbiAgICB9XG4gICAgdGhpcy5vYnMuYWRkKG9icyk7XG59XG5mdW5jdGlvbiBzdWJzY3JpYmVUbyhzdWJzY3JpYmFibGUpIHtcbiAgICB0aGlzLm9icy5hZGQoc3Vic2NyaWJhYmxlKTtcbn1cbmZ1bmN0aW9uIG5vb3BIYW5kbGVDaGFuZ2UoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtZXRob2QgXCJoYW5kbGVDaGFuZ2VcIiBub3QgaW1wbGVtZW50ZWQnKTtcbn1cbmZ1bmN0aW9uIG5vb3BIYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWV0aG9kIFwiaGFuZGxlQ29sbGVjdGlvbkNoYW5nZVwiIG5vdCBpbXBsZW1lbnRlZCcpO1xufVxuZXhwb3J0IGNsYXNzIEJpbmRpbmdPYnNlcnZlclJlY29yZCB7XG4gICAgY29uc3RydWN0b3IoYmluZGluZykge1xuICAgICAgICB0aGlzLmJpbmRpbmcgPSBiaW5kaW5nO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSAwO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKHZhbHVlLCBvbGRWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZGluZy5pbnRlcmNlcHRvci5oYW5kbGVDaGFuZ2UodmFsdWUsIG9sZFZhbHVlLCBmbGFncyk7XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoaW5kZXhNYXAsIGZsYWdzKSB7XG4gICAgICAgIHRoaXMuYmluZGluZy5pbnRlcmNlcHRvci5oYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKGluZGV4TWFwLCBmbGFncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCwgYW5kIHN1YnNjcmliZSB0byBhIGdpdmVuIG9ic2VydmVyXG4gICAgICovXG4gICAgYWRkKG9ic2VydmVyKSB7XG4gICAgICAgIC8vIGZpbmQgdGhlIG9ic2VydmVyLlxuICAgICAgICBjb25zdCBvYnNlcnZlclNsb3RzID0gdGhpcy5jb3VudCA9PSBudWxsID8gMCA6IHRoaXMuY291bnQ7XG4gICAgICAgIGxldCBpID0gb2JzZXJ2ZXJTbG90cztcbiAgICAgICAgd2hpbGUgKGktLSAmJiB0aGlzW3Nsb3ROYW1lc1tpXV0gIT09IG9ic2VydmVyKVxuICAgICAgICAgICAgO1xuICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgb2JzZXJ2aW5nLCBwdXQgdGhlIG9ic2VydmVyIGluIGFuIG9wZW4gc2xvdCBhbmQgc3Vic2NyaWJlLlxuICAgICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRoaXNbc2xvdE5hbWVzW2ldXSkge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbc2xvdE5hbWVzW2ldXSA9IG9ic2VydmVyO1xuICAgICAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICAgICAgLy8gaW5jcmVtZW50IHRoZSBzbG90IGNvdW50LlxuICAgICAgICAgICAgaWYgKGkgPT09IG9ic2VydmVyU2xvdHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gaSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1t2ZXJzaW9uU2xvdE5hbWVzW2ldXSA9IHRoaXMudmVyc2lvbjtcbiAgICAgICAgZW5zdXJlRW5vdWdoU2xvdE5hbWVzKGkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnN1YnNjcmliZSB0aGUgb2JzZXJ2ZXJzIHRoYXQgYXJlIG5vdCB1cCB0byBkYXRlIHdpdGggdGhlIHJlY29yZCB2ZXJzaW9uXG4gICAgICovXG4gICAgY2xlYXIoYWxsKSB7XG4gICAgICAgIGNvbnN0IHNsb3RDb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICAgIGxldCBzbG90TmFtZTtcbiAgICAgICAgbGV0IG9ic2VydmVyO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGlmIChhbGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgc2xvdENvdW50OyArK2kpIHtcbiAgICAgICAgICAgICAgICBzbG90TmFtZSA9IHNsb3ROYW1lc1tpXTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlciA9IHRoaXNbc2xvdE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChvYnNlcnZlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbc2xvdE5hbWVdID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci51bnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgc2xvdENvdW50OyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc1t2ZXJzaW9uU2xvdE5hbWVzW2ldXSAhPT0gdGhpcy52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsb3ROYW1lID0gc2xvdE5hbWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlciA9IHRoaXNbc2xvdE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JzZXJ2ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1tzbG90TmFtZV0gPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci51bnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbm5lY3RhYmxlRGVjb3JhdG9yKHRhcmdldCkge1xuICAgIGNvbnN0IHByb3RvID0gdGFyZ2V0LnByb3RvdHlwZTtcbiAgICBlbnN1cmVQcm90byhwcm90bywgJ29ic2VydmVQcm9wZXJ0eScsIG9ic2VydmVQcm9wZXJ0eSwgdHJ1ZSk7XG4gICAgZW5zdXJlUHJvdG8ocHJvdG8sICdvYnNlcnZlQ29sbGVjdGlvbicsIG9ic2VydmVDb2xsZWN0aW9uLCB0cnVlKTtcbiAgICBlbnN1cmVQcm90byhwcm90bywgJ3N1YnNjcmliZVRvJywgc3Vic2NyaWJlVG8sIHRydWUpO1xuICAgIGRlZihwcm90bywgJ29icycsIHsgZ2V0OiBnZXRPYnNlcnZlclJlY29yZCB9KTtcbiAgICAvLyBvcHRpb25hbGx5IGFkZCB0aGVzZSB0d28gbWV0aG9kcyB0byBub3JtYWxpemUgYSBjb25uZWN0YWJsZSBpbXBsXG4gICAgZW5zdXJlUHJvdG8ocHJvdG8sICdoYW5kbGVDaGFuZ2UnLCBub29wSGFuZGxlQ2hhbmdlKTtcbiAgICBlbnN1cmVQcm90byhwcm90bywgJ2hhbmRsZUNvbGxlY3Rpb25DaGFuZ2UnLCBub29wSGFuZGxlQ29sbGVjdGlvbkNoYW5nZSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0YWJsZSh0YXJnZXQpIHtcbiAgICByZXR1cm4gdGFyZ2V0ID09IG51bGwgPyBjb25uZWN0YWJsZURlY29yYXRvciA6IGNvbm5lY3RhYmxlRGVjb3JhdG9yKHRhcmdldCk7XG59XG4vLyBAY29ubmVjdGFibGVcbmV4cG9ydCBjbGFzcyBCaW5kaW5nTWVkaWF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGtleSwgYmluZGluZywgb2JzZXJ2ZXJMb2NhdG9yLCBsb2NhdG9yKSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmJpbmRpbmcgPSBiaW5kaW5nO1xuICAgICAgICB0aGlzLm9ic2VydmVyTG9jYXRvciA9IG9ic2VydmVyTG9jYXRvcjtcbiAgICAgICAgdGhpcy5sb2NhdG9yID0gbG9jYXRvcjtcbiAgICAgICAgdGhpcy5pbnRlcmNlcHRvciA9IHRoaXM7XG4gICAgfVxuICAgICRiaW5kKGZsYWdzLCBzY29wZSwgaG9zdFNjb3BlLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgJHVuYmluZChmbGFncykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZShuZXdWYWx1ZSwgcHJldmlvdXNWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nW3RoaXMua2V5XShuZXdWYWx1ZSwgcHJldmlvdXNWYWx1ZSwgZmxhZ3MpO1xuICAgIH1cbn1cbmNvbm5lY3RhYmxlRGVjb3JhdG9yKEJpbmRpbmdNZWRpYXRvcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25uZWN0YWJsZS5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/binding/connectable.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/binding/expression-parser.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/binding/expression-parser.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IExpressionParser\": () => (/* binding */ IExpressionParser),\n/* harmony export */   \"ExpressionParser\": () => (/* binding */ ExpressionParser),\n/* harmony export */   \"Char\": () => (/* binding */ Char),\n/* harmony export */   \"Access\": () => (/* binding */ Access),\n/* harmony export */   \"Precedence\": () => (/* binding */ Precedence),\n/* harmony export */   \"BindingType\": () => (/* binding */ BindingType),\n/* harmony export */   \"ParserState\": () => (/* binding */ ParserState),\n/* harmony export */   \"parseExpression\": () => (/* binding */ parseExpression),\n/* harmony export */   \"parse\": () => (/* binding */ parse)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _ast_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ast.js */ \"./node_modules/@aurelia/runtime/dist/esm/binding/ast.js\");\n\n\nconst IExpressionParser = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IExpressionParser', x => x.singleton(ExpressionParser));\nclass ExpressionParser {\n    constructor() {\n        this.expressionLookup = Object.create(null);\n        this.forOfLookup = Object.create(null);\n        this.interpolationLookup = Object.create(null);\n    }\n    parse(expression, bindingType) {\n        switch (bindingType) {\n            case 2048 /* Interpolation */: {\n                let found = this.interpolationLookup[expression];\n                if (found === void 0) {\n                    found = this.interpolationLookup[expression] = this.$parse(expression, bindingType);\n                }\n                return found;\n            }\n            case 539 /* ForCommand */: {\n                let found = this.forOfLookup[expression];\n                if (found === void 0) {\n                    found = this.forOfLookup[expression] = this.$parse(expression, bindingType);\n                }\n                return found;\n            }\n            default: {\n                // Allow empty strings for normal bindings and those that are empty by default (such as a custom attribute without an equals sign)\n                // But don't cache it, because empty strings are always invalid for any other type of binding\n                if (expression.length === 0 && (bindingType & (53 /* BindCommand */ | 49 /* OneTimeCommand */ | 50 /* ToViewCommand */))) {\n                    return _ast_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveLiteralExpression.$empty;\n                }\n                let found = this.expressionLookup[expression];\n                if (found === void 0) {\n                    found = this.expressionLookup[expression] = this.$parse(expression, bindingType);\n                }\n                return found;\n            }\n        }\n    }\n    $parse(expression, bindingType) {\n        $state.input = expression;\n        $state.length = expression.length;\n        $state.index = 0;\n        $state.currentChar = expression.charCodeAt(0);\n        return parse($state, 0 /* Reset */, 61 /* Variadic */, bindingType === void 0 ? 53 /* BindCommand */ : bindingType);\n    }\n}\nvar Char;\n(function (Char) {\n    Char[Char[\"Null\"] = 0] = \"Null\";\n    Char[Char[\"Backspace\"] = 8] = \"Backspace\";\n    Char[Char[\"Tab\"] = 9] = \"Tab\";\n    Char[Char[\"LineFeed\"] = 10] = \"LineFeed\";\n    Char[Char[\"VerticalTab\"] = 11] = \"VerticalTab\";\n    Char[Char[\"FormFeed\"] = 12] = \"FormFeed\";\n    Char[Char[\"CarriageReturn\"] = 13] = \"CarriageReturn\";\n    Char[Char[\"Space\"] = 32] = \"Space\";\n    Char[Char[\"Exclamation\"] = 33] = \"Exclamation\";\n    Char[Char[\"DoubleQuote\"] = 34] = \"DoubleQuote\";\n    Char[Char[\"Dollar\"] = 36] = \"Dollar\";\n    Char[Char[\"Percent\"] = 37] = \"Percent\";\n    Char[Char[\"Ampersand\"] = 38] = \"Ampersand\";\n    Char[Char[\"SingleQuote\"] = 39] = \"SingleQuote\";\n    Char[Char[\"OpenParen\"] = 40] = \"OpenParen\";\n    Char[Char[\"CloseParen\"] = 41] = \"CloseParen\";\n    Char[Char[\"Asterisk\"] = 42] = \"Asterisk\";\n    Char[Char[\"Plus\"] = 43] = \"Plus\";\n    Char[Char[\"Comma\"] = 44] = \"Comma\";\n    Char[Char[\"Minus\"] = 45] = \"Minus\";\n    Char[Char[\"Dot\"] = 46] = \"Dot\";\n    Char[Char[\"Slash\"] = 47] = \"Slash\";\n    Char[Char[\"Semicolon\"] = 59] = \"Semicolon\";\n    Char[Char[\"Backtick\"] = 96] = \"Backtick\";\n    Char[Char[\"OpenBracket\"] = 91] = \"OpenBracket\";\n    Char[Char[\"Backslash\"] = 92] = \"Backslash\";\n    Char[Char[\"CloseBracket\"] = 93] = \"CloseBracket\";\n    Char[Char[\"Caret\"] = 94] = \"Caret\";\n    Char[Char[\"Underscore\"] = 95] = \"Underscore\";\n    Char[Char[\"OpenBrace\"] = 123] = \"OpenBrace\";\n    Char[Char[\"Bar\"] = 124] = \"Bar\";\n    Char[Char[\"CloseBrace\"] = 125] = \"CloseBrace\";\n    Char[Char[\"Colon\"] = 58] = \"Colon\";\n    Char[Char[\"LessThan\"] = 60] = \"LessThan\";\n    Char[Char[\"Equals\"] = 61] = \"Equals\";\n    Char[Char[\"GreaterThan\"] = 62] = \"GreaterThan\";\n    Char[Char[\"Question\"] = 63] = \"Question\";\n    Char[Char[\"Zero\"] = 48] = \"Zero\";\n    Char[Char[\"One\"] = 49] = \"One\";\n    Char[Char[\"Two\"] = 50] = \"Two\";\n    Char[Char[\"Three\"] = 51] = \"Three\";\n    Char[Char[\"Four\"] = 52] = \"Four\";\n    Char[Char[\"Five\"] = 53] = \"Five\";\n    Char[Char[\"Six\"] = 54] = \"Six\";\n    Char[Char[\"Seven\"] = 55] = \"Seven\";\n    Char[Char[\"Eight\"] = 56] = \"Eight\";\n    Char[Char[\"Nine\"] = 57] = \"Nine\";\n    Char[Char[\"UpperA\"] = 65] = \"UpperA\";\n    Char[Char[\"UpperB\"] = 66] = \"UpperB\";\n    Char[Char[\"UpperC\"] = 67] = \"UpperC\";\n    Char[Char[\"UpperD\"] = 68] = \"UpperD\";\n    Char[Char[\"UpperE\"] = 69] = \"UpperE\";\n    Char[Char[\"UpperF\"] = 70] = \"UpperF\";\n    Char[Char[\"UpperG\"] = 71] = \"UpperG\";\n    Char[Char[\"UpperH\"] = 72] = \"UpperH\";\n    Char[Char[\"UpperI\"] = 73] = \"UpperI\";\n    Char[Char[\"UpperJ\"] = 74] = \"UpperJ\";\n    Char[Char[\"UpperK\"] = 75] = \"UpperK\";\n    Char[Char[\"UpperL\"] = 76] = \"UpperL\";\n    Char[Char[\"UpperM\"] = 77] = \"UpperM\";\n    Char[Char[\"UpperN\"] = 78] = \"UpperN\";\n    Char[Char[\"UpperO\"] = 79] = \"UpperO\";\n    Char[Char[\"UpperP\"] = 80] = \"UpperP\";\n    Char[Char[\"UpperQ\"] = 81] = \"UpperQ\";\n    Char[Char[\"UpperR\"] = 82] = \"UpperR\";\n    Char[Char[\"UpperS\"] = 83] = \"UpperS\";\n    Char[Char[\"UpperT\"] = 84] = \"UpperT\";\n    Char[Char[\"UpperU\"] = 85] = \"UpperU\";\n    Char[Char[\"UpperV\"] = 86] = \"UpperV\";\n    Char[Char[\"UpperW\"] = 87] = \"UpperW\";\n    Char[Char[\"UpperX\"] = 88] = \"UpperX\";\n    Char[Char[\"UpperY\"] = 89] = \"UpperY\";\n    Char[Char[\"UpperZ\"] = 90] = \"UpperZ\";\n    Char[Char[\"LowerA\"] = 97] = \"LowerA\";\n    Char[Char[\"LowerB\"] = 98] = \"LowerB\";\n    Char[Char[\"LowerC\"] = 99] = \"LowerC\";\n    Char[Char[\"LowerD\"] = 100] = \"LowerD\";\n    Char[Char[\"LowerE\"] = 101] = \"LowerE\";\n    Char[Char[\"LowerF\"] = 102] = \"LowerF\";\n    Char[Char[\"LowerG\"] = 103] = \"LowerG\";\n    Char[Char[\"LowerH\"] = 104] = \"LowerH\";\n    Char[Char[\"LowerI\"] = 105] = \"LowerI\";\n    Char[Char[\"LowerJ\"] = 106] = \"LowerJ\";\n    Char[Char[\"LowerK\"] = 107] = \"LowerK\";\n    Char[Char[\"LowerL\"] = 108] = \"LowerL\";\n    Char[Char[\"LowerM\"] = 109] = \"LowerM\";\n    Char[Char[\"LowerN\"] = 110] = \"LowerN\";\n    Char[Char[\"LowerO\"] = 111] = \"LowerO\";\n    Char[Char[\"LowerP\"] = 112] = \"LowerP\";\n    Char[Char[\"LowerQ\"] = 113] = \"LowerQ\";\n    Char[Char[\"LowerR\"] = 114] = \"LowerR\";\n    Char[Char[\"LowerS\"] = 115] = \"LowerS\";\n    Char[Char[\"LowerT\"] = 116] = \"LowerT\";\n    Char[Char[\"LowerU\"] = 117] = \"LowerU\";\n    Char[Char[\"LowerV\"] = 118] = \"LowerV\";\n    Char[Char[\"LowerW\"] = 119] = \"LowerW\";\n    Char[Char[\"LowerX\"] = 120] = \"LowerX\";\n    Char[Char[\"LowerY\"] = 121] = \"LowerY\";\n    Char[Char[\"LowerZ\"] = 122] = \"LowerZ\";\n})(Char || (Char = {}));\nfunction unescapeCode(code) {\n    switch (code) {\n        case 98 /* LowerB */: return 8 /* Backspace */;\n        case 116 /* LowerT */: return 9 /* Tab */;\n        case 110 /* LowerN */: return 10 /* LineFeed */;\n        case 118 /* LowerV */: return 11 /* VerticalTab */;\n        case 102 /* LowerF */: return 12 /* FormFeed */;\n        case 114 /* LowerR */: return 13 /* CarriageReturn */;\n        case 34 /* DoubleQuote */: return 34 /* DoubleQuote */;\n        case 39 /* SingleQuote */: return 39 /* SingleQuote */;\n        case 92 /* Backslash */: return 92 /* Backslash */;\n        default: return code;\n    }\n}\nvar Access;\n(function (Access) {\n    Access[Access[\"Reset\"] = 0] = \"Reset\";\n    Access[Access[\"Ancestor\"] = 511] = \"Ancestor\";\n    Access[Access[\"This\"] = 512] = \"This\";\n    Access[Access[\"Scope\"] = 1024] = \"Scope\";\n    Access[Access[\"Member\"] = 2048] = \"Member\";\n    Access[Access[\"Keyed\"] = 4096] = \"Keyed\";\n})(Access || (Access = {}));\nvar Precedence;\n(function (Precedence) {\n    Precedence[Precedence[\"Variadic\"] = 61] = \"Variadic\";\n    Precedence[Precedence[\"Assign\"] = 62] = \"Assign\";\n    Precedence[Precedence[\"Conditional\"] = 63] = \"Conditional\";\n    Precedence[Precedence[\"LogicalOR\"] = 64] = \"LogicalOR\";\n    Precedence[Precedence[\"LogicalAND\"] = 128] = \"LogicalAND\";\n    Precedence[Precedence[\"Equality\"] = 192] = \"Equality\";\n    Precedence[Precedence[\"Relational\"] = 256] = \"Relational\";\n    Precedence[Precedence[\"Additive\"] = 320] = \"Additive\";\n    Precedence[Precedence[\"Multiplicative\"] = 384] = \"Multiplicative\";\n    Precedence[Precedence[\"Binary\"] = 448] = \"Binary\";\n    Precedence[Precedence[\"LeftHandSide\"] = 449] = \"LeftHandSide\";\n    Precedence[Precedence[\"Primary\"] = 450] = \"Primary\";\n    Precedence[Precedence[\"Unary\"] = 451] = \"Unary\";\n})(Precedence || (Precedence = {}));\nvar Token;\n(function (Token) {\n    Token[Token[\"EOF\"] = 1572864] = \"EOF\";\n    Token[Token[\"ExpressionTerminal\"] = 1048576] = \"ExpressionTerminal\";\n    Token[Token[\"AccessScopeTerminal\"] = 524288] = \"AccessScopeTerminal\";\n    Token[Token[\"ClosingToken\"] = 262144] = \"ClosingToken\";\n    Token[Token[\"OpeningToken\"] = 131072] = \"OpeningToken\";\n    Token[Token[\"BinaryOp\"] = 65536] = \"BinaryOp\";\n    Token[Token[\"UnaryOp\"] = 32768] = \"UnaryOp\";\n    Token[Token[\"LeftHandSide\"] = 16384] = \"LeftHandSide\";\n    Token[Token[\"StringOrNumericLiteral\"] = 12288] = \"StringOrNumericLiteral\";\n    Token[Token[\"NumericLiteral\"] = 8192] = \"NumericLiteral\";\n    Token[Token[\"StringLiteral\"] = 4096] = \"StringLiteral\";\n    Token[Token[\"IdentifierName\"] = 3072] = \"IdentifierName\";\n    Token[Token[\"Keyword\"] = 2048] = \"Keyword\";\n    Token[Token[\"Identifier\"] = 1024] = \"Identifier\";\n    Token[Token[\"Contextual\"] = 512] = \"Contextual\";\n    Token[Token[\"Precedence\"] = 448] = \"Precedence\";\n    Token[Token[\"Type\"] = 63] = \"Type\";\n    Token[Token[\"FalseKeyword\"] = 2048] = \"FalseKeyword\";\n    Token[Token[\"TrueKeyword\"] = 2049] = \"TrueKeyword\";\n    Token[Token[\"NullKeyword\"] = 2050] = \"NullKeyword\";\n    Token[Token[\"UndefinedKeyword\"] = 2051] = \"UndefinedKeyword\";\n    Token[Token[\"ThisScope\"] = 3076] = \"ThisScope\";\n    Token[Token[\"HostScope\"] = 3077] = \"HostScope\";\n    Token[Token[\"ParentScope\"] = 3078] = \"ParentScope\";\n    Token[Token[\"OpenParen\"] = 671751] = \"OpenParen\";\n    Token[Token[\"OpenBrace\"] = 131080] = \"OpenBrace\";\n    Token[Token[\"Dot\"] = 16393] = \"Dot\";\n    Token[Token[\"CloseBrace\"] = 1835018] = \"CloseBrace\";\n    Token[Token[\"CloseParen\"] = 1835019] = \"CloseParen\";\n    Token[Token[\"Comma\"] = 1572876] = \"Comma\";\n    Token[Token[\"OpenBracket\"] = 671757] = \"OpenBracket\";\n    Token[Token[\"CloseBracket\"] = 1835022] = \"CloseBracket\";\n    Token[Token[\"Colon\"] = 1572879] = \"Colon\";\n    Token[Token[\"Question\"] = 1572880] = \"Question\";\n    Token[Token[\"Ampersand\"] = 1572883] = \"Ampersand\";\n    Token[Token[\"Bar\"] = 1572884] = \"Bar\";\n    Token[Token[\"BarBar\"] = 1638549] = \"BarBar\";\n    Token[Token[\"AmpersandAmpersand\"] = 1638614] = \"AmpersandAmpersand\";\n    Token[Token[\"EqualsEquals\"] = 1638679] = \"EqualsEquals\";\n    Token[Token[\"ExclamationEquals\"] = 1638680] = \"ExclamationEquals\";\n    Token[Token[\"EqualsEqualsEquals\"] = 1638681] = \"EqualsEqualsEquals\";\n    Token[Token[\"ExclamationEqualsEquals\"] = 1638682] = \"ExclamationEqualsEquals\";\n    Token[Token[\"LessThan\"] = 1638747] = \"LessThan\";\n    Token[Token[\"GreaterThan\"] = 1638748] = \"GreaterThan\";\n    Token[Token[\"LessThanEquals\"] = 1638749] = \"LessThanEquals\";\n    Token[Token[\"GreaterThanEquals\"] = 1638750] = \"GreaterThanEquals\";\n    Token[Token[\"InKeyword\"] = 1640799] = \"InKeyword\";\n    Token[Token[\"InstanceOfKeyword\"] = 1640800] = \"InstanceOfKeyword\";\n    Token[Token[\"Plus\"] = 623009] = \"Plus\";\n    Token[Token[\"Minus\"] = 623010] = \"Minus\";\n    Token[Token[\"TypeofKeyword\"] = 34851] = \"TypeofKeyword\";\n    Token[Token[\"VoidKeyword\"] = 34852] = \"VoidKeyword\";\n    Token[Token[\"Asterisk\"] = 1638885] = \"Asterisk\";\n    Token[Token[\"Percent\"] = 1638886] = \"Percent\";\n    Token[Token[\"Slash\"] = 1638887] = \"Slash\";\n    Token[Token[\"Equals\"] = 1048616] = \"Equals\";\n    Token[Token[\"Exclamation\"] = 32809] = \"Exclamation\";\n    Token[Token[\"TemplateTail\"] = 540714] = \"TemplateTail\";\n    Token[Token[\"TemplateContinuation\"] = 540715] = \"TemplateContinuation\";\n    Token[Token[\"OfKeyword\"] = 1051180] = \"OfKeyword\";\n})(Token || (Token = {}));\nconst $false = _ast_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveLiteralExpression.$false;\nconst $true = _ast_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveLiteralExpression.$true;\nconst $null = _ast_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveLiteralExpression.$null;\nconst $undefined = _ast_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveLiteralExpression.$undefined;\nconst $this = _ast_js__WEBPACK_IMPORTED_MODULE_1__.AccessThisExpression.$this;\nconst $host = _ast_js__WEBPACK_IMPORTED_MODULE_1__.AccessThisExpression.$host;\nconst $parent = _ast_js__WEBPACK_IMPORTED_MODULE_1__.AccessThisExpression.$parent;\nvar BindingType;\n(function (BindingType) {\n    BindingType[BindingType[\"None\"] = 0] = \"None\";\n    // if a binding command is taking over the processing of an attribute\n    // then it should add this flag to its binding type\n    // which then tell the binder to proceed the attribute compilation as is,\n    // instead of normal process: transformation -> compilation\n    BindingType[BindingType[\"IgnoreAttr\"] = 4096] = \"IgnoreAttr\";\n    BindingType[BindingType[\"Interpolation\"] = 2048] = \"Interpolation\";\n    BindingType[BindingType[\"IsRef\"] = 5376] = \"IsRef\";\n    BindingType[BindingType[\"IsIterator\"] = 512] = \"IsIterator\";\n    BindingType[BindingType[\"IsCustom\"] = 256] = \"IsCustom\";\n    BindingType[BindingType[\"IsFunction\"] = 128] = \"IsFunction\";\n    BindingType[BindingType[\"IsEvent\"] = 64] = \"IsEvent\";\n    BindingType[BindingType[\"IsProperty\"] = 32] = \"IsProperty\";\n    BindingType[BindingType[\"IsCommand\"] = 16] = \"IsCommand\";\n    BindingType[BindingType[\"IsPropertyCommand\"] = 48] = \"IsPropertyCommand\";\n    BindingType[BindingType[\"IsEventCommand\"] = 80] = \"IsEventCommand\";\n    BindingType[BindingType[\"DelegationStrategyDelta\"] = 6] = \"DelegationStrategyDelta\";\n    BindingType[BindingType[\"Command\"] = 15] = \"Command\";\n    BindingType[BindingType[\"OneTimeCommand\"] = 49] = \"OneTimeCommand\";\n    BindingType[BindingType[\"ToViewCommand\"] = 50] = \"ToViewCommand\";\n    BindingType[BindingType[\"FromViewCommand\"] = 51] = \"FromViewCommand\";\n    BindingType[BindingType[\"TwoWayCommand\"] = 52] = \"TwoWayCommand\";\n    BindingType[BindingType[\"BindCommand\"] = 53] = \"BindCommand\";\n    BindingType[BindingType[\"TriggerCommand\"] = 4182] = \"TriggerCommand\";\n    BindingType[BindingType[\"CaptureCommand\"] = 4183] = \"CaptureCommand\";\n    BindingType[BindingType[\"DelegateCommand\"] = 4184] = \"DelegateCommand\";\n    BindingType[BindingType[\"CallCommand\"] = 153] = \"CallCommand\";\n    BindingType[BindingType[\"OptionsCommand\"] = 26] = \"OptionsCommand\";\n    BindingType[BindingType[\"ForCommand\"] = 539] = \"ForCommand\";\n    BindingType[BindingType[\"CustomCommand\"] = 284] = \"CustomCommand\";\n})(BindingType || (BindingType = {}));\n/* eslint-enable @typescript-eslint/indent */\n/** @internal */\nclass ParserState {\n    constructor(input) {\n        this.input = input;\n        this.index = 0;\n        this.startIndex = 0;\n        this.lastIndex = 0;\n        this.currentToken = 1572864 /* EOF */;\n        this.tokenValue = '';\n        this.assignable = true;\n        this.length = input.length;\n        this.currentChar = input.charCodeAt(0);\n    }\n    get tokenRaw() {\n        return this.input.slice(this.startIndex, this.index);\n    }\n}\nconst $state = new ParserState('');\n/** @internal */\nfunction parseExpression(input, bindingType) {\n    $state.input = input;\n    $state.length = input.length;\n    $state.index = 0;\n    $state.currentChar = input.charCodeAt(0);\n    return parse($state, 0 /* Reset */, 61 /* Variadic */, bindingType === void 0 ? 53 /* BindCommand */ : bindingType);\n}\n/** @internal */\n// This is performance-critical code which follows a subset of the well-known ES spec.\n// Knowing the spec, or parsers in general, will help with understanding this code and it is therefore not the\n// single source of information for being able to figure it out.\n// It generally does not need to change unless the spec changes or spec violations are found, or optimization\n// opportunities are found (which would likely not fix these warnings in any case).\n// It's therefore not considered to have any tangible impact on the maintainability of the code base.\n// For reference, most of the parsing logic is based on: https://tc39.github.io/ecma262/#sec-ecmascript-language-expressions\n// eslint-disable-next-line max-lines-per-function\nfunction parse(state, access, minPrecedence, bindingType) {\n    if (bindingType === 284 /* CustomCommand */) {\n        return new _ast_js__WEBPACK_IMPORTED_MODULE_1__.CustomExpression(state.input);\n    }\n    if (state.index === 0) {\n        if (bindingType & 2048 /* Interpolation */) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return parseInterpolation(state);\n        }\n        nextToken(state);\n        if (state.currentToken & 1048576 /* ExpressionTerminal */) {\n            throw new Error(`Invalid start of expression: '${state.input}'`);\n        }\n    }\n    state.assignable = 448 /* Binary */ > minPrecedence;\n    let result = void 0;\n    if (state.currentToken & 32768 /* UnaryOp */) {\n        /** parseUnaryExpression\n         * https://tc39.github.io/ecma262/#sec-unary-operators\n         *\n         * UnaryExpression :\n         * 1. LeftHandSideExpression\n         * 2. void UnaryExpression\n         * 3. typeof UnaryExpression\n         * 4. + UnaryExpression\n         * 5. - UnaryExpression\n         * 6. ! UnaryExpression\n         *\n         * IsValidAssignmentTarget\n         * 2,3,4,5,6 = false\n         * 1 = see parseLeftHandSideExpression\n         *\n         * Note: technically we should throw on ++ / -- / +++ / ---, but there's nothing to gain from that\n         */\n        const op = TokenValues[state.currentToken & 63 /* Type */];\n        nextToken(state);\n        result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.UnaryExpression(op, parse(state, access, 449 /* LeftHandSide */, bindingType));\n        state.assignable = false;\n    }\n    else {\n        /** parsePrimaryExpression\n         * https://tc39.github.io/ecma262/#sec-primary-expression\n         *\n         * PrimaryExpression :\n         * 1. this\n         * 2. IdentifierName\n         * 3. Literal\n         * 4. ArrayLiteralExpression\n         * 5. ObjectLiteralExpression\n         * 6. TemplateLiteral\n         * 7. ParenthesizedExpression\n         *\n         * Literal :\n         * NullLiteral\n         * BooleanLiteral\n         * NumericLiteral\n         * StringLiteral\n         *\n         * ParenthesizedExpression :\n         * ( AssignmentExpression )\n         *\n         * IsValidAssignmentTarget\n         * 1,3,4,5,6,7 = false\n         * 2 = true\n         */\n        primary: switch (state.currentToken) {\n            case 3078 /* ParentScope */: // $parent\n                state.assignable = false;\n                do {\n                    nextToken(state);\n                    access++; // ancestor\n                    if (consumeOpt(state, 16393 /* Dot */)) {\n                        if (state.currentToken === 16393 /* Dot */) {\n                            throw new Error(`Double dot and spread operators are not supported: '${state.input}'`);\n                        }\n                        else if (state.currentToken === 1572864 /* EOF */) {\n                            throw new Error(`Expected identifier: '${state.input}'`);\n                        }\n                    }\n                    else if (state.currentToken & 524288 /* AccessScopeTerminal */) {\n                        const ancestor = access & 511 /* Ancestor */;\n                        result = ancestor === 0 ? $this : ancestor === 1 ? $parent : new _ast_js__WEBPACK_IMPORTED_MODULE_1__.AccessThisExpression(ancestor);\n                        access = 512 /* This */;\n                        break primary;\n                    }\n                    else {\n                        throw new Error(`Invalid member expression: '${state.input}'`);\n                    }\n                } while (state.currentToken === 3078 /* ParentScope */);\n            // falls through\n            case 1024 /* Identifier */: // identifier\n                if (bindingType & 512 /* IsIterator */) {\n                    result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.BindingIdentifier(state.tokenValue);\n                }\n                else {\n                    result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.AccessScopeExpression(state.tokenValue, access & 511 /* Ancestor */);\n                    access = 1024 /* Scope */;\n                }\n                state.assignable = true;\n                nextToken(state);\n                break;\n            case 3076 /* ThisScope */: // $this\n                state.assignable = false;\n                nextToken(state);\n                result = $this;\n                access = 512 /* This */;\n                break;\n            case 3077 /* HostScope */: // $host\n                state.assignable = false;\n                nextToken(state);\n                result = $host;\n                access = 512 /* This */;\n                break;\n            case 671751 /* OpenParen */: // parenthesized expression\n                nextToken(state);\n                result = parse(state, 0 /* Reset */, 62 /* Assign */, bindingType);\n                consume(state, 1835019 /* CloseParen */);\n                access = 0 /* Reset */;\n                break;\n            case 671757 /* OpenBracket */:\n                result = parseArrayLiteralExpression(state, access, bindingType);\n                access = 0 /* Reset */;\n                break;\n            case 131080 /* OpenBrace */:\n                result = parseObjectLiteralExpression(state, bindingType);\n                access = 0 /* Reset */;\n                break;\n            case 540714 /* TemplateTail */:\n                result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.TemplateExpression([state.tokenValue]);\n                state.assignable = false;\n                nextToken(state);\n                access = 0 /* Reset */;\n                break;\n            case 540715 /* TemplateContinuation */:\n                result = parseTemplate(state, access, bindingType, result, false);\n                access = 0 /* Reset */;\n                break;\n            case 4096 /* StringLiteral */:\n            case 8192 /* NumericLiteral */:\n                result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveLiteralExpression(state.tokenValue);\n                state.assignable = false;\n                nextToken(state);\n                access = 0 /* Reset */;\n                break;\n            case 2050 /* NullKeyword */:\n            case 2051 /* UndefinedKeyword */:\n            case 2049 /* TrueKeyword */:\n            case 2048 /* FalseKeyword */:\n                result = TokenValues[state.currentToken & 63 /* Type */];\n                state.assignable = false;\n                nextToken(state);\n                access = 0 /* Reset */;\n                break;\n            default:\n                if (state.index >= state.length) {\n                    throw new Error(`Unexpected end of expression: '${state.input}'`);\n                }\n                else {\n                    throw new Error(`Unconsumed token: '${state.input}'`);\n                }\n        }\n        if (bindingType & 512 /* IsIterator */) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return parseForOfStatement(state, result);\n        }\n        if (449 /* LeftHandSide */ < minPrecedence) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return result;\n        }\n        /** parseMemberExpression (Token.Dot, Token.OpenBracket, Token.TemplateContinuation)\n         * MemberExpression :\n         * 1. PrimaryExpression\n         * 2. MemberExpression [ AssignmentExpression ]\n         * 3. MemberExpression . IdentifierName\n         * 4. MemberExpression TemplateLiteral\n         *\n         * IsValidAssignmentTarget\n         * 1,4 = false\n         * 2,3 = true\n         *\n         *\n         * parseCallExpression (Token.OpenParen)\n         * CallExpression :\n         * 1. MemberExpression Arguments\n         * 2. CallExpression Arguments\n         * 3. CallExpression [ AssignmentExpression ]\n         * 4. CallExpression . IdentifierName\n         * 5. CallExpression TemplateLiteral\n         *\n         * IsValidAssignmentTarget\n         * 1,2,5 = false\n         * 3,4 = true\n         */\n        let name = state.tokenValue;\n        while ((state.currentToken & 16384 /* LeftHandSide */) > 0) {\n            const args = [];\n            let strings;\n            switch (state.currentToken) {\n                case 16393 /* Dot */:\n                    state.assignable = true;\n                    nextToken(state);\n                    if ((state.currentToken & 3072 /* IdentifierName */) === 0) {\n                        throw new Error(`Expected identifier: '${state.input}'`);\n                    }\n                    name = state.tokenValue;\n                    nextToken(state);\n                    // Change $This to $Scope, change $Scope to $Member, keep $Member as-is, change $Keyed to $Member, disregard other flags\n                    access = ((access & (512 /* This */ | 1024 /* Scope */)) << 1) | (access & 2048 /* Member */) | ((access & 4096 /* Keyed */) >> 1);\n                    if (state.currentToken === 671751 /* OpenParen */) {\n                        if (access === 0 /* Reset */) { // if the left hand side is a literal, make sure we parse a CallMemberExpression\n                            access = 2048 /* Member */;\n                        }\n                        continue;\n                    }\n                    if (access & 1024 /* Scope */) {\n                        result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.AccessScopeExpression(name, result.ancestor, result === $host);\n                    }\n                    else { // if it's not $Scope, it's $Member\n                        result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.AccessMemberExpression(result, name);\n                    }\n                    continue;\n                case 671757 /* OpenBracket */:\n                    state.assignable = true;\n                    nextToken(state);\n                    access = 4096 /* Keyed */;\n                    result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.AccessKeyedExpression(result, parse(state, 0 /* Reset */, 62 /* Assign */, bindingType));\n                    consume(state, 1835022 /* CloseBracket */);\n                    break;\n                case 671751 /* OpenParen */:\n                    state.assignable = false;\n                    nextToken(state);\n                    while (state.currentToken !== 1835019 /* CloseParen */) {\n                        args.push(parse(state, 0 /* Reset */, 62 /* Assign */, bindingType));\n                        if (!consumeOpt(state, 1572876 /* Comma */)) {\n                            break;\n                        }\n                    }\n                    consume(state, 1835019 /* CloseParen */);\n                    if (access & 1024 /* Scope */) {\n                        result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.CallScopeExpression(name, args, result.ancestor, result === $host);\n                    }\n                    else if (access & 2048 /* Member */) {\n                        result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.CallMemberExpression(result, name, args);\n                    }\n                    else {\n                        result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.CallFunctionExpression(result, args);\n                    }\n                    access = 0;\n                    break;\n                case 540714 /* TemplateTail */:\n                    state.assignable = false;\n                    strings = [state.tokenValue];\n                    result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.TaggedTemplateExpression(strings, strings, result);\n                    nextToken(state);\n                    break;\n                case 540715 /* TemplateContinuation */:\n                    result = parseTemplate(state, access, bindingType, result, true);\n                default:\n            }\n        }\n    }\n    if (448 /* Binary */ < minPrecedence) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return result;\n    }\n    /** parseBinaryExpression\n     * https://tc39.github.io/ecma262/#sec-multiplicative-operators\n     *\n     * MultiplicativeExpression : (local precedence 6)\n     * UnaryExpression\n     * MultiplicativeExpression * / % UnaryExpression\n     *\n     * AdditiveExpression : (local precedence 5)\n     * MultiplicativeExpression\n     * AdditiveExpression + - MultiplicativeExpression\n     *\n     * RelationalExpression : (local precedence 4)\n     * AdditiveExpression\n     * RelationalExpression < > <= >= instanceof in AdditiveExpression\n     *\n     * EqualityExpression : (local precedence 3)\n     * RelationalExpression\n     * EqualityExpression == != === !== RelationalExpression\n     *\n     * LogicalANDExpression : (local precedence 2)\n     * EqualityExpression\n     * LogicalANDExpression && EqualityExpression\n     *\n     * LogicalORExpression : (local precedence 1)\n     * LogicalANDExpression\n     * LogicalORExpression || LogicalANDExpression\n     */\n    while ((state.currentToken & 65536 /* BinaryOp */) > 0) {\n        const opToken = state.currentToken;\n        if ((opToken & 448 /* Precedence */) <= minPrecedence) {\n            break;\n        }\n        nextToken(state);\n        result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.BinaryExpression(TokenValues[opToken & 63 /* Type */], result, parse(state, access, opToken & 448 /* Precedence */, bindingType));\n        state.assignable = false;\n    }\n    if (63 /* Conditional */ < minPrecedence) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return result;\n    }\n    /**\n     * parseConditionalExpression\n     * https://tc39.github.io/ecma262/#prod-ConditionalExpression\n     *\n     * ConditionalExpression :\n     * 1. BinaryExpression\n     * 2. BinaryExpression ? AssignmentExpression : AssignmentExpression\n     *\n     * IsValidAssignmentTarget\n     * 1,2 = false\n     */\n    if (consumeOpt(state, 1572880 /* Question */)) {\n        const yes = parse(state, access, 62 /* Assign */, bindingType);\n        consume(state, 1572879 /* Colon */);\n        result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.ConditionalExpression(result, yes, parse(state, access, 62 /* Assign */, bindingType));\n        state.assignable = false;\n    }\n    if (62 /* Assign */ < minPrecedence) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return result;\n    }\n    /** parseAssignmentExpression\n     * https://tc39.github.io/ecma262/#prod-AssignmentExpression\n     * Note: AssignmentExpression here is equivalent to ES Expression because we don't parse the comma operator\n     *\n     * AssignmentExpression :\n     * 1. ConditionalExpression\n     * 2. LeftHandSideExpression = AssignmentExpression\n     *\n     * IsValidAssignmentTarget\n     * 1,2 = false\n     */\n    if (consumeOpt(state, 1048616 /* Equals */)) {\n        if (!state.assignable) {\n            throw new Error(`Left hand side of expression is not assignable: '${state.input}'`);\n        }\n        result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.AssignExpression(result, parse(state, access, 62 /* Assign */, bindingType));\n    }\n    if (61 /* Variadic */ < minPrecedence) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return result;\n    }\n    /** parseValueConverter\n     */\n    while (consumeOpt(state, 1572884 /* Bar */)) {\n        if (state.currentToken === 1572864 /* EOF */) {\n            throw new Error(`Expected identifier to come after ValueConverter operator: '${state.input}'`);\n        }\n        const name = state.tokenValue;\n        nextToken(state);\n        const args = new Array();\n        while (consumeOpt(state, 1572879 /* Colon */)) {\n            args.push(parse(state, access, 62 /* Assign */, bindingType));\n        }\n        result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.ValueConverterExpression(result, name, args);\n    }\n    /** parseBindingBehavior\n     */\n    while (consumeOpt(state, 1572883 /* Ampersand */)) {\n        if (state.currentToken === 1572864 /* EOF */) {\n            throw new Error(`Expected identifier to come after BindingBehavior operator: '${state.input}'`);\n        }\n        const name = state.tokenValue;\n        nextToken(state);\n        const args = new Array();\n        while (consumeOpt(state, 1572879 /* Colon */)) {\n            args.push(parse(state, access, 62 /* Assign */, bindingType));\n        }\n        result = new _ast_js__WEBPACK_IMPORTED_MODULE_1__.BindingBehaviorExpression(result, name, args);\n    }\n    if (state.currentToken !== 1572864 /* EOF */) {\n        if (bindingType & 2048 /* Interpolation */) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return result;\n        }\n        if (state.tokenRaw === 'of') {\n            throw new Error(`Unexpected keyword \"of\": '${state.input}'`);\n        }\n        throw new Error(`Unconsumed token: '${state.input}'`);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return result;\n}\n/**\n * parseArrayLiteralExpression\n * https://tc39.github.io/ecma262/#prod-ArrayLiteralExpression\n *\n * ArrayLiteralExpression :\n * [ Elision(opt) ]\n * [ ElementList ]\n * [ ElementList, Elision(opt) ]\n *\n * ElementList :\n * Elision(opt) AssignmentExpression\n * ElementList, Elision(opt) AssignmentExpression\n *\n * Elision :\n * ,\n * Elision ,\n */\nfunction parseArrayLiteralExpression(state, access, bindingType) {\n    nextToken(state);\n    const elements = new Array();\n    while (state.currentToken !== 1835022 /* CloseBracket */) {\n        if (consumeOpt(state, 1572876 /* Comma */)) {\n            elements.push($undefined);\n            if (state.currentToken === 1835022 /* CloseBracket */) {\n                break;\n            }\n        }\n        else {\n            elements.push(parse(state, access, 62 /* Assign */, bindingType & ~512 /* IsIterator */));\n            if (consumeOpt(state, 1572876 /* Comma */)) {\n                if (state.currentToken === 1835022 /* CloseBracket */) {\n                    break;\n                }\n            }\n            else {\n                break;\n            }\n        }\n    }\n    consume(state, 1835022 /* CloseBracket */);\n    if (bindingType & 512 /* IsIterator */) {\n        return new _ast_js__WEBPACK_IMPORTED_MODULE_1__.ArrayBindingPattern(elements);\n    }\n    else {\n        state.assignable = false;\n        return new _ast_js__WEBPACK_IMPORTED_MODULE_1__.ArrayLiteralExpression(elements);\n    }\n}\nfunction parseForOfStatement(state, result) {\n    if ((result.$kind & 65536 /* IsForDeclaration */) === 0) {\n        throw new Error(`Invalid BindingIdentifier at left hand side of \"of\": '${state.input}'`);\n    }\n    if (state.currentToken !== 1051180 /* OfKeyword */) {\n        throw new Error(`Invalid BindingIdentifier at left hand side of \"of\": '${state.input}'`);\n    }\n    nextToken(state);\n    const declaration = result;\n    const statement = parse(state, 0 /* Reset */, 61 /* Variadic */, 0 /* None */);\n    return new _ast_js__WEBPACK_IMPORTED_MODULE_1__.ForOfStatement(declaration, statement);\n}\n/**\n * parseObjectLiteralExpression\n * https://tc39.github.io/ecma262/#prod-Literal\n *\n * ObjectLiteralExpression :\n * { }\n * { PropertyDefinitionList }\n *\n * PropertyDefinitionList :\n * PropertyDefinition\n * PropertyDefinitionList, PropertyDefinition\n *\n * PropertyDefinition :\n * IdentifierName\n * PropertyName : AssignmentExpression\n *\n * PropertyName :\n * IdentifierName\n * StringLiteral\n * NumericLiteral\n */\nfunction parseObjectLiteralExpression(state, bindingType) {\n    const keys = new Array();\n    const values = new Array();\n    nextToken(state);\n    while (state.currentToken !== 1835018 /* CloseBrace */) {\n        keys.push(state.tokenValue);\n        // Literal = mandatory colon\n        if (state.currentToken & 12288 /* StringOrNumericLiteral */) {\n            nextToken(state);\n            consume(state, 1572879 /* Colon */);\n            values.push(parse(state, 0 /* Reset */, 62 /* Assign */, bindingType & ~512 /* IsIterator */));\n        }\n        else if (state.currentToken & 3072 /* IdentifierName */) {\n            // IdentifierName = optional colon\n            const { currentChar, currentToken, index } = state;\n            nextToken(state);\n            if (consumeOpt(state, 1572879 /* Colon */)) {\n                values.push(parse(state, 0 /* Reset */, 62 /* Assign */, bindingType & ~512 /* IsIterator */));\n            }\n            else {\n                // Shorthand\n                state.currentChar = currentChar;\n                state.currentToken = currentToken;\n                state.index = index;\n                values.push(parse(state, 0 /* Reset */, 450 /* Primary */, bindingType & ~512 /* IsIterator */));\n            }\n        }\n        else {\n            throw new Error(`Invalid or unsupported property definition in object literal: '${state.input}'`);\n        }\n        if (state.currentToken !== 1835018 /* CloseBrace */) {\n            consume(state, 1572876 /* Comma */);\n        }\n    }\n    consume(state, 1835018 /* CloseBrace */);\n    if (bindingType & 512 /* IsIterator */) {\n        return new _ast_js__WEBPACK_IMPORTED_MODULE_1__.ObjectBindingPattern(keys, values);\n    }\n    else {\n        state.assignable = false;\n        return new _ast_js__WEBPACK_IMPORTED_MODULE_1__.ObjectLiteralExpression(keys, values);\n    }\n}\nfunction parseInterpolation(state) {\n    const parts = [];\n    const expressions = [];\n    const length = state.length;\n    let result = '';\n    while (state.index < length) {\n        switch (state.currentChar) {\n            case 36 /* Dollar */:\n                if (state.input.charCodeAt(state.index + 1) === 123 /* OpenBrace */) {\n                    parts.push(result);\n                    result = '';\n                    state.index += 2;\n                    state.currentChar = state.input.charCodeAt(state.index);\n                    nextToken(state);\n                    const expression = parse(state, 0 /* Reset */, 61 /* Variadic */, 2048 /* Interpolation */);\n                    expressions.push(expression);\n                    continue;\n                }\n                else {\n                    result += '$';\n                }\n                break;\n            case 92 /* Backslash */:\n                result += String.fromCharCode(unescapeCode(nextChar(state)));\n                break;\n            default:\n                result += String.fromCharCode(state.currentChar);\n        }\n        nextChar(state);\n    }\n    if (expressions.length) {\n        parts.push(result);\n        return new _ast_js__WEBPACK_IMPORTED_MODULE_1__.Interpolation(parts, expressions);\n    }\n    return null;\n}\n/**\n * parseTemplateLiteralExpression\n * https://tc39.github.io/ecma262/#prod-Literal\n *\n * TemplateExpression :\n * NoSubstitutionTemplate\n * TemplateHead\n *\n * NoSubstitutionTemplate :\n * ` TemplateCharacters(opt) `\n *\n * TemplateHead :\n * ` TemplateCharacters(opt) ${\n *\n * TemplateSubstitutionTail :\n * TemplateMiddle\n * TemplateTail\n *\n * TemplateMiddle :\n * } TemplateCharacters(opt) ${\n *\n * TemplateTail :\n * } TemplateCharacters(opt) `\n *\n * TemplateCharacters :\n * TemplateCharacter TemplateCharacters(opt)\n *\n * TemplateCharacter :\n * $ [lookahead ≠ {]\n * \\ EscapeSequence\n * SourceCharacter (but not one of ` or \\ or $)\n */\nfunction parseTemplate(state, access, bindingType, result, tagged) {\n    const cooked = [state.tokenValue];\n    // TODO: properly implement raw parts / decide whether we want this\n    consume(state, 540715 /* TemplateContinuation */);\n    const expressions = [parse(state, access, 62 /* Assign */, bindingType)];\n    while ((state.currentToken = scanTemplateTail(state)) !== 540714 /* TemplateTail */) {\n        cooked.push(state.tokenValue);\n        consume(state, 540715 /* TemplateContinuation */);\n        expressions.push(parse(state, access, 62 /* Assign */, bindingType));\n    }\n    cooked.push(state.tokenValue);\n    state.assignable = false;\n    if (tagged) {\n        nextToken(state);\n        return new _ast_js__WEBPACK_IMPORTED_MODULE_1__.TaggedTemplateExpression(cooked, cooked, result, expressions);\n    }\n    else {\n        nextToken(state);\n        return new _ast_js__WEBPACK_IMPORTED_MODULE_1__.TemplateExpression(cooked, expressions);\n    }\n}\nfunction nextToken(state) {\n    while (state.index < state.length) {\n        state.startIndex = state.index;\n        if ((state.currentToken = (CharScanners[state.currentChar](state))) != null) { // a null token means the character must be skipped\n            return;\n        }\n    }\n    state.currentToken = 1572864 /* EOF */;\n}\nfunction nextChar(state) {\n    return state.currentChar = state.input.charCodeAt(++state.index);\n}\nfunction scanIdentifier(state) {\n    // run to the next non-idPart\n    while (IdParts[nextChar(state)])\n        ;\n    const token = KeywordLookup[state.tokenValue = state.tokenRaw];\n    return token === undefined ? 1024 /* Identifier */ : token;\n}\nfunction scanNumber(state, isFloat) {\n    let char = state.currentChar;\n    if (isFloat === false) {\n        do {\n            char = nextChar(state);\n        } while (char <= 57 /* Nine */ && char >= 48 /* Zero */);\n        if (char !== 46 /* Dot */) {\n            state.tokenValue = parseInt(state.tokenRaw, 10);\n            return 8192 /* NumericLiteral */;\n        }\n        // past this point it's always a float\n        char = nextChar(state);\n        if (state.index >= state.length) {\n            // unless the number ends with a dot - that behaves a little different in native ES expressions\n            // but in our AST that behavior has no effect because numbers are always stored in variables\n            state.tokenValue = parseInt(state.tokenRaw.slice(0, -1), 10);\n            return 8192 /* NumericLiteral */;\n        }\n    }\n    if (char <= 57 /* Nine */ && char >= 48 /* Zero */) {\n        do {\n            char = nextChar(state);\n        } while (char <= 57 /* Nine */ && char >= 48 /* Zero */);\n    }\n    else {\n        state.currentChar = state.input.charCodeAt(--state.index);\n    }\n    state.tokenValue = parseFloat(state.tokenRaw);\n    return 8192 /* NumericLiteral */;\n}\nfunction scanString(state) {\n    const quote = state.currentChar;\n    nextChar(state); // Skip initial quote.\n    let unescaped = 0;\n    const buffer = new Array();\n    let marker = state.index;\n    while (state.currentChar !== quote) {\n        if (state.currentChar === 92 /* Backslash */) {\n            buffer.push(state.input.slice(marker, state.index));\n            nextChar(state);\n            unescaped = unescapeCode(state.currentChar);\n            nextChar(state);\n            buffer.push(String.fromCharCode(unescaped));\n            marker = state.index;\n        }\n        else if (state.index >= state.length) {\n            throw new Error(`Unterminated quote in string literal: '${state.input}'`);\n        }\n        else {\n            nextChar(state);\n        }\n    }\n    const last = state.input.slice(marker, state.index);\n    nextChar(state); // Skip terminating quote.\n    // Compute the unescaped string value.\n    buffer.push(last);\n    const unescapedStr = buffer.join('');\n    state.tokenValue = unescapedStr;\n    return 4096 /* StringLiteral */;\n}\nfunction scanTemplate(state) {\n    let tail = true;\n    let result = '';\n    while (nextChar(state) !== 96 /* Backtick */) {\n        if (state.currentChar === 36 /* Dollar */) {\n            if ((state.index + 1) < state.length && state.input.charCodeAt(state.index + 1) === 123 /* OpenBrace */) {\n                state.index++;\n                tail = false;\n                break;\n            }\n            else {\n                result += '$';\n            }\n        }\n        else if (state.currentChar === 92 /* Backslash */) {\n            result += String.fromCharCode(unescapeCode(nextChar(state)));\n        }\n        else {\n            if (state.index >= state.length) {\n                throw new Error(`Unterminated template string: '${state.input}'`);\n            }\n            result += String.fromCharCode(state.currentChar);\n        }\n    }\n    nextChar(state);\n    state.tokenValue = result;\n    if (tail) {\n        return 540714 /* TemplateTail */;\n    }\n    return 540715 /* TemplateContinuation */;\n}\nfunction scanTemplateTail(state) {\n    if (state.index >= state.length) {\n        throw new Error(`Unterminated template string: '${state.input}'`);\n    }\n    state.index--;\n    return scanTemplate(state);\n}\nfunction consumeOpt(state, token) {\n    if (state.currentToken === token) {\n        nextToken(state);\n        return true;\n    }\n    return false;\n}\nfunction consume(state, token) {\n    if (state.currentToken === token) {\n        nextToken(state);\n    }\n    else {\n        throw new Error(`Missing expected token: '${state.input}'`);\n    }\n}\n/**\n * Array for mapping tokens to token values. The indices of the values\n * correspond to the token bits 0-38.\n * For this to work properly, the values in the array must be kept in\n * the same order as the token bits.\n * Usage: TokenValues[token & Token.Type]\n */\nconst TokenValues = [\n    $false, $true, $null, $undefined, '$this', '$host', '$parent',\n    '(', '{', '.', '}', ')', ',', '[', ']', ':', '?', '\\'', '\"',\n    '&', '|', '||', '&&', '==', '!=', '===', '!==', '<', '>',\n    '<=', '>=', 'in', 'instanceof', '+', '-', 'typeof', 'void', '*', '%', '/', '=', '!',\n    540714 /* TemplateTail */, 540715 /* TemplateContinuation */,\n    'of'\n];\nconst KeywordLookup = Object.create(null);\nKeywordLookup.true = 2049 /* TrueKeyword */;\nKeywordLookup.null = 2050 /* NullKeyword */;\nKeywordLookup.false = 2048 /* FalseKeyword */;\nKeywordLookup.undefined = 2051 /* UndefinedKeyword */;\nKeywordLookup.$this = 3076 /* ThisScope */;\nKeywordLookup.$host = 3077 /* HostScope */;\nKeywordLookup.$parent = 3078 /* ParentScope */;\nKeywordLookup.in = 1640799 /* InKeyword */;\nKeywordLookup.instanceof = 1640800 /* InstanceOfKeyword */;\nKeywordLookup.typeof = 34851 /* TypeofKeyword */;\nKeywordLookup.void = 34852 /* VoidKeyword */;\nKeywordLookup.of = 1051180 /* OfKeyword */;\n/**\n * Ranges of code points in pairs of 2 (eg 0x41-0x5B, 0x61-0x7B, ...) where the second value is not inclusive (5-7 means 5 and 6)\n * Single values are denoted by the second value being a 0\n *\n * Copied from output generated with \"node build/generate-unicode.js\"\n *\n * See also: https://en.wikibooks.org/wiki/Unicode/Character_reference/0000-0FFF\n */\nconst codes = {\n    /* [$0-9A-Za_a-z] */\n    AsciiIdPart: [0x24, 0, 0x30, 0x3A, 0x41, 0x5B, 0x5F, 0, 0x61, 0x7B],\n    IdStart: /* IdentifierStart */ [0x24, 0, 0x41, 0x5B, 0x5F, 0, 0x61, 0x7B, 0xAA, 0, 0xBA, 0, 0xC0, 0xD7, 0xD8, 0xF7, 0xF8, 0x2B9, 0x2E0, 0x2E5, 0x1D00, 0x1D26, 0x1D2C, 0x1D5D, 0x1D62, 0x1D66, 0x1D6B, 0x1D78, 0x1D79, 0x1DBF, 0x1E00, 0x1F00, 0x2071, 0, 0x207F, 0, 0x2090, 0x209D, 0x212A, 0x212C, 0x2132, 0, 0x214E, 0, 0x2160, 0x2189, 0x2C60, 0x2C80, 0xA722, 0xA788, 0xA78B, 0xA7AF, 0xA7B0, 0xA7B8, 0xA7F7, 0xA800, 0xAB30, 0xAB5B, 0xAB5C, 0xAB65, 0xFB00, 0xFB07, 0xFF21, 0xFF3B, 0xFF41, 0xFF5B],\n    Digit: /* DecimalNumber */ [0x30, 0x3A],\n    Skip: /* Skippable */ [0, 0x21, 0x7F, 0xA1]\n};\n/**\n * Decompress the ranges into an array of numbers so that the char code\n * can be used as an index to the lookup\n */\nfunction decompress(lookup, $set, compressed, value) {\n    const rangeCount = compressed.length;\n    for (let i = 0; i < rangeCount; i += 2) {\n        const start = compressed[i];\n        let end = compressed[i + 1];\n        end = end > 0 ? end : start + 1;\n        if (lookup) {\n            lookup.fill(value, start, end);\n        }\n        if ($set) {\n            for (let ch = start; ch < end; ch++) {\n                $set.add(ch);\n            }\n        }\n    }\n}\n// CharFuncLookup functions\nfunction returnToken(token) {\n    return s => {\n        nextChar(s);\n        return token;\n    };\n}\nconst unexpectedCharacter = s => {\n    throw new Error(`Unexpected character: '${s.input}'`);\n};\nunexpectedCharacter.notMapped = true;\n// ASCII IdentifierPart lookup\nconst AsciiIdParts = new Set();\ndecompress(null, AsciiIdParts, codes.AsciiIdPart, true);\n// IdentifierPart lookup\nconst IdParts = new Uint8Array(0xFFFF);\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ndecompress(IdParts, null, codes.IdStart, 1);\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ndecompress(IdParts, null, codes.Digit, 1);\n// Character scanning function lookup\nconst CharScanners = new Array(0xFFFF);\nCharScanners.fill(unexpectedCharacter, 0, 0xFFFF);\ndecompress(CharScanners, null, codes.Skip, s => {\n    nextChar(s);\n    return null;\n});\ndecompress(CharScanners, null, codes.IdStart, scanIdentifier);\ndecompress(CharScanners, null, codes.Digit, s => scanNumber(s, false));\nCharScanners[34 /* DoubleQuote */] =\n    CharScanners[39 /* SingleQuote */] = s => {\n        return scanString(s);\n    };\nCharScanners[96 /* Backtick */] = s => {\n    return scanTemplate(s);\n};\n// !, !=, !==\nCharScanners[33 /* Exclamation */] = s => {\n    if (nextChar(s) !== 61 /* Equals */) {\n        return 32809 /* Exclamation */;\n    }\n    if (nextChar(s) !== 61 /* Equals */) {\n        return 1638680 /* ExclamationEquals */;\n    }\n    nextChar(s);\n    return 1638682 /* ExclamationEqualsEquals */;\n};\n// =, ==, ===\nCharScanners[61 /* Equals */] = s => {\n    if (nextChar(s) !== 61 /* Equals */) {\n        return 1048616 /* Equals */;\n    }\n    if (nextChar(s) !== 61 /* Equals */) {\n        return 1638679 /* EqualsEquals */;\n    }\n    nextChar(s);\n    return 1638681 /* EqualsEqualsEquals */;\n};\n// &, &&\nCharScanners[38 /* Ampersand */] = s => {\n    if (nextChar(s) !== 38 /* Ampersand */) {\n        return 1572883 /* Ampersand */;\n    }\n    nextChar(s);\n    return 1638614 /* AmpersandAmpersand */;\n};\n// |, ||\nCharScanners[124 /* Bar */] = s => {\n    if (nextChar(s) !== 124 /* Bar */) {\n        return 1572884 /* Bar */;\n    }\n    nextChar(s);\n    return 1638549 /* BarBar */;\n};\n// .\nCharScanners[46 /* Dot */] = s => {\n    if (nextChar(s) <= 57 /* Nine */ && s.currentChar >= 48 /* Zero */) {\n        return scanNumber(s, true);\n    }\n    return 16393 /* Dot */;\n};\n// <, <=\nCharScanners[60 /* LessThan */] = s => {\n    if (nextChar(s) !== 61 /* Equals */) {\n        return 1638747 /* LessThan */;\n    }\n    nextChar(s);\n    return 1638749 /* LessThanEquals */;\n};\n// >, >=\nCharScanners[62 /* GreaterThan */] = s => {\n    if (nextChar(s) !== 61 /* Equals */) {\n        return 1638748 /* GreaterThan */;\n    }\n    nextChar(s);\n    return 1638750 /* GreaterThanEquals */;\n};\nCharScanners[37 /* Percent */] = returnToken(1638886 /* Percent */);\nCharScanners[40 /* OpenParen */] = returnToken(671751 /* OpenParen */);\nCharScanners[41 /* CloseParen */] = returnToken(1835019 /* CloseParen */);\nCharScanners[42 /* Asterisk */] = returnToken(1638885 /* Asterisk */);\nCharScanners[43 /* Plus */] = returnToken(623009 /* Plus */);\nCharScanners[44 /* Comma */] = returnToken(1572876 /* Comma */);\nCharScanners[45 /* Minus */] = returnToken(623010 /* Minus */);\nCharScanners[47 /* Slash */] = returnToken(1638887 /* Slash */);\nCharScanners[58 /* Colon */] = returnToken(1572879 /* Colon */);\nCharScanners[63 /* Question */] = returnToken(1572880 /* Question */);\nCharScanners[91 /* OpenBracket */] = returnToken(671757 /* OpenBracket */);\nCharScanners[93 /* CloseBracket */] = returnToken(1835022 /* CloseBracket */);\nCharScanners[123 /* OpenBrace */] = returnToken(131080 /* OpenBrace */);\nCharScanners[125 /* CloseBrace */] = returnToken(1835018 /* CloseBrace */);\n//# sourceMappingURL=expression-parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9iaW5kaW5nL2V4cHJlc3Npb24tcGFyc2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUvZGlzdC9lc20vYmluZGluZy9leHByZXNzaW9uLXBhcnNlci5qcz9mNzY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERJLCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBBY2Nlc3NLZXllZEV4cHJlc3Npb24sIEFjY2Vzc01lbWJlckV4cHJlc3Npb24sIEFjY2Vzc1Njb3BlRXhwcmVzc2lvbiwgQWNjZXNzVGhpc0V4cHJlc3Npb24sIEFycmF5QmluZGluZ1BhdHRlcm4sIEFycmF5TGl0ZXJhbEV4cHJlc3Npb24sIEFzc2lnbkV4cHJlc3Npb24sIEJpbmFyeUV4cHJlc3Npb24sIEJpbmRpbmdCZWhhdmlvckV4cHJlc3Npb24sIEJpbmRpbmdJZGVudGlmaWVyLCBDYWxsRnVuY3Rpb25FeHByZXNzaW9uLCBDYWxsTWVtYmVyRXhwcmVzc2lvbiwgQ2FsbFNjb3BlRXhwcmVzc2lvbiwgQ29uZGl0aW9uYWxFeHByZXNzaW9uLCBDdXN0b21FeHByZXNzaW9uLCBGb3JPZlN0YXRlbWVudCwgSW50ZXJwb2xhdGlvbiwgT2JqZWN0QmluZGluZ1BhdHRlcm4sIE9iamVjdExpdGVyYWxFeHByZXNzaW9uLCBQcmltaXRpdmVMaXRlcmFsRXhwcmVzc2lvbiwgVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uLCBUZW1wbGF0ZUV4cHJlc3Npb24sIFVuYXJ5RXhwcmVzc2lvbiwgVmFsdWVDb252ZXJ0ZXJFeHByZXNzaW9uLCB9IGZyb20gJy4vYXN0LmpzJztcbmV4cG9ydCBjb25zdCBJRXhwcmVzc2lvblBhcnNlciA9IERJLmNyZWF0ZUludGVyZmFjZSgnSUV4cHJlc3Npb25QYXJzZXInLCB4ID0+IHguc2luZ2xldG9uKEV4cHJlc3Npb25QYXJzZXIpKTtcbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5leHByZXNzaW9uTG9va3VwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5mb3JPZkxvb2t1cCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuaW50ZXJwb2xhdGlvbkxvb2t1cCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIHBhcnNlKGV4cHJlc3Npb24sIGJpbmRpbmdUeXBlKSB7XG4gICAgICAgIHN3aXRjaCAoYmluZGluZ1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMjA0OCAvKiBJbnRlcnBvbGF0aW9uICovOiB7XG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gdGhpcy5pbnRlcnBvbGF0aW9uTG9va3VwW2V4cHJlc3Npb25dO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdGhpcy5pbnRlcnBvbGF0aW9uTG9va3VwW2V4cHJlc3Npb25dID0gdGhpcy4kcGFyc2UoZXhwcmVzc2lvbiwgYmluZGluZ1R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDUzOSAvKiBGb3JDb21tYW5kICovOiB7XG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gdGhpcy5mb3JPZkxvb2t1cFtleHByZXNzaW9uXTtcbiAgICAgICAgICAgICAgICBpZiAoZm91bmQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRoaXMuZm9yT2ZMb29rdXBbZXhwcmVzc2lvbl0gPSB0aGlzLiRwYXJzZShleHByZXNzaW9uLCBiaW5kaW5nVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAvLyBBbGxvdyBlbXB0eSBzdHJpbmdzIGZvciBub3JtYWwgYmluZGluZ3MgYW5kIHRob3NlIHRoYXQgYXJlIGVtcHR5IGJ5IGRlZmF1bHQgKHN1Y2ggYXMgYSBjdXN0b20gYXR0cmlidXRlIHdpdGhvdXQgYW4gZXF1YWxzIHNpZ24pXG4gICAgICAgICAgICAgICAgLy8gQnV0IGRvbid0IGNhY2hlIGl0LCBiZWNhdXNlIGVtcHR5IHN0cmluZ3MgYXJlIGFsd2F5cyBpbnZhbGlkIGZvciBhbnkgb3RoZXIgdHlwZSBvZiBiaW5kaW5nXG4gICAgICAgICAgICAgICAgaWYgKGV4cHJlc3Npb24ubGVuZ3RoID09PSAwICYmIChiaW5kaW5nVHlwZSAmICg1MyAvKiBCaW5kQ29tbWFuZCAqLyB8IDQ5IC8qIE9uZVRpbWVDb21tYW5kICovIHwgNTAgLyogVG9WaWV3Q29tbWFuZCAqLykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcmltaXRpdmVMaXRlcmFsRXhwcmVzc2lvbi4kZW1wdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IHRoaXMuZXhwcmVzc2lvbkxvb2t1cFtleHByZXNzaW9uXTtcbiAgICAgICAgICAgICAgICBpZiAoZm91bmQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRoaXMuZXhwcmVzc2lvbkxvb2t1cFtleHByZXNzaW9uXSA9IHRoaXMuJHBhcnNlKGV4cHJlc3Npb24sIGJpbmRpbmdUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgICRwYXJzZShleHByZXNzaW9uLCBiaW5kaW5nVHlwZSkge1xuICAgICAgICAkc3RhdGUuaW5wdXQgPSBleHByZXNzaW9uO1xuICAgICAgICAkc3RhdGUubGVuZ3RoID0gZXhwcmVzc2lvbi5sZW5ndGg7XG4gICAgICAgICRzdGF0ZS5pbmRleCA9IDA7XG4gICAgICAgICRzdGF0ZS5jdXJyZW50Q2hhciA9IGV4cHJlc3Npb24uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlKCRzdGF0ZSwgMCAvKiBSZXNldCAqLywgNjEgLyogVmFyaWFkaWMgKi8sIGJpbmRpbmdUeXBlID09PSB2b2lkIDAgPyA1MyAvKiBCaW5kQ29tbWFuZCAqLyA6IGJpbmRpbmdUeXBlKTtcbiAgICB9XG59XG5leHBvcnQgdmFyIENoYXI7XG4oZnVuY3Rpb24gKENoYXIpIHtcbiAgICBDaGFyW0NoYXJbXCJOdWxsXCJdID0gMF0gPSBcIk51bGxcIjtcbiAgICBDaGFyW0NoYXJbXCJCYWNrc3BhY2VcIl0gPSA4XSA9IFwiQmFja3NwYWNlXCI7XG4gICAgQ2hhcltDaGFyW1wiVGFiXCJdID0gOV0gPSBcIlRhYlwiO1xuICAgIENoYXJbQ2hhcltcIkxpbmVGZWVkXCJdID0gMTBdID0gXCJMaW5lRmVlZFwiO1xuICAgIENoYXJbQ2hhcltcIlZlcnRpY2FsVGFiXCJdID0gMTFdID0gXCJWZXJ0aWNhbFRhYlwiO1xuICAgIENoYXJbQ2hhcltcIkZvcm1GZWVkXCJdID0gMTJdID0gXCJGb3JtRmVlZFwiO1xuICAgIENoYXJbQ2hhcltcIkNhcnJpYWdlUmV0dXJuXCJdID0gMTNdID0gXCJDYXJyaWFnZVJldHVyblwiO1xuICAgIENoYXJbQ2hhcltcIlNwYWNlXCJdID0gMzJdID0gXCJTcGFjZVwiO1xuICAgIENoYXJbQ2hhcltcIkV4Y2xhbWF0aW9uXCJdID0gMzNdID0gXCJFeGNsYW1hdGlvblwiO1xuICAgIENoYXJbQ2hhcltcIkRvdWJsZVF1b3RlXCJdID0gMzRdID0gXCJEb3VibGVRdW90ZVwiO1xuICAgIENoYXJbQ2hhcltcIkRvbGxhclwiXSA9IDM2XSA9IFwiRG9sbGFyXCI7XG4gICAgQ2hhcltDaGFyW1wiUGVyY2VudFwiXSA9IDM3XSA9IFwiUGVyY2VudFwiO1xuICAgIENoYXJbQ2hhcltcIkFtcGVyc2FuZFwiXSA9IDM4XSA9IFwiQW1wZXJzYW5kXCI7XG4gICAgQ2hhcltDaGFyW1wiU2luZ2xlUXVvdGVcIl0gPSAzOV0gPSBcIlNpbmdsZVF1b3RlXCI7XG4gICAgQ2hhcltDaGFyW1wiT3BlblBhcmVuXCJdID0gNDBdID0gXCJPcGVuUGFyZW5cIjtcbiAgICBDaGFyW0NoYXJbXCJDbG9zZVBhcmVuXCJdID0gNDFdID0gXCJDbG9zZVBhcmVuXCI7XG4gICAgQ2hhcltDaGFyW1wiQXN0ZXJpc2tcIl0gPSA0Ml0gPSBcIkFzdGVyaXNrXCI7XG4gICAgQ2hhcltDaGFyW1wiUGx1c1wiXSA9IDQzXSA9IFwiUGx1c1wiO1xuICAgIENoYXJbQ2hhcltcIkNvbW1hXCJdID0gNDRdID0gXCJDb21tYVwiO1xuICAgIENoYXJbQ2hhcltcIk1pbnVzXCJdID0gNDVdID0gXCJNaW51c1wiO1xuICAgIENoYXJbQ2hhcltcIkRvdFwiXSA9IDQ2XSA9IFwiRG90XCI7XG4gICAgQ2hhcltDaGFyW1wiU2xhc2hcIl0gPSA0N10gPSBcIlNsYXNoXCI7XG4gICAgQ2hhcltDaGFyW1wiU2VtaWNvbG9uXCJdID0gNTldID0gXCJTZW1pY29sb25cIjtcbiAgICBDaGFyW0NoYXJbXCJCYWNrdGlja1wiXSA9IDk2XSA9IFwiQmFja3RpY2tcIjtcbiAgICBDaGFyW0NoYXJbXCJPcGVuQnJhY2tldFwiXSA9IDkxXSA9IFwiT3BlbkJyYWNrZXRcIjtcbiAgICBDaGFyW0NoYXJbXCJCYWNrc2xhc2hcIl0gPSA5Ml0gPSBcIkJhY2tzbGFzaFwiO1xuICAgIENoYXJbQ2hhcltcIkNsb3NlQnJhY2tldFwiXSA9IDkzXSA9IFwiQ2xvc2VCcmFja2V0XCI7XG4gICAgQ2hhcltDaGFyW1wiQ2FyZXRcIl0gPSA5NF0gPSBcIkNhcmV0XCI7XG4gICAgQ2hhcltDaGFyW1wiVW5kZXJzY29yZVwiXSA9IDk1XSA9IFwiVW5kZXJzY29yZVwiO1xuICAgIENoYXJbQ2hhcltcIk9wZW5CcmFjZVwiXSA9IDEyM10gPSBcIk9wZW5CcmFjZVwiO1xuICAgIENoYXJbQ2hhcltcIkJhclwiXSA9IDEyNF0gPSBcIkJhclwiO1xuICAgIENoYXJbQ2hhcltcIkNsb3NlQnJhY2VcIl0gPSAxMjVdID0gXCJDbG9zZUJyYWNlXCI7XG4gICAgQ2hhcltDaGFyW1wiQ29sb25cIl0gPSA1OF0gPSBcIkNvbG9uXCI7XG4gICAgQ2hhcltDaGFyW1wiTGVzc1RoYW5cIl0gPSA2MF0gPSBcIkxlc3NUaGFuXCI7XG4gICAgQ2hhcltDaGFyW1wiRXF1YWxzXCJdID0gNjFdID0gXCJFcXVhbHNcIjtcbiAgICBDaGFyW0NoYXJbXCJHcmVhdGVyVGhhblwiXSA9IDYyXSA9IFwiR3JlYXRlclRoYW5cIjtcbiAgICBDaGFyW0NoYXJbXCJRdWVzdGlvblwiXSA9IDYzXSA9IFwiUXVlc3Rpb25cIjtcbiAgICBDaGFyW0NoYXJbXCJaZXJvXCJdID0gNDhdID0gXCJaZXJvXCI7XG4gICAgQ2hhcltDaGFyW1wiT25lXCJdID0gNDldID0gXCJPbmVcIjtcbiAgICBDaGFyW0NoYXJbXCJUd29cIl0gPSA1MF0gPSBcIlR3b1wiO1xuICAgIENoYXJbQ2hhcltcIlRocmVlXCJdID0gNTFdID0gXCJUaHJlZVwiO1xuICAgIENoYXJbQ2hhcltcIkZvdXJcIl0gPSA1Ml0gPSBcIkZvdXJcIjtcbiAgICBDaGFyW0NoYXJbXCJGaXZlXCJdID0gNTNdID0gXCJGaXZlXCI7XG4gICAgQ2hhcltDaGFyW1wiU2l4XCJdID0gNTRdID0gXCJTaXhcIjtcbiAgICBDaGFyW0NoYXJbXCJTZXZlblwiXSA9IDU1XSA9IFwiU2V2ZW5cIjtcbiAgICBDaGFyW0NoYXJbXCJFaWdodFwiXSA9IDU2XSA9IFwiRWlnaHRcIjtcbiAgICBDaGFyW0NoYXJbXCJOaW5lXCJdID0gNTddID0gXCJOaW5lXCI7XG4gICAgQ2hhcltDaGFyW1wiVXBwZXJBXCJdID0gNjVdID0gXCJVcHBlckFcIjtcbiAgICBDaGFyW0NoYXJbXCJVcHBlckJcIl0gPSA2Nl0gPSBcIlVwcGVyQlwiO1xuICAgIENoYXJbQ2hhcltcIlVwcGVyQ1wiXSA9IDY3XSA9IFwiVXBwZXJDXCI7XG4gICAgQ2hhcltDaGFyW1wiVXBwZXJEXCJdID0gNjhdID0gXCJVcHBlckRcIjtcbiAgICBDaGFyW0NoYXJbXCJVcHBlckVcIl0gPSA2OV0gPSBcIlVwcGVyRVwiO1xuICAgIENoYXJbQ2hhcltcIlVwcGVyRlwiXSA9IDcwXSA9IFwiVXBwZXJGXCI7XG4gICAgQ2hhcltDaGFyW1wiVXBwZXJHXCJdID0gNzFdID0gXCJVcHBlckdcIjtcbiAgICBDaGFyW0NoYXJbXCJVcHBlckhcIl0gPSA3Ml0gPSBcIlVwcGVySFwiO1xuICAgIENoYXJbQ2hhcltcIlVwcGVySVwiXSA9IDczXSA9IFwiVXBwZXJJXCI7XG4gICAgQ2hhcltDaGFyW1wiVXBwZXJKXCJdID0gNzRdID0gXCJVcHBlckpcIjtcbiAgICBDaGFyW0NoYXJbXCJVcHBlcktcIl0gPSA3NV0gPSBcIlVwcGVyS1wiO1xuICAgIENoYXJbQ2hhcltcIlVwcGVyTFwiXSA9IDc2XSA9IFwiVXBwZXJMXCI7XG4gICAgQ2hhcltDaGFyW1wiVXBwZXJNXCJdID0gNzddID0gXCJVcHBlck1cIjtcbiAgICBDaGFyW0NoYXJbXCJVcHBlck5cIl0gPSA3OF0gPSBcIlVwcGVyTlwiO1xuICAgIENoYXJbQ2hhcltcIlVwcGVyT1wiXSA9IDc5XSA9IFwiVXBwZXJPXCI7XG4gICAgQ2hhcltDaGFyW1wiVXBwZXJQXCJdID0gODBdID0gXCJVcHBlclBcIjtcbiAgICBDaGFyW0NoYXJbXCJVcHBlclFcIl0gPSA4MV0gPSBcIlVwcGVyUVwiO1xuICAgIENoYXJbQ2hhcltcIlVwcGVyUlwiXSA9IDgyXSA9IFwiVXBwZXJSXCI7XG4gICAgQ2hhcltDaGFyW1wiVXBwZXJTXCJdID0gODNdID0gXCJVcHBlclNcIjtcbiAgICBDaGFyW0NoYXJbXCJVcHBlclRcIl0gPSA4NF0gPSBcIlVwcGVyVFwiO1xuICAgIENoYXJbQ2hhcltcIlVwcGVyVVwiXSA9IDg1XSA9IFwiVXBwZXJVXCI7XG4gICAgQ2hhcltDaGFyW1wiVXBwZXJWXCJdID0gODZdID0gXCJVcHBlclZcIjtcbiAgICBDaGFyW0NoYXJbXCJVcHBlcldcIl0gPSA4N10gPSBcIlVwcGVyV1wiO1xuICAgIENoYXJbQ2hhcltcIlVwcGVyWFwiXSA9IDg4XSA9IFwiVXBwZXJYXCI7XG4gICAgQ2hhcltDaGFyW1wiVXBwZXJZXCJdID0gODldID0gXCJVcHBlcllcIjtcbiAgICBDaGFyW0NoYXJbXCJVcHBlclpcIl0gPSA5MF0gPSBcIlVwcGVyWlwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyQVwiXSA9IDk3XSA9IFwiTG93ZXJBXCI7XG4gICAgQ2hhcltDaGFyW1wiTG93ZXJCXCJdID0gOThdID0gXCJMb3dlckJcIjtcbiAgICBDaGFyW0NoYXJbXCJMb3dlckNcIl0gPSA5OV0gPSBcIkxvd2VyQ1wiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyRFwiXSA9IDEwMF0gPSBcIkxvd2VyRFwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyRVwiXSA9IDEwMV0gPSBcIkxvd2VyRVwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyRlwiXSA9IDEwMl0gPSBcIkxvd2VyRlwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyR1wiXSA9IDEwM10gPSBcIkxvd2VyR1wiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VySFwiXSA9IDEwNF0gPSBcIkxvd2VySFwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VySVwiXSA9IDEwNV0gPSBcIkxvd2VySVwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VySlwiXSA9IDEwNl0gPSBcIkxvd2VySlwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyS1wiXSA9IDEwN10gPSBcIkxvd2VyS1wiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyTFwiXSA9IDEwOF0gPSBcIkxvd2VyTFwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyTVwiXSA9IDEwOV0gPSBcIkxvd2VyTVwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyTlwiXSA9IDExMF0gPSBcIkxvd2VyTlwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyT1wiXSA9IDExMV0gPSBcIkxvd2VyT1wiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyUFwiXSA9IDExMl0gPSBcIkxvd2VyUFwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyUVwiXSA9IDExM10gPSBcIkxvd2VyUVwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyUlwiXSA9IDExNF0gPSBcIkxvd2VyUlwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyU1wiXSA9IDExNV0gPSBcIkxvd2VyU1wiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyVFwiXSA9IDExNl0gPSBcIkxvd2VyVFwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyVVwiXSA9IDExN10gPSBcIkxvd2VyVVwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyVlwiXSA9IDExOF0gPSBcIkxvd2VyVlwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyV1wiXSA9IDExOV0gPSBcIkxvd2VyV1wiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyWFwiXSA9IDEyMF0gPSBcIkxvd2VyWFwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyWVwiXSA9IDEyMV0gPSBcIkxvd2VyWVwiO1xuICAgIENoYXJbQ2hhcltcIkxvd2VyWlwiXSA9IDEyMl0gPSBcIkxvd2VyWlwiO1xufSkoQ2hhciB8fCAoQ2hhciA9IHt9KSk7XG5mdW5jdGlvbiB1bmVzY2FwZUNvZGUoY29kZSkge1xuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICBjYXNlIDk4IC8qIExvd2VyQiAqLzogcmV0dXJuIDggLyogQmFja3NwYWNlICovO1xuICAgICAgICBjYXNlIDExNiAvKiBMb3dlclQgKi86IHJldHVybiA5IC8qIFRhYiAqLztcbiAgICAgICAgY2FzZSAxMTAgLyogTG93ZXJOICovOiByZXR1cm4gMTAgLyogTGluZUZlZWQgKi87XG4gICAgICAgIGNhc2UgMTE4IC8qIExvd2VyViAqLzogcmV0dXJuIDExIC8qIFZlcnRpY2FsVGFiICovO1xuICAgICAgICBjYXNlIDEwMiAvKiBMb3dlckYgKi86IHJldHVybiAxMiAvKiBGb3JtRmVlZCAqLztcbiAgICAgICAgY2FzZSAxMTQgLyogTG93ZXJSICovOiByZXR1cm4gMTMgLyogQ2FycmlhZ2VSZXR1cm4gKi87XG4gICAgICAgIGNhc2UgMzQgLyogRG91YmxlUXVvdGUgKi86IHJldHVybiAzNCAvKiBEb3VibGVRdW90ZSAqLztcbiAgICAgICAgY2FzZSAzOSAvKiBTaW5nbGVRdW90ZSAqLzogcmV0dXJuIDM5IC8qIFNpbmdsZVF1b3RlICovO1xuICAgICAgICBjYXNlIDkyIC8qIEJhY2tzbGFzaCAqLzogcmV0dXJuIDkyIC8qIEJhY2tzbGFzaCAqLztcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIGNvZGU7XG4gICAgfVxufVxuZXhwb3J0IHZhciBBY2Nlc3M7XG4oZnVuY3Rpb24gKEFjY2Vzcykge1xuICAgIEFjY2Vzc1tBY2Nlc3NbXCJSZXNldFwiXSA9IDBdID0gXCJSZXNldFwiO1xuICAgIEFjY2Vzc1tBY2Nlc3NbXCJBbmNlc3RvclwiXSA9IDUxMV0gPSBcIkFuY2VzdG9yXCI7XG4gICAgQWNjZXNzW0FjY2Vzc1tcIlRoaXNcIl0gPSA1MTJdID0gXCJUaGlzXCI7XG4gICAgQWNjZXNzW0FjY2Vzc1tcIlNjb3BlXCJdID0gMTAyNF0gPSBcIlNjb3BlXCI7XG4gICAgQWNjZXNzW0FjY2Vzc1tcIk1lbWJlclwiXSA9IDIwNDhdID0gXCJNZW1iZXJcIjtcbiAgICBBY2Nlc3NbQWNjZXNzW1wiS2V5ZWRcIl0gPSA0MDk2XSA9IFwiS2V5ZWRcIjtcbn0pKEFjY2VzcyB8fCAoQWNjZXNzID0ge30pKTtcbmV4cG9ydCB2YXIgUHJlY2VkZW5jZTtcbihmdW5jdGlvbiAoUHJlY2VkZW5jZSkge1xuICAgIFByZWNlZGVuY2VbUHJlY2VkZW5jZVtcIlZhcmlhZGljXCJdID0gNjFdID0gXCJWYXJpYWRpY1wiO1xuICAgIFByZWNlZGVuY2VbUHJlY2VkZW5jZVtcIkFzc2lnblwiXSA9IDYyXSA9IFwiQXNzaWduXCI7XG4gICAgUHJlY2VkZW5jZVtQcmVjZWRlbmNlW1wiQ29uZGl0aW9uYWxcIl0gPSA2M10gPSBcIkNvbmRpdGlvbmFsXCI7XG4gICAgUHJlY2VkZW5jZVtQcmVjZWRlbmNlW1wiTG9naWNhbE9SXCJdID0gNjRdID0gXCJMb2dpY2FsT1JcIjtcbiAgICBQcmVjZWRlbmNlW1ByZWNlZGVuY2VbXCJMb2dpY2FsQU5EXCJdID0gMTI4XSA9IFwiTG9naWNhbEFORFwiO1xuICAgIFByZWNlZGVuY2VbUHJlY2VkZW5jZVtcIkVxdWFsaXR5XCJdID0gMTkyXSA9IFwiRXF1YWxpdHlcIjtcbiAgICBQcmVjZWRlbmNlW1ByZWNlZGVuY2VbXCJSZWxhdGlvbmFsXCJdID0gMjU2XSA9IFwiUmVsYXRpb25hbFwiO1xuICAgIFByZWNlZGVuY2VbUHJlY2VkZW5jZVtcIkFkZGl0aXZlXCJdID0gMzIwXSA9IFwiQWRkaXRpdmVcIjtcbiAgICBQcmVjZWRlbmNlW1ByZWNlZGVuY2VbXCJNdWx0aXBsaWNhdGl2ZVwiXSA9IDM4NF0gPSBcIk11bHRpcGxpY2F0aXZlXCI7XG4gICAgUHJlY2VkZW5jZVtQcmVjZWRlbmNlW1wiQmluYXJ5XCJdID0gNDQ4XSA9IFwiQmluYXJ5XCI7XG4gICAgUHJlY2VkZW5jZVtQcmVjZWRlbmNlW1wiTGVmdEhhbmRTaWRlXCJdID0gNDQ5XSA9IFwiTGVmdEhhbmRTaWRlXCI7XG4gICAgUHJlY2VkZW5jZVtQcmVjZWRlbmNlW1wiUHJpbWFyeVwiXSA9IDQ1MF0gPSBcIlByaW1hcnlcIjtcbiAgICBQcmVjZWRlbmNlW1ByZWNlZGVuY2VbXCJVbmFyeVwiXSA9IDQ1MV0gPSBcIlVuYXJ5XCI7XG59KShQcmVjZWRlbmNlIHx8IChQcmVjZWRlbmNlID0ge30pKTtcbnZhciBUb2tlbjtcbihmdW5jdGlvbiAoVG9rZW4pIHtcbiAgICBUb2tlbltUb2tlbltcIkVPRlwiXSA9IDE1NzI4NjRdID0gXCJFT0ZcIjtcbiAgICBUb2tlbltUb2tlbltcIkV4cHJlc3Npb25UZXJtaW5hbFwiXSA9IDEwNDg1NzZdID0gXCJFeHByZXNzaW9uVGVybWluYWxcIjtcbiAgICBUb2tlbltUb2tlbltcIkFjY2Vzc1Njb3BlVGVybWluYWxcIl0gPSA1MjQyODhdID0gXCJBY2Nlc3NTY29wZVRlcm1pbmFsXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJDbG9zaW5nVG9rZW5cIl0gPSAyNjIxNDRdID0gXCJDbG9zaW5nVG9rZW5cIjtcbiAgICBUb2tlbltUb2tlbltcIk9wZW5pbmdUb2tlblwiXSA9IDEzMTA3Ml0gPSBcIk9wZW5pbmdUb2tlblwiO1xuICAgIFRva2VuW1Rva2VuW1wiQmluYXJ5T3BcIl0gPSA2NTUzNl0gPSBcIkJpbmFyeU9wXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJVbmFyeU9wXCJdID0gMzI3NjhdID0gXCJVbmFyeU9wXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJMZWZ0SGFuZFNpZGVcIl0gPSAxNjM4NF0gPSBcIkxlZnRIYW5kU2lkZVwiO1xuICAgIFRva2VuW1Rva2VuW1wiU3RyaW5nT3JOdW1lcmljTGl0ZXJhbFwiXSA9IDEyMjg4XSA9IFwiU3RyaW5nT3JOdW1lcmljTGl0ZXJhbFwiO1xuICAgIFRva2VuW1Rva2VuW1wiTnVtZXJpY0xpdGVyYWxcIl0gPSA4MTkyXSA9IFwiTnVtZXJpY0xpdGVyYWxcIjtcbiAgICBUb2tlbltUb2tlbltcIlN0cmluZ0xpdGVyYWxcIl0gPSA0MDk2XSA9IFwiU3RyaW5nTGl0ZXJhbFwiO1xuICAgIFRva2VuW1Rva2VuW1wiSWRlbnRpZmllck5hbWVcIl0gPSAzMDcyXSA9IFwiSWRlbnRpZmllck5hbWVcIjtcbiAgICBUb2tlbltUb2tlbltcIktleXdvcmRcIl0gPSAyMDQ4XSA9IFwiS2V5d29yZFwiO1xuICAgIFRva2VuW1Rva2VuW1wiSWRlbnRpZmllclwiXSA9IDEwMjRdID0gXCJJZGVudGlmaWVyXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJDb250ZXh0dWFsXCJdID0gNTEyXSA9IFwiQ29udGV4dHVhbFwiO1xuICAgIFRva2VuW1Rva2VuW1wiUHJlY2VkZW5jZVwiXSA9IDQ0OF0gPSBcIlByZWNlZGVuY2VcIjtcbiAgICBUb2tlbltUb2tlbltcIlR5cGVcIl0gPSA2M10gPSBcIlR5cGVcIjtcbiAgICBUb2tlbltUb2tlbltcIkZhbHNlS2V5d29yZFwiXSA9IDIwNDhdID0gXCJGYWxzZUtleXdvcmRcIjtcbiAgICBUb2tlbltUb2tlbltcIlRydWVLZXl3b3JkXCJdID0gMjA0OV0gPSBcIlRydWVLZXl3b3JkXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJOdWxsS2V5d29yZFwiXSA9IDIwNTBdID0gXCJOdWxsS2V5d29yZFwiO1xuICAgIFRva2VuW1Rva2VuW1wiVW5kZWZpbmVkS2V5d29yZFwiXSA9IDIwNTFdID0gXCJVbmRlZmluZWRLZXl3b3JkXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJUaGlzU2NvcGVcIl0gPSAzMDc2XSA9IFwiVGhpc1Njb3BlXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJIb3N0U2NvcGVcIl0gPSAzMDc3XSA9IFwiSG9zdFNjb3BlXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJQYXJlbnRTY29wZVwiXSA9IDMwNzhdID0gXCJQYXJlbnRTY29wZVwiO1xuICAgIFRva2VuW1Rva2VuW1wiT3BlblBhcmVuXCJdID0gNjcxNzUxXSA9IFwiT3BlblBhcmVuXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJPcGVuQnJhY2VcIl0gPSAxMzEwODBdID0gXCJPcGVuQnJhY2VcIjtcbiAgICBUb2tlbltUb2tlbltcIkRvdFwiXSA9IDE2MzkzXSA9IFwiRG90XCI7XG4gICAgVG9rZW5bVG9rZW5bXCJDbG9zZUJyYWNlXCJdID0gMTgzNTAxOF0gPSBcIkNsb3NlQnJhY2VcIjtcbiAgICBUb2tlbltUb2tlbltcIkNsb3NlUGFyZW5cIl0gPSAxODM1MDE5XSA9IFwiQ2xvc2VQYXJlblwiO1xuICAgIFRva2VuW1Rva2VuW1wiQ29tbWFcIl0gPSAxNTcyODc2XSA9IFwiQ29tbWFcIjtcbiAgICBUb2tlbltUb2tlbltcIk9wZW5CcmFja2V0XCJdID0gNjcxNzU3XSA9IFwiT3BlbkJyYWNrZXRcIjtcbiAgICBUb2tlbltUb2tlbltcIkNsb3NlQnJhY2tldFwiXSA9IDE4MzUwMjJdID0gXCJDbG9zZUJyYWNrZXRcIjtcbiAgICBUb2tlbltUb2tlbltcIkNvbG9uXCJdID0gMTU3Mjg3OV0gPSBcIkNvbG9uXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJRdWVzdGlvblwiXSA9IDE1NzI4ODBdID0gXCJRdWVzdGlvblwiO1xuICAgIFRva2VuW1Rva2VuW1wiQW1wZXJzYW5kXCJdID0gMTU3Mjg4M10gPSBcIkFtcGVyc2FuZFwiO1xuICAgIFRva2VuW1Rva2VuW1wiQmFyXCJdID0gMTU3Mjg4NF0gPSBcIkJhclwiO1xuICAgIFRva2VuW1Rva2VuW1wiQmFyQmFyXCJdID0gMTYzODU0OV0gPSBcIkJhckJhclwiO1xuICAgIFRva2VuW1Rva2VuW1wiQW1wZXJzYW5kQW1wZXJzYW5kXCJdID0gMTYzODYxNF0gPSBcIkFtcGVyc2FuZEFtcGVyc2FuZFwiO1xuICAgIFRva2VuW1Rva2VuW1wiRXF1YWxzRXF1YWxzXCJdID0gMTYzODY3OV0gPSBcIkVxdWFsc0VxdWFsc1wiO1xuICAgIFRva2VuW1Rva2VuW1wiRXhjbGFtYXRpb25FcXVhbHNcIl0gPSAxNjM4NjgwXSA9IFwiRXhjbGFtYXRpb25FcXVhbHNcIjtcbiAgICBUb2tlbltUb2tlbltcIkVxdWFsc0VxdWFsc0VxdWFsc1wiXSA9IDE2Mzg2ODFdID0gXCJFcXVhbHNFcXVhbHNFcXVhbHNcIjtcbiAgICBUb2tlbltUb2tlbltcIkV4Y2xhbWF0aW9uRXF1YWxzRXF1YWxzXCJdID0gMTYzODY4Ml0gPSBcIkV4Y2xhbWF0aW9uRXF1YWxzRXF1YWxzXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJMZXNzVGhhblwiXSA9IDE2Mzg3NDddID0gXCJMZXNzVGhhblwiO1xuICAgIFRva2VuW1Rva2VuW1wiR3JlYXRlclRoYW5cIl0gPSAxNjM4NzQ4XSA9IFwiR3JlYXRlclRoYW5cIjtcbiAgICBUb2tlbltUb2tlbltcIkxlc3NUaGFuRXF1YWxzXCJdID0gMTYzODc0OV0gPSBcIkxlc3NUaGFuRXF1YWxzXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJHcmVhdGVyVGhhbkVxdWFsc1wiXSA9IDE2Mzg3NTBdID0gXCJHcmVhdGVyVGhhbkVxdWFsc1wiO1xuICAgIFRva2VuW1Rva2VuW1wiSW5LZXl3b3JkXCJdID0gMTY0MDc5OV0gPSBcIkluS2V5d29yZFwiO1xuICAgIFRva2VuW1Rva2VuW1wiSW5zdGFuY2VPZktleXdvcmRcIl0gPSAxNjQwODAwXSA9IFwiSW5zdGFuY2VPZktleXdvcmRcIjtcbiAgICBUb2tlbltUb2tlbltcIlBsdXNcIl0gPSA2MjMwMDldID0gXCJQbHVzXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJNaW51c1wiXSA9IDYyMzAxMF0gPSBcIk1pbnVzXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJUeXBlb2ZLZXl3b3JkXCJdID0gMzQ4NTFdID0gXCJUeXBlb2ZLZXl3b3JkXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJWb2lkS2V5d29yZFwiXSA9IDM0ODUyXSA9IFwiVm9pZEtleXdvcmRcIjtcbiAgICBUb2tlbltUb2tlbltcIkFzdGVyaXNrXCJdID0gMTYzODg4NV0gPSBcIkFzdGVyaXNrXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJQZXJjZW50XCJdID0gMTYzODg4Nl0gPSBcIlBlcmNlbnRcIjtcbiAgICBUb2tlbltUb2tlbltcIlNsYXNoXCJdID0gMTYzODg4N10gPSBcIlNsYXNoXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJFcXVhbHNcIl0gPSAxMDQ4NjE2XSA9IFwiRXF1YWxzXCI7XG4gICAgVG9rZW5bVG9rZW5bXCJFeGNsYW1hdGlvblwiXSA9IDMyODA5XSA9IFwiRXhjbGFtYXRpb25cIjtcbiAgICBUb2tlbltUb2tlbltcIlRlbXBsYXRlVGFpbFwiXSA9IDU0MDcxNF0gPSBcIlRlbXBsYXRlVGFpbFwiO1xuICAgIFRva2VuW1Rva2VuW1wiVGVtcGxhdGVDb250aW51YXRpb25cIl0gPSA1NDA3MTVdID0gXCJUZW1wbGF0ZUNvbnRpbnVhdGlvblwiO1xuICAgIFRva2VuW1Rva2VuW1wiT2ZLZXl3b3JkXCJdID0gMTA1MTE4MF0gPSBcIk9mS2V5d29yZFwiO1xufSkoVG9rZW4gfHwgKFRva2VuID0ge30pKTtcbmNvbnN0ICRmYWxzZSA9IFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uLiRmYWxzZTtcbmNvbnN0ICR0cnVlID0gUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24uJHRydWU7XG5jb25zdCAkbnVsbCA9IFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uLiRudWxsO1xuY29uc3QgJHVuZGVmaW5lZCA9IFByaW1pdGl2ZUxpdGVyYWxFeHByZXNzaW9uLiR1bmRlZmluZWQ7XG5jb25zdCAkdGhpcyA9IEFjY2Vzc1RoaXNFeHByZXNzaW9uLiR0aGlzO1xuY29uc3QgJGhvc3QgPSBBY2Nlc3NUaGlzRXhwcmVzc2lvbi4kaG9zdDtcbmNvbnN0ICRwYXJlbnQgPSBBY2Nlc3NUaGlzRXhwcmVzc2lvbi4kcGFyZW50O1xuZXhwb3J0IHZhciBCaW5kaW5nVHlwZTtcbihmdW5jdGlvbiAoQmluZGluZ1R5cGUpIHtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xuICAgIC8vIGlmIGEgYmluZGluZyBjb21tYW5kIGlzIHRha2luZyBvdmVyIHRoZSBwcm9jZXNzaW5nIG9mIGFuIGF0dHJpYnV0ZVxuICAgIC8vIHRoZW4gaXQgc2hvdWxkIGFkZCB0aGlzIGZsYWcgdG8gaXRzIGJpbmRpbmcgdHlwZVxuICAgIC8vIHdoaWNoIHRoZW4gdGVsbCB0aGUgYmluZGVyIHRvIHByb2NlZWQgdGhlIGF0dHJpYnV0ZSBjb21waWxhdGlvbiBhcyBpcyxcbiAgICAvLyBpbnN0ZWFkIG9mIG5vcm1hbCBwcm9jZXNzOiB0cmFuc2Zvcm1hdGlvbiAtPiBjb21waWxhdGlvblxuICAgIEJpbmRpbmdUeXBlW0JpbmRpbmdUeXBlW1wiSWdub3JlQXR0clwiXSA9IDQwOTZdID0gXCJJZ25vcmVBdHRyXCI7XG4gICAgQmluZGluZ1R5cGVbQmluZGluZ1R5cGVbXCJJbnRlcnBvbGF0aW9uXCJdID0gMjA0OF0gPSBcIkludGVycG9sYXRpb25cIjtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIklzUmVmXCJdID0gNTM3Nl0gPSBcIklzUmVmXCI7XG4gICAgQmluZGluZ1R5cGVbQmluZGluZ1R5cGVbXCJJc0l0ZXJhdG9yXCJdID0gNTEyXSA9IFwiSXNJdGVyYXRvclwiO1xuICAgIEJpbmRpbmdUeXBlW0JpbmRpbmdUeXBlW1wiSXNDdXN0b21cIl0gPSAyNTZdID0gXCJJc0N1c3RvbVwiO1xuICAgIEJpbmRpbmdUeXBlW0JpbmRpbmdUeXBlW1wiSXNGdW5jdGlvblwiXSA9IDEyOF0gPSBcIklzRnVuY3Rpb25cIjtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIklzRXZlbnRcIl0gPSA2NF0gPSBcIklzRXZlbnRcIjtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIklzUHJvcGVydHlcIl0gPSAzMl0gPSBcIklzUHJvcGVydHlcIjtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIklzQ29tbWFuZFwiXSA9IDE2XSA9IFwiSXNDb21tYW5kXCI7XG4gICAgQmluZGluZ1R5cGVbQmluZGluZ1R5cGVbXCJJc1Byb3BlcnR5Q29tbWFuZFwiXSA9IDQ4XSA9IFwiSXNQcm9wZXJ0eUNvbW1hbmRcIjtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIklzRXZlbnRDb21tYW5kXCJdID0gODBdID0gXCJJc0V2ZW50Q29tbWFuZFwiO1xuICAgIEJpbmRpbmdUeXBlW0JpbmRpbmdUeXBlW1wiRGVsZWdhdGlvblN0cmF0ZWd5RGVsdGFcIl0gPSA2XSA9IFwiRGVsZWdhdGlvblN0cmF0ZWd5RGVsdGFcIjtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIkNvbW1hbmRcIl0gPSAxNV0gPSBcIkNvbW1hbmRcIjtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIk9uZVRpbWVDb21tYW5kXCJdID0gNDldID0gXCJPbmVUaW1lQ29tbWFuZFwiO1xuICAgIEJpbmRpbmdUeXBlW0JpbmRpbmdUeXBlW1wiVG9WaWV3Q29tbWFuZFwiXSA9IDUwXSA9IFwiVG9WaWV3Q29tbWFuZFwiO1xuICAgIEJpbmRpbmdUeXBlW0JpbmRpbmdUeXBlW1wiRnJvbVZpZXdDb21tYW5kXCJdID0gNTFdID0gXCJGcm9tVmlld0NvbW1hbmRcIjtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIlR3b1dheUNvbW1hbmRcIl0gPSA1Ml0gPSBcIlR3b1dheUNvbW1hbmRcIjtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIkJpbmRDb21tYW5kXCJdID0gNTNdID0gXCJCaW5kQ29tbWFuZFwiO1xuICAgIEJpbmRpbmdUeXBlW0JpbmRpbmdUeXBlW1wiVHJpZ2dlckNvbW1hbmRcIl0gPSA0MTgyXSA9IFwiVHJpZ2dlckNvbW1hbmRcIjtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIkNhcHR1cmVDb21tYW5kXCJdID0gNDE4M10gPSBcIkNhcHR1cmVDb21tYW5kXCI7XG4gICAgQmluZGluZ1R5cGVbQmluZGluZ1R5cGVbXCJEZWxlZ2F0ZUNvbW1hbmRcIl0gPSA0MTg0XSA9IFwiRGVsZWdhdGVDb21tYW5kXCI7XG4gICAgQmluZGluZ1R5cGVbQmluZGluZ1R5cGVbXCJDYWxsQ29tbWFuZFwiXSA9IDE1M10gPSBcIkNhbGxDb21tYW5kXCI7XG4gICAgQmluZGluZ1R5cGVbQmluZGluZ1R5cGVbXCJPcHRpb25zQ29tbWFuZFwiXSA9IDI2XSA9IFwiT3B0aW9uc0NvbW1hbmRcIjtcbiAgICBCaW5kaW5nVHlwZVtCaW5kaW5nVHlwZVtcIkZvckNvbW1hbmRcIl0gPSA1MzldID0gXCJGb3JDb21tYW5kXCI7XG4gICAgQmluZGluZ1R5cGVbQmluZGluZ1R5cGVbXCJDdXN0b21Db21tYW5kXCJdID0gMjg0XSA9IFwiQ3VzdG9tQ29tbWFuZFwiO1xufSkoQmluZGluZ1R5cGUgfHwgKEJpbmRpbmdUeXBlID0ge30pKTtcbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L2luZGVudCAqL1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIFBhcnNlclN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0SW5kZXggPSAwO1xuICAgICAgICB0aGlzLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudFRva2VuID0gMTU3Mjg2NCAvKiBFT0YgKi87XG4gICAgICAgIHRoaXMudG9rZW5WYWx1ZSA9ICcnO1xuICAgICAgICB0aGlzLmFzc2lnbmFibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5jdXJyZW50Q2hhciA9IGlucHV0LmNoYXJDb2RlQXQoMCk7XG4gICAgfVxuICAgIGdldCB0b2tlblJhdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQuc2xpY2UodGhpcy5zdGFydEluZGV4LCB0aGlzLmluZGV4KTtcbiAgICB9XG59XG5jb25zdCAkc3RhdGUgPSBuZXcgUGFyc2VyU3RhdGUoJycpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRXhwcmVzc2lvbihpbnB1dCwgYmluZGluZ1R5cGUpIHtcbiAgICAkc3RhdGUuaW5wdXQgPSBpbnB1dDtcbiAgICAkc3RhdGUubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICRzdGF0ZS5pbmRleCA9IDA7XG4gICAgJHN0YXRlLmN1cnJlbnRDaGFyID0gaW5wdXQuY2hhckNvZGVBdCgwKTtcbiAgICByZXR1cm4gcGFyc2UoJHN0YXRlLCAwIC8qIFJlc2V0ICovLCA2MSAvKiBWYXJpYWRpYyAqLywgYmluZGluZ1R5cGUgPT09IHZvaWQgMCA/IDUzIC8qIEJpbmRDb21tYW5kICovIDogYmluZGluZ1R5cGUpO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuLy8gVGhpcyBpcyBwZXJmb3JtYW5jZS1jcml0aWNhbCBjb2RlIHdoaWNoIGZvbGxvd3MgYSBzdWJzZXQgb2YgdGhlIHdlbGwta25vd24gRVMgc3BlYy5cbi8vIEtub3dpbmcgdGhlIHNwZWMsIG9yIHBhcnNlcnMgaW4gZ2VuZXJhbCwgd2lsbCBoZWxwIHdpdGggdW5kZXJzdGFuZGluZyB0aGlzIGNvZGUgYW5kIGl0IGlzIHRoZXJlZm9yZSBub3QgdGhlXG4vLyBzaW5nbGUgc291cmNlIG9mIGluZm9ybWF0aW9uIGZvciBiZWluZyBhYmxlIHRvIGZpZ3VyZSBpdCBvdXQuXG4vLyBJdCBnZW5lcmFsbHkgZG9lcyBub3QgbmVlZCB0byBjaGFuZ2UgdW5sZXNzIHRoZSBzcGVjIGNoYW5nZXMgb3Igc3BlYyB2aW9sYXRpb25zIGFyZSBmb3VuZCwgb3Igb3B0aW1pemF0aW9uXG4vLyBvcHBvcnR1bml0aWVzIGFyZSBmb3VuZCAod2hpY2ggd291bGQgbGlrZWx5IG5vdCBmaXggdGhlc2Ugd2FybmluZ3MgaW4gYW55IGNhc2UpLlxuLy8gSXQncyB0aGVyZWZvcmUgbm90IGNvbnNpZGVyZWQgdG8gaGF2ZSBhbnkgdGFuZ2libGUgaW1wYWN0IG9uIHRoZSBtYWludGFpbmFiaWxpdHkgb2YgdGhlIGNvZGUgYmFzZS5cbi8vIEZvciByZWZlcmVuY2UsIG1vc3Qgb2YgdGhlIHBhcnNpbmcgbG9naWMgaXMgYmFzZWQgb246IGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtZXhwcmVzc2lvbnNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGluZXMtcGVyLWZ1bmN0aW9uXG5leHBvcnQgZnVuY3Rpb24gcGFyc2Uoc3RhdGUsIGFjY2VzcywgbWluUHJlY2VkZW5jZSwgYmluZGluZ1R5cGUpIHtcbiAgICBpZiAoYmluZGluZ1R5cGUgPT09IDI4NCAvKiBDdXN0b21Db21tYW5kICovKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3VzdG9tRXhwcmVzc2lvbihzdGF0ZS5pbnB1dCk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5pbmRleCA9PT0gMCkge1xuICAgICAgICBpZiAoYmluZGluZ1R5cGUgJiAyMDQ4IC8qIEludGVycG9sYXRpb24gKi8pIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnRlcnBvbGF0aW9uKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0VG9rZW4oc3RhdGUpO1xuICAgICAgICBpZiAoc3RhdGUuY3VycmVudFRva2VuICYgMTA0ODU3NiAvKiBFeHByZXNzaW9uVGVybWluYWwgKi8pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzdGFydCBvZiBleHByZXNzaW9uOiAnJHtzdGF0ZS5pbnB1dH0nYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGUuYXNzaWduYWJsZSA9IDQ0OCAvKiBCaW5hcnkgKi8gPiBtaW5QcmVjZWRlbmNlO1xuICAgIGxldCByZXN1bHQgPSB2b2lkIDA7XG4gICAgaWYgKHN0YXRlLmN1cnJlbnRUb2tlbiAmIDMyNzY4IC8qIFVuYXJ5T3AgKi8pIHtcbiAgICAgICAgLyoqIHBhcnNlVW5hcnlFeHByZXNzaW9uXG4gICAgICAgICAqIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXVuYXJ5LW9wZXJhdG9yc1xuICAgICAgICAgKlxuICAgICAgICAgKiBVbmFyeUV4cHJlc3Npb24gOlxuICAgICAgICAgKiAxLiBMZWZ0SGFuZFNpZGVFeHByZXNzaW9uXG4gICAgICAgICAqIDIuIHZvaWQgVW5hcnlFeHByZXNzaW9uXG4gICAgICAgICAqIDMuIHR5cGVvZiBVbmFyeUV4cHJlc3Npb25cbiAgICAgICAgICogNC4gKyBVbmFyeUV4cHJlc3Npb25cbiAgICAgICAgICogNS4gLSBVbmFyeUV4cHJlc3Npb25cbiAgICAgICAgICogNi4gISBVbmFyeUV4cHJlc3Npb25cbiAgICAgICAgICpcbiAgICAgICAgICogSXNWYWxpZEFzc2lnbm1lbnRUYXJnZXRcbiAgICAgICAgICogMiwzLDQsNSw2ID0gZmFsc2VcbiAgICAgICAgICogMSA9IHNlZSBwYXJzZUxlZnRIYW5kU2lkZUV4cHJlc3Npb25cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogdGVjaG5pY2FsbHkgd2Ugc2hvdWxkIHRocm93IG9uICsrIC8gLS0gLyArKysgLyAtLS0sIGJ1dCB0aGVyZSdzIG5vdGhpbmcgdG8gZ2FpbiBmcm9tIHRoYXRcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IG9wID0gVG9rZW5WYWx1ZXNbc3RhdGUuY3VycmVudFRva2VuICYgNjMgLyogVHlwZSAqL107XG4gICAgICAgIG5leHRUb2tlbihzdGF0ZSk7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBVbmFyeUV4cHJlc3Npb24ob3AsIHBhcnNlKHN0YXRlLCBhY2Nlc3MsIDQ0OSAvKiBMZWZ0SGFuZFNpZGUgKi8sIGJpbmRpbmdUeXBlKSk7XG4gICAgICAgIHN0YXRlLmFzc2lnbmFibGUgPSBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8qKiBwYXJzZVByaW1hcnlFeHByZXNzaW9uXG4gICAgICAgICAqIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXByaW1hcnktZXhwcmVzc2lvblxuICAgICAgICAgKlxuICAgICAgICAgKiBQcmltYXJ5RXhwcmVzc2lvbiA6XG4gICAgICAgICAqIDEuIHRoaXNcbiAgICAgICAgICogMi4gSWRlbnRpZmllck5hbWVcbiAgICAgICAgICogMy4gTGl0ZXJhbFxuICAgICAgICAgKiA0LiBBcnJheUxpdGVyYWxFeHByZXNzaW9uXG4gICAgICAgICAqIDUuIE9iamVjdExpdGVyYWxFeHByZXNzaW9uXG4gICAgICAgICAqIDYuIFRlbXBsYXRlTGl0ZXJhbFxuICAgICAgICAgKiA3LiBQYXJlbnRoZXNpemVkRXhwcmVzc2lvblxuICAgICAgICAgKlxuICAgICAgICAgKiBMaXRlcmFsIDpcbiAgICAgICAgICogTnVsbExpdGVyYWxcbiAgICAgICAgICogQm9vbGVhbkxpdGVyYWxcbiAgICAgICAgICogTnVtZXJpY0xpdGVyYWxcbiAgICAgICAgICogU3RyaW5nTGl0ZXJhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBQYXJlbnRoZXNpemVkRXhwcmVzc2lvbiA6XG4gICAgICAgICAqICggQXNzaWdubWVudEV4cHJlc3Npb24gKVxuICAgICAgICAgKlxuICAgICAgICAgKiBJc1ZhbGlkQXNzaWdubWVudFRhcmdldFxuICAgICAgICAgKiAxLDMsNCw1LDYsNyA9IGZhbHNlXG4gICAgICAgICAqIDIgPSB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBwcmltYXJ5OiBzd2l0Y2ggKHN0YXRlLmN1cnJlbnRUb2tlbikge1xuICAgICAgICAgICAgY2FzZSAzMDc4IC8qIFBhcmVudFNjb3BlICovOiAvLyAkcGFyZW50XG4gICAgICAgICAgICAgICAgc3RhdGUuYXNzaWduYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzKys7IC8vIGFuY2VzdG9yXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25zdW1lT3B0KHN0YXRlLCAxNjM5MyAvKiBEb3QgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuY3VycmVudFRva2VuID09PSAxNjM5MyAvKiBEb3QgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERvdWJsZSBkb3QgYW5kIHNwcmVhZCBvcGVyYXRvcnMgYXJlIG5vdCBzdXBwb3J0ZWQ6ICcke3N0YXRlLmlucHV0fSdgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLmN1cnJlbnRUb2tlbiA9PT0gMTU3Mjg2NCAvKiBFT0YgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGlkZW50aWZpZXI6ICcke3N0YXRlLmlucHV0fSdgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5jdXJyZW50VG9rZW4gJiA1MjQyODggLyogQWNjZXNzU2NvcGVUZXJtaW5hbCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5jZXN0b3IgPSBhY2Nlc3MgJiA1MTEgLyogQW5jZXN0b3IgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBhbmNlc3RvciA9PT0gMCA/ICR0aGlzIDogYW5jZXN0b3IgPT09IDEgPyAkcGFyZW50IDogbmV3IEFjY2Vzc1RoaXNFeHByZXNzaW9uKGFuY2VzdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VzcyA9IDUxMiAvKiBUaGlzICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgcHJpbWFyeTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtZW1iZXIgZXhwcmVzc2lvbjogJyR7c3RhdGUuaW5wdXR9J2ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoc3RhdGUuY3VycmVudFRva2VuID09PSAzMDc4IC8qIFBhcmVudFNjb3BlICovKTtcbiAgICAgICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgICAgICAgIGNhc2UgMTAyNCAvKiBJZGVudGlmaWVyICovOiAvLyBpZGVudGlmaWVyXG4gICAgICAgICAgICAgICAgaWYgKGJpbmRpbmdUeXBlICYgNTEyIC8qIElzSXRlcmF0b3IgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEJpbmRpbmdJZGVudGlmaWVyKHN0YXRlLnRva2VuVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEFjY2Vzc1Njb3BlRXhwcmVzc2lvbihzdGF0ZS50b2tlblZhbHVlLCBhY2Nlc3MgJiA1MTEgLyogQW5jZXN0b3IgKi8pO1xuICAgICAgICAgICAgICAgICAgICBhY2Nlc3MgPSAxMDI0IC8qIFNjb3BlICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZS5hc3NpZ25hYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBuZXh0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzMDc2IC8qIFRoaXNTY29wZSAqLzogLy8gJHRoaXNcbiAgICAgICAgICAgICAgICBzdGF0ZS5hc3NpZ25hYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbmV4dFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAkdGhpcztcbiAgICAgICAgICAgICAgICBhY2Nlc3MgPSA1MTIgLyogVGhpcyAqLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzA3NyAvKiBIb3N0U2NvcGUgKi86IC8vICRob3N0XG4gICAgICAgICAgICAgICAgc3RhdGUuYXNzaWduYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG5leHRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gJGhvc3Q7XG4gICAgICAgICAgICAgICAgYWNjZXNzID0gNTEyIC8qIFRoaXMgKi87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY3MTc1MSAvKiBPcGVuUGFyZW4gKi86IC8vIHBhcmVudGhlc2l6ZWQgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgIG5leHRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcGFyc2Uoc3RhdGUsIDAgLyogUmVzZXQgKi8sIDYyIC8qIEFzc2lnbiAqLywgYmluZGluZ1R5cGUpO1xuICAgICAgICAgICAgICAgIGNvbnN1bWUoc3RhdGUsIDE4MzUwMTkgLyogQ2xvc2VQYXJlbiAqLyk7XG4gICAgICAgICAgICAgICAgYWNjZXNzID0gMCAvKiBSZXNldCAqLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjcxNzU3IC8qIE9wZW5CcmFja2V0ICovOlxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHBhcnNlQXJyYXlMaXRlcmFsRXhwcmVzc2lvbihzdGF0ZSwgYWNjZXNzLCBiaW5kaW5nVHlwZSk7XG4gICAgICAgICAgICAgICAgYWNjZXNzID0gMCAvKiBSZXNldCAqLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTMxMDgwIC8qIE9wZW5CcmFjZSAqLzpcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBwYXJzZU9iamVjdExpdGVyYWxFeHByZXNzaW9uKHN0YXRlLCBiaW5kaW5nVHlwZSk7XG4gICAgICAgICAgICAgICAgYWNjZXNzID0gMCAvKiBSZXNldCAqLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTQwNzE0IC8qIFRlbXBsYXRlVGFpbCAqLzpcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgVGVtcGxhdGVFeHByZXNzaW9uKFtzdGF0ZS50b2tlblZhbHVlXSk7XG4gICAgICAgICAgICAgICAgc3RhdGUuYXNzaWduYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG5leHRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICAgICAgYWNjZXNzID0gMCAvKiBSZXNldCAqLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTQwNzE1IC8qIFRlbXBsYXRlQ29udGludWF0aW9uICovOlxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHBhcnNlVGVtcGxhdGUoc3RhdGUsIGFjY2VzcywgYmluZGluZ1R5cGUsIHJlc3VsdCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGFjY2VzcyA9IDAgLyogUmVzZXQgKi87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQwOTYgLyogU3RyaW5nTGl0ZXJhbCAqLzpcbiAgICAgICAgICAgIGNhc2UgODE5MiAvKiBOdW1lcmljTGl0ZXJhbCAqLzpcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24oc3RhdGUudG9rZW5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgc3RhdGUuYXNzaWduYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG5leHRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICAgICAgYWNjZXNzID0gMCAvKiBSZXNldCAqLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjA1MCAvKiBOdWxsS2V5d29yZCAqLzpcbiAgICAgICAgICAgIGNhc2UgMjA1MSAvKiBVbmRlZmluZWRLZXl3b3JkICovOlxuICAgICAgICAgICAgY2FzZSAyMDQ5IC8qIFRydWVLZXl3b3JkICovOlxuICAgICAgICAgICAgY2FzZSAyMDQ4IC8qIEZhbHNlS2V5d29yZCAqLzpcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBUb2tlblZhbHVlc1tzdGF0ZS5jdXJyZW50VG9rZW4gJiA2MyAvKiBUeXBlICovXTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hc3NpZ25hYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbmV4dFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgICAgICBhY2Nlc3MgPSAwIC8qIFJlc2V0ICovO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaW5kZXggPj0gc3RhdGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogJyR7c3RhdGUuaW5wdXR9J2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmNvbnN1bWVkIHRva2VuOiAnJHtzdGF0ZS5pbnB1dH0nYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChiaW5kaW5nVHlwZSAmIDUxMiAvKiBJc0l0ZXJhdG9yICovKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRm9yT2ZTdGF0ZW1lbnQoc3RhdGUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDQ0OSAvKiBMZWZ0SGFuZFNpZGUgKi8gPCBtaW5QcmVjZWRlbmNlKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogcGFyc2VNZW1iZXJFeHByZXNzaW9uIChUb2tlbi5Eb3QsIFRva2VuLk9wZW5CcmFja2V0LCBUb2tlbi5UZW1wbGF0ZUNvbnRpbnVhdGlvbilcbiAgICAgICAgICogTWVtYmVyRXhwcmVzc2lvbiA6XG4gICAgICAgICAqIDEuIFByaW1hcnlFeHByZXNzaW9uXG4gICAgICAgICAqIDIuIE1lbWJlckV4cHJlc3Npb24gWyBBc3NpZ25tZW50RXhwcmVzc2lvbiBdXG4gICAgICAgICAqIDMuIE1lbWJlckV4cHJlc3Npb24gLiBJZGVudGlmaWVyTmFtZVxuICAgICAgICAgKiA0LiBNZW1iZXJFeHByZXNzaW9uIFRlbXBsYXRlTGl0ZXJhbFxuICAgICAgICAgKlxuICAgICAgICAgKiBJc1ZhbGlkQXNzaWdubWVudFRhcmdldFxuICAgICAgICAgKiAxLDQgPSBmYWxzZVxuICAgICAgICAgKiAyLDMgPSB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqXG4gICAgICAgICAqIHBhcnNlQ2FsbEV4cHJlc3Npb24gKFRva2VuLk9wZW5QYXJlbilcbiAgICAgICAgICogQ2FsbEV4cHJlc3Npb24gOlxuICAgICAgICAgKiAxLiBNZW1iZXJFeHByZXNzaW9uIEFyZ3VtZW50c1xuICAgICAgICAgKiAyLiBDYWxsRXhwcmVzc2lvbiBBcmd1bWVudHNcbiAgICAgICAgICogMy4gQ2FsbEV4cHJlc3Npb24gWyBBc3NpZ25tZW50RXhwcmVzc2lvbiBdXG4gICAgICAgICAqIDQuIENhbGxFeHByZXNzaW9uIC4gSWRlbnRpZmllck5hbWVcbiAgICAgICAgICogNS4gQ2FsbEV4cHJlc3Npb24gVGVtcGxhdGVMaXRlcmFsXG4gICAgICAgICAqXG4gICAgICAgICAqIElzVmFsaWRBc3NpZ25tZW50VGFyZ2V0XG4gICAgICAgICAqIDEsMiw1ID0gZmFsc2VcbiAgICAgICAgICogMyw0ID0gdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgbGV0IG5hbWUgPSBzdGF0ZS50b2tlblZhbHVlO1xuICAgICAgICB3aGlsZSAoKHN0YXRlLmN1cnJlbnRUb2tlbiAmIDE2Mzg0IC8qIExlZnRIYW5kU2lkZSAqLykgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBhcmdzID0gW107XG4gICAgICAgICAgICBsZXQgc3RyaW5ncztcbiAgICAgICAgICAgIHN3aXRjaCAoc3RhdGUuY3VycmVudFRva2VuKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxNjM5MyAvKiBEb3QgKi86XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmFzc2lnbmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHN0YXRlLmN1cnJlbnRUb2tlbiAmIDMwNzIgLyogSWRlbnRpZmllck5hbWUgKi8pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGlkZW50aWZpZXI6ICcke3N0YXRlLmlucHV0fSdgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gc3RhdGUudG9rZW5WYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hhbmdlICRUaGlzIHRvICRTY29wZSwgY2hhbmdlICRTY29wZSB0byAkTWVtYmVyLCBrZWVwICRNZW1iZXIgYXMtaXMsIGNoYW5nZSAkS2V5ZWQgdG8gJE1lbWJlciwgZGlzcmVnYXJkIG90aGVyIGZsYWdzXG4gICAgICAgICAgICAgICAgICAgIGFjY2VzcyA9ICgoYWNjZXNzICYgKDUxMiAvKiBUaGlzICovIHwgMTAyNCAvKiBTY29wZSAqLykpIDw8IDEpIHwgKGFjY2VzcyAmIDIwNDggLyogTWVtYmVyICovKSB8ICgoYWNjZXNzICYgNDA5NiAvKiBLZXllZCAqLykgPj4gMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50VG9rZW4gPT09IDY3MTc1MSAvKiBPcGVuUGFyZW4gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY2Nlc3MgPT09IDAgLyogUmVzZXQgKi8pIHsgLy8gaWYgdGhlIGxlZnQgaGFuZCBzaWRlIGlzIGEgbGl0ZXJhbCwgbWFrZSBzdXJlIHdlIHBhcnNlIGEgQ2FsbE1lbWJlckV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3MgPSAyMDQ4IC8qIE1lbWJlciAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2Nlc3MgJiAxMDI0IC8qIFNjb3BlICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgQWNjZXNzU2NvcGVFeHByZXNzaW9uKG5hbWUsIHJlc3VsdC5hbmNlc3RvciwgcmVzdWx0ID09PSAkaG9zdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7IC8vIGlmIGl0J3Mgbm90ICRTY29wZSwgaXQncyAkTWVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgQWNjZXNzTWVtYmVyRXhwcmVzc2lvbihyZXN1bHQsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjcxNzU3IC8qIE9wZW5CcmFja2V0ICovOlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5hc3NpZ25hYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzID0gNDA5NiAvKiBLZXllZCAqLztcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEFjY2Vzc0tleWVkRXhwcmVzc2lvbihyZXN1bHQsIHBhcnNlKHN0YXRlLCAwIC8qIFJlc2V0ICovLCA2MiAvKiBBc3NpZ24gKi8sIGJpbmRpbmdUeXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN1bWUoc3RhdGUsIDE4MzUwMjIgLyogQ2xvc2VCcmFja2V0ICovKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2NzE3NTEgLyogT3BlblBhcmVuICovOlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5hc3NpZ25hYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5jdXJyZW50VG9rZW4gIT09IDE4MzUwMTkgLyogQ2xvc2VQYXJlbiAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKHBhcnNlKHN0YXRlLCAwIC8qIFJlc2V0ICovLCA2MiAvKiBBc3NpZ24gKi8sIGJpbmRpbmdUeXBlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnN1bWVPcHQoc3RhdGUsIDE1NzI4NzYgLyogQ29tbWEgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3VtZShzdGF0ZSwgMTgzNTAxOSAvKiBDbG9zZVBhcmVuICovKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjY2VzcyAmIDEwMjQgLyogU2NvcGUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBDYWxsU2NvcGVFeHByZXNzaW9uKG5hbWUsIGFyZ3MsIHJlc3VsdC5hbmNlc3RvciwgcmVzdWx0ID09PSAkaG9zdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYWNjZXNzICYgMjA0OCAvKiBNZW1iZXIgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBDYWxsTWVtYmVyRXhwcmVzc2lvbihyZXN1bHQsIG5hbWUsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IENhbGxGdW5jdGlvbkV4cHJlc3Npb24ocmVzdWx0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3MgPSAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU0MDcxNCAvKiBUZW1wbGF0ZVRhaWwgKi86XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmFzc2lnbmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5ncyA9IFtzdGF0ZS50b2tlblZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbihzdHJpbmdzLCBzdHJpbmdzLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU0MDcxNSAvKiBUZW1wbGF0ZUNvbnRpbnVhdGlvbiAqLzpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcGFyc2VUZW1wbGF0ZShzdGF0ZSwgYWNjZXNzLCBiaW5kaW5nVHlwZSwgcmVzdWx0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICg0NDggLyogQmluYXJ5ICovIDwgbWluUHJlY2VkZW5jZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKiogcGFyc2VCaW5hcnlFeHByZXNzaW9uXG4gICAgICogaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtbXVsdGlwbGljYXRpdmUtb3BlcmF0b3JzXG4gICAgICpcbiAgICAgKiBNdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb24gOiAobG9jYWwgcHJlY2VkZW5jZSA2KVxuICAgICAqIFVuYXJ5RXhwcmVzc2lvblxuICAgICAqIE11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbiAqIC8gJSBVbmFyeUV4cHJlc3Npb25cbiAgICAgKlxuICAgICAqIEFkZGl0aXZlRXhwcmVzc2lvbiA6IChsb2NhbCBwcmVjZWRlbmNlIDUpXG4gICAgICogTXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXG4gICAgICogQWRkaXRpdmVFeHByZXNzaW9uICsgLSBNdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cbiAgICAgKlxuICAgICAqIFJlbGF0aW9uYWxFeHByZXNzaW9uIDogKGxvY2FsIHByZWNlZGVuY2UgNClcbiAgICAgKiBBZGRpdGl2ZUV4cHJlc3Npb25cbiAgICAgKiBSZWxhdGlvbmFsRXhwcmVzc2lvbiA8ID4gPD0gPj0gaW5zdGFuY2VvZiBpbiBBZGRpdGl2ZUV4cHJlc3Npb25cbiAgICAgKlxuICAgICAqIEVxdWFsaXR5RXhwcmVzc2lvbiA6IChsb2NhbCBwcmVjZWRlbmNlIDMpXG4gICAgICogUmVsYXRpb25hbEV4cHJlc3Npb25cbiAgICAgKiBFcXVhbGl0eUV4cHJlc3Npb24gPT0gIT0gPT09ICE9PSBSZWxhdGlvbmFsRXhwcmVzc2lvblxuICAgICAqXG4gICAgICogTG9naWNhbEFOREV4cHJlc3Npb24gOiAobG9jYWwgcHJlY2VkZW5jZSAyKVxuICAgICAqIEVxdWFsaXR5RXhwcmVzc2lvblxuICAgICAqIExvZ2ljYWxBTkRFeHByZXNzaW9uICYmIEVxdWFsaXR5RXhwcmVzc2lvblxuICAgICAqXG4gICAgICogTG9naWNhbE9SRXhwcmVzc2lvbiA6IChsb2NhbCBwcmVjZWRlbmNlIDEpXG4gICAgICogTG9naWNhbEFOREV4cHJlc3Npb25cbiAgICAgKiBMb2dpY2FsT1JFeHByZXNzaW9uIHx8IExvZ2ljYWxBTkRFeHByZXNzaW9uXG4gICAgICovXG4gICAgd2hpbGUgKChzdGF0ZS5jdXJyZW50VG9rZW4gJiA2NTUzNiAvKiBCaW5hcnlPcCAqLykgPiAwKSB7XG4gICAgICAgIGNvbnN0IG9wVG9rZW4gPSBzdGF0ZS5jdXJyZW50VG9rZW47XG4gICAgICAgIGlmICgob3BUb2tlbiAmIDQ0OCAvKiBQcmVjZWRlbmNlICovKSA8PSBtaW5QcmVjZWRlbmNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBuZXh0VG9rZW4oc3RhdGUpO1xuICAgICAgICByZXN1bHQgPSBuZXcgQmluYXJ5RXhwcmVzc2lvbihUb2tlblZhbHVlc1tvcFRva2VuICYgNjMgLyogVHlwZSAqL10sIHJlc3VsdCwgcGFyc2Uoc3RhdGUsIGFjY2Vzcywgb3BUb2tlbiAmIDQ0OCAvKiBQcmVjZWRlbmNlICovLCBiaW5kaW5nVHlwZSkpO1xuICAgICAgICBzdGF0ZS5hc3NpZ25hYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICg2MyAvKiBDb25kaXRpb25hbCAqLyA8IG1pblByZWNlZGVuY2UpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcGFyc2VDb25kaXRpb25hbEV4cHJlc3Npb25cbiAgICAgKiBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3Byb2QtQ29uZGl0aW9uYWxFeHByZXNzaW9uXG4gICAgICpcbiAgICAgKiBDb25kaXRpb25hbEV4cHJlc3Npb24gOlxuICAgICAqIDEuIEJpbmFyeUV4cHJlc3Npb25cbiAgICAgKiAyLiBCaW5hcnlFeHByZXNzaW9uID8gQXNzaWdubWVudEV4cHJlc3Npb24gOiBBc3NpZ25tZW50RXhwcmVzc2lvblxuICAgICAqXG4gICAgICogSXNWYWxpZEFzc2lnbm1lbnRUYXJnZXRcbiAgICAgKiAxLDIgPSBmYWxzZVxuICAgICAqL1xuICAgIGlmIChjb25zdW1lT3B0KHN0YXRlLCAxNTcyODgwIC8qIFF1ZXN0aW9uICovKSkge1xuICAgICAgICBjb25zdCB5ZXMgPSBwYXJzZShzdGF0ZSwgYWNjZXNzLCA2MiAvKiBBc3NpZ24gKi8sIGJpbmRpbmdUeXBlKTtcbiAgICAgICAgY29uc3VtZShzdGF0ZSwgMTU3Mjg3OSAvKiBDb2xvbiAqLyk7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBDb25kaXRpb25hbEV4cHJlc3Npb24ocmVzdWx0LCB5ZXMsIHBhcnNlKHN0YXRlLCBhY2Nlc3MsIDYyIC8qIEFzc2lnbiAqLywgYmluZGluZ1R5cGUpKTtcbiAgICAgICAgc3RhdGUuYXNzaWduYWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoNjIgLyogQXNzaWduICovIDwgbWluUHJlY2VkZW5jZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKiogcGFyc2VBc3NpZ25tZW50RXhwcmVzc2lvblxuICAgICAqIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jcHJvZC1Bc3NpZ25tZW50RXhwcmVzc2lvblxuICAgICAqIE5vdGU6IEFzc2lnbm1lbnRFeHByZXNzaW9uIGhlcmUgaXMgZXF1aXZhbGVudCB0byBFUyBFeHByZXNzaW9uIGJlY2F1c2Ugd2UgZG9uJ3QgcGFyc2UgdGhlIGNvbW1hIG9wZXJhdG9yXG4gICAgICpcbiAgICAgKiBBc3NpZ25tZW50RXhwcmVzc2lvbiA6XG4gICAgICogMS4gQ29uZGl0aW9uYWxFeHByZXNzaW9uXG4gICAgICogMi4gTGVmdEhhbmRTaWRlRXhwcmVzc2lvbiA9IEFzc2lnbm1lbnRFeHByZXNzaW9uXG4gICAgICpcbiAgICAgKiBJc1ZhbGlkQXNzaWdubWVudFRhcmdldFxuICAgICAqIDEsMiA9IGZhbHNlXG4gICAgICovXG4gICAgaWYgKGNvbnN1bWVPcHQoc3RhdGUsIDEwNDg2MTYgLyogRXF1YWxzICovKSkge1xuICAgICAgICBpZiAoIXN0YXRlLmFzc2lnbmFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTGVmdCBoYW5kIHNpZGUgb2YgZXhwcmVzc2lvbiBpcyBub3QgYXNzaWduYWJsZTogJyR7c3RhdGUuaW5wdXR9J2ApO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IG5ldyBBc3NpZ25FeHByZXNzaW9uKHJlc3VsdCwgcGFyc2Uoc3RhdGUsIGFjY2VzcywgNjIgLyogQXNzaWduICovLCBiaW5kaW5nVHlwZSkpO1xuICAgIH1cbiAgICBpZiAoNjEgLyogVmFyaWFkaWMgKi8gPCBtaW5QcmVjZWRlbmNlKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKiBwYXJzZVZhbHVlQ29udmVydGVyXG4gICAgICovXG4gICAgd2hpbGUgKGNvbnN1bWVPcHQoc3RhdGUsIDE1NzI4ODQgLyogQmFyICovKSkge1xuICAgICAgICBpZiAoc3RhdGUuY3VycmVudFRva2VuID09PSAxNTcyODY0IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBpZGVudGlmaWVyIHRvIGNvbWUgYWZ0ZXIgVmFsdWVDb252ZXJ0ZXIgb3BlcmF0b3I6ICcke3N0YXRlLmlucHV0fSdgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYW1lID0gc3RhdGUudG9rZW5WYWx1ZTtcbiAgICAgICAgbmV4dFRva2VuKHN0YXRlKTtcbiAgICAgICAgY29uc3QgYXJncyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB3aGlsZSAoY29uc3VtZU9wdChzdGF0ZSwgMTU3Mjg3OSAvKiBDb2xvbiAqLykpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChwYXJzZShzdGF0ZSwgYWNjZXNzLCA2MiAvKiBBc3NpZ24gKi8sIGJpbmRpbmdUeXBlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gbmV3IFZhbHVlQ29udmVydGVyRXhwcmVzc2lvbihyZXN1bHQsIG5hbWUsIGFyZ3MpO1xuICAgIH1cbiAgICAvKiogcGFyc2VCaW5kaW5nQmVoYXZpb3JcbiAgICAgKi9cbiAgICB3aGlsZSAoY29uc3VtZU9wdChzdGF0ZSwgMTU3Mjg4MyAvKiBBbXBlcnNhbmQgKi8pKSB7XG4gICAgICAgIGlmIChzdGF0ZS5jdXJyZW50VG9rZW4gPT09IDE1NzI4NjQgLyogRU9GICovKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGlkZW50aWZpZXIgdG8gY29tZSBhZnRlciBCaW5kaW5nQmVoYXZpb3Igb3BlcmF0b3I6ICcke3N0YXRlLmlucHV0fSdgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYW1lID0gc3RhdGUudG9rZW5WYWx1ZTtcbiAgICAgICAgbmV4dFRva2VuKHN0YXRlKTtcbiAgICAgICAgY29uc3QgYXJncyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB3aGlsZSAoY29uc3VtZU9wdChzdGF0ZSwgMTU3Mjg3OSAvKiBDb2xvbiAqLykpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChwYXJzZShzdGF0ZSwgYWNjZXNzLCA2MiAvKiBBc3NpZ24gKi8sIGJpbmRpbmdUeXBlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gbmV3IEJpbmRpbmdCZWhhdmlvckV4cHJlc3Npb24ocmVzdWx0LCBuYW1lLCBhcmdzKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmN1cnJlbnRUb2tlbiAhPT0gMTU3Mjg2NCAvKiBFT0YgKi8pIHtcbiAgICAgICAgaWYgKGJpbmRpbmdUeXBlICYgMjA0OCAvKiBJbnRlcnBvbGF0aW9uICovKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUudG9rZW5SYXcgPT09ICdvZicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBrZXl3b3JkIFwib2ZcIjogJyR7c3RhdGUuaW5wdXR9J2ApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5jb25zdW1lZCB0b2tlbjogJyR7c3RhdGUuaW5wdXR9J2ApO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIHBhcnNlQXJyYXlMaXRlcmFsRXhwcmVzc2lvblxuICogaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNwcm9kLUFycmF5TGl0ZXJhbEV4cHJlc3Npb25cbiAqXG4gKiBBcnJheUxpdGVyYWxFeHByZXNzaW9uIDpcbiAqIFsgRWxpc2lvbihvcHQpIF1cbiAqIFsgRWxlbWVudExpc3QgXVxuICogWyBFbGVtZW50TGlzdCwgRWxpc2lvbihvcHQpIF1cbiAqXG4gKiBFbGVtZW50TGlzdCA6XG4gKiBFbGlzaW9uKG9wdCkgQXNzaWdubWVudEV4cHJlc3Npb25cbiAqIEVsZW1lbnRMaXN0LCBFbGlzaW9uKG9wdCkgQXNzaWdubWVudEV4cHJlc3Npb25cbiAqXG4gKiBFbGlzaW9uIDpcbiAqICxcbiAqIEVsaXNpb24gLFxuICovXG5mdW5jdGlvbiBwYXJzZUFycmF5TGl0ZXJhbEV4cHJlc3Npb24oc3RhdGUsIGFjY2VzcywgYmluZGluZ1R5cGUpIHtcbiAgICBuZXh0VG9rZW4oc3RhdGUpO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gbmV3IEFycmF5KCk7XG4gICAgd2hpbGUgKHN0YXRlLmN1cnJlbnRUb2tlbiAhPT0gMTgzNTAyMiAvKiBDbG9zZUJyYWNrZXQgKi8pIHtcbiAgICAgICAgaWYgKGNvbnN1bWVPcHQoc3RhdGUsIDE1NzI4NzYgLyogQ29tbWEgKi8pKSB7XG4gICAgICAgICAgICBlbGVtZW50cy5wdXNoKCR1bmRlZmluZWQpO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRUb2tlbiA9PT0gMTgzNTAyMiAvKiBDbG9zZUJyYWNrZXQgKi8pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2gocGFyc2Uoc3RhdGUsIGFjY2VzcywgNjIgLyogQXNzaWduICovLCBiaW5kaW5nVHlwZSAmIH41MTIgLyogSXNJdGVyYXRvciAqLykpO1xuICAgICAgICAgICAgaWYgKGNvbnN1bWVPcHQoc3RhdGUsIDE1NzI4NzYgLyogQ29tbWEgKi8pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRUb2tlbiA9PT0gMTgzNTAyMiAvKiBDbG9zZUJyYWNrZXQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3VtZShzdGF0ZSwgMTgzNTAyMiAvKiBDbG9zZUJyYWNrZXQgKi8pO1xuICAgIGlmIChiaW5kaW5nVHlwZSAmIDUxMiAvKiBJc0l0ZXJhdG9yICovKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlCaW5kaW5nUGF0dGVybihlbGVtZW50cyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5hc3NpZ25hYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlMaXRlcmFsRXhwcmVzc2lvbihlbGVtZW50cyk7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VGb3JPZlN0YXRlbWVudChzdGF0ZSwgcmVzdWx0KSB7XG4gICAgaWYgKChyZXN1bHQuJGtpbmQgJiA2NTUzNiAvKiBJc0ZvckRlY2xhcmF0aW9uICovKSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgQmluZGluZ0lkZW50aWZpZXIgYXQgbGVmdCBoYW5kIHNpZGUgb2YgXCJvZlwiOiAnJHtzdGF0ZS5pbnB1dH0nYCk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5jdXJyZW50VG9rZW4gIT09IDEwNTExODAgLyogT2ZLZXl3b3JkICovKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBCaW5kaW5nSWRlbnRpZmllciBhdCBsZWZ0IGhhbmQgc2lkZSBvZiBcIm9mXCI6ICcke3N0YXRlLmlucHV0fSdgKTtcbiAgICB9XG4gICAgbmV4dFRva2VuKHN0YXRlKTtcbiAgICBjb25zdCBkZWNsYXJhdGlvbiA9IHJlc3VsdDtcbiAgICBjb25zdCBzdGF0ZW1lbnQgPSBwYXJzZShzdGF0ZSwgMCAvKiBSZXNldCAqLywgNjEgLyogVmFyaWFkaWMgKi8sIDAgLyogTm9uZSAqLyk7XG4gICAgcmV0dXJuIG5ldyBGb3JPZlN0YXRlbWVudChkZWNsYXJhdGlvbiwgc3RhdGVtZW50KTtcbn1cbi8qKlxuICogcGFyc2VPYmplY3RMaXRlcmFsRXhwcmVzc2lvblxuICogaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNwcm9kLUxpdGVyYWxcbiAqXG4gKiBPYmplY3RMaXRlcmFsRXhwcmVzc2lvbiA6XG4gKiB7IH1cbiAqIHsgUHJvcGVydHlEZWZpbml0aW9uTGlzdCB9XG4gKlxuICogUHJvcGVydHlEZWZpbml0aW9uTGlzdCA6XG4gKiBQcm9wZXJ0eURlZmluaXRpb25cbiAqIFByb3BlcnR5RGVmaW5pdGlvbkxpc3QsIFByb3BlcnR5RGVmaW5pdGlvblxuICpcbiAqIFByb3BlcnR5RGVmaW5pdGlvbiA6XG4gKiBJZGVudGlmaWVyTmFtZVxuICogUHJvcGVydHlOYW1lIDogQXNzaWdubWVudEV4cHJlc3Npb25cbiAqXG4gKiBQcm9wZXJ0eU5hbWUgOlxuICogSWRlbnRpZmllck5hbWVcbiAqIFN0cmluZ0xpdGVyYWxcbiAqIE51bWVyaWNMaXRlcmFsXG4gKi9cbmZ1bmN0aW9uIHBhcnNlT2JqZWN0TGl0ZXJhbEV4cHJlc3Npb24oc3RhdGUsIGJpbmRpbmdUeXBlKSB7XG4gICAgY29uc3Qga2V5cyA9IG5ldyBBcnJheSgpO1xuICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBBcnJheSgpO1xuICAgIG5leHRUb2tlbihzdGF0ZSk7XG4gICAgd2hpbGUgKHN0YXRlLmN1cnJlbnRUb2tlbiAhPT0gMTgzNTAxOCAvKiBDbG9zZUJyYWNlICovKSB7XG4gICAgICAgIGtleXMucHVzaChzdGF0ZS50b2tlblZhbHVlKTtcbiAgICAgICAgLy8gTGl0ZXJhbCA9IG1hbmRhdG9yeSBjb2xvblxuICAgICAgICBpZiAoc3RhdGUuY3VycmVudFRva2VuICYgMTIyODggLyogU3RyaW5nT3JOdW1lcmljTGl0ZXJhbCAqLykge1xuICAgICAgICAgICAgbmV4dFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgIGNvbnN1bWUoc3RhdGUsIDE1NzI4NzkgLyogQ29sb24gKi8pO1xuICAgICAgICAgICAgdmFsdWVzLnB1c2gocGFyc2Uoc3RhdGUsIDAgLyogUmVzZXQgKi8sIDYyIC8qIEFzc2lnbiAqLywgYmluZGluZ1R5cGUgJiB+NTEyIC8qIElzSXRlcmF0b3IgKi8pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZS5jdXJyZW50VG9rZW4gJiAzMDcyIC8qIElkZW50aWZpZXJOYW1lICovKSB7XG4gICAgICAgICAgICAvLyBJZGVudGlmaWVyTmFtZSA9IG9wdGlvbmFsIGNvbG9uXG4gICAgICAgICAgICBjb25zdCB7IGN1cnJlbnRDaGFyLCBjdXJyZW50VG9rZW4sIGluZGV4IH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIG5leHRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICBpZiAoY29uc3VtZU9wdChzdGF0ZSwgMTU3Mjg3OSAvKiBDb2xvbiAqLykpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChwYXJzZShzdGF0ZSwgMCAvKiBSZXNldCAqLywgNjIgLyogQXNzaWduICovLCBiaW5kaW5nVHlwZSAmIH41MTIgLyogSXNJdGVyYXRvciAqLykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvcnRoYW5kXG4gICAgICAgICAgICAgICAgc3RhdGUuY3VycmVudENoYXIgPSBjdXJyZW50Q2hhcjtcbiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50VG9rZW4gPSBjdXJyZW50VG9rZW47XG4gICAgICAgICAgICAgICAgc3RhdGUuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChwYXJzZShzdGF0ZSwgMCAvKiBSZXNldCAqLywgNDUwIC8qIFByaW1hcnkgKi8sIGJpbmRpbmdUeXBlICYgfjUxMiAvKiBJc0l0ZXJhdG9yICovKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgb3IgdW5zdXBwb3J0ZWQgcHJvcGVydHkgZGVmaW5pdGlvbiBpbiBvYmplY3QgbGl0ZXJhbDogJyR7c3RhdGUuaW5wdXR9J2ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5jdXJyZW50VG9rZW4gIT09IDE4MzUwMTggLyogQ2xvc2VCcmFjZSAqLykge1xuICAgICAgICAgICAgY29uc3VtZShzdGF0ZSwgMTU3Mjg3NiAvKiBDb21tYSAqLyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3VtZShzdGF0ZSwgMTgzNTAxOCAvKiBDbG9zZUJyYWNlICovKTtcbiAgICBpZiAoYmluZGluZ1R5cGUgJiA1MTIgLyogSXNJdGVyYXRvciAqLykge1xuICAgICAgICByZXR1cm4gbmV3IE9iamVjdEJpbmRpbmdQYXR0ZXJuKGtleXMsIHZhbHVlcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5hc3NpZ25hYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBuZXcgT2JqZWN0TGl0ZXJhbEV4cHJlc3Npb24oa2V5cywgdmFsdWVzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXJzZUludGVycG9sYXRpb24oc3RhdGUpIHtcbiAgICBjb25zdCBwYXJ0cyA9IFtdO1xuICAgIGNvbnN0IGV4cHJlc3Npb25zID0gW107XG4gICAgY29uc3QgbGVuZ3RoID0gc3RhdGUubGVuZ3RoO1xuICAgIGxldCByZXN1bHQgPSAnJztcbiAgICB3aGlsZSAoc3RhdGUuaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgc3dpdGNoIChzdGF0ZS5jdXJyZW50Q2hhcikge1xuICAgICAgICAgICAgY2FzZSAzNiAvKiBEb2xsYXIgKi86XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUuaW5kZXggKyAxKSA9PT0gMTIzIC8qIE9wZW5CcmFjZSAqLykge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pbmRleCArPSAyO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50Q2hhciA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUuaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHByZXNzaW9uID0gcGFyc2Uoc3RhdGUsIDAgLyogUmVzZXQgKi8sIDYxIC8qIFZhcmlhZGljICovLCAyMDQ4IC8qIEludGVycG9sYXRpb24gKi8pO1xuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnJCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA5MiAvKiBCYWNrc2xhc2ggKi86XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodW5lc2NhcGVDb2RlKG5leHRDaGFyKHN0YXRlKSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzdGF0ZS5jdXJyZW50Q2hhcik7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dENoYXIoc3RhdGUpO1xuICAgIH1cbiAgICBpZiAoZXhwcmVzc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgIHBhcnRzLnB1c2gocmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnBvbGF0aW9uKHBhcnRzLCBleHByZXNzaW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBwYXJzZVRlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb25cbiAqIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jcHJvZC1MaXRlcmFsXG4gKlxuICogVGVtcGxhdGVFeHByZXNzaW9uIDpcbiAqIE5vU3Vic3RpdHV0aW9uVGVtcGxhdGVcbiAqIFRlbXBsYXRlSGVhZFxuICpcbiAqIE5vU3Vic3RpdHV0aW9uVGVtcGxhdGUgOlxuICogYCBUZW1wbGF0ZUNoYXJhY3RlcnMob3B0KSBgXG4gKlxuICogVGVtcGxhdGVIZWFkIDpcbiAqIGAgVGVtcGxhdGVDaGFyYWN0ZXJzKG9wdCkgJHtcbiAqXG4gKiBUZW1wbGF0ZVN1YnN0aXR1dGlvblRhaWwgOlxuICogVGVtcGxhdGVNaWRkbGVcbiAqIFRlbXBsYXRlVGFpbFxuICpcbiAqIFRlbXBsYXRlTWlkZGxlIDpcbiAqIH0gVGVtcGxhdGVDaGFyYWN0ZXJzKG9wdCkgJHtcbiAqXG4gKiBUZW1wbGF0ZVRhaWwgOlxuICogfSBUZW1wbGF0ZUNoYXJhY3RlcnMob3B0KSBgXG4gKlxuICogVGVtcGxhdGVDaGFyYWN0ZXJzIDpcbiAqIFRlbXBsYXRlQ2hhcmFjdGVyIFRlbXBsYXRlQ2hhcmFjdGVycyhvcHQpXG4gKlxuICogVGVtcGxhdGVDaGFyYWN0ZXIgOlxuICogJCBbbG9va2FoZWFkIOKJoCB7XVxuICogXFwgRXNjYXBlU2VxdWVuY2VcbiAqIFNvdXJjZUNoYXJhY3RlciAoYnV0IG5vdCBvbmUgb2YgYCBvciBcXCBvciAkKVxuICovXG5mdW5jdGlvbiBwYXJzZVRlbXBsYXRlKHN0YXRlLCBhY2Nlc3MsIGJpbmRpbmdUeXBlLCByZXN1bHQsIHRhZ2dlZCkge1xuICAgIGNvbnN0IGNvb2tlZCA9IFtzdGF0ZS50b2tlblZhbHVlXTtcbiAgICAvLyBUT0RPOiBwcm9wZXJseSBpbXBsZW1lbnQgcmF3IHBhcnRzIC8gZGVjaWRlIHdoZXRoZXIgd2Ugd2FudCB0aGlzXG4gICAgY29uc3VtZShzdGF0ZSwgNTQwNzE1IC8qIFRlbXBsYXRlQ29udGludWF0aW9uICovKTtcbiAgICBjb25zdCBleHByZXNzaW9ucyA9IFtwYXJzZShzdGF0ZSwgYWNjZXNzLCA2MiAvKiBBc3NpZ24gKi8sIGJpbmRpbmdUeXBlKV07XG4gICAgd2hpbGUgKChzdGF0ZS5jdXJyZW50VG9rZW4gPSBzY2FuVGVtcGxhdGVUYWlsKHN0YXRlKSkgIT09IDU0MDcxNCAvKiBUZW1wbGF0ZVRhaWwgKi8pIHtcbiAgICAgICAgY29va2VkLnB1c2goc3RhdGUudG9rZW5WYWx1ZSk7XG4gICAgICAgIGNvbnN1bWUoc3RhdGUsIDU0MDcxNSAvKiBUZW1wbGF0ZUNvbnRpbnVhdGlvbiAqLyk7XG4gICAgICAgIGV4cHJlc3Npb25zLnB1c2gocGFyc2Uoc3RhdGUsIGFjY2VzcywgNjIgLyogQXNzaWduICovLCBiaW5kaW5nVHlwZSkpO1xuICAgIH1cbiAgICBjb29rZWQucHVzaChzdGF0ZS50b2tlblZhbHVlKTtcbiAgICBzdGF0ZS5hc3NpZ25hYmxlID0gZmFsc2U7XG4gICAgaWYgKHRhZ2dlZCkge1xuICAgICAgICBuZXh0VG9rZW4oc3RhdGUpO1xuICAgICAgICByZXR1cm4gbmV3IFRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbihjb29rZWQsIGNvb2tlZCwgcmVzdWx0LCBleHByZXNzaW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZXh0VG9rZW4oc3RhdGUpO1xuICAgICAgICByZXR1cm4gbmV3IFRlbXBsYXRlRXhwcmVzc2lvbihjb29rZWQsIGV4cHJlc3Npb25zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBuZXh0VG9rZW4oc3RhdGUpIHtcbiAgICB3aGlsZSAoc3RhdGUuaW5kZXggPCBzdGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgc3RhdGUuc3RhcnRJbmRleCA9IHN0YXRlLmluZGV4O1xuICAgICAgICBpZiAoKHN0YXRlLmN1cnJlbnRUb2tlbiA9IChDaGFyU2Nhbm5lcnNbc3RhdGUuY3VycmVudENoYXJdKHN0YXRlKSkpICE9IG51bGwpIHsgLy8gYSBudWxsIHRva2VuIG1lYW5zIHRoZSBjaGFyYWN0ZXIgbXVzdCBiZSBza2lwcGVkXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGUuY3VycmVudFRva2VuID0gMTU3Mjg2NCAvKiBFT0YgKi87XG59XG5mdW5jdGlvbiBuZXh0Q2hhcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5jdXJyZW50Q2hhciA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5pbmRleCk7XG59XG5mdW5jdGlvbiBzY2FuSWRlbnRpZmllcihzdGF0ZSkge1xuICAgIC8vIHJ1biB0byB0aGUgbmV4dCBub24taWRQYXJ0XG4gICAgd2hpbGUgKElkUGFydHNbbmV4dENoYXIoc3RhdGUpXSlcbiAgICAgICAgO1xuICAgIGNvbnN0IHRva2VuID0gS2V5d29yZExvb2t1cFtzdGF0ZS50b2tlblZhbHVlID0gc3RhdGUudG9rZW5SYXddO1xuICAgIHJldHVybiB0b2tlbiA9PT0gdW5kZWZpbmVkID8gMTAyNCAvKiBJZGVudGlmaWVyICovIDogdG9rZW47XG59XG5mdW5jdGlvbiBzY2FuTnVtYmVyKHN0YXRlLCBpc0Zsb2F0KSB7XG4gICAgbGV0IGNoYXIgPSBzdGF0ZS5jdXJyZW50Q2hhcjtcbiAgICBpZiAoaXNGbG9hdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY2hhciA9IG5leHRDaGFyKHN0YXRlKTtcbiAgICAgICAgfSB3aGlsZSAoY2hhciA8PSA1NyAvKiBOaW5lICovICYmIGNoYXIgPj0gNDggLyogWmVybyAqLyk7XG4gICAgICAgIGlmIChjaGFyICE9PSA0NiAvKiBEb3QgKi8pIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VuVmFsdWUgPSBwYXJzZUludChzdGF0ZS50b2tlblJhdywgMTApO1xuICAgICAgICAgICAgcmV0dXJuIDgxOTIgLyogTnVtZXJpY0xpdGVyYWwgKi87XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFzdCB0aGlzIHBvaW50IGl0J3MgYWx3YXlzIGEgZmxvYXRcbiAgICAgICAgY2hhciA9IG5leHRDaGFyKHN0YXRlKTtcbiAgICAgICAgaWYgKHN0YXRlLmluZGV4ID49IHN0YXRlLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gdW5sZXNzIHRoZSBudW1iZXIgZW5kcyB3aXRoIGEgZG90IC0gdGhhdCBiZWhhdmVzIGEgbGl0dGxlIGRpZmZlcmVudCBpbiBuYXRpdmUgRVMgZXhwcmVzc2lvbnNcbiAgICAgICAgICAgIC8vIGJ1dCBpbiBvdXIgQVNUIHRoYXQgYmVoYXZpb3IgaGFzIG5vIGVmZmVjdCBiZWNhdXNlIG51bWJlcnMgYXJlIGFsd2F5cyBzdG9yZWQgaW4gdmFyaWFibGVzXG4gICAgICAgICAgICBzdGF0ZS50b2tlblZhbHVlID0gcGFyc2VJbnQoc3RhdGUudG9rZW5SYXcuc2xpY2UoMCwgLTEpLCAxMCk7XG4gICAgICAgICAgICByZXR1cm4gODE5MiAvKiBOdW1lcmljTGl0ZXJhbCAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2hhciA8PSA1NyAvKiBOaW5lICovICYmIGNoYXIgPj0gNDggLyogWmVybyAqLykge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBjaGFyID0gbmV4dENoYXIoc3RhdGUpO1xuICAgICAgICB9IHdoaWxlIChjaGFyIDw9IDU3IC8qIE5pbmUgKi8gJiYgY2hhciA+PSA0OCAvKiBaZXJvICovKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0YXRlLmN1cnJlbnRDaGFyID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgtLXN0YXRlLmluZGV4KTtcbiAgICB9XG4gICAgc3RhdGUudG9rZW5WYWx1ZSA9IHBhcnNlRmxvYXQoc3RhdGUudG9rZW5SYXcpO1xuICAgIHJldHVybiA4MTkyIC8qIE51bWVyaWNMaXRlcmFsICovO1xufVxuZnVuY3Rpb24gc2NhblN0cmluZyhzdGF0ZSkge1xuICAgIGNvbnN0IHF1b3RlID0gc3RhdGUuY3VycmVudENoYXI7XG4gICAgbmV4dENoYXIoc3RhdGUpOyAvLyBTa2lwIGluaXRpYWwgcXVvdGUuXG4gICAgbGV0IHVuZXNjYXBlZCA9IDA7XG4gICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5KCk7XG4gICAgbGV0IG1hcmtlciA9IHN0YXRlLmluZGV4O1xuICAgIHdoaWxlIChzdGF0ZS5jdXJyZW50Q2hhciAhPT0gcXVvdGUpIHtcbiAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRDaGFyID09PSA5MiAvKiBCYWNrc2xhc2ggKi8pIHtcbiAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHN0YXRlLmlucHV0LnNsaWNlKG1hcmtlciwgc3RhdGUuaW5kZXgpKTtcbiAgICAgICAgICAgIG5leHRDaGFyKHN0YXRlKTtcbiAgICAgICAgICAgIHVuZXNjYXBlZCA9IHVuZXNjYXBlQ29kZShzdGF0ZS5jdXJyZW50Q2hhcik7XG4gICAgICAgICAgICBuZXh0Q2hhcihzdGF0ZSk7XG4gICAgICAgICAgICBidWZmZXIucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHVuZXNjYXBlZCkpO1xuICAgICAgICAgICAgbWFya2VyID0gc3RhdGUuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdGUuaW5kZXggPj0gc3RhdGUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVudGVybWluYXRlZCBxdW90ZSBpbiBzdHJpbmcgbGl0ZXJhbDogJyR7c3RhdGUuaW5wdXR9J2ApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dENoYXIoc3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGxhc3QgPSBzdGF0ZS5pbnB1dC5zbGljZShtYXJrZXIsIHN0YXRlLmluZGV4KTtcbiAgICBuZXh0Q2hhcihzdGF0ZSk7IC8vIFNraXAgdGVybWluYXRpbmcgcXVvdGUuXG4gICAgLy8gQ29tcHV0ZSB0aGUgdW5lc2NhcGVkIHN0cmluZyB2YWx1ZS5cbiAgICBidWZmZXIucHVzaChsYXN0KTtcbiAgICBjb25zdCB1bmVzY2FwZWRTdHIgPSBidWZmZXIuam9pbignJyk7XG4gICAgc3RhdGUudG9rZW5WYWx1ZSA9IHVuZXNjYXBlZFN0cjtcbiAgICByZXR1cm4gNDA5NiAvKiBTdHJpbmdMaXRlcmFsICovO1xufVxuZnVuY3Rpb24gc2NhblRlbXBsYXRlKHN0YXRlKSB7XG4gICAgbGV0IHRhaWwgPSB0cnVlO1xuICAgIGxldCByZXN1bHQgPSAnJztcbiAgICB3aGlsZSAobmV4dENoYXIoc3RhdGUpICE9PSA5NiAvKiBCYWNrdGljayAqLykge1xuICAgICAgICBpZiAoc3RhdGUuY3VycmVudENoYXIgPT09IDM2IC8qIERvbGxhciAqLykge1xuICAgICAgICAgICAgaWYgKChzdGF0ZS5pbmRleCArIDEpIDwgc3RhdGUubGVuZ3RoICYmIHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUuaW5kZXggKyAxKSA9PT0gMTIzIC8qIE9wZW5CcmFjZSAqLykge1xuICAgICAgICAgICAgICAgIHN0YXRlLmluZGV4Kys7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICckJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZS5jdXJyZW50Q2hhciA9PT0gOTIgLyogQmFja3NsYXNoICovKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1bmVzY2FwZUNvZGUobmV4dENoYXIoc3RhdGUpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuaW5kZXggPj0gc3RhdGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnRlcm1pbmF0ZWQgdGVtcGxhdGUgc3RyaW5nOiAnJHtzdGF0ZS5pbnB1dH0nYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzdGF0ZS5jdXJyZW50Q2hhcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV4dENoYXIoc3RhdGUpO1xuICAgIHN0YXRlLnRva2VuVmFsdWUgPSByZXN1bHQ7XG4gICAgaWYgKHRhaWwpIHtcbiAgICAgICAgcmV0dXJuIDU0MDcxNCAvKiBUZW1wbGF0ZVRhaWwgKi87XG4gICAgfVxuICAgIHJldHVybiA1NDA3MTUgLyogVGVtcGxhdGVDb250aW51YXRpb24gKi87XG59XG5mdW5jdGlvbiBzY2FuVGVtcGxhdGVUYWlsKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmluZGV4ID49IHN0YXRlLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVudGVybWluYXRlZCB0ZW1wbGF0ZSBzdHJpbmc6ICcke3N0YXRlLmlucHV0fSdgKTtcbiAgICB9XG4gICAgc3RhdGUuaW5kZXgtLTtcbiAgICByZXR1cm4gc2NhblRlbXBsYXRlKHN0YXRlKTtcbn1cbmZ1bmN0aW9uIGNvbnN1bWVPcHQoc3RhdGUsIHRva2VuKSB7XG4gICAgaWYgKHN0YXRlLmN1cnJlbnRUb2tlbiA9PT0gdG9rZW4pIHtcbiAgICAgICAgbmV4dFRva2VuKHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNvbnN1bWUoc3RhdGUsIHRva2VuKSB7XG4gICAgaWYgKHN0YXRlLmN1cnJlbnRUb2tlbiA9PT0gdG9rZW4pIHtcbiAgICAgICAgbmV4dFRva2VuKHN0YXRlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBleHBlY3RlZCB0b2tlbjogJyR7c3RhdGUuaW5wdXR9J2ApO1xuICAgIH1cbn1cbi8qKlxuICogQXJyYXkgZm9yIG1hcHBpbmcgdG9rZW5zIHRvIHRva2VuIHZhbHVlcy4gVGhlIGluZGljZXMgb2YgdGhlIHZhbHVlc1xuICogY29ycmVzcG9uZCB0byB0aGUgdG9rZW4gYml0cyAwLTM4LlxuICogRm9yIHRoaXMgdG8gd29yayBwcm9wZXJseSwgdGhlIHZhbHVlcyBpbiB0aGUgYXJyYXkgbXVzdCBiZSBrZXB0IGluXG4gKiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgdG9rZW4gYml0cy5cbiAqIFVzYWdlOiBUb2tlblZhbHVlc1t0b2tlbiAmIFRva2VuLlR5cGVdXG4gKi9cbmNvbnN0IFRva2VuVmFsdWVzID0gW1xuICAgICRmYWxzZSwgJHRydWUsICRudWxsLCAkdW5kZWZpbmVkLCAnJHRoaXMnLCAnJGhvc3QnLCAnJHBhcmVudCcsXG4gICAgJygnLCAneycsICcuJywgJ30nLCAnKScsICcsJywgJ1snLCAnXScsICc6JywgJz8nLCAnXFwnJywgJ1wiJyxcbiAgICAnJicsICd8JywgJ3x8JywgJyYmJywgJz09JywgJyE9JywgJz09PScsICchPT0nLCAnPCcsICc+JyxcbiAgICAnPD0nLCAnPj0nLCAnaW4nLCAnaW5zdGFuY2VvZicsICcrJywgJy0nLCAndHlwZW9mJywgJ3ZvaWQnLCAnKicsICclJywgJy8nLCAnPScsICchJyxcbiAgICA1NDA3MTQgLyogVGVtcGxhdGVUYWlsICovLCA1NDA3MTUgLyogVGVtcGxhdGVDb250aW51YXRpb24gKi8sXG4gICAgJ29mJ1xuXTtcbmNvbnN0IEtleXdvcmRMb29rdXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuS2V5d29yZExvb2t1cC50cnVlID0gMjA0OSAvKiBUcnVlS2V5d29yZCAqLztcbktleXdvcmRMb29rdXAubnVsbCA9IDIwNTAgLyogTnVsbEtleXdvcmQgKi87XG5LZXl3b3JkTG9va3VwLmZhbHNlID0gMjA0OCAvKiBGYWxzZUtleXdvcmQgKi87XG5LZXl3b3JkTG9va3VwLnVuZGVmaW5lZCA9IDIwNTEgLyogVW5kZWZpbmVkS2V5d29yZCAqLztcbktleXdvcmRMb29rdXAuJHRoaXMgPSAzMDc2IC8qIFRoaXNTY29wZSAqLztcbktleXdvcmRMb29rdXAuJGhvc3QgPSAzMDc3IC8qIEhvc3RTY29wZSAqLztcbktleXdvcmRMb29rdXAuJHBhcmVudCA9IDMwNzggLyogUGFyZW50U2NvcGUgKi87XG5LZXl3b3JkTG9va3VwLmluID0gMTY0MDc5OSAvKiBJbktleXdvcmQgKi87XG5LZXl3b3JkTG9va3VwLmluc3RhbmNlb2YgPSAxNjQwODAwIC8qIEluc3RhbmNlT2ZLZXl3b3JkICovO1xuS2V5d29yZExvb2t1cC50eXBlb2YgPSAzNDg1MSAvKiBUeXBlb2ZLZXl3b3JkICovO1xuS2V5d29yZExvb2t1cC52b2lkID0gMzQ4NTIgLyogVm9pZEtleXdvcmQgKi87XG5LZXl3b3JkTG9va3VwLm9mID0gMTA1MTE4MCAvKiBPZktleXdvcmQgKi87XG4vKipcbiAqIFJhbmdlcyBvZiBjb2RlIHBvaW50cyBpbiBwYWlycyBvZiAyIChlZyAweDQxLTB4NUIsIDB4NjEtMHg3QiwgLi4uKSB3aGVyZSB0aGUgc2Vjb25kIHZhbHVlIGlzIG5vdCBpbmNsdXNpdmUgKDUtNyBtZWFucyA1IGFuZCA2KVxuICogU2luZ2xlIHZhbHVlcyBhcmUgZGVub3RlZCBieSB0aGUgc2Vjb25kIHZhbHVlIGJlaW5nIGEgMFxuICpcbiAqIENvcGllZCBmcm9tIG91dHB1dCBnZW5lcmF0ZWQgd2l0aCBcIm5vZGUgYnVpbGQvZ2VuZXJhdGUtdW5pY29kZS5qc1wiXG4gKlxuICogU2VlIGFsc286IGh0dHBzOi8vZW4ud2lraWJvb2tzLm9yZy93aWtpL1VuaWNvZGUvQ2hhcmFjdGVyX3JlZmVyZW5jZS8wMDAwLTBGRkZcbiAqL1xuY29uc3QgY29kZXMgPSB7XG4gICAgLyogWyQwLTlBLVphX2Etel0gKi9cbiAgICBBc2NpaUlkUGFydDogWzB4MjQsIDAsIDB4MzAsIDB4M0EsIDB4NDEsIDB4NUIsIDB4NUYsIDAsIDB4NjEsIDB4N0JdLFxuICAgIElkU3RhcnQ6IC8qIElkZW50aWZpZXJTdGFydCAqLyBbMHgyNCwgMCwgMHg0MSwgMHg1QiwgMHg1RiwgMCwgMHg2MSwgMHg3QiwgMHhBQSwgMCwgMHhCQSwgMCwgMHhDMCwgMHhENywgMHhEOCwgMHhGNywgMHhGOCwgMHgyQjksIDB4MkUwLCAweDJFNSwgMHgxRDAwLCAweDFEMjYsIDB4MUQyQywgMHgxRDVELCAweDFENjIsIDB4MUQ2NiwgMHgxRDZCLCAweDFENzgsIDB4MUQ3OSwgMHgxREJGLCAweDFFMDAsIDB4MUYwMCwgMHgyMDcxLCAwLCAweDIwN0YsIDAsIDB4MjA5MCwgMHgyMDlELCAweDIxMkEsIDB4MjEyQywgMHgyMTMyLCAwLCAweDIxNEUsIDAsIDB4MjE2MCwgMHgyMTg5LCAweDJDNjAsIDB4MkM4MCwgMHhBNzIyLCAweEE3ODgsIDB4QTc4QiwgMHhBN0FGLCAweEE3QjAsIDB4QTdCOCwgMHhBN0Y3LCAweEE4MDAsIDB4QUIzMCwgMHhBQjVCLCAweEFCNUMsIDB4QUI2NSwgMHhGQjAwLCAweEZCMDcsIDB4RkYyMSwgMHhGRjNCLCAweEZGNDEsIDB4RkY1Ql0sXG4gICAgRGlnaXQ6IC8qIERlY2ltYWxOdW1iZXIgKi8gWzB4MzAsIDB4M0FdLFxuICAgIFNraXA6IC8qIFNraXBwYWJsZSAqLyBbMCwgMHgyMSwgMHg3RiwgMHhBMV1cbn07XG4vKipcbiAqIERlY29tcHJlc3MgdGhlIHJhbmdlcyBpbnRvIGFuIGFycmF5IG9mIG51bWJlcnMgc28gdGhhdCB0aGUgY2hhciBjb2RlXG4gKiBjYW4gYmUgdXNlZCBhcyBhbiBpbmRleCB0byB0aGUgbG9va3VwXG4gKi9cbmZ1bmN0aW9uIGRlY29tcHJlc3MobG9va3VwLCAkc2V0LCBjb21wcmVzc2VkLCB2YWx1ZSkge1xuICAgIGNvbnN0IHJhbmdlQ291bnQgPSBjb21wcmVzc2VkLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlQ291bnQ7IGkgKz0gMikge1xuICAgICAgICBjb25zdCBzdGFydCA9IGNvbXByZXNzZWRbaV07XG4gICAgICAgIGxldCBlbmQgPSBjb21wcmVzc2VkW2kgKyAxXTtcbiAgICAgICAgZW5kID0gZW5kID4gMCA/IGVuZCA6IHN0YXJ0ICsgMTtcbiAgICAgICAgaWYgKGxvb2t1cCkge1xuICAgICAgICAgICAgbG9va3VwLmZpbGwodmFsdWUsIHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkc2V0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjaCA9IHN0YXJ0OyBjaCA8IGVuZDsgY2grKykge1xuICAgICAgICAgICAgICAgICRzZXQuYWRkKGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIENoYXJGdW5jTG9va3VwIGZ1bmN0aW9uc1xuZnVuY3Rpb24gcmV0dXJuVG9rZW4odG9rZW4pIHtcbiAgICByZXR1cm4gcyA9PiB7XG4gICAgICAgIG5leHRDaGFyKHMpO1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfTtcbn1cbmNvbnN0IHVuZXhwZWN0ZWRDaGFyYWN0ZXIgPSBzID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyOiAnJHtzLmlucHV0fSdgKTtcbn07XG51bmV4cGVjdGVkQ2hhcmFjdGVyLm5vdE1hcHBlZCA9IHRydWU7XG4vLyBBU0NJSSBJZGVudGlmaWVyUGFydCBsb29rdXBcbmNvbnN0IEFzY2lpSWRQYXJ0cyA9IG5ldyBTZXQoKTtcbmRlY29tcHJlc3MobnVsbCwgQXNjaWlJZFBhcnRzLCBjb2Rlcy5Bc2NpaUlkUGFydCwgdHJ1ZSk7XG4vLyBJZGVudGlmaWVyUGFydCBsb29rdXBcbmNvbnN0IElkUGFydHMgPSBuZXcgVWludDhBcnJheSgweEZGRkYpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmRlY29tcHJlc3MoSWRQYXJ0cywgbnVsbCwgY29kZXMuSWRTdGFydCwgMSk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZGVjb21wcmVzcyhJZFBhcnRzLCBudWxsLCBjb2Rlcy5EaWdpdCwgMSk7XG4vLyBDaGFyYWN0ZXIgc2Nhbm5pbmcgZnVuY3Rpb24gbG9va3VwXG5jb25zdCBDaGFyU2Nhbm5lcnMgPSBuZXcgQXJyYXkoMHhGRkZGKTtcbkNoYXJTY2FubmVycy5maWxsKHVuZXhwZWN0ZWRDaGFyYWN0ZXIsIDAsIDB4RkZGRik7XG5kZWNvbXByZXNzKENoYXJTY2FubmVycywgbnVsbCwgY29kZXMuU2tpcCwgcyA9PiB7XG4gICAgbmV4dENoYXIocyk7XG4gICAgcmV0dXJuIG51bGw7XG59KTtcbmRlY29tcHJlc3MoQ2hhclNjYW5uZXJzLCBudWxsLCBjb2Rlcy5JZFN0YXJ0LCBzY2FuSWRlbnRpZmllcik7XG5kZWNvbXByZXNzKENoYXJTY2FubmVycywgbnVsbCwgY29kZXMuRGlnaXQsIHMgPT4gc2Nhbk51bWJlcihzLCBmYWxzZSkpO1xuQ2hhclNjYW5uZXJzWzM0IC8qIERvdWJsZVF1b3RlICovXSA9XG4gICAgQ2hhclNjYW5uZXJzWzM5IC8qIFNpbmdsZVF1b3RlICovXSA9IHMgPT4ge1xuICAgICAgICByZXR1cm4gc2NhblN0cmluZyhzKTtcbiAgICB9O1xuQ2hhclNjYW5uZXJzWzk2IC8qIEJhY2t0aWNrICovXSA9IHMgPT4ge1xuICAgIHJldHVybiBzY2FuVGVtcGxhdGUocyk7XG59O1xuLy8gISwgIT0sICE9PVxuQ2hhclNjYW5uZXJzWzMzIC8qIEV4Y2xhbWF0aW9uICovXSA9IHMgPT4ge1xuICAgIGlmIChuZXh0Q2hhcihzKSAhPT0gNjEgLyogRXF1YWxzICovKSB7XG4gICAgICAgIHJldHVybiAzMjgwOSAvKiBFeGNsYW1hdGlvbiAqLztcbiAgICB9XG4gICAgaWYgKG5leHRDaGFyKHMpICE9PSA2MSAvKiBFcXVhbHMgKi8pIHtcbiAgICAgICAgcmV0dXJuIDE2Mzg2ODAgLyogRXhjbGFtYXRpb25FcXVhbHMgKi87XG4gICAgfVxuICAgIG5leHRDaGFyKHMpO1xuICAgIHJldHVybiAxNjM4NjgyIC8qIEV4Y2xhbWF0aW9uRXF1YWxzRXF1YWxzICovO1xufTtcbi8vID0sID09LCA9PT1cbkNoYXJTY2FubmVyc1s2MSAvKiBFcXVhbHMgKi9dID0gcyA9PiB7XG4gICAgaWYgKG5leHRDaGFyKHMpICE9PSA2MSAvKiBFcXVhbHMgKi8pIHtcbiAgICAgICAgcmV0dXJuIDEwNDg2MTYgLyogRXF1YWxzICovO1xuICAgIH1cbiAgICBpZiAobmV4dENoYXIocykgIT09IDYxIC8qIEVxdWFscyAqLykge1xuICAgICAgICByZXR1cm4gMTYzODY3OSAvKiBFcXVhbHNFcXVhbHMgKi87XG4gICAgfVxuICAgIG5leHRDaGFyKHMpO1xuICAgIHJldHVybiAxNjM4NjgxIC8qIEVxdWFsc0VxdWFsc0VxdWFscyAqLztcbn07XG4vLyAmLCAmJlxuQ2hhclNjYW5uZXJzWzM4IC8qIEFtcGVyc2FuZCAqL10gPSBzID0+IHtcbiAgICBpZiAobmV4dENoYXIocykgIT09IDM4IC8qIEFtcGVyc2FuZCAqLykge1xuICAgICAgICByZXR1cm4gMTU3Mjg4MyAvKiBBbXBlcnNhbmQgKi87XG4gICAgfVxuICAgIG5leHRDaGFyKHMpO1xuICAgIHJldHVybiAxNjM4NjE0IC8qIEFtcGVyc2FuZEFtcGVyc2FuZCAqLztcbn07XG4vLyB8LCB8fFxuQ2hhclNjYW5uZXJzWzEyNCAvKiBCYXIgKi9dID0gcyA9PiB7XG4gICAgaWYgKG5leHRDaGFyKHMpICE9PSAxMjQgLyogQmFyICovKSB7XG4gICAgICAgIHJldHVybiAxNTcyODg0IC8qIEJhciAqLztcbiAgICB9XG4gICAgbmV4dENoYXIocyk7XG4gICAgcmV0dXJuIDE2Mzg1NDkgLyogQmFyQmFyICovO1xufTtcbi8vIC5cbkNoYXJTY2FubmVyc1s0NiAvKiBEb3QgKi9dID0gcyA9PiB7XG4gICAgaWYgKG5leHRDaGFyKHMpIDw9IDU3IC8qIE5pbmUgKi8gJiYgcy5jdXJyZW50Q2hhciA+PSA0OCAvKiBaZXJvICovKSB7XG4gICAgICAgIHJldHVybiBzY2FuTnVtYmVyKHMsIHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gMTYzOTMgLyogRG90ICovO1xufTtcbi8vIDwsIDw9XG5DaGFyU2Nhbm5lcnNbNjAgLyogTGVzc1RoYW4gKi9dID0gcyA9PiB7XG4gICAgaWYgKG5leHRDaGFyKHMpICE9PSA2MSAvKiBFcXVhbHMgKi8pIHtcbiAgICAgICAgcmV0dXJuIDE2Mzg3NDcgLyogTGVzc1RoYW4gKi87XG4gICAgfVxuICAgIG5leHRDaGFyKHMpO1xuICAgIHJldHVybiAxNjM4NzQ5IC8qIExlc3NUaGFuRXF1YWxzICovO1xufTtcbi8vID4sID49XG5DaGFyU2Nhbm5lcnNbNjIgLyogR3JlYXRlclRoYW4gKi9dID0gcyA9PiB7XG4gICAgaWYgKG5leHRDaGFyKHMpICE9PSA2MSAvKiBFcXVhbHMgKi8pIHtcbiAgICAgICAgcmV0dXJuIDE2Mzg3NDggLyogR3JlYXRlclRoYW4gKi87XG4gICAgfVxuICAgIG5leHRDaGFyKHMpO1xuICAgIHJldHVybiAxNjM4NzUwIC8qIEdyZWF0ZXJUaGFuRXF1YWxzICovO1xufTtcbkNoYXJTY2FubmVyc1szNyAvKiBQZXJjZW50ICovXSA9IHJldHVyblRva2VuKDE2Mzg4ODYgLyogUGVyY2VudCAqLyk7XG5DaGFyU2Nhbm5lcnNbNDAgLyogT3BlblBhcmVuICovXSA9IHJldHVyblRva2VuKDY3MTc1MSAvKiBPcGVuUGFyZW4gKi8pO1xuQ2hhclNjYW5uZXJzWzQxIC8qIENsb3NlUGFyZW4gKi9dID0gcmV0dXJuVG9rZW4oMTgzNTAxOSAvKiBDbG9zZVBhcmVuICovKTtcbkNoYXJTY2FubmVyc1s0MiAvKiBBc3RlcmlzayAqL10gPSByZXR1cm5Ub2tlbigxNjM4ODg1IC8qIEFzdGVyaXNrICovKTtcbkNoYXJTY2FubmVyc1s0MyAvKiBQbHVzICovXSA9IHJldHVyblRva2VuKDYyMzAwOSAvKiBQbHVzICovKTtcbkNoYXJTY2FubmVyc1s0NCAvKiBDb21tYSAqL10gPSByZXR1cm5Ub2tlbigxNTcyODc2IC8qIENvbW1hICovKTtcbkNoYXJTY2FubmVyc1s0NSAvKiBNaW51cyAqL10gPSByZXR1cm5Ub2tlbig2MjMwMTAgLyogTWludXMgKi8pO1xuQ2hhclNjYW5uZXJzWzQ3IC8qIFNsYXNoICovXSA9IHJldHVyblRva2VuKDE2Mzg4ODcgLyogU2xhc2ggKi8pO1xuQ2hhclNjYW5uZXJzWzU4IC8qIENvbG9uICovXSA9IHJldHVyblRva2VuKDE1NzI4NzkgLyogQ29sb24gKi8pO1xuQ2hhclNjYW5uZXJzWzYzIC8qIFF1ZXN0aW9uICovXSA9IHJldHVyblRva2VuKDE1NzI4ODAgLyogUXVlc3Rpb24gKi8pO1xuQ2hhclNjYW5uZXJzWzkxIC8qIE9wZW5CcmFja2V0ICovXSA9IHJldHVyblRva2VuKDY3MTc1NyAvKiBPcGVuQnJhY2tldCAqLyk7XG5DaGFyU2Nhbm5lcnNbOTMgLyogQ2xvc2VCcmFja2V0ICovXSA9IHJldHVyblRva2VuKDE4MzUwMjIgLyogQ2xvc2VCcmFja2V0ICovKTtcbkNoYXJTY2FubmVyc1sxMjMgLyogT3BlbkJyYWNlICovXSA9IHJldHVyblRva2VuKDEzMTA4MCAvKiBPcGVuQnJhY2UgKi8pO1xuQ2hhclNjYW5uZXJzWzEyNSAvKiBDbG9zZUJyYWNlICovXSA9IHJldHVyblRva2VuKDE4MzUwMTggLyogQ2xvc2VCcmFjZSAqLyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHByZXNzaW9uLXBhcnNlci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/binding/expression-parser.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IPlatform\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IPlatform),\n/* harmony export */   \"Platform\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.Platform),\n/* harmony export */   \"TaskQueue\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.TaskQueue),\n/* harmony export */   \"Task\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.Task),\n/* harmony export */   \"TaskAbortError\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.TaskAbortError),\n/* harmony export */   \"TaskQueuePriority\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.TaskQueuePriority),\n/* harmony export */   \"TaskStatus\": () => (/* reexport safe */ _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__.TaskStatus),\n/* harmony export */   \"alias\": () => (/* reexport safe */ _alias_js__WEBPACK_IMPORTED_MODULE_2__.alias),\n/* harmony export */   \"registerAliases\": () => (/* reexport safe */ _alias_js__WEBPACK_IMPORTED_MODULE_2__.registerAliases),\n/* harmony export */   \"ExpressionKind\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.ExpressionKind),\n/* harmony export */   \"CallFunctionExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.CallFunctionExpression),\n/* harmony export */   \"CustomExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.CustomExpression),\n/* harmony export */   \"BindingBehaviorExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.BindingBehaviorExpression),\n/* harmony export */   \"ValueConverterExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.ValueConverterExpression),\n/* harmony export */   \"AssignExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.AssignExpression),\n/* harmony export */   \"ConditionalExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.ConditionalExpression),\n/* harmony export */   \"AccessThisExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.AccessThisExpression),\n/* harmony export */   \"AccessScopeExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.AccessScopeExpression),\n/* harmony export */   \"AccessMemberExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.AccessMemberExpression),\n/* harmony export */   \"AccessKeyedExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.AccessKeyedExpression),\n/* harmony export */   \"CallScopeExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.CallScopeExpression),\n/* harmony export */   \"CallMemberExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.CallMemberExpression),\n/* harmony export */   \"BinaryExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.BinaryExpression),\n/* harmony export */   \"UnaryExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.UnaryExpression),\n/* harmony export */   \"PrimitiveLiteralExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.PrimitiveLiteralExpression),\n/* harmony export */   \"HtmlLiteralExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.HtmlLiteralExpression),\n/* harmony export */   \"ArrayLiteralExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.ArrayLiteralExpression),\n/* harmony export */   \"ObjectLiteralExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.ObjectLiteralExpression),\n/* harmony export */   \"TemplateExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.TemplateExpression),\n/* harmony export */   \"TaggedTemplateExpression\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.TaggedTemplateExpression),\n/* harmony export */   \"ArrayBindingPattern\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.ArrayBindingPattern),\n/* harmony export */   \"ObjectBindingPattern\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.ObjectBindingPattern),\n/* harmony export */   \"BindingIdentifier\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.BindingIdentifier),\n/* harmony export */   \"ForOfStatement\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.ForOfStatement),\n/* harmony export */   \"Interpolation\": () => (/* reexport safe */ _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__.Interpolation),\n/* harmony export */   \"connectable\": () => (/* reexport safe */ _binding_connectable_js__WEBPACK_IMPORTED_MODULE_4__.connectable),\n/* harmony export */   \"BindingMediator\": () => (/* reexport safe */ _binding_connectable_js__WEBPACK_IMPORTED_MODULE_4__.BindingMediator),\n/* harmony export */   \"BindingObserverRecord\": () => (/* reexport safe */ _binding_connectable_js__WEBPACK_IMPORTED_MODULE_4__.BindingObserverRecord),\n/* harmony export */   \"IExpressionParser\": () => (/* reexport safe */ _binding_expression_parser_js__WEBPACK_IMPORTED_MODULE_5__.IExpressionParser),\n/* harmony export */   \"BindingType\": () => (/* reexport safe */ _binding_expression_parser_js__WEBPACK_IMPORTED_MODULE_5__.BindingType),\n/* harmony export */   \"parseExpression\": () => (/* reexport safe */ _binding_expression_parser_js__WEBPACK_IMPORTED_MODULE_5__.parseExpression),\n/* harmony export */   \"Char\": () => (/* reexport safe */ _binding_expression_parser_js__WEBPACK_IMPORTED_MODULE_5__.Char),\n/* harmony export */   \"Access\": () => (/* reexport safe */ _binding_expression_parser_js__WEBPACK_IMPORTED_MODULE_5__.Access),\n/* harmony export */   \"Precedence\": () => (/* reexport safe */ _binding_expression_parser_js__WEBPACK_IMPORTED_MODULE_5__.Precedence),\n/* harmony export */   \"parse\": () => (/* reexport safe */ _binding_expression_parser_js__WEBPACK_IMPORTED_MODULE_5__.parse),\n/* harmony export */   \"ParserState\": () => (/* reexport safe */ _binding_expression_parser_js__WEBPACK_IMPORTED_MODULE_5__.ParserState),\n/* harmony export */   \"ArrayObserver\": () => (/* reexport safe */ _observation_array_observer_js__WEBPACK_IMPORTED_MODULE_6__.ArrayObserver),\n/* harmony export */   \"ArrayIndexObserver\": () => (/* reexport safe */ _observation_array_observer_js__WEBPACK_IMPORTED_MODULE_6__.ArrayIndexObserver),\n/* harmony export */   \"enableArrayObservation\": () => (/* reexport safe */ _observation_array_observer_js__WEBPACK_IMPORTED_MODULE_6__.enableArrayObservation),\n/* harmony export */   \"disableArrayObservation\": () => (/* reexport safe */ _observation_array_observer_js__WEBPACK_IMPORTED_MODULE_6__.disableArrayObservation),\n/* harmony export */   \"applyMutationsToIndices\": () => (/* reexport safe */ _observation_array_observer_js__WEBPACK_IMPORTED_MODULE_6__.applyMutationsToIndices),\n/* harmony export */   \"synchronizeIndices\": () => (/* reexport safe */ _observation_array_observer_js__WEBPACK_IMPORTED_MODULE_6__.synchronizeIndices),\n/* harmony export */   \"MapObserver\": () => (/* reexport safe */ _observation_map_observer_js__WEBPACK_IMPORTED_MODULE_7__.MapObserver),\n/* harmony export */   \"enableMapObservation\": () => (/* reexport safe */ _observation_map_observer_js__WEBPACK_IMPORTED_MODULE_7__.enableMapObservation),\n/* harmony export */   \"disableMapObservation\": () => (/* reexport safe */ _observation_map_observer_js__WEBPACK_IMPORTED_MODULE_7__.disableMapObservation),\n/* harmony export */   \"SetObserver\": () => (/* reexport safe */ _observation_set_observer_js__WEBPACK_IMPORTED_MODULE_8__.SetObserver),\n/* harmony export */   \"enableSetObservation\": () => (/* reexport safe */ _observation_set_observer_js__WEBPACK_IMPORTED_MODULE_8__.enableSetObservation),\n/* harmony export */   \"disableSetObservation\": () => (/* reexport safe */ _observation_set_observer_js__WEBPACK_IMPORTED_MODULE_8__.disableSetObservation),\n/* harmony export */   \"BindingContext\": () => (/* reexport safe */ _observation_binding_context_js__WEBPACK_IMPORTED_MODULE_9__.BindingContext),\n/* harmony export */   \"Scope\": () => (/* reexport safe */ _observation_binding_context_js__WEBPACK_IMPORTED_MODULE_9__.Scope),\n/* harmony export */   \"OverrideContext\": () => (/* reexport safe */ _observation_binding_context_js__WEBPACK_IMPORTED_MODULE_9__.OverrideContext),\n/* harmony export */   \"CollectionLengthObserver\": () => (/* reexport safe */ _observation_collection_length_observer_js__WEBPACK_IMPORTED_MODULE_10__.CollectionLengthObserver),\n/* harmony export */   \"CollectionSizeObserver\": () => (/* reexport safe */ _observation_collection_length_observer_js__WEBPACK_IMPORTED_MODULE_10__.CollectionSizeObserver),\n/* harmony export */   \"ComputedObserver\": () => (/* reexport safe */ _observation_computed_observer_js__WEBPACK_IMPORTED_MODULE_11__.ComputedObserver),\n/* harmony export */   \"IDirtyChecker\": () => (/* reexport safe */ _observation_dirty_checker_js__WEBPACK_IMPORTED_MODULE_12__.IDirtyChecker),\n/* harmony export */   \"DirtyCheckProperty\": () => (/* reexport safe */ _observation_dirty_checker_js__WEBPACK_IMPORTED_MODULE_12__.DirtyCheckProperty),\n/* harmony export */   \"DirtyCheckSettings\": () => (/* reexport safe */ _observation_dirty_checker_js__WEBPACK_IMPORTED_MODULE_12__.DirtyCheckSettings),\n/* harmony export */   \"IObservation\": () => (/* reexport safe */ _observation_observation_js__WEBPACK_IMPORTED_MODULE_13__.IObservation),\n/* harmony export */   \"Observation\": () => (/* reexport safe */ _observation_observation_js__WEBPACK_IMPORTED_MODULE_13__.Observation),\n/* harmony export */   \"observable\": () => (/* reexport safe */ _observation_observable_js__WEBPACK_IMPORTED_MODULE_14__.observable),\n/* harmony export */   \"IObserverLocator\": () => (/* reexport safe */ _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_15__.IObserverLocator),\n/* harmony export */   \"INodeObserverLocator\": () => (/* reexport safe */ _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_15__.INodeObserverLocator),\n/* harmony export */   \"getCollectionObserver\": () => (/* reexport safe */ _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_15__.getCollectionObserver),\n/* harmony export */   \"ObserverLocator\": () => (/* reexport safe */ _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_15__.ObserverLocator),\n/* harmony export */   \"PrimitiveObserver\": () => (/* reexport safe */ _observation_primitive_observer_js__WEBPACK_IMPORTED_MODULE_16__.PrimitiveObserver),\n/* harmony export */   \"PropertyAccessor\": () => (/* reexport safe */ _observation_property_accessor_js__WEBPACK_IMPORTED_MODULE_17__.PropertyAccessor),\n/* harmony export */   \"ProxyObservable\": () => (/* reexport safe */ _observation_proxy_observation_js__WEBPACK_IMPORTED_MODULE_18__.ProxyObservable),\n/* harmony export */   \"SetterObserver\": () => (/* reexport safe */ _observation_setter_observer_js__WEBPACK_IMPORTED_MODULE_19__.SetterObserver),\n/* harmony export */   \"ISignaler\": () => (/* reexport safe */ _observation_signaler_js__WEBPACK_IMPORTED_MODULE_20__.ISignaler),\n/* harmony export */   \"SubscriberRecord\": () => (/* reexport safe */ _observation_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_21__.SubscriberRecord),\n/* harmony export */   \"subscriberCollection\": () => (/* reexport safe */ _observation_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_21__.subscriberCollection),\n/* harmony export */   \"ConnectableSwitcher\": () => (/* reexport safe */ _observation_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_22__.ConnectableSwitcher),\n/* harmony export */   \"bindingBehavior\": () => (/* reexport safe */ _binding_behavior_js__WEBPACK_IMPORTED_MODULE_23__.bindingBehavior),\n/* harmony export */   \"BindingBehavior\": () => (/* reexport safe */ _binding_behavior_js__WEBPACK_IMPORTED_MODULE_23__.BindingBehavior),\n/* harmony export */   \"BindingBehaviorDefinition\": () => (/* reexport safe */ _binding_behavior_js__WEBPACK_IMPORTED_MODULE_23__.BindingBehaviorDefinition),\n/* harmony export */   \"BindingInterceptor\": () => (/* reexport safe */ _binding_behavior_js__WEBPACK_IMPORTED_MODULE_23__.BindingInterceptor),\n/* harmony export */   \"BindingBehaviorFactory\": () => (/* reexport safe */ _binding_behavior_js__WEBPACK_IMPORTED_MODULE_23__.BindingBehaviorFactory),\n/* harmony export */   \"BindingBehaviorStrategy\": () => (/* reexport safe */ _binding_behavior_js__WEBPACK_IMPORTED_MODULE_23__.BindingBehaviorStrategy),\n/* harmony export */   \"ValueConverter\": () => (/* reexport safe */ _value_converter_js__WEBPACK_IMPORTED_MODULE_24__.ValueConverter),\n/* harmony export */   \"ValueConverterDefinition\": () => (/* reexport safe */ _value_converter_js__WEBPACK_IMPORTED_MODULE_24__.ValueConverterDefinition),\n/* harmony export */   \"valueConverter\": () => (/* reexport safe */ _value_converter_js__WEBPACK_IMPORTED_MODULE_24__.valueConverter),\n/* harmony export */   \"BindingMode\": () => (/* reexport safe */ _observation_js__WEBPACK_IMPORTED_MODULE_25__.BindingMode),\n/* harmony export */   \"LifecycleFlags\": () => (/* reexport safe */ _observation_js__WEBPACK_IMPORTED_MODULE_25__.LifecycleFlags),\n/* harmony export */   \"AccessorType\": () => (/* reexport safe */ _observation_js__WEBPACK_IMPORTED_MODULE_25__.AccessorType),\n/* harmony export */   \"CollectionKind\": () => (/* reexport safe */ _observation_js__WEBPACK_IMPORTED_MODULE_25__.CollectionKind),\n/* harmony export */   \"DelegationStrategy\": () => (/* reexport safe */ _observation_js__WEBPACK_IMPORTED_MODULE_25__.DelegationStrategy),\n/* harmony export */   \"isIndexMap\": () => (/* reexport safe */ _observation_js__WEBPACK_IMPORTED_MODULE_25__.isIndexMap),\n/* harmony export */   \"copyIndexMap\": () => (/* reexport safe */ _observation_js__WEBPACK_IMPORTED_MODULE_25__.copyIndexMap),\n/* harmony export */   \"cloneIndexMap\": () => (/* reexport safe */ _observation_js__WEBPACK_IMPORTED_MODULE_25__.cloneIndexMap),\n/* harmony export */   \"createIndexMap\": () => (/* reexport safe */ _observation_js__WEBPACK_IMPORTED_MODULE_25__.createIndexMap)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/platform */ \"./node_modules/@aurelia/platform/dist/esm/index.js\");\n/* harmony import */ var _alias_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./alias.js */ \"./node_modules/@aurelia/runtime/dist/esm/alias.js\");\n/* harmony import */ var _binding_ast_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./binding/ast.js */ \"./node_modules/@aurelia/runtime/dist/esm/binding/ast.js\");\n/* harmony import */ var _binding_connectable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./binding/connectable.js */ \"./node_modules/@aurelia/runtime/dist/esm/binding/connectable.js\");\n/* harmony import */ var _binding_expression_parser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./binding/expression-parser.js */ \"./node_modules/@aurelia/runtime/dist/esm/binding/expression-parser.js\");\n/* harmony import */ var _observation_array_observer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./observation/array-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/array-observer.js\");\n/* harmony import */ var _observation_map_observer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./observation/map-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/map-observer.js\");\n/* harmony import */ var _observation_set_observer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./observation/set-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/set-observer.js\");\n/* harmony import */ var _observation_binding_context_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./observation/binding-context.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/binding-context.js\");\n/* harmony import */ var _observation_collection_length_observer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./observation/collection-length-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/collection-length-observer.js\");\n/* harmony import */ var _observation_computed_observer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./observation/computed-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/computed-observer.js\");\n/* harmony import */ var _observation_dirty_checker_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./observation/dirty-checker.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/dirty-checker.js\");\n/* harmony import */ var _observation_observation_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./observation/observation.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/observation.js\");\n/* harmony import */ var _observation_observable_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./observation/observable.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/observable.js\");\n/* harmony import */ var _observation_observer_locator_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./observation/observer-locator.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/observer-locator.js\");\n/* harmony import */ var _observation_primitive_observer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./observation/primitive-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/primitive-observer.js\");\n/* harmony import */ var _observation_property_accessor_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./observation/property-accessor.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/property-accessor.js\");\n/* harmony import */ var _observation_proxy_observation_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./observation/proxy-observation.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/proxy-observation.js\");\n/* harmony import */ var _observation_setter_observer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./observation/setter-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/setter-observer.js\");\n/* harmony import */ var _observation_signaler_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./observation/signaler.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/signaler.js\");\n/* harmony import */ var _observation_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./observation/subscriber-collection.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/subscriber-collection.js\");\n/* harmony import */ var _observation_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./observation/connectable-switcher.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/connectable-switcher.js\");\n/* harmony import */ var _binding_behavior_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./binding-behavior.js */ \"./node_modules/@aurelia/runtime/dist/esm/binding-behavior.js\");\n/* harmony import */ var _value_converter_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./value-converter.js */ \"./node_modules/@aurelia/runtime/dist/esm/value-converter.js\");\n/* harmony import */ var _observation_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./observation.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL2luZGV4LmpzPzQxZTgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgSVBsYXRmb3JtLCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5leHBvcnQgeyBQbGF0Zm9ybSwgVGFza1F1ZXVlLCBUYXNrLCBUYXNrQWJvcnRFcnJvciwgVGFza1F1ZXVlUHJpb3JpdHksIFRhc2tTdGF0dXMsIH0gZnJvbSAnQGF1cmVsaWEvcGxhdGZvcm0nO1xuZXhwb3J0IHsgYWxpYXMsIHJlZ2lzdGVyQWxpYXNlcywgfSBmcm9tICcuL2FsaWFzLmpzJztcbmV4cG9ydCB7IEV4cHJlc3Npb25LaW5kLCBDYWxsRnVuY3Rpb25FeHByZXNzaW9uLCBDdXN0b21FeHByZXNzaW9uLCBCaW5kaW5nQmVoYXZpb3JFeHByZXNzaW9uLCBWYWx1ZUNvbnZlcnRlckV4cHJlc3Npb24sIEFzc2lnbkV4cHJlc3Npb24sIENvbmRpdGlvbmFsRXhwcmVzc2lvbiwgQWNjZXNzVGhpc0V4cHJlc3Npb24sIEFjY2Vzc1Njb3BlRXhwcmVzc2lvbiwgQWNjZXNzTWVtYmVyRXhwcmVzc2lvbiwgQWNjZXNzS2V5ZWRFeHByZXNzaW9uLCBDYWxsU2NvcGVFeHByZXNzaW9uLCBDYWxsTWVtYmVyRXhwcmVzc2lvbiwgQmluYXJ5RXhwcmVzc2lvbiwgVW5hcnlFeHByZXNzaW9uLCBQcmltaXRpdmVMaXRlcmFsRXhwcmVzc2lvbiwgSHRtbExpdGVyYWxFeHByZXNzaW9uLCBBcnJheUxpdGVyYWxFeHByZXNzaW9uLCBPYmplY3RMaXRlcmFsRXhwcmVzc2lvbiwgVGVtcGxhdGVFeHByZXNzaW9uLCBUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24sIEFycmF5QmluZGluZ1BhdHRlcm4sIE9iamVjdEJpbmRpbmdQYXR0ZXJuLCBCaW5kaW5nSWRlbnRpZmllciwgRm9yT2ZTdGF0ZW1lbnQsIEludGVycG9sYXRpb24sIH0gZnJvbSAnLi9iaW5kaW5nL2FzdC5qcyc7XG5leHBvcnQgeyBjb25uZWN0YWJsZSwgQmluZGluZ01lZGlhdG9yLCBCaW5kaW5nT2JzZXJ2ZXJSZWNvcmQsIH0gZnJvbSAnLi9iaW5kaW5nL2Nvbm5lY3RhYmxlLmpzJztcbmV4cG9ydCB7IElFeHByZXNzaW9uUGFyc2VyLCBCaW5kaW5nVHlwZSwgcGFyc2VFeHByZXNzaW9uLCBDaGFyLCBBY2Nlc3MsIFByZWNlZGVuY2UsIHBhcnNlLCBQYXJzZXJTdGF0ZSwgfSBmcm9tICcuL2JpbmRpbmcvZXhwcmVzc2lvbi1wYXJzZXIuanMnO1xuZXhwb3J0IHsgQXJyYXlPYnNlcnZlciwgQXJyYXlJbmRleE9ic2VydmVyLCBlbmFibGVBcnJheU9ic2VydmF0aW9uLCBkaXNhYmxlQXJyYXlPYnNlcnZhdGlvbiwgYXBwbHlNdXRhdGlvbnNUb0luZGljZXMsIHN5bmNocm9uaXplSW5kaWNlcywgfSBmcm9tICcuL29ic2VydmF0aW9uL2FycmF5LW9ic2VydmVyLmpzJztcbmV4cG9ydCB7IE1hcE9ic2VydmVyLCBlbmFibGVNYXBPYnNlcnZhdGlvbiwgZGlzYWJsZU1hcE9ic2VydmF0aW9uLCB9IGZyb20gJy4vb2JzZXJ2YXRpb24vbWFwLW9ic2VydmVyLmpzJztcbmV4cG9ydCB7IFNldE9ic2VydmVyLCBlbmFibGVTZXRPYnNlcnZhdGlvbiwgZGlzYWJsZVNldE9ic2VydmF0aW9uIH0gZnJvbSAnLi9vYnNlcnZhdGlvbi9zZXQtb2JzZXJ2ZXIuanMnO1xuZXhwb3J0IHsgQmluZGluZ0NvbnRleHQsIFNjb3BlLCBPdmVycmlkZUNvbnRleHQsIH0gZnJvbSAnLi9vYnNlcnZhdGlvbi9iaW5kaW5nLWNvbnRleHQuanMnO1xuZXhwb3J0IHsgQ29sbGVjdGlvbkxlbmd0aE9ic2VydmVyLCBDb2xsZWN0aW9uU2l6ZU9ic2VydmVyLCB9IGZyb20gJy4vb2JzZXJ2YXRpb24vY29sbGVjdGlvbi1sZW5ndGgtb2JzZXJ2ZXIuanMnO1xuZXhwb3J0IHsgQ29tcHV0ZWRPYnNlcnZlciwgfSBmcm9tICcuL29ic2VydmF0aW9uL2NvbXB1dGVkLW9ic2VydmVyLmpzJztcbmV4cG9ydCB7IElEaXJ0eUNoZWNrZXIsIERpcnR5Q2hlY2tQcm9wZXJ0eSwgRGlydHlDaGVja1NldHRpbmdzLCB9IGZyb20gJy4vb2JzZXJ2YXRpb24vZGlydHktY2hlY2tlci5qcyc7XG5leHBvcnQgeyBJT2JzZXJ2YXRpb24sIE9ic2VydmF0aW9uLCB9IGZyb20gJy4vb2JzZXJ2YXRpb24vb2JzZXJ2YXRpb24uanMnO1xuZXhwb3J0IHsgb2JzZXJ2YWJsZSwgfSBmcm9tICcuL29ic2VydmF0aW9uL29ic2VydmFibGUuanMnO1xuZXhwb3J0IHsgSU9ic2VydmVyTG9jYXRvciwgSU5vZGVPYnNlcnZlckxvY2F0b3IsIGdldENvbGxlY3Rpb25PYnNlcnZlciwgT2JzZXJ2ZXJMb2NhdG9yLCB9IGZyb20gJy4vb2JzZXJ2YXRpb24vb2JzZXJ2ZXItbG9jYXRvci5qcyc7XG5leHBvcnQgeyBQcmltaXRpdmVPYnNlcnZlciwgfSBmcm9tICcuL29ic2VydmF0aW9uL3ByaW1pdGl2ZS1vYnNlcnZlci5qcyc7XG5leHBvcnQgeyBQcm9wZXJ0eUFjY2Vzc29yLCB9IGZyb20gJy4vb2JzZXJ2YXRpb24vcHJvcGVydHktYWNjZXNzb3IuanMnO1xuZXhwb3J0IHsgUHJveHlPYnNlcnZhYmxlLCB9IGZyb20gJy4vb2JzZXJ2YXRpb24vcHJveHktb2JzZXJ2YXRpb24uanMnO1xuZXhwb3J0IHsgU2V0dGVyT2JzZXJ2ZXIsIH0gZnJvbSAnLi9vYnNlcnZhdGlvbi9zZXR0ZXItb2JzZXJ2ZXIuanMnO1xuZXhwb3J0IHsgSVNpZ25hbGVyLCB9IGZyb20gJy4vb2JzZXJ2YXRpb24vc2lnbmFsZXIuanMnO1xuZXhwb3J0IHsgU3Vic2NyaWJlclJlY29yZCwgc3Vic2NyaWJlckNvbGxlY3Rpb24sIH0gZnJvbSAnLi9vYnNlcnZhdGlvbi9zdWJzY3JpYmVyLWNvbGxlY3Rpb24uanMnO1xuZXhwb3J0IHsgQ29ubmVjdGFibGVTd2l0Y2hlciwgfSBmcm9tICcuL29ic2VydmF0aW9uL2Nvbm5lY3RhYmxlLXN3aXRjaGVyLmpzJztcbmV4cG9ydCB7IGJpbmRpbmdCZWhhdmlvciwgQmluZGluZ0JlaGF2aW9yLCBCaW5kaW5nQmVoYXZpb3JEZWZpbml0aW9uLCBCaW5kaW5nSW50ZXJjZXB0b3IsIEJpbmRpbmdCZWhhdmlvckZhY3RvcnksIEJpbmRpbmdCZWhhdmlvclN0cmF0ZWd5LCB9IGZyb20gJy4vYmluZGluZy1iZWhhdmlvci5qcyc7XG5leHBvcnQgeyBWYWx1ZUNvbnZlcnRlciwgVmFsdWVDb252ZXJ0ZXJEZWZpbml0aW9uLCB2YWx1ZUNvbnZlcnRlciwgfSBmcm9tICcuL3ZhbHVlLWNvbnZlcnRlci5qcyc7XG5leHBvcnQgeyBCaW5kaW5nTW9kZSwgTGlmZWN5Y2xlRmxhZ3MsIEFjY2Vzc29yVHlwZSwgQ29sbGVjdGlvbktpbmQsIERlbGVnYXRpb25TdHJhdGVneSwgaXNJbmRleE1hcCwgY29weUluZGV4TWFwLCBjbG9uZUluZGV4TWFwLCBjcmVhdGVJbmRleE1hcCwgfSBmcm9tICcuL29ic2VydmF0aW9uLmpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation.js":
/*!***************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BindingMode\": () => (/* binding */ BindingMode),\n/* harmony export */   \"LifecycleFlags\": () => (/* binding */ LifecycleFlags),\n/* harmony export */   \"SubscriberFlags\": () => (/* binding */ SubscriberFlags),\n/* harmony export */   \"DelegationStrategy\": () => (/* binding */ DelegationStrategy),\n/* harmony export */   \"CollectionKind\": () => (/* binding */ CollectionKind),\n/* harmony export */   \"AccessorType\": () => (/* binding */ AccessorType),\n/* harmony export */   \"copyIndexMap\": () => (/* binding */ copyIndexMap),\n/* harmony export */   \"createIndexMap\": () => (/* binding */ createIndexMap),\n/* harmony export */   \"cloneIndexMap\": () => (/* binding */ cloneIndexMap),\n/* harmony export */   \"isIndexMap\": () => (/* binding */ isIndexMap)\n/* harmony export */ });\n/*\n* Note: the oneTime binding now has a non-zero value for 2 reasons:\n*  - plays nicer with bitwise operations (more consistent code, more explicit settings)\n*  - allows for potentially having something like BindingMode.oneTime | BindingMode.fromView, where an initial value is set once to the view but updates from the view also propagate back to the view model\n*\n* Furthermore, the \"default\" mode would be for simple \".bind\" expressions to make it explicit for our logic that the default is being used.\n* This essentially adds extra information which binding could use to do smarter things and allows bindingBehaviors that add a mode instead of simply overwriting it\n*/\nvar BindingMode;\n(function (BindingMode) {\n    BindingMode[BindingMode[\"oneTime\"] = 1] = \"oneTime\";\n    BindingMode[BindingMode[\"toView\"] = 2] = \"toView\";\n    BindingMode[BindingMode[\"fromView\"] = 4] = \"fromView\";\n    BindingMode[BindingMode[\"twoWay\"] = 6] = \"twoWay\";\n    BindingMode[BindingMode[\"default\"] = 8] = \"default\";\n})(BindingMode || (BindingMode = {}));\nvar LifecycleFlags;\n(function (LifecycleFlags) {\n    LifecycleFlags[LifecycleFlags[\"none\"] = 0] = \"none\";\n    // Bitmask for flags that need to be stored on a binding during $bind for mutation\n    // callbacks outside of $bind\n    LifecycleFlags[LifecycleFlags[\"persistentBindingFlags\"] = 961] = \"persistentBindingFlags\";\n    LifecycleFlags[LifecycleFlags[\"allowParentScopeTraversal\"] = 64] = \"allowParentScopeTraversal\";\n    LifecycleFlags[LifecycleFlags[\"observeLeafPropertiesOnly\"] = 128] = \"observeLeafPropertiesOnly\";\n    LifecycleFlags[LifecycleFlags[\"targetObserverFlags\"] = 769] = \"targetObserverFlags\";\n    LifecycleFlags[LifecycleFlags[\"noFlush\"] = 256] = \"noFlush\";\n    LifecycleFlags[LifecycleFlags[\"persistentTargetObserverQueue\"] = 512] = \"persistentTargetObserverQueue\";\n    LifecycleFlags[LifecycleFlags[\"bindingStrategy\"] = 1] = \"bindingStrategy\";\n    LifecycleFlags[LifecycleFlags[\"isStrictBindingStrategy\"] = 1] = \"isStrictBindingStrategy\";\n    LifecycleFlags[LifecycleFlags[\"fromBind\"] = 2] = \"fromBind\";\n    LifecycleFlags[LifecycleFlags[\"fromUnbind\"] = 4] = \"fromUnbind\";\n    LifecycleFlags[LifecycleFlags[\"mustEvaluate\"] = 8] = \"mustEvaluate\";\n    LifecycleFlags[LifecycleFlags[\"isTraversingParentScope\"] = 16] = \"isTraversingParentScope\";\n    LifecycleFlags[LifecycleFlags[\"dispose\"] = 32] = \"dispose\";\n})(LifecycleFlags || (LifecycleFlags = {}));\n/** @internal */\nvar SubscriberFlags;\n(function (SubscriberFlags) {\n    SubscriberFlags[SubscriberFlags[\"None\"] = 0] = \"None\";\n    SubscriberFlags[SubscriberFlags[\"Subscriber0\"] = 1] = \"Subscriber0\";\n    SubscriberFlags[SubscriberFlags[\"Subscriber1\"] = 2] = \"Subscriber1\";\n    SubscriberFlags[SubscriberFlags[\"Subscriber2\"] = 4] = \"Subscriber2\";\n    SubscriberFlags[SubscriberFlags[\"SubscribersRest\"] = 8] = \"SubscribersRest\";\n    SubscriberFlags[SubscriberFlags[\"Any\"] = 15] = \"Any\";\n})(SubscriberFlags || (SubscriberFlags = {}));\nvar DelegationStrategy;\n(function (DelegationStrategy) {\n    DelegationStrategy[DelegationStrategy[\"none\"] = 0] = \"none\";\n    DelegationStrategy[DelegationStrategy[\"capturing\"] = 1] = \"capturing\";\n    DelegationStrategy[DelegationStrategy[\"bubbling\"] = 2] = \"bubbling\";\n})(DelegationStrategy || (DelegationStrategy = {}));\nvar CollectionKind;\n(function (CollectionKind) {\n    CollectionKind[CollectionKind[\"indexed\"] = 8] = \"indexed\";\n    CollectionKind[CollectionKind[\"keyed\"] = 4] = \"keyed\";\n    CollectionKind[CollectionKind[\"array\"] = 9] = \"array\";\n    CollectionKind[CollectionKind[\"map\"] = 6] = \"map\";\n    CollectionKind[CollectionKind[\"set\"] = 7] = \"set\";\n})(CollectionKind || (CollectionKind = {}));\nvar AccessorType;\n(function (AccessorType) {\n    AccessorType[AccessorType[\"None\"] = 0] = \"None\";\n    AccessorType[AccessorType[\"Observer\"] = 1] = \"Observer\";\n    AccessorType[AccessorType[\"Node\"] = 2] = \"Node\";\n    // misc characteristic of accessors/observers when update\n    //\n    // by default, everything is synchronous\n    // except changes that are supposed to cause reflow/heavy computation\n    // an observer can use this flag to signal binding that don't carelessly tell it to update\n    // queue it instead\n    // todo: https://gist.github.com/paulirish/5d52fb081b3570c81e3a\n    // todo: https://csstriggers.com/\n    AccessorType[AccessorType[\"Layout\"] = 4] = \"Layout\";\n    // by default, everything is an object\n    // eg: a property is accessed on an object\n    // unless explicitly not so\n    AccessorType[AccessorType[\"Primtive\"] = 8] = \"Primtive\";\n    AccessorType[AccessorType[\"Array\"] = 18] = \"Array\";\n    AccessorType[AccessorType[\"Set\"] = 34] = \"Set\";\n    AccessorType[AccessorType[\"Map\"] = 66] = \"Map\";\n})(AccessorType || (AccessorType = {}));\nfunction copyIndexMap(existing, deletedItems) {\n    const { length } = existing;\n    const arr = Array(length);\n    let i = 0;\n    while (i < length) {\n        arr[i] = existing[i];\n        ++i;\n    }\n    if (deletedItems !== void 0) {\n        arr.deletedItems = deletedItems.slice(0);\n    }\n    else if (existing.deletedItems !== void 0) {\n        arr.deletedItems = existing.deletedItems.slice(0);\n    }\n    else {\n        arr.deletedItems = [];\n    }\n    arr.isIndexMap = true;\n    return arr;\n}\nfunction createIndexMap(length = 0) {\n    const arr = Array(length);\n    let i = 0;\n    while (i < length) {\n        arr[i] = i++;\n    }\n    arr.deletedItems = [];\n    arr.isIndexMap = true;\n    return arr;\n}\nfunction cloneIndexMap(indexMap) {\n    const clone = indexMap.slice();\n    clone.deletedItems = indexMap.deletedItems.slice();\n    clone.isIndexMap = true;\n    return clone;\n}\nfunction isIndexMap(value) {\n    return value instanceof Array && value.isIndexMap === true;\n}\n//# sourceMappingURL=observation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL29ic2VydmF0aW9uLmpzPzNjZmUiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiogTm90ZTogdGhlIG9uZVRpbWUgYmluZGluZyBub3cgaGFzIGEgbm9uLXplcm8gdmFsdWUgZm9yIDIgcmVhc29uczpcbiogIC0gcGxheXMgbmljZXIgd2l0aCBiaXR3aXNlIG9wZXJhdGlvbnMgKG1vcmUgY29uc2lzdGVudCBjb2RlLCBtb3JlIGV4cGxpY2l0IHNldHRpbmdzKVxuKiAgLSBhbGxvd3MgZm9yIHBvdGVudGlhbGx5IGhhdmluZyBzb21ldGhpbmcgbGlrZSBCaW5kaW5nTW9kZS5vbmVUaW1lIHwgQmluZGluZ01vZGUuZnJvbVZpZXcsIHdoZXJlIGFuIGluaXRpYWwgdmFsdWUgaXMgc2V0IG9uY2UgdG8gdGhlIHZpZXcgYnV0IHVwZGF0ZXMgZnJvbSB0aGUgdmlldyBhbHNvIHByb3BhZ2F0ZSBiYWNrIHRvIHRoZSB2aWV3IG1vZGVsXG4qXG4qIEZ1cnRoZXJtb3JlLCB0aGUgXCJkZWZhdWx0XCIgbW9kZSB3b3VsZCBiZSBmb3Igc2ltcGxlIFwiLmJpbmRcIiBleHByZXNzaW9ucyB0byBtYWtlIGl0IGV4cGxpY2l0IGZvciBvdXIgbG9naWMgdGhhdCB0aGUgZGVmYXVsdCBpcyBiZWluZyB1c2VkLlxuKiBUaGlzIGVzc2VudGlhbGx5IGFkZHMgZXh0cmEgaW5mb3JtYXRpb24gd2hpY2ggYmluZGluZyBjb3VsZCB1c2UgdG8gZG8gc21hcnRlciB0aGluZ3MgYW5kIGFsbG93cyBiaW5kaW5nQmVoYXZpb3JzIHRoYXQgYWRkIGEgbW9kZSBpbnN0ZWFkIG9mIHNpbXBseSBvdmVyd3JpdGluZyBpdFxuKi9cbmV4cG9ydCB2YXIgQmluZGluZ01vZGU7XG4oZnVuY3Rpb24gKEJpbmRpbmdNb2RlKSB7XG4gICAgQmluZGluZ01vZGVbQmluZGluZ01vZGVbXCJvbmVUaW1lXCJdID0gMV0gPSBcIm9uZVRpbWVcIjtcbiAgICBCaW5kaW5nTW9kZVtCaW5kaW5nTW9kZVtcInRvVmlld1wiXSA9IDJdID0gXCJ0b1ZpZXdcIjtcbiAgICBCaW5kaW5nTW9kZVtCaW5kaW5nTW9kZVtcImZyb21WaWV3XCJdID0gNF0gPSBcImZyb21WaWV3XCI7XG4gICAgQmluZGluZ01vZGVbQmluZGluZ01vZGVbXCJ0d29XYXlcIl0gPSA2XSA9IFwidHdvV2F5XCI7XG4gICAgQmluZGluZ01vZGVbQmluZGluZ01vZGVbXCJkZWZhdWx0XCJdID0gOF0gPSBcImRlZmF1bHRcIjtcbn0pKEJpbmRpbmdNb2RlIHx8IChCaW5kaW5nTW9kZSA9IHt9KSk7XG5leHBvcnQgdmFyIExpZmVjeWNsZUZsYWdzO1xuKGZ1bmN0aW9uIChMaWZlY3ljbGVGbGFncykge1xuICAgIExpZmVjeWNsZUZsYWdzW0xpZmVjeWNsZUZsYWdzW1wibm9uZVwiXSA9IDBdID0gXCJub25lXCI7XG4gICAgLy8gQml0bWFzayBmb3IgZmxhZ3MgdGhhdCBuZWVkIHRvIGJlIHN0b3JlZCBvbiBhIGJpbmRpbmcgZHVyaW5nICRiaW5kIGZvciBtdXRhdGlvblxuICAgIC8vIGNhbGxiYWNrcyBvdXRzaWRlIG9mICRiaW5kXG4gICAgTGlmZWN5Y2xlRmxhZ3NbTGlmZWN5Y2xlRmxhZ3NbXCJwZXJzaXN0ZW50QmluZGluZ0ZsYWdzXCJdID0gOTYxXSA9IFwicGVyc2lzdGVudEJpbmRpbmdGbGFnc1wiO1xuICAgIExpZmVjeWNsZUZsYWdzW0xpZmVjeWNsZUZsYWdzW1wiYWxsb3dQYXJlbnRTY29wZVRyYXZlcnNhbFwiXSA9IDY0XSA9IFwiYWxsb3dQYXJlbnRTY29wZVRyYXZlcnNhbFwiO1xuICAgIExpZmVjeWNsZUZsYWdzW0xpZmVjeWNsZUZsYWdzW1wib2JzZXJ2ZUxlYWZQcm9wZXJ0aWVzT25seVwiXSA9IDEyOF0gPSBcIm9ic2VydmVMZWFmUHJvcGVydGllc09ubHlcIjtcbiAgICBMaWZlY3ljbGVGbGFnc1tMaWZlY3ljbGVGbGFnc1tcInRhcmdldE9ic2VydmVyRmxhZ3NcIl0gPSA3NjldID0gXCJ0YXJnZXRPYnNlcnZlckZsYWdzXCI7XG4gICAgTGlmZWN5Y2xlRmxhZ3NbTGlmZWN5Y2xlRmxhZ3NbXCJub0ZsdXNoXCJdID0gMjU2XSA9IFwibm9GbHVzaFwiO1xuICAgIExpZmVjeWNsZUZsYWdzW0xpZmVjeWNsZUZsYWdzW1wicGVyc2lzdGVudFRhcmdldE9ic2VydmVyUXVldWVcIl0gPSA1MTJdID0gXCJwZXJzaXN0ZW50VGFyZ2V0T2JzZXJ2ZXJRdWV1ZVwiO1xuICAgIExpZmVjeWNsZUZsYWdzW0xpZmVjeWNsZUZsYWdzW1wiYmluZGluZ1N0cmF0ZWd5XCJdID0gMV0gPSBcImJpbmRpbmdTdHJhdGVneVwiO1xuICAgIExpZmVjeWNsZUZsYWdzW0xpZmVjeWNsZUZsYWdzW1wiaXNTdHJpY3RCaW5kaW5nU3RyYXRlZ3lcIl0gPSAxXSA9IFwiaXNTdHJpY3RCaW5kaW5nU3RyYXRlZ3lcIjtcbiAgICBMaWZlY3ljbGVGbGFnc1tMaWZlY3ljbGVGbGFnc1tcImZyb21CaW5kXCJdID0gMl0gPSBcImZyb21CaW5kXCI7XG4gICAgTGlmZWN5Y2xlRmxhZ3NbTGlmZWN5Y2xlRmxhZ3NbXCJmcm9tVW5iaW5kXCJdID0gNF0gPSBcImZyb21VbmJpbmRcIjtcbiAgICBMaWZlY3ljbGVGbGFnc1tMaWZlY3ljbGVGbGFnc1tcIm11c3RFdmFsdWF0ZVwiXSA9IDhdID0gXCJtdXN0RXZhbHVhdGVcIjtcbiAgICBMaWZlY3ljbGVGbGFnc1tMaWZlY3ljbGVGbGFnc1tcImlzVHJhdmVyc2luZ1BhcmVudFNjb3BlXCJdID0gMTZdID0gXCJpc1RyYXZlcnNpbmdQYXJlbnRTY29wZVwiO1xuICAgIExpZmVjeWNsZUZsYWdzW0xpZmVjeWNsZUZsYWdzW1wiZGlzcG9zZVwiXSA9IDMyXSA9IFwiZGlzcG9zZVwiO1xufSkoTGlmZWN5Y2xlRmxhZ3MgfHwgKExpZmVjeWNsZUZsYWdzID0ge30pKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB2YXIgU3Vic2NyaWJlckZsYWdzO1xuKGZ1bmN0aW9uIChTdWJzY3JpYmVyRmxhZ3MpIHtcbiAgICBTdWJzY3JpYmVyRmxhZ3NbU3Vic2NyaWJlckZsYWdzW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgU3Vic2NyaWJlckZsYWdzW1N1YnNjcmliZXJGbGFnc1tcIlN1YnNjcmliZXIwXCJdID0gMV0gPSBcIlN1YnNjcmliZXIwXCI7XG4gICAgU3Vic2NyaWJlckZsYWdzW1N1YnNjcmliZXJGbGFnc1tcIlN1YnNjcmliZXIxXCJdID0gMl0gPSBcIlN1YnNjcmliZXIxXCI7XG4gICAgU3Vic2NyaWJlckZsYWdzW1N1YnNjcmliZXJGbGFnc1tcIlN1YnNjcmliZXIyXCJdID0gNF0gPSBcIlN1YnNjcmliZXIyXCI7XG4gICAgU3Vic2NyaWJlckZsYWdzW1N1YnNjcmliZXJGbGFnc1tcIlN1YnNjcmliZXJzUmVzdFwiXSA9IDhdID0gXCJTdWJzY3JpYmVyc1Jlc3RcIjtcbiAgICBTdWJzY3JpYmVyRmxhZ3NbU3Vic2NyaWJlckZsYWdzW1wiQW55XCJdID0gMTVdID0gXCJBbnlcIjtcbn0pKFN1YnNjcmliZXJGbGFncyB8fCAoU3Vic2NyaWJlckZsYWdzID0ge30pKTtcbmV4cG9ydCB2YXIgRGVsZWdhdGlvblN0cmF0ZWd5O1xuKGZ1bmN0aW9uIChEZWxlZ2F0aW9uU3RyYXRlZ3kpIHtcbiAgICBEZWxlZ2F0aW9uU3RyYXRlZ3lbRGVsZWdhdGlvblN0cmF0ZWd5W1wibm9uZVwiXSA9IDBdID0gXCJub25lXCI7XG4gICAgRGVsZWdhdGlvblN0cmF0ZWd5W0RlbGVnYXRpb25TdHJhdGVneVtcImNhcHR1cmluZ1wiXSA9IDFdID0gXCJjYXB0dXJpbmdcIjtcbiAgICBEZWxlZ2F0aW9uU3RyYXRlZ3lbRGVsZWdhdGlvblN0cmF0ZWd5W1wiYnViYmxpbmdcIl0gPSAyXSA9IFwiYnViYmxpbmdcIjtcbn0pKERlbGVnYXRpb25TdHJhdGVneSB8fCAoRGVsZWdhdGlvblN0cmF0ZWd5ID0ge30pKTtcbmV4cG9ydCB2YXIgQ29sbGVjdGlvbktpbmQ7XG4oZnVuY3Rpb24gKENvbGxlY3Rpb25LaW5kKSB7XG4gICAgQ29sbGVjdGlvbktpbmRbQ29sbGVjdGlvbktpbmRbXCJpbmRleGVkXCJdID0gOF0gPSBcImluZGV4ZWRcIjtcbiAgICBDb2xsZWN0aW9uS2luZFtDb2xsZWN0aW9uS2luZFtcImtleWVkXCJdID0gNF0gPSBcImtleWVkXCI7XG4gICAgQ29sbGVjdGlvbktpbmRbQ29sbGVjdGlvbktpbmRbXCJhcnJheVwiXSA9IDldID0gXCJhcnJheVwiO1xuICAgIENvbGxlY3Rpb25LaW5kW0NvbGxlY3Rpb25LaW5kW1wibWFwXCJdID0gNl0gPSBcIm1hcFwiO1xuICAgIENvbGxlY3Rpb25LaW5kW0NvbGxlY3Rpb25LaW5kW1wic2V0XCJdID0gN10gPSBcInNldFwiO1xufSkoQ29sbGVjdGlvbktpbmQgfHwgKENvbGxlY3Rpb25LaW5kID0ge30pKTtcbmV4cG9ydCB2YXIgQWNjZXNzb3JUeXBlO1xuKGZ1bmN0aW9uIChBY2Nlc3NvclR5cGUpIHtcbiAgICBBY2Nlc3NvclR5cGVbQWNjZXNzb3JUeXBlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgQWNjZXNzb3JUeXBlW0FjY2Vzc29yVHlwZVtcIk9ic2VydmVyXCJdID0gMV0gPSBcIk9ic2VydmVyXCI7XG4gICAgQWNjZXNzb3JUeXBlW0FjY2Vzc29yVHlwZVtcIk5vZGVcIl0gPSAyXSA9IFwiTm9kZVwiO1xuICAgIC8vIG1pc2MgY2hhcmFjdGVyaXN0aWMgb2YgYWNjZXNzb3JzL29ic2VydmVycyB3aGVuIHVwZGF0ZVxuICAgIC8vXG4gICAgLy8gYnkgZGVmYXVsdCwgZXZlcnl0aGluZyBpcyBzeW5jaHJvbm91c1xuICAgIC8vIGV4Y2VwdCBjaGFuZ2VzIHRoYXQgYXJlIHN1cHBvc2VkIHRvIGNhdXNlIHJlZmxvdy9oZWF2eSBjb21wdXRhdGlvblxuICAgIC8vIGFuIG9ic2VydmVyIGNhbiB1c2UgdGhpcyBmbGFnIHRvIHNpZ25hbCBiaW5kaW5nIHRoYXQgZG9uJ3QgY2FyZWxlc3NseSB0ZWxsIGl0IHRvIHVwZGF0ZVxuICAgIC8vIHF1ZXVlIGl0IGluc3RlYWRcbiAgICAvLyB0b2RvOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9wYXVsaXJpc2gvNWQ1MmZiMDgxYjM1NzBjODFlM2FcbiAgICAvLyB0b2RvOiBodHRwczovL2Nzc3RyaWdnZXJzLmNvbS9cbiAgICBBY2Nlc3NvclR5cGVbQWNjZXNzb3JUeXBlW1wiTGF5b3V0XCJdID0gNF0gPSBcIkxheW91dFwiO1xuICAgIC8vIGJ5IGRlZmF1bHQsIGV2ZXJ5dGhpbmcgaXMgYW4gb2JqZWN0XG4gICAgLy8gZWc6IGEgcHJvcGVydHkgaXMgYWNjZXNzZWQgb24gYW4gb2JqZWN0XG4gICAgLy8gdW5sZXNzIGV4cGxpY2l0bHkgbm90IHNvXG4gICAgQWNjZXNzb3JUeXBlW0FjY2Vzc29yVHlwZVtcIlByaW10aXZlXCJdID0gOF0gPSBcIlByaW10aXZlXCI7XG4gICAgQWNjZXNzb3JUeXBlW0FjY2Vzc29yVHlwZVtcIkFycmF5XCJdID0gMThdID0gXCJBcnJheVwiO1xuICAgIEFjY2Vzc29yVHlwZVtBY2Nlc3NvclR5cGVbXCJTZXRcIl0gPSAzNF0gPSBcIlNldFwiO1xuICAgIEFjY2Vzc29yVHlwZVtBY2Nlc3NvclR5cGVbXCJNYXBcIl0gPSA2Nl0gPSBcIk1hcFwiO1xufSkoQWNjZXNzb3JUeXBlIHx8IChBY2Nlc3NvclR5cGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIGNvcHlJbmRleE1hcChleGlzdGluZywgZGVsZXRlZEl0ZW1zKSB7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IGV4aXN0aW5nO1xuICAgIGNvbnN0IGFyciA9IEFycmF5KGxlbmd0aCk7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICAgIGFycltpXSA9IGV4aXN0aW5nW2ldO1xuICAgICAgICArK2k7XG4gICAgfVxuICAgIGlmIChkZWxldGVkSXRlbXMgIT09IHZvaWQgMCkge1xuICAgICAgICBhcnIuZGVsZXRlZEl0ZW1zID0gZGVsZXRlZEl0ZW1zLnNsaWNlKDApO1xuICAgIH1cbiAgICBlbHNlIGlmIChleGlzdGluZy5kZWxldGVkSXRlbXMgIT09IHZvaWQgMCkge1xuICAgICAgICBhcnIuZGVsZXRlZEl0ZW1zID0gZXhpc3RpbmcuZGVsZXRlZEl0ZW1zLnNsaWNlKDApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXJyLmRlbGV0ZWRJdGVtcyA9IFtdO1xuICAgIH1cbiAgICBhcnIuaXNJbmRleE1hcCA9IHRydWU7XG4gICAgcmV0dXJuIGFycjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbmRleE1hcChsZW5ndGggPSAwKSB7XG4gICAgY29uc3QgYXJyID0gQXJyYXkobGVuZ3RoKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyW2ldID0gaSsrO1xuICAgIH1cbiAgICBhcnIuZGVsZXRlZEl0ZW1zID0gW107XG4gICAgYXJyLmlzSW5kZXhNYXAgPSB0cnVlO1xuICAgIHJldHVybiBhcnI7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvbmVJbmRleE1hcChpbmRleE1hcCkge1xuICAgIGNvbnN0IGNsb25lID0gaW5kZXhNYXAuc2xpY2UoKTtcbiAgICBjbG9uZS5kZWxldGVkSXRlbXMgPSBpbmRleE1hcC5kZWxldGVkSXRlbXMuc2xpY2UoKTtcbiAgICBjbG9uZS5pc0luZGV4TWFwID0gdHJ1ZTtcbiAgICByZXR1cm4gY2xvbmU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNJbmRleE1hcCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbHVlLmlzSW5kZXhNYXAgPT09IHRydWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhdGlvbi5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/array-observer.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/array-observer.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"enableArrayObservation\": () => (/* binding */ enableArrayObservation),\n/* harmony export */   \"disableArrayObservation\": () => (/* binding */ disableArrayObservation),\n/* harmony export */   \"ArrayObserver\": () => (/* binding */ ArrayObserver),\n/* harmony export */   \"ArrayIndexObserver\": () => (/* binding */ ArrayIndexObserver),\n/* harmony export */   \"getArrayObserver\": () => (/* binding */ getArrayObserver),\n/* harmony export */   \"applyMutationsToIndices\": () => (/* binding */ applyMutationsToIndices),\n/* harmony export */   \"synchronizeIndices\": () => (/* binding */ synchronizeIndices)\n/* harmony export */ });\n/* harmony import */ var _observation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observation.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation.js\");\n/* harmony import */ var _collection_length_observer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collection-length-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/collection-length-observer.js\");\n/* harmony import */ var _subscriber_collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./subscriber-collection.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/subscriber-collection.js\");\n/* harmony import */ var _utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utilities-objects.js */ \"./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js\");\n\n\n\n\nconst observerLookup = new WeakMap();\n// https://tc39.github.io/ecma262/#sec-sortcompare\nfunction sortCompare(x, y) {\n    if (x === y) {\n        return 0;\n    }\n    x = x === null ? 'null' : x.toString();\n    y = y === null ? 'null' : y.toString();\n    return x < y ? -1 : 1;\n}\nfunction preSortCompare(x, y) {\n    if (x === void 0) {\n        if (y === void 0) {\n            return 0;\n        }\n        else {\n            return 1;\n        }\n    }\n    if (y === void 0) {\n        return -1;\n    }\n    return 0;\n}\nfunction insertionSort(arr, indexMap, from, to, compareFn) {\n    let velement, ielement, vtmp, itmp, order;\n    let i, j;\n    for (i = from + 1; i < to; i++) {\n        velement = arr[i];\n        ielement = indexMap[i];\n        for (j = i - 1; j >= from; j--) {\n            vtmp = arr[j];\n            itmp = indexMap[j];\n            order = compareFn(vtmp, velement);\n            if (order > 0) {\n                arr[j + 1] = vtmp;\n                indexMap[j + 1] = itmp;\n            }\n            else {\n                break;\n            }\n        }\n        arr[j + 1] = velement;\n        indexMap[j + 1] = ielement;\n    }\n}\nfunction quickSort(arr, indexMap, from, to, compareFn) {\n    let thirdIndex = 0, i = 0;\n    let v0, v1, v2;\n    let i0, i1, i2;\n    let c01, c02, c12;\n    let vtmp, itmp;\n    let vpivot, ipivot, lowEnd, highStart;\n    let velement, ielement, order, vtopElement;\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        if (to - from <= 10) {\n            insertionSort(arr, indexMap, from, to, compareFn);\n            return;\n        }\n        thirdIndex = from + ((to - from) >> 1);\n        v0 = arr[from];\n        i0 = indexMap[from];\n        v1 = arr[to - 1];\n        i1 = indexMap[to - 1];\n        v2 = arr[thirdIndex];\n        i2 = indexMap[thirdIndex];\n        c01 = compareFn(v0, v1);\n        if (c01 > 0) {\n            vtmp = v0;\n            itmp = i0;\n            v0 = v1;\n            i0 = i1;\n            v1 = vtmp;\n            i1 = itmp;\n        }\n        c02 = compareFn(v0, v2);\n        if (c02 >= 0) {\n            vtmp = v0;\n            itmp = i0;\n            v0 = v2;\n            i0 = i2;\n            v2 = v1;\n            i2 = i1;\n            v1 = vtmp;\n            i1 = itmp;\n        }\n        else {\n            c12 = compareFn(v1, v2);\n            if (c12 > 0) {\n                vtmp = v1;\n                itmp = i1;\n                v1 = v2;\n                i1 = i2;\n                v2 = vtmp;\n                i2 = itmp;\n            }\n        }\n        arr[from] = v0;\n        indexMap[from] = i0;\n        arr[to - 1] = v2;\n        indexMap[to - 1] = i2;\n        vpivot = v1;\n        ipivot = i1;\n        lowEnd = from + 1;\n        highStart = to - 1;\n        arr[thirdIndex] = arr[lowEnd];\n        indexMap[thirdIndex] = indexMap[lowEnd];\n        arr[lowEnd] = vpivot;\n        indexMap[lowEnd] = ipivot;\n        partition: for (i = lowEnd + 1; i < highStart; i++) {\n            velement = arr[i];\n            ielement = indexMap[i];\n            order = compareFn(velement, vpivot);\n            if (order < 0) {\n                arr[i] = arr[lowEnd];\n                indexMap[i] = indexMap[lowEnd];\n                arr[lowEnd] = velement;\n                indexMap[lowEnd] = ielement;\n                lowEnd++;\n            }\n            else if (order > 0) {\n                do {\n                    highStart--;\n                    // eslint-disable-next-line eqeqeq\n                    if (highStart == i) {\n                        break partition;\n                    }\n                    vtopElement = arr[highStart];\n                    order = compareFn(vtopElement, vpivot);\n                } while (order > 0);\n                arr[i] = arr[highStart];\n                indexMap[i] = indexMap[highStart];\n                arr[highStart] = velement;\n                indexMap[highStart] = ielement;\n                if (order < 0) {\n                    velement = arr[i];\n                    ielement = indexMap[i];\n                    arr[i] = arr[lowEnd];\n                    indexMap[i] = indexMap[lowEnd];\n                    arr[lowEnd] = velement;\n                    indexMap[lowEnd] = ielement;\n                    lowEnd++;\n                }\n            }\n        }\n        if (to - highStart < lowEnd - from) {\n            quickSort(arr, indexMap, highStart, to, compareFn);\n            to = lowEnd;\n        }\n        else {\n            quickSort(arr, indexMap, from, lowEnd, compareFn);\n            from = highStart;\n        }\n    }\n}\nconst proto = Array.prototype;\nconst $push = proto.push;\nconst $unshift = proto.unshift;\nconst $pop = proto.pop;\nconst $shift = proto.shift;\nconst $splice = proto.splice;\nconst $reverse = proto.reverse;\nconst $sort = proto.sort;\nconst native = { push: $push, unshift: $unshift, pop: $pop, shift: $shift, splice: $splice, reverse: $reverse, sort: $sort };\nconst methods = ['push', 'unshift', 'pop', 'shift', 'splice', 'reverse', 'sort'];\nconst observe = {\n    // https://tc39.github.io/ecma262/#sec-array.prototype.push\n    push: function (...args) {\n        const o = observerLookup.get(this);\n        if (o === void 0) {\n            return $push.apply(this, args);\n        }\n        const len = this.length;\n        const argCount = args.length;\n        if (argCount === 0) {\n            return len;\n        }\n        this.length = o.indexMap.length = len + argCount;\n        let i = len;\n        while (i < this.length) {\n            this[i] = args[i - len];\n            o.indexMap[i] = -2;\n            i++;\n        }\n        o.notify();\n        return this.length;\n    },\n    // https://tc39.github.io/ecma262/#sec-array.prototype.unshift\n    unshift: function (...args) {\n        const o = observerLookup.get(this);\n        if (o === void 0) {\n            return $unshift.apply(this, args);\n        }\n        const argCount = args.length;\n        const inserts = new Array(argCount);\n        let i = 0;\n        while (i < argCount) {\n            inserts[i++] = -2;\n        }\n        $unshift.apply(o.indexMap, inserts);\n        const len = $unshift.apply(this, args);\n        o.notify();\n        return len;\n    },\n    // https://tc39.github.io/ecma262/#sec-array.prototype.pop\n    pop: function () {\n        const o = observerLookup.get(this);\n        if (o === void 0) {\n            return $pop.call(this);\n        }\n        const indexMap = o.indexMap;\n        const element = $pop.call(this);\n        // only mark indices as deleted if they actually existed in the original array\n        const index = indexMap.length - 1;\n        if (indexMap[index] > -1) {\n            indexMap.deletedItems.push(indexMap[index]);\n        }\n        $pop.call(indexMap);\n        o.notify();\n        return element;\n    },\n    // https://tc39.github.io/ecma262/#sec-array.prototype.shift\n    shift: function () {\n        const o = observerLookup.get(this);\n        if (o === void 0) {\n            return $shift.call(this);\n        }\n        const indexMap = o.indexMap;\n        const element = $shift.call(this);\n        // only mark indices as deleted if they actually existed in the original array\n        if (indexMap[0] > -1) {\n            indexMap.deletedItems.push(indexMap[0]);\n        }\n        $shift.call(indexMap);\n        o.notify();\n        return element;\n    },\n    // https://tc39.github.io/ecma262/#sec-array.prototype.splice\n    splice: function (...args) {\n        const start = args[0];\n        const deleteCount = args[1];\n        const o = observerLookup.get(this);\n        if (o === void 0) {\n            return $splice.apply(this, args);\n        }\n        const len = this.length;\n        const relativeStart = start | 0;\n        const actualStart = relativeStart < 0 ? Math.max((len + relativeStart), 0) : Math.min(relativeStart, len);\n        const indexMap = o.indexMap;\n        const argCount = args.length;\n        const actualDeleteCount = argCount === 0 ? 0 : argCount === 1 ? len - actualStart : deleteCount;\n        if (actualDeleteCount > 0) {\n            let i = actualStart;\n            const to = i + actualDeleteCount;\n            while (i < to) {\n                if (indexMap[i] > -1) {\n                    indexMap.deletedItems.push(indexMap[i]);\n                }\n                i++;\n            }\n        }\n        if (argCount > 2) {\n            const itemCount = argCount - 2;\n            const inserts = new Array(itemCount);\n            let i = 0;\n            while (i < itemCount) {\n                inserts[i++] = -2;\n            }\n            $splice.call(indexMap, start, deleteCount, ...inserts);\n        }\n        else {\n            $splice.apply(indexMap, args);\n        }\n        const deleted = $splice.apply(this, args);\n        o.notify();\n        return deleted;\n    },\n    // https://tc39.github.io/ecma262/#sec-array.prototype.reverse\n    reverse: function () {\n        const o = observerLookup.get(this);\n        if (o === void 0) {\n            $reverse.call(this);\n            return this;\n        }\n        const len = this.length;\n        const middle = (len / 2) | 0;\n        let lower = 0;\n        while (lower !== middle) {\n            const upper = len - lower - 1;\n            const lowerValue = this[lower];\n            const lowerIndex = o.indexMap[lower];\n            const upperValue = this[upper];\n            const upperIndex = o.indexMap[upper];\n            this[lower] = upperValue;\n            o.indexMap[lower] = upperIndex;\n            this[upper] = lowerValue;\n            o.indexMap[upper] = lowerIndex;\n            lower++;\n        }\n        o.notify();\n        return this;\n    },\n    // https://tc39.github.io/ecma262/#sec-array.prototype.sort\n    // https://github.com/v8/v8/blob/master/src/js/array.js\n    sort: function (compareFn) {\n        const o = observerLookup.get(this);\n        if (o === void 0) {\n            $sort.call(this, compareFn);\n            return this;\n        }\n        const len = this.length;\n        if (len < 2) {\n            return this;\n        }\n        quickSort(this, o.indexMap, 0, len, preSortCompare);\n        let i = 0;\n        while (i < len) {\n            if (this[i] === void 0) {\n                break;\n            }\n            i++;\n        }\n        if (compareFn === void 0 || typeof compareFn !== 'function' /* spec says throw a TypeError, should we do that too? */) {\n            compareFn = sortCompare;\n        }\n        quickSort(this, o.indexMap, 0, i, compareFn);\n        o.notify();\n        return this;\n    }\n};\nfor (const method of methods) {\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__.def)(observe[method], 'observing', { value: true, writable: false, configurable: false, enumerable: false });\n}\nlet enableArrayObservationCalled = false;\nfunction enableArrayObservation() {\n    for (const method of methods) {\n        if (proto[method].observing !== true) {\n            (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__.defineHiddenProp)(proto, method, observe[method]);\n        }\n    }\n}\nfunction disableArrayObservation() {\n    for (const method of methods) {\n        if (proto[method].observing === true) {\n            (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__.defineHiddenProp)(proto, method, native[method]);\n        }\n    }\n}\nclass ArrayObserver {\n    constructor(array) {\n        this.type = 18 /* Array */;\n        if (!enableArrayObservationCalled) {\n            enableArrayObservationCalled = true;\n            enableArrayObservation();\n        }\n        this.indexObservers = {};\n        this.collection = array;\n        this.indexMap = (0,_observation_js__WEBPACK_IMPORTED_MODULE_0__.createIndexMap)(array.length);\n        this.lenObs = void 0;\n        observerLookup.set(array, this);\n    }\n    notify() {\n        const indexMap = this.indexMap;\n        const length = this.collection.length;\n        this.indexMap = (0,_observation_js__WEBPACK_IMPORTED_MODULE_0__.createIndexMap)(length);\n        this.subs.notifyCollection(indexMap, 0 /* none */);\n    }\n    getLengthObserver() {\n        var _a;\n        return (_a = this.lenObs) !== null && _a !== void 0 ? _a : (this.lenObs = new _collection_length_observer_js__WEBPACK_IMPORTED_MODULE_1__.CollectionLengthObserver(this));\n    }\n    getIndexObserver(index) {\n        var _a;\n        var _b;\n        // It's unnecessary to destroy/recreate index observer all the time,\n        // so just create once, and add/remove instead\n        return (_a = (_b = this.indexObservers)[index]) !== null && _a !== void 0 ? _a : (_b[index] = new ArrayIndexObserver(this, index));\n    }\n}\nclass ArrayIndexObserver {\n    constructor(owner, index) {\n        this.owner = owner;\n        this.index = index;\n        this.value = this.getValue();\n    }\n    getValue() {\n        return this.owner.collection[this.index];\n    }\n    setValue(newValue, flags) {\n        if (newValue === this.getValue()) {\n            return;\n        }\n        const arrayObserver = this.owner;\n        const index = this.index;\n        const indexMap = arrayObserver.indexMap;\n        if (indexMap[index] > -1) {\n            indexMap.deletedItems.push(indexMap[index]);\n        }\n        indexMap[index] = -2;\n        // do not need to update current value here\n        // as it will be updated inside handle collection change\n        arrayObserver.collection[index] = newValue;\n        arrayObserver.notify();\n    }\n    /**\n     * From interface `ICollectionSubscriber`\n     */\n    handleCollectionChange(indexMap, flags) {\n        const index = this.index;\n        const noChange = indexMap[index] === index;\n        if (noChange) {\n            return;\n        }\n        const prevValue = this.value;\n        const currValue = this.value = this.getValue();\n        // hmm\n        if (prevValue !== currValue) {\n            this.subs.notify(currValue, prevValue, flags);\n        }\n    }\n    subscribe(subscriber) {\n        if (this.subs.add(subscriber) && this.subs.count === 1) {\n            this.owner.subscribe(this);\n        }\n    }\n    unsubscribe(subscriber) {\n        if (this.subs.remove(subscriber) && this.subs.count === 0) {\n            this.owner.unsubscribe(this);\n        }\n    }\n}\n(0,_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_2__.subscriberCollection)(ArrayObserver);\n(0,_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_2__.subscriberCollection)(ArrayIndexObserver);\nfunction getArrayObserver(array) {\n    let observer = observerLookup.get(array);\n    if (observer === void 0) {\n        observer = new ArrayObserver(array);\n    }\n    return observer;\n}\n/**\n * Applies offsets to the non-negative indices in the IndexMap\n * based on added and deleted items relative to those indices.\n *\n * e.g. turn `[-2, 0, 1]` into `[-2, 1, 2]`, allowing the values at the indices to be\n * used for sorting/reordering items if needed\n */\nfunction applyMutationsToIndices(indexMap) {\n    let offset = 0;\n    let j = 0;\n    const len = indexMap.length;\n    for (let i = 0; i < len; ++i) {\n        while (indexMap.deletedItems[j] <= i - offset) {\n            ++j;\n            --offset;\n        }\n        if (indexMap[i] === -2) {\n            ++offset;\n        }\n        else {\n            indexMap[i] += offset;\n        }\n    }\n}\n/**\n * After `applyMutationsToIndices`, this function can be used to reorder items in a derived\n * array (e.g.  the items in the `views` in the repeater are derived from the `items` property)\n */\nfunction synchronizeIndices(items, indexMap) {\n    const copy = items.slice();\n    const len = indexMap.length;\n    let to = 0;\n    let from = 0;\n    while (to < len) {\n        from = indexMap[to];\n        if (from !== -2) {\n            items[to] = copy[from];\n        }\n        ++to;\n    }\n}\n//# sourceMappingURL=array-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9hcnJheS1vYnNlcnZlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL29ic2VydmF0aW9uL2FycmF5LW9ic2VydmVyLmpzPzk4ODciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlSW5kZXhNYXAsIH0gZnJvbSAnLi4vb2JzZXJ2YXRpb24uanMnO1xuaW1wb3J0IHsgQ29sbGVjdGlvbkxlbmd0aE9ic2VydmVyLCB9IGZyb20gJy4vY29sbGVjdGlvbi1sZW5ndGgtb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgc3Vic2NyaWJlckNvbGxlY3Rpb24sIH0gZnJvbSAnLi9zdWJzY3JpYmVyLWNvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgZGVmLCBkZWZpbmVIaWRkZW5Qcm9wIH0gZnJvbSAnLi4vdXRpbGl0aWVzLW9iamVjdHMuanMnO1xuY29uc3Qgb2JzZXJ2ZXJMb29rdXAgPSBuZXcgV2Vha01hcCgpO1xuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtc29ydGNvbXBhcmVcbmZ1bmN0aW9uIHNvcnRDb21wYXJlKHgsIHkpIHtcbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgeCA9IHggPT09IG51bGwgPyAnbnVsbCcgOiB4LnRvU3RyaW5nKCk7XG4gICAgeSA9IHkgPT09IG51bGwgPyAnbnVsbCcgOiB5LnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIHggPCB5ID8gLTEgOiAxO1xufVxuZnVuY3Rpb24gcHJlU29ydENvbXBhcmUoeCwgeSkge1xuICAgIGlmICh4ID09PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoeSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBpbnNlcnRpb25Tb3J0KGFyciwgaW5kZXhNYXAsIGZyb20sIHRvLCBjb21wYXJlRm4pIHtcbiAgICBsZXQgdmVsZW1lbnQsIGllbGVtZW50LCB2dG1wLCBpdG1wLCBvcmRlcjtcbiAgICBsZXQgaSwgajtcbiAgICBmb3IgKGkgPSBmcm9tICsgMTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgdmVsZW1lbnQgPSBhcnJbaV07XG4gICAgICAgIGllbGVtZW50ID0gaW5kZXhNYXBbaV07XG4gICAgICAgIGZvciAoaiA9IGkgLSAxOyBqID49IGZyb207IGotLSkge1xuICAgICAgICAgICAgdnRtcCA9IGFycltqXTtcbiAgICAgICAgICAgIGl0bXAgPSBpbmRleE1hcFtqXTtcbiAgICAgICAgICAgIG9yZGVyID0gY29tcGFyZUZuKHZ0bXAsIHZlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChvcmRlciA+IDApIHtcbiAgICAgICAgICAgICAgICBhcnJbaiArIDFdID0gdnRtcDtcbiAgICAgICAgICAgICAgICBpbmRleE1hcFtqICsgMV0gPSBpdG1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXJyW2ogKyAxXSA9IHZlbGVtZW50O1xuICAgICAgICBpbmRleE1hcFtqICsgMV0gPSBpZWxlbWVudDtcbiAgICB9XG59XG5mdW5jdGlvbiBxdWlja1NvcnQoYXJyLCBpbmRleE1hcCwgZnJvbSwgdG8sIGNvbXBhcmVGbikge1xuICAgIGxldCB0aGlyZEluZGV4ID0gMCwgaSA9IDA7XG4gICAgbGV0IHYwLCB2MSwgdjI7XG4gICAgbGV0IGkwLCBpMSwgaTI7XG4gICAgbGV0IGMwMSwgYzAyLCBjMTI7XG4gICAgbGV0IHZ0bXAsIGl0bXA7XG4gICAgbGV0IHZwaXZvdCwgaXBpdm90LCBsb3dFbmQsIGhpZ2hTdGFydDtcbiAgICBsZXQgdmVsZW1lbnQsIGllbGVtZW50LCBvcmRlciwgdnRvcEVsZW1lbnQ7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICh0byAtIGZyb20gPD0gMTApIHtcbiAgICAgICAgICAgIGluc2VydGlvblNvcnQoYXJyLCBpbmRleE1hcCwgZnJvbSwgdG8sIGNvbXBhcmVGbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcmRJbmRleCA9IGZyb20gKyAoKHRvIC0gZnJvbSkgPj4gMSk7XG4gICAgICAgIHYwID0gYXJyW2Zyb21dO1xuICAgICAgICBpMCA9IGluZGV4TWFwW2Zyb21dO1xuICAgICAgICB2MSA9IGFyclt0byAtIDFdO1xuICAgICAgICBpMSA9IGluZGV4TWFwW3RvIC0gMV07XG4gICAgICAgIHYyID0gYXJyW3RoaXJkSW5kZXhdO1xuICAgICAgICBpMiA9IGluZGV4TWFwW3RoaXJkSW5kZXhdO1xuICAgICAgICBjMDEgPSBjb21wYXJlRm4odjAsIHYxKTtcbiAgICAgICAgaWYgKGMwMSA+IDApIHtcbiAgICAgICAgICAgIHZ0bXAgPSB2MDtcbiAgICAgICAgICAgIGl0bXAgPSBpMDtcbiAgICAgICAgICAgIHYwID0gdjE7XG4gICAgICAgICAgICBpMCA9IGkxO1xuICAgICAgICAgICAgdjEgPSB2dG1wO1xuICAgICAgICAgICAgaTEgPSBpdG1wO1xuICAgICAgICB9XG4gICAgICAgIGMwMiA9IGNvbXBhcmVGbih2MCwgdjIpO1xuICAgICAgICBpZiAoYzAyID49IDApIHtcbiAgICAgICAgICAgIHZ0bXAgPSB2MDtcbiAgICAgICAgICAgIGl0bXAgPSBpMDtcbiAgICAgICAgICAgIHYwID0gdjI7XG4gICAgICAgICAgICBpMCA9IGkyO1xuICAgICAgICAgICAgdjIgPSB2MTtcbiAgICAgICAgICAgIGkyID0gaTE7XG4gICAgICAgICAgICB2MSA9IHZ0bXA7XG4gICAgICAgICAgICBpMSA9IGl0bXA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjMTIgPSBjb21wYXJlRm4odjEsIHYyKTtcbiAgICAgICAgICAgIGlmIChjMTIgPiAwKSB7XG4gICAgICAgICAgICAgICAgdnRtcCA9IHYxO1xuICAgICAgICAgICAgICAgIGl0bXAgPSBpMTtcbiAgICAgICAgICAgICAgICB2MSA9IHYyO1xuICAgICAgICAgICAgICAgIGkxID0gaTI7XG4gICAgICAgICAgICAgICAgdjIgPSB2dG1wO1xuICAgICAgICAgICAgICAgIGkyID0gaXRtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcnJbZnJvbV0gPSB2MDtcbiAgICAgICAgaW5kZXhNYXBbZnJvbV0gPSBpMDtcbiAgICAgICAgYXJyW3RvIC0gMV0gPSB2MjtcbiAgICAgICAgaW5kZXhNYXBbdG8gLSAxXSA9IGkyO1xuICAgICAgICB2cGl2b3QgPSB2MTtcbiAgICAgICAgaXBpdm90ID0gaTE7XG4gICAgICAgIGxvd0VuZCA9IGZyb20gKyAxO1xuICAgICAgICBoaWdoU3RhcnQgPSB0byAtIDE7XG4gICAgICAgIGFyclt0aGlyZEluZGV4XSA9IGFycltsb3dFbmRdO1xuICAgICAgICBpbmRleE1hcFt0aGlyZEluZGV4XSA9IGluZGV4TWFwW2xvd0VuZF07XG4gICAgICAgIGFycltsb3dFbmRdID0gdnBpdm90O1xuICAgICAgICBpbmRleE1hcFtsb3dFbmRdID0gaXBpdm90O1xuICAgICAgICBwYXJ0aXRpb246IGZvciAoaSA9IGxvd0VuZCArIDE7IGkgPCBoaWdoU3RhcnQ7IGkrKykge1xuICAgICAgICAgICAgdmVsZW1lbnQgPSBhcnJbaV07XG4gICAgICAgICAgICBpZWxlbWVudCA9IGluZGV4TWFwW2ldO1xuICAgICAgICAgICAgb3JkZXIgPSBjb21wYXJlRm4odmVsZW1lbnQsIHZwaXZvdCk7XG4gICAgICAgICAgICBpZiAob3JkZXIgPCAwKSB7XG4gICAgICAgICAgICAgICAgYXJyW2ldID0gYXJyW2xvd0VuZF07XG4gICAgICAgICAgICAgICAgaW5kZXhNYXBbaV0gPSBpbmRleE1hcFtsb3dFbmRdO1xuICAgICAgICAgICAgICAgIGFycltsb3dFbmRdID0gdmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaW5kZXhNYXBbbG93RW5kXSA9IGllbGVtZW50O1xuICAgICAgICAgICAgICAgIGxvd0VuZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3JkZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBoaWdoU3RhcnQtLTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICAgICAgICBpZiAoaGlnaFN0YXJ0ID09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHBhcnRpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2dG9wRWxlbWVudCA9IGFycltoaWdoU3RhcnRdO1xuICAgICAgICAgICAgICAgICAgICBvcmRlciA9IGNvbXBhcmVGbih2dG9wRWxlbWVudCwgdnBpdm90KTtcbiAgICAgICAgICAgICAgICB9IHdoaWxlIChvcmRlciA+IDApO1xuICAgICAgICAgICAgICAgIGFycltpXSA9IGFycltoaWdoU3RhcnRdO1xuICAgICAgICAgICAgICAgIGluZGV4TWFwW2ldID0gaW5kZXhNYXBbaGlnaFN0YXJ0XTtcbiAgICAgICAgICAgICAgICBhcnJbaGlnaFN0YXJ0XSA9IHZlbGVtZW50O1xuICAgICAgICAgICAgICAgIGluZGV4TWFwW2hpZ2hTdGFydF0gPSBpZWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAob3JkZXIgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlbGVtZW50ID0gYXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZWxlbWVudCA9IGluZGV4TWFwW2ldO1xuICAgICAgICAgICAgICAgICAgICBhcnJbaV0gPSBhcnJbbG93RW5kXTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhNYXBbaV0gPSBpbmRleE1hcFtsb3dFbmRdO1xuICAgICAgICAgICAgICAgICAgICBhcnJbbG93RW5kXSA9IHZlbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBpbmRleE1hcFtsb3dFbmRdID0gaWVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGxvd0VuZCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodG8gLSBoaWdoU3RhcnQgPCBsb3dFbmQgLSBmcm9tKSB7XG4gICAgICAgICAgICBxdWlja1NvcnQoYXJyLCBpbmRleE1hcCwgaGlnaFN0YXJ0LCB0bywgY29tcGFyZUZuKTtcbiAgICAgICAgICAgIHRvID0gbG93RW5kO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXVpY2tTb3J0KGFyciwgaW5kZXhNYXAsIGZyb20sIGxvd0VuZCwgY29tcGFyZUZuKTtcbiAgICAgICAgICAgIGZyb20gPSBoaWdoU3RhcnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBwcm90byA9IEFycmF5LnByb3RvdHlwZTtcbmNvbnN0ICRwdXNoID0gcHJvdG8ucHVzaDtcbmNvbnN0ICR1bnNoaWZ0ID0gcHJvdG8udW5zaGlmdDtcbmNvbnN0ICRwb3AgPSBwcm90by5wb3A7XG5jb25zdCAkc2hpZnQgPSBwcm90by5zaGlmdDtcbmNvbnN0ICRzcGxpY2UgPSBwcm90by5zcGxpY2U7XG5jb25zdCAkcmV2ZXJzZSA9IHByb3RvLnJldmVyc2U7XG5jb25zdCAkc29ydCA9IHByb3RvLnNvcnQ7XG5jb25zdCBuYXRpdmUgPSB7IHB1c2g6ICRwdXNoLCB1bnNoaWZ0OiAkdW5zaGlmdCwgcG9wOiAkcG9wLCBzaGlmdDogJHNoaWZ0LCBzcGxpY2U6ICRzcGxpY2UsIHJldmVyc2U6ICRyZXZlcnNlLCBzb3J0OiAkc29ydCB9O1xuY29uc3QgbWV0aG9kcyA9IFsncHVzaCcsICd1bnNoaWZ0JywgJ3BvcCcsICdzaGlmdCcsICdzcGxpY2UnLCAncmV2ZXJzZScsICdzb3J0J107XG5jb25zdCBvYnNlcnZlID0ge1xuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5wdXNoXG4gICAgcHVzaDogZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgbyA9IG9ic2VydmVyTG9va3VwLmdldCh0aGlzKTtcbiAgICAgICAgaWYgKG8gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuICRwdXNoLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBhcmdDb3VudCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBpZiAoYXJnQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBsZW47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZW5ndGggPSBvLmluZGV4TWFwLmxlbmd0aCA9IGxlbiArIGFyZ0NvdW50O1xuICAgICAgICBsZXQgaSA9IGxlbjtcbiAgICAgICAgd2hpbGUgKGkgPCB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpc1tpXSA9IGFyZ3NbaSAtIGxlbl07XG4gICAgICAgICAgICBvLmluZGV4TWFwW2ldID0gLTI7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgby5ub3RpZnkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoO1xuICAgIH0sXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnVuc2hpZnRcbiAgICB1bnNoaWZ0OiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBjb25zdCBvID0gb2JzZXJ2ZXJMb29rdXAuZ2V0KHRoaXMpO1xuICAgICAgICBpZiAobyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJHVuc2hpZnQuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJnQ291bnQgPSBhcmdzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgaW5zZXJ0cyA9IG5ldyBBcnJheShhcmdDb3VudCk7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBhcmdDb3VudCkge1xuICAgICAgICAgICAgaW5zZXJ0c1tpKytdID0gLTI7XG4gICAgICAgIH1cbiAgICAgICAgJHVuc2hpZnQuYXBwbHkoby5pbmRleE1hcCwgaW5zZXJ0cyk7XG4gICAgICAgIGNvbnN0IGxlbiA9ICR1bnNoaWZ0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBvLm5vdGlmeSgpO1xuICAgICAgICByZXR1cm4gbGVuO1xuICAgIH0sXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnBvcFxuICAgIHBvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBvID0gb2JzZXJ2ZXJMb29rdXAuZ2V0KHRoaXMpO1xuICAgICAgICBpZiAobyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJHBvcC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluZGV4TWFwID0gby5pbmRleE1hcDtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9ICRwb3AuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gb25seSBtYXJrIGluZGljZXMgYXMgZGVsZXRlZCBpZiB0aGV5IGFjdHVhbGx5IGV4aXN0ZWQgaW4gdGhlIG9yaWdpbmFsIGFycmF5XG4gICAgICAgIGNvbnN0IGluZGV4ID0gaW5kZXhNYXAubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGluZGV4TWFwW2luZGV4XSA+IC0xKSB7XG4gICAgICAgICAgICBpbmRleE1hcC5kZWxldGVkSXRlbXMucHVzaChpbmRleE1hcFtpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgICRwb3AuY2FsbChpbmRleE1hcCk7XG4gICAgICAgIG8ubm90aWZ5KCk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH0sXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNoaWZ0XG4gICAgc2hpZnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgbyA9IG9ic2VydmVyTG9va3VwLmdldCh0aGlzKTtcbiAgICAgICAgaWYgKG8gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuICRzaGlmdC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluZGV4TWFwID0gby5pbmRleE1hcDtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9ICRzaGlmdC5jYWxsKHRoaXMpO1xuICAgICAgICAvLyBvbmx5IG1hcmsgaW5kaWNlcyBhcyBkZWxldGVkIGlmIHRoZXkgYWN0dWFsbHkgZXhpc3RlZCBpbiB0aGUgb3JpZ2luYWwgYXJyYXlcbiAgICAgICAgaWYgKGluZGV4TWFwWzBdID4gLTEpIHtcbiAgICAgICAgICAgIGluZGV4TWFwLmRlbGV0ZWRJdGVtcy5wdXNoKGluZGV4TWFwWzBdKTtcbiAgICAgICAgfVxuICAgICAgICAkc2hpZnQuY2FsbChpbmRleE1hcCk7XG4gICAgICAgIG8ubm90aWZ5KCk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH0sXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNwbGljZVxuICAgIHNwbGljZTogZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBhcmdzWzBdO1xuICAgICAgICBjb25zdCBkZWxldGVDb3VudCA9IGFyZ3NbMV07XG4gICAgICAgIGNvbnN0IG8gPSBvYnNlcnZlckxvb2t1cC5nZXQodGhpcyk7XG4gICAgICAgIGlmIChvID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiAkc3BsaWNlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoO1xuICAgICAgICBjb25zdCByZWxhdGl2ZVN0YXJ0ID0gc3RhcnQgfCAwO1xuICAgICAgICBjb25zdCBhY3R1YWxTdGFydCA9IHJlbGF0aXZlU3RhcnQgPCAwID8gTWF0aC5tYXgoKGxlbiArIHJlbGF0aXZlU3RhcnQpLCAwKSA6IE1hdGgubWluKHJlbGF0aXZlU3RhcnQsIGxlbik7XG4gICAgICAgIGNvbnN0IGluZGV4TWFwID0gby5pbmRleE1hcDtcbiAgICAgICAgY29uc3QgYXJnQ291bnQgPSBhcmdzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgYWN0dWFsRGVsZXRlQ291bnQgPSBhcmdDb3VudCA9PT0gMCA/IDAgOiBhcmdDb3VudCA9PT0gMSA/IGxlbiAtIGFjdHVhbFN0YXJ0IDogZGVsZXRlQ291bnQ7XG4gICAgICAgIGlmIChhY3R1YWxEZWxldGVDb3VudCA+IDApIHtcbiAgICAgICAgICAgIGxldCBpID0gYWN0dWFsU3RhcnQ7XG4gICAgICAgICAgICBjb25zdCB0byA9IGkgKyBhY3R1YWxEZWxldGVDb3VudDtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgdG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhNYXBbaV0gPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleE1hcC5kZWxldGVkSXRlbXMucHVzaChpbmRleE1hcFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJnQ291bnQgPiAyKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtQ291bnQgPSBhcmdDb3VudCAtIDI7XG4gICAgICAgICAgICBjb25zdCBpbnNlcnRzID0gbmV3IEFycmF5KGl0ZW1Db3VudCk7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IGl0ZW1Db3VudCkge1xuICAgICAgICAgICAgICAgIGluc2VydHNbaSsrXSA9IC0yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNwbGljZS5jYWxsKGluZGV4TWFwLCBzdGFydCwgZGVsZXRlQ291bnQsIC4uLmluc2VydHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJHNwbGljZS5hcHBseShpbmRleE1hcCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVsZXRlZCA9ICRzcGxpY2UuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIG8ubm90aWZ5KCk7XG4gICAgICAgIHJldHVybiBkZWxldGVkO1xuICAgIH0sXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJldmVyc2VcbiAgICByZXZlcnNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IG8gPSBvYnNlcnZlckxvb2t1cC5nZXQodGhpcyk7XG4gICAgICAgIGlmIChvID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICRyZXZlcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbWlkZGxlID0gKGxlbiAvIDIpIHwgMDtcbiAgICAgICAgbGV0IGxvd2VyID0gMDtcbiAgICAgICAgd2hpbGUgKGxvd2VyICE9PSBtaWRkbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVwcGVyID0gbGVuIC0gbG93ZXIgLSAxO1xuICAgICAgICAgICAgY29uc3QgbG93ZXJWYWx1ZSA9IHRoaXNbbG93ZXJdO1xuICAgICAgICAgICAgY29uc3QgbG93ZXJJbmRleCA9IG8uaW5kZXhNYXBbbG93ZXJdO1xuICAgICAgICAgICAgY29uc3QgdXBwZXJWYWx1ZSA9IHRoaXNbdXBwZXJdO1xuICAgICAgICAgICAgY29uc3QgdXBwZXJJbmRleCA9IG8uaW5kZXhNYXBbdXBwZXJdO1xuICAgICAgICAgICAgdGhpc1tsb3dlcl0gPSB1cHBlclZhbHVlO1xuICAgICAgICAgICAgby5pbmRleE1hcFtsb3dlcl0gPSB1cHBlckluZGV4O1xuICAgICAgICAgICAgdGhpc1t1cHBlcl0gPSBsb3dlclZhbHVlO1xuICAgICAgICAgICAgby5pbmRleE1hcFt1cHBlcl0gPSBsb3dlckluZGV4O1xuICAgICAgICAgICAgbG93ZXIrKztcbiAgICAgICAgfVxuICAgICAgICBvLm5vdGlmeSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5zb3J0XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Y4L3Y4L2Jsb2IvbWFzdGVyL3NyYy9qcy9hcnJheS5qc1xuICAgIHNvcnQ6IGZ1bmN0aW9uIChjb21wYXJlRm4pIHtcbiAgICAgICAgY29uc3QgbyA9IG9ic2VydmVyTG9va3VwLmdldCh0aGlzKTtcbiAgICAgICAgaWYgKG8gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgJHNvcnQuY2FsbCh0aGlzLCBjb21wYXJlRm4pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBxdWlja1NvcnQodGhpcywgby5pbmRleE1hcCwgMCwgbGVuLCBwcmVTb3J0Q29tcGFyZSk7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZUZuID09PSB2b2lkIDAgfHwgdHlwZW9mIGNvbXBhcmVGbiAhPT0gJ2Z1bmN0aW9uJyAvKiBzcGVjIHNheXMgdGhyb3cgYSBUeXBlRXJyb3IsIHNob3VsZCB3ZSBkbyB0aGF0IHRvbz8gKi8pIHtcbiAgICAgICAgICAgIGNvbXBhcmVGbiA9IHNvcnRDb21wYXJlO1xuICAgICAgICB9XG4gICAgICAgIHF1aWNrU29ydCh0aGlzLCBvLmluZGV4TWFwLCAwLCBpLCBjb21wYXJlRm4pO1xuICAgICAgICBvLm5vdGlmeSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59O1xuZm9yIChjb25zdCBtZXRob2Qgb2YgbWV0aG9kcykge1xuICAgIGRlZihvYnNlcnZlW21ldGhvZF0sICdvYnNlcnZpbmcnLCB7IHZhbHVlOiB0cnVlLCB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlIH0pO1xufVxubGV0IGVuYWJsZUFycmF5T2JzZXJ2YXRpb25DYWxsZWQgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVBcnJheU9ic2VydmF0aW9uKCkge1xuICAgIGZvciAoY29uc3QgbWV0aG9kIG9mIG1ldGhvZHMpIHtcbiAgICAgICAgaWYgKHByb3RvW21ldGhvZF0ub2JzZXJ2aW5nICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBkZWZpbmVIaWRkZW5Qcm9wKHByb3RvLCBtZXRob2QsIG9ic2VydmVbbWV0aG9kXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZUFycmF5T2JzZXJ2YXRpb24oKSB7XG4gICAgZm9yIChjb25zdCBtZXRob2Qgb2YgbWV0aG9kcykge1xuICAgICAgICBpZiAocHJvdG9bbWV0aG9kXS5vYnNlcnZpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGRlZmluZUhpZGRlblByb3AocHJvdG8sIG1ldGhvZCwgbmF0aXZlW21ldGhvZF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFycmF5T2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGFycmF5KSB7XG4gICAgICAgIHRoaXMudHlwZSA9IDE4IC8qIEFycmF5ICovO1xuICAgICAgICBpZiAoIWVuYWJsZUFycmF5T2JzZXJ2YXRpb25DYWxsZWQpIHtcbiAgICAgICAgICAgIGVuYWJsZUFycmF5T2JzZXJ2YXRpb25DYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgZW5hYmxlQXJyYXlPYnNlcnZhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5kZXhPYnNlcnZlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gYXJyYXk7XG4gICAgICAgIHRoaXMuaW5kZXhNYXAgPSBjcmVhdGVJbmRleE1hcChhcnJheS5sZW5ndGgpO1xuICAgICAgICB0aGlzLmxlbk9icyA9IHZvaWQgMDtcbiAgICAgICAgb2JzZXJ2ZXJMb29rdXAuc2V0KGFycmF5LCB0aGlzKTtcbiAgICB9XG4gICAgbm90aWZ5KCkge1xuICAgICAgICBjb25zdCBpbmRleE1hcCA9IHRoaXMuaW5kZXhNYXA7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICAgIHRoaXMuaW5kZXhNYXAgPSBjcmVhdGVJbmRleE1hcChsZW5ndGgpO1xuICAgICAgICB0aGlzLnN1YnMubm90aWZ5Q29sbGVjdGlvbihpbmRleE1hcCwgMCAvKiBub25lICovKTtcbiAgICB9XG4gICAgZ2V0TGVuZ3RoT2JzZXJ2ZXIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMubGVuT2JzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAodGhpcy5sZW5PYnMgPSBuZXcgQ29sbGVjdGlvbkxlbmd0aE9ic2VydmVyKHRoaXMpKTtcbiAgICB9XG4gICAgZ2V0SW5kZXhPYnNlcnZlcihpbmRleCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBfYjtcbiAgICAgICAgLy8gSXQncyB1bm5lY2Vzc2FyeSB0byBkZXN0cm95L3JlY3JlYXRlIGluZGV4IG9ic2VydmVyIGFsbCB0aGUgdGltZSxcbiAgICAgICAgLy8gc28ganVzdCBjcmVhdGUgb25jZSwgYW5kIGFkZC9yZW1vdmUgaW5zdGVhZFxuICAgICAgICByZXR1cm4gKF9hID0gKF9iID0gdGhpcy5pbmRleE9ic2VydmVycylbaW5kZXhdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoX2JbaW5kZXhdID0gbmV3IEFycmF5SW5kZXhPYnNlcnZlcih0aGlzLCBpbmRleCkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBcnJheUluZGV4T2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKG93bmVyLCBpbmRleCkge1xuICAgICAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTtcbiAgICB9XG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLmNvbGxlY3Rpb25bdGhpcy5pbmRleF07XG4gICAgfVxuICAgIHNldFZhbHVlKG5ld1ZhbHVlLCBmbGFncykge1xuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHRoaXMuZ2V0VmFsdWUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFycmF5T2JzZXJ2ZXIgPSB0aGlzLm93bmVyO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGNvbnN0IGluZGV4TWFwID0gYXJyYXlPYnNlcnZlci5pbmRleE1hcDtcbiAgICAgICAgaWYgKGluZGV4TWFwW2luZGV4XSA+IC0xKSB7XG4gICAgICAgICAgICBpbmRleE1hcC5kZWxldGVkSXRlbXMucHVzaChpbmRleE1hcFtpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4TWFwW2luZGV4XSA9IC0yO1xuICAgICAgICAvLyBkbyBub3QgbmVlZCB0byB1cGRhdGUgY3VycmVudCB2YWx1ZSBoZXJlXG4gICAgICAgIC8vIGFzIGl0IHdpbGwgYmUgdXBkYXRlZCBpbnNpZGUgaGFuZGxlIGNvbGxlY3Rpb24gY2hhbmdlXG4gICAgICAgIGFycmF5T2JzZXJ2ZXIuY29sbGVjdGlvbltpbmRleF0gPSBuZXdWYWx1ZTtcbiAgICAgICAgYXJyYXlPYnNlcnZlci5ub3RpZnkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRnJvbSBpbnRlcmZhY2UgYElDb2xsZWN0aW9uU3Vic2NyaWJlcmBcbiAgICAgKi9cbiAgICBoYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKGluZGV4TWFwLCBmbGFncykge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGNvbnN0IG5vQ2hhbmdlID0gaW5kZXhNYXBbaW5kZXhdID09PSBpbmRleDtcbiAgICAgICAgaWYgKG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldlZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3QgY3VyclZhbHVlID0gdGhpcy52YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgLy8gaG1tXG4gICAgICAgIGlmIChwcmV2VmFsdWUgIT09IGN1cnJWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdWJzLm5vdGlmeShjdXJyVmFsdWUsIHByZXZWYWx1ZSwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN1YnNjcmliZShzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMuYWRkKHN1YnNjcmliZXIpICYmIHRoaXMuc3Vicy5jb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5vd25lci5zdWJzY3JpYmUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5zdWJzY3JpYmUoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5zdWJzLnJlbW92ZShzdWJzY3JpYmVyKSAmJiB0aGlzLnN1YnMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMub3duZXIudW5zdWJzY3JpYmUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5zdWJzY3JpYmVyQ29sbGVjdGlvbihBcnJheU9ic2VydmVyKTtcbnN1YnNjcmliZXJDb2xsZWN0aW9uKEFycmF5SW5kZXhPYnNlcnZlcik7XG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJyYXlPYnNlcnZlcihhcnJheSkge1xuICAgIGxldCBvYnNlcnZlciA9IG9ic2VydmVyTG9va3VwLmdldChhcnJheSk7XG4gICAgaWYgKG9ic2VydmVyID09PSB2b2lkIDApIHtcbiAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgQXJyYXlPYnNlcnZlcihhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBvYnNlcnZlcjtcbn1cbi8qKlxuICogQXBwbGllcyBvZmZzZXRzIHRvIHRoZSBub24tbmVnYXRpdmUgaW5kaWNlcyBpbiB0aGUgSW5kZXhNYXBcbiAqIGJhc2VkIG9uIGFkZGVkIGFuZCBkZWxldGVkIGl0ZW1zIHJlbGF0aXZlIHRvIHRob3NlIGluZGljZXMuXG4gKlxuICogZS5nLiB0dXJuIGBbLTIsIDAsIDFdYCBpbnRvIGBbLTIsIDEsIDJdYCwgYWxsb3dpbmcgdGhlIHZhbHVlcyBhdCB0aGUgaW5kaWNlcyB0byBiZVxuICogdXNlZCBmb3Igc29ydGluZy9yZW9yZGVyaW5nIGl0ZW1zIGlmIG5lZWRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlNdXRhdGlvbnNUb0luZGljZXMoaW5kZXhNYXApIHtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBsZXQgaiA9IDA7XG4gICAgY29uc3QgbGVuID0gaW5kZXhNYXAubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgd2hpbGUgKGluZGV4TWFwLmRlbGV0ZWRJdGVtc1tqXSA8PSBpIC0gb2Zmc2V0KSB7XG4gICAgICAgICAgICArK2o7XG4gICAgICAgICAgICAtLW9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXhNYXBbaV0gPT09IC0yKSB7XG4gICAgICAgICAgICArK29mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4TWFwW2ldICs9IG9mZnNldDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQWZ0ZXIgYGFwcGx5TXV0YXRpb25zVG9JbmRpY2VzYCwgdGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byByZW9yZGVyIGl0ZW1zIGluIGEgZGVyaXZlZFxuICogYXJyYXkgKGUuZy4gIHRoZSBpdGVtcyBpbiB0aGUgYHZpZXdzYCBpbiB0aGUgcmVwZWF0ZXIgYXJlIGRlcml2ZWQgZnJvbSB0aGUgYGl0ZW1zYCBwcm9wZXJ0eSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN5bmNocm9uaXplSW5kaWNlcyhpdGVtcywgaW5kZXhNYXApIHtcbiAgICBjb25zdCBjb3B5ID0gaXRlbXMuc2xpY2UoKTtcbiAgICBjb25zdCBsZW4gPSBpbmRleE1hcC5sZW5ndGg7XG4gICAgbGV0IHRvID0gMDtcbiAgICBsZXQgZnJvbSA9IDA7XG4gICAgd2hpbGUgKHRvIDwgbGVuKSB7XG4gICAgICAgIGZyb20gPSBpbmRleE1hcFt0b107XG4gICAgICAgIGlmIChmcm9tICE9PSAtMikge1xuICAgICAgICAgICAgaXRlbXNbdG9dID0gY29weVtmcm9tXTtcbiAgICAgICAgfVxuICAgICAgICArK3RvO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFycmF5LW9ic2VydmVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/array-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/binding-context.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/binding-context.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BindingContext\": () => (/* binding */ BindingContext),\n/* harmony export */   \"Scope\": () => (/* binding */ Scope),\n/* harmony export */   \"OverrideContext\": () => (/* binding */ OverrideContext)\n/* harmony export */ });\nconst marker = Object.freeze({});\nclass BindingContext {\n    constructor(keyOrObj, value) {\n        if (keyOrObj !== void 0) {\n            if (value !== void 0) {\n                // if value is defined then it's just a property and a value to initialize with\n                this[keyOrObj] = value;\n            }\n            else {\n                // can either be some random object or another bindingContext to clone from\n                for (const prop in keyOrObj) {\n                    if (Object.prototype.hasOwnProperty.call(keyOrObj, prop)) {\n                        this[prop] = keyOrObj[prop];\n                    }\n                }\n            }\n        }\n    }\n    static create(keyOrObj, value) {\n        return new BindingContext(keyOrObj, value);\n    }\n    static get(scope, name, ancestor, flags, hostScope) {\n        if (scope == null && hostScope == null) {\n            throw new Error(`Scope is ${scope} and HostScope is ${hostScope}.`);\n        }\n        const hasOtherScope = hostScope !== scope && hostScope != null;\n        /* eslint-disable jsdoc/check-indentation */\n        /**\n         * This fallback is needed to support the following case:\n         * <div au-slot=\"s1\">\n         *  <let outer-host.bind=\"$host\"></let>\n         *  ${outerHost.prop}\n         * </div>\n         * To enable the `let` binding for 'hostScope', the property is added to `hostScope.overrideContext`. That enables us to use such let binding also inside a repeater.\n         * However, as the expression `${outerHost.prop}` does not start with `$host`, it is considered that to evaluate this expression we don't need the access to hostScope.\n         * This artifact raises the need for this fallback.\n         */\n        /* eslint-enable jsdoc/check-indentation */\n        let context = chooseContext(scope, name, ancestor);\n        if (context !== null\n            && ((context == null ? false : name in context)\n                || !hasOtherScope)) {\n            return context;\n        }\n        if (hasOtherScope) {\n            context = chooseContext(hostScope, name, ancestor);\n            if (context !== null && (context !== undefined && name in context)) {\n                return context;\n            }\n        }\n        // still nothing found. return the root binding context (or null\n        // if this is a parent scope traversal, to ensure we fall back to the\n        // correct level)\n        if (flags & 16 /* isTraversingParentScope */) {\n            return marker;\n        }\n        return scope.bindingContext || scope.overrideContext;\n    }\n}\nfunction chooseContext(scope, name, ancestor) {\n    var _a, _b;\n    let overrideContext = scope.overrideContext;\n    let currentScope = scope;\n    if (ancestor > 0) {\n        // jump up the required number of ancestor contexts (eg $parent.$parent requires two jumps)\n        while (ancestor > 0) {\n            ancestor--;\n            currentScope = currentScope.parentScope;\n            if ((currentScope === null || currentScope === void 0 ? void 0 : currentScope.overrideContext) == null) {\n                return void 0;\n            }\n        }\n        overrideContext = currentScope.overrideContext;\n        return name in overrideContext ? overrideContext : overrideContext.bindingContext;\n    }\n    // traverse the context and it's ancestors, searching for a context that has the name.\n    while (!(currentScope === null || currentScope === void 0 ? void 0 : currentScope.isComponentBoundary)\n        && overrideContext\n        && !(name in overrideContext)\n        && !(overrideContext.bindingContext\n            && name in overrideContext.bindingContext)) {\n        currentScope = (_a = currentScope.parentScope) !== null && _a !== void 0 ? _a : null;\n        overrideContext = (_b = currentScope === null || currentScope === void 0 ? void 0 : currentScope.overrideContext) !== null && _b !== void 0 ? _b : null;\n    }\n    if (overrideContext) {\n        return name in overrideContext ? overrideContext : overrideContext.bindingContext;\n    }\n    return null;\n}\nclass Scope {\n    constructor(parentScope, bindingContext, overrideContext, isComponentBoundary) {\n        this.parentScope = parentScope;\n        this.bindingContext = bindingContext;\n        this.overrideContext = overrideContext;\n        this.isComponentBoundary = isComponentBoundary;\n    }\n    static create(bc, oc, isComponentBoundary) {\n        return new Scope(null, bc, oc == null ? OverrideContext.create(bc) : oc, isComponentBoundary !== null && isComponentBoundary !== void 0 ? isComponentBoundary : false);\n    }\n    static fromOverride(oc) {\n        if (oc == null) {\n            throw new Error(`OverrideContext is ${oc}`);\n        }\n        return new Scope(null, oc.bindingContext, oc, false);\n    }\n    static fromParent(ps, bc) {\n        if (ps == null) {\n            throw new Error(`ParentScope is ${ps}`);\n        }\n        return new Scope(ps, bc, OverrideContext.create(bc), false);\n    }\n}\nclass OverrideContext {\n    constructor(bindingContext) {\n        this.bindingContext = bindingContext;\n    }\n    static create(bc) {\n        return new OverrideContext(bc);\n    }\n}\n//# sourceMappingURL=binding-context.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9iaW5kaW5nLWNvbnRleHQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9iaW5kaW5nLWNvbnRleHQuanM/YzBhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtYXJrZXIgPSBPYmplY3QuZnJlZXplKHt9KTtcbmV4cG9ydCBjbGFzcyBCaW5kaW5nQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3Ioa2V5T3JPYmosIHZhbHVlKSB7XG4gICAgICAgIGlmIChrZXlPck9iaiAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHZhbHVlIGlzIGRlZmluZWQgdGhlbiBpdCdzIGp1c3QgYSBwcm9wZXJ0eSBhbmQgYSB2YWx1ZSB0byBpbml0aWFsaXplIHdpdGhcbiAgICAgICAgICAgICAgICB0aGlzW2tleU9yT2JqXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY2FuIGVpdGhlciBiZSBzb21lIHJhbmRvbSBvYmplY3Qgb3IgYW5vdGhlciBiaW5kaW5nQ29udGV4dCB0byBjbG9uZSBmcm9tXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wIGluIGtleU9yT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoa2V5T3JPYmosIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3Byb3BdID0ga2V5T3JPYmpbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShrZXlPck9iaiwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nQ29udGV4dChrZXlPck9iaiwgdmFsdWUpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0KHNjb3BlLCBuYW1lLCBhbmNlc3RvciwgZmxhZ3MsIGhvc3RTY29wZSkge1xuICAgICAgICBpZiAoc2NvcGUgPT0gbnVsbCAmJiBob3N0U2NvcGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTY29wZSBpcyAke3Njb3BlfSBhbmQgSG9zdFNjb3BlIGlzICR7aG9zdFNjb3BlfS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNPdGhlclNjb3BlID0gaG9zdFNjb3BlICE9PSBzY29wZSAmJiBob3N0U2NvcGUgIT0gbnVsbDtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUganNkb2MvY2hlY2staW5kZW50YXRpb24gKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgZmFsbGJhY2sgaXMgbmVlZGVkIHRvIHN1cHBvcnQgdGhlIGZvbGxvd2luZyBjYXNlOlxuICAgICAgICAgKiA8ZGl2IGF1LXNsb3Q9XCJzMVwiPlxuICAgICAgICAgKiAgPGxldCBvdXRlci1ob3N0LmJpbmQ9XCIkaG9zdFwiPjwvbGV0PlxuICAgICAgICAgKiAgJHtvdXRlckhvc3QucHJvcH1cbiAgICAgICAgICogPC9kaXY+XG4gICAgICAgICAqIFRvIGVuYWJsZSB0aGUgYGxldGAgYmluZGluZyBmb3IgJ2hvc3RTY29wZScsIHRoZSBwcm9wZXJ0eSBpcyBhZGRlZCB0byBgaG9zdFNjb3BlLm92ZXJyaWRlQ29udGV4dGAuIFRoYXQgZW5hYmxlcyB1cyB0byB1c2Ugc3VjaCBsZXQgYmluZGluZyBhbHNvIGluc2lkZSBhIHJlcGVhdGVyLlxuICAgICAgICAgKiBIb3dldmVyLCBhcyB0aGUgZXhwcmVzc2lvbiBgJHtvdXRlckhvc3QucHJvcH1gIGRvZXMgbm90IHN0YXJ0IHdpdGggYCRob3N0YCwgaXQgaXMgY29uc2lkZXJlZCB0aGF0IHRvIGV2YWx1YXRlIHRoaXMgZXhwcmVzc2lvbiB3ZSBkb24ndCBuZWVkIHRoZSBhY2Nlc3MgdG8gaG9zdFNjb3BlLlxuICAgICAgICAgKiBUaGlzIGFydGlmYWN0IHJhaXNlcyB0aGUgbmVlZCBmb3IgdGhpcyBmYWxsYmFjay5cbiAgICAgICAgICovXG4gICAgICAgIC8qIGVzbGludC1lbmFibGUganNkb2MvY2hlY2staW5kZW50YXRpb24gKi9cbiAgICAgICAgbGV0IGNvbnRleHQgPSBjaG9vc2VDb250ZXh0KHNjb3BlLCBuYW1lLCBhbmNlc3Rvcik7XG4gICAgICAgIGlmIChjb250ZXh0ICE9PSBudWxsXG4gICAgICAgICAgICAmJiAoKGNvbnRleHQgPT0gbnVsbCA/IGZhbHNlIDogbmFtZSBpbiBjb250ZXh0KVxuICAgICAgICAgICAgICAgIHx8ICFoYXNPdGhlclNjb3BlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc090aGVyU2NvcGUpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBjaG9vc2VDb250ZXh0KGhvc3RTY29wZSwgbmFtZSwgYW5jZXN0b3IpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQgIT09IG51bGwgJiYgKGNvbnRleHQgIT09IHVuZGVmaW5lZCAmJiBuYW1lIGluIGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RpbGwgbm90aGluZyBmb3VuZC4gcmV0dXJuIHRoZSByb290IGJpbmRpbmcgY29udGV4dCAob3IgbnVsbFxuICAgICAgICAvLyBpZiB0aGlzIGlzIGEgcGFyZW50IHNjb3BlIHRyYXZlcnNhbCwgdG8gZW5zdXJlIHdlIGZhbGwgYmFjayB0byB0aGVcbiAgICAgICAgLy8gY29ycmVjdCBsZXZlbClcbiAgICAgICAgaWYgKGZsYWdzICYgMTYgLyogaXNUcmF2ZXJzaW5nUGFyZW50U2NvcGUgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBtYXJrZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjb3BlLmJpbmRpbmdDb250ZXh0IHx8IHNjb3BlLm92ZXJyaWRlQ29udGV4dDtcbiAgICB9XG59XG5mdW5jdGlvbiBjaG9vc2VDb250ZXh0KHNjb3BlLCBuYW1lLCBhbmNlc3Rvcikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgbGV0IG92ZXJyaWRlQ29udGV4dCA9IHNjb3BlLm92ZXJyaWRlQ29udGV4dDtcbiAgICBsZXQgY3VycmVudFNjb3BlID0gc2NvcGU7XG4gICAgaWYgKGFuY2VzdG9yID4gMCkge1xuICAgICAgICAvLyBqdW1wIHVwIHRoZSByZXF1aXJlZCBudW1iZXIgb2YgYW5jZXN0b3IgY29udGV4dHMgKGVnICRwYXJlbnQuJHBhcmVudCByZXF1aXJlcyB0d28ganVtcHMpXG4gICAgICAgIHdoaWxlIChhbmNlc3RvciA+IDApIHtcbiAgICAgICAgICAgIGFuY2VzdG9yLS07XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBjdXJyZW50U2NvcGUucGFyZW50U2NvcGU7XG4gICAgICAgICAgICBpZiAoKGN1cnJlbnRTY29wZSA9PT0gbnVsbCB8fCBjdXJyZW50U2NvcGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRTY29wZS5vdmVycmlkZUNvbnRleHQpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG92ZXJyaWRlQ29udGV4dCA9IGN1cnJlbnRTY29wZS5vdmVycmlkZUNvbnRleHQ7XG4gICAgICAgIHJldHVybiBuYW1lIGluIG92ZXJyaWRlQ29udGV4dCA/IG92ZXJyaWRlQ29udGV4dCA6IG92ZXJyaWRlQ29udGV4dC5iaW5kaW5nQ29udGV4dDtcbiAgICB9XG4gICAgLy8gdHJhdmVyc2UgdGhlIGNvbnRleHQgYW5kIGl0J3MgYW5jZXN0b3JzLCBzZWFyY2hpbmcgZm9yIGEgY29udGV4dCB0aGF0IGhhcyB0aGUgbmFtZS5cbiAgICB3aGlsZSAoIShjdXJyZW50U2NvcGUgPT09IG51bGwgfHwgY3VycmVudFNjb3BlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50U2NvcGUuaXNDb21wb25lbnRCb3VuZGFyeSlcbiAgICAgICAgJiYgb3ZlcnJpZGVDb250ZXh0XG4gICAgICAgICYmICEobmFtZSBpbiBvdmVycmlkZUNvbnRleHQpXG4gICAgICAgICYmICEob3ZlcnJpZGVDb250ZXh0LmJpbmRpbmdDb250ZXh0XG4gICAgICAgICAgICAmJiBuYW1lIGluIG92ZXJyaWRlQ29udGV4dC5iaW5kaW5nQ29udGV4dCkpIHtcbiAgICAgICAgY3VycmVudFNjb3BlID0gKF9hID0gY3VycmVudFNjb3BlLnBhcmVudFNjb3BlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsO1xuICAgICAgICBvdmVycmlkZUNvbnRleHQgPSAoX2IgPSBjdXJyZW50U2NvcGUgPT09IG51bGwgfHwgY3VycmVudFNjb3BlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50U2NvcGUub3ZlcnJpZGVDb250ZXh0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsO1xuICAgIH1cbiAgICBpZiAob3ZlcnJpZGVDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuYW1lIGluIG92ZXJyaWRlQ29udGV4dCA/IG92ZXJyaWRlQ29udGV4dCA6IG92ZXJyaWRlQ29udGV4dC5iaW5kaW5nQ29udGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgY2xhc3MgU2NvcGUge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudFNjb3BlLCBiaW5kaW5nQ29udGV4dCwgb3ZlcnJpZGVDb250ZXh0LCBpc0NvbXBvbmVudEJvdW5kYXJ5KSB7XG4gICAgICAgIHRoaXMucGFyZW50U2NvcGUgPSBwYXJlbnRTY29wZTtcbiAgICAgICAgdGhpcy5iaW5kaW5nQ29udGV4dCA9IGJpbmRpbmdDb250ZXh0O1xuICAgICAgICB0aGlzLm92ZXJyaWRlQ29udGV4dCA9IG92ZXJyaWRlQ29udGV4dDtcbiAgICAgICAgdGhpcy5pc0NvbXBvbmVudEJvdW5kYXJ5ID0gaXNDb21wb25lbnRCb3VuZGFyeTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShiYywgb2MsIGlzQ29tcG9uZW50Qm91bmRhcnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTY29wZShudWxsLCBiYywgb2MgPT0gbnVsbCA/IE92ZXJyaWRlQ29udGV4dC5jcmVhdGUoYmMpIDogb2MsIGlzQ29tcG9uZW50Qm91bmRhcnkgIT09IG51bGwgJiYgaXNDb21wb25lbnRCb3VuZGFyeSAhPT0gdm9pZCAwID8gaXNDb21wb25lbnRCb3VuZGFyeSA6IGZhbHNlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21PdmVycmlkZShvYykge1xuICAgICAgICBpZiAob2MgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPdmVycmlkZUNvbnRleHQgaXMgJHtvY31gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNjb3BlKG51bGwsIG9jLmJpbmRpbmdDb250ZXh0LCBvYywgZmFsc2UpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVBhcmVudChwcywgYmMpIHtcbiAgICAgICAgaWYgKHBzID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUGFyZW50U2NvcGUgaXMgJHtwc31gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNjb3BlKHBzLCBiYywgT3ZlcnJpZGVDb250ZXh0LmNyZWF0ZShiYyksIGZhbHNlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgT3ZlcnJpZGVDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihiaW5kaW5nQ29udGV4dCkge1xuICAgICAgICB0aGlzLmJpbmRpbmdDb250ZXh0ID0gYmluZGluZ0NvbnRleHQ7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYmMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPdmVycmlkZUNvbnRleHQoYmMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpbmRpbmctY29udGV4dC5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/binding-context.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/collection-length-observer.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/collection-length-observer.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CollectionLengthObserver\": () => (/* binding */ CollectionLengthObserver),\n/* harmony export */   \"CollectionSizeObserver\": () => (/* binding */ CollectionSizeObserver)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _subscriber_collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./subscriber-collection.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/subscriber-collection.js\");\n/* harmony import */ var _utilities_objects_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities-objects.js */ \"./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js\");\n\n\n\nclass CollectionLengthObserver {\n    constructor(owner) {\n        this.owner = owner;\n        this.type = 18 /* Array */;\n        this.value = (this.obj = owner.collection).length;\n    }\n    getValue() {\n        return this.obj.length;\n    }\n    setValue(newValue, flags) {\n        const currentValue = this.value;\n        // if in the template, length is two-way bound directly\n        // then there's a chance that the new value is invalid\n        // add a guard so that we don't accidentally broadcast invalid values\n        if (newValue !== currentValue && (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArrayIndex)(newValue)) {\n            if ((flags & 256 /* noFlush */) === 0) {\n                this.obj.length = newValue;\n            }\n            this.value = newValue;\n            this.subs.notify(newValue, currentValue, flags);\n        }\n    }\n    handleCollectionChange(_, flags) {\n        const oldValue = this.value;\n        const value = this.obj.length;\n        if ((this.value = value) !== oldValue) {\n            this.subs.notify(value, oldValue, flags);\n        }\n    }\n}\nclass CollectionSizeObserver {\n    constructor(owner) {\n        this.owner = owner;\n        this.value = (this.obj = owner.collection).size;\n        this.type = this.obj instanceof Map ? 66 /* Map */ : 34 /* Set */;\n    }\n    getValue() {\n        return this.obj.size;\n    }\n    setValue() {\n        throw new Error('Map/Set \"size\" is a readonly property');\n    }\n    handleCollectionChange(_, flags) {\n        const oldValue = this.value;\n        const value = this.obj.size;\n        this.value = value;\n        if (value !== oldValue) {\n            this.subs.notify(value, oldValue, flags);\n        }\n    }\n}\nfunction implementLengthObserver(klass) {\n    const proto = klass.prototype;\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_2__.ensureProto)(proto, 'subscribe', subscribe, true);\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_2__.ensureProto)(proto, 'unsubscribe', unsubscribe, true);\n    (0,_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_1__.subscriberCollection)(klass);\n}\nfunction subscribe(subscriber) {\n    if (this.subs.add(subscriber) && this.subs.count === 1) {\n        this.owner.subscribe(this);\n    }\n}\nfunction unsubscribe(subscriber) {\n    if (this.subs.remove(subscriber) && this.subs.count === 0) {\n        this.owner.subscribe(this);\n    }\n}\nimplementLengthObserver(CollectionLengthObserver);\nimplementLengthObserver(CollectionSizeObserver);\n//# sourceMappingURL=collection-length-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9jb2xsZWN0aW9uLWxlbmd0aC1vYnNlcnZlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL29ic2VydmF0aW9uL2NvbGxlY3Rpb24tbGVuZ3RoLW9ic2VydmVyLmpzPzdhM2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNBcnJheUluZGV4IH0gZnJvbSAnQGF1cmVsaWEva2VybmVsJztcbmltcG9ydCB7IHN1YnNjcmliZXJDb2xsZWN0aW9uIH0gZnJvbSAnLi9zdWJzY3JpYmVyLWNvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgZW5zdXJlUHJvdG8gfSBmcm9tICcuLi91dGlsaXRpZXMtb2JqZWN0cy5qcyc7XG5leHBvcnQgY2xhc3MgQ29sbGVjdGlvbkxlbmd0aE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihvd25lcikge1xuICAgICAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgICAgIHRoaXMudHlwZSA9IDE4IC8qIEFycmF5ICovO1xuICAgICAgICB0aGlzLnZhbHVlID0gKHRoaXMub2JqID0gb3duZXIuY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2JqLmxlbmd0aDtcbiAgICB9XG4gICAgc2V0VmFsdWUobmV3VmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgIC8vIGlmIGluIHRoZSB0ZW1wbGF0ZSwgbGVuZ3RoIGlzIHR3by13YXkgYm91bmQgZGlyZWN0bHlcbiAgICAgICAgLy8gdGhlbiB0aGVyZSdzIGEgY2hhbmNlIHRoYXQgdGhlIG5ldyB2YWx1ZSBpcyBpbnZhbGlkXG4gICAgICAgIC8vIGFkZCBhIGd1YXJkIHNvIHRoYXQgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IGJyb2FkY2FzdCBpbnZhbGlkIHZhbHVlc1xuICAgICAgICBpZiAobmV3VmFsdWUgIT09IGN1cnJlbnRWYWx1ZSAmJiBpc0FycmF5SW5kZXgobmV3VmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAoKGZsYWdzICYgMjU2IC8qIG5vRmx1c2ggKi8pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmoubGVuZ3RoID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB0aGlzLnN1YnMubm90aWZ5KG5ld1ZhbHVlLCBjdXJyZW50VmFsdWUsIGZsYWdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKF8sIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLm9iai5sZW5ndGg7XG4gICAgICAgIGlmICgodGhpcy52YWx1ZSA9IHZhbHVlKSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vicy5ub3RpZnkodmFsdWUsIG9sZFZhbHVlLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ29sbGVjdGlvblNpemVPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3Iob3duZXIpIHtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLnZhbHVlID0gKHRoaXMub2JqID0gb3duZXIuY29sbGVjdGlvbikuc2l6ZTtcbiAgICAgICAgdGhpcy50eXBlID0gdGhpcy5vYmogaW5zdGFuY2VvZiBNYXAgPyA2NiAvKiBNYXAgKi8gOiAzNCAvKiBTZXQgKi87XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vYmouc2l6ZTtcbiAgICB9XG4gICAgc2V0VmFsdWUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWFwL1NldCBcInNpemVcIiBpcyBhIHJlYWRvbmx5IHByb3BlcnR5Jyk7XG4gICAgfVxuICAgIGhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoXywgZmxhZ3MpIHtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMub2JqLnNpemU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdWJzLm5vdGlmeSh2YWx1ZSwgb2xkVmFsdWUsIGZsYWdzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGltcGxlbWVudExlbmd0aE9ic2VydmVyKGtsYXNzKSB7XG4gICAgY29uc3QgcHJvdG8gPSBrbGFzcy5wcm90b3R5cGU7XG4gICAgZW5zdXJlUHJvdG8ocHJvdG8sICdzdWJzY3JpYmUnLCBzdWJzY3JpYmUsIHRydWUpO1xuICAgIGVuc3VyZVByb3RvKHByb3RvLCAndW5zdWJzY3JpYmUnLCB1bnN1YnNjcmliZSwgdHJ1ZSk7XG4gICAgc3Vic2NyaWJlckNvbGxlY3Rpb24oa2xhc3MpO1xufVxuZnVuY3Rpb24gc3Vic2NyaWJlKHN1YnNjcmliZXIpIHtcbiAgICBpZiAodGhpcy5zdWJzLmFkZChzdWJzY3JpYmVyKSAmJiB0aGlzLnN1YnMuY291bnQgPT09IDEpIHtcbiAgICAgICAgdGhpcy5vd25lci5zdWJzY3JpYmUodGhpcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdW5zdWJzY3JpYmUoc3Vic2NyaWJlcikge1xuICAgIGlmICh0aGlzLnN1YnMucmVtb3ZlKHN1YnNjcmliZXIpICYmIHRoaXMuc3Vicy5jb3VudCA9PT0gMCkge1xuICAgICAgICB0aGlzLm93bmVyLnN1YnNjcmliZSh0aGlzKTtcbiAgICB9XG59XG5pbXBsZW1lbnRMZW5ndGhPYnNlcnZlcihDb2xsZWN0aW9uTGVuZ3RoT2JzZXJ2ZXIpO1xuaW1wbGVtZW50TGVuZ3RoT2JzZXJ2ZXIoQ29sbGVjdGlvblNpemVPYnNlcnZlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xsZWN0aW9uLWxlbmd0aC1vYnNlcnZlci5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/collection-length-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/computed-observer.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/computed-observer.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ComputedObserver\": () => (/* binding */ ComputedObserver)\n/* harmony export */ });\n/* harmony import */ var _subscriber_collection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./subscriber-collection.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/subscriber-collection.js\");\n/* harmony import */ var _connectable_switcher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./connectable-switcher.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/connectable-switcher.js\");\n/* harmony import */ var _binding_connectable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../binding/connectable.js */ \"./node_modules/@aurelia/runtime/dist/esm/binding/connectable.js\");\n/* harmony import */ var _proxy_observation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./proxy-observation.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/proxy-observation.js\");\n/* harmony import */ var _utilities_objects_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utilities-objects.js */ \"./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js\");\n\n\n\n\n\nclass ComputedObserver {\n    constructor(obj, get, set, useProxy, observerLocator) {\n        this.obj = obj;\n        this.get = get;\n        this.set = set;\n        this.useProxy = useProxy;\n        this.observerLocator = observerLocator;\n        this.interceptor = this;\n        this.type = 1 /* Observer */;\n        this.value = void 0;\n        // todo: maybe use a counter allow recursive call to a certain level\n        /**\n         * @internal\n         */\n        this.running = false;\n        this.isDirty = false;\n    }\n    static create(obj, key, descriptor, observerLocator, useProxy) {\n        const getter = descriptor.get;\n        const setter = descriptor.set;\n        const observer = new ComputedObserver(obj, getter, setter, useProxy, observerLocator);\n        const $get = (( /* Computed Observer */) => observer.getValue());\n        $get.getObserver = () => observer;\n        (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_4__.def)(obj, key, {\n            enumerable: descriptor.enumerable,\n            configurable: true,\n            get: $get,\n            set: (/* Computed Observer */ v) => {\n                observer.setValue(v, 0 /* none */);\n            },\n        });\n        return observer;\n    }\n    getValue() {\n        if (this.subs.count === 0) {\n            return this.get.call(this.obj, this);\n        }\n        if (this.isDirty) {\n            this.compute();\n            this.isDirty = false;\n        }\n        return this.value;\n    }\n    // deepscan-disable-next-line\n    setValue(v, _flags) {\n        if (typeof this.set === 'function') {\n            if (v !== this.value) {\n                // setting running true as a form of batching\n                this.running = true;\n                this.set.call(this.obj, v);\n                this.running = false;\n                this.run();\n            }\n        }\n        else {\n            throw new Error('Property is readonly');\n        }\n    }\n    handleChange() {\n        this.isDirty = true;\n        if (this.subs.count > 0) {\n            this.run();\n        }\n    }\n    handleCollectionChange() {\n        this.isDirty = true;\n        if (this.subs.count > 0) {\n            this.run();\n        }\n    }\n    subscribe(subscriber) {\n        // in theory, a collection subscriber could be added before a property subscriber\n        // and it should be handled similarly in subscribeToCollection\n        // though not handling for now, and wait until the merge of normal + collection subscription\n        if (this.subs.add(subscriber) && this.subs.count === 1) {\n            this.compute();\n            this.isDirty = false;\n        }\n    }\n    unsubscribe(subscriber) {\n        if (this.subs.remove(subscriber) && this.subs.count === 0) {\n            this.isDirty = true;\n            this.obs.clear(true);\n        }\n    }\n    run() {\n        if (this.running) {\n            return;\n        }\n        const oldValue = this.value;\n        const newValue = this.compute();\n        this.isDirty = false;\n        if (!Object.is(newValue, oldValue)) {\n            // should optionally queue\n            this.subs.notify(newValue, oldValue, 0 /* none */);\n        }\n    }\n    compute() {\n        this.running = true;\n        this.obs.version++;\n        try {\n            (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_1__.enterConnectable)(this);\n            return this.value = (0,_proxy_observation_js__WEBPACK_IMPORTED_MODULE_3__.unwrap)(this.get.call(this.useProxy ? (0,_proxy_observation_js__WEBPACK_IMPORTED_MODULE_3__.wrap)(this.obj) : this.obj, this));\n        }\n        finally {\n            this.obs.clear(false);\n            this.running = false;\n            (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_1__.exitConnectable)(this);\n        }\n    }\n}\n(0,_binding_connectable_js__WEBPACK_IMPORTED_MODULE_2__.connectable)(ComputedObserver);\n(0,_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_0__.subscriberCollection)(ComputedObserver);\n//# sourceMappingURL=computed-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9jb21wdXRlZC1vYnNlcnZlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL29ic2VydmF0aW9uL2NvbXB1dGVkLW9ic2VydmVyLmpzP2Y0MmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3Vic2NyaWJlckNvbGxlY3Rpb24gfSBmcm9tICcuL3N1YnNjcmliZXItY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBlbnRlckNvbm5lY3RhYmxlLCBleGl0Q29ubmVjdGFibGUgfSBmcm9tICcuL2Nvbm5lY3RhYmxlLXN3aXRjaGVyLmpzJztcbmltcG9ydCB7IGNvbm5lY3RhYmxlIH0gZnJvbSAnLi4vYmluZGluZy9jb25uZWN0YWJsZS5qcyc7XG5pbXBvcnQgeyB3cmFwLCB1bndyYXAgfSBmcm9tICcuL3Byb3h5LW9ic2VydmF0aW9uLmpzJztcbmltcG9ydCB7IGRlZiB9IGZyb20gJy4uL3V0aWxpdGllcy1vYmplY3RzLmpzJztcbmV4cG9ydCBjbGFzcyBDb21wdXRlZE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihvYmosIGdldCwgc2V0LCB1c2VQcm94eSwgb2JzZXJ2ZXJMb2NhdG9yKSB7XG4gICAgICAgIHRoaXMub2JqID0gb2JqO1xuICAgICAgICB0aGlzLmdldCA9IGdldDtcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQ7XG4gICAgICAgIHRoaXMudXNlUHJveHkgPSB1c2VQcm94eTtcbiAgICAgICAgdGhpcy5vYnNlcnZlckxvY2F0b3IgPSBvYnNlcnZlckxvY2F0b3I7XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0b3IgPSB0aGlzO1xuICAgICAgICB0aGlzLnR5cGUgPSAxIC8qIE9ic2VydmVyICovO1xuICAgICAgICB0aGlzLnZhbHVlID0gdm9pZCAwO1xuICAgICAgICAvLyB0b2RvOiBtYXliZSB1c2UgYSBjb3VudGVyIGFsbG93IHJlY3Vyc2l2ZSBjYWxsIHRvIGEgY2VydGFpbiBsZXZlbFxuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gZmFsc2U7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUob2JqLCBrZXksIGRlc2NyaXB0b3IsIG9ic2VydmVyTG9jYXRvciwgdXNlUHJveHkpIHtcbiAgICAgICAgY29uc3QgZ2V0dGVyID0gZGVzY3JpcHRvci5nZXQ7XG4gICAgICAgIGNvbnN0IHNldHRlciA9IGRlc2NyaXB0b3Iuc2V0O1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBDb21wdXRlZE9ic2VydmVyKG9iaiwgZ2V0dGVyLCBzZXR0ZXIsIHVzZVByb3h5LCBvYnNlcnZlckxvY2F0b3IpO1xuICAgICAgICBjb25zdCAkZ2V0ID0gKCggLyogQ29tcHV0ZWQgT2JzZXJ2ZXIgKi8pID0+IG9ic2VydmVyLmdldFZhbHVlKCkpO1xuICAgICAgICAkZ2V0LmdldE9ic2VydmVyID0gKCkgPT4gb2JzZXJ2ZXI7XG4gICAgICAgIGRlZihvYmosIGtleSwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZ2V0OiAkZ2V0LFxuICAgICAgICAgICAgc2V0OiAoLyogQ29tcHV0ZWQgT2JzZXJ2ZXIgKi8gdikgPT4ge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLnNldFZhbHVlKHYsIDAgLyogbm9uZSAqLyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vicy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0LmNhbGwodGhpcy5vYmosIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICAgICAgdGhpcy5pc0RpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIC8vIGRlZXBzY2FuLWRpc2FibGUtbmV4dC1saW5lXG4gICAgc2V0VmFsdWUodiwgX2ZsYWdzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh2ICE9PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gc2V0dGluZyBydW5uaW5nIHRydWUgYXMgYSBmb3JtIG9mIGJhdGNoaW5nXG4gICAgICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldC5jYWxsKHRoaXMub2JqLCB2KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9wZXJ0eSBpcyByZWFkb25seScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuc3Vicy5jb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlQ29sbGVjdGlvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuc3Vicy5jb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3Vic2NyaWJlKHN1YnNjcmliZXIpIHtcbiAgICAgICAgLy8gaW4gdGhlb3J5LCBhIGNvbGxlY3Rpb24gc3Vic2NyaWJlciBjb3VsZCBiZSBhZGRlZCBiZWZvcmUgYSBwcm9wZXJ0eSBzdWJzY3JpYmVyXG4gICAgICAgIC8vIGFuZCBpdCBzaG91bGQgYmUgaGFuZGxlZCBzaW1pbGFybHkgaW4gc3Vic2NyaWJlVG9Db2xsZWN0aW9uXG4gICAgICAgIC8vIHRob3VnaCBub3QgaGFuZGxpbmcgZm9yIG5vdywgYW5kIHdhaXQgdW50aWwgdGhlIG1lcmdlIG9mIG5vcm1hbCArIGNvbGxlY3Rpb24gc3Vic2NyaXB0aW9uXG4gICAgICAgIGlmICh0aGlzLnN1YnMuYWRkKHN1YnNjcmliZXIpICYmIHRoaXMuc3Vicy5jb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgICAgICAgICB0aGlzLmlzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnN1YnNjcmliZShzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMucmVtb3ZlKHN1YnNjcmliZXIpICYmIHRoaXMuc3Vicy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMub2JzLmNsZWFyKHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgaWYgKHRoaXMucnVubmluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB0aGlzLmNvbXB1dGUoKTtcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gZmFsc2U7XG4gICAgICAgIGlmICghT2JqZWN0LmlzKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIHNob3VsZCBvcHRpb25hbGx5IHF1ZXVlXG4gICAgICAgICAgICB0aGlzLnN1YnMubm90aWZ5KG5ld1ZhbHVlLCBvbGRWYWx1ZSwgMCAvKiBub25lICovKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wdXRlKCkge1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm9icy52ZXJzaW9uKys7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBlbnRlckNvbm5lY3RhYmxlKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPSB1bndyYXAodGhpcy5nZXQuY2FsbCh0aGlzLnVzZVByb3h5ID8gd3JhcCh0aGlzLm9iaikgOiB0aGlzLm9iaiwgdGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5vYnMuY2xlYXIoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBleGl0Q29ubmVjdGFibGUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25uZWN0YWJsZShDb21wdXRlZE9ic2VydmVyKTtcbnN1YnNjcmliZXJDb2xsZWN0aW9uKENvbXB1dGVkT2JzZXJ2ZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcHV0ZWQtb2JzZXJ2ZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/computed-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/connectable-switcher.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/connectable-switcher.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"connecting\": () => (/* binding */ connecting),\n/* harmony export */   \"pauseConnecting\": () => (/* binding */ pauseConnecting),\n/* harmony export */   \"resumeConnecting\": () => (/* binding */ resumeConnecting),\n/* harmony export */   \"currentConnectable\": () => (/* binding */ currentConnectable),\n/* harmony export */   \"enterConnectable\": () => (/* binding */ enterConnectable),\n/* harmony export */   \"exitConnectable\": () => (/* binding */ exitConnectable),\n/* harmony export */   \"ConnectableSwitcher\": () => (/* binding */ ConnectableSwitcher)\n/* harmony export */ });\n/**\n * Current subscription collector\n */\nlet _connectable = null;\nconst connectables = [];\n// eslint-disable-next-line\nlet connecting = false;\n// todo: layer based collection pause/resume?\nfunction pauseConnecting() {\n    connecting = false;\n}\nfunction resumeConnecting() {\n    connecting = true;\n}\nfunction currentConnectable() {\n    return _connectable;\n}\nfunction enterConnectable(connectable) {\n    if (connectable == null) {\n        throw new Error('Connectable cannot be null/undefined');\n    }\n    if (_connectable == null) {\n        _connectable = connectable;\n        connectables[0] = _connectable;\n        connecting = true;\n        return;\n    }\n    if (_connectable === connectable) {\n        throw new Error(`Trying to enter an active connectable`);\n    }\n    connectables.push(_connectable);\n    _connectable = connectable;\n    connecting = true;\n}\nfunction exitConnectable(connectable) {\n    if (connectable == null) {\n        throw new Error('Connectable cannot be null/undefined');\n    }\n    if (_connectable !== connectable) {\n        throw new Error(`Trying to exit an unactive connectable`);\n    }\n    connectables.pop();\n    _connectable = connectables.length > 0 ? connectables[connectables.length - 1] : null;\n    connecting = _connectable != null;\n}\nconst ConnectableSwitcher = Object.freeze({\n    get current() {\n        return _connectable;\n    },\n    get connecting() {\n        return connecting;\n    },\n    enter: enterConnectable,\n    exit: exitConnectable,\n    pause: pauseConnecting,\n    resume: resumeConnecting,\n});\n//# sourceMappingURL=connectable-switcher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9jb25uZWN0YWJsZS1zd2l0Y2hlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL29ic2VydmF0aW9uL2Nvbm5lY3RhYmxlLXN3aXRjaGVyLmpzP2VmMWQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDdXJyZW50IHN1YnNjcmlwdGlvbiBjb2xsZWN0b3JcbiAqL1xubGV0IF9jb25uZWN0YWJsZSA9IG51bGw7XG5jb25zdCBjb25uZWN0YWJsZXMgPSBbXTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuZXhwb3J0IGxldCBjb25uZWN0aW5nID0gZmFsc2U7XG4vLyB0b2RvOiBsYXllciBiYXNlZCBjb2xsZWN0aW9uIHBhdXNlL3Jlc3VtZT9cbmV4cG9ydCBmdW5jdGlvbiBwYXVzZUNvbm5lY3RpbmcoKSB7XG4gICAgY29ubmVjdGluZyA9IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc3VtZUNvbm5lY3RpbmcoKSB7XG4gICAgY29ubmVjdGluZyA9IHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gY3VycmVudENvbm5lY3RhYmxlKCkge1xuICAgIHJldHVybiBfY29ubmVjdGFibGU7XG59XG5leHBvcnQgZnVuY3Rpb24gZW50ZXJDb25uZWN0YWJsZShjb25uZWN0YWJsZSkge1xuICAgIGlmIChjb25uZWN0YWJsZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ29ubmVjdGFibGUgY2Fubm90IGJlIG51bGwvdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIGlmIChfY29ubmVjdGFibGUgPT0gbnVsbCkge1xuICAgICAgICBfY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICAgICAgY29ubmVjdGFibGVzWzBdID0gX2Nvbm5lY3RhYmxlO1xuICAgICAgICBjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoX2Nvbm5lY3RhYmxlID09PSBjb25uZWN0YWJsZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRyeWluZyB0byBlbnRlciBhbiBhY3RpdmUgY29ubmVjdGFibGVgKTtcbiAgICB9XG4gICAgY29ubmVjdGFibGVzLnB1c2goX2Nvbm5lY3RhYmxlKTtcbiAgICBfY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICBjb25uZWN0aW5nID0gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleGl0Q29ubmVjdGFibGUoY29ubmVjdGFibGUpIHtcbiAgICBpZiAoY29ubmVjdGFibGUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nvbm5lY3RhYmxlIGNhbm5vdCBiZSBudWxsL3VuZGVmaW5lZCcpO1xuICAgIH1cbiAgICBpZiAoX2Nvbm5lY3RhYmxlICE9PSBjb25uZWN0YWJsZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRyeWluZyB0byBleGl0IGFuIHVuYWN0aXZlIGNvbm5lY3RhYmxlYCk7XG4gICAgfVxuICAgIGNvbm5lY3RhYmxlcy5wb3AoKTtcbiAgICBfY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZXMubGVuZ3RoID4gMCA/IGNvbm5lY3RhYmxlc1tjb25uZWN0YWJsZXMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgIGNvbm5lY3RpbmcgPSBfY29ubmVjdGFibGUgIT0gbnVsbDtcbn1cbmV4cG9ydCBjb25zdCBDb25uZWN0YWJsZVN3aXRjaGVyID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgZ2V0IGN1cnJlbnQoKSB7XG4gICAgICAgIHJldHVybiBfY29ubmVjdGFibGU7XG4gICAgfSxcbiAgICBnZXQgY29ubmVjdGluZygpIHtcbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpbmc7XG4gICAgfSxcbiAgICBlbnRlcjogZW50ZXJDb25uZWN0YWJsZSxcbiAgICBleGl0OiBleGl0Q29ubmVjdGFibGUsXG4gICAgcGF1c2U6IHBhdXNlQ29ubmVjdGluZyxcbiAgICByZXN1bWU6IHJlc3VtZUNvbm5lY3RpbmcsXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbm5lY3RhYmxlLXN3aXRjaGVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/connectable-switcher.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/dirty-checker.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/dirty-checker.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IDirtyChecker\": () => (/* binding */ IDirtyChecker),\n/* harmony export */   \"DirtyCheckSettings\": () => (/* binding */ DirtyCheckSettings),\n/* harmony export */   \"DirtyChecker\": () => (/* binding */ DirtyChecker),\n/* harmony export */   \"DirtyCheckProperty\": () => (/* binding */ DirtyCheckProperty)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _subscriber_collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./subscriber-collection.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/subscriber-collection.js\");\n\n\nconst IDirtyChecker = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IDirtyChecker', x => x.singleton(DirtyChecker));\nconst DirtyCheckSettings = {\n    /**\n     * Default: `6`\n     *\n     * Adjust the global dirty check frequency.\n     * Measures in \"timeouts per check\", such that (given a default of 250 timeouts per second in modern browsers):\n     * - A value of 1 will result in 250 dirty checks per second (or 1 dirty check per second for an inactive tab)\n     * - A value of 25 will result in 10 dirty checks per second (or 1 dirty check per 25 seconds for an inactive tab)\n     */\n    timeoutsPerCheck: 25,\n    /**\n     * Default: `false`\n     *\n     * Disable dirty-checking entirely. Properties that cannot be observed without dirty checking\n     * or an adapter, will simply not be observed.\n     */\n    disabled: false,\n    /**\n     * Default: `false`\n     *\n     * Throw an error if a property is being dirty-checked.\n     */\n    throw: false,\n    /**\n     * Resets all dirty checking settings to the framework's defaults.\n     */\n    resetToDefault() {\n        this.timeoutsPerCheck = 6;\n        this.disabled = false;\n        this.throw = false;\n    }\n};\nconst queueTaskOpts = {\n    persistent: true,\n};\nclass DirtyChecker {\n    constructor(platform) {\n        this.platform = platform;\n        this.tracked = [];\n        this.task = null;\n        this.elapsedFrames = 0;\n        this.check = () => {\n            if (DirtyCheckSettings.disabled) {\n                return;\n            }\n            if (++this.elapsedFrames < DirtyCheckSettings.timeoutsPerCheck) {\n                return;\n            }\n            this.elapsedFrames = 0;\n            const tracked = this.tracked;\n            const len = tracked.length;\n            let current;\n            let i = 0;\n            for (; i < len; ++i) {\n                current = tracked[i];\n                if (current.isDirty()) {\n                    current.flush(0 /* none */);\n                }\n            }\n        };\n    }\n    createProperty(obj, propertyName) {\n        if (DirtyCheckSettings.throw) {\n            throw new Error(`Property '${propertyName}' is being dirty-checked.`);\n        }\n        return new DirtyCheckProperty(this, obj, propertyName);\n    }\n    addProperty(property) {\n        this.tracked.push(property);\n        if (this.tracked.length === 1) {\n            this.task = this.platform.taskQueue.queueTask(this.check, queueTaskOpts);\n        }\n    }\n    removeProperty(property) {\n        this.tracked.splice(this.tracked.indexOf(property), 1);\n        if (this.tracked.length === 0) {\n            this.task.cancel();\n            this.task = null;\n        }\n    }\n}\n/**\n * @internal\n */\nDirtyChecker.inject = [_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IPlatform];\nclass DirtyCheckProperty {\n    constructor(dirtyChecker, obj, propertyKey) {\n        this.dirtyChecker = dirtyChecker;\n        this.obj = obj;\n        this.propertyKey = propertyKey;\n        this.type = 0 /* None */;\n    }\n    getValue() {\n        return this.obj[this.propertyKey];\n    }\n    setValue(v, f) {\n        // todo: this should be allowed, probably\n        // but the construction of dirty checker should throw instead\n        throw new Error(`Trying to set value for property ${this.propertyKey} in dirty checker`);\n    }\n    isDirty() {\n        return this.oldValue !== this.obj[this.propertyKey];\n    }\n    flush(flags) {\n        const oldValue = this.oldValue;\n        const newValue = this.getValue();\n        this.subs.notify(newValue, oldValue, flags);\n        this.oldValue = newValue;\n    }\n    subscribe(subscriber) {\n        if (this.subs.add(subscriber) && this.subs.count === 1) {\n            this.oldValue = this.obj[this.propertyKey];\n            this.dirtyChecker.addProperty(this);\n        }\n    }\n    unsubscribe(subscriber) {\n        if (this.subs.remove(subscriber) && this.subs.count === 0) {\n            this.dirtyChecker.removeProperty(this);\n        }\n    }\n}\n(0,_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_1__.subscriberCollection)(DirtyCheckProperty);\n//# sourceMappingURL=dirty-checker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9kaXJ0eS1jaGVja2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUvZGlzdC9lc20vb2JzZXJ2YXRpb24vZGlydHktY2hlY2tlci5qcz8zZjBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERJLCBJUGxhdGZvcm0gfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgc3Vic2NyaWJlckNvbGxlY3Rpb24gfSBmcm9tICcuL3N1YnNjcmliZXItY29sbGVjdGlvbi5qcyc7XG5leHBvcnQgY29uc3QgSURpcnR5Q2hlY2tlciA9IERJLmNyZWF0ZUludGVyZmFjZSgnSURpcnR5Q2hlY2tlcicsIHggPT4geC5zaW5nbGV0b24oRGlydHlDaGVja2VyKSk7XG5leHBvcnQgY29uc3QgRGlydHlDaGVja1NldHRpbmdzID0ge1xuICAgIC8qKlxuICAgICAqIERlZmF1bHQ6IGA2YFxuICAgICAqXG4gICAgICogQWRqdXN0IHRoZSBnbG9iYWwgZGlydHkgY2hlY2sgZnJlcXVlbmN5LlxuICAgICAqIE1lYXN1cmVzIGluIFwidGltZW91dHMgcGVyIGNoZWNrXCIsIHN1Y2ggdGhhdCAoZ2l2ZW4gYSBkZWZhdWx0IG9mIDI1MCB0aW1lb3V0cyBwZXIgc2Vjb25kIGluIG1vZGVybiBicm93c2Vycyk6XG4gICAgICogLSBBIHZhbHVlIG9mIDEgd2lsbCByZXN1bHQgaW4gMjUwIGRpcnR5IGNoZWNrcyBwZXIgc2Vjb25kIChvciAxIGRpcnR5IGNoZWNrIHBlciBzZWNvbmQgZm9yIGFuIGluYWN0aXZlIHRhYilcbiAgICAgKiAtIEEgdmFsdWUgb2YgMjUgd2lsbCByZXN1bHQgaW4gMTAgZGlydHkgY2hlY2tzIHBlciBzZWNvbmQgKG9yIDEgZGlydHkgY2hlY2sgcGVyIDI1IHNlY29uZHMgZm9yIGFuIGluYWN0aXZlIHRhYilcbiAgICAgKi9cbiAgICB0aW1lb3V0c1BlckNoZWNrOiAyNSxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0OiBgZmFsc2VgXG4gICAgICpcbiAgICAgKiBEaXNhYmxlIGRpcnR5LWNoZWNraW5nIGVudGlyZWx5LiBQcm9wZXJ0aWVzIHRoYXQgY2Fubm90IGJlIG9ic2VydmVkIHdpdGhvdXQgZGlydHkgY2hlY2tpbmdcbiAgICAgKiBvciBhbiBhZGFwdGVyLCB3aWxsIHNpbXBseSBub3QgYmUgb2JzZXJ2ZWQuXG4gICAgICovXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQ6IGBmYWxzZWBcbiAgICAgKlxuICAgICAqIFRocm93IGFuIGVycm9yIGlmIGEgcHJvcGVydHkgaXMgYmVpbmcgZGlydHktY2hlY2tlZC5cbiAgICAgKi9cbiAgICB0aHJvdzogZmFsc2UsXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCBkaXJ0eSBjaGVja2luZyBzZXR0aW5ncyB0byB0aGUgZnJhbWV3b3JrJ3MgZGVmYXVsdHMuXG4gICAgICovXG4gICAgcmVzZXRUb0RlZmF1bHQoKSB7XG4gICAgICAgIHRoaXMudGltZW91dHNQZXJDaGVjayA9IDY7XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50aHJvdyA9IGZhbHNlO1xuICAgIH1cbn07XG5jb25zdCBxdWV1ZVRhc2tPcHRzID0ge1xuICAgIHBlcnNpc3RlbnQ6IHRydWUsXG59O1xuZXhwb3J0IGNsYXNzIERpcnR5Q2hlY2tlciB7XG4gICAgY29uc3RydWN0b3IocGxhdGZvcm0pIHtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xuICAgICAgICB0aGlzLnRyYWNrZWQgPSBbXTtcbiAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5lbGFwc2VkRnJhbWVzID0gMDtcbiAgICAgICAgdGhpcy5jaGVjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChEaXJ0eUNoZWNrU2V0dGluZ3MuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKyt0aGlzLmVsYXBzZWRGcmFtZXMgPCBEaXJ0eUNoZWNrU2V0dGluZ3MudGltZW91dHNQZXJDaGVjaykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWxhcHNlZEZyYW1lcyA9IDA7XG4gICAgICAgICAgICBjb25zdCB0cmFja2VkID0gdGhpcy50cmFja2VkO1xuICAgICAgICAgICAgY29uc3QgbGVuID0gdHJhY2tlZC5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgY3VycmVudDtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdHJhY2tlZFtpXTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5pc0RpcnR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5mbHVzaCgwIC8qIG5vbmUgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY3JlYXRlUHJvcGVydHkob2JqLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKERpcnR5Q2hlY2tTZXR0aW5ncy50aHJvdykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9wZXJ0eSAnJHtwcm9wZXJ0eU5hbWV9JyBpcyBiZWluZyBkaXJ0eS1jaGVja2VkLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGlydHlDaGVja1Byb3BlcnR5KHRoaXMsIG9iaiwgcHJvcGVydHlOYW1lKTtcbiAgICB9XG4gICAgYWRkUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgICAgdGhpcy50cmFja2VkLnB1c2gocHJvcGVydHkpO1xuICAgICAgICBpZiAodGhpcy50cmFja2VkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy50YXNrID0gdGhpcy5wbGF0Zm9ybS50YXNrUXVldWUucXVldWVUYXNrKHRoaXMuY2hlY2ssIHF1ZXVlVGFza09wdHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZVByb3BlcnR5KHByb3BlcnR5KSB7XG4gICAgICAgIHRoaXMudHJhY2tlZC5zcGxpY2UodGhpcy50cmFja2VkLmluZGV4T2YocHJvcGVydHkpLCAxKTtcbiAgICAgICAgaWYgKHRoaXMudHJhY2tlZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMudGFzay5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMudGFzayA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5EaXJ0eUNoZWNrZXIuaW5qZWN0ID0gW0lQbGF0Zm9ybV07XG5leHBvcnQgY2xhc3MgRGlydHlDaGVja1Byb3BlcnR5IHtcbiAgICBjb25zdHJ1Y3RvcihkaXJ0eUNoZWNrZXIsIG9iaiwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgdGhpcy5kaXJ0eUNoZWNrZXIgPSBkaXJ0eUNoZWNrZXI7XG4gICAgICAgIHRoaXMub2JqID0gb2JqO1xuICAgICAgICB0aGlzLnByb3BlcnR5S2V5ID0gcHJvcGVydHlLZXk7XG4gICAgICAgIHRoaXMudHlwZSA9IDAgLyogTm9uZSAqLztcbiAgICB9XG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ialt0aGlzLnByb3BlcnR5S2V5XTtcbiAgICB9XG4gICAgc2V0VmFsdWUodiwgZikge1xuICAgICAgICAvLyB0b2RvOiB0aGlzIHNob3VsZCBiZSBhbGxvd2VkLCBwcm9iYWJseVxuICAgICAgICAvLyBidXQgdGhlIGNvbnN0cnVjdGlvbiBvZiBkaXJ0eSBjaGVja2VyIHNob3VsZCB0aHJvdyBpbnN0ZWFkXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVHJ5aW5nIHRvIHNldCB2YWx1ZSBmb3IgcHJvcGVydHkgJHt0aGlzLnByb3BlcnR5S2V5fSBpbiBkaXJ0eSBjaGVja2VyYCk7XG4gICAgfVxuICAgIGlzRGlydHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9sZFZhbHVlICE9PSB0aGlzLm9ialt0aGlzLnByb3BlcnR5S2V5XTtcbiAgICB9XG4gICAgZmx1c2goZmxhZ3MpIHtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLm9sZFZhbHVlO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgdGhpcy5zdWJzLm5vdGlmeShuZXdWYWx1ZSwgb2xkVmFsdWUsIGZsYWdzKTtcbiAgICAgICAgdGhpcy5vbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBzdWJzY3JpYmUoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5zdWJzLmFkZChzdWJzY3JpYmVyKSAmJiB0aGlzLnN1YnMuY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMub2xkVmFsdWUgPSB0aGlzLm9ialt0aGlzLnByb3BlcnR5S2V5XTtcbiAgICAgICAgICAgIHRoaXMuZGlydHlDaGVja2VyLmFkZFByb3BlcnR5KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuc3Vic2NyaWJlKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vicy5yZW1vdmUoc3Vic2NyaWJlcikgJiYgdGhpcy5zdWJzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5Q2hlY2tlci5yZW1vdmVQcm9wZXJ0eSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbnN1YnNjcmliZXJDb2xsZWN0aW9uKERpcnR5Q2hlY2tQcm9wZXJ0eSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXJ0eS1jaGVja2VyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/dirty-checker.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/map-observer.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/map-observer.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"enableMapObservation\": () => (/* binding */ enableMapObservation),\n/* harmony export */   \"disableMapObservation\": () => (/* binding */ disableMapObservation),\n/* harmony export */   \"MapObserver\": () => (/* binding */ MapObserver),\n/* harmony export */   \"getMapObserver\": () => (/* binding */ getMapObserver)\n/* harmony export */ });\n/* harmony import */ var _observation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observation.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation.js\");\n/* harmony import */ var _collection_length_observer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collection-length-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/collection-length-observer.js\");\n/* harmony import */ var _subscriber_collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./subscriber-collection.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/subscriber-collection.js\");\n/* harmony import */ var _utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utilities-objects.js */ \"./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js\");\n\n\n\n\nconst observerLookup = new WeakMap();\nconst proto = Map.prototype;\nconst $set = proto.set;\nconst $clear = proto.clear;\nconst $delete = proto.delete;\nconst native = { set: $set, clear: $clear, delete: $delete };\nconst methods = ['set', 'clear', 'delete'];\n// note: we can't really do much with Map due to the internal data structure not being accessible so we're just using the native calls\n// fortunately, map/delete/clear are easy to reconstruct for the indexMap\nconst observe = {\n    // https://tc39.github.io/ecma262/#sec-map.prototype.map\n    set: function (key, value) {\n        const o = observerLookup.get(this);\n        if (o === undefined) {\n            $set.call(this, key, value);\n            return this;\n        }\n        const oldValue = this.get(key);\n        const oldSize = this.size;\n        $set.call(this, key, value);\n        const newSize = this.size;\n        if (newSize === oldSize) {\n            let i = 0;\n            for (const entry of this.entries()) {\n                if (entry[0] === key) {\n                    if (entry[1] !== oldValue) {\n                        o.indexMap.deletedItems.push(o.indexMap[i]);\n                        o.indexMap[i] = -2;\n                        o.notify();\n                    }\n                    return this;\n                }\n                i++;\n            }\n            return this;\n        }\n        o.indexMap[oldSize] = -2;\n        o.notify();\n        return this;\n    },\n    // https://tc39.github.io/ecma262/#sec-map.prototype.clear\n    clear: function () {\n        const o = observerLookup.get(this);\n        if (o === undefined) {\n            return $clear.call(this);\n        }\n        const size = this.size;\n        if (size > 0) {\n            const indexMap = o.indexMap;\n            let i = 0;\n            // deepscan-disable-next-line\n            for (const _ of this.keys()) {\n                if (indexMap[i] > -1) {\n                    indexMap.deletedItems.push(indexMap[i]);\n                }\n                i++;\n            }\n            $clear.call(this);\n            indexMap.length = 0;\n            o.notify();\n        }\n        return undefined;\n    },\n    // https://tc39.github.io/ecma262/#sec-map.prototype.delete\n    delete: function (value) {\n        const o = observerLookup.get(this);\n        if (o === undefined) {\n            return $delete.call(this, value);\n        }\n        const size = this.size;\n        if (size === 0) {\n            return false;\n        }\n        let i = 0;\n        const indexMap = o.indexMap;\n        for (const entry of this.keys()) {\n            if (entry === value) {\n                if (indexMap[i] > -1) {\n                    indexMap.deletedItems.push(indexMap[i]);\n                }\n                indexMap.splice(i, 1);\n                const deleteResult = $delete.call(this, value);\n                if (deleteResult === true) {\n                    o.notify();\n                }\n                return deleteResult;\n            }\n            ++i;\n        }\n        return false;\n    }\n};\nconst descriptorProps = {\n    writable: true,\n    enumerable: false,\n    configurable: true\n};\nfor (const method of methods) {\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__.def)(observe[method], 'observing', { value: true, writable: false, configurable: false, enumerable: false });\n}\nlet enableMapObservationCalled = false;\nfunction enableMapObservation() {\n    for (const method of methods) {\n        if (proto[method].observing !== true) {\n            (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__.def)(proto, method, { ...descriptorProps, value: observe[method] });\n        }\n    }\n}\nfunction disableMapObservation() {\n    for (const method of methods) {\n        if (proto[method].observing === true) {\n            (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__.def)(proto, method, { ...descriptorProps, value: native[method] });\n        }\n    }\n}\nclass MapObserver {\n    constructor(map) {\n        this.type = 66 /* Map */;\n        if (!enableMapObservationCalled) {\n            enableMapObservationCalled = true;\n            enableMapObservation();\n        }\n        this.collection = map;\n        this.indexMap = (0,_observation_js__WEBPACK_IMPORTED_MODULE_0__.createIndexMap)(map.size);\n        this.lenObs = void 0;\n        observerLookup.set(map, this);\n    }\n    notify() {\n        const indexMap = this.indexMap;\n        const size = this.collection.size;\n        this.indexMap = (0,_observation_js__WEBPACK_IMPORTED_MODULE_0__.createIndexMap)(size);\n        this.subs.notifyCollection(indexMap, 0 /* none */);\n    }\n    getLengthObserver() {\n        var _a;\n        return (_a = this.lenObs) !== null && _a !== void 0 ? _a : (this.lenObs = new _collection_length_observer_js__WEBPACK_IMPORTED_MODULE_1__.CollectionSizeObserver(this));\n    }\n}\n(0,_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_2__.subscriberCollection)(MapObserver);\nfunction getMapObserver(map) {\n    let observer = observerLookup.get(map);\n    if (observer === void 0) {\n        observer = new MapObserver(map);\n    }\n    return observer;\n}\n//# sourceMappingURL=map-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9tYXAtb2JzZXJ2ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9tYXAtb2JzZXJ2ZXIuanM/YmIwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVJbmRleE1hcCB9IGZyb20gJy4uL29ic2VydmF0aW9uLmpzJztcbmltcG9ydCB7IENvbGxlY3Rpb25TaXplT2JzZXJ2ZXIgfSBmcm9tICcuL2NvbGxlY3Rpb24tbGVuZ3RoLW9ic2VydmVyLmpzJztcbmltcG9ydCB7IHN1YnNjcmliZXJDb2xsZWN0aW9uIH0gZnJvbSAnLi9zdWJzY3JpYmVyLWNvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgZGVmIH0gZnJvbSAnLi4vdXRpbGl0aWVzLW9iamVjdHMuanMnO1xuY29uc3Qgb2JzZXJ2ZXJMb29rdXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcHJvdG8gPSBNYXAucHJvdG90eXBlO1xuY29uc3QgJHNldCA9IHByb3RvLnNldDtcbmNvbnN0ICRjbGVhciA9IHByb3RvLmNsZWFyO1xuY29uc3QgJGRlbGV0ZSA9IHByb3RvLmRlbGV0ZTtcbmNvbnN0IG5hdGl2ZSA9IHsgc2V0OiAkc2V0LCBjbGVhcjogJGNsZWFyLCBkZWxldGU6ICRkZWxldGUgfTtcbmNvbnN0IG1ldGhvZHMgPSBbJ3NldCcsICdjbGVhcicsICdkZWxldGUnXTtcbi8vIG5vdGU6IHdlIGNhbid0IHJlYWxseSBkbyBtdWNoIHdpdGggTWFwIGR1ZSB0byB0aGUgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUgbm90IGJlaW5nIGFjY2Vzc2libGUgc28gd2UncmUganVzdCB1c2luZyB0aGUgbmF0aXZlIGNhbGxzXG4vLyBmb3J0dW5hdGVseSwgbWFwL2RlbGV0ZS9jbGVhciBhcmUgZWFzeSB0byByZWNvbnN0cnVjdCBmb3IgdGhlIGluZGV4TWFwXG5jb25zdCBvYnNlcnZlID0ge1xuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW1hcC5wcm90b3R5cGUubWFwXG4gICAgc2V0OiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gb2JzZXJ2ZXJMb29rdXAuZ2V0KHRoaXMpO1xuICAgICAgICBpZiAobyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAkc2V0LmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuZ2V0KGtleSk7XG4gICAgICAgIGNvbnN0IG9sZFNpemUgPSB0aGlzLnNpemU7XG4gICAgICAgICRzZXQuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgICAgY29uc3QgbmV3U2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgICAgaWYgKG5ld1NpemUgPT09IG9sZFNpemUpIHtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnlbMV0gIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLmluZGV4TWFwLmRlbGV0ZWRJdGVtcy5wdXNoKG8uaW5kZXhNYXBbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgby5pbmRleE1hcFtpXSA9IC0yO1xuICAgICAgICAgICAgICAgICAgICAgICAgby5ub3RpZnkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgby5pbmRleE1hcFtvbGRTaXplXSA9IC0yO1xuICAgICAgICBvLm5vdGlmeSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW1hcC5wcm90b3R5cGUuY2xlYXJcbiAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBvID0gb2JzZXJ2ZXJMb29rdXAuZ2V0KHRoaXMpO1xuICAgICAgICBpZiAobyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJGNsZWFyLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgICAgaWYgKHNpemUgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleE1hcCA9IG8uaW5kZXhNYXA7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAvLyBkZWVwc2Nhbi1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgZm9yIChjb25zdCBfIG9mIHRoaXMua2V5cygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4TWFwW2ldID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhNYXAuZGVsZXRlZEl0ZW1zLnB1c2goaW5kZXhNYXBbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkY2xlYXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIGluZGV4TWFwLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBvLm5vdGlmeSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLmRlbGV0ZVxuICAgIGRlbGV0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBvYnNlcnZlckxvb2t1cC5nZXQodGhpcyk7XG4gICAgICAgIGlmIChvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAkZGVsZXRlLmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnNpemU7XG4gICAgICAgIGlmIChzaXplID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBjb25zdCBpbmRleE1hcCA9IG8uaW5kZXhNYXA7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5rZXlzKCkpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhNYXBbaV0gPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleE1hcC5kZWxldGVkSXRlbXMucHVzaChpbmRleE1hcFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4TWFwLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxldGVSZXN1bHQgPSAkZGVsZXRlLmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChkZWxldGVSZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgby5ub3RpZnkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZVJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcbmNvbnN0IGRlc2NyaXB0b3JQcm9wcyA9IHtcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbn07XG5mb3IgKGNvbnN0IG1ldGhvZCBvZiBtZXRob2RzKSB7XG4gICAgZGVmKG9ic2VydmVbbWV0aG9kXSwgJ29ic2VydmluZycsIHsgdmFsdWU6IHRydWUsIHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UgfSk7XG59XG5sZXQgZW5hYmxlTWFwT2JzZXJ2YXRpb25DYWxsZWQgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVNYXBPYnNlcnZhdGlvbigpIHtcbiAgICBmb3IgKGNvbnN0IG1ldGhvZCBvZiBtZXRob2RzKSB7XG4gICAgICAgIGlmIChwcm90b1ttZXRob2RdLm9ic2VydmluZyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgZGVmKHByb3RvLCBtZXRob2QsIHsgLi4uZGVzY3JpcHRvclByb3BzLCB2YWx1ZTogb2JzZXJ2ZVttZXRob2RdIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVNYXBPYnNlcnZhdGlvbigpIHtcbiAgICBmb3IgKGNvbnN0IG1ldGhvZCBvZiBtZXRob2RzKSB7XG4gICAgICAgIGlmIChwcm90b1ttZXRob2RdLm9ic2VydmluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgZGVmKHByb3RvLCBtZXRob2QsIHsgLi4uZGVzY3JpcHRvclByb3BzLCB2YWx1ZTogbmF0aXZlW21ldGhvZF0gfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWFwT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKG1hcCkge1xuICAgICAgICB0aGlzLnR5cGUgPSA2NiAvKiBNYXAgKi87XG4gICAgICAgIGlmICghZW5hYmxlTWFwT2JzZXJ2YXRpb25DYWxsZWQpIHtcbiAgICAgICAgICAgIGVuYWJsZU1hcE9ic2VydmF0aW9uQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVuYWJsZU1hcE9ic2VydmF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gbWFwO1xuICAgICAgICB0aGlzLmluZGV4TWFwID0gY3JlYXRlSW5kZXhNYXAobWFwLnNpemUpO1xuICAgICAgICB0aGlzLmxlbk9icyA9IHZvaWQgMDtcbiAgICAgICAgb2JzZXJ2ZXJMb29rdXAuc2V0KG1hcCwgdGhpcyk7XG4gICAgfVxuICAgIG5vdGlmeSgpIHtcbiAgICAgICAgY29uc3QgaW5kZXhNYXAgPSB0aGlzLmluZGV4TWFwO1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5jb2xsZWN0aW9uLnNpemU7XG4gICAgICAgIHRoaXMuaW5kZXhNYXAgPSBjcmVhdGVJbmRleE1hcChzaXplKTtcbiAgICAgICAgdGhpcy5zdWJzLm5vdGlmeUNvbGxlY3Rpb24oaW5kZXhNYXAsIDAgLyogbm9uZSAqLyk7XG4gICAgfVxuICAgIGdldExlbmd0aE9ic2VydmVyKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLmxlbk9icykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKHRoaXMubGVuT2JzID0gbmV3IENvbGxlY3Rpb25TaXplT2JzZXJ2ZXIodGhpcykpO1xuICAgIH1cbn1cbnN1YnNjcmliZXJDb2xsZWN0aW9uKE1hcE9ic2VydmVyKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXBPYnNlcnZlcihtYXApIHtcbiAgICBsZXQgb2JzZXJ2ZXIgPSBvYnNlcnZlckxvb2t1cC5nZXQobWFwKTtcbiAgICBpZiAob2JzZXJ2ZXIgPT09IHZvaWQgMCkge1xuICAgICAgICBvYnNlcnZlciA9IG5ldyBNYXBPYnNlcnZlcihtYXApO1xuICAgIH1cbiAgICByZXR1cm4gb2JzZXJ2ZXI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAtb2JzZXJ2ZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/map-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/observable.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/observable.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"observable\": () => (/* binding */ observable)\n/* harmony export */ });\n/* harmony import */ var _setter_observer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setter-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/setter-observer.js\");\n/* harmony import */ var _utilities_objects_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities-objects.js */ \"./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js\");\n/* harmony import */ var _connectable_switcher_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./connectable-switcher.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/connectable-switcher.js\");\n\n\n\nfunction getObserversLookup(obj) {\n    if (obj.$observers === void 0) {\n        (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_1__.def)(obj, '$observers', { value: {} });\n        // todo: define in a weakmap\n    }\n    return obj.$observers;\n}\nconst noValue = {};\n// impl, wont be seen\nfunction observable(targetOrConfig, key, descriptor) {\n    // either this check, or arguments.length === 3\n    // or could be both, so can throw against user error for better DX\n    if (key == null) {\n        // for:\n        //    @observable('prop')\n        //    class {}\n        //\n        //    @observable({ name: 'prop', callback: ... })\n        //    class {}\n        //\n        //    class {\n        //      @observable() prop\n        //      @observable({ callback: ... }) prop2\n        //    }\n        return ((t, k, d) => deco(t, k, d, targetOrConfig));\n    }\n    // for:\n    //    class {\n    //      @observable prop\n    //    }\n    return deco(targetOrConfig, key, descriptor);\n    function deco(target, key, descriptor, config) {\n        var _a;\n        // class decorator?\n        const isClassDecorator = key === void 0;\n        config = typeof config !== 'object'\n            ? { name: config }\n            : (config || {});\n        if (isClassDecorator) {\n            key = config.name;\n        }\n        if (key == null || key === '') {\n            throw new Error('Invalid usage, cannot determine property name for @observable');\n        }\n        // determine callback name based on config or convention.\n        const callback = config.callback || `${String(key)}Changed`;\n        let initialValue = noValue;\n        if (descriptor) {\n            // we're adding a getter and setter which means the property descriptor\n            // cannot have a \"value\" or \"writable\" attribute\n            delete descriptor.value;\n            delete descriptor.writable;\n            initialValue = (_a = descriptor.initializer) === null || _a === void 0 ? void 0 : _a.call(descriptor);\n            delete descriptor.initializer;\n        }\n        else {\n            descriptor = { configurable: true };\n        }\n        // make the accessor enumerable by default, as fields are enumerable\n        if (!('enumerable' in descriptor)) {\n            descriptor.enumerable = true;\n        }\n        // todo(bigopon/fred): discuss string api for converter\n        const $set = config.set;\n        descriptor.get = function g( /* @observable */) {\n            var _a;\n            const notifier = getNotifier(this, key, callback, initialValue, $set);\n            (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_2__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.subscribeTo(notifier);\n            return notifier.getValue();\n        };\n        descriptor.set = function s(newValue) {\n            getNotifier(this, key, callback, initialValue, $set).setValue(newValue, 0 /* none */);\n        };\n        descriptor.get.getObserver = function gO(/* @observable */ obj) {\n            return getNotifier(obj, key, callback, initialValue, $set);\n        };\n        if (isClassDecorator) {\n            (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_1__.def)(target.prototype, key, descriptor);\n        }\n        else {\n            return descriptor;\n        }\n    }\n}\nfunction getNotifier(obj, key, callbackKey, initialValue, set) {\n    const lookup = getObserversLookup(obj);\n    let notifier = lookup[key];\n    if (notifier == null) {\n        notifier = new _setter_observer_js__WEBPACK_IMPORTED_MODULE_0__.SetterNotifier(obj, callbackKey, set, initialValue === noValue ? void 0 : initialValue);\n        lookup[key] = notifier;\n    }\n    return notifier;\n}\n/*\n          | typescript       | babel\n----------|------------------|-------------------------\nproperty  | config           | config\nw/parens  | target, key      | target, key, descriptor\n----------|------------------|-------------------------\nproperty  | target, key      | target, key, descriptor\nno parens | n/a              | n/a\n----------|------------------|-------------------------\nclass     | config           | config\n          | target           | target\n*/\n//# sourceMappingURL=observable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9vYnNlcnZhYmxlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUvZGlzdC9lc20vb2JzZXJ2YXRpb24vb2JzZXJ2YWJsZS5qcz83ZTllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNldHRlck5vdGlmaWVyIH0gZnJvbSAnLi9zZXR0ZXItb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgZGVmIH0gZnJvbSAnLi4vdXRpbGl0aWVzLW9iamVjdHMuanMnO1xuaW1wb3J0IHsgY3VycmVudENvbm5lY3RhYmxlIH0gZnJvbSAnLi9jb25uZWN0YWJsZS1zd2l0Y2hlci5qcyc7XG5mdW5jdGlvbiBnZXRPYnNlcnZlcnNMb29rdXAob2JqKSB7XG4gICAgaWYgKG9iai4kb2JzZXJ2ZXJzID09PSB2b2lkIDApIHtcbiAgICAgICAgZGVmKG9iaiwgJyRvYnNlcnZlcnMnLCB7IHZhbHVlOiB7fSB9KTtcbiAgICAgICAgLy8gdG9kbzogZGVmaW5lIGluIGEgd2Vha21hcFxuICAgIH1cbiAgICByZXR1cm4gb2JqLiRvYnNlcnZlcnM7XG59XG5jb25zdCBub1ZhbHVlID0ge307XG4vLyBpbXBsLCB3b250IGJlIHNlZW5cbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZhYmxlKHRhcmdldE9yQ29uZmlnLCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICAvLyBlaXRoZXIgdGhpcyBjaGVjaywgb3IgYXJndW1lbnRzLmxlbmd0aCA9PT0gM1xuICAgIC8vIG9yIGNvdWxkIGJlIGJvdGgsIHNvIGNhbiB0aHJvdyBhZ2FpbnN0IHVzZXIgZXJyb3IgZm9yIGJldHRlciBEWFxuICAgIGlmIChrZXkgPT0gbnVsbCkge1xuICAgICAgICAvLyBmb3I6XG4gICAgICAgIC8vICAgIEBvYnNlcnZhYmxlKCdwcm9wJylcbiAgICAgICAgLy8gICAgY2xhc3Mge31cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgQG9ic2VydmFibGUoeyBuYW1lOiAncHJvcCcsIGNhbGxiYWNrOiAuLi4gfSlcbiAgICAgICAgLy8gICAgY2xhc3Mge31cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgY2xhc3Mge1xuICAgICAgICAvLyAgICAgIEBvYnNlcnZhYmxlKCkgcHJvcFxuICAgICAgICAvLyAgICAgIEBvYnNlcnZhYmxlKHsgY2FsbGJhY2s6IC4uLiB9KSBwcm9wMlxuICAgICAgICAvLyAgICB9XG4gICAgICAgIHJldHVybiAoKHQsIGssIGQpID0+IGRlY28odCwgaywgZCwgdGFyZ2V0T3JDb25maWcpKTtcbiAgICB9XG4gICAgLy8gZm9yOlxuICAgIC8vICAgIGNsYXNzIHtcbiAgICAvLyAgICAgIEBvYnNlcnZhYmxlIHByb3BcbiAgICAvLyAgICB9XG4gICAgcmV0dXJuIGRlY28odGFyZ2V0T3JDb25maWcsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgZnVuY3Rpb24gZGVjbyh0YXJnZXQsIGtleSwgZGVzY3JpcHRvciwgY29uZmlnKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gY2xhc3MgZGVjb3JhdG9yP1xuICAgICAgICBjb25zdCBpc0NsYXNzRGVjb3JhdG9yID0ga2V5ID09PSB2b2lkIDA7XG4gICAgICAgIGNvbmZpZyA9IHR5cGVvZiBjb25maWcgIT09ICdvYmplY3QnXG4gICAgICAgICAgICA/IHsgbmFtZTogY29uZmlnIH1cbiAgICAgICAgICAgIDogKGNvbmZpZyB8fCB7fSk7XG4gICAgICAgIGlmIChpc0NsYXNzRGVjb3JhdG9yKSB7XG4gICAgICAgICAgICBrZXkgPSBjb25maWcubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5ID09IG51bGwgfHwga2V5ID09PSAnJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHVzYWdlLCBjYW5ub3QgZGV0ZXJtaW5lIHByb3BlcnR5IG5hbWUgZm9yIEBvYnNlcnZhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGNhbGxiYWNrIG5hbWUgYmFzZWQgb24gY29uZmlnIG9yIGNvbnZlbnRpb24uXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gY29uZmlnLmNhbGxiYWNrIHx8IGAke1N0cmluZyhrZXkpfUNoYW5nZWRgO1xuICAgICAgICBsZXQgaW5pdGlhbFZhbHVlID0gbm9WYWx1ZTtcbiAgICAgICAgaWYgKGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIC8vIHdlJ3JlIGFkZGluZyBhIGdldHRlciBhbmQgc2V0dGVyIHdoaWNoIG1lYW5zIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yXG4gICAgICAgICAgICAvLyBjYW5ub3QgaGF2ZSBhIFwidmFsdWVcIiBvciBcIndyaXRhYmxlXCIgYXR0cmlidXRlXG4gICAgICAgICAgICBkZWxldGUgZGVzY3JpcHRvci52YWx1ZTtcbiAgICAgICAgICAgIGRlbGV0ZSBkZXNjcmlwdG9yLndyaXRhYmxlO1xuICAgICAgICAgICAgaW5pdGlhbFZhbHVlID0gKF9hID0gZGVzY3JpcHRvci5pbml0aWFsaXplcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZGVzY3JpcHRvcik7XG4gICAgICAgICAgICBkZWxldGUgZGVzY3JpcHRvci5pbml0aWFsaXplcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlc2NyaXB0b3IgPSB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2UgdGhlIGFjY2Vzc29yIGVudW1lcmFibGUgYnkgZGVmYXVsdCwgYXMgZmllbGRzIGFyZSBlbnVtZXJhYmxlXG4gICAgICAgIGlmICghKCdlbnVtZXJhYmxlJyBpbiBkZXNjcmlwdG9yKSkge1xuICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0b2RvKGJpZ29wb24vZnJlZCk6IGRpc2N1c3Mgc3RyaW5nIGFwaSBmb3IgY29udmVydGVyXG4gICAgICAgIGNvbnN0ICRzZXQgPSBjb25maWcuc2V0O1xuICAgICAgICBkZXNjcmlwdG9yLmdldCA9IGZ1bmN0aW9uIGcoIC8qIEBvYnNlcnZhYmxlICovKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBub3RpZmllciA9IGdldE5vdGlmaWVyKHRoaXMsIGtleSwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSwgJHNldCk7XG4gICAgICAgICAgICAoX2EgPSBjdXJyZW50Q29ubmVjdGFibGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YnNjcmliZVRvKG5vdGlmaWVyKTtcbiAgICAgICAgICAgIHJldHVybiBub3RpZmllci5nZXRWYWx1ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBkZXNjcmlwdG9yLnNldCA9IGZ1bmN0aW9uIHMobmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGdldE5vdGlmaWVyKHRoaXMsIGtleSwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSwgJHNldCkuc2V0VmFsdWUobmV3VmFsdWUsIDAgLyogbm9uZSAqLyk7XG4gICAgICAgIH07XG4gICAgICAgIGRlc2NyaXB0b3IuZ2V0LmdldE9ic2VydmVyID0gZnVuY3Rpb24gZ08oLyogQG9ic2VydmFibGUgKi8gb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Tm90aWZpZXIob2JqLCBrZXksIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUsICRzZXQpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoaXNDbGFzc0RlY29yYXRvcikge1xuICAgICAgICAgICAgZGVmKHRhcmdldC5wcm90b3R5cGUsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGdldE5vdGlmaWVyKG9iaiwga2V5LCBjYWxsYmFja0tleSwgaW5pdGlhbFZhbHVlLCBzZXQpIHtcbiAgICBjb25zdCBsb29rdXAgPSBnZXRPYnNlcnZlcnNMb29rdXAob2JqKTtcbiAgICBsZXQgbm90aWZpZXIgPSBsb29rdXBba2V5XTtcbiAgICBpZiAobm90aWZpZXIgPT0gbnVsbCkge1xuICAgICAgICBub3RpZmllciA9IG5ldyBTZXR0ZXJOb3RpZmllcihvYmosIGNhbGxiYWNrS2V5LCBzZXQsIGluaXRpYWxWYWx1ZSA9PT0gbm9WYWx1ZSA/IHZvaWQgMCA6IGluaXRpYWxWYWx1ZSk7XG4gICAgICAgIGxvb2t1cFtrZXldID0gbm90aWZpZXI7XG4gICAgfVxuICAgIHJldHVybiBub3RpZmllcjtcbn1cbi8qXG4gICAgICAgICAgfCB0eXBlc2NyaXB0ICAgICAgIHwgYmFiZWxcbi0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnByb3BlcnR5ICB8IGNvbmZpZyAgICAgICAgICAgfCBjb25maWdcbncvcGFyZW5zICB8IHRhcmdldCwga2V5ICAgICAgfCB0YXJnZXQsIGtleSwgZGVzY3JpcHRvclxuLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxucHJvcGVydHkgIHwgdGFyZ2V0LCBrZXkgICAgICB8IHRhcmdldCwga2V5LCBkZXNjcmlwdG9yXG5ubyBwYXJlbnMgfCBuL2EgICAgICAgICAgICAgIHwgbi9hXG4tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jbGFzcyAgICAgfCBjb25maWcgICAgICAgICAgIHwgY29uZmlnXG4gICAgICAgICAgfCB0YXJnZXQgICAgICAgICAgIHwgdGFyZ2V0XG4qL1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZS5qcy5tYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/observable.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/observation.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/observation.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IObservation\": () => (/* binding */ IObservation),\n/* harmony export */   \"Observation\": () => (/* binding */ Observation)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _binding_connectable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../binding/connectable.js */ \"./node_modules/@aurelia/runtime/dist/esm/binding/connectable.js\");\n/* harmony import */ var _connectable_switcher_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./connectable-switcher.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/connectable-switcher.js\");\n/* harmony import */ var _observer_locator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./observer-locator.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/observer-locator.js\");\n\n\n\n\nconst IObservation = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IObservation', x => x.singleton(Observation));\nclass Observation {\n    constructor(observerLocator) {\n        this.observerLocator = observerLocator;\n    }\n    static get inject() { return [_observer_locator_js__WEBPACK_IMPORTED_MODULE_3__.IObserverLocator]; }\n    /**\n     * Run an effect function an track the dependencies inside it,\n     * to re-run whenever a dependency has changed\n     */\n    run(fn) {\n        const effect = new Effect(this.observerLocator, fn);\n        // todo: batch effect run after it's in\n        effect.run();\n        return effect;\n    }\n}\nclass Effect {\n    constructor(observerLocator, fn) {\n        this.observerLocator = observerLocator;\n        this.fn = fn;\n        this.interceptor = this;\n        // to configure this, potentially a 2nd parameter is needed for run\n        this.maxRunCount = 10;\n        this.queued = false;\n        this.running = false;\n        this.runCount = 0;\n        this.stopped = false;\n    }\n    handleChange() {\n        this.queued = true;\n        this.run();\n    }\n    handleCollectionChange() {\n        this.queued = true;\n        this.run();\n    }\n    run() {\n        if (this.stopped) {\n            throw new Error('Effect has already been stopped');\n        }\n        if (this.running) {\n            return;\n        }\n        ++this.runCount;\n        this.running = true;\n        this.queued = false;\n        ++this.obs.version;\n        try {\n            (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_2__.enterConnectable)(this);\n            this.fn(this);\n        }\n        finally {\n            this.obs.clear(false);\n            this.running = false;\n            (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_2__.exitConnectable)(this);\n        }\n        // when doing this.fn(this), there's a chance that it has recursive effect\n        // continue to run for a certain number before bailing\n        // whenever there's a dependency change while running, this.queued will be true\n        // so we use it as an indicator to continue to run the effect\n        if (this.queued) {\n            if (this.runCount > this.maxRunCount) {\n                this.runCount = 0;\n                throw new Error('Maximum number of recursive effect run reached. Consider handle effect dependencies differently.');\n            }\n            this.run();\n        }\n        else {\n            this.runCount = 0;\n        }\n    }\n    stop() {\n        this.stopped = true;\n        this.obs.clear(true);\n    }\n}\n(0,_binding_connectable_js__WEBPACK_IMPORTED_MODULE_1__.connectable)(Effect);\n//# sourceMappingURL=observation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9vYnNlcnZhdGlvbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL29ic2VydmF0aW9uL29ic2VydmF0aW9uLmpzPzRhNjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREkgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgY29ubmVjdGFibGUgfSBmcm9tICcuLi9iaW5kaW5nL2Nvbm5lY3RhYmxlLmpzJztcbmltcG9ydCB7IGVudGVyQ29ubmVjdGFibGUsIGV4aXRDb25uZWN0YWJsZSB9IGZyb20gJy4vY29ubmVjdGFibGUtc3dpdGNoZXIuanMnO1xuaW1wb3J0IHsgSU9ic2VydmVyTG9jYXRvciB9IGZyb20gJy4vb2JzZXJ2ZXItbG9jYXRvci5qcyc7XG5leHBvcnQgY29uc3QgSU9ic2VydmF0aW9uID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJT2JzZXJ2YXRpb24nLCB4ID0+IHguc2luZ2xldG9uKE9ic2VydmF0aW9uKSk7XG5leHBvcnQgY2xhc3MgT2JzZXJ2YXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9ic2VydmVyTG9jYXRvcikge1xuICAgICAgICB0aGlzLm9ic2VydmVyTG9jYXRvciA9IG9ic2VydmVyTG9jYXRvcjtcbiAgICB9XG4gICAgc3RhdGljIGdldCBpbmplY3QoKSB7IHJldHVybiBbSU9ic2VydmVyTG9jYXRvcl07IH1cbiAgICAvKipcbiAgICAgKiBSdW4gYW4gZWZmZWN0IGZ1bmN0aW9uIGFuIHRyYWNrIHRoZSBkZXBlbmRlbmNpZXMgaW5zaWRlIGl0LFxuICAgICAqIHRvIHJlLXJ1biB3aGVuZXZlciBhIGRlcGVuZGVuY3kgaGFzIGNoYW5nZWRcbiAgICAgKi9cbiAgICBydW4oZm4pIHtcbiAgICAgICAgY29uc3QgZWZmZWN0ID0gbmV3IEVmZmVjdCh0aGlzLm9ic2VydmVyTG9jYXRvciwgZm4pO1xuICAgICAgICAvLyB0b2RvOiBiYXRjaCBlZmZlY3QgcnVuIGFmdGVyIGl0J3MgaW5cbiAgICAgICAgZWZmZWN0LnJ1bigpO1xuICAgICAgICByZXR1cm4gZWZmZWN0O1xuICAgIH1cbn1cbmNsYXNzIEVmZmVjdCB7XG4gICAgY29uc3RydWN0b3Iob2JzZXJ2ZXJMb2NhdG9yLCBmbikge1xuICAgICAgICB0aGlzLm9ic2VydmVyTG9jYXRvciA9IG9ic2VydmVyTG9jYXRvcjtcbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuICAgICAgICB0aGlzLmludGVyY2VwdG9yID0gdGhpcztcbiAgICAgICAgLy8gdG8gY29uZmlndXJlIHRoaXMsIHBvdGVudGlhbGx5IGEgMm5kIHBhcmFtZXRlciBpcyBuZWVkZWQgZm9yIHJ1blxuICAgICAgICB0aGlzLm1heFJ1bkNvdW50ID0gMTA7XG4gICAgICAgIHRoaXMucXVldWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJ1bkNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5xdWV1ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJ1bigpO1xuICAgIH1cbiAgICBoYW5kbGVDb2xsZWN0aW9uQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnF1ZXVlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucnVuKCk7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RvcHBlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZmZlY3QgaGFzIGFscmVhZHkgYmVlbiBzdG9wcGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucnVubmluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgICsrdGhpcy5ydW5Db3VudDtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5xdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgKyt0aGlzLm9icy52ZXJzaW9uO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZW50ZXJDb25uZWN0YWJsZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZm4odGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLm9icy5jbGVhcihmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGV4aXRDb25uZWN0YWJsZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3aGVuIGRvaW5nIHRoaXMuZm4odGhpcyksIHRoZXJlJ3MgYSBjaGFuY2UgdGhhdCBpdCBoYXMgcmVjdXJzaXZlIGVmZmVjdFxuICAgICAgICAvLyBjb250aW51ZSB0byBydW4gZm9yIGEgY2VydGFpbiBudW1iZXIgYmVmb3JlIGJhaWxpbmdcbiAgICAgICAgLy8gd2hlbmV2ZXIgdGhlcmUncyBhIGRlcGVuZGVuY3kgY2hhbmdlIHdoaWxlIHJ1bm5pbmcsIHRoaXMucXVldWVkIHdpbGwgYmUgdHJ1ZVxuICAgICAgICAvLyBzbyB3ZSB1c2UgaXQgYXMgYW4gaW5kaWNhdG9yIHRvIGNvbnRpbnVlIHRvIHJ1biB0aGUgZWZmZWN0XG4gICAgICAgIGlmICh0aGlzLnF1ZXVlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucnVuQ291bnQgPiB0aGlzLm1heFJ1bkNvdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ydW5Db3VudCA9IDA7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYXhpbXVtIG51bWJlciBvZiByZWN1cnNpdmUgZWZmZWN0IHJ1biByZWFjaGVkLiBDb25zaWRlciBoYW5kbGUgZWZmZWN0IGRlcGVuZGVuY2llcyBkaWZmZXJlbnRseS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJ1bkNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm9icy5jbGVhcih0cnVlKTtcbiAgICB9XG59XG5jb25uZWN0YWJsZShFZmZlY3QpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YXRpb24uanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/observation.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/observer-locator.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/observer-locator.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"propertyAccessor\": () => (/* binding */ propertyAccessor),\n/* harmony export */   \"IObserverLocator\": () => (/* binding */ IObserverLocator),\n/* harmony export */   \"INodeObserverLocator\": () => (/* binding */ INodeObserverLocator),\n/* harmony export */   \"ObserverLocator\": () => (/* binding */ ObserverLocator),\n/* harmony export */   \"getCollectionObserver\": () => (/* binding */ getCollectionObserver)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _array_observer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./array-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/array-observer.js\");\n/* harmony import */ var _computed_observer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./computed-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/computed-observer.js\");\n/* harmony import */ var _dirty_checker_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dirty-checker.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/dirty-checker.js\");\n/* harmony import */ var _map_observer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./map-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/map-observer.js\");\n/* harmony import */ var _primitive_observer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./primitive-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/primitive-observer.js\");\n/* harmony import */ var _property_accessor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./property-accessor.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/property-accessor.js\");\n/* harmony import */ var _set_observer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./set-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/set-observer.js\");\n/* harmony import */ var _setter_observer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./setter-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/setter-observer.js\");\n/* harmony import */ var _utilities_objects_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utilities-objects.js */ \"./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js\");\n\n\n\n\n\n\n\n\n\n\nconst propertyAccessor = new _property_accessor_js__WEBPACK_IMPORTED_MODULE_6__.PropertyAccessor();\nconst IObserverLocator = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('IObserverLocator', x => x.singleton(ObserverLocator));\nconst INodeObserverLocator = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('INodeObserverLocator', x => x.cachedCallback(handler => {\n    handler.getAll(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger).forEach(logger => {\n        logger.error('Using default INodeObserverLocator implementation. Will not be able to observe nodes (HTML etc...).');\n    });\n    return new DefaultNodeObserverLocator();\n}));\nclass DefaultNodeObserverLocator {\n    handles() {\n        return false;\n    }\n    getObserver() {\n        return propertyAccessor;\n    }\n    getAccessor() {\n        return propertyAccessor;\n    }\n}\nclass ObserverLocator {\n    constructor(dirtyChecker, nodeObserverLocator) {\n        this.dirtyChecker = dirtyChecker;\n        this.nodeObserverLocator = nodeObserverLocator;\n        this.adapters = [];\n    }\n    addAdapter(adapter) {\n        this.adapters.push(adapter);\n    }\n    getObserver(obj, key) {\n        var _a, _b;\n        return (_b = (_a = obj.$observers) === null || _a === void 0 ? void 0 : _a[key]) !== null && _b !== void 0 ? _b : this.cache(obj, key, this.createObserver(obj, key));\n    }\n    getAccessor(obj, key) {\n        var _a;\n        const cached = (_a = obj.$observers) === null || _a === void 0 ? void 0 : _a[key];\n        if (cached !== void 0) {\n            return cached;\n        }\n        if (this.nodeObserverLocator.handles(obj, key, this)) {\n            return this.nodeObserverLocator.getAccessor(obj, key, this);\n        }\n        return propertyAccessor;\n    }\n    getArrayObserver(observedArray) {\n        return (0,_array_observer_js__WEBPACK_IMPORTED_MODULE_1__.getArrayObserver)(observedArray);\n    }\n    getMapObserver(observedMap) {\n        return (0,_map_observer_js__WEBPACK_IMPORTED_MODULE_4__.getMapObserver)(observedMap);\n    }\n    getSetObserver(observedSet) {\n        return (0,_set_observer_js__WEBPACK_IMPORTED_MODULE_7__.getSetObserver)(observedSet);\n    }\n    createObserver(obj, key) {\n        var _a, _b, _c, _d;\n        if (!(obj instanceof Object)) {\n            return new _primitive_observer_js__WEBPACK_IMPORTED_MODULE_5__.PrimitiveObserver(obj, key);\n        }\n        if (this.nodeObserverLocator.handles(obj, key, this)) {\n            return this.nodeObserverLocator.getObserver(obj, key, this);\n        }\n        switch (key) {\n            case 'length':\n                if (obj instanceof Array) {\n                    return (0,_array_observer_js__WEBPACK_IMPORTED_MODULE_1__.getArrayObserver)(obj).getLengthObserver();\n                }\n                break;\n            case 'size':\n                if (obj instanceof Map) {\n                    return (0,_map_observer_js__WEBPACK_IMPORTED_MODULE_4__.getMapObserver)(obj).getLengthObserver();\n                }\n                else if (obj instanceof Set) {\n                    return (0,_set_observer_js__WEBPACK_IMPORTED_MODULE_7__.getSetObserver)(obj).getLengthObserver();\n                }\n                break;\n            default:\n                if (obj instanceof Array && (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArrayIndex)(key)) {\n                    return (0,_array_observer_js__WEBPACK_IMPORTED_MODULE_1__.getArrayObserver)(obj).getIndexObserver(Number(key));\n                }\n                break;\n        }\n        let pd = Object.getOwnPropertyDescriptor(obj, key);\n        // Only instance properties will yield a descriptor here, otherwise walk up the proto chain\n        if (pd === void 0) {\n            let proto = Object.getPrototypeOf(obj);\n            while (proto !== null) {\n                pd = Object.getOwnPropertyDescriptor(proto, key);\n                if (pd === void 0) {\n                    proto = Object.getPrototypeOf(proto);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        // If the descriptor does not have a 'value' prop, it must have a getter and/or setter\n        if (pd !== void 0 && !Object.prototype.hasOwnProperty.call(pd, 'value')) {\n            let obs = this.getAdapterObserver(obj, key, pd);\n            if (obs == null) {\n                obs = (_d = ((_b = (_a = pd.get) === null || _a === void 0 ? void 0 : _a.getObserver) !== null && _b !== void 0 ? _b : (_c = pd.set) === null || _c === void 0 ? void 0 : _c.getObserver)) === null || _d === void 0 ? void 0 : _d(obj, this);\n            }\n            return obs == null\n                ? pd.configurable\n                    ? _computed_observer_js__WEBPACK_IMPORTED_MODULE_2__.ComputedObserver.create(obj, key, pd, this, /* AOT: not true for IE11 */ true)\n                    : this.dirtyChecker.createProperty(obj, key)\n                : obs;\n        }\n        // Ordinary get/set observation (the common use case)\n        // TODO: think about how to handle a data property that does not sit on the instance (should we do anything different?)\n        return new _setter_observer_js__WEBPACK_IMPORTED_MODULE_8__.SetterObserver(obj, key);\n    }\n    getAdapterObserver(obj, propertyName, pd) {\n        if (this.adapters.length > 0) {\n            for (const adapter of this.adapters) {\n                const observer = adapter.getObserver(obj, propertyName, pd, this);\n                if (observer != null) {\n                    return observer;\n                }\n            }\n        }\n        return null;\n    }\n    cache(obj, key, observer) {\n        if (observer.doNotCache === true) {\n            return observer;\n        }\n        if (obj.$observers === void 0) {\n            (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_9__.def)(obj, '$observers', { value: { [key]: observer } });\n            return observer;\n        }\n        return obj.$observers[key] = observer;\n    }\n}\nObserverLocator.inject = [_dirty_checker_js__WEBPACK_IMPORTED_MODULE_3__.IDirtyChecker, INodeObserverLocator];\nfunction getCollectionObserver(collection) {\n    let obs;\n    if (collection instanceof Array) {\n        obs = (0,_array_observer_js__WEBPACK_IMPORTED_MODULE_1__.getArrayObserver)(collection);\n    }\n    else if (collection instanceof Map) {\n        obs = (0,_map_observer_js__WEBPACK_IMPORTED_MODULE_4__.getMapObserver)(collection);\n    }\n    else if (collection instanceof Set) {\n        obs = (0,_set_observer_js__WEBPACK_IMPORTED_MODULE_7__.getSetObserver)(collection);\n    }\n    return obs;\n}\n//# sourceMappingURL=observer-locator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9vYnNlcnZlci1sb2NhdG9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL0BhdXJlbGlhL3J1bnRpbWUvZGlzdC9lc20vb2JzZXJ2YXRpb24vb2JzZXJ2ZXItbG9jYXRvci5qcz8wYTJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERJLCBpc0FycmF5SW5kZXgsIElMb2dnZXIgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgZ2V0QXJyYXlPYnNlcnZlciB9IGZyb20gJy4vYXJyYXktb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgQ29tcHV0ZWRPYnNlcnZlciB9IGZyb20gJy4vY29tcHV0ZWQtb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgSURpcnR5Q2hlY2tlciB9IGZyb20gJy4vZGlydHktY2hlY2tlci5qcyc7XG5pbXBvcnQgeyBnZXRNYXBPYnNlcnZlciB9IGZyb20gJy4vbWFwLW9ic2VydmVyLmpzJztcbmltcG9ydCB7IFByaW1pdGl2ZU9ic2VydmVyIH0gZnJvbSAnLi9wcmltaXRpdmUtb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgUHJvcGVydHlBY2Nlc3NvciB9IGZyb20gJy4vcHJvcGVydHktYWNjZXNzb3IuanMnO1xuaW1wb3J0IHsgZ2V0U2V0T2JzZXJ2ZXIgfSBmcm9tICcuL3NldC1vYnNlcnZlci5qcyc7XG5pbXBvcnQgeyBTZXR0ZXJPYnNlcnZlciB9IGZyb20gJy4vc2V0dGVyLW9ic2VydmVyLmpzJztcbmltcG9ydCB7IGRlZiB9IGZyb20gJy4uL3V0aWxpdGllcy1vYmplY3RzLmpzJztcbmV4cG9ydCBjb25zdCBwcm9wZXJ0eUFjY2Vzc29yID0gbmV3IFByb3BlcnR5QWNjZXNzb3IoKTtcbmV4cG9ydCBjb25zdCBJT2JzZXJ2ZXJMb2NhdG9yID0gREkuY3JlYXRlSW50ZXJmYWNlKCdJT2JzZXJ2ZXJMb2NhdG9yJywgeCA9PiB4LnNpbmdsZXRvbihPYnNlcnZlckxvY2F0b3IpKTtcbmV4cG9ydCBjb25zdCBJTm9kZU9ic2VydmVyTG9jYXRvciA9IERJXG4gICAgLmNyZWF0ZUludGVyZmFjZSgnSU5vZGVPYnNlcnZlckxvY2F0b3InLCB4ID0+IHguY2FjaGVkQ2FsbGJhY2soaGFuZGxlciA9PiB7XG4gICAgaGFuZGxlci5nZXRBbGwoSUxvZ2dlcikuZm9yRWFjaChsb2dnZXIgPT4ge1xuICAgICAgICBsb2dnZXIuZXJyb3IoJ1VzaW5nIGRlZmF1bHQgSU5vZGVPYnNlcnZlckxvY2F0b3IgaW1wbGVtZW50YXRpb24uIFdpbGwgbm90IGJlIGFibGUgdG8gb2JzZXJ2ZSBub2RlcyAoSFRNTCBldGMuLi4pLicpO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgRGVmYXVsdE5vZGVPYnNlcnZlckxvY2F0b3IoKTtcbn0pKTtcbmNsYXNzIERlZmF1bHROb2RlT2JzZXJ2ZXJMb2NhdG9yIHtcbiAgICBoYW5kbGVzKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdldE9ic2VydmVyKCkge1xuICAgICAgICByZXR1cm4gcHJvcGVydHlBY2Nlc3NvcjtcbiAgICB9XG4gICAgZ2V0QWNjZXNzb3IoKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUFjY2Vzc29yO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBPYnNlcnZlckxvY2F0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGRpcnR5Q2hlY2tlciwgbm9kZU9ic2VydmVyTG9jYXRvcikge1xuICAgICAgICB0aGlzLmRpcnR5Q2hlY2tlciA9IGRpcnR5Q2hlY2tlcjtcbiAgICAgICAgdGhpcy5ub2RlT2JzZXJ2ZXJMb2NhdG9yID0gbm9kZU9ic2VydmVyTG9jYXRvcjtcbiAgICAgICAgdGhpcy5hZGFwdGVycyA9IFtdO1xuICAgIH1cbiAgICBhZGRBZGFwdGVyKGFkYXB0ZXIpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVycy5wdXNoKGFkYXB0ZXIpO1xuICAgIH1cbiAgICBnZXRPYnNlcnZlcihvYmosIGtleSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gb2JqLiRvYnNlcnZlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtrZXldKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmNhY2hlKG9iaiwga2V5LCB0aGlzLmNyZWF0ZU9ic2VydmVyKG9iaiwga2V5KSk7XG4gICAgfVxuICAgIGdldEFjY2Vzc29yKG9iaiwga2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY2FjaGVkID0gKF9hID0gb2JqLiRvYnNlcnZlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtrZXldO1xuICAgICAgICBpZiAoY2FjaGVkICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubm9kZU9ic2VydmVyTG9jYXRvci5oYW5kbGVzKG9iaiwga2V5LCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9kZU9ic2VydmVyTG9jYXRvci5nZXRBY2Nlc3NvcihvYmosIGtleSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BlcnR5QWNjZXNzb3I7XG4gICAgfVxuICAgIGdldEFycmF5T2JzZXJ2ZXIob2JzZXJ2ZWRBcnJheSkge1xuICAgICAgICByZXR1cm4gZ2V0QXJyYXlPYnNlcnZlcihvYnNlcnZlZEFycmF5KTtcbiAgICB9XG4gICAgZ2V0TWFwT2JzZXJ2ZXIob2JzZXJ2ZWRNYXApIHtcbiAgICAgICAgcmV0dXJuIGdldE1hcE9ic2VydmVyKG9ic2VydmVkTWFwKTtcbiAgICB9XG4gICAgZ2V0U2V0T2JzZXJ2ZXIob2JzZXJ2ZWRTZXQpIHtcbiAgICAgICAgcmV0dXJuIGdldFNldE9ic2VydmVyKG9ic2VydmVkU2V0KTtcbiAgICB9XG4gICAgY3JlYXRlT2JzZXJ2ZXIob2JqLCBrZXkpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBpZiAoIShvYmogaW5zdGFuY2VvZiBPYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByaW1pdGl2ZU9ic2VydmVyKG9iaiwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ub2RlT2JzZXJ2ZXJMb2NhdG9yLmhhbmRsZXMob2JqLCBrZXksIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub2RlT2JzZXJ2ZXJMb2NhdG9yLmdldE9ic2VydmVyKG9iaiwga2V5LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnbGVuZ3RoJzpcbiAgICAgICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEFycmF5T2JzZXJ2ZXIob2JqKS5nZXRMZW5ndGhPYnNlcnZlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NpemUnOlxuICAgICAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldE1hcE9ic2VydmVyKG9iaikuZ2V0TGVuZ3RoT2JzZXJ2ZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRTZXRPYnNlcnZlcihvYmopLmdldExlbmd0aE9ic2VydmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkgJiYgaXNBcnJheUluZGV4KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEFycmF5T2JzZXJ2ZXIob2JqKS5nZXRJbmRleE9ic2VydmVyKE51bWJlcihrZXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSk7XG4gICAgICAgIC8vIE9ubHkgaW5zdGFuY2UgcHJvcGVydGllcyB3aWxsIHlpZWxkIGEgZGVzY3JpcHRvciBoZXJlLCBvdGhlcndpc2Ugd2FsayB1cCB0aGUgcHJvdG8gY2hhaW5cbiAgICAgICAgaWYgKHBkID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGxldCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuICAgICAgICAgICAgd2hpbGUgKHByb3RvICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvLCBrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChwZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgZGVzY3JpcHRvciBkb2VzIG5vdCBoYXZlIGEgJ3ZhbHVlJyBwcm9wLCBpdCBtdXN0IGhhdmUgYSBnZXR0ZXIgYW5kL29yIHNldHRlclxuICAgICAgICBpZiAocGQgIT09IHZvaWQgMCAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBkLCAndmFsdWUnKSkge1xuICAgICAgICAgICAgbGV0IG9icyA9IHRoaXMuZ2V0QWRhcHRlck9ic2VydmVyKG9iaiwga2V5LCBwZCk7XG4gICAgICAgICAgICBpZiAob2JzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvYnMgPSAoX2QgPSAoKF9iID0gKF9hID0gcGQuZ2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0T2JzZXJ2ZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IChfYyA9IHBkLnNldCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmdldE9ic2VydmVyKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kKG9iaiwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JzID09IG51bGxcbiAgICAgICAgICAgICAgICA/IHBkLmNvbmZpZ3VyYWJsZVxuICAgICAgICAgICAgICAgICAgICA/IENvbXB1dGVkT2JzZXJ2ZXIuY3JlYXRlKG9iaiwga2V5LCBwZCwgdGhpcywgLyogQU9UOiBub3QgdHJ1ZSBmb3IgSUUxMSAqLyB0cnVlKVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZGlydHlDaGVja2VyLmNyZWF0ZVByb3BlcnR5KG9iaiwga2V5KVxuICAgICAgICAgICAgICAgIDogb2JzO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9yZGluYXJ5IGdldC9zZXQgb2JzZXJ2YXRpb24gKHRoZSBjb21tb24gdXNlIGNhc2UpXG4gICAgICAgIC8vIFRPRE86IHRoaW5rIGFib3V0IGhvdyB0byBoYW5kbGUgYSBkYXRhIHByb3BlcnR5IHRoYXQgZG9lcyBub3Qgc2l0IG9uIHRoZSBpbnN0YW5jZSAoc2hvdWxkIHdlIGRvIGFueXRoaW5nIGRpZmZlcmVudD8pXG4gICAgICAgIHJldHVybiBuZXcgU2V0dGVyT2JzZXJ2ZXIob2JqLCBrZXkpO1xuICAgIH1cbiAgICBnZXRBZGFwdGVyT2JzZXJ2ZXIob2JqLCBwcm9wZXJ0eU5hbWUsIHBkKSB7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWRhcHRlciBvZiB0aGlzLmFkYXB0ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBhZGFwdGVyLmdldE9ic2VydmVyKG9iaiwgcHJvcGVydHlOYW1lLCBwZCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKG9ic2VydmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY2FjaGUob2JqLCBrZXksIG9ic2VydmVyKSB7XG4gICAgICAgIGlmIChvYnNlcnZlci5kb05vdENhY2hlID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iai4kb2JzZXJ2ZXJzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlZihvYmosICckb2JzZXJ2ZXJzJywgeyB2YWx1ZTogeyBba2V5XTogb2JzZXJ2ZXIgfSB9KTtcbiAgICAgICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqLiRvYnNlcnZlcnNba2V5XSA9IG9ic2VydmVyO1xuICAgIH1cbn1cbk9ic2VydmVyTG9jYXRvci5pbmplY3QgPSBbSURpcnR5Q2hlY2tlciwgSU5vZGVPYnNlcnZlckxvY2F0b3JdO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbGxlY3Rpb25PYnNlcnZlcihjb2xsZWN0aW9uKSB7XG4gICAgbGV0IG9icztcbiAgICBpZiAoY29sbGVjdGlvbiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIG9icyA9IGdldEFycmF5T2JzZXJ2ZXIoY29sbGVjdGlvbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbGxlY3Rpb24gaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgb2JzID0gZ2V0TWFwT2JzZXJ2ZXIoY29sbGVjdGlvbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbGxlY3Rpb24gaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgb2JzID0gZ2V0U2V0T2JzZXJ2ZXIoY29sbGVjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBvYnM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlci1sb2NhdG9yLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEZBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/observer-locator.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/primitive-observer.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/primitive-observer.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PrimitiveObserver\": () => (/* binding */ PrimitiveObserver)\n/* harmony export */ });\nclass PrimitiveObserver {\n    constructor(obj, propertyKey) {\n        this.obj = obj;\n        this.propertyKey = propertyKey;\n        this.type = 0 /* None */;\n    }\n    get doNotCache() { return true; }\n    getValue() {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,@typescript-eslint/no-explicit-any\n        return this.obj[this.propertyKey];\n    }\n    setValue() { }\n    subscribe() { }\n    unsubscribe() { }\n}\n//# sourceMappingURL=primitive-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9wcmltaXRpdmUtb2JzZXJ2ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9wcmltaXRpdmUtb2JzZXJ2ZXIuanM/MWVmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgUHJpbWl0aXZlT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9iaiwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgdGhpcy5vYmogPSBvYmo7XG4gICAgICAgIHRoaXMucHJvcGVydHlLZXkgPSBwcm9wZXJ0eUtleTtcbiAgICAgICAgdGhpcy50eXBlID0gMCAvKiBOb25lICovO1xuICAgIH1cbiAgICBnZXQgZG9Ob3RDYWNoZSgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2VzcyxAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHJldHVybiB0aGlzLm9ialt0aGlzLnByb3BlcnR5S2V5XTtcbiAgICB9XG4gICAgc2V0VmFsdWUoKSB7IH1cbiAgICBzdWJzY3JpYmUoKSB7IH1cbiAgICB1bnN1YnNjcmliZSgpIHsgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJpbWl0aXZlLW9ic2VydmVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/primitive-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/property-accessor.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/property-accessor.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PropertyAccessor\": () => (/* binding */ PropertyAccessor)\n/* harmony export */ });\nclass PropertyAccessor {\n    constructor() {\n        // the only thing can be guaranteed is it's an object\n        // even if this property accessor is used to access an element\n        this.type = 0 /* None */;\n    }\n    getValue(obj, key) {\n        return obj[key];\n    }\n    setValue(value, flags, obj, key) {\n        obj[key] = value;\n    }\n}\n//# sourceMappingURL=property-accessor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9wcm9wZXJ0eS1hY2Nlc3Nvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL29ic2VydmF0aW9uL3Byb3BlcnR5LWFjY2Vzc29yLmpzPzM5MDIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFByb3BlcnR5QWNjZXNzb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyB0aGUgb25seSB0aGluZyBjYW4gYmUgZ3VhcmFudGVlZCBpcyBpdCdzIGFuIG9iamVjdFxuICAgICAgICAvLyBldmVuIGlmIHRoaXMgcHJvcGVydHkgYWNjZXNzb3IgaXMgdXNlZCB0byBhY2Nlc3MgYW4gZWxlbWVudFxuICAgICAgICB0aGlzLnR5cGUgPSAwIC8qIE5vbmUgKi87XG4gICAgfVxuICAgIGdldFZhbHVlKG9iaiwga2V5KSB7XG4gICAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUsIGZsYWdzLCBvYmosIGtleSkge1xuICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3BlcnR5LWFjY2Vzc29yLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/property-accessor.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/proxy-observation.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/proxy-observation.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"rawKey\": () => (/* binding */ rawKey),\n/* harmony export */   \"wrap\": () => (/* binding */ wrap),\n/* harmony export */   \"getProxy\": () => (/* binding */ getProxy),\n/* harmony export */   \"getRaw\": () => (/* binding */ getRaw),\n/* harmony export */   \"unwrap\": () => (/* binding */ unwrap),\n/* harmony export */   \"ProxyObservable\": () => (/* binding */ ProxyObservable)\n/* harmony export */ });\n/* harmony import */ var _connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./connectable-switcher.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/connectable-switcher.js\");\n\nconst R$get = Reflect.get;\nconst toStringTag = Object.prototype.toString;\nconst proxyMap = new WeakMap();\nfunction canWrap(obj) {\n    switch (toStringTag.call(obj)) {\n        case '[object Object]':\n        case '[object Array]':\n        case '[object Map]':\n        case '[object Set]':\n            // it's unlikely that methods on the following 2 objects need to be observed for changes\n            // so while they are valid/ we don't wrap them either\n            // case '[object Math]':\n            // case '[object Reflect]':\n            return true;\n        default:\n            return false;\n    }\n}\nconst rawKey = '__raw__';\nfunction wrap(v) {\n    return canWrap(v) ? getProxy(v) : v;\n}\nfunction getProxy(obj) {\n    var _a;\n    // deepscan-disable-next-line\n    return (_a = proxyMap.get(obj)) !== null && _a !== void 0 ? _a : createProxy(obj);\n}\nfunction getRaw(obj) {\n    var _a;\n    // todo: get in a weakmap if null/undef\n    return (_a = obj[rawKey]) !== null && _a !== void 0 ? _a : obj;\n}\nfunction unwrap(v) {\n    return canWrap(v) && v[rawKey] || v;\n}\nfunction doNotCollect(key) {\n    return key === 'constructor'\n        || key === '__proto__'\n        // probably should revert to v1 naming style for consistency with builtin?\n        // __o__ is shorters & less chance of conflict with other libs as well\n        || key === '$observers'\n        || key === Symbol.toPrimitive\n        || key === Symbol.toStringTag;\n}\nfunction createProxy(obj) {\n    const handler = obj instanceof Array\n        ? arrayHandler\n        : obj instanceof Map || obj instanceof Set\n            ? collectionHandler\n            : objectHandler;\n    const proxiedObj = new Proxy(obj, handler);\n    proxyMap.set(obj, proxiedObj);\n    return proxiedObj;\n}\nconst objectHandler = {\n    get(target, key, receiver) {\n        // maybe use symbol?\n        if (key === rawKey) {\n            return target;\n        }\n        const connectable = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)();\n        if (!_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.connecting || doNotCollect(key) || connectable == null) {\n            return R$get(target, key, receiver);\n        }\n        // todo: static\n        connectable.observeProperty(target, key);\n        return wrap(R$get(target, key, receiver));\n    },\n};\nconst arrayHandler = {\n    get(target, key, receiver) {\n        // maybe use symbol?\n        if (key === rawKey) {\n            return target;\n        }\n        const connectable = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)();\n        if (!_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.connecting || doNotCollect(key) || connectable == null) {\n            return R$get(target, key, receiver);\n        }\n        switch (key) {\n            case 'length':\n                connectable.observeProperty(target, 'length');\n                return target.length;\n            case 'map':\n                return wrappedArrayMap;\n            case 'includes':\n                return wrappedArrayIncludes;\n            case 'indexOf':\n                return wrappedArrayIndexOf;\n            case 'lastIndexOf':\n                return wrappedArrayLastIndexOf;\n            case 'every':\n                return wrappedArrayEvery;\n            case 'filter':\n                return wrappedArrayFilter;\n            case 'findIndex':\n                return wrappedArrayFindIndex;\n            case 'flat':\n                return wrappedArrayFlat;\n            case 'flatMap':\n                return wrappedArrayFlatMap;\n            case 'join':\n                return wrappedArrayJoin;\n            case 'push':\n                return wrappedArrayPush;\n            case 'pop':\n                return wrappedArrayPop;\n            case 'reduce':\n                return wrappedReduce;\n            case 'reduceRight':\n                return wrappedReduceRight;\n            case 'reverse':\n                return wrappedArrayReverse;\n            case 'shift':\n                return wrappedArrayShift;\n            case 'unshift':\n                return wrappedArrayUnshift;\n            case 'slice':\n                return wrappedArraySlice;\n            case 'splice':\n                return wrappedArraySplice;\n            case 'some':\n                return wrappedArraySome;\n            case 'sort':\n                return wrappedArraySort;\n            case 'keys':\n                return wrappedKeys;\n            case 'values':\n            case Symbol.iterator:\n                return wrappedValues;\n            case 'entries':\n                return wrappedEntries;\n        }\n        connectable.observeProperty(target, key);\n        return wrap(R$get(target, key, receiver));\n    },\n    // for (let i in array) ...\n    ownKeys(target) {\n        var _a;\n        (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeProperty(target, 'length');\n        return Reflect.ownKeys(target);\n    },\n};\nfunction wrappedArrayMap(cb, thisArg) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.map((v, i) => \n    // do we wrap `thisArg`?\n    unwrap(cb.call(thisArg, wrap(v), i, this)));\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return wrap(res);\n}\nfunction wrappedArrayEvery(cb, thisArg) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.every((v, i) => cb.call(thisArg, wrap(v), i, this));\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return res;\n}\nfunction wrappedArrayFilter(cb, thisArg) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.filter((v, i) => \n    // do we wrap `thisArg`?\n    unwrap(cb.call(thisArg, wrap(v), i, this)));\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return wrap(res);\n}\nfunction wrappedArrayIncludes(v) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.includes(unwrap(v));\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return res;\n}\nfunction wrappedArrayIndexOf(v) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.indexOf(unwrap(v));\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return res;\n}\nfunction wrappedArrayLastIndexOf(v) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.lastIndexOf(unwrap(v));\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return res;\n}\nfunction wrappedArrayFindIndex(cb, thisArg) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.findIndex((v, i) => unwrap(cb.call(thisArg, wrap(v), i, this)));\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return res;\n}\nfunction wrappedArrayFlat() {\n    var _a;\n    const raw = getRaw(this);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return wrap(raw.flat());\n}\nfunction wrappedArrayFlatMap(cb, thisArg) {\n    var _a;\n    const raw = getRaw(this);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return getProxy(raw.flatMap((v, i) => wrap(cb.call(thisArg, wrap(v), i, this))));\n}\nfunction wrappedArrayJoin(separator) {\n    var _a;\n    const raw = getRaw(this);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return raw.join(separator);\n}\nfunction wrappedArrayPop() {\n    return wrap(getRaw(this).pop());\n}\nfunction wrappedArrayPush(...args) {\n    return getRaw(this).push(...args);\n}\nfunction wrappedArrayShift() {\n    return wrap(getRaw(this).shift());\n}\nfunction wrappedArrayUnshift(...args) {\n    return getRaw(this).unshift(...args);\n}\nfunction wrappedArraySplice(...args) {\n    return wrap(getRaw(this).splice(...args));\n}\nfunction wrappedArrayReverse(...args) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.reverse();\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return wrap(res);\n}\nfunction wrappedArraySome(cb, thisArg) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.some((v, i) => unwrap(cb.call(thisArg, wrap(v), i, this)));\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return res;\n}\nfunction wrappedArraySort(cb) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.sort(cb);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return wrap(res);\n}\nfunction wrappedArraySlice(start, end) {\n    var _a;\n    const raw = getRaw(this);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return getProxy(raw.slice(start, end));\n}\nfunction wrappedReduce(cb, initValue) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.reduce((curr, v, i) => cb(curr, wrap(v), i, this), initValue);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return wrap(res);\n}\nfunction wrappedReduceRight(cb, initValue) {\n    var _a;\n    const raw = getRaw(this);\n    const res = raw.reduceRight((curr, v, i) => cb(curr, wrap(v), i, this), initValue);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return wrap(res);\n}\n// the below logic takes inspiration from Vue, Mobx\n// much thanks to them for working out this\nconst collectionHandler = {\n    get(target, key, receiver) {\n        // maybe use symbol?\n        if (key === rawKey) {\n            return target;\n        }\n        const connectable = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)();\n        if (!_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.connecting || doNotCollect(key) || connectable == null) {\n            return R$get(target, key, receiver);\n        }\n        switch (key) {\n            case 'size':\n                connectable.observeProperty(target, 'size');\n                return target.size;\n            case 'clear':\n                return wrappedClear;\n            case 'delete':\n                return wrappedDelete;\n            case 'forEach':\n                return wrappedForEach;\n            case 'add':\n                if (target instanceof Set) {\n                    return wrappedAdd;\n                }\n                break;\n            case 'get':\n                if (target instanceof Map) {\n                    return wrappedGet;\n                }\n                break;\n            case 'set':\n                if (target instanceof Map) {\n                    return wrappedSet;\n                }\n                break;\n            case 'has':\n                return wrappedHas;\n            case 'keys':\n                return wrappedKeys;\n            case 'values':\n                return wrappedValues;\n            case 'entries':\n                return wrappedEntries;\n            case Symbol.iterator:\n                return target instanceof Map ? wrappedEntries : wrappedValues;\n        }\n        return wrap(R$get(target, key, receiver));\n    },\n};\nfunction wrappedForEach(cb, thisArg) {\n    var _a;\n    const raw = getRaw(this);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return raw.forEach((v, key) => {\n        cb.call(/* should wrap or not?? */ thisArg, wrap(v), wrap(key), this);\n    });\n}\nfunction wrappedHas(v) {\n    var _a;\n    const raw = getRaw(this);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return raw.has(unwrap(v));\n}\nfunction wrappedGet(k) {\n    var _a;\n    const raw = getRaw(this);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    return wrap(raw.get(unwrap(k)));\n}\nfunction wrappedSet(k, v) {\n    return wrap(getRaw(this).set(unwrap(k), unwrap(v)));\n}\nfunction wrappedAdd(v) {\n    return wrap(getRaw(this).add(unwrap(v)));\n}\nfunction wrappedClear() {\n    return wrap(getRaw(this).clear());\n}\nfunction wrappedDelete(k) {\n    return wrap(getRaw(this).delete(unwrap(k)));\n}\nfunction wrappedKeys() {\n    var _a;\n    const raw = getRaw(this);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    const iterator = raw.keys();\n    return {\n        next() {\n            const next = iterator.next();\n            const value = next.value;\n            const done = next.done;\n            return done\n                ? { value: void 0, done }\n                : { value: wrap(value), done };\n        },\n        [Symbol.iterator]() {\n            return this;\n        },\n    };\n}\nfunction wrappedValues() {\n    var _a;\n    const raw = getRaw(this);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    const iterator = raw.values();\n    return {\n        next() {\n            const next = iterator.next();\n            const value = next.value;\n            const done = next.done;\n            return done\n                ? { value: void 0, done }\n                : { value: wrap(value), done };\n        },\n        [Symbol.iterator]() {\n            return this;\n        },\n    };\n}\nfunction wrappedEntries() {\n    var _a;\n    const raw = getRaw(this);\n    (_a = (0,_connectable_switcher_js__WEBPACK_IMPORTED_MODULE_0__.currentConnectable)()) === null || _a === void 0 ? void 0 : _a.observeCollection(raw);\n    const iterator = raw.entries();\n    // return a wrapped iterator which returns observed versions of the\n    // values emitted from the real iterator\n    return {\n        next() {\n            const next = iterator.next();\n            const value = next.value;\n            const done = next.done;\n            return done\n                ? { value: void 0, done }\n                : { value: [wrap(value[0]), wrap(value[1])], done };\n        },\n        [Symbol.iterator]() {\n            return this;\n        },\n    };\n}\nconst ProxyObservable = Object.freeze({\n    getProxy,\n    getRaw,\n    wrap,\n    unwrap,\n    rawKey,\n});\n//# sourceMappingURL=proxy-observation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9wcm94eS1vYnNlcnZhdGlvbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL29ic2VydmF0aW9uL3Byb3h5LW9ic2VydmF0aW9uLmpzPzFhOTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdGluZywgY3VycmVudENvbm5lY3RhYmxlIH0gZnJvbSAnLi9jb25uZWN0YWJsZS1zd2l0Y2hlci5qcyc7XG5jb25zdCBSJGdldCA9IFJlZmxlY3QuZ2V0O1xuY29uc3QgdG9TdHJpbmdUYWcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgcHJveHlNYXAgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gY2FuV3JhcChvYmopIHtcbiAgICBzd2l0Y2ggKHRvU3RyaW5nVGFnLmNhbGwob2JqKSkge1xuICAgICAgICBjYXNlICdbb2JqZWN0IE9iamVjdF0nOlxuICAgICAgICBjYXNlICdbb2JqZWN0IEFycmF5XSc6XG4gICAgICAgIGNhc2UgJ1tvYmplY3QgTWFwXSc6XG4gICAgICAgIGNhc2UgJ1tvYmplY3QgU2V0XSc6XG4gICAgICAgICAgICAvLyBpdCdzIHVubGlrZWx5IHRoYXQgbWV0aG9kcyBvbiB0aGUgZm9sbG93aW5nIDIgb2JqZWN0cyBuZWVkIHRvIGJlIG9ic2VydmVkIGZvciBjaGFuZ2VzXG4gICAgICAgICAgICAvLyBzbyB3aGlsZSB0aGV5IGFyZSB2YWxpZC8gd2UgZG9uJ3Qgd3JhcCB0aGVtIGVpdGhlclxuICAgICAgICAgICAgLy8gY2FzZSAnW29iamVjdCBNYXRoXSc6XG4gICAgICAgICAgICAvLyBjYXNlICdbb2JqZWN0IFJlZmxlY3RdJzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCByYXdLZXkgPSAnX19yYXdfXyc7XG5leHBvcnQgZnVuY3Rpb24gd3JhcCh2KSB7XG4gICAgcmV0dXJuIGNhbldyYXAodikgPyBnZXRQcm94eSh2KSA6IHY7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJveHkob2JqKSB7XG4gICAgdmFyIF9hO1xuICAgIC8vIGRlZXBzY2FuLWRpc2FibGUtbmV4dC1saW5lXG4gICAgcmV0dXJuIChfYSA9IHByb3h5TWFwLmdldChvYmopKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjcmVhdGVQcm94eShvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhdyhvYmopIHtcbiAgICB2YXIgX2E7XG4gICAgLy8gdG9kbzogZ2V0IGluIGEgd2Vha21hcCBpZiBudWxsL3VuZGVmXG4gICAgcmV0dXJuIChfYSA9IG9ialtyYXdLZXldKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBvYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gdW53cmFwKHYpIHtcbiAgICByZXR1cm4gY2FuV3JhcCh2KSAmJiB2W3Jhd0tleV0gfHwgdjtcbn1cbmZ1bmN0aW9uIGRvTm90Q29sbGVjdChrZXkpIHtcbiAgICByZXR1cm4ga2V5ID09PSAnY29uc3RydWN0b3InXG4gICAgICAgIHx8IGtleSA9PT0gJ19fcHJvdG9fXydcbiAgICAgICAgLy8gcHJvYmFibHkgc2hvdWxkIHJldmVydCB0byB2MSBuYW1pbmcgc3R5bGUgZm9yIGNvbnNpc3RlbmN5IHdpdGggYnVpbHRpbj9cbiAgICAgICAgLy8gX19vX18gaXMgc2hvcnRlcnMgJiBsZXNzIGNoYW5jZSBvZiBjb25mbGljdCB3aXRoIG90aGVyIGxpYnMgYXMgd2VsbFxuICAgICAgICB8fCBrZXkgPT09ICckb2JzZXJ2ZXJzJ1xuICAgICAgICB8fCBrZXkgPT09IFN5bWJvbC50b1ByaW1pdGl2ZVxuICAgICAgICB8fCBrZXkgPT09IFN5bWJvbC50b1N0cmluZ1RhZztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3h5KG9iaikge1xuICAgIGNvbnN0IGhhbmRsZXIgPSBvYmogaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICA/IGFycmF5SGFuZGxlclxuICAgICAgICA6IG9iaiBpbnN0YW5jZW9mIE1hcCB8fCBvYmogaW5zdGFuY2VvZiBTZXRcbiAgICAgICAgICAgID8gY29sbGVjdGlvbkhhbmRsZXJcbiAgICAgICAgICAgIDogb2JqZWN0SGFuZGxlcjtcbiAgICBjb25zdCBwcm94aWVkT2JqID0gbmV3IFByb3h5KG9iaiwgaGFuZGxlcik7XG4gICAgcHJveHlNYXAuc2V0KG9iaiwgcHJveGllZE9iaik7XG4gICAgcmV0dXJuIHByb3hpZWRPYmo7XG59XG5jb25zdCBvYmplY3RIYW5kbGVyID0ge1xuICAgIGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgLy8gbWF5YmUgdXNlIHN5bWJvbD9cbiAgICAgICAgaWYgKGtleSA9PT0gcmF3S2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbm5lY3RhYmxlID0gY3VycmVudENvbm5lY3RhYmxlKCk7XG4gICAgICAgIGlmICghY29ubmVjdGluZyB8fCBkb05vdENvbGxlY3Qoa2V5KSB8fCBjb25uZWN0YWJsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gUiRnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0b2RvOiBzdGF0aWNcbiAgICAgICAgY29ubmVjdGFibGUub2JzZXJ2ZVByb3BlcnR5KHRhcmdldCwga2V5KTtcbiAgICAgICAgcmV0dXJuIHdyYXAoUiRnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSk7XG4gICAgfSxcbn07XG5jb25zdCBhcnJheUhhbmRsZXIgPSB7XG4gICAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgICAgICAvLyBtYXliZSB1c2Ugc3ltYm9sP1xuICAgICAgICBpZiAoa2V5ID09PSByYXdLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29ubmVjdGFibGUgPSBjdXJyZW50Q29ubmVjdGFibGUoKTtcbiAgICAgICAgaWYgKCFjb25uZWN0aW5nIHx8IGRvTm90Q29sbGVjdChrZXkpIHx8IGNvbm5lY3RhYmxlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBSJGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICBjYXNlICdsZW5ndGgnOlxuICAgICAgICAgICAgICAgIGNvbm5lY3RhYmxlLm9ic2VydmVQcm9wZXJ0eSh0YXJnZXQsICdsZW5ndGgnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgICAgICAgIGNhc2UgJ21hcCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBcnJheU1hcDtcbiAgICAgICAgICAgIGNhc2UgJ2luY2x1ZGVzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5SW5jbHVkZXM7XG4gICAgICAgICAgICBjYXNlICdpbmRleE9mJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5SW5kZXhPZjtcbiAgICAgICAgICAgIGNhc2UgJ2xhc3RJbmRleE9mJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5TGFzdEluZGV4T2Y7XG4gICAgICAgICAgICBjYXNlICdldmVyeSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBcnJheUV2ZXJ5O1xuICAgICAgICAgICAgY2FzZSAnZmlsdGVyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5RmlsdGVyO1xuICAgICAgICAgICAgY2FzZSAnZmluZEluZGV4JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5RmluZEluZGV4O1xuICAgICAgICAgICAgY2FzZSAnZmxhdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBcnJheUZsYXQ7XG4gICAgICAgICAgICBjYXNlICdmbGF0TWFwJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5RmxhdE1hcDtcbiAgICAgICAgICAgIGNhc2UgJ2pvaW4nOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlKb2luO1xuICAgICAgICAgICAgY2FzZSAncHVzaCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRBcnJheVB1c2g7XG4gICAgICAgICAgICBjYXNlICdwb3AnOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlQb3A7XG4gICAgICAgICAgICBjYXNlICdyZWR1Y2UnOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkUmVkdWNlO1xuICAgICAgICAgICAgY2FzZSAncmVkdWNlUmlnaHQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkUmVkdWNlUmlnaHQ7XG4gICAgICAgICAgICBjYXNlICdyZXZlcnNlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5UmV2ZXJzZTtcbiAgICAgICAgICAgIGNhc2UgJ3NoaWZ0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5U2hpZnQ7XG4gICAgICAgICAgICBjYXNlICd1bnNoaWZ0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5VW5zaGlmdDtcbiAgICAgICAgICAgIGNhc2UgJ3NsaWNlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5U2xpY2U7XG4gICAgICAgICAgICBjYXNlICdzcGxpY2UnOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlTcGxpY2U7XG4gICAgICAgICAgICBjYXNlICdzb21lJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFycmF5U29tZTtcbiAgICAgICAgICAgIGNhc2UgJ3NvcnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQXJyYXlTb3J0O1xuICAgICAgICAgICAgY2FzZSAna2V5cyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRLZXlzO1xuICAgICAgICAgICAgY2FzZSAndmFsdWVzJzpcbiAgICAgICAgICAgIGNhc2UgU3ltYm9sLml0ZXJhdG9yOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkVmFsdWVzO1xuICAgICAgICAgICAgY2FzZSAnZW50cmllcyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRFbnRyaWVzO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RhYmxlLm9ic2VydmVQcm9wZXJ0eSh0YXJnZXQsIGtleSk7XG4gICAgICAgIHJldHVybiB3cmFwKFIkZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikpO1xuICAgIH0sXG4gICAgLy8gZm9yIChsZXQgaSBpbiBhcnJheSkgLi4uXG4gICAgb3duS2V5cyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBjdXJyZW50Q29ubmVjdGFibGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9ic2VydmVQcm9wZXJ0eSh0YXJnZXQsICdsZW5ndGgnKTtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gd3JhcHBlZEFycmF5TWFwKGNiLCB0aGlzQXJnKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJhdyA9IGdldFJhdyh0aGlzKTtcbiAgICBjb25zdCByZXMgPSByYXcubWFwKCh2LCBpKSA9PiBcbiAgICAvLyBkbyB3ZSB3cmFwIGB0aGlzQXJnYD9cbiAgICB1bndyYXAoY2IuY2FsbCh0aGlzQXJnLCB3cmFwKHYpLCBpLCB0aGlzKSkpO1xuICAgIChfYSA9IGN1cnJlbnRDb25uZWN0YWJsZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2JzZXJ2ZUNvbGxlY3Rpb24ocmF3KTtcbiAgICByZXR1cm4gd3JhcChyZXMpO1xufVxuZnVuY3Rpb24gd3JhcHBlZEFycmF5RXZlcnkoY2IsIHRoaXNBcmcpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmF3ID0gZ2V0UmF3KHRoaXMpO1xuICAgIGNvbnN0IHJlcyA9IHJhdy5ldmVyeSgodiwgaSkgPT4gY2IuY2FsbCh0aGlzQXJnLCB3cmFwKHYpLCBpLCB0aGlzKSk7XG4gICAgKF9hID0gY3VycmVudENvbm5lY3RhYmxlKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vYnNlcnZlQ29sbGVjdGlvbihyYXcpO1xuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlGaWx0ZXIoY2IsIHRoaXNBcmcpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmF3ID0gZ2V0UmF3KHRoaXMpO1xuICAgIGNvbnN0IHJlcyA9IHJhdy5maWx0ZXIoKHYsIGkpID0+IFxuICAgIC8vIGRvIHdlIHdyYXAgYHRoaXNBcmdgP1xuICAgIHVud3JhcChjYi5jYWxsKHRoaXNBcmcsIHdyYXAodiksIGksIHRoaXMpKSk7XG4gICAgKF9hID0gY3VycmVudENvbm5lY3RhYmxlKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vYnNlcnZlQ29sbGVjdGlvbihyYXcpO1xuICAgIHJldHVybiB3cmFwKHJlcyk7XG59XG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlJbmNsdWRlcyh2KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJhdyA9IGdldFJhdyh0aGlzKTtcbiAgICBjb25zdCByZXMgPSByYXcuaW5jbHVkZXModW53cmFwKHYpKTtcbiAgICAoX2EgPSBjdXJyZW50Q29ubmVjdGFibGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9ic2VydmVDb2xsZWN0aW9uKHJhdyk7XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheUluZGV4T2Yodikge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByYXcgPSBnZXRSYXcodGhpcyk7XG4gICAgY29uc3QgcmVzID0gcmF3LmluZGV4T2YodW53cmFwKHYpKTtcbiAgICAoX2EgPSBjdXJyZW50Q29ubmVjdGFibGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9ic2VydmVDb2xsZWN0aW9uKHJhdyk7XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheUxhc3RJbmRleE9mKHYpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmF3ID0gZ2V0UmF3KHRoaXMpO1xuICAgIGNvbnN0IHJlcyA9IHJhdy5sYXN0SW5kZXhPZih1bndyYXAodikpO1xuICAgIChfYSA9IGN1cnJlbnRDb25uZWN0YWJsZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2JzZXJ2ZUNvbGxlY3Rpb24ocmF3KTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gd3JhcHBlZEFycmF5RmluZEluZGV4KGNiLCB0aGlzQXJnKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJhdyA9IGdldFJhdyh0aGlzKTtcbiAgICBjb25zdCByZXMgPSByYXcuZmluZEluZGV4KCh2LCBpKSA9PiB1bndyYXAoY2IuY2FsbCh0aGlzQXJnLCB3cmFwKHYpLCBpLCB0aGlzKSkpO1xuICAgIChfYSA9IGN1cnJlbnRDb25uZWN0YWJsZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2JzZXJ2ZUNvbGxlY3Rpb24ocmF3KTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gd3JhcHBlZEFycmF5RmxhdCgpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmF3ID0gZ2V0UmF3KHRoaXMpO1xuICAgIChfYSA9IGN1cnJlbnRDb25uZWN0YWJsZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2JzZXJ2ZUNvbGxlY3Rpb24ocmF3KTtcbiAgICByZXR1cm4gd3JhcChyYXcuZmxhdCgpKTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheUZsYXRNYXAoY2IsIHRoaXNBcmcpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmF3ID0gZ2V0UmF3KHRoaXMpO1xuICAgIChfYSA9IGN1cnJlbnRDb25uZWN0YWJsZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2JzZXJ2ZUNvbGxlY3Rpb24ocmF3KTtcbiAgICByZXR1cm4gZ2V0UHJveHkocmF3LmZsYXRNYXAoKHYsIGkpID0+IHdyYXAoY2IuY2FsbCh0aGlzQXJnLCB3cmFwKHYpLCBpLCB0aGlzKSkpKTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheUpvaW4oc2VwYXJhdG9yKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJhdyA9IGdldFJhdyh0aGlzKTtcbiAgICAoX2EgPSBjdXJyZW50Q29ubmVjdGFibGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9ic2VydmVDb2xsZWN0aW9uKHJhdyk7XG4gICAgcmV0dXJuIHJhdy5qb2luKHNlcGFyYXRvcik7XG59XG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlQb3AoKSB7XG4gICAgcmV0dXJuIHdyYXAoZ2V0UmF3KHRoaXMpLnBvcCgpKTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheVB1c2goLi4uYXJncykge1xuICAgIHJldHVybiBnZXRSYXcodGhpcykucHVzaCguLi5hcmdzKTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheVNoaWZ0KCkge1xuICAgIHJldHVybiB3cmFwKGdldFJhdyh0aGlzKS5zaGlmdCgpKTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheVVuc2hpZnQoLi4uYXJncykge1xuICAgIHJldHVybiBnZXRSYXcodGhpcykudW5zaGlmdCguLi5hcmdzKTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheVNwbGljZSguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHdyYXAoZ2V0UmF3KHRoaXMpLnNwbGljZSguLi5hcmdzKSk7XG59XG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlSZXZlcnNlKC4uLmFyZ3MpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmF3ID0gZ2V0UmF3KHRoaXMpO1xuICAgIGNvbnN0IHJlcyA9IHJhdy5yZXZlcnNlKCk7XG4gICAgKF9hID0gY3VycmVudENvbm5lY3RhYmxlKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vYnNlcnZlQ29sbGVjdGlvbihyYXcpO1xuICAgIHJldHVybiB3cmFwKHJlcyk7XG59XG5mdW5jdGlvbiB3cmFwcGVkQXJyYXlTb21lKGNiLCB0aGlzQXJnKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJhdyA9IGdldFJhdyh0aGlzKTtcbiAgICBjb25zdCByZXMgPSByYXcuc29tZSgodiwgaSkgPT4gdW53cmFwKGNiLmNhbGwodGhpc0FyZywgd3JhcCh2KSwgaSwgdGhpcykpKTtcbiAgICAoX2EgPSBjdXJyZW50Q29ubmVjdGFibGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9ic2VydmVDb2xsZWN0aW9uKHJhdyk7XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheVNvcnQoY2IpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmF3ID0gZ2V0UmF3KHRoaXMpO1xuICAgIGNvbnN0IHJlcyA9IHJhdy5zb3J0KGNiKTtcbiAgICAoX2EgPSBjdXJyZW50Q29ubmVjdGFibGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9ic2VydmVDb2xsZWN0aW9uKHJhdyk7XG4gICAgcmV0dXJuIHdyYXAocmVzKTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRBcnJheVNsaWNlKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmF3ID0gZ2V0UmF3KHRoaXMpO1xuICAgIChfYSA9IGN1cnJlbnRDb25uZWN0YWJsZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2JzZXJ2ZUNvbGxlY3Rpb24ocmF3KTtcbiAgICByZXR1cm4gZ2V0UHJveHkocmF3LnNsaWNlKHN0YXJ0LCBlbmQpKTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRSZWR1Y2UoY2IsIGluaXRWYWx1ZSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByYXcgPSBnZXRSYXcodGhpcyk7XG4gICAgY29uc3QgcmVzID0gcmF3LnJlZHVjZSgoY3VyciwgdiwgaSkgPT4gY2IoY3Vyciwgd3JhcCh2KSwgaSwgdGhpcyksIGluaXRWYWx1ZSk7XG4gICAgKF9hID0gY3VycmVudENvbm5lY3RhYmxlKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vYnNlcnZlQ29sbGVjdGlvbihyYXcpO1xuICAgIHJldHVybiB3cmFwKHJlcyk7XG59XG5mdW5jdGlvbiB3cmFwcGVkUmVkdWNlUmlnaHQoY2IsIGluaXRWYWx1ZSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByYXcgPSBnZXRSYXcodGhpcyk7XG4gICAgY29uc3QgcmVzID0gcmF3LnJlZHVjZVJpZ2h0KChjdXJyLCB2LCBpKSA9PiBjYihjdXJyLCB3cmFwKHYpLCBpLCB0aGlzKSwgaW5pdFZhbHVlKTtcbiAgICAoX2EgPSBjdXJyZW50Q29ubmVjdGFibGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9ic2VydmVDb2xsZWN0aW9uKHJhdyk7XG4gICAgcmV0dXJuIHdyYXAocmVzKTtcbn1cbi8vIHRoZSBiZWxvdyBsb2dpYyB0YWtlcyBpbnNwaXJhdGlvbiBmcm9tIFZ1ZSwgTW9ieFxuLy8gbXVjaCB0aGFua3MgdG8gdGhlbSBmb3Igd29ya2luZyBvdXQgdGhpc1xuY29uc3QgY29sbGVjdGlvbkhhbmRsZXIgPSB7XG4gICAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgICAgICAvLyBtYXliZSB1c2Ugc3ltYm9sP1xuICAgICAgICBpZiAoa2V5ID09PSByYXdLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29ubmVjdGFibGUgPSBjdXJyZW50Q29ubmVjdGFibGUoKTtcbiAgICAgICAgaWYgKCFjb25uZWN0aW5nIHx8IGRvTm90Q29sbGVjdChrZXkpIHx8IGNvbm5lY3RhYmxlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBSJGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICBjYXNlICdzaXplJzpcbiAgICAgICAgICAgICAgICBjb25uZWN0YWJsZS5vYnNlcnZlUHJvcGVydHkodGFyZ2V0LCAnc2l6ZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQuc2l6ZTtcbiAgICAgICAgICAgIGNhc2UgJ2NsZWFyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZENsZWFyO1xuICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZERlbGV0ZTtcbiAgICAgICAgICAgIGNhc2UgJ2ZvckVhY2gnOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkRm9yRWFjaDtcbiAgICAgICAgICAgIGNhc2UgJ2FkZCc6XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEFkZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdnZXQnOlxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRHZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2V0JzpcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkU2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2hhcyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRIYXM7XG4gICAgICAgICAgICBjYXNlICdrZXlzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEtleXM7XG4gICAgICAgICAgICBjYXNlICd2YWx1ZXMnOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkVmFsdWVzO1xuICAgICAgICAgICAgY2FzZSAnZW50cmllcyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRFbnRyaWVzO1xuICAgICAgICAgICAgY2FzZSBTeW1ib2wuaXRlcmF0b3I6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIE1hcCA/IHdyYXBwZWRFbnRyaWVzIDogd3JhcHBlZFZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JhcChSJGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpKTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIHdyYXBwZWRGb3JFYWNoKGNiLCB0aGlzQXJnKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJhdyA9IGdldFJhdyh0aGlzKTtcbiAgICAoX2EgPSBjdXJyZW50Q29ubmVjdGFibGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9ic2VydmVDb2xsZWN0aW9uKHJhdyk7XG4gICAgcmV0dXJuIHJhdy5mb3JFYWNoKCh2LCBrZXkpID0+IHtcbiAgICAgICAgY2IuY2FsbCgvKiBzaG91bGQgd3JhcCBvciBub3Q/PyAqLyB0aGlzQXJnLCB3cmFwKHYpLCB3cmFwKGtleSksIHRoaXMpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gd3JhcHBlZEhhcyh2KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJhdyA9IGdldFJhdyh0aGlzKTtcbiAgICAoX2EgPSBjdXJyZW50Q29ubmVjdGFibGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9ic2VydmVDb2xsZWN0aW9uKHJhdyk7XG4gICAgcmV0dXJuIHJhdy5oYXModW53cmFwKHYpKTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRHZXQoaykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByYXcgPSBnZXRSYXcodGhpcyk7XG4gICAgKF9hID0gY3VycmVudENvbm5lY3RhYmxlKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vYnNlcnZlQ29sbGVjdGlvbihyYXcpO1xuICAgIHJldHVybiB3cmFwKHJhdy5nZXQodW53cmFwKGspKSk7XG59XG5mdW5jdGlvbiB3cmFwcGVkU2V0KGssIHYpIHtcbiAgICByZXR1cm4gd3JhcChnZXRSYXcodGhpcykuc2V0KHVud3JhcChrKSwgdW53cmFwKHYpKSk7XG59XG5mdW5jdGlvbiB3cmFwcGVkQWRkKHYpIHtcbiAgICByZXR1cm4gd3JhcChnZXRSYXcodGhpcykuYWRkKHVud3JhcCh2KSkpO1xufVxuZnVuY3Rpb24gd3JhcHBlZENsZWFyKCkge1xuICAgIHJldHVybiB3cmFwKGdldFJhdyh0aGlzKS5jbGVhcigpKTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWREZWxldGUoaykge1xuICAgIHJldHVybiB3cmFwKGdldFJhdyh0aGlzKS5kZWxldGUodW53cmFwKGspKSk7XG59XG5mdW5jdGlvbiB3cmFwcGVkS2V5cygpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmF3ID0gZ2V0UmF3KHRoaXMpO1xuICAgIChfYSA9IGN1cnJlbnRDb25uZWN0YWJsZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2JzZXJ2ZUNvbGxlY3Rpb24ocmF3KTtcbiAgICBjb25zdCBpdGVyYXRvciA9IHJhdy5rZXlzKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dCgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5leHQudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBkb25lID0gbmV4dC5kb25lO1xuICAgICAgICAgICAgcmV0dXJuIGRvbmVcbiAgICAgICAgICAgICAgICA/IHsgdmFsdWU6IHZvaWQgMCwgZG9uZSB9XG4gICAgICAgICAgICAgICAgOiB7IHZhbHVlOiB3cmFwKHZhbHVlKSwgZG9uZSB9O1xuICAgICAgICB9LFxuICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiB3cmFwcGVkVmFsdWVzKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByYXcgPSBnZXRSYXcodGhpcyk7XG4gICAgKF9hID0gY3VycmVudENvbm5lY3RhYmxlKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vYnNlcnZlQ29sbGVjdGlvbihyYXcpO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gcmF3LnZhbHVlcygpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBuZXh0LnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgZG9uZSA9IG5leHQuZG9uZTtcbiAgICAgICAgICAgIHJldHVybiBkb25lXG4gICAgICAgICAgICAgICAgPyB7IHZhbHVlOiB2b2lkIDAsIGRvbmUgfVxuICAgICAgICAgICAgICAgIDogeyB2YWx1ZTogd3JhcCh2YWx1ZSksIGRvbmUgfTtcbiAgICAgICAgfSxcbiAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gd3JhcHBlZEVudHJpZXMoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJhdyA9IGdldFJhdyh0aGlzKTtcbiAgICAoX2EgPSBjdXJyZW50Q29ubmVjdGFibGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9ic2VydmVDb2xsZWN0aW9uKHJhdyk7XG4gICAgY29uc3QgaXRlcmF0b3IgPSByYXcuZW50cmllcygpO1xuICAgIC8vIHJldHVybiBhIHdyYXBwZWQgaXRlcmF0b3Igd2hpY2ggcmV0dXJucyBvYnNlcnZlZCB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyB2YWx1ZXMgZW1pdHRlZCBmcm9tIHRoZSByZWFsIGl0ZXJhdG9yXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dCgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5leHQudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBkb25lID0gbmV4dC5kb25lO1xuICAgICAgICAgICAgcmV0dXJuIGRvbmVcbiAgICAgICAgICAgICAgICA/IHsgdmFsdWU6IHZvaWQgMCwgZG9uZSB9XG4gICAgICAgICAgICAgICAgOiB7IHZhbHVlOiBbd3JhcCh2YWx1ZVswXSksIHdyYXAodmFsdWVbMV0pXSwgZG9uZSB9O1xuICAgICAgICB9LFxuICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgUHJveHlPYnNlcnZhYmxlID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgZ2V0UHJveHksXG4gICAgZ2V0UmF3LFxuICAgIHdyYXAsXG4gICAgdW53cmFwLFxuICAgIHJhd0tleSxcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJveHktb2JzZXJ2YXRpb24uanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/proxy-observation.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/set-observer.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/set-observer.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"enableSetObservation\": () => (/* binding */ enableSetObservation),\n/* harmony export */   \"disableSetObservation\": () => (/* binding */ disableSetObservation),\n/* harmony export */   \"SetObserver\": () => (/* binding */ SetObserver),\n/* harmony export */   \"getSetObserver\": () => (/* binding */ getSetObserver)\n/* harmony export */ });\n/* harmony import */ var _observation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observation.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation.js\");\n/* harmony import */ var _collection_length_observer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collection-length-observer.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/collection-length-observer.js\");\n/* harmony import */ var _subscriber_collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./subscriber-collection.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/subscriber-collection.js\");\n/* harmony import */ var _utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utilities-objects.js */ \"./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js\");\n\n\n\n\nconst observerLookup = new WeakMap();\nconst proto = Set.prototype;\nconst $add = proto.add;\nconst $clear = proto.clear;\nconst $delete = proto.delete;\nconst native = { add: $add, clear: $clear, delete: $delete };\nconst methods = ['add', 'clear', 'delete'];\n// note: we can't really do much with Set due to the internal data structure not being accessible so we're just using the native calls\n// fortunately, add/delete/clear are easy to reconstruct for the indexMap\nconst observe = {\n    // https://tc39.github.io/ecma262/#sec-set.prototype.add\n    add: function (value) {\n        const o = observerLookup.get(this);\n        if (o === undefined) {\n            $add.call(this, value);\n            return this;\n        }\n        const oldSize = this.size;\n        $add.call(this, value);\n        const newSize = this.size;\n        if (newSize === oldSize) {\n            return this;\n        }\n        o.indexMap[oldSize] = -2;\n        o.notify();\n        return this;\n    },\n    // https://tc39.github.io/ecma262/#sec-set.prototype.clear\n    clear: function () {\n        const o = observerLookup.get(this);\n        if (o === undefined) {\n            return $clear.call(this);\n        }\n        const size = this.size;\n        if (size > 0) {\n            const indexMap = o.indexMap;\n            let i = 0;\n            // deepscan-disable-next-line\n            for (const _ of this.keys()) {\n                if (indexMap[i] > -1) {\n                    indexMap.deletedItems.push(indexMap[i]);\n                }\n                i++;\n            }\n            $clear.call(this);\n            indexMap.length = 0;\n            o.notify();\n        }\n        return undefined;\n    },\n    // https://tc39.github.io/ecma262/#sec-set.prototype.delete\n    delete: function (value) {\n        const o = observerLookup.get(this);\n        if (o === undefined) {\n            return $delete.call(this, value);\n        }\n        const size = this.size;\n        if (size === 0) {\n            return false;\n        }\n        let i = 0;\n        const indexMap = o.indexMap;\n        for (const entry of this.keys()) {\n            if (entry === value) {\n                if (indexMap[i] > -1) {\n                    indexMap.deletedItems.push(indexMap[i]);\n                }\n                indexMap.splice(i, 1);\n                const deleteResult = $delete.call(this, value);\n                if (deleteResult === true) {\n                    o.notify();\n                }\n                return deleteResult;\n            }\n            i++;\n        }\n        return false;\n    }\n};\nconst descriptorProps = {\n    writable: true,\n    enumerable: false,\n    configurable: true\n};\nfor (const method of methods) {\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__.def)(observe[method], 'observing', { value: true, writable: false, configurable: false, enumerable: false });\n}\nlet enableSetObservationCalled = false;\nfunction enableSetObservation() {\n    for (const method of methods) {\n        if (proto[method].observing !== true) {\n            (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__.def)(proto, method, { ...descriptorProps, value: observe[method] });\n        }\n    }\n}\nfunction disableSetObservation() {\n    for (const method of methods) {\n        if (proto[method].observing === true) {\n            (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_3__.def)(proto, method, { ...descriptorProps, value: native[method] });\n        }\n    }\n}\nclass SetObserver {\n    constructor(observedSet) {\n        this.type = 34 /* Set */;\n        if (!enableSetObservationCalled) {\n            enableSetObservationCalled = true;\n            enableSetObservation();\n        }\n        this.collection = observedSet;\n        this.indexMap = (0,_observation_js__WEBPACK_IMPORTED_MODULE_0__.createIndexMap)(observedSet.size);\n        this.lenObs = void 0;\n        observerLookup.set(observedSet, this);\n    }\n    notify() {\n        const indexMap = this.indexMap;\n        const size = this.collection.size;\n        this.indexMap = (0,_observation_js__WEBPACK_IMPORTED_MODULE_0__.createIndexMap)(size);\n        this.subs.notifyCollection(indexMap, 0 /* none */);\n    }\n    getLengthObserver() {\n        var _a;\n        return (_a = this.lenObs) !== null && _a !== void 0 ? _a : (this.lenObs = new _collection_length_observer_js__WEBPACK_IMPORTED_MODULE_1__.CollectionSizeObserver(this));\n    }\n}\n(0,_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_2__.subscriberCollection)(SetObserver);\nfunction getSetObserver(observedSet) {\n    let observer = observerLookup.get(observedSet);\n    if (observer === void 0) {\n        observer = new SetObserver(observedSet);\n    }\n    return observer;\n}\n//# sourceMappingURL=set-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9zZXQtb2JzZXJ2ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9zZXQtb2JzZXJ2ZXIuanM/NmMyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVJbmRleE1hcCB9IGZyb20gJy4uL29ic2VydmF0aW9uLmpzJztcbmltcG9ydCB7IENvbGxlY3Rpb25TaXplT2JzZXJ2ZXIgfSBmcm9tICcuL2NvbGxlY3Rpb24tbGVuZ3RoLW9ic2VydmVyLmpzJztcbmltcG9ydCB7IHN1YnNjcmliZXJDb2xsZWN0aW9uIH0gZnJvbSAnLi9zdWJzY3JpYmVyLWNvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgZGVmIH0gZnJvbSAnLi4vdXRpbGl0aWVzLW9iamVjdHMuanMnO1xuY29uc3Qgb2JzZXJ2ZXJMb29rdXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcHJvdG8gPSBTZXQucHJvdG90eXBlO1xuY29uc3QgJGFkZCA9IHByb3RvLmFkZDtcbmNvbnN0ICRjbGVhciA9IHByb3RvLmNsZWFyO1xuY29uc3QgJGRlbGV0ZSA9IHByb3RvLmRlbGV0ZTtcbmNvbnN0IG5hdGl2ZSA9IHsgYWRkOiAkYWRkLCBjbGVhcjogJGNsZWFyLCBkZWxldGU6ICRkZWxldGUgfTtcbmNvbnN0IG1ldGhvZHMgPSBbJ2FkZCcsICdjbGVhcicsICdkZWxldGUnXTtcbi8vIG5vdGU6IHdlIGNhbid0IHJlYWxseSBkbyBtdWNoIHdpdGggU2V0IGR1ZSB0byB0aGUgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUgbm90IGJlaW5nIGFjY2Vzc2libGUgc28gd2UncmUganVzdCB1c2luZyB0aGUgbmF0aXZlIGNhbGxzXG4vLyBmb3J0dW5hdGVseSwgYWRkL2RlbGV0ZS9jbGVhciBhcmUgZWFzeSB0byByZWNvbnN0cnVjdCBmb3IgdGhlIGluZGV4TWFwXG5jb25zdCBvYnNlcnZlID0ge1xuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXNldC5wcm90b3R5cGUuYWRkXG4gICAgYWRkOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IG9ic2VydmVyTG9va3VwLmdldCh0aGlzKTtcbiAgICAgICAgaWYgKG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJGFkZC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9sZFNpemUgPSB0aGlzLnNpemU7XG4gICAgICAgICRhZGQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIGNvbnN0IG5ld1NpemUgPSB0aGlzLnNpemU7XG4gICAgICAgIGlmIChuZXdTaXplID09PSBvbGRTaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBvLmluZGV4TWFwW29sZFNpemVdID0gLTI7XG4gICAgICAgIG8ubm90aWZ5KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS5jbGVhclxuICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IG8gPSBvYnNlcnZlckxvb2t1cC5nZXQodGhpcyk7XG4gICAgICAgIGlmIChvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAkY2xlYXIuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5zaXplO1xuICAgICAgICBpZiAoc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4TWFwID0gby5pbmRleE1hcDtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIC8vIGRlZXBzY2FuLWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICBmb3IgKGNvbnN0IF8gb2YgdGhpcy5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhNYXBbaV0gPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleE1hcC5kZWxldGVkSXRlbXMucHVzaChpbmRleE1hcFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRjbGVhci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgaW5kZXhNYXAubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIG8ubm90aWZ5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXNldC5wcm90b3R5cGUuZGVsZXRlXG4gICAgZGVsZXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IG9ic2VydmVyTG9va3VwLmdldCh0aGlzKTtcbiAgICAgICAgaWYgKG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuICRkZWxldGUuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgICAgaWYgKHNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGNvbnN0IGluZGV4TWFwID0gby5pbmRleE1hcDtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLmtleXMoKSkge1xuICAgICAgICAgICAgaWYgKGVudHJ5ID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleE1hcFtpXSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4TWFwLmRlbGV0ZWRJdGVtcy5wdXNoKGluZGV4TWFwW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5kZXhNYXAuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZVJlc3VsdCA9ICRkZWxldGUuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGRlbGV0ZVJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBvLm5vdGlmeSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZXRlUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59O1xuY29uc3QgZGVzY3JpcHRvclByb3BzID0ge1xuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufTtcbmZvciAoY29uc3QgbWV0aG9kIG9mIG1ldGhvZHMpIHtcbiAgICBkZWYob2JzZXJ2ZVttZXRob2RdLCAnb2JzZXJ2aW5nJywgeyB2YWx1ZTogdHJ1ZSwgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSB9KTtcbn1cbmxldCBlbmFibGVTZXRPYnNlcnZhdGlvbkNhbGxlZCA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZVNldE9ic2VydmF0aW9uKCkge1xuICAgIGZvciAoY29uc3QgbWV0aG9kIG9mIG1ldGhvZHMpIHtcbiAgICAgICAgaWYgKHByb3RvW21ldGhvZF0ub2JzZXJ2aW5nICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBkZWYocHJvdG8sIG1ldGhvZCwgeyAuLi5kZXNjcmlwdG9yUHJvcHMsIHZhbHVlOiBvYnNlcnZlW21ldGhvZF0gfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZVNldE9ic2VydmF0aW9uKCkge1xuICAgIGZvciAoY29uc3QgbWV0aG9kIG9mIG1ldGhvZHMpIHtcbiAgICAgICAgaWYgKHByb3RvW21ldGhvZF0ub2JzZXJ2aW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBkZWYocHJvdG8sIG1ldGhvZCwgeyAuLi5kZXNjcmlwdG9yUHJvcHMsIHZhbHVlOiBuYXRpdmVbbWV0aG9kXSB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTZXRPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3Iob2JzZXJ2ZWRTZXQpIHtcbiAgICAgICAgdGhpcy50eXBlID0gMzQgLyogU2V0ICovO1xuICAgICAgICBpZiAoIWVuYWJsZVNldE9ic2VydmF0aW9uQ2FsbGVkKSB7XG4gICAgICAgICAgICBlbmFibGVTZXRPYnNlcnZhdGlvbkNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICBlbmFibGVTZXRPYnNlcnZhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IG9ic2VydmVkU2V0O1xuICAgICAgICB0aGlzLmluZGV4TWFwID0gY3JlYXRlSW5kZXhNYXAob2JzZXJ2ZWRTZXQuc2l6ZSk7XG4gICAgICAgIHRoaXMubGVuT2JzID0gdm9pZCAwO1xuICAgICAgICBvYnNlcnZlckxvb2t1cC5zZXQob2JzZXJ2ZWRTZXQsIHRoaXMpO1xuICAgIH1cbiAgICBub3RpZnkoKSB7XG4gICAgICAgIGNvbnN0IGluZGV4TWFwID0gdGhpcy5pbmRleE1hcDtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuY29sbGVjdGlvbi5zaXplO1xuICAgICAgICB0aGlzLmluZGV4TWFwID0gY3JlYXRlSW5kZXhNYXAoc2l6ZSk7XG4gICAgICAgIHRoaXMuc3Vicy5ub3RpZnlDb2xsZWN0aW9uKGluZGV4TWFwLCAwIC8qIG5vbmUgKi8pO1xuICAgIH1cbiAgICBnZXRMZW5ndGhPYnNlcnZlcigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5sZW5PYnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICh0aGlzLmxlbk9icyA9IG5ldyBDb2xsZWN0aW9uU2l6ZU9ic2VydmVyKHRoaXMpKTtcbiAgICB9XG59XG5zdWJzY3JpYmVyQ29sbGVjdGlvbihTZXRPYnNlcnZlcik7XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2V0T2JzZXJ2ZXIob2JzZXJ2ZWRTZXQpIHtcbiAgICBsZXQgb2JzZXJ2ZXIgPSBvYnNlcnZlckxvb2t1cC5nZXQob2JzZXJ2ZWRTZXQpO1xuICAgIGlmIChvYnNlcnZlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG9ic2VydmVyID0gbmV3IFNldE9ic2VydmVyKG9ic2VydmVkU2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIG9ic2VydmVyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0LW9ic2VydmVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/set-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/setter-observer.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/setter-observer.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SetterObserver\": () => (/* binding */ SetterObserver),\n/* harmony export */   \"SetterNotifier\": () => (/* binding */ SetterNotifier)\n/* harmony export */ });\n/* harmony import */ var _subscriber_collection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./subscriber-collection.js */ \"./node_modules/@aurelia/runtime/dist/esm/observation/subscriber-collection.js\");\n/* harmony import */ var _utilities_objects_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities-objects.js */ \"./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js\");\n\n\n/**\n * Observer for the mutation of object property value employing getter-setter strategy.\n * This is used for observing object properties that has no decorator.\n */\nclass SetterObserver {\n    constructor(obj, propertyKey) {\n        this.obj = obj;\n        this.propertyKey = propertyKey;\n        this.currentValue = void 0;\n        this.oldValue = void 0;\n        this.inBatch = false;\n        this.observing = false;\n        // todo(bigopon): tweak the flag based on typeof obj (array/set/map/iterator/proxy etc...)\n        this.type = 1 /* Observer */;\n    }\n    getValue() {\n        return this.currentValue;\n    }\n    setValue(newValue, flags) {\n        if (this.observing) {\n            const currentValue = this.currentValue;\n            if (Object.is(newValue, currentValue)) {\n                return;\n            }\n            this.currentValue = newValue;\n            this.subs.notify(newValue, currentValue, flags);\n        }\n        else {\n            // If subscribe() has been called, the target property descriptor is replaced by these getter/setter methods,\n            // so calling obj[propertyKey] will actually return this.currentValue.\n            // However, if subscribe() was not yet called (indicated by !this.observing), the target descriptor\n            // is unmodified and we need to explicitly set the property value.\n            // This will happen in one-time, to-view and two-way bindings during $bind, meaning that the $bind will not actually update the target value.\n            // This wasn't visible in vCurrent due to connect-queue always doing a delayed update, so in many cases it didn't matter whether $bind updated the target or not.\n            this.obj[this.propertyKey] = newValue;\n        }\n    }\n    subscribe(subscriber) {\n        if (this.observing === false) {\n            this.start();\n        }\n        this.subs.add(subscriber);\n    }\n    start() {\n        if (this.observing === false) {\n            this.observing = true;\n            this.currentValue = this.obj[this.propertyKey];\n            (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_1__.def)(this.obj, this.propertyKey, {\n                enumerable: true,\n                configurable: true,\n                get: ( /* Setter Observer */) => this.getValue(),\n                set: (/* Setter Observer */ value) => {\n                    this.setValue(value, 0 /* none */);\n                },\n            });\n        }\n        return this;\n    }\n    stop() {\n        if (this.observing) {\n            (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_1__.def)(this.obj, this.propertyKey, {\n                enumerable: true,\n                configurable: true,\n                writable: true,\n                value: this.currentValue,\n            });\n            this.observing = false;\n            // todo(bigopon/fred): add .removeAllSubscribers()\n        }\n        return this;\n    }\n}\nclass SetterNotifier {\n    constructor(obj, callbackKey, set, initialValue) {\n        this.type = 1 /* Observer */;\n        /**\n         * @internal\n         */\n        this.v = void 0;\n        this.obj = obj;\n        this.s = set;\n        const callback = obj[callbackKey];\n        this.cb = typeof callback === 'function' ? callback : void 0;\n        this.v = initialValue;\n    }\n    getValue() {\n        return this.v;\n    }\n    setValue(value, flags) {\n        var _a;\n        if (typeof this.s === 'function') {\n            value = this.s(value);\n        }\n        const oldValue = this.v;\n        if (!Object.is(value, oldValue)) {\n            this.v = value;\n            (_a = this.cb) === null || _a === void 0 ? void 0 : _a.call(this.obj, value, oldValue, flags);\n            // there's a chance that cb.call(...)\n            // changes the latest value of this observer\n            // and thus making `value` stale\n            // so for now, call with this.v\n            // todo: should oldValue be treated the same way?\n            this.subs.notify(this.v, oldValue, flags);\n        }\n    }\n}\n(0,_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_0__.subscriberCollection)(SetterObserver);\n(0,_subscriber_collection_js__WEBPACK_IMPORTED_MODULE_0__.subscriberCollection)(SetterNotifier);\n//# sourceMappingURL=setter-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9zZXR0ZXItb2JzZXJ2ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9zZXR0ZXItb2JzZXJ2ZXIuanM/MWI0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdWJzY3JpYmVyQ29sbGVjdGlvbiB9IGZyb20gJy4vc3Vic2NyaWJlci1jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGRlZiB9IGZyb20gJy4uL3V0aWxpdGllcy1vYmplY3RzLmpzJztcbi8qKlxuICogT2JzZXJ2ZXIgZm9yIHRoZSBtdXRhdGlvbiBvZiBvYmplY3QgcHJvcGVydHkgdmFsdWUgZW1wbG95aW5nIGdldHRlci1zZXR0ZXIgc3RyYXRlZ3kuXG4gKiBUaGlzIGlzIHVzZWQgZm9yIG9ic2VydmluZyBvYmplY3QgcHJvcGVydGllcyB0aGF0IGhhcyBubyBkZWNvcmF0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXR0ZXJPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3Iob2JqLCBwcm9wZXJ0eUtleSkge1xuICAgICAgICB0aGlzLm9iaiA9IG9iajtcbiAgICAgICAgdGhpcy5wcm9wZXJ0eUtleSA9IHByb3BlcnR5S2V5O1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5vbGRWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5pbkJhdGNoID0gZmFsc2U7XG4gICAgICAgIHRoaXMub2JzZXJ2aW5nID0gZmFsc2U7XG4gICAgICAgIC8vIHRvZG8oYmlnb3Bvbik6IHR3ZWFrIHRoZSBmbGFnIGJhc2VkIG9uIHR5cGVvZiBvYmogKGFycmF5L3NldC9tYXAvaXRlcmF0b3IvcHJveHkgZXRjLi4uKVxuICAgICAgICB0aGlzLnR5cGUgPSAxIC8qIE9ic2VydmVyICovO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlO1xuICAgIH1cbiAgICBzZXRWYWx1ZShuZXdWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2aW5nKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaXMobmV3VmFsdWUsIGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5zdWJzLm5vdGlmeShuZXdWYWx1ZSwgY3VycmVudFZhbHVlLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBzdWJzY3JpYmUoKSBoYXMgYmVlbiBjYWxsZWQsIHRoZSB0YXJnZXQgcHJvcGVydHkgZGVzY3JpcHRvciBpcyByZXBsYWNlZCBieSB0aGVzZSBnZXR0ZXIvc2V0dGVyIG1ldGhvZHMsXG4gICAgICAgICAgICAvLyBzbyBjYWxsaW5nIG9ialtwcm9wZXJ0eUtleV0gd2lsbCBhY3R1YWxseSByZXR1cm4gdGhpcy5jdXJyZW50VmFsdWUuXG4gICAgICAgICAgICAvLyBIb3dldmVyLCBpZiBzdWJzY3JpYmUoKSB3YXMgbm90IHlldCBjYWxsZWQgKGluZGljYXRlZCBieSAhdGhpcy5vYnNlcnZpbmcpLCB0aGUgdGFyZ2V0IGRlc2NyaXB0b3JcbiAgICAgICAgICAgIC8vIGlzIHVubW9kaWZpZWQgYW5kIHdlIG5lZWQgdG8gZXhwbGljaXRseSBzZXQgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGhhcHBlbiBpbiBvbmUtdGltZSwgdG8tdmlldyBhbmQgdHdvLXdheSBiaW5kaW5ncyBkdXJpbmcgJGJpbmQsIG1lYW5pbmcgdGhhdCB0aGUgJGJpbmQgd2lsbCBub3QgYWN0dWFsbHkgdXBkYXRlIHRoZSB0YXJnZXQgdmFsdWUuXG4gICAgICAgICAgICAvLyBUaGlzIHdhc24ndCB2aXNpYmxlIGluIHZDdXJyZW50IGR1ZSB0byBjb25uZWN0LXF1ZXVlIGFsd2F5cyBkb2luZyBhIGRlbGF5ZWQgdXBkYXRlLCBzbyBpbiBtYW55IGNhc2VzIGl0IGRpZG4ndCBtYXR0ZXIgd2hldGhlciAkYmluZCB1cGRhdGVkIHRoZSB0YXJnZXQgb3Igbm90LlxuICAgICAgICAgICAgdGhpcy5vYmpbdGhpcy5wcm9wZXJ0eUtleV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdWJzY3JpYmUoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzLmFkZChzdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLm9ic2VydmluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdGhpcy5vYmpbdGhpcy5wcm9wZXJ0eUtleV07XG4gICAgICAgICAgICBkZWYodGhpcy5vYmosIHRoaXMucHJvcGVydHlLZXksIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6ICggLyogU2V0dGVyIE9ic2VydmVyICovKSA9PiB0aGlzLmdldFZhbHVlKCksXG4gICAgICAgICAgICAgICAgc2V0OiAoLyogU2V0dGVyIE9ic2VydmVyICovIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodmFsdWUsIDAgLyogbm9uZSAqLyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZpbmcpIHtcbiAgICAgICAgICAgIGRlZih0aGlzLm9iaiwgdGhpcy5wcm9wZXJ0eUtleSwge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmN1cnJlbnRWYWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHRvZG8oYmlnb3Bvbi9mcmVkKTogYWRkIC5yZW1vdmVBbGxTdWJzY3JpYmVycygpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFNldHRlck5vdGlmaWVyIHtcbiAgICBjb25zdHJ1Y3RvcihvYmosIGNhbGxiYWNrS2V5LCBzZXQsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICB0aGlzLnR5cGUgPSAxIC8qIE9ic2VydmVyICovO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnYgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMub2JqID0gb2JqO1xuICAgICAgICB0aGlzLnMgPSBzZXQ7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gb2JqW2NhbGxiYWNrS2V5XTtcbiAgICAgICAgdGhpcy5jYiA9IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogdm9pZCAwO1xuICAgICAgICB0aGlzLnYgPSBpbml0aWFsVmFsdWU7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52O1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnModmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy52O1xuICAgICAgICBpZiAoIU9iamVjdC5pcyh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnYgPSB2YWx1ZTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuY2IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMub2JqLCB2YWx1ZSwgb2xkVmFsdWUsIGZsYWdzKTtcbiAgICAgICAgICAgIC8vIHRoZXJlJ3MgYSBjaGFuY2UgdGhhdCBjYi5jYWxsKC4uLilcbiAgICAgICAgICAgIC8vIGNoYW5nZXMgdGhlIGxhdGVzdCB2YWx1ZSBvZiB0aGlzIG9ic2VydmVyXG4gICAgICAgICAgICAvLyBhbmQgdGh1cyBtYWtpbmcgYHZhbHVlYCBzdGFsZVxuICAgICAgICAgICAgLy8gc28gZm9yIG5vdywgY2FsbCB3aXRoIHRoaXMudlxuICAgICAgICAgICAgLy8gdG9kbzogc2hvdWxkIG9sZFZhbHVlIGJlIHRyZWF0ZWQgdGhlIHNhbWUgd2F5P1xuICAgICAgICAgICAgdGhpcy5zdWJzLm5vdGlmeSh0aGlzLnYsIG9sZFZhbHVlLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5zdWJzY3JpYmVyQ29sbGVjdGlvbihTZXR0ZXJPYnNlcnZlcik7XG5zdWJzY3JpYmVyQ29sbGVjdGlvbihTZXR0ZXJOb3RpZmllcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0ZXItb2JzZXJ2ZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/setter-observer.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/signaler.js":
/*!************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/signaler.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ISignaler\": () => (/* binding */ ISignaler),\n/* harmony export */   \"Signaler\": () => (/* binding */ Signaler)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n\nconst ISignaler = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createInterface('ISignaler', x => x.singleton(Signaler));\nclass Signaler {\n    constructor() {\n        this.signals = Object.create(null);\n    }\n    dispatchSignal(name, flags) {\n        const listeners = this.signals[name];\n        if (listeners === undefined) {\n            return;\n        }\n        for (const listener of listeners.keys()) {\n            listener.handleChange(undefined, undefined, flags);\n        }\n    }\n    addSignalListener(name, listener) {\n        const signals = this.signals;\n        const listeners = signals[name];\n        if (listeners === undefined) {\n            signals[name] = new Set([listener]);\n        }\n        else {\n            listeners.add(listener);\n        }\n    }\n    removeSignalListener(name, listener) {\n        const listeners = this.signals[name];\n        if (listeners) {\n            listeners.delete(listener);\n        }\n    }\n}\n//# sourceMappingURL=signaler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9zaWduYWxlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL29ic2VydmF0aW9uL3NpZ25hbGVyLmpzP2E1MzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREkgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuZXhwb3J0IGNvbnN0IElTaWduYWxlciA9IERJLmNyZWF0ZUludGVyZmFjZSgnSVNpZ25hbGVyJywgeCA9PiB4LnNpbmdsZXRvbihTaWduYWxlcikpO1xuZXhwb3J0IGNsYXNzIFNpZ25hbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zaWduYWxzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG4gICAgZGlzcGF0Y2hTaWduYWwobmFtZSwgZmxhZ3MpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5zaWduYWxzW25hbWVdO1xuICAgICAgICBpZiAobGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycy5rZXlzKCkpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmhhbmRsZUNoYW5nZSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFNpZ25hbExpc3RlbmVyKG5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbHMgPSB0aGlzLnNpZ25hbHM7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHNpZ25hbHNbbmFtZV07XG4gICAgICAgIGlmIChsaXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2lnbmFsc1tuYW1lXSA9IG5ldyBTZXQoW2xpc3RlbmVyXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVTaWduYWxMaXN0ZW5lcihuYW1lLCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLnNpZ25hbHNbbmFtZV07XG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2lnbmFsZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/signaler.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/observation/subscriber-collection.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/observation/subscriber-collection.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"subscriberCollection\": () => (/* binding */ subscriberCollection),\n/* harmony export */   \"SubscriberRecord\": () => (/* binding */ SubscriberRecord)\n/* harmony export */ });\n/* harmony import */ var _utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities-objects.js */ \"./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js\");\n\nfunction subscriberCollection(target) {\n    return target == null ? subscriberCollectionDeco : subscriberCollectionDeco(target);\n}\nfunction subscriberCollectionDeco(target) {\n    const proto = target.prototype;\n    // not configurable, as in devtool, the getter could be invoked on the prototype,\n    // and become permanently broken\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__.def)(proto, 'subs', { get: getSubscriberRecord });\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__.ensureProto)(proto, 'subscribe', addSubscriber);\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__.ensureProto)(proto, 'unsubscribe', removeSubscriber);\n}\n/* eslint-enable @typescript-eslint/ban-types */\nclass SubscriberRecord {\n    constructor() {\n        /**\n         * subscriber flags: bits indicating the existence status of the subscribers of this record\n         */\n        this._sf = 0 /* None */;\n        this.count = 0;\n    }\n    add(subscriber) {\n        if (this.has(subscriber)) {\n            return false;\n        }\n        const subscriberFlags = this._sf;\n        if ((subscriberFlags & 1 /* Subscriber0 */) === 0) {\n            this._s0 = subscriber;\n            this._sf |= 1 /* Subscriber0 */;\n        }\n        else if ((subscriberFlags & 2 /* Subscriber1 */) === 0) {\n            this._s1 = subscriber;\n            this._sf |= 2 /* Subscriber1 */;\n        }\n        else if ((subscriberFlags & 4 /* Subscriber2 */) === 0) {\n            this._s2 = subscriber;\n            this._sf |= 4 /* Subscriber2 */;\n        }\n        else if ((subscriberFlags & 8 /* SubscribersRest */) === 0) {\n            this._sr = [subscriber];\n            this._sf |= 8 /* SubscribersRest */;\n        }\n        else {\n            this._sr.push(subscriber); // Non-null is implied by else branch of (subscriberFlags & SF.SubscribersRest) === 0\n        }\n        ++this.count;\n        return true;\n    }\n    has(subscriber) {\n        // Flags here is just a perf tweak\n        // Compared to not using flags, it's a moderate speed-up when this collection does not have the subscriber;\n        // and minor slow-down when it does, and the former is more common than the latter.\n        const subscriberFlags = this._sf;\n        if ((subscriberFlags & 1 /* Subscriber0 */) > 0 && this._s0 === subscriber) {\n            return true;\n        }\n        if ((subscriberFlags & 2 /* Subscriber1 */) > 0 && this._s1 === subscriber) {\n            return true;\n        }\n        if ((subscriberFlags & 4 /* Subscriber2 */) > 0 && this._s2 === subscriber) {\n            return true;\n        }\n        if ((subscriberFlags & 8 /* SubscribersRest */) > 0) {\n            const subscribers = this._sr; // Non-null is implied by (subscriberFlags & SF.SubscribersRest) > 0\n            const ii = subscribers.length;\n            let i = 0;\n            for (; i < ii; ++i) {\n                if (subscribers[i] === subscriber) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    any() {\n        return this._sf !== 0 /* None */;\n    }\n    remove(subscriber) {\n        const subscriberFlags = this._sf;\n        if ((subscriberFlags & 1 /* Subscriber0 */) > 0 && this._s0 === subscriber) {\n            this._s0 = void 0;\n            this._sf = (this._sf | 1 /* Subscriber0 */) ^ 1 /* Subscriber0 */;\n            --this.count;\n            return true;\n        }\n        else if ((subscriberFlags & 2 /* Subscriber1 */) > 0 && this._s1 === subscriber) {\n            this._s1 = void 0;\n            this._sf = (this._sf | 2 /* Subscriber1 */) ^ 2 /* Subscriber1 */;\n            --this.count;\n            return true;\n        }\n        else if ((subscriberFlags & 4 /* Subscriber2 */) > 0 && this._s2 === subscriber) {\n            this._s2 = void 0;\n            this._sf = (this._sf | 4 /* Subscriber2 */) ^ 4 /* Subscriber2 */;\n            --this.count;\n            return true;\n        }\n        else if ((subscriberFlags & 8 /* SubscribersRest */) > 0) {\n            const subscribers = this._sr; // Non-null is implied by (subscriberFlags & SF.SubscribersRest) > 0\n            const ii = subscribers.length;\n            let i = 0;\n            for (; i < ii; ++i) {\n                if (subscribers[i] === subscriber) {\n                    subscribers.splice(i, 1);\n                    if (ii === 1) {\n                        this._sf = (this._sf | 8 /* SubscribersRest */) ^ 8 /* SubscribersRest */;\n                    }\n                    --this.count;\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    notify(val, oldVal, flags) {\n        /**\n         * Note: change handlers may have the side-effect of adding/removing subscribers to this collection during this\n         * callSubscribers invocation, so we're caching them all before invoking any.\n         * Subscribers added during this invocation are not invoked (and they shouldn't be).\n         * Subscribers removed during this invocation will still be invoked (and they also shouldn't be,\n         * however this is accounted for via $isBound and similar flags on the subscriber objects)\n         */\n        const sub0 = this._s0;\n        const sub1 = this._s1;\n        const sub2 = this._s2;\n        let subs = this._sr;\n        if (subs !== void 0) {\n            subs = subs.slice();\n        }\n        if (sub0 !== void 0) {\n            sub0.handleChange(val, oldVal, flags);\n        }\n        if (sub1 !== void 0) {\n            sub1.handleChange(val, oldVal, flags);\n        }\n        if (sub2 !== void 0) {\n            sub2.handleChange(val, oldVal, flags);\n        }\n        if (subs !== void 0) {\n            const ii = subs.length;\n            let sub;\n            let i = 0;\n            for (; i < ii; ++i) {\n                sub = subs[i];\n                if (sub !== void 0) {\n                    sub.handleChange(val, oldVal, flags);\n                }\n            }\n        }\n    }\n    notifyCollection(indexMap, flags) {\n        const sub0 = this._s0;\n        const sub1 = this._s1;\n        const sub2 = this._s2;\n        let subs = this._sr;\n        if (subs !== void 0) {\n            subs = subs.slice();\n        }\n        if (sub0 !== void 0) {\n            sub0.handleCollectionChange(indexMap, flags);\n        }\n        if (sub1 !== void 0) {\n            sub1.handleCollectionChange(indexMap, flags);\n        }\n        if (sub2 !== void 0) {\n            sub2.handleCollectionChange(indexMap, flags);\n        }\n        if (subs !== void 0) {\n            const ii = subs.length;\n            let sub;\n            let i = 0;\n            for (; i < ii; ++i) {\n                sub = subs[i];\n                if (sub !== void 0) {\n                    sub.handleCollectionChange(indexMap, flags);\n                }\n            }\n        }\n    }\n}\nfunction getSubscriberRecord() {\n    const record = new SubscriberRecord();\n    (0,_utilities_objects_js__WEBPACK_IMPORTED_MODULE_0__.defineHiddenProp)(this, 'subs', record);\n    return record;\n}\nfunction addSubscriber(subscriber) {\n    return this.subs.add(subscriber);\n}\nfunction removeSubscriber(subscriber) {\n    return this.subs.remove(subscriber);\n}\n//# sourceMappingURL=subscriber-collection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9zdWJzY3JpYmVyLWNvbGxlY3Rpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS9vYnNlcnZhdGlvbi9zdWJzY3JpYmVyLWNvbGxlY3Rpb24uanM/ZTA5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWYsIGRlZmluZUhpZGRlblByb3AsIGVuc3VyZVByb3RvIH0gZnJvbSAnLi4vdXRpbGl0aWVzLW9iamVjdHMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZXJDb2xsZWN0aW9uKHRhcmdldCkge1xuICAgIHJldHVybiB0YXJnZXQgPT0gbnVsbCA/IHN1YnNjcmliZXJDb2xsZWN0aW9uRGVjbyA6IHN1YnNjcmliZXJDb2xsZWN0aW9uRGVjbyh0YXJnZXQpO1xufVxuZnVuY3Rpb24gc3Vic2NyaWJlckNvbGxlY3Rpb25EZWNvKHRhcmdldCkge1xuICAgIGNvbnN0IHByb3RvID0gdGFyZ2V0LnByb3RvdHlwZTtcbiAgICAvLyBub3QgY29uZmlndXJhYmxlLCBhcyBpbiBkZXZ0b29sLCB0aGUgZ2V0dGVyIGNvdWxkIGJlIGludm9rZWQgb24gdGhlIHByb3RvdHlwZSxcbiAgICAvLyBhbmQgYmVjb21lIHBlcm1hbmVudGx5IGJyb2tlblxuICAgIGRlZihwcm90bywgJ3N1YnMnLCB7IGdldDogZ2V0U3Vic2NyaWJlclJlY29yZCB9KTtcbiAgICBlbnN1cmVQcm90byhwcm90bywgJ3N1YnNjcmliZScsIGFkZFN1YnNjcmliZXIpO1xuICAgIGVuc3VyZVByb3RvKHByb3RvLCAndW5zdWJzY3JpYmUnLCByZW1vdmVTdWJzY3JpYmVyKTtcbn1cbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xuZXhwb3J0IGNsYXNzIFN1YnNjcmliZXJSZWNvcmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogc3Vic2NyaWJlciBmbGFnczogYml0cyBpbmRpY2F0aW5nIHRoZSBleGlzdGVuY2Ugc3RhdHVzIG9mIHRoZSBzdWJzY3JpYmVycyBvZiB0aGlzIHJlY29yZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2YgPSAwIC8qIE5vbmUgKi87XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgIH1cbiAgICBhZGQoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5oYXMoc3Vic2NyaWJlcikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdWJzY3JpYmVyRmxhZ3MgPSB0aGlzLl9zZjtcbiAgICAgICAgaWYgKChzdWJzY3JpYmVyRmxhZ3MgJiAxIC8qIFN1YnNjcmliZXIwICovKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fczAgPSBzdWJzY3JpYmVyO1xuICAgICAgICAgICAgdGhpcy5fc2YgfD0gMSAvKiBTdWJzY3JpYmVyMCAqLztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoc3Vic2NyaWJlckZsYWdzICYgMiAvKiBTdWJzY3JpYmVyMSAqLykgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3MxID0gc3Vic2NyaWJlcjtcbiAgICAgICAgICAgIHRoaXMuX3NmIHw9IDIgLyogU3Vic2NyaWJlcjEgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHN1YnNjcmliZXJGbGFncyAmIDQgLyogU3Vic2NyaWJlcjIgKi8pID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9zMiA9IHN1YnNjcmliZXI7XG4gICAgICAgICAgICB0aGlzLl9zZiB8PSA0IC8qIFN1YnNjcmliZXIyICovO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChzdWJzY3JpYmVyRmxhZ3MgJiA4IC8qIFN1YnNjcmliZXJzUmVzdCAqLykgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3NyID0gW3N1YnNjcmliZXJdO1xuICAgICAgICAgICAgdGhpcy5fc2YgfD0gOCAvKiBTdWJzY3JpYmVyc1Jlc3QgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zci5wdXNoKHN1YnNjcmliZXIpOyAvLyBOb24tbnVsbCBpcyBpbXBsaWVkIGJ5IGVsc2UgYnJhbmNoIG9mIChzdWJzY3JpYmVyRmxhZ3MgJiBTRi5TdWJzY3JpYmVyc1Jlc3QpID09PSAwXG4gICAgICAgIH1cbiAgICAgICAgKyt0aGlzLmNvdW50O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaGFzKHN1YnNjcmliZXIpIHtcbiAgICAgICAgLy8gRmxhZ3MgaGVyZSBpcyBqdXN0IGEgcGVyZiB0d2Vha1xuICAgICAgICAvLyBDb21wYXJlZCB0byBub3QgdXNpbmcgZmxhZ3MsIGl0J3MgYSBtb2RlcmF0ZSBzcGVlZC11cCB3aGVuIHRoaXMgY29sbGVjdGlvbiBkb2VzIG5vdCBoYXZlIHRoZSBzdWJzY3JpYmVyO1xuICAgICAgICAvLyBhbmQgbWlub3Igc2xvdy1kb3duIHdoZW4gaXQgZG9lcywgYW5kIHRoZSBmb3JtZXIgaXMgbW9yZSBjb21tb24gdGhhbiB0aGUgbGF0dGVyLlxuICAgICAgICBjb25zdCBzdWJzY3JpYmVyRmxhZ3MgPSB0aGlzLl9zZjtcbiAgICAgICAgaWYgKChzdWJzY3JpYmVyRmxhZ3MgJiAxIC8qIFN1YnNjcmliZXIwICovKSA+IDAgJiYgdGhpcy5fczAgPT09IHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc3Vic2NyaWJlckZsYWdzICYgMiAvKiBTdWJzY3JpYmVyMSAqLykgPiAwICYmIHRoaXMuX3MxID09PSBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHN1YnNjcmliZXJGbGFncyAmIDQgLyogU3Vic2NyaWJlcjIgKi8pID4gMCAmJiB0aGlzLl9zMiA9PT0gc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzdWJzY3JpYmVyRmxhZ3MgJiA4IC8qIFN1YnNjcmliZXJzUmVzdCAqLykgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpYmVycyA9IHRoaXMuX3NyOyAvLyBOb24tbnVsbCBpcyBpbXBsaWVkIGJ5IChzdWJzY3JpYmVyRmxhZ3MgJiBTRi5TdWJzY3JpYmVyc1Jlc3QpID4gMFxuICAgICAgICAgICAgY29uc3QgaWkgPSBzdWJzY3JpYmVycy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlcnNbaV0gPT09IHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYW55KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2YgIT09IDAgLyogTm9uZSAqLztcbiAgICB9XG4gICAgcmVtb3ZlKHN1YnNjcmliZXIpIHtcbiAgICAgICAgY29uc3Qgc3Vic2NyaWJlckZsYWdzID0gdGhpcy5fc2Y7XG4gICAgICAgIGlmICgoc3Vic2NyaWJlckZsYWdzICYgMSAvKiBTdWJzY3JpYmVyMCAqLykgPiAwICYmIHRoaXMuX3MwID09PSBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9zMCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMuX3NmID0gKHRoaXMuX3NmIHwgMSAvKiBTdWJzY3JpYmVyMCAqLykgXiAxIC8qIFN1YnNjcmliZXIwICovO1xuICAgICAgICAgICAgLS10aGlzLmNvdW50O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHN1YnNjcmliZXJGbGFncyAmIDIgLyogU3Vic2NyaWJlcjEgKi8pID4gMCAmJiB0aGlzLl9zMSA9PT0gc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdGhpcy5fczEgPSB2b2lkIDA7XG4gICAgICAgICAgICB0aGlzLl9zZiA9ICh0aGlzLl9zZiB8IDIgLyogU3Vic2NyaWJlcjEgKi8pIF4gMiAvKiBTdWJzY3JpYmVyMSAqLztcbiAgICAgICAgICAgIC0tdGhpcy5jb3VudDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChzdWJzY3JpYmVyRmxhZ3MgJiA0IC8qIFN1YnNjcmliZXIyICovKSA+IDAgJiYgdGhpcy5fczIgPT09IHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3MyID0gdm9pZCAwO1xuICAgICAgICAgICAgdGhpcy5fc2YgPSAodGhpcy5fc2YgfCA0IC8qIFN1YnNjcmliZXIyICovKSBeIDQgLyogU3Vic2NyaWJlcjIgKi87XG4gICAgICAgICAgICAtLXRoaXMuY291bnQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoc3Vic2NyaWJlckZsYWdzICYgOCAvKiBTdWJzY3JpYmVyc1Jlc3QgKi8pID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaWJlcnMgPSB0aGlzLl9zcjsgLy8gTm9uLW51bGwgaXMgaW1wbGllZCBieSAoc3Vic2NyaWJlckZsYWdzICYgU0YuU3Vic2NyaWJlcnNSZXN0KSA+IDBcbiAgICAgICAgICAgIGNvbnN0IGlpID0gc3Vic2NyaWJlcnMubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXJzW2ldID09PSBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZiA9ICh0aGlzLl9zZiB8IDggLyogU3Vic2NyaWJlcnNSZXN0ICovKSBeIDggLyogU3Vic2NyaWJlcnNSZXN0ICovO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC0tdGhpcy5jb3VudDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbm90aWZ5KHZhbCwgb2xkVmFsLCBmbGFncykge1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90ZTogY2hhbmdlIGhhbmRsZXJzIG1heSBoYXZlIHRoZSBzaWRlLWVmZmVjdCBvZiBhZGRpbmcvcmVtb3Zpbmcgc3Vic2NyaWJlcnMgdG8gdGhpcyBjb2xsZWN0aW9uIGR1cmluZyB0aGlzXG4gICAgICAgICAqIGNhbGxTdWJzY3JpYmVycyBpbnZvY2F0aW9uLCBzbyB3ZSdyZSBjYWNoaW5nIHRoZW0gYWxsIGJlZm9yZSBpbnZva2luZyBhbnkuXG4gICAgICAgICAqIFN1YnNjcmliZXJzIGFkZGVkIGR1cmluZyB0aGlzIGludm9jYXRpb24gYXJlIG5vdCBpbnZva2VkIChhbmQgdGhleSBzaG91bGRuJ3QgYmUpLlxuICAgICAgICAgKiBTdWJzY3JpYmVycyByZW1vdmVkIGR1cmluZyB0aGlzIGludm9jYXRpb24gd2lsbCBzdGlsbCBiZSBpbnZva2VkIChhbmQgdGhleSBhbHNvIHNob3VsZG4ndCBiZSxcbiAgICAgICAgICogaG93ZXZlciB0aGlzIGlzIGFjY291bnRlZCBmb3IgdmlhICRpc0JvdW5kIGFuZCBzaW1pbGFyIGZsYWdzIG9uIHRoZSBzdWJzY3JpYmVyIG9iamVjdHMpXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBzdWIwID0gdGhpcy5fczA7XG4gICAgICAgIGNvbnN0IHN1YjEgPSB0aGlzLl9zMTtcbiAgICAgICAgY29uc3Qgc3ViMiA9IHRoaXMuX3MyO1xuICAgICAgICBsZXQgc3VicyA9IHRoaXMuX3NyO1xuICAgICAgICBpZiAoc3VicyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzdWJzID0gc3Vicy5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdWIwICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHN1YjAuaGFuZGxlQ2hhbmdlKHZhbCwgb2xkVmFsLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1YjEgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgc3ViMS5oYW5kbGVDaGFuZ2UodmFsLCBvbGRWYWwsIGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3ViMiAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzdWIyLmhhbmRsZUNoYW5nZSh2YWwsIG9sZFZhbCwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdWJzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IGlpID0gc3Vicy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgc3ViO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgc3ViID0gc3Vic1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoc3ViICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViLmhhbmRsZUNoYW5nZSh2YWwsIG9sZFZhbCwgZmxhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBub3RpZnlDb2xsZWN0aW9uKGluZGV4TWFwLCBmbGFncykge1xuICAgICAgICBjb25zdCBzdWIwID0gdGhpcy5fczA7XG4gICAgICAgIGNvbnN0IHN1YjEgPSB0aGlzLl9zMTtcbiAgICAgICAgY29uc3Qgc3ViMiA9IHRoaXMuX3MyO1xuICAgICAgICBsZXQgc3VicyA9IHRoaXMuX3NyO1xuICAgICAgICBpZiAoc3VicyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzdWJzID0gc3Vicy5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdWIwICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHN1YjAuaGFuZGxlQ29sbGVjdGlvbkNoYW5nZShpbmRleE1hcCwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdWIxICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHN1YjEuaGFuZGxlQ29sbGVjdGlvbkNoYW5nZShpbmRleE1hcCwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdWIyICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHN1YjIuaGFuZGxlQ29sbGVjdGlvbkNoYW5nZShpbmRleE1hcCwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdWJzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IGlpID0gc3Vicy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgc3ViO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgc3ViID0gc3Vic1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoc3ViICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViLmhhbmRsZUNvbGxlY3Rpb25DaGFuZ2UoaW5kZXhNYXAsIGZsYWdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBnZXRTdWJzY3JpYmVyUmVjb3JkKCkge1xuICAgIGNvbnN0IHJlY29yZCA9IG5ldyBTdWJzY3JpYmVyUmVjb3JkKCk7XG4gICAgZGVmaW5lSGlkZGVuUHJvcCh0aGlzLCAnc3VicycsIHJlY29yZCk7XG4gICAgcmV0dXJuIHJlY29yZDtcbn1cbmZ1bmN0aW9uIGFkZFN1YnNjcmliZXIoc3Vic2NyaWJlcikge1xuICAgIHJldHVybiB0aGlzLnN1YnMuYWRkKHN1YnNjcmliZXIpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3Vic2NyaWJlcihzdWJzY3JpYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Vicy5yZW1vdmUoc3Vic2NyaWJlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVyLWNvbGxlY3Rpb24uanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/observation/subscriber-collection.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"def\": () => (/* binding */ def),\n/* harmony export */   \"defineHiddenProp\": () => (/* binding */ defineHiddenProp),\n/* harmony export */   \"ensureProto\": () => (/* binding */ ensureProto)\n/* harmony export */ });\nconst def = Reflect.defineProperty;\nfunction defineHiddenProp(obj, key, value) {\n    def(obj, key, {\n        enumerable: false,\n        configurable: true,\n        writable: true,\n        value\n    });\n}\nfunction ensureProto(proto, key, defaultValue, force = false) {\n    if (force || !Object.prototype.hasOwnProperty.call(proto, key)) {\n        defineHiddenProp(proto, key, defaultValue);\n    }\n}\n//# sourceMappingURL=utilities-objects.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS91dGlsaXRpZXMtb2JqZWN0cy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9AYXVyZWxpYS9ydW50aW1lL2Rpc3QvZXNtL3V0aWxpdGllcy1vYmplY3RzLmpzP2UyZDIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGRlZiA9IFJlZmxlY3QuZGVmaW5lUHJvcGVydHk7XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lSGlkZGVuUHJvcChvYmosIGtleSwgdmFsdWUpIHtcbiAgICBkZWYob2JqLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlUHJvdG8ocHJvdG8sIGtleSwgZGVmYXVsdFZhbHVlLCBmb3JjZSA9IGZhbHNlKSB7XG4gICAgaWYgKGZvcmNlIHx8ICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvdG8sIGtleSkpIHtcbiAgICAgICAgZGVmaW5lSGlkZGVuUHJvcChwcm90bywga2V5LCBkZWZhdWx0VmFsdWUpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxpdGllcy1vYmplY3RzLmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/utilities-objects.js\n");

/***/ }),

/***/ "./node_modules/@aurelia/runtime/dist/esm/value-converter.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@aurelia/runtime/dist/esm/value-converter.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"valueConverter\": () => (/* binding */ valueConverter),\n/* harmony export */   \"ValueConverterDefinition\": () => (/* binding */ ValueConverterDefinition),\n/* harmony export */   \"ValueConverter\": () => (/* binding */ ValueConverter)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _alias_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./alias.js */ \"./node_modules/@aurelia/runtime/dist/esm/alias.js\");\n\n\nfunction valueConverter(nameOrDef) {\n    return function (target) {\n        return ValueConverter.define(nameOrDef, target);\n    };\n}\nclass ValueConverterDefinition {\n    constructor(Type, name, aliases, key) {\n        this.Type = Type;\n        this.name = name;\n        this.aliases = aliases;\n        this.key = key;\n    }\n    static create(nameOrDef, Type) {\n        let name;\n        let def;\n        if (typeof nameOrDef === 'string') {\n            name = nameOrDef;\n            def = { name };\n        }\n        else {\n            name = nameOrDef.name;\n            def = nameOrDef;\n        }\n        return new ValueConverterDefinition(Type, (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.firstDefined)(ValueConverter.getAnnotation(Type, 'name'), name), (0,_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.mergeArrays)(ValueConverter.getAnnotation(Type, 'aliases'), def.aliases, Type.aliases), ValueConverter.keyFrom(name));\n    }\n    register(container) {\n        const { Type, key, aliases } = this;\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.singleton(key, Type).register(container);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.aliasTo(key, Type).register(container);\n        (0,_alias_js__WEBPACK_IMPORTED_MODULE_1__.registerAliases)(aliases, ValueConverter, key, container);\n    }\n}\nconst ValueConverter = {\n    name: _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.keyFor('value-converter'),\n    keyFrom(name) {\n        return `${ValueConverter.name}:${name}`;\n    },\n    isType(value) {\n        return typeof value === 'function' && _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.hasOwn(ValueConverter.name, value);\n    },\n    define(nameOrDef, Type) {\n        const definition = ValueConverterDefinition.create(nameOrDef, Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(ValueConverter.name, definition, definition.Type);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(ValueConverter.name, definition, definition);\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.resource.appendTo(Type, ValueConverter.name);\n        return definition.Type;\n    },\n    getDefinition(Type) {\n        const def = _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(ValueConverter.name, Type);\n        if (def === void 0) {\n            throw new Error(`No definition found for type ${Type.name}`);\n        }\n        return def;\n    },\n    annotate(Type, prop, value) {\n        _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.define(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor(prop), value, Type);\n    },\n    getAnnotation(Type, prop) {\n        return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata.getOwn(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Protocol.annotation.keyFor(prop), Type);\n    },\n};\n//# sourceMappingURL=value-converter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS92YWx1ZS1jb252ZXJ0ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvQGF1cmVsaWEvcnVudGltZS9kaXN0L2VzbS92YWx1ZS1jb252ZXJ0ZXIuanM/NmY4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWdpc3RyYXRpb24sIE1ldGFkYXRhLCBQcm90b2NvbCwgbWVyZ2VBcnJheXMsIGZpcnN0RGVmaW5lZCwgfSBmcm9tICdAYXVyZWxpYS9rZXJuZWwnO1xuaW1wb3J0IHsgcmVnaXN0ZXJBbGlhc2VzIH0gZnJvbSAnLi9hbGlhcy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gdmFsdWVDb252ZXJ0ZXIobmFtZU9yRGVmKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIFZhbHVlQ29udmVydGVyLmRlZmluZShuYW1lT3JEZWYsIHRhcmdldCk7XG4gICAgfTtcbn1cbmV4cG9ydCBjbGFzcyBWYWx1ZUNvbnZlcnRlckRlZmluaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKFR5cGUsIG5hbWUsIGFsaWFzZXMsIGtleSkge1xuICAgICAgICB0aGlzLlR5cGUgPSBUeXBlO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmFsaWFzZXMgPSBhbGlhc2VzO1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShuYW1lT3JEZWYsIFR5cGUpIHtcbiAgICAgICAgbGV0IG5hbWU7XG4gICAgICAgIGxldCBkZWY7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZU9yRGVmID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWVPckRlZjtcbiAgICAgICAgICAgIGRlZiA9IHsgbmFtZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWVPckRlZi5uYW1lO1xuICAgICAgICAgICAgZGVmID0gbmFtZU9yRGVmO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWVDb252ZXJ0ZXJEZWZpbml0aW9uKFR5cGUsIGZpcnN0RGVmaW5lZChWYWx1ZUNvbnZlcnRlci5nZXRBbm5vdGF0aW9uKFR5cGUsICduYW1lJyksIG5hbWUpLCBtZXJnZUFycmF5cyhWYWx1ZUNvbnZlcnRlci5nZXRBbm5vdGF0aW9uKFR5cGUsICdhbGlhc2VzJyksIGRlZi5hbGlhc2VzLCBUeXBlLmFsaWFzZXMpLCBWYWx1ZUNvbnZlcnRlci5rZXlGcm9tKG5hbWUpKTtcbiAgICB9XG4gICAgcmVnaXN0ZXIoY29udGFpbmVyKSB7XG4gICAgICAgIGNvbnN0IHsgVHlwZSwga2V5LCBhbGlhc2VzIH0gPSB0aGlzO1xuICAgICAgICBSZWdpc3RyYXRpb24uc2luZ2xldG9uKGtleSwgVHlwZSkucmVnaXN0ZXIoY29udGFpbmVyKTtcbiAgICAgICAgUmVnaXN0cmF0aW9uLmFsaWFzVG8oa2V5LCBUeXBlKS5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAgICByZWdpc3RlckFsaWFzZXMoYWxpYXNlcywgVmFsdWVDb252ZXJ0ZXIsIGtleSwgY29udGFpbmVyKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgVmFsdWVDb252ZXJ0ZXIgPSB7XG4gICAgbmFtZTogUHJvdG9jb2wucmVzb3VyY2Uua2V5Rm9yKCd2YWx1ZS1jb252ZXJ0ZXInKSxcbiAgICBrZXlGcm9tKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGAke1ZhbHVlQ29udmVydGVyLm5hbWV9OiR7bmFtZX1gO1xuICAgIH0sXG4gICAgaXNUeXBlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiYgTWV0YWRhdGEuaGFzT3duKFZhbHVlQ29udmVydGVyLm5hbWUsIHZhbHVlKTtcbiAgICB9LFxuICAgIGRlZmluZShuYW1lT3JEZWYsIFR5cGUpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IFZhbHVlQ29udmVydGVyRGVmaW5pdGlvbi5jcmVhdGUobmFtZU9yRGVmLCBUeXBlKTtcbiAgICAgICAgTWV0YWRhdGEuZGVmaW5lKFZhbHVlQ29udmVydGVyLm5hbWUsIGRlZmluaXRpb24sIGRlZmluaXRpb24uVHlwZSk7XG4gICAgICAgIE1ldGFkYXRhLmRlZmluZShWYWx1ZUNvbnZlcnRlci5uYW1lLCBkZWZpbml0aW9uLCBkZWZpbml0aW9uKTtcbiAgICAgICAgUHJvdG9jb2wucmVzb3VyY2UuYXBwZW5kVG8oVHlwZSwgVmFsdWVDb252ZXJ0ZXIubmFtZSk7XG4gICAgICAgIHJldHVybiBkZWZpbml0aW9uLlR5cGU7XG4gICAgfSxcbiAgICBnZXREZWZpbml0aW9uKFR5cGUpIHtcbiAgICAgICAgY29uc3QgZGVmID0gTWV0YWRhdGEuZ2V0T3duKFZhbHVlQ29udmVydGVyLm5hbWUsIFR5cGUpO1xuICAgICAgICBpZiAoZGVmID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZGVmaW5pdGlvbiBmb3VuZCBmb3IgdHlwZSAke1R5cGUubmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmO1xuICAgIH0sXG4gICAgYW5ub3RhdGUoVHlwZSwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgTWV0YWRhdGEuZGVmaW5lKFByb3RvY29sLmFubm90YXRpb24ua2V5Rm9yKHByb3ApLCB2YWx1ZSwgVHlwZSk7XG4gICAgfSxcbiAgICBnZXRBbm5vdGF0aW9uKFR5cGUsIHByb3ApIHtcbiAgICAgICAgcmV0dXJuIE1ldGFkYXRhLmdldE93bihQcm90b2NvbC5hbm5vdGF0aW9uLmtleUZvcihwcm9wKSwgVHlwZSk7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWx1ZS1jb252ZXJ0ZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@aurelia/runtime/dist/esm/value-converter.js\n");

/***/ }),

/***/ "./app/app.html":
/*!**********************!*\
  !*** ./app/app.html ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"name\": () => (/* binding */ name),\n/* harmony export */   \"template\": () => (/* binding */ template),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"dependencies\": () => (/* binding */ dependencies),\n/* harmony export */   \"register\": () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _app_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app.css */ \"./app/app.css\");\n\n\n\nconst name = \"app\";\nconst template = \"<h1>${message}</h1>\\n\\n<p>This is an Aurelia app, powered by ASP.NET Core.</p>\";\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\nconst dependencies = [ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_1__.Registration.defer('.css', _app_css__WEBPACK_IMPORTED_MODULE_2__.default) ];\nlet _e;\nfunction register(container) {\n  if (!_e) {\n    _e = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_0__.CustomElement.define({ name, template, dependencies });\n  }\n  container.register(_e);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvYXBwLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9hcHAvYXBwLmh0bWw/MGVkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDdXN0b21FbGVtZW50IH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZS1odG1sJztcbmltcG9ydCB7IFJlZ2lzdHJhdGlvbiB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgZDAgZnJvbSBcIi4vYXBwLmNzc1wiO1xuZXhwb3J0IGNvbnN0IG5hbWUgPSBcImFwcFwiO1xuZXhwb3J0IGNvbnN0IHRlbXBsYXRlID0gXCI8aDE+JHttZXNzYWdlfTwvaDE+XFxuXFxuPHA+VGhpcyBpcyBhbiBBdXJlbGlhIGFwcCwgcG93ZXJlZCBieSBBU1AuTkVUIENvcmUuPC9wPlwiO1xuZXhwb3J0IGRlZmF1bHQgdGVtcGxhdGU7XG5leHBvcnQgY29uc3QgZGVwZW5kZW5jaWVzID0gWyBSZWdpc3RyYXRpb24uZGVmZXIoJy5jc3MnLCBkMCkgXTtcbmxldCBfZTtcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgaWYgKCFfZSkge1xuICAgIF9lID0gQ3VzdG9tRWxlbWVudC5kZWZpbmUoeyBuYW1lLCB0ZW1wbGF0ZSwgZGVwZW5kZW5jaWVzIH0pO1xuICB9XG4gIGNvbnRhaW5lci5yZWdpc3RlcihfZSk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/app.html\n");

/***/ }),

/***/ "./node_modules/aurelia/dist/esm/index.js":
/*!************************************************!*\
  !*** ./node_modules/aurelia/dist/esm/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PLATFORM\": () => (/* binding */ PLATFORM),\n/* harmony export */   \"IPlatform\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IPlatform),\n/* harmony export */   \"Aurelia\": () => (/* binding */ Aurelia),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"json\": () => (/* reexport safe */ _aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_3__.json),\n/* harmony export */   \"HttpClientConfiguration\": () => (/* reexport safe */ _aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_3__.HttpClientConfiguration),\n/* harmony export */   \"HttpClient\": () => (/* reexport safe */ _aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_3__.HttpClient),\n/* harmony export */   \"IHttpClient\": () => (/* reexport safe */ _aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_3__.IHttpClient),\n/* harmony export */   \"all\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.all),\n/* harmony export */   \"DI\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI),\n/* harmony export */   \"IContainer\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IContainer),\n/* harmony export */   \"inject\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.inject),\n/* harmony export */   \"IServiceLocator\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IServiceLocator),\n/* harmony export */   \"lazy\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.lazy),\n/* harmony export */   \"optional\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.optional),\n/* harmony export */   \"Registration\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration),\n/* harmony export */   \"singleton\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.singleton),\n/* harmony export */   \"transient\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.transient),\n/* harmony export */   \"InstanceProvider\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.InstanceProvider),\n/* harmony export */   \"Metadata\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Metadata),\n/* harmony export */   \"ColorOptions\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ColorOptions),\n/* harmony export */   \"ILogger\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ILogger),\n/* harmony export */   \"ConsoleSink\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.ConsoleSink),\n/* harmony export */   \"LoggerConfiguration\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.LoggerConfiguration),\n/* harmony export */   \"emptyArray\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyArray),\n/* harmony export */   \"emptyObject\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.emptyObject),\n/* harmony export */   \"noop\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.noop),\n/* harmony export */   \"LogLevel\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.LogLevel),\n/* harmony export */   \"EventAggregator\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.EventAggregator),\n/* harmony export */   \"IEventAggregator\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.IEventAggregator),\n/* harmony export */   \"isArrayIndex\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.isArrayIndex),\n/* harmony export */   \"camelCase\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.camelCase),\n/* harmony export */   \"kebabCase\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.kebabCase),\n/* harmony export */   \"pascalCase\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.pascalCase),\n/* harmony export */   \"toArray\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.toArray),\n/* harmony export */   \"bound\": () => (/* reexport safe */ _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.bound),\n/* harmony export */   \"RouterOptions\": () => (/* reexport safe */ _aurelia_router__WEBPACK_IMPORTED_MODULE_4__.RouterOptions),\n/* harmony export */   \"IRouter\": () => (/* reexport safe */ _aurelia_router__WEBPACK_IMPORTED_MODULE_4__.IRouter),\n/* harmony export */   \"IRouterEvents\": () => (/* reexport safe */ _aurelia_router__WEBPACK_IMPORTED_MODULE_4__.IRouterEvents),\n/* harmony export */   \"Router\": () => (/* reexport safe */ _aurelia_router__WEBPACK_IMPORTED_MODULE_4__.Router),\n/* harmony export */   \"RouteNode\": () => (/* reexport safe */ _aurelia_router__WEBPACK_IMPORTED_MODULE_4__.RouteNode),\n/* harmony export */   \"route\": () => (/* reexport safe */ _aurelia_router__WEBPACK_IMPORTED_MODULE_4__.route),\n/* harmony export */   \"Route\": () => (/* reexport safe */ _aurelia_router__WEBPACK_IMPORTED_MODULE_4__.Route),\n/* harmony export */   \"RouteConfig\": () => (/* reexport safe */ _aurelia_router__WEBPACK_IMPORTED_MODULE_4__.RouteConfig),\n/* harmony export */   \"IRouteContext\": () => (/* reexport safe */ _aurelia_router__WEBPACK_IMPORTED_MODULE_4__.IRouteContext),\n/* harmony export */   \"RouterConfiguration\": () => (/* reexport safe */ _aurelia_router__WEBPACK_IMPORTED_MODULE_4__.RouterConfiguration),\n/* harmony export */   \"RouterRegistration\": () => (/* reexport safe */ _aurelia_router__WEBPACK_IMPORTED_MODULE_4__.RouterRegistration),\n/* harmony export */   \"ComputedObserver\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ComputedObserver),\n/* harmony export */   \"ComputedWatcher\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ComputedWatcher),\n/* harmony export */   \"ExpressionWatcher\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ExpressionWatcher),\n/* harmony export */   \"Watch\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.Watch),\n/* harmony export */   \"watch\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.watch),\n/* harmony export */   \"IObserverLocator\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IObserverLocator),\n/* harmony export */   \"ISignaler\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ISignaler),\n/* harmony export */   \"subscriberCollection\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.subscriberCollection),\n/* harmony export */   \"bindingBehavior\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindingBehavior),\n/* harmony export */   \"BindingBehavior\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.BindingBehavior),\n/* harmony export */   \"customAttribute\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.customAttribute),\n/* harmony export */   \"CustomAttribute\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomAttribute),\n/* harmony export */   \"templateController\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.templateController),\n/* harmony export */   \"containerless\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.containerless),\n/* harmony export */   \"customElement\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.customElement),\n/* harmony export */   \"CustomElement\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement),\n/* harmony export */   \"useShadowDOM\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.useShadowDOM),\n/* harmony export */   \"ValueConverter\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ValueConverter),\n/* harmony export */   \"valueConverter\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.valueConverter),\n/* harmony export */   \"AppTask\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.AppTask),\n/* harmony export */   \"TaskQueuePriority\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.TaskQueuePriority),\n/* harmony export */   \"bindable\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindable),\n/* harmony export */   \"Bindable\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.Bindable),\n/* harmony export */   \"children\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.children),\n/* harmony export */   \"Controller\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.Controller),\n/* harmony export */   \"ViewFactory\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ViewFactory),\n/* harmony export */   \"IAppRoot\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IAppRoot),\n/* harmony export */   \"IWorkTracker\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IWorkTracker),\n/* harmony export */   \"alias\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.alias),\n/* harmony export */   \"registerAliases\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.registerAliases),\n/* harmony export */   \"INode\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.INode),\n/* harmony export */   \"IEventTarget\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IEventTarget),\n/* harmony export */   \"IRenderLocation\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IRenderLocation),\n/* harmony export */   \"BindingMode\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.BindingMode),\n/* harmony export */   \"LifecycleFlags\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.LifecycleFlags),\n/* harmony export */   \"renderer\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.renderer),\n/* harmony export */   \"IAurelia\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IAurelia),\n/* harmony export */   \"NodeObserverLocator\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.NodeObserverLocator),\n/* harmony export */   \"IAuSlotsInfo\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IAuSlotsInfo),\n/* harmony export */   \"AuSlotsInfo\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.AuSlotsInfo),\n/* harmony export */   \"attributePattern\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.attributePattern),\n/* harmony export */   \"IAttributePattern\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IAttributePattern),\n/* harmony export */   \"IAttrSyntaxTransformer\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IAttrSyntaxTransformer),\n/* harmony export */   \"bindingCommand\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.bindingCommand),\n/* harmony export */   \"getTarget\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.getTarget),\n/* harmony export */   \"ShortHandBindingSyntax\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ShortHandBindingSyntax),\n/* harmony export */   \"createElement\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.createElement),\n/* harmony export */   \"StyleConfiguration\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.StyleConfiguration),\n/* harmony export */   \"cssModules\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.cssModules),\n/* harmony export */   \"shadowCSS\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.shadowCSS),\n/* harmony export */   \"ILifecycleHooks\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.ILifecycleHooks),\n/* harmony export */   \"LifecycleHooks\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.LifecycleHooks),\n/* harmony export */   \"lifecycleHooks\": () => (/* reexport safe */ _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.lifecycleHooks)\n/* harmony export */ });\n/* harmony import */ var _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aurelia/kernel */ \"./node_modules/@aurelia/kernel/dist/esm/index.js\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\n/* harmony import */ var _aurelia_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aurelia/platform-browser */ \"./node_modules/@aurelia/platform-browser/dist/esm/index.js\");\n/* harmony import */ var _aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @aurelia/fetch-client */ \"./node_modules/@aurelia/fetch-client/dist/esm/index.js\");\n/* harmony import */ var _aurelia_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @aurelia/router */ \"./node_modules/@aurelia/router/dist/esm/index.js\");\n\n\n\nconst PLATFORM = _aurelia_platform_browser__WEBPACK_IMPORTED_MODULE_2__.BrowserPlatform.getOrCreate(globalThis);\n\nfunction createContainer() {\n    return _aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.DI.createContainer()\n        .register(_aurelia_kernel__WEBPACK_IMPORTED_MODULE_0__.Registration.instance(_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.IPlatform, PLATFORM), _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.StandardConfiguration);\n}\nclass Aurelia extends _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.Aurelia {\n    constructor(container = createContainer()) {\n        super(container);\n    }\n    static start(root) {\n        return new Aurelia().start(root);\n    }\n    static app(config) {\n        return new Aurelia().app(config);\n    }\n    static enhance(config) {\n        return new Aurelia().enhance(config);\n    }\n    static register(...params) {\n        return new Aurelia().register(...params);\n    }\n    app(config) {\n        if (_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement.isType(config)) {\n            // Default to custom element element name\n            const definition = _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.CustomElement.getDefinition(config);\n            let host = document.querySelector(definition.name);\n            if (host === null) {\n                // When no target is found, default to body.\n                // For example, when user forgot to write <my-app></my-app> in html.\n                host = document.body;\n            }\n            return super.app({\n                host: host,\n                component: config\n            });\n        }\n        return super.app(config);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Aurelia);\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYXVyZWxpYS9kaXN0L2VzbS9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL25vZGVfbW9kdWxlcy9hdXJlbGlhL2Rpc3QvZXNtL2luZGV4LmpzPzE0MDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREksIFJlZ2lzdHJhdGlvbiB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5pbXBvcnQgeyBTdGFuZGFyZENvbmZpZ3VyYXRpb24sIEF1cmVsaWEgYXMgJEF1cmVsaWEsIElQbGF0Zm9ybSwgQ3VzdG9tRWxlbWVudCB9IGZyb20gJ0BhdXJlbGlhL3J1bnRpbWUtaHRtbCc7XG5pbXBvcnQgeyBCcm93c2VyUGxhdGZvcm0gfSBmcm9tICdAYXVyZWxpYS9wbGF0Zm9ybS1icm93c2VyJztcbmV4cG9ydCBjb25zdCBQTEFURk9STSA9IEJyb3dzZXJQbGF0Zm9ybS5nZXRPckNyZWF0ZShnbG9iYWxUaGlzKTtcbmV4cG9ydCB7IElQbGF0Zm9ybSB9O1xuZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyKCkge1xuICAgIHJldHVybiBESS5jcmVhdGVDb250YWluZXIoKVxuICAgICAgICAucmVnaXN0ZXIoUmVnaXN0cmF0aW9uLmluc3RhbmNlKElQbGF0Zm9ybSwgUExBVEZPUk0pLCBTdGFuZGFyZENvbmZpZ3VyYXRpb24pO1xufVxuZXhwb3J0IGNsYXNzIEF1cmVsaWEgZXh0ZW5kcyAkQXVyZWxpYSB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKCkpIHtcbiAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcbiAgICB9XG4gICAgc3RhdGljIHN0YXJ0KHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdXJlbGlhKCkuc3RhcnQocm9vdCk7XG4gICAgfVxuICAgIHN0YXRpYyBhcHAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXVyZWxpYSgpLmFwcChjb25maWcpO1xuICAgIH1cbiAgICBzdGF0aWMgZW5oYW5jZShjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdXJlbGlhKCkuZW5oYW5jZShjb25maWcpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVnaXN0ZXIoLi4ucGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXVyZWxpYSgpLnJlZ2lzdGVyKC4uLnBhcmFtcyk7XG4gICAgfVxuICAgIGFwcChjb25maWcpIHtcbiAgICAgICAgaWYgKEN1c3RvbUVsZW1lbnQuaXNUeXBlKGNvbmZpZykpIHtcbiAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gY3VzdG9tIGVsZW1lbnQgZWxlbWVudCBuYW1lXG4gICAgICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gQ3VzdG9tRWxlbWVudC5nZXREZWZpbml0aW9uKGNvbmZpZyk7XG4gICAgICAgICAgICBsZXQgaG9zdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGVmaW5pdGlvbi5uYW1lKTtcbiAgICAgICAgICAgIGlmIChob3N0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBubyB0YXJnZXQgaXMgZm91bmQsIGRlZmF1bHQgdG8gYm9keS5cbiAgICAgICAgICAgICAgICAvLyBGb3IgZXhhbXBsZSwgd2hlbiB1c2VyIGZvcmdvdCB0byB3cml0ZSA8bXktYXBwPjwvbXktYXBwPiBpbiBodG1sLlxuICAgICAgICAgICAgICAgIGhvc3QgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmFwcCh7XG4gICAgICAgICAgICAgICAgaG9zdDogaG9zdCxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IGNvbmZpZ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLmFwcChjb25maWcpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEF1cmVsaWE7XG5leHBvcnQgeyBcbi8vIFJldHJ5Q29uZmlndXJhdGlvbixcbi8vIFJldHJ5YWJsZVJlcXVlc3QsXG4vLyBWYWxpZEludGVyY2VwdG9yTWV0aG9kTmFtZSxcbmpzb24sIFxuLy8gcmV0cnlTdHJhdGVneSxcbi8vIFJldHJ5SW50ZXJjZXB0b3IsXG5IdHRwQ2xpZW50Q29uZmlndXJhdGlvbiwgSHR0cENsaWVudCwgSUh0dHBDbGllbnQsIH0gZnJvbSAnQGF1cmVsaWEvZmV0Y2gtY2xpZW50JztcbmV4cG9ydCB7IGFsbCwgREksIElDb250YWluZXIsIFxuLy8gSURlZmF1bHRhYmxlSW50ZXJmYWNlU3ltYm9sLFxuLy8gSUZhY3RvcnksXG5pbmplY3QsIElTZXJ2aWNlTG9jYXRvciwgbGF6eSwgb3B0aW9uYWwsIFxuLy8gUmVnaXN0ZXJTZWxmLFxuUmVnaXN0cmF0aW9uLCBcbi8vIFJlc29sdmVDYWxsYmFjayxcbnNpbmdsZXRvbiwgdHJhbnNpZW50LCBcbi8vIEluamVjdGFibGUsXG4vLyBJbnRlcmZhY2VTeW1ib2wsXG5JbnN0YW5jZVByb3ZpZGVyLCBcbi8vIElQZXJmb3JtYW5jZSxcbi8vIElUaW1lckhhbmRsZXIsXG4vLyBJV2luZG93T3JXb3JrZXJHbG9iYWxTY29wZSxcbi8vIEtub3duS2V5cyxcbi8vIE5vSW5mZXIsXG4vLyBPbWl0LFxuLy8gT3B0aW9uYWxLbm93bktleXMsXG4vLyBPcHRpb25hbFZhbHVlc09mLFxuLy8gT3ZlcndyaXRlLFxuLy8gUGFyYW0wLFxuLy8gUGFyYW0xLFxuLy8gUGFyYW0yLFxuLy8gUGFyYW0zLFxuLy8gUGljazIsXG4vLyBQaWNrMyxcbi8vIFByaW1pdGl2ZSxcbi8vIFB1YmxpYyxcbi8vIFB1cmlmeSxcbi8vIFJlcXVpcmVkS25vd25LZXlzLFxuLy8gUmVxdWlyZWRWYWx1ZXNPZixcbi8vIFN0cmljdFByaW1pdGl2ZSxcbi8vIFVud3JhcCxcbi8vIFZhbHVlc09mLFxuLy8gV3JpdGFibGUsXG4vLyBJZkVxdWFscyxcbi8vIFJlYWRvbmx5S2V5cyxcbi8vIFdyaXRhYmxlS2V5cyxcbi8vIG1ldGFkYXRhLFxuTWV0YWRhdGEsIFxuLy8gSUNvbnNvbGVMaWtlLFxuQ29sb3JPcHRpb25zLCBcbi8vIElMb2dDb25maWcsXG4vLyBJTG9nRXZlbnQsXG4vLyBJTG9nRXZlbnRGYWN0b3J5LFxuLy8gSVNpbmssXG5JTG9nZ2VyLCBcbi8vIExvZ0NvbmZpZyxcbi8vIERlZmF1bHRMb2dFdmVudCxcbi8vIERlZmF1bHRMb2dFdmVudEZhY3RvcnksXG4vLyBEZWZhdWx0TG9nZ2VyLFxuQ29uc29sZVNpbmssIExvZ2dlckNvbmZpZ3VyYXRpb24sIFxuLy8gcmVsYXRpdmVUb0ZpbGUsXG4vLyBqb2luLFxuLy8gcGFyc2VRdWVyeVN0cmluZyxcbi8vIElRdWVyeVBhcmFtcyxcbmVtcHR5QXJyYXksIGVtcHR5T2JqZWN0LCBub29wLCBcbi8vIElUcmFjZUluZm8sXG4vLyBJVHJhY2VXcml0ZXIsXG4vLyBJTGl2ZUxvZ2dpbmdPcHRpb25zLFxuTG9nTGV2ZWwsIFxuLy8gSVJlc291cmNlRGVmaW5pdGlvbixcbi8vIElSZXNvdXJjZURlc2NyaXB0aW9ucyxcbi8vIElSZXNvdXJjZUtpbmQsXG4vLyBJUmVzb3VyY2VUeXBlLFxuLy8gUmVzb3VyY2VEZXNjcmlwdGlvbixcbi8vIFJlc291cmNlUGFydERlc2NyaXB0aW9uLFxuLy8gZnJvbUFubm90YXRpb25PckRlZmluaXRpb25PclR5cGVPckRlZmF1bHQsXG4vLyBmcm9tQW5ub3RhdGlvbk9yVHlwZU9yRGVmYXVsdCxcbi8vIGZyb21EZWZpbml0aW9uT3JEZWZhdWx0LFxuRXZlbnRBZ2dyZWdhdG9yLCBJRXZlbnRBZ2dyZWdhdG9yLCBpc0FycmF5SW5kZXgsIGNhbWVsQ2FzZSwga2ViYWJDYXNlLCBwYXNjYWxDYXNlLCB0b0FycmF5LCBcbi8vIG5leHRJZCxcbi8vIHJlc2V0SWQsXG4vLyBjb21wYXJlTnVtYmVyLFxuLy8gbWVyZ2VEaXN0aW5jdCxcbi8vIGlzTnVtYmVyT3JCaWdJbnQsXG4vLyBpc1N0cmluZ09yRGF0ZSxcbmJvdW5kLCB9IGZyb20gJ0BhdXJlbGlhL2tlcm5lbCc7XG5leHBvcnQgeyBSb3V0ZXJPcHRpb25zLCBJUm91dGVyLCBJUm91dGVyRXZlbnRzLCBSb3V0ZXIsIFJvdXRlTm9kZSwgcm91dGUsIFJvdXRlLCBSb3V0ZUNvbmZpZywgSVJvdXRlQ29udGV4dCwgUm91dGVyQ29uZmlndXJhdGlvbiwgUm91dGVyUmVnaXN0cmF0aW9uLCB9IGZyb20gJ0BhdXJlbGlhL3JvdXRlcic7XG5leHBvcnQgeyBcbi8vIENhbGxGdW5jdGlvbkV4cHJlc3Npb24sXG4vLyBjb25uZWN0cyxcbi8vIG9ic2VydmVzLFxuLy8gY2FsbHNGdW5jdGlvbixcbi8vIGhhc0FuY2VzdG9yLFxuLy8gaXNBc3NpZ25hYmxlLFxuLy8gaXNMZWZ0SGFuZFNpZGUsXG4vLyBpc1ByaW1hcnksXG4vLyBpc1Jlc291cmNlLFxuLy8gaGFzQmluZCxcbi8vIGhhc1VuYmluZCxcbi8vIGlzTGl0ZXJhbCxcbi8vIGFyZVB1cmVMaXRlcmFscyxcbi8vIGlzUHVyZUxpdGVyYWwsXG4vLyBDdXN0b21FeHByZXNzaW9uLFxuLy8gQmluZGluZ0JlaGF2aW9yRXhwcmVzc2lvbixcbi8vIFZhbHVlQ29udmVydGVyRXhwcmVzc2lvbixcbi8vIEFzc2lnbkV4cHJlc3Npb24sXG4vLyBDb25kaXRpb25hbEV4cHJlc3Npb24sXG4vLyBBY2Nlc3NUaGlzRXhwcmVzc2lvbixcbi8vIEFjY2Vzc1Njb3BlRXhwcmVzc2lvbixcbi8vIEFjY2Vzc01lbWJlckV4cHJlc3Npb24sXG4vLyBBY2Nlc3NLZXllZEV4cHJlc3Npb24sXG4vLyBDYWxsU2NvcGVFeHByZXNzaW9uLFxuLy8gQ2FsbE1lbWJlckV4cHJlc3Npb24sXG4vLyBCaW5hcnlFeHByZXNzaW9uLFxuLy8gVW5hcnlFeHByZXNzaW9uLFxuLy8gUHJpbWl0aXZlTGl0ZXJhbEV4cHJlc3Npb24sXG4vLyBIdG1sTGl0ZXJhbEV4cHJlc3Npb24sXG4vLyBBcnJheUxpdGVyYWxFeHByZXNzaW9uLFxuLy8gT2JqZWN0TGl0ZXJhbEV4cHJlc3Npb24sXG4vLyBUZW1wbGF0ZUV4cHJlc3Npb24sXG4vLyBUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24sXG4vLyBBcnJheUJpbmRpbmdQYXR0ZXJuLFxuLy8gT2JqZWN0QmluZGluZ1BhdHRlcm4sXG4vLyBCaW5kaW5nSWRlbnRpZmllcixcbi8vIEZvck9mU3RhdGVtZW50LFxuLy8gSW50ZXJwb2xhdGlvbixcbi8vIEFueUJpbmRpbmdFeHByZXNzaW9uLFxuLy8gSXNQcmltYXJ5LFxuLy8gSXNMaXRlcmFsLFxuLy8gSXNMZWZ0SGFuZFNpZGUsXG4vLyBJc1VuYXJ5LFxuLy8gSXNCaW5hcnksXG4vLyBJc0NvbmRpdGlvbmFsLFxuLy8gSXNBc3NpZ24sXG4vLyBJc1ZhbHVlQ29udmVydGVyLFxuLy8gSXNCaW5kaW5nQmVoYXZpb3IsXG4vLyBJc0Fzc2lnbmFibGUsXG4vLyBJc0V4cHJlc3Npb24sXG4vLyBJc0V4cHJlc3Npb25PclN0YXRlbWVudCxcbi8vIENvbm5lY3RzLFxuLy8gT2JzZXJ2ZXMsXG4vLyBDYWxsc0Z1bmN0aW9uLFxuLy8gSXNSZXNvdXJjZSxcbi8vIEhhc0JpbmQsXG4vLyBIYXNVbmJpbmQsXG4vLyBIYXNBbmNlc3Rvcixcbi8vIElWaXNpdG9yLFxuLy8gSUV4cHJlc3Npb24sXG4vLyBJQWNjZXNzS2V5ZWRFeHByZXNzaW9uLFxuLy8gSUFjY2Vzc01lbWJlckV4cHJlc3Npb24sXG4vLyBJQWNjZXNzU2NvcGVFeHByZXNzaW9uLFxuLy8gSUFjY2Vzc1RoaXNFeHByZXNzaW9uLFxuLy8gSUFycmF5QmluZGluZ1BhdHRlcm4sXG4vLyBJQXJyYXlMaXRlcmFsRXhwcmVzc2lvbixcbi8vIElBc3NpZ25FeHByZXNzaW9uLFxuLy8gSUJpbmFyeUV4cHJlc3Npb24sXG4vLyBJQmluZGluZ0JlaGF2aW9yRXhwcmVzc2lvbixcbi8vIElCaW5kaW5nSWRlbnRpZmllcixcbi8vIElDYWxsRnVuY3Rpb25FeHByZXNzaW9uLFxuLy8gSUNhbGxNZW1iZXJFeHByZXNzaW9uLFxuLy8gSUNhbGxTY29wZUV4cHJlc3Npb24sXG4vLyBJQ29uZGl0aW9uYWxFeHByZXNzaW9uLFxuLy8gRm9yT2ZTdGF0ZW1lbnQsXG4vLyBJSHRtbExpdGVyYWxFeHByZXNzaW9uLFxuLy8gSW50ZXJwb2xhdGlvbixcbi8vIElPYmplY3RCaW5kaW5nUGF0dGVybixcbi8vIElPYmplY3RMaXRlcmFsRXhwcmVzc2lvbixcbi8vIElQcmltaXRpdmVMaXRlcmFsRXhwcmVzc2lvbixcbi8vIElUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24sXG4vLyBJVGVtcGxhdGVFeHByZXNzaW9uLFxuLy8gSVVuYXJ5RXhwcmVzc2lvbixcbi8vIElWYWx1ZUNvbnZlcnRlckV4cHJlc3Npb24sXG4vLyBCaW5hcnlPcGVyYXRvcixcbi8vIEJpbmRpbmdJZGVudGlmaWVyT3JQYXR0ZXJuLFxuLy8gVW5hcnlPcGVyYXRvcixcbi8vIFByb3BlcnR5QmluZGluZyxcbi8vIENhbGxCaW5kaW5nLFxuLy8gSVBhcnRpYWxDb25uZWN0YWJsZUJpbmRpbmcsXG4vLyBJQ29ubmVjdGFibGVCaW5kaW5nLFxuLy8gY29ubmVjdGFibGUsXG4vLyBJRXhwcmVzc2lvblBhcnNlcixcbi8vIEJpbmRpbmdUeXBlLFxuLy8gTXVsdGlJbnRlcnBvbGF0aW9uQmluZGluZyxcbi8vIEludGVycG9sYXRpb25CaW5kaW5nLFxuLy8gTGV0QmluZGluZyxcbi8vIFJlZkJpbmRpbmcsXG4vLyBBcnJheU9ic2VydmVyLFxuLy8gZW5hYmxlQXJyYXlPYnNlcnZhdGlvbixcbi8vIGRpc2FibGVBcnJheU9ic2VydmF0aW9uLFxuLy8gYXBwbHlNdXRhdGlvbnNUb0luZGljZXMsXG4vLyBzeW5jaHJvbml6ZUluZGljZXMsXG4vLyBNYXBPYnNlcnZlcixcbi8vIGVuYWJsZU1hcE9ic2VydmF0aW9uLFxuLy8gZGlzYWJsZU1hcE9ic2VydmF0aW9uLFxuLy8gU2V0T2JzZXJ2ZXIsXG4vLyBlbmFibGVTZXRPYnNlcnZhdGlvbixcbi8vIGRpc2FibGVTZXRPYnNlcnZhdGlvbixcbi8vIEJpbmRpbmdDb250ZXh0LFxuLy8gT3ZlcnJpZGVDb250ZXh0LFxuLy8gQ29sbGVjdGlvbkxlbmd0aE9ic2VydmVyLFxuLy8gQ29sbGVjdGlvblNpemVPYnNlcnZlcixcbi8vIElEaXJ0eUNoZWNrZXIsXG4vLyBEaXJ0eUNoZWNrUHJvcGVydHksXG4vLyBEaXJ0eUNoZWNrU2V0dGluZ3MsXG5Db21wdXRlZE9ic2VydmVyLCBDb21wdXRlZFdhdGNoZXIsIEV4cHJlc3Npb25XYXRjaGVyLCBXYXRjaCwgd2F0Y2gsIFxuLy8gSU9iamVjdE9ic2VydmF0aW9uQWRhcHRlcixcbklPYnNlcnZlckxvY2F0b3IsIFxuLy8gSVRhcmdldE9ic2VydmVyTG9jYXRvcixcbi8vIElUYXJnZXRBY2Nlc3NvckxvY2F0b3IsXG4vLyBnZXRDb2xsZWN0aW9uT2JzZXJ2ZXIsXG4vLyBPYnNlcnZlckxvY2F0b3IsXG4vLyBQcmltaXRpdmVPYnNlcnZlcixcbi8vIFByb3BlcnR5QWNjZXNzb3IsXG4vLyBCaW5kYWJsZU9ic2VydmVyLFxuLy8gU2V0dGVyT2JzZXJ2ZXIsXG5JU2lnbmFsZXIsIHN1YnNjcmliZXJDb2xsZWN0aW9uLCBiaW5kaW5nQmVoYXZpb3IsIEJpbmRpbmdCZWhhdmlvciwgXG4vLyBQYXJ0aWFsQmluZGluZ0JlaGF2aW9yRGVmaW5pdGlvbixcbi8vIEJpbmRpbmdCZWhhdmlvcktpbmQsXG4vLyBCaW5kaW5nQmVoYXZpb3JEZWNvcmF0b3IsXG4vLyBCaW5kaW5nQmVoYXZpb3JJbnN0YW5jZSxcbi8vIEJpbmRpbmdCZWhhdmlvclR5cGUsXG4vLyBCaW5kaW5nTW9kZUJlaGF2aW9yLFxuLy8gT25lVGltZUJpbmRpbmdCZWhhdmlvcixcbi8vIFRvVmlld0JpbmRpbmdCZWhhdmlvcixcbi8vIEZyb21WaWV3QmluZGluZ0JlaGF2aW9yLFxuLy8gVHdvV2F5QmluZGluZ0JlaGF2aW9yLFxuLy8gRGVib3VuY2VCaW5kaW5nQmVoYXZpb3IsXG4vLyBTaWduYWxhYmxlQmluZGluZyxcbi8vIFNpZ25hbEJpbmRpbmdCZWhhdmlvcixcbi8vIFRocm90dGxlQmluZGluZ0JlaGF2aW9yLFxuY3VzdG9tQXR0cmlidXRlLCBcbi8vIEN1c3RvbUF0dHJpYnV0ZURlY29yYXRvcixcbkN1c3RvbUF0dHJpYnV0ZSwgXG4vLyBDdXN0b21BdHRyaWJ1dGVEZWZpbml0aW9uXG4vLyBDdXN0b21BdHRyaWJ1dGVLaW5kLFxuLy8gQ3VzdG9tQXR0cmlidXRlVHlwZSxcbi8vIFBhcnRpYWxDdXN0b21BdHRyaWJ1dGVEZWZpbml0aW9uLFxudGVtcGxhdGVDb250cm9sbGVyLCBcbi8vIEZyZXF1ZW50TXV0YXRpb25zLFxuLy8gSW5mcmVxdWVudE11dGF0aW9ucyxcbi8vIE9ic2VydmVTaGFsbG93LFxuLy8gSWYsXG4vLyBFbHNlLFxuLy8gUmVwZWF0LFxuLy8gUmVwbGFjZWFibGUsXG4vLyBXaXRoLFxuY29udGFpbmVybGVzcywgY3VzdG9tRWxlbWVudCwgQ3VzdG9tRWxlbWVudCwgXG4vLyBDdXN0b21FbGVtZW50RGVjb3JhdG9yLFxuLy8gQ3VzdG9tRWxlbWVudEtpbmQsXG4vLyBDdXN0b21FbGVtZW50VHlwZSxcbi8vIEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLFxuLy8gUGFydGlhbEN1c3RvbUVsZW1lbnREZWZpbml0aW9uLFxuLy8gSUVsZW1lbnRQcm9qZWN0b3IsXG4vLyBJUHJvamVjdG9yTG9jYXRvcixcbnVzZVNoYWRvd0RPTSwgVmFsdWVDb252ZXJ0ZXIsIFxuLy8gVmFsdWVDb252ZXJ0ZXJUeXBlLFxudmFsdWVDb252ZXJ0ZXIsIFxuLy8gSVNhbml0aXplcixcbi8vIFNhbml0aXplVmFsdWVDb252ZXJ0ZXIsXG4vLyBWaWV3VmFsdWVDb252ZXJ0ZXIsXG4vLyBDbG9jayxcbi8vIElDbG9jayxcbi8vIElDbG9ja1NldHRpbmdzLFxuLy8gSVRhc2ssXG4vLyBUYXNrUXVldWUsXG4vLyBRdWV1ZVRhc2tPcHRpb25zLFxuLy8gVGFzayxcbi8vIFRhc2tBYm9ydEVycm9yLFxuLy8gVGFza0NhbGxiYWNrLFxuLy8gVGFza1F1ZXVlLFxuQXBwVGFzaywgVGFza1F1ZXVlUHJpb3JpdHksIFxuLy8gVGFza1N0YXR1cyxcbi8vIFF1ZXVlVGFza1RhcmdldE9wdGlvbnMsXG5iaW5kYWJsZSwgXG4vLyBCaW5kYWJsZURlZmluaXRpb24sXG5CaW5kYWJsZSwgXG4vLyBQYXJ0aWFsQ2hpbGRyZW5EZWZpbml0aW9uLFxuLy8gQ2hpbGRyZW5EZWZpbml0aW9uLFxuLy8gQ2hpbGRyZW4sXG5jaGlsZHJlbiwgXG4vLyBUaGVzZSBleHBvcnRzIGFyZSB0ZW1wb3JhcnkgdW50aWwgd2UgaGF2ZSBhIHByb3BlciB3YXkgdG8gdW5pdCB0ZXN0IHRoZW1cbkNvbnRyb2xsZXIsIFZpZXdGYWN0b3J5LCBcbi8vIElWaWV3TG9jYXRvcixcbi8vIFZpZXdMb2NhdG9yLFxuLy8gdmlldyxcbi8vIFZpZXdzLFxuLy8gQXVyZWxpYSwgLy8gUmVwbGFjZWQgYnkgcXVpY2stc3RhcnQgd3JhcHBlclxuLy8gSURPTUluaXRpYWxpemVyLFxuLy8gSVNpbmdsZVBhZ2VBcHAsXG5JQXBwUm9vdCwgSVdvcmtUcmFja2VyLCBcbi8vIElmUmVnaXN0cmF0aW9uLFxuLy8gRWxzZVJlZ2lzdHJhdGlvbixcbi8vIFJlcGVhdFJlZ2lzdHJhdGlvbixcbi8vIFJlcGxhY2VhYmxlUmVnaXN0cmF0aW9uLFxuLy8gV2l0aFJlZ2lzdHJhdGlvbixcbi8vIFNhbml0aXplVmFsdWVDb252ZXJ0ZXJSZWdpc3RyYXRpb24sXG4vLyBEZWJvdW5jZUJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbixcbi8vIE9uZVRpbWVCaW5kaW5nQmVoYXZpb3JSZWdpc3RyYXRpb24sXG4vLyBUb1ZpZXdCaW5kaW5nQmVoYXZpb3JSZWdpc3RyYXRpb24sXG4vLyBGcm9tVmlld0JpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbixcbi8vIFNpZ25hbEJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbixcbi8vIFRocm90dGxlQmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLFxuLy8gVHdvV2F5QmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLFxuLy8gUmVmQmluZGluZ1JlbmRlcmVyUmVnaXN0cmF0aW9uLFxuLy8gQ2FsbEJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbixcbi8vIEN1c3RvbUF0dHJpYnV0ZVJlbmRlcmVyUmVnaXN0cmF0aW9uLFxuLy8gQ3VzdG9tRWxlbWVudFJlbmRlcmVyUmVnaXN0cmF0aW9uLFxuLy8gSW50ZXJwb2xhdGlvbkJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbixcbi8vIEl0ZXJhdG9yQmluZGluZ1JlbmRlcmVyUmVnaXN0cmF0aW9uLFxuLy8gTGV0RWxlbWVudFJlbmRlcmVyUmVnaXN0cmF0aW9uLFxuLy8gUHJvcGVydHlCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24sXG4vLyBTZXRQcm9wZXJ0eVJlbmRlcmVyUmVnaXN0cmF0aW9uLFxuLy8gVGVtcGxhdGVDb250cm9sbGVyUmVuZGVyZXJSZWdpc3RyYXRpb24sXG4vLyBEZWZhdWx0UmVzb3VyY2VzIGFzIFJ1bnRpbWVEZWZhdWx0UmVzb3VyY2VzLFxuLy8gSU9ic2VydmVyTG9jYXRvclJlZ2lzdHJhdGlvbixcbi8vIElSZW5kZXJlclJlZ2lzdHJhdGlvbixcbi8vIFJ1bnRpbWVDb25maWd1cmF0aW9uLFxuLy8gQXR0cmlidXRlSW5zdHJ1Y3Rpb24sXG4vLyBJQ2FsbEJpbmRpbmdJbnN0cnVjdGlvbixcbi8vIElIeWRyYXRlQXR0cmlidXRlSW5zdHJ1Y3Rpb24sXG4vLyBJSHlkcmF0ZUVsZW1lbnRJbnN0cnVjdGlvbixcbi8vIElIeWRyYXRlTGV0RWxlbWVudEluc3RydWN0aW9uLFxuLy8gSUh5ZHJhdGVUZW1wbGF0ZUNvbnRyb2xsZXIsXG4vLyBJSW50ZXJwb2xhdGlvbkluc3RydWN0aW9uLFxuLy8gSUl0ZXJhdG9yQmluZGluZ0luc3RydWN0aW9uLFxuLy8gSUxldEJpbmRpbmdJbnN0cnVjdGlvbixcbi8vIElJbnN0cnVjdGlvblJvdyxcbi8vIEluc3RydWN0aW9uVHlwZU5hbWUsXG4vLyBJUHJvcGVydHlCaW5kaW5nSW5zdHJ1Y3Rpb24sXG4vLyBJUmVmQmluZGluZ0luc3RydWN0aW9uLFxuLy8gSVNldFByb3BlcnR5SW5zdHJ1Y3Rpb24sXG4vLyBpc0luc3RydWN0aW9uLFxuLy8gSUluc3RydWN0aW9uLFxuLy8gTm9kZUluc3RydWN0aW9uLFxuLy8gSUluc3RydWN0aW9uLFxuLy8gSW5zdHJ1Y3Rpb25UeXBlLFxuLy8gUGFydGlhbEN1c3RvbUVsZW1lbnREZWZpbml0aW9uUGFydHMsXG5hbGlhcywgcmVnaXN0ZXJBbGlhc2VzLCBcbi8vIERPTSwgc2hvdWxkIGV4cG9zZSB0aGUgb25lIGV4cG9ydGVkIGluIHJ1bnRpbWUtaHRtbFxuSU5vZGUsIElFdmVudFRhcmdldCwgSVJlbmRlckxvY2F0aW9uLCBcbi8vIE5vZGVTZXF1ZW5jZSxcbi8vIElOb2RlU2VxdWVuY2UsXG4vLyBJTm9kZVNlcXVlbmNlRmFjdG9yeSxcbkJpbmRpbmdNb2RlLCBcbi8vIEV4cHJlc3Npb25LaW5kLFxuLy8gSG9va3MsXG5MaWZlY3ljbGVGbGFncywgXG4vLyBJT2JzZXJ2YWJsZSxcbi8vIElPYnNlcnZlZEFycmF5LFxuLy8gSU9ic2VydmVkTWFwLFxuLy8gSU9ic2VydmVkU2V0LFxuLy8gSU92ZXJyaWRlQ29udGV4dCxcbi8vIFNjb3BlLFxuLy8gSVN1YnNjcmliYWJsZSxcbi8vIElTdWJzY3JpYmVyQ29sbGVjdGlvbixcbi8vIE9ic2VydmVkQ29sbGVjdGlvbixcbi8vIENvbGxlY3Rpb25PYnNlcnZlcixcbi8vIElDb2xsZWN0aW9uU3Vic2NyaWJlckNvbGxlY3Rpb24sXG4vLyBJQ29sbGVjdGlvblN1YnNjcmliYWJsZSxcbi8vIElTdWJzY3JpYmVyLFxuLy8gaXNJbmRleE1hcCxcbi8vIGNvcHlJbmRleE1hcCxcbi8vIGNsb25lSW5kZXhNYXAsXG4vLyBjcmVhdGVJbmRleE1hcCxcbnJlbmRlcmVyLCBcbi8vIERlZmF1bHRCaW5kaW5nTGFuZ3VhZ2UgYXMgSml0RGVmYXVsdEJpbmRpbmdMYW5ndWFnZSxcbi8vIEppdENvbmZpZ3VyYXRpb24sXG4vLyBBY2Nlc3MsXG4vLyBQcmVjZWRlbmNlLFxuLy8gQ2hhcixcbi8vIFRoZXNlIGV4cG9ydHMgYXJlIHRlbXBvcmFyeSB1bnRpbCB3ZSBoYXZlIGEgcHJvcGVyIHdheSB0byB1bml0IHRlc3QgdGhlbVxuLy8gcGFyc2VFeHByZXNzaW9uLFxuLy8gcGFyc2UsXG4vLyBQYXJzZXJTdGF0ZSxcbi8vIEJpbmRhYmxlSW5mbyxcbi8vIEVsZW1lbnRJbmZvLFxuLy8gQXR0ckluZm8sXG4vLyBBbnlTeW1ib2wsXG4vLyBCaW5kaW5nU3ltYm9sLFxuLy8gQ3VzdG9tQXR0cmlidXRlU3ltYm9sLFxuLy8gQ3VzdG9tRWxlbWVudFN5bWJvbCxcbi8vIEVsZW1lbnRTeW1ib2wsXG4vLyBMZXRFbGVtZW50U3ltYm9sLFxuLy8gTm9kZVN5bWJvbCxcbi8vIFBhcmVudE5vZGVTeW1ib2wsXG4vLyBQbGFpbkF0dHJpYnV0ZVN5bWJvbCxcbi8vIFBsYWluRWxlbWVudFN5bWJvbCxcbi8vIFJlcGxhY2VQYXJ0U3ltYm9sLFxuLy8gUmVzb3VyY2VBdHRyaWJ1dGVTeW1ib2wsXG4vLyBTeW1ib2xGbGFncyxcbi8vIFN5bWJvbFdpdGhCaW5kaW5ncyxcbi8vIFN5bWJvbFdpdGhNYXJrZXIsXG4vLyBTeW1ib2xXaXRoVGVtcGxhdGUsXG4vLyBUZW1wbGF0ZUNvbnRyb2xsZXJTeW1ib2wsXG4vLyBUZXh0U3ltYm9sXG5JQXVyZWxpYSwgXG4vLyBMaXN0ZW5lcixcbi8vIEF0dHJpYnV0ZUJpbmRpbmcsXG4vLyBBdHRyaWJ1dGVOU0FjY2Vzc29yLFxuLy8gSUlucHV0RWxlbWVudCxcbi8vIENoZWNrZWRPYnNlcnZlcixcbi8vIENsYXNzQXR0cmlidXRlQWNjZXNzb3IsXG4vLyBEYXRhQXR0cmlidXRlQWNjZXNzb3IsXG4vLyBFbGVtZW50UHJvcGVydHlBY2Nlc3Nvcixcbi8vIElNYW5hZ2VkRXZlbnQsXG4vLyBMaXN0ZW5lclRyYWNrZXIsXG4vLyBEZWxlZ2F0ZU9yQ2FwdHVyZVN1YnNjcmlwdGlvbixcbi8vIFRyaWdnZXJTdWJzY3JpcHRpb24sXG4vLyBJRWxlbWVudENvbmZpZ3VyYXRpb24sXG4vLyBJRXZlbnREZWxlZ2F0b3IsXG4vLyBJRXZlbnRTdWJzY3JpYmVyLFxuLy8gSUV2ZW50VGFyZ2V0V2l0aExvb2t1cHMsXG4vLyBFdmVudFN1YnNjcmliZXIsXG4vLyBFdmVudFN1YnNjcmlwdGlvbixcbi8vIEV2ZW50RGVsZWdhdG9yLFxuTm9kZU9ic2VydmVyTG9jYXRvciwgXG4vLyBUYXJnZXRBY2Nlc3NvckxvY2F0b3IsXG4vLyBUYXJnZXRPYnNlcnZlckxvY2F0b3IsXG4vLyBJU2VsZWN0RWxlbWVudCxcbi8vIElPcHRpb25FbGVtZW50LFxuLy8gU2VsZWN0VmFsdWVPYnNlcnZlcixcbi8vIFN0eWxlQXR0cmlidXRlQWNjZXNzb3IsXG4vLyBJU1ZHQW5hbHl6ZXIsXG4vLyBWYWx1ZUF0dHJpYnV0ZU9ic2VydmVyLFxuLy8gQXR0ckJpbmRpbmdCZWhhdmlvcixcbi8vIFNlbGZhYmxlQmluZGluZyxcbi8vIFNlbGZCaW5kaW5nQmVoYXZpb3IsXG4vLyBVcGRhdGVUcmlnZ2VyQmluZGluZ0JlaGF2aW9yLFxuLy8gVXBkYXRlVHJpZ2dlcmFibGVCaW5kaW5nLFxuLy8gVXBkYXRlVHJpZ2dlcmFibGVPYnNlcnZlcixcbi8vIEJsdXIsXG4vLyBCbHVyTWFuYWdlcixcbi8vIEZvY3VzLFxuLy8gUG9ydGFsLFxuLy8gUG9ydGFsVGFyZ2V0LFxuLy8gUG9ydGFsTGlmZWN5Y2xlQ2FsbGJhY2ssXG4vLyBTdWJqZWN0LFxuLy8gQ29tcG9zZSxcbklBdVNsb3RzSW5mbywgQXVTbG90c0luZm8sIFxuLy8gSVByb2plY3RvckxvY2F0b3JSZWdpc3RyYXRpb24sXG4vLyBJVGFyZ2V0QWNjZXNzb3JMb2NhdG9yUmVnaXN0cmF0aW9uLFxuLy8gSVRhcmdldE9ic2VydmVyTG9jYXRvclJlZ2lzdHJhdGlvbixcbi8vIElUZW1wbGF0ZUZhY3RvcnlSZWdpc3RyYXRpb24sXG4vLyBEZWZhdWx0Q29tcG9uZW50cyBhcyBSdW50aW1lSHRtbERlZmF1bHRDb21wb25lbnRzLFxuLy8gQ29tcGlsZWRUZW1wbGF0ZSxcbi8vIENoaWxkcmVuT2JzZXJ2ZXIsXG4vLyBJUmVuZGVyZXIsXG4vLyBJSW5zdHJ1Y3Rpb25UeXBlQ2xhc3NpZmllcixcbi8vIElSZW5kZXJpbmdFbmdpbmUsXG4vLyBJVGVtcGxhdGUsXG4vLyBJVGVtcGxhdGVDb21waWxlcixcbi8vIElUZW1wbGF0ZUZhY3RvcnksXG4vLyBSZW5kZXJDb250ZXh0XG4vLyBBdHRyU3ludGF4LFxuLy8gSUF0dHJpYnV0ZVBhcnNlcixcbmF0dHJpYnV0ZVBhdHRlcm4sIFxuLy8gQXR0cmlidXRlUGF0dGVybkRlZmluaXRpb24sXG5JQXR0cmlidXRlUGF0dGVybiwgXG4vLyBJQXR0cmlidXRlUGF0dGVybkhhbmRsZXIsXG4vLyBJbnRlcnByZXRhdGlvbixcbi8vIElTeW50YXhJbnRlcnByZXRlcixcbklBdHRyU3ludGF4VHJhbnNmb3JtZXIsIFxuLy8gQXRQcmVmaXhlZFRyaWdnZXJBdHRyaWJ1dGVQYXR0ZXJuLFxuLy8gQ29sb25QcmVmaXhlZEJpbmRBdHRyaWJ1dGVQYXR0ZXJuLFxuLy8gRG90U2VwYXJhdGVkQXR0cmlidXRlUGF0dGVybixcbi8vIFJlZkF0dHJpYnV0ZVBhdHRlcm4sXG5iaW5kaW5nQ29tbWFuZCwgXG4vLyBCaW5kaW5nQ29tbWFuZERlZmluaXRpb24sXG4vLyBCaW5kaW5nQ29tbWFuZEtpbmQsXG4vLyBCaW5kaW5nQ29tbWFuZFR5cGUsXG5nZXRUYXJnZXQsIFxuLy8gQ2FsbEJpbmRpbmdDb21tYW5kLFxuLy8gRGVmYXVsdEJpbmRpbmdDb21tYW5kLFxuLy8gRm9yQmluZGluZ0NvbW1hbmQsXG4vLyBGcm9tVmlld0JpbmRpbmdDb21tYW5kLFxuLy8gT25lVGltZUJpbmRpbmdDb21tYW5kLFxuLy8gVG9WaWV3QmluZGluZ0NvbW1hbmQsXG4vLyBUd29XYXlCaW5kaW5nQ29tbWFuZCxcbi8vIElFeHByZXNzaW9uUGFyc2VyUmVnaXN0cmF0aW9uLFxuLy8gRGVmYXVsdENvbXBvbmVudHMgYXMgSml0RGVmYXVsdENvbXBvbmVudHMsXG4vLyBSZWZBdHRyaWJ1dGVQYXR0ZXJuUmVnaXN0cmF0aW9uLFxuLy8gRG90U2VwYXJhdGVkQXR0cmlidXRlUGF0dGVyblJlZ2lzdHJhdGlvbixcbi8vIERlZmF1bHRCaW5kaW5nU3ludGF4LFxuLy8gQXRQcmVmaXhlZFRyaWdnZXJBdHRyaWJ1dGVQYXR0ZXJuUmVnaXN0cmF0aW9uLFxuLy8gQ29sb25QcmVmaXhlZEJpbmRBdHRyaWJ1dGVQYXR0ZXJuUmVnaXN0cmF0aW9uLFxuU2hvcnRIYW5kQmluZGluZ1N5bnRheCwgXG4vLyBDYWxsQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4vLyBEZWZhdWx0QmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4vLyBGb3JCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbixcbi8vIEZyb21WaWV3QmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4vLyBPbmVUaW1lQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4vLyBUb1ZpZXdCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbixcbi8vIFR3b1dheUJpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uLFxuLy8gQXR0ckJpbmRpbmdCZWhhdmlvclJlZ2lzdHJhdGlvbixcbi8vIFNlbGZCaW5kaW5nQmVoYXZpb3JSZWdpc3RyYXRpb24sXG4vLyBVcGRhdGVUcmlnZ2VyQmluZGluZ0JlaGF2aW9yUmVnaXN0cmF0aW9uLFxuLy8gQ29tcG9zZVJlZ2lzdHJhdGlvbixcbi8vIERlZmF1bHRSZXNvdXJjZXMgYXMgUnVudGltZUh0bWxEZWZhdWx0UmVzb3VyY2VzLFxuLy8gQXR0cmlidXRlQmluZGluZ1JlbmRlcmVyUmVnaXN0cmF0aW9uLFxuLy8gTGlzdGVuZXJCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24sXG4vLyBTZXRBdHRyaWJ1dGVSZW5kZXJlclJlZ2lzdHJhdGlvbixcbi8vIFNldENsYXNzQXR0cmlidXRlUmVuZGVyZXJSZWdpc3RyYXRpb24sXG4vLyBTZXRTdHlsZUF0dHJpYnV0ZVJlbmRlcmVyUmVnaXN0cmF0aW9uLFxuLy8gU3R5bGVQcm9wZXJ0eUJpbmRpbmdSZW5kZXJlclJlZ2lzdHJhdGlvbixcbi8vIFRleHRCaW5kaW5nUmVuZGVyZXJSZWdpc3RyYXRpb24sXG4vLyBEZWZhdWx0UmVuZGVyZXJzLFxuLy8gU3RhbmRhcmRDb25maWd1cmF0aW9uLFxuY3JlYXRlRWxlbWVudCwgXG4vLyBSZW5kZXJQbGFuLFxuLy8gQXR0cmlidXRlSW5zdHJ1Y3Rpb24sXG4vLyBJSW5zdHJ1Y3Rpb25Sb3csXG4vLyBOb2RlSW5zdHJ1Y3Rpb24sXG4vLyBJSW5zdHJ1Y3Rpb24sXG4vLyBJbnN0cnVjdGlvblR5cGUsXG4vLyBJQXR0cmlidXRlQmluZGluZ0luc3RydWN0aW9uLFxuLy8gSUxpc3RlbmVyQmluZGluZ0luc3RydWN0aW9uLFxuLy8gSVNldEF0dHJpYnV0ZUluc3RydWN0aW9uLFxuLy8gaXNJbnN0cnVjdGlvbixcbi8vIElTdHlsZVByb3BlcnR5QmluZGluZ0luc3RydWN0aW9uLFxuLy8gSVRleHRCaW5kaW5nSW5zdHJ1Y3Rpb24sXG4vLyBOb2RlU2VxdWVuY2VGYWN0b3J5LFxuLy8gRnJhZ21lbnROb2RlU2VxdWVuY2UsXG4vLyBBdHRyaWJ1dGVCaW5kaW5nSW5zdHJ1Y3Rpb24sXG4vLyBTZXRBdHRyaWJ1dGVJbnN0cnVjdGlvbixcbi8vIFNldENsYXNzQXR0cmlidXRlSW5zdHJ1Y3Rpb24sXG4vLyBTZXRTdHlsZUF0dHJpYnV0ZUluc3RydWN0aW9uLFxuLy8gU3R5bGVQcm9wZXJ0eUJpbmRpbmdJbnN0cnVjdGlvbixcbi8vIFRleHRCaW5kaW5nSW5zdHJ1Y3Rpb24sXG4vLyBDb250YWluZXJsZXNzUHJvamVjdG9yLFxuLy8gSG9zdFByb2plY3Rvcixcbi8vIEhUTUxQcm9qZWN0b3JMb2NhdG9yLFxuLy8gU2hhZG93RE9NUHJvamVjdG9yLFxuU3R5bGVDb25maWd1cmF0aW9uLCBcbi8vIENTU01vZHVsZXNQcm9jZXNzb3JSZWdpc3RyeSxcbmNzc01vZHVsZXMsIFxuLy8gU2hhZG93RE9NUmVnaXN0cnksXG4vLyBJU2hhZG93RE9NU3R5bGVGYWN0b3J5LFxuc2hhZG93Q1NTLCBcbi8vIEFkb3B0ZWRTdHlsZVNoZWV0c1N0eWxlcyxcbi8vIFN0eWxlRWxlbWVudFN0eWxlcyxcbi8vIElTaGFkb3dET01TdHlsZXMsXG4vLyBJU2hhZG93RE9NR2xvYmFsU3R5bGVzXG4vLyBJQXR0clN5bnRheFRyYW5zZm9ybWVyLFxuLy8gVHJpZ2dlckJpbmRpbmdDb21tYW5kLFxuLy8gRGVsZWdhdGVCaW5kaW5nQ29tbWFuZCxcbi8vIENhcHR1cmVCaW5kaW5nQ29tbWFuZCxcbi8vIEF0dHJCaW5kaW5nQ29tbWFuZCxcbi8vIENsYXNzQmluZGluZ0NvbW1hbmQsXG4vLyBTdHlsZUJpbmRpbmdDb21tYW5kLFxuLy8gSVRlbXBsYXRlQ29tcGlsZXJSZWdpc3RyYXRpb24sXG4vLyBJVGVtcGxhdGVFbGVtZW50RmFjdG9yeVJlZ2lzdHJhdGlvbixcbi8vIElBdHRyU3ludGF4VHJhbnNmb3JtZXJSZWdpc3RhdGlvbixcbi8vIERlZmF1bHRDb21wb25lbnRzIGFzIEppdEh0bWxEZWZhdWx0Q29tcG9uZW50cyxcbi8vIFRyaWdnZXJCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbixcbi8vIERlbGVnYXRlQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4vLyBDYXB0dXJlQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4vLyBBdHRyQmluZGluZ0NvbW1hbmRSZWdpc3RyYXRpb24sXG4vLyBDbGFzc0JpbmRpbmdDb21tYW5kUmVnaXN0cmF0aW9uLFxuLy8gU3R5bGVCaW5kaW5nQ29tbWFuZFJlZ2lzdHJhdGlvbixcbi8vIERlZmF1bHRCaW5kaW5nTGFuZ3VhZ2UgYXMgSml0SHRtbERlZmF1bHRCaW5kaW5nTGFuZ3VhZ2UsXG4vLyBTdGFuZGFyZENvbmZpZ3VyYXRpb24sXG4vLyBzdHJpbmdpZnlET00sXG4vLyBzdHJpbmdpZnlJbnN0cnVjdGlvbnMsXG4vLyBzdHJpbmdpZnlUZW1wbGF0ZURlZmluaXRpb24sXG4vLyBUZW1wbGF0ZUJpbmRlcixcbi8vIElUZW1wbGF0ZUVsZW1lbnRGYWN0b3J5LFxuSUxpZmVjeWNsZUhvb2tzLCBMaWZlY3ljbGVIb29rcywgbGlmZWN5Y2xlSG9va3MsIH0gZnJvbSAnQGF1cmVsaWEvcnVudGltZS1odG1sJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBOEVBO0FBQ0E7QUFnZUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/aurelia/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./app/app.css":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./app/app.css ***!
  \*********************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"body {\\n\\tmargin: 1em;\\n\\tpadding: 1em;\\n}\", \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s0XS51c2VbMl0hLi9hcHAvYXBwLmNzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL2FwcC9hcHAuY3NzP2I2ZmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZ1bmN0aW9uKGkpe3JldHVybiBpWzFdfSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJib2R5IHtcXG5cXHRtYXJnaW46IDFlbTtcXG5cXHRwYWRkaW5nOiAxZW07XFxufVwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./app/app.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcz8yNGZiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/api.js\n");

/***/ }),

/***/ "./app/app.css":
/*!*********************!*\
  !*** ./app/app.css ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_4_use_2_app_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./app.css */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./app/app.css\");\n\n            \n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_4_use_2_app_css__WEBPACK_IMPORTED_MODULE_1__.default, options);\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_postcss_loader_dist_cjs_js_ruleSet_1_rules_4_use_2_app_css__WEBPACK_IMPORTED_MODULE_1__.default.locals || {});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvYXBwLmNzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL2FwcC9hcHAuY3NzP2U2MzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFwaSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgICAgICAgaW1wb3J0IGNvbnRlbnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzRdLnVzZVsyXSEuL2FwcC5jc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/app.css\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : 0;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanM/MmRiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\n");

/***/ }),

/***/ "./app/app.ts":
/*!********************!*\
  !*** ./app/app.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"App\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var _app_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app.html */ \"./app/app.html\");\n/* harmony import */ var _aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aurelia/runtime-html */ \"./node_modules/@aurelia/runtime-html/dist/esm/index.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\nlet App = class App {\n    constructor() {\n        this.message = 'Hello World!';\n    }\n};\nApp = __decorate([\n    (0,_aurelia_runtime_html__WEBPACK_IMPORTED_MODULE_1__.customElement)(_app_html__WEBPACK_IMPORTED_MODULE_0__)\n], App);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvYXBwLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vYXBwL2FwcC50cz81OGIzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCAqIGFzIF9fYXUyVmlld0RlZiBmcm9tICcuL2FwcC5odG1sJztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICdAYXVyZWxpYS9ydW50aW1lLWh0bWwnO1xubGV0IEFwcCA9IGNsYXNzIEFwcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdIZWxsbyBXb3JsZCEnO1xuICAgIH1cbn07XG5BcHAgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KF9fYXUyVmlld0RlZilcbl0sIEFwcCk7XG5leHBvcnQgeyBBcHAgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/app.ts\n");

/***/ }),

/***/ "./app/main.ts":
/*!*********************!*\
  !*** ./app/main.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var aurelia__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia */ \"./node_modules/aurelia/dist/esm/index.js\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app */ \"./app/app.ts\");\n\n\naurelia__WEBPACK_IMPORTED_MODULE_0__.default.app(_app__WEBPACK_IMPORTED_MODULE_1__.App)\n    .start();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvbWFpbi50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL2FwcC9tYWluLnRzP2I4MDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEF1cmVsaWEgZnJvbSAnYXVyZWxpYSc7XG5pbXBvcnQgeyBBcHAgfSBmcm9tICcuL2FwcCc7XG5BdXJlbGlhXG4gICAgLmFwcChBcHApXG4gICAgLnN0YXJ0KCk7XG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQSxnREFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/main.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./app/main.ts");
/******/ 	
/******/ })()
;